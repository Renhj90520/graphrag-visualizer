var oie=Object.defineProperty;var sie=(n,e,i)=>e in n?oie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var aie=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var tB=(n,e,i)=>sie(n,typeof e!="symbol"?e+"":e,i);var X7e=aie((Ju,ec)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function KP(n){const e=Object.create(null);for(const i of n.split(","))e[i]=1;return i=>i in e}const ci={},mg=[],Nl=()=>{},lie=()=>!1,s1=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),qP=n=>n.startsWith("onUpdate:"),Cr=Object.assign,XP=(n,e)=>{const i=n.indexOf(e);i>-1&&n.splice(i,1)},uie=Object.prototype.hasOwnProperty,Zn=(n,e)=>uie.call(n,e),jt=Array.isArray,vg=n=>a1(n)==="[object Map]",O8=n=>a1(n)==="[object Set]",Jt=n=>typeof n=="function",qi=n=>typeof n=="string",Gd=n=>typeof n=="symbol",mi=n=>n!==null&&typeof n=="object",D8=n=>(mi(n)||Jt(n))&&Jt(n.then)&&Jt(n.catch),L8=Object.prototype.toString,a1=n=>L8.call(n),cie=n=>a1(n).slice(8,-1),B8=n=>a1(n)==="[object Object]",YP=n=>qi(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,fy=KP(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),l1=n=>{const e=Object.create(null);return i=>e[i]||(e[i]=n(i))},die=/-(\w)/g,ya=l1(n=>n.replace(die,(e,i)=>i?i.toUpperCase():"")),fie=/\B([A-Z])/g,Oh=l1(n=>n.replace(fie,"-$1").toLowerCase()),u1=l1(n=>n.charAt(0).toUpperCase()+n.slice(1)),HA=l1(n=>n?`on${u1(n)}`:""),Ad=(n,e)=>!Object.is(n,e),GA=(n,...e)=>{for(let i=0;i<n.length;i++)n[i](...e)},F8=(n,e,i,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:i})},hie=n=>{const e=parseFloat(n);return isNaN(e)?n:e},pie=n=>{const e=qi(n)?Number(n):NaN;return isNaN(e)?n:e};let nB;const c1=()=>nB||(nB=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function QP(n){if(jt(n)){const e={};for(let i=0;i<n.length;i++){const r=n[i],o=qi(r)?yie(r):QP(r);if(o)for(const s in o)e[s]=o[s]}return e}else if(qi(n)||mi(n))return n}const gie=/;(?![^(]*\))/g,mie=/:([^]+)/,vie=/\/\*[^]*?\*\//g;function yie(n){const e={};return n.replace(vie,"").split(gie).forEach(i=>{if(i){const r=i.split(mie);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ZP(n){let e="";if(qi(n))e=n;else if(jt(n))for(let i=0;i<n.length;i++){const r=ZP(n[i]);r&&(e+=r+" ")}else if(mi(n))for(const i in n)n[i]&&(e+=i+" ");return e.trim()}const bie="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xie=KP(bie);function $8(n){return!!n||n===""}const U8=n=>!!(n&&n.__v_isRef===!0),dn=n=>qi(n)?n:n==null?"":jt(n)||mi(n)&&(n.toString===L8||!Jt(n.toString))?U8(n)?dn(n.value):JSON.stringify(n,k8,2):String(n),k8=(n,e)=>U8(e)?k8(n,e.value):vg(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[r,o],s)=>(i[VA(r,s)+" =>"]=o,i),{})}:O8(e)?{[`Set(${e.size})`]:[...e.values()].map(i=>VA(i))}:Gd(e)?VA(e):mi(e)&&!jt(e)&&!B8(e)?String(e):e,VA=(n,e="")=>{var i;return Gd(n)?`Symbol(${(i=n.description)!=null?i:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Eo;class z8{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Eo,!e&&Eo&&(this.index=(Eo.scopes||(Eo.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].pause();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].resume();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].resume()}}run(e){if(this._active){const i=Eo;try{return Eo=this,e()}finally{Eo=i}}}on(){Eo=this}off(){Eo=this.parent}stop(e){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function H8(n){return new z8(n)}function G8(){return Eo}function _ie(n,e=!1){Eo&&Eo.cleanups.push(n)}let pi;const WA=new WeakSet;class V8{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Eo&&Eo.active&&Eo.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,WA.has(this)&&(WA.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||j8(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,iB(this),K8(this);const e=pi,i=Qa;pi=this,Qa=!0;try{return this.fn()}finally{q8(this),pi=e,Qa=i,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)tI(e);this.deps=this.depsTail=void 0,iB(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?WA.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){h2(this)&&this.run()}get dirty(){return h2(this)}}let W8=0,hy,py;function j8(n,e=!1){if(n.flags|=8,e){n.next=py,py=n;return}n.next=hy,hy=n}function JP(){W8++}function eI(){if(--W8>0)return;if(py){let e=py;for(py=void 0;e;){const i=e.next;e.next=void 0,e.flags&=-9,e=i}}let n;for(;hy;){let e=hy;for(hy=void 0;e;){const i=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=i}}if(n)throw n}function K8(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function q8(n){let e,i=n.depsTail,r=i;for(;r;){const o=r.prevDep;r.version===-1?(r===i&&(i=o),tI(r),Sie(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}n.deps=e,n.depsTail=i}function h2(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(X8(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function X8(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===ky))return;n.globalVersion=ky;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!h2(n)){n.flags&=-3;return}const i=pi,r=Qa;pi=n,Qa=!0;try{K8(n);const o=n.fn(n._value);(e.version===0||Ad(o,n._value))&&(n._value=o,e.version++)}catch(o){throw e.version++,o}finally{pi=i,Qa=r,q8(n),n.flags&=-3}}function tI(n,e=!1){const{dep:i,prevSub:r,nextSub:o}=n;if(r&&(r.nextSub=o,n.prevSub=void 0),o&&(o.prevSub=r,n.nextSub=void 0),i.subs===n&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let s=i.computed.deps;s;s=s.nextDep)tI(s,!0)}!e&&!--i.sc&&i.map&&i.map.delete(i.key)}function Sie(n){const{prevDep:e,nextDep:i}=n;e&&(e.nextDep=i,n.prevDep=void 0),i&&(i.prevDep=e,n.nextDep=void 0)}let Qa=!0;const Y8=[];function Vd(){Y8.push(Qa),Qa=!1}function Wd(){const n=Y8.pop();Qa=n===void 0?!0:n}function iB(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const i=pi;pi=void 0;try{e()}finally{pi=i}}}let ky=0;class wie{constructor(e,i){this.sub=e,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class nI{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!pi||!Qa||pi===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==pi)i=this.activeLink=new wie(pi,this),pi.deps?(i.prevDep=pi.depsTail,pi.depsTail.nextDep=i,pi.depsTail=i):pi.deps=pi.depsTail=i,Q8(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=pi.depsTail,i.nextDep=void 0,pi.depsTail.nextDep=i,pi.depsTail=i,pi.deps===i&&(pi.deps=r)}return i}trigger(e){this.version++,ky++,this.notify(e)}notify(e){JP();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{eI()}}}function Q8(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Q8(r)}const i=n.dep.subs;i!==n&&(n.prevSub=i,i&&(i.nextSub=n)),n.dep.subs=n}}const GS=new WeakMap,th=Symbol(""),p2=Symbol(""),zy=Symbol("");function oo(n,e,i){if(Qa&&pi){let r=GS.get(n);r||GS.set(n,r=new Map);let o=r.get(i);o||(r.set(i,o=new nI),o.map=r,o.key=i),o.track()}}function zu(n,e,i,r,o,s){const a=GS.get(n);if(!a){ky++;return}const l=u=>{u&&u.trigger()};if(JP(),e==="clear")a.forEach(l);else{const u=jt(n),c=u&&YP(i);if(u&&i==="length"){const d=Number(r);a.forEach((f,h)=>{(h==="length"||h===zy||!Gd(h)&&h>=d)&&l(f)})}else switch((i!==void 0||a.has(void 0))&&l(a.get(i)),c&&l(a.get(zy)),e){case"add":u?c&&l(a.get("length")):(l(a.get(th)),vg(n)&&l(a.get(p2)));break;case"delete":u||(l(a.get(th)),vg(n)&&l(a.get(p2)));break;case"set":vg(n)&&l(a.get(th));break}}eI()}function Cie(n,e){const i=GS.get(n);return i&&i.get(e)}function op(n){const e=pn(n);return e===n?e:(oo(e,"iterate",zy),fa(n)?e:e.map(so))}function d1(n){return oo(n=pn(n),"iterate",zy),n}const Aie={__proto__:null,[Symbol.iterator](){return jA(this,Symbol.iterator,so)},concat(...n){return op(this).concat(...n.map(e=>jt(e)?op(e):e))},entries(){return jA(this,"entries",n=>(n[1]=so(n[1]),n))},every(n,e){return fu(this,"every",n,e,void 0,arguments)},filter(n,e){return fu(this,"filter",n,e,i=>i.map(so),arguments)},find(n,e){return fu(this,"find",n,e,so,arguments)},findIndex(n,e){return fu(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return fu(this,"findLast",n,e,so,arguments)},findLastIndex(n,e){return fu(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return fu(this,"forEach",n,e,void 0,arguments)},includes(...n){return KA(this,"includes",n)},indexOf(...n){return KA(this,"indexOf",n)},join(n){return op(this).join(n)},lastIndexOf(...n){return KA(this,"lastIndexOf",n)},map(n,e){return fu(this,"map",n,e,void 0,arguments)},pop(){return av(this,"pop")},push(...n){return av(this,"push",n)},reduce(n,...e){return rB(this,"reduce",n,e)},reduceRight(n,...e){return rB(this,"reduceRight",n,e)},shift(){return av(this,"shift")},some(n,e){return fu(this,"some",n,e,void 0,arguments)},splice(...n){return av(this,"splice",n)},toReversed(){return op(this).toReversed()},toSorted(n){return op(this).toSorted(n)},toSpliced(...n){return op(this).toSpliced(...n)},unshift(...n){return av(this,"unshift",n)},values(){return jA(this,"values",so)}};function jA(n,e,i){const r=d1(n),o=r[e]();return r!==n&&!fa(n)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.value&&(s.value=i(s.value)),s}),o}const Tie=Array.prototype;function fu(n,e,i,r,o,s){const a=d1(n),l=a!==n&&!fa(n),u=a[e];if(u!==Tie[e]){const f=u.apply(n,s);return l?so(f):f}let c=i;a!==n&&(l?c=function(f,h){return i.call(this,so(f),h,n)}:i.length>2&&(c=function(f,h){return i.call(this,f,h,n)}));const d=u.call(a,c,r);return l&&o?o(d):d}function rB(n,e,i,r){const o=d1(n);let s=i;return o!==n&&(fa(n)?i.length>3&&(s=function(a,l,u){return i.call(this,a,l,u,n)}):s=function(a,l,u){return i.call(this,a,so(l),u,n)}),o[e](s,...r)}function KA(n,e,i){const r=pn(n);oo(r,"iterate",zy);const o=r[e](...i);return(o===-1||o===!1)&&oI(i[0])?(i[0]=pn(i[0]),r[e](...i)):o}function av(n,e,i=[]){Vd(),JP();const r=pn(n)[e].apply(n,i);return eI(),Wd(),r}const Eie=KP("__proto__,__v_isRef,__isVue"),Z8=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Gd));function Mie(n){Gd(n)||(n=String(n));const e=pn(this);return oo(e,"has",n),e.hasOwnProperty(n)}class J8{constructor(e=!1,i=!1){this._isReadonly=e,this._isShallow=i}get(e,i,r){if(i==="__v_skip")return e.__v_skip;const o=this._isReadonly,s=this._isShallow;if(i==="__v_isReactive")return!o;if(i==="__v_isReadonly")return o;if(i==="__v_isShallow")return s;if(i==="__v_raw")return r===(o?s?$ie:iH:s?nH:tH).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=jt(e);if(!o){let u;if(a&&(u=Aie[i]))return u;if(i==="hasOwnProperty")return Mie}const l=Reflect.get(e,i,Vi(e)?e:r);return(Gd(i)?Z8.has(i):Eie(i))||(o||oo(e,"get",i),s)?l:Vi(l)?a&&YP(i)?l:l.value:mi(l)?o?rH(l):Ki(l):l}}class eH extends J8{constructor(e=!1){super(!1,e)}set(e,i,r,o){let s=e[i];if(!this._isShallow){const u=gh(s);if(!fa(r)&&!gh(r)&&(s=pn(s),r=pn(r)),!jt(e)&&Vi(s)&&!Vi(r))return u?!1:(s.value=r,!0)}const a=jt(e)&&YP(i)?Number(i)<e.length:Zn(e,i),l=Reflect.set(e,i,r,Vi(e)?e:o);return e===pn(o)&&(a?Ad(r,s)&&zu(e,"set",i,r):zu(e,"add",i,r)),l}deleteProperty(e,i){const r=Zn(e,i);e[i];const o=Reflect.deleteProperty(e,i);return o&&r&&zu(e,"delete",i,void 0),o}has(e,i){const r=Reflect.has(e,i);return(!Gd(i)||!Z8.has(i))&&oo(e,"has",i),r}ownKeys(e){return oo(e,"iterate",jt(e)?"length":th),Reflect.ownKeys(e)}}class Rie extends J8{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const Pie=new eH,Iie=new Rie,Nie=new eH(!0),g2=n=>n,Jb=n=>Reflect.getPrototypeOf(n);function Oie(n,e,i){return function(...r){const o=this.__v_raw,s=pn(o),a=vg(s),l=n==="entries"||n===Symbol.iterator&&a,u=n==="keys"&&a,c=o[n](...r),d=i?g2:e?m2:so;return!e&&oo(s,"iterate",u?p2:th),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:l?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function ex(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Die(n,e){const i={get(o){const s=this.__v_raw,a=pn(s),l=pn(o);n||(Ad(o,l)&&oo(a,"get",o),oo(a,"get",l));const{has:u}=Jb(a),c=e?g2:n?m2:so;if(u.call(a,o))return c(s.get(o));if(u.call(a,l))return c(s.get(l));s!==a&&s.get(o)},get size(){const o=this.__v_raw;return!n&&oo(pn(o),"iterate",th),Reflect.get(o,"size",o)},has(o){const s=this.__v_raw,a=pn(s),l=pn(o);return n||(Ad(o,l)&&oo(a,"has",o),oo(a,"has",l)),o===l?s.has(o):s.has(o)||s.has(l)},forEach(o,s){const a=this,l=a.__v_raw,u=pn(l),c=e?g2:n?m2:so;return!n&&oo(u,"iterate",th),l.forEach((d,f)=>o.call(s,c(d),c(f),a))}};return Cr(i,n?{add:ex("add"),set:ex("set"),delete:ex("delete"),clear:ex("clear")}:{add(o){!e&&!fa(o)&&!gh(o)&&(o=pn(o));const s=pn(this);return Jb(s).has.call(s,o)||(s.add(o),zu(s,"add",o,o)),this},set(o,s){!e&&!fa(s)&&!gh(s)&&(s=pn(s));const a=pn(this),{has:l,get:u}=Jb(a);let c=l.call(a,o);c||(o=pn(o),c=l.call(a,o));const d=u.call(a,o);return a.set(o,s),c?Ad(s,d)&&zu(a,"set",o,s):zu(a,"add",o,s),this},delete(o){const s=pn(this),{has:a,get:l}=Jb(s);let u=a.call(s,o);u||(o=pn(o),u=a.call(s,o)),l&&l.call(s,o);const c=s.delete(o);return u&&zu(s,"delete",o,void 0),c},clear(){const o=pn(this),s=o.size!==0,a=o.clear();return s&&zu(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{i[o]=Oie(o,n,e)}),i}function iI(n,e){const i=Die(n,e);return(r,o,s)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(Zn(i,o)&&o in r?i:r,o,s)}const Lie={get:iI(!1,!1)},Bie={get:iI(!1,!0)},Fie={get:iI(!0,!1)},tH=new WeakMap,nH=new WeakMap,iH=new WeakMap,$ie=new WeakMap;function Uie(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kie(n){return n.__v_skip||!Object.isExtensible(n)?0:Uie(cie(n))}function Ki(n){return gh(n)?n:rI(n,!1,Pie,Lie,tH)}function zie(n){return rI(n,!1,Nie,Bie,nH)}function rH(n){return rI(n,!0,Iie,Fie,iH)}function rI(n,e,i,r,o){if(!mi(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=o.get(n);if(s)return s;const a=kie(n);if(a===0)return n;const l=new Proxy(n,a===2?r:i);return o.set(n,l),l}function Td(n){return gh(n)?Td(n.__v_raw):!!(n&&n.__v_isReactive)}function gh(n){return!!(n&&n.__v_isReadonly)}function fa(n){return!!(n&&n.__v_isShallow)}function oI(n){return n?!!n.__v_raw:!1}function pn(n){const e=n&&n.__v_raw;return e?pn(e):n}function sI(n){return!Zn(n,"__v_skip")&&Object.isExtensible(n)&&F8(n,"__v_skip",!0),n}const so=n=>mi(n)?Ki(n):n,m2=n=>mi(n)?rH(n):n;function Vi(n){return n?n.__v_isRef===!0:!1}function Ge(n){return oH(n,!1)}function Oe(n){return oH(n,!0)}function oH(n,e){return Vi(n)?n:new Hie(n,e)}class Hie{constructor(e,i){this.dep=new nI,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?e:pn(e),this._value=i?e:so(e),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(e){const i=this._rawValue,r=this.__v_isShallow||fa(e)||gh(e);e=r?e:pn(e),Ad(e,i)&&(this._rawValue=e,this._value=r?e:so(e),this.dep.trigger())}}function Gie(n){n.dep&&n.dep.trigger()}function ao(n){return Vi(n)?n.value:n}const Vie={get:(n,e,i)=>e==="__v_raw"?n:ao(Reflect.get(n,e,i)),set:(n,e,i,r)=>{const o=n[e];return Vi(o)&&!Vi(i)?(o.value=i,!0):Reflect.set(n,e,i,r)}};function sH(n){return Td(n)?n:new Proxy(n,Vie)}function gy(n){const e=jt(n)?new Array(n.length):{};for(const i in n)e[i]=aH(n,i);return e}class Wie{constructor(e,i,r){this._object=e,this._key=i,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Cie(pn(this._object),this._key)}}class jie{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Jn(n,e,i){return Vi(n)?n:Jt(n)?new jie(n):mi(n)&&arguments.length>1?aH(n,e,i):Ge(n)}function aH(n,e,i){const r=n[e];return Vi(r)?r:new Wie(n,e,i)}class Kie{constructor(e,i,r){this.fn=e,this.setter=i,this._value=void 0,this.dep=new nI(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ky-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&pi!==this)return j8(this,!0),!0}get value(){const e=this.dep.track();return X8(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function qie(n,e,i=!1){let r,o;return Jt(n)?r=n:(r=n.get,o=n.set),new Kie(r,o,i)}const tx={},VS=new WeakMap;let Pf;function Xie(n,e=!1,i=Pf){if(i){let r=VS.get(i);r||VS.set(i,r=[]),r.push(n)}}function Yie(n,e,i=ci){const{immediate:r,deep:o,once:s,scheduler:a,augmentJob:l,call:u}=i,c=w=>o?w:fa(w)||o===!1||o===0?Hu(w,1):Hu(w);let d,f,h,p,g=!1,b=!1;if(Vi(n)?(f=()=>n.value,g=fa(n)):Td(n)?(f=()=>c(n),g=!0):jt(n)?(b=!0,g=n.some(w=>Td(w)||fa(w)),f=()=>n.map(w=>{if(Vi(w))return w.value;if(Td(w))return c(w);if(Jt(w))return u?u(w,2):w()})):Jt(n)?e?f=u?()=>u(n,2):n:f=()=>{if(h){Vd();try{h()}finally{Wd()}}const w=Pf;Pf=d;try{return u?u(n,3,[p]):n(p)}finally{Pf=w}}:f=Nl,e&&o){const w=f,A=o===!0?1/0:o;f=()=>Hu(w(),A)}const y=G8(),m=()=>{d.stop(),y&&y.active&&XP(y.effects,d)};if(s&&e){const w=e;e=(...A)=>{w(...A),m()}}let _=b?new Array(n.length).fill(tx):tx;const S=w=>{if(!(!(d.flags&1)||!d.dirty&&!w))if(e){const A=d.run();if(o||g||(b?A.some((T,C)=>Ad(T,_[C])):Ad(A,_))){h&&h();const T=Pf;Pf=d;try{const C=[A,_===tx?void 0:b&&_[0]===tx?[]:_,p];u?u(e,3,C):e(...C),_=A}finally{Pf=T}}}else d.run()};return l&&l(S),d=new V8(f),d.scheduler=a?()=>a(S,!1):S,p=w=>Xie(w,!1,d),h=d.onStop=()=>{const w=VS.get(d);if(w){if(u)u(w,4);else for(const A of w)A();VS.delete(d)}},e?r?S(!0):_=d.run():a?a(S.bind(null,!0),!0):d.run(),m.pause=d.pause.bind(d),m.resume=d.resume.bind(d),m.stop=m,m}function Hu(n,e=1/0,i){if(e<=0||!mi(n)||n.__v_skip||(i=i||new Set,i.has(n)))return n;if(i.add(n),e--,Vi(n))Hu(n.value,e,i);else if(jt(n))for(let r=0;r<n.length;r++)Hu(n[r],e,i);else if(O8(n)||vg(n))n.forEach(r=>{Hu(r,e,i)});else if(B8(n)){for(const r in n)Hu(n[r],e,i);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&Hu(n[r],e,i)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $0(n,e,i,r){try{return r?n(...r):n()}catch(o){f1(o,e,i)}}function tl(n,e,i,r){if(Jt(n)){const o=$0(n,e,i,r);return o&&D8(o)&&o.catch(s=>{f1(s,e,i)}),o}if(jt(n)){const o=[];for(let s=0;s<n.length;s++)o.push(tl(n[s],e,i,r));return o}}function f1(n,e,i,r=!0){const o=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||ci;if(e){let l=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${i}`;for(;l;){const d=l.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](n,u,c)===!1)return}l=l.parent}if(s){Vd(),$0(s,null,10,[n,u,c]),Wd();return}}Qie(n,i,o,r,a)}function Qie(n,e,i,r=!0,o=!1){if(o)throw n;console.error(n)}const Mo=[];let bl=-1;const yg=[];let fd=null,ng=0;const lH=Promise.resolve();let WS=null;function kn(n){const e=WS||lH;return n?e.then(this?n.bind(this):n):e}function Zie(n){let e=bl+1,i=Mo.length;for(;e<i;){const r=e+i>>>1,o=Mo[r],s=Hy(o);s<n||s===n&&o.flags&2?e=r+1:i=r}return e}function aI(n){if(!(n.flags&1)){const e=Hy(n),i=Mo[Mo.length-1];!i||!(n.flags&2)&&e>=Hy(i)?Mo.push(n):Mo.splice(Zie(e),0,n),n.flags|=1,uH()}}function uH(){WS||(WS=lH.then(dH))}function Jie(n){jt(n)?yg.push(...n):fd&&n.id===-1?fd.splice(ng+1,0,n):n.flags&1||(yg.push(n),n.flags|=1),uH()}function oB(n,e,i=bl+1){for(;i<Mo.length;i++){const r=Mo[i];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;Mo.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function cH(n){if(yg.length){const e=[...new Set(yg)].sort((i,r)=>Hy(i)-Hy(r));if(yg.length=0,fd){fd.push(...e);return}for(fd=e,ng=0;ng<fd.length;ng++){const i=fd[ng];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}fd=null,ng=0}}const Hy=n=>n.id==null?n.flags&2?-1:1/0:n.id;function dH(n){try{for(bl=0;bl<Mo.length;bl++){const e=Mo[bl];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),$0(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;bl<Mo.length;bl++){const e=Mo[bl];e&&(e.flags&=-2)}bl=-1,Mo.length=0,cH(),WS=null,(Mo.length||yg.length)&&dH()}}let Lo=null,fH=null;function jS(n){const e=Lo;return Lo=n,fH=n&&n.type.__scopeId||null,e}function Zi(n,e=Lo,i){if(!e||n._n)return n;const r=(...o)=>{r._d&&bB(-1);const s=jS(e);let a;try{a=n(...o)}finally{jS(s),r._d&&bB(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Ro(n,e){if(Lo===null)return n;const i=m1(Lo),r=n.dirs||(n.dirs=[]);for(let o=0;o<e.length;o++){let[s,a,l,u=ci]=e[o];s&&(Jt(s)&&(s={mounted:s,updated:s}),s.deep&&Hu(a),r.push({dir:s,instance:i,value:a,oldValue:void 0,arg:l,modifiers:u}))}return n}function hf(n,e,i,r){const o=n.dirs,s=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let u=l.dir[r];u&&(Vd(),tl(u,i,8,[n.el,l,n,e]),Wd())}}const hH=Symbol("_vte"),pH=n=>n.__isTeleport,my=n=>n&&(n.disabled||n.disabled===""),sB=n=>n&&(n.defer||n.defer===""),aB=n=>typeof SVGElement<"u"&&n instanceof SVGElement,lB=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,v2=(n,e)=>{const i=n&&n.to;return qi(i)?e?e(i):null:i},gH={name:"Teleport",__isTeleport:!0,process(n,e,i,r,o,s,a,l,u,c){const{mc:d,pc:f,pbc:h,o:{insert:p,querySelector:g,createText:b,createComment:y}}=c,m=my(e.props);let{shapeFlag:_,children:S,dynamicChildren:w}=e;if(n==null){const A=e.el=b(""),T=e.anchor=b("");p(A,i,r),p(T,i,r);const C=(E,P)=>{_&16&&(o&&o.isCE&&(o.ce._teleportTarget=E),d(S,E,P,o,s,a,l,u))},R=()=>{const E=e.target=v2(e.props,g),P=vH(E,e,b,p);E&&(a!=="svg"&&aB(E)?a="svg":a!=="mathml"&&lB(E)&&(a="mathml"),m||(C(E,P),rS(e,!1)))};m&&(C(i,T),rS(e,!0)),sB(e.props)?To(()=>{R(),e.el.__isMounted=!0},s):R()}else{if(sB(e.props)&&!n.el.__isMounted){To(()=>{gH.process(n,e,i,r,o,s,a,l,u,c),delete n.el.__isMounted},s);return}e.el=n.el,e.targetStart=n.targetStart;const A=e.anchor=n.anchor,T=e.target=n.target,C=e.targetAnchor=n.targetAnchor,R=my(n.props),E=R?i:T,P=R?A:C;if(a==="svg"||aB(T)?a="svg":(a==="mathml"||lB(T))&&(a="mathml"),w?(h(n.dynamicChildren,w,E,o,s,a,l),fI(n,e,!0)):u||f(n,e,E,P,o,s,a,l,!1),m)R?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):nx(e,i,A,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const I=e.target=v2(e.props,g);I&&nx(e,I,null,c,0)}else R&&nx(e,T,C,c,1);rS(e,m)}},remove(n,e,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetStart:c,targetAnchor:d,target:f,props:h}=n;if(f&&(o(c),o(d)),s&&o(u),a&16){const p=s||!my(h);for(let g=0;g<l.length;g++){const b=l[g];r(b,e,i,p,!!b.dynamicChildren)}}},move:nx,hydrate:ere};function nx(n,e,i,{o:{insert:r},m:o},s=2){s===0&&r(n.targetAnchor,e,i);const{el:a,anchor:l,shapeFlag:u,children:c,props:d}=n,f=s===2;if(f&&r(a,e,i),(!f||my(d))&&u&16)for(let h=0;h<c.length;h++)o(c[h],e,i,2);f&&r(l,e,i)}function ere(n,e,i,r,o,s,{o:{nextSibling:a,parentNode:l,querySelector:u,insert:c,createText:d}},f){const h=e.target=v2(e.props,u);if(h){const p=my(e.props),g=h._lpa||h.firstChild;if(e.shapeFlag&16)if(p)e.anchor=f(a(n),e,l(n),i,r,o,s),e.targetStart=g,e.targetAnchor=g&&a(g);else{e.anchor=a(n);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}}b=a(b)}e.targetAnchor||vH(h,e,d,c),f(g&&a(g),e,h,i,r,o,s)}rS(e,p)}return e.anchor&&a(e.anchor)}const mH=gH;function rS(n,e){const i=n.ctx;if(i&&i.ut){let r,o;for(e?(r=n.el,o=n.anchor):(r=n.targetStart,o=n.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",i.uid),r=r.nextSibling;i.ut()}}function vH(n,e,i,r){const o=e.targetStart=i(""),s=e.targetAnchor=i("");return o[hH]=s,n&&(r(o,n),r(s,n)),s}const hd=Symbol("_leaveCb"),ix=Symbol("_enterCb");function yH(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return en(()=>{n.isMounted=!0}),Pn(()=>{n.isUnmounting=!0}),n}const Js=[Function,Array],bH={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Js,onEnter:Js,onAfterEnter:Js,onEnterCancelled:Js,onBeforeLeave:Js,onLeave:Js,onAfterLeave:Js,onLeaveCancelled:Js,onBeforeAppear:Js,onAppear:Js,onAfterAppear:Js,onAppearCancelled:Js},xH=n=>{const e=n.subTree;return e.component?xH(e.component):e},tre={name:"BaseTransition",props:bH,setup(n,{slots:e}){const i=hs(),r=yH();return()=>{const o=e.default&&lI(e.default(),!0);if(!o||!o.length)return;const s=_H(o),a=pn(n),{mode:l}=a;if(r.isLeaving)return qA(s);const u=uB(s);if(!u)return qA(s);let c=Gy(u,a,r,i,f=>c=f);u.type!==co&&mh(u,c);let d=i.subTree&&uB(i.subTree);if(d&&d.type!==co&&!$f(u,d)&&xH(i).type!==co){let f=Gy(d,a,r,i);if(mh(d,f),l==="out-in"&&u.type!==co)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,i.job.flags&8||i.update(),delete f.afterLeave,d=void 0},qA(s);l==="in-out"&&u.type!==co?f.delayLeave=(h,p,g)=>{const b=SH(r,d);b[String(d.key)]=d,h[hd]=()=>{p(),h[hd]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return s}}};function _H(n){let e=n[0];if(n.length>1){for(const i of n)if(i.type!==co){e=i;break}}return e}const nre=tre;function SH(n,e){const{leavingVNodes:i}=n;let r=i.get(e.type);return r||(r=Object.create(null),i.set(e.type,r)),r}function Gy(n,e,i,r,o){const{appear:s,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:y,onAppear:m,onAfterAppear:_,onAppearCancelled:S}=e,w=String(n.key),A=SH(i,n),T=(E,P)=>{E&&tl(E,r,9,P)},C=(E,P)=>{const I=P[1];T(E,P),jt(E)?E.every(D=>D.length<=1)&&I():E.length<=1&&I()},R={mode:a,persisted:l,beforeEnter(E){let P=u;if(!i.isMounted)if(s)P=y||u;else return;E[hd]&&E[hd](!0);const I=A[w];I&&$f(n,I)&&I.el[hd]&&I.el[hd](),T(P,[E])},enter(E){let P=c,I=d,D=f;if(!i.isMounted)if(s)P=m||c,I=_||d,D=S||f;else return;let F=!1;const L=E[ix]=$=>{F||(F=!0,$?T(D,[E]):T(I,[E]),R.delayedLeave&&R.delayedLeave(),E[ix]=void 0)};P?C(P,[E,L]):L()},leave(E,P){const I=String(n.key);if(E[ix]&&E[ix](!0),i.isUnmounting)return P();T(h,[E]);let D=!1;const F=E[hd]=L=>{D||(D=!0,P(),L?T(b,[E]):T(g,[E]),E[hd]=void 0,A[I]===n&&delete A[I])};A[I]=n,p?C(p,[E,F]):F()},clone(E){const P=Gy(E,e,i,r,o);return o&&o(P),P}};return R}function qA(n){if(h1(n))return n=ds(n),n.children=null,n}function uB(n){if(!h1(n))return pH(n.type)&&n.children?_H(n.children):n;const{shapeFlag:e,children:i}=n;if(i){if(e&16)return i[0];if(e&32&&Jt(i.default))return i.default()}}function mh(n,e){n.shapeFlag&6&&n.component?(n.transition=e,mh(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function lI(n,e=!1,i){let r=[],o=0;for(let s=0;s<n.length;s++){let a=n[s];const l=i==null?a.key:String(i)+String(a.key!=null?a.key:s);a.type===mn?(a.patchFlag&128&&o++,r=r.concat(lI(a.children,e,l))):(e||a.type!==co)&&r.push(l!=null?ds(a,{key:l}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function je(n,e){return Jt(n)?Cr({name:n.name},e,{setup:n}):n}function wH(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function KS(n,e,i,r,o=!1){if(jt(n)){n.forEach((g,b)=>KS(g,e&&(jt(e)?e[b]:e),i,r,o));return}if(vy(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&KS(n,e,i,r.component.subTree);return}const s=r.shapeFlag&4?m1(r.component):r.el,a=o?null:s,{i:l,r:u}=n,c=e&&e.r,d=l.refs===ci?l.refs={}:l.refs,f=l.setupState,h=pn(f),p=f===ci?()=>!1:g=>Zn(h,g);if(c!=null&&c!==u&&(qi(c)?(d[c]=null,p(c)&&(f[c]=null)):Vi(c)&&(c.value=null)),Jt(u))$0(u,l,12,[a,d]);else{const g=qi(u),b=Vi(u);if(g||b){const y=()=>{if(n.f){const m=g?p(u)?f[u]:d[u]:u.value;o?jt(m)&&XP(m,s):jt(m)?m.includes(s)||m.push(s):g?(d[u]=[s],p(u)&&(f[u]=d[u])):(u.value=[s],n.k&&(d[n.k]=u.value))}else g?(d[u]=a,p(u)&&(f[u]=a)):b&&(u.value=a,n.k&&(d[n.k]=a))};a?(y.id=-1,To(y,i)):y()}}}c1().requestIdleCallback;c1().cancelIdleCallback;const vy=n=>!!n.type.__asyncLoader,h1=n=>n.type.__isKeepAlive;function CH(n,e){AH(n,"a",e)}function ire(n,e){AH(n,"da",e)}function AH(n,e,i=Lr){const r=n.__wdc||(n.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(p1(e,r,i),i){let o=i.parent;for(;o&&o.parent;)h1(o.parent.vnode)&&rre(r,e,i,o),o=o.parent}}function rre(n,e,i,r){const o=p1(e,n,r,!0);al(()=>{XP(r[e],o)},i)}function p1(n,e,i=Lr,r=!1){if(i){const o=i[n]||(i[n]=[]),s=e.__weh||(e.__weh=(...a)=>{Vd();const l=U0(i),u=tl(e,i,n,a);return l(),Wd(),u});return r?o.unshift(s):o.push(s),s}}const xc=n=>(e,i=Lr)=>{(!Wy||n==="sp")&&p1(n,(...r)=>e(...r),i)},uI=xc("bm"),en=xc("m"),cI=xc("bu"),Ca=xc("u"),Pn=xc("bum"),al=xc("um"),ore=xc("sp"),sre=xc("rtg"),are=xc("rtc");function lre(n,e=Lr){p1("ec",n,e)}const TH="components",ure="directives";function cre(n,e){return EH(TH,n,!0,e)||n}const dre=Symbol.for("v-ndc");function fre(n){return EH(ure,n)}function EH(n,e,i=!0,r=!1){const o=Lo||Lr;if(o){const s=o.type;if(n===TH){const l=eoe(s,!1);if(l&&(l===e||l===ya(e)||l===u1(ya(e))))return s}const a=cB(o[n]||s[n],e)||cB(o.appContext[n],e);return!a&&r?s:a}}function cB(n,e){return n&&(n[e]||n[ya(e)]||n[u1(ya(e))])}function hre(n,e,i,r){let o;const s=i,a=jt(n);if(a||qi(n)){const l=a&&Td(n);let u=!1;l&&(u=!fa(n),n=d1(n)),o=new Array(n.length);for(let c=0,d=n.length;c<d;c++)o[c]=e(u?so(n[c]):n[c],c,void 0,s)}else if(typeof n=="number"){o=new Array(n);for(let l=0;l<n;l++)o[l]=e(l+1,l,void 0,s)}else if(mi(n))if(n[Symbol.iterator])o=Array.from(n,(l,u)=>e(l,u,void 0,s));else{const l=Object.keys(n);o=new Array(l.length);for(let u=0,c=l.length;u<c;u++){const d=l[u];o[u]=e(n[d],d,u,s)}}else o=[];return o}const y2=n=>n?jH(n)?m1(n):y2(n.parent):null,yy=Cr(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>y2(n.parent),$root:n=>y2(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>RH(n),$forceUpdate:n=>n.f||(n.f=()=>{aI(n.update)}),$nextTick:n=>n.n||(n.n=kn.bind(n.proxy)),$watch:n=>Lre.bind(n)}),XA=(n,e)=>n!==ci&&!n.__isScriptSetup&&Zn(n,e),pre={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:i,setupState:r,data:o,props:s,accessCache:a,type:l,appContext:u}=n;let c;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return o[e];case 4:return i[e];case 3:return s[e]}else{if(XA(r,e))return a[e]=1,r[e];if(o!==ci&&Zn(o,e))return a[e]=2,o[e];if((c=n.propsOptions[0])&&Zn(c,e))return a[e]=3,s[e];if(i!==ci&&Zn(i,e))return a[e]=4,i[e];b2&&(a[e]=0)}}const d=yy[e];let f,h;if(d)return e==="$attrs"&&oo(n.attrs,"get",""),d(n);if((f=l.__cssModules)&&(f=f[e]))return f;if(i!==ci&&Zn(i,e))return a[e]=4,i[e];if(h=u.config.globalProperties,Zn(h,e))return h[e]},set({_:n},e,i){const{data:r,setupState:o,ctx:s}=n;return XA(o,e)?(o[e]=i,!0):r!==ci&&Zn(r,e)?(r[e]=i,!0):Zn(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(s[e]=i,!0)},has({_:{data:n,setupState:e,accessCache:i,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!i[a]||n!==ci&&Zn(n,a)||XA(e,a)||(l=s[0])&&Zn(l,a)||Zn(r,a)||Zn(yy,a)||Zn(o.config.globalProperties,a)},defineProperty(n,e,i){return i.get!=null?n._.accessCache[e]=0:Zn(i,"value")&&this.set(n,e,i.value,null),Reflect.defineProperty(n,e,i)}};function dB(n){return jt(n)?n.reduce((e,i)=>(e[i]=null,e),{}):n}let b2=!0;function gre(n){const e=RH(n),i=n.proxy,r=n.ctx;b2=!1,e.beforeCreate&&fB(e.beforeCreate,n,"bc");const{data:o,computed:s,methods:a,watch:l,provide:u,inject:c,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:g,activated:b,deactivated:y,beforeDestroy:m,beforeUnmount:_,destroyed:S,unmounted:w,render:A,renderTracked:T,renderTriggered:C,errorCaptured:R,serverPrefetch:E,expose:P,inheritAttrs:I,components:D,directives:F,filters:L}=e;if(c&&mre(c,r,null),a)for(const k in a){const H=a[k];Jt(H)&&(r[k]=H.bind(i))}if(o){const k=o.call(i,i);mi(k)&&(n.data=Ki(k))}if(b2=!0,s)for(const k in s){const H=s[k],z=Jt(H)?H.bind(i,i):Jt(H.get)?H.get.bind(i,i):Nl,Q=!Jt(H)&&Jt(H.set)?H.set.bind(i):Nl,Z=K({get:z,set:Q});Object.defineProperty(r,k,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ie=>Z.value=ie})}if(l)for(const k in l)MH(l[k],r,i,k);if(u){const k=Jt(u)?u.call(i):u;Reflect.ownKeys(k).forEach(H=>{jn(H,k[H])})}d&&fB(d,n,"c");function U(k,H){jt(H)?H.forEach(z=>k(z.bind(i))):H&&k(H.bind(i))}if(U(uI,f),U(en,h),U(cI,p),U(Ca,g),U(CH,b),U(ire,y),U(lre,R),U(are,T),U(sre,C),U(Pn,_),U(al,w),U(ore,E),jt(P))if(P.length){const k=n.exposed||(n.exposed={});P.forEach(H=>{Object.defineProperty(k,H,{get:()=>i[H],set:z=>i[H]=z})})}else n.exposed||(n.exposed={});A&&n.render===Nl&&(n.render=A),I!=null&&(n.inheritAttrs=I),D&&(n.components=D),F&&(n.directives=F),E&&wH(n)}function mre(n,e,i=Nl){jt(n)&&(n=x2(n));for(const r in n){const o=n[r];let s;mi(o)?"default"in o?s=qt(o.from||r,o.default,!0):s=qt(o.from||r):s=qt(o),Vi(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function fB(n,e,i){tl(jt(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,i)}function MH(n,e,i,r){let o=r.includes(".")?zH(i,r):()=>i[r];if(qi(n)){const s=e[n];Jt(s)&&ct(o,s)}else if(Jt(n))ct(o,n.bind(i));else if(mi(n))if(jt(n))n.forEach(s=>MH(s,e,i,r));else{const s=Jt(n.handler)?n.handler.bind(i):e[n.handler];Jt(s)&&ct(o,s,n)}}function RH(n){const e=n.type,{mixins:i,extends:r}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=n.appContext,l=s.get(e);let u;return l?u=l:!o.length&&!i&&!r?u=e:(u={},o.length&&o.forEach(c=>qS(u,c,a,!0)),qS(u,e,a)),mi(e)&&s.set(e,u),u}function qS(n,e,i,r=!1){const{mixins:o,extends:s}=e;s&&qS(n,s,i,!0),o&&o.forEach(a=>qS(n,a,i,!0));for(const a in e)if(!(r&&a==="expose")){const l=vre[a]||i&&i[a];n[a]=l?l(n[a],e[a]):e[a]}return n}const vre={data:hB,props:pB,emits:pB,methods:Qv,computed:Qv,beforeCreate:Co,created:Co,beforeMount:Co,mounted:Co,beforeUpdate:Co,updated:Co,beforeDestroy:Co,beforeUnmount:Co,destroyed:Co,unmounted:Co,activated:Co,deactivated:Co,errorCaptured:Co,serverPrefetch:Co,components:Qv,directives:Qv,watch:bre,provide:hB,inject:yre};function hB(n,e){return e?n?function(){return Cr(Jt(n)?n.call(this,this):n,Jt(e)?e.call(this,this):e)}:e:n}function yre(n,e){return Qv(x2(n),x2(e))}function x2(n){if(jt(n)){const e={};for(let i=0;i<n.length;i++)e[n[i]]=n[i];return e}return n}function Co(n,e){return n?[...new Set([].concat(n,e))]:e}function Qv(n,e){return n?Cr(Object.create(null),n,e):e}function pB(n,e){return n?jt(n)&&jt(e)?[...new Set([...n,...e])]:Cr(Object.create(null),dB(n),dB(e??{})):e}function bre(n,e){if(!n)return e;if(!e)return n;const i=Cr(Object.create(null),n);for(const r in e)i[r]=Co(n[r],e[r]);return i}function PH(){return{app:null,config:{isNativeTag:lie,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xre=0;function _re(n,e){return function(r,o=null){Jt(r)||(r=Cr({},r)),o!=null&&!mi(o)&&(o=null);const s=PH(),a=new WeakSet,l=[];let u=!1;const c=s.app={_uid:xre++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:noe,get config(){return s.config},set config(d){},use(d,...f){return a.has(d)||(d&&Jt(d.install)?(a.add(d),d.install(c,...f)):Jt(d)&&(a.add(d),d(c,...f))),c},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),c},component(d,f){return f?(s.components[d]=f,c):s.components[d]},directive(d,f){return f?(s.directives[d]=f,c):s.directives[d]},mount(d,f,h){if(!u){const p=c._ceVNode||N(r,o);return p.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),n(p,d,h),u=!0,c._container=d,d.__vue_app__=c,m1(p.component)}},onUnmount(d){l.push(d)},unmount(){u&&(tl(l,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(d,f){return s.provides[d]=f,c},runWithContext(d){const f=nh;nh=c;try{return d()}finally{nh=f}}};return c}}let nh=null;function jn(n,e){if(Lr){let i=Lr.provides;const r=Lr.parent&&Lr.parent.provides;r===i&&(i=Lr.provides=Object.create(r)),i[n]=e}}function qt(n,e,i=!1){const r=Lr||Lo;if(r||nh){const o=nh?nh._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&n in o)return o[n];if(arguments.length>1)return i&&Jt(e)?e.call(r&&r.proxy):e}}function Sre(){return!!(Lr||Lo||nh)}const IH={},NH=()=>Object.create(IH),OH=n=>Object.getPrototypeOf(n)===IH;function wre(n,e,i,r=!1){const o={},s=NH();n.propsDefaults=Object.create(null),DH(n,e,o,s);for(const a in n.propsOptions[0])a in o||(o[a]=void 0);i?n.props=r?o:zie(o):n.type.props?n.props=o:n.props=s,n.attrs=s}function Cre(n,e,i,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=n,l=pn(o),[u]=n.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=n.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(g1(n.emitsOptions,h))continue;const p=e[h];if(u)if(Zn(s,h))p!==s[h]&&(s[h]=p,c=!0);else{const g=ya(h);o[g]=_2(u,l,g,p,n,!1)}else p!==s[h]&&(s[h]=p,c=!0)}}}else{DH(n,e,o,s)&&(c=!0);let d;for(const f in l)(!e||!Zn(e,f)&&((d=Oh(f))===f||!Zn(e,d)))&&(u?i&&(i[f]!==void 0||i[d]!==void 0)&&(o[f]=_2(u,l,f,void 0,n,!0)):delete o[f]);if(s!==l)for(const f in s)(!e||!Zn(e,f))&&(delete s[f],c=!0)}c&&zu(n.attrs,"set","")}function DH(n,e,i,r){const[o,s]=n.propsOptions;let a=!1,l;if(e)for(let u in e){if(fy(u))continue;const c=e[u];let d;o&&Zn(o,d=ya(u))?!s||!s.includes(d)?i[d]=c:(l||(l={}))[d]=c:g1(n.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,a=!0)}if(s){const u=pn(i),c=l||ci;for(let d=0;d<s.length;d++){const f=s[d];i[f]=_2(o,u,f,c[f],n,!Zn(c,f))}}return a}function _2(n,e,i,r,o,s){const a=n[i];if(a!=null){const l=Zn(a,"default");if(l&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Jt(u)){const{propsDefaults:c}=o;if(i in c)r=c[i];else{const d=U0(o);r=c[i]=u.call(null,e),d()}}else r=u;o.ce&&o.ce._setProp(i,r)}a[0]&&(s&&!l?r=!1:a[1]&&(r===""||r===Oh(i))&&(r=!0))}return r}const Are=new WeakMap;function LH(n,e,i=!1){const r=i?Are:e.propsCache,o=r.get(n);if(o)return o;const s=n.props,a={},l=[];let u=!1;if(!Jt(n)){const d=f=>{u=!0;const[h,p]=LH(f,e,!0);Cr(a,h),p&&l.push(...p)};!i&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!s&&!u)return mi(n)&&r.set(n,mg),mg;if(jt(s))for(let d=0;d<s.length;d++){const f=ya(s[d]);gB(f)&&(a[f]=ci)}else if(s)for(const d in s){const f=ya(d);if(gB(f)){const h=s[d],p=a[f]=jt(h)||Jt(h)?{type:h}:Cr({},h),g=p.type;let b=!1,y=!0;if(jt(g))for(let m=0;m<g.length;++m){const _=g[m],S=Jt(_)&&_.name;if(S==="Boolean"){b=!0;break}else S==="String"&&(y=!1)}else b=Jt(g)&&g.name==="Boolean";p[0]=b,p[1]=y,(b||Zn(p,"default"))&&l.push(f)}}const c=[a,l];return mi(n)&&r.set(n,c),c}function gB(n){return n[0]!=="$"&&!fy(n)}const BH=n=>n[0]==="_"||n==="$stable",dI=n=>jt(n)?n.map(wl):[wl(n)],Tre=(n,e,i)=>{if(e._n)return e;const r=Zi((...o)=>dI(e(...o)),i);return r._c=!1,r},FH=(n,e,i)=>{const r=n._ctx;for(const o in n){if(BH(o))continue;const s=n[o];if(Jt(s))e[o]=Tre(o,s,r);else if(s!=null){const a=dI(s);e[o]=()=>a}}},$H=(n,e)=>{const i=dI(e);n.slots.default=()=>i},UH=(n,e,i)=>{for(const r in e)(i||r!=="_")&&(n[r]=e[r])},Ere=(n,e,i)=>{const r=n.slots=NH();if(n.vnode.shapeFlag&32){const o=e._;o?(UH(r,e,i),i&&F8(r,"_",o,!0)):FH(e,r)}else e&&$H(n,e)},Mre=(n,e,i)=>{const{vnode:r,slots:o}=n;let s=!0,a=ci;if(r.shapeFlag&32){const l=e._;l?i&&l===1?s=!1:UH(o,e,i):(s=!e.$stable,FH(e,o)),a=e}else e&&($H(n,e),a={default:1});if(s)for(const l in o)!BH(l)&&a[l]==null&&delete o[l]},To=Hre;function Rre(n){return Pre(n)}function Pre(n,e){const i=c1();i.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:l,createComment:u,setText:c,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=Nl,insertStaticContent:g}=n,b=(W,X,V,Se=null,pe=null,_e=null,he=void 0,ge=null,me=!!X.dynamicChildren)=>{if(W===X)return;W&&!$f(W,X)&&(Se=ne(W),ie(W,pe,_e,!0),W=null),X.patchFlag===-2&&(me=!1,X.dynamicChildren=null);const{type:j,ref:G,shapeFlag:ce}=X;switch(j){case Dh:y(W,X,V,Se);break;case co:m(W,X,V,Se);break;case QA:W==null&&_(X,V,Se,he);break;case mn:D(W,X,V,Se,pe,_e,he,ge,me);break;default:ce&1?A(W,X,V,Se,pe,_e,he,ge,me):ce&6?F(W,X,V,Se,pe,_e,he,ge,me):(ce&64||ce&128)&&j.process(W,X,V,Se,pe,_e,he,ge,me,le)}G!=null&&pe&&KS(G,W&&W.ref,_e,X||W,!X)},y=(W,X,V,Se)=>{if(W==null)r(X.el=l(X.children),V,Se);else{const pe=X.el=W.el;X.children!==W.children&&c(pe,X.children)}},m=(W,X,V,Se)=>{W==null?r(X.el=u(X.children||""),V,Se):X.el=W.el},_=(W,X,V,Se)=>{[W.el,W.anchor]=g(W.children,X,V,Se,W.el,W.anchor)},S=({el:W,anchor:X},V,Se)=>{let pe;for(;W&&W!==X;)pe=h(W),r(W,V,Se),W=pe;r(X,V,Se)},w=({el:W,anchor:X})=>{let V;for(;W&&W!==X;)V=h(W),o(W),W=V;o(X)},A=(W,X,V,Se,pe,_e,he,ge,me)=>{X.type==="svg"?he="svg":X.type==="math"&&(he="mathml"),W==null?T(X,V,Se,pe,_e,he,ge,me):E(W,X,pe,_e,he,ge,me)},T=(W,X,V,Se,pe,_e,he,ge)=>{let me,j;const{props:G,shapeFlag:ce,transition:Ee,dirs:de}=W;if(me=W.el=a(W.type,_e,G&&G.is,G),ce&8?d(me,W.children):ce&16&&R(W.children,me,null,Se,pe,YA(W,_e),he,ge),de&&hf(W,null,Se,"created"),C(me,W,W.scopeId,he,Se),G){for(const Ce in G)Ce!=="value"&&!fy(Ce)&&s(me,Ce,null,G[Ce],_e,Se);"value"in G&&s(me,"value",null,G.value,_e),(j=G.onVnodeBeforeMount)&&hl(j,Se,W)}de&&hf(W,null,Se,"beforeMount");const re=Ire(pe,Ee);re&&Ee.beforeEnter(me),r(me,X,V),((j=G&&G.onVnodeMounted)||re||de)&&To(()=>{j&&hl(j,Se,W),re&&Ee.enter(me),de&&hf(W,null,Se,"mounted")},pe)},C=(W,X,V,Se,pe)=>{if(V&&p(W,V),Se)for(let _e=0;_e<Se.length;_e++)p(W,Se[_e]);if(pe){let _e=pe.subTree;if(X===_e||GH(_e.type)&&(_e.ssContent===X||_e.ssFallback===X)){const he=pe.vnode;C(W,he,he.scopeId,he.slotScopeIds,pe.parent)}}},R=(W,X,V,Se,pe,_e,he,ge,me=0)=>{for(let j=me;j<W.length;j++){const G=W[j]=ge?pd(W[j]):wl(W[j]);b(null,G,X,V,Se,pe,_e,he,ge)}},E=(W,X,V,Se,pe,_e,he)=>{const ge=X.el=W.el;let{patchFlag:me,dynamicChildren:j,dirs:G}=X;me|=W.patchFlag&16;const ce=W.props||ci,Ee=X.props||ci;let de;if(V&&pf(V,!1),(de=Ee.onVnodeBeforeUpdate)&&hl(de,V,X,W),G&&hf(X,W,V,"beforeUpdate"),V&&pf(V,!0),(ce.innerHTML&&Ee.innerHTML==null||ce.textContent&&Ee.textContent==null)&&d(ge,""),j?P(W.dynamicChildren,j,ge,V,Se,YA(X,pe),_e):he||H(W,X,ge,null,V,Se,YA(X,pe),_e,!1),me>0){if(me&16)I(ge,ce,Ee,V,pe);else if(me&2&&ce.class!==Ee.class&&s(ge,"class",null,Ee.class,pe),me&4&&s(ge,"style",ce.style,Ee.style,pe),me&8){const re=X.dynamicProps;for(let Ce=0;Ce<re.length;Ce++){const Me=re[Ce],Ve=ce[Me],dt=Ee[Me];(dt!==Ve||Me==="value")&&s(ge,Me,Ve,dt,pe,V)}}me&1&&W.children!==X.children&&d(ge,X.children)}else!he&&j==null&&I(ge,ce,Ee,V,pe);((de=Ee.onVnodeUpdated)||G)&&To(()=>{de&&hl(de,V,X,W),G&&hf(X,W,V,"updated")},Se)},P=(W,X,V,Se,pe,_e,he)=>{for(let ge=0;ge<X.length;ge++){const me=W[ge],j=X[ge],G=me.el&&(me.type===mn||!$f(me,j)||me.shapeFlag&70)?f(me.el):V;b(me,j,G,null,Se,pe,_e,he,!0)}},I=(W,X,V,Se,pe)=>{if(X!==V){if(X!==ci)for(const _e in X)!fy(_e)&&!(_e in V)&&s(W,_e,X[_e],null,pe,Se);for(const _e in V){if(fy(_e))continue;const he=V[_e],ge=X[_e];he!==ge&&_e!=="value"&&s(W,_e,ge,he,pe,Se)}"value"in V&&s(W,"value",X.value,V.value,pe)}},D=(W,X,V,Se,pe,_e,he,ge,me)=>{const j=X.el=W?W.el:l(""),G=X.anchor=W?W.anchor:l("");let{patchFlag:ce,dynamicChildren:Ee,slotScopeIds:de}=X;de&&(ge=ge?ge.concat(de):de),W==null?(r(j,V,Se),r(G,V,Se),R(X.children||[],V,G,pe,_e,he,ge,me)):ce>0&&ce&64&&Ee&&W.dynamicChildren?(P(W.dynamicChildren,Ee,V,pe,_e,he,ge),(X.key!=null||pe&&X===pe.subTree)&&fI(W,X,!0)):H(W,X,V,G,pe,_e,he,ge,me)},F=(W,X,V,Se,pe,_e,he,ge,me)=>{X.slotScopeIds=ge,W==null?X.shapeFlag&512?pe.ctx.activate(X,V,Se,he,me):L(X,V,Se,pe,_e,he,me):$(W,X,me)},L=(W,X,V,Se,pe,_e,he)=>{const ge=W.component=Xre(W,Se,pe);if(h1(W)&&(ge.ctx.renderer=le),Yre(ge,!1,he),ge.asyncDep){if(pe&&pe.registerDep(ge,U,he),!W.el){const me=ge.subTree=N(co);m(null,me,X,V)}}else U(ge,W,X,V,pe,_e,he)},$=(W,X,V)=>{const Se=X.component=W.component;if(kre(W,X,V))if(Se.asyncDep&&!Se.asyncResolved){k(Se,X,V);return}else Se.next=X,Se.update();else X.el=W.el,Se.vnode=X},U=(W,X,V,Se,pe,_e,he)=>{const ge=()=>{if(W.isMounted){let{next:ce,bu:Ee,u:de,parent:re,vnode:Ce}=W;{const Ie=kH(W);if(Ie){ce&&(ce.el=Ce.el,k(W,ce,he)),Ie.asyncDep.then(()=>{W.isUnmounted||ge()});return}}let Me=ce,Ve;pf(W,!1),ce?(ce.el=Ce.el,k(W,ce,he)):ce=Ce,Ee&&GA(Ee),(Ve=ce.props&&ce.props.onVnodeBeforeUpdate)&&hl(Ve,re,ce,Ce),pf(W,!0);const dt=vB(W),we=W.subTree;W.subTree=dt,b(we,dt,f(we.el),ne(we),W,pe,_e),ce.el=dt.el,Me===null&&zre(W,dt.el),de&&To(de,pe),(Ve=ce.props&&ce.props.onVnodeUpdated)&&To(()=>hl(Ve,re,ce,Ce),pe)}else{let ce;const{el:Ee,props:de}=X,{bm:re,m:Ce,parent:Me,root:Ve,type:dt}=W,we=vy(X);pf(W,!1),re&&GA(re),!we&&(ce=de&&de.onVnodeBeforeMount)&&hl(ce,Me,X),pf(W,!0);{Ve.ce&&Ve.ce._injectChildStyle(dt);const Ie=W.subTree=vB(W);b(null,Ie,V,Se,W,pe,_e),X.el=Ie.el}if(Ce&&To(Ce,pe),!we&&(ce=de&&de.onVnodeMounted)){const Ie=X;To(()=>hl(ce,Me,Ie),pe)}(X.shapeFlag&256||Me&&vy(Me.vnode)&&Me.vnode.shapeFlag&256)&&W.a&&To(W.a,pe),W.isMounted=!0,X=V=Se=null}};W.scope.on();const me=W.effect=new V8(ge);W.scope.off();const j=W.update=me.run.bind(me),G=W.job=me.runIfDirty.bind(me);G.i=W,G.id=W.uid,me.scheduler=()=>aI(G),pf(W,!0),j()},k=(W,X,V)=>{X.component=W;const Se=W.vnode.props;W.vnode=X,W.next=null,Cre(W,X.props,Se,V),Mre(W,X.children,V),Vd(),oB(W),Wd()},H=(W,X,V,Se,pe,_e,he,ge,me=!1)=>{const j=W&&W.children,G=W?W.shapeFlag:0,ce=X.children,{patchFlag:Ee,shapeFlag:de}=X;if(Ee>0){if(Ee&128){Q(j,ce,V,Se,pe,_e,he,ge,me);return}else if(Ee&256){z(j,ce,V,Se,pe,_e,he,ge,me);return}}de&8?(G&16&&ee(j,pe,_e),ce!==j&&d(V,ce)):G&16?de&16?Q(j,ce,V,Se,pe,_e,he,ge,me):ee(j,pe,_e,!0):(G&8&&d(V,""),de&16&&R(ce,V,Se,pe,_e,he,ge,me))},z=(W,X,V,Se,pe,_e,he,ge,me)=>{W=W||mg,X=X||mg;const j=W.length,G=X.length,ce=Math.min(j,G);let Ee;for(Ee=0;Ee<ce;Ee++){const de=X[Ee]=me?pd(X[Ee]):wl(X[Ee]);b(W[Ee],de,V,null,pe,_e,he,ge,me)}j>G?ee(W,pe,_e,!0,!1,ce):R(X,V,Se,pe,_e,he,ge,me,ce)},Q=(W,X,V,Se,pe,_e,he,ge,me)=>{let j=0;const G=X.length;let ce=W.length-1,Ee=G-1;for(;j<=ce&&j<=Ee;){const de=W[j],re=X[j]=me?pd(X[j]):wl(X[j]);if($f(de,re))b(de,re,V,null,pe,_e,he,ge,me);else break;j++}for(;j<=ce&&j<=Ee;){const de=W[ce],re=X[Ee]=me?pd(X[Ee]):wl(X[Ee]);if($f(de,re))b(de,re,V,null,pe,_e,he,ge,me);else break;ce--,Ee--}if(j>ce){if(j<=Ee){const de=Ee+1,re=de<G?X[de].el:Se;for(;j<=Ee;)b(null,X[j]=me?pd(X[j]):wl(X[j]),V,re,pe,_e,he,ge,me),j++}}else if(j>Ee)for(;j<=ce;)ie(W[j],pe,_e,!0),j++;else{const de=j,re=j,Ce=new Map;for(j=re;j<=Ee;j++){const Ke=X[j]=me?pd(X[j]):wl(X[j]);Ke.key!=null&&Ce.set(Ke.key,j)}let Me,Ve=0;const dt=Ee-re+1;let we=!1,Ie=0;const Ue=new Array(dt);for(j=0;j<dt;j++)Ue[j]=0;for(j=de;j<=ce;j++){const Ke=W[j];if(Ve>=dt){ie(Ke,pe,_e,!0);continue}let ut;if(Ke.key!=null)ut=Ce.get(Ke.key);else for(Me=re;Me<=Ee;Me++)if(Ue[Me-re]===0&&$f(Ke,X[Me])){ut=Me;break}ut===void 0?ie(Ke,pe,_e,!0):(Ue[ut-re]=j+1,ut>=Ie?Ie=ut:we=!0,b(Ke,X[ut],V,null,pe,_e,he,ge,me),Ve++)}const Ye=we?Nre(Ue):mg;for(Me=Ye.length-1,j=dt-1;j>=0;j--){const Ke=re+j,ut=X[Ke],ot=Ke+1<G?X[Ke+1].el:Se;Ue[j]===0?b(null,ut,V,ot,pe,_e,he,ge,me):we&&(Me<0||j!==Ye[Me]?Z(ut,V,ot,2):Me--)}}},Z=(W,X,V,Se,pe=null)=>{const{el:_e,type:he,transition:ge,children:me,shapeFlag:j}=W;if(j&6){Z(W.component.subTree,X,V,Se);return}if(j&128){W.suspense.move(X,V,Se);return}if(j&64){he.move(W,X,V,le);return}if(he===mn){r(_e,X,V);for(let ce=0;ce<me.length;ce++)Z(me[ce],X,V,Se);r(W.anchor,X,V);return}if(he===QA){S(W,X,V);return}if(Se!==2&&j&1&&ge)if(Se===0)ge.beforeEnter(_e),r(_e,X,V),To(()=>ge.enter(_e),pe);else{const{leave:ce,delayLeave:Ee,afterLeave:de}=ge,re=()=>r(_e,X,V),Ce=()=>{ce(_e,()=>{re(),de&&de()})};Ee?Ee(_e,re,Ce):Ce()}else r(_e,X,V)},ie=(W,X,V,Se=!1,pe=!1)=>{const{type:_e,props:he,ref:ge,children:me,dynamicChildren:j,shapeFlag:G,patchFlag:ce,dirs:Ee,cacheIndex:de}=W;if(ce===-2&&(pe=!1),ge!=null&&KS(ge,null,V,W,!0),de!=null&&(X.renderCache[de]=void 0),G&256){X.ctx.deactivate(W);return}const re=G&1&&Ee,Ce=!vy(W);let Me;if(Ce&&(Me=he&&he.onVnodeBeforeUnmount)&&hl(Me,X,W),G&6)se(W.component,V,Se);else{if(G&128){W.suspense.unmount(V,Se);return}re&&hf(W,null,X,"beforeUnmount"),G&64?W.type.remove(W,X,V,le,Se):j&&!j.hasOnce&&(_e!==mn||ce>0&&ce&64)?ee(j,X,V,!1,!0):(_e===mn&&ce&384||!pe&&G&16)&&ee(me,X,V),Se&&xe(W)}(Ce&&(Me=he&&he.onVnodeUnmounted)||re)&&To(()=>{Me&&hl(Me,X,W),re&&hf(W,null,X,"unmounted")},V)},xe=W=>{const{type:X,el:V,anchor:Se,transition:pe}=W;if(X===mn){J(V,Se);return}if(X===QA){w(W);return}const _e=()=>{o(V),pe&&!pe.persisted&&pe.afterLeave&&pe.afterLeave()};if(W.shapeFlag&1&&pe&&!pe.persisted){const{leave:he,delayLeave:ge}=pe,me=()=>he(V,_e);ge?ge(W.el,_e,me):me()}else _e()},J=(W,X)=>{let V;for(;W!==X;)V=h(W),o(W),W=V;o(X)},se=(W,X,V)=>{const{bum:Se,scope:pe,job:_e,subTree:he,um:ge,m:me,a:j}=W;mB(me),mB(j),Se&&GA(Se),pe.stop(),_e&&(_e.flags|=8,ie(he,W,X,V)),ge&&To(ge,X),To(()=>{W.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&W.asyncDep&&!W.asyncResolved&&W.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},ee=(W,X,V,Se=!1,pe=!1,_e=0)=>{for(let he=_e;he<W.length;he++)ie(W[he],X,V,Se,pe)},ne=W=>{if(W.shapeFlag&6)return ne(W.component.subTree);if(W.shapeFlag&128)return W.suspense.next();const X=h(W.anchor||W.el),V=X&&X[hH];return V?h(V):X};let ue=!1;const Y=(W,X,V)=>{W==null?X._vnode&&ie(X._vnode,null,null,!0):b(X._vnode||null,W,X,null,null,null,V),X._vnode=W,ue||(ue=!0,oB(),cH(),ue=!1)},le={p:b,um:ie,m:Z,r:xe,mt:L,mc:R,pc:H,pbc:P,n:ne,o:n};return{render:Y,hydrate:void 0,createApp:_re(Y)}}function YA({type:n,props:e},i){return i==="svg"&&n==="foreignObject"||i==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function pf({effect:n,job:e},i){i?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function Ire(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function fI(n,e,i=!1){const r=n.children,o=e.children;if(jt(r)&&jt(o))for(let s=0;s<r.length;s++){const a=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=pd(o[s]),l.el=a.el),!i&&l.patchFlag!==-2&&fI(a,l)),l.type===Dh&&(l.el=a.el)}}function Nre(n){const e=n.slice(),i=[0];let r,o,s,a,l;const u=n.length;for(r=0;r<u;r++){const c=n[r];if(c!==0){if(o=i[i.length-1],n[o]<c){e[r]=o,i.push(r);continue}for(s=0,a=i.length-1;s<a;)l=s+a>>1,n[i[l]]<c?s=l+1:a=l;c<n[i[s]]&&(s>0&&(e[r]=i[s-1]),i[s]=r)}}for(s=i.length,a=i[s-1];s-- >0;)i[s]=a,a=e[a];return i}function kH(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:kH(e)}function mB(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const Ore=Symbol.for("v-scx"),Dre=()=>qt(Ore);function ln(n,e){return hI(n,null,e)}function ct(n,e,i){return hI(n,e,i)}function hI(n,e,i=ci){const{immediate:r,deep:o,flush:s,once:a}=i,l=Cr({},i),u=e&&r||!e&&s!=="post";let c;if(Wy){if(s==="sync"){const p=Dre();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!u){const p=()=>{};return p.stop=Nl,p.resume=Nl,p.pause=Nl,p}}const d=Lr;l.call=(p,g,b)=>tl(p,d,g,b);let f=!1;s==="post"?l.scheduler=p=>{To(p,d&&d.suspense)}:s!=="sync"&&(f=!0,l.scheduler=(p,g)=>{g?p():aI(p)}),l.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const h=Yie(n,e,l);return Wy&&(c?c.push(h):u&&h()),h}function Lre(n,e,i){const r=this.proxy,o=qi(n)?n.includes(".")?zH(r,n):()=>r[n]:n.bind(r,r);let s;Jt(e)?s=e:(s=e.handler,i=e);const a=U0(this),l=hI(o,s.bind(r),i);return a(),l}function zH(n,e){const i=e.split(".");return()=>{let r=n;for(let o=0;o<i.length&&r;o++)r=r[i[o]];return r}}const Bre=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${ya(e)}Modifiers`]||n[`${Oh(e)}Modifiers`];function Fre(n,e,...i){if(n.isUnmounted)return;const r=n.vnode.props||ci;let o=i;const s=e.startsWith("update:"),a=s&&Bre(r,e.slice(7));a&&(a.trim&&(o=i.map(d=>qi(d)?d.trim():d)),a.number&&(o=i.map(hie)));let l,u=r[l=HA(e)]||r[l=HA(ya(e))];!u&&s&&(u=r[l=HA(Oh(e))]),u&&tl(u,n,6,o);const c=r[l+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,tl(c,n,6,o)}}function HH(n,e,i=!1){const r=e.emitsCache,o=r.get(n);if(o!==void 0)return o;const s=n.emits;let a={},l=!1;if(!Jt(n)){const u=c=>{const d=HH(c,e,!0);d&&(l=!0,Cr(a,d))};!i&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!s&&!l?(mi(n)&&r.set(n,null),null):(jt(s)?s.forEach(u=>a[u]=null):Cr(a,s),mi(n)&&r.set(n,a),a)}function g1(n,e){return!n||!s1(e)?!1:(e=e.slice(2).replace(/Once$/,""),Zn(n,e[0].toLowerCase()+e.slice(1))||Zn(n,Oh(e))||Zn(n,e))}function vB(n){const{type:e,vnode:i,proxy:r,withProxy:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:c,renderCache:d,props:f,data:h,setupState:p,ctx:g,inheritAttrs:b}=n,y=jS(n);let m,_;try{if(i.shapeFlag&4){const w=o||r,A=w;m=wl(c.call(A,w,d,f,p,h,g)),_=l}else{const w=e;m=wl(w.length>1?w(f,{attrs:l,slots:a,emit:u}):w(f,null)),_=e.props?l:$re(l)}}catch(w){by.length=0,f1(w,n,1),m=N(co)}let S=m;if(_&&b!==!1){const w=Object.keys(_),{shapeFlag:A}=S;w.length&&A&7&&(s&&w.some(qP)&&(_=Ure(_,s)),S=ds(S,_,!1,!0))}return i.dirs&&(S=ds(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(i.dirs):i.dirs),i.transition&&mh(S,i.transition),m=S,jS(y),m}const $re=n=>{let e;for(const i in n)(i==="class"||i==="style"||s1(i))&&((e||(e={}))[i]=n[i]);return e},Ure=(n,e)=>{const i={};for(const r in n)(!qP(r)||!(r.slice(9)in e))&&(i[r]=n[r]);return i};function kre(n,e,i){const{props:r,children:o,component:s}=n,{props:a,children:l,patchFlag:u}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&u>=0){if(u&1024)return!0;if(u&16)return r?yB(r,a,c):!!a;if(u&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(a[h]!==r[h]&&!g1(c,h))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?yB(r,a,c):!0:!!a;return!1}function yB(n,e,i){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(e[s]!==n[s]&&!g1(i,s))return!0}return!1}function zre({vnode:n,parent:e},i){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=i,e=e.parent;else break}}const GH=n=>n.__isSuspense;function Hre(n,e){e&&e.pendingBranch?jt(n)?e.effects.push(...n):e.effects.push(n):Jie(n)}const mn=Symbol.for("v-fgt"),Dh=Symbol.for("v-txt"),co=Symbol.for("v-cmt"),QA=Symbol.for("v-stc"),by=[];let $s=null;function ni(n=!1){by.push($s=n?null:[])}function Gre(){by.pop(),$s=by[by.length-1]||null}let Vy=1;function bB(n,e=!1){Vy+=n,n<0&&$s&&e&&($s.hasOnce=!0)}function VH(n){return n.dynamicChildren=Vy>0?$s||mg:null,Gre(),Vy>0&&$s&&$s.push(n),n}function ki(n,e,i,r,o,s){return VH(Mn(n,e,i,r,o,s,!0))}function ig(n,e,i,r,o){return VH(N(n,e,i,r,o,!0))}function wr(n){return n?n.__v_isVNode===!0:!1}function $f(n,e){return n.type===e.type&&n.key===e.key}const WH=({key:n})=>n??null,oS=({ref:n,ref_key:e,ref_for:i})=>(typeof n=="number"&&(n=""+n),n!=null?qi(n)||Vi(n)||Jt(n)?{i:Lo,r:n,k:e,f:!!i}:n:null);function Mn(n,e=null,i=null,r=0,o=null,s=n===mn?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&WH(e),ref:e&&oS(e),scopeId:fH,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Lo};return l?(pI(u,i),s&128&&n.normalize(u)):i&&(u.shapeFlag|=qi(i)?8:16),Vy>0&&!a&&$s&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&$s.push(u),u}const N=Vre;function Vre(n,e=null,i=null,r=0,o=null,s=!1){if((!n||n===dre)&&(n=co),wr(n)){const l=ds(n,e,!0);return i&&pI(l,i),Vy>0&&!s&&$s&&(l.shapeFlag&6?$s[$s.indexOf(n)]=l:$s.push(l)),l.patchFlag=-2,l}if(toe(n)&&(n=n.__vccOpts),e){e=Wre(e);let{class:l,style:u}=e;l&&!qi(l)&&(e.class=ZP(l)),mi(u)&&(oI(u)&&!jt(u)&&(u=Cr({},u)),e.style=QP(u))}const a=qi(n)?1:GH(n)?128:pH(n)?64:mi(n)?4:Jt(n)?2:0;return Mn(n,e,i,r,o,a,s,!0)}function Wre(n){return n?oI(n)||OH(n)?Cr({},n):n:null}function ds(n,e,i=!1,r=!1){const{props:o,ref:s,patchFlag:a,children:l,transition:u}=n,c=e?jre(o||{},e):o,d={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&WH(c),ref:e&&e.ref?i&&s?jt(s)?s.concat(oS(e)):[s,oS(e)]:oS(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==mn?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:u,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ds(n.ssContent),ssFallback:n.ssFallback&&ds(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return u&&r&&mh(d,u.clone(d)),d}function tr(n=" ",e=0){return N(Dh,null,n,e)}function Ui(n="",e=!1){return e?(ni(),ig(co,null,n)):N(co,null,n)}function wl(n){return n==null||typeof n=="boolean"?N(co):jt(n)?N(mn,null,n.slice()):wr(n)?pd(n):N(Dh,null,String(n))}function pd(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ds(n)}function pI(n,e){let i=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(jt(e))i=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),pI(n,o()),o._c&&(o._d=!0));return}else{i=32;const o=e._;!o&&!OH(e)?e._ctx=Lo:o===3&&Lo&&(Lo.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Jt(e)?(e={default:e,_ctx:Lo},i=32):(e=String(e),r&64?(i=16,e=[tr(e)]):i=8);n.children=e,n.shapeFlag|=i}function jre(...n){const e={};for(let i=0;i<n.length;i++){const r=n[i];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=ZP([e.class,r.class]));else if(o==="style")e.style=QP([e.style,r.style]);else if(s1(o)){const s=e[o],a=r[o];a&&s!==a&&!(jt(s)&&s.includes(a))&&(e[o]=s?[].concat(s,a):a)}else o!==""&&(e[o]=r[o])}return e}function hl(n,e,i,r=null){tl(n,e,7,[i,r])}const Kre=PH();let qre=0;function Xre(n,e,i){const r=n.type,o=(e?e.appContext:n.appContext)||Kre,s={uid:qre++,vnode:n,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new z8(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:LH(r,o),emitsOptions:HH(r,o),emit:null,emitted:null,propsDefaults:ci,inheritAttrs:r.inheritAttrs,ctx:ci,data:ci,props:ci,attrs:ci,slots:ci,refs:ci,setupState:ci,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Fre.bind(null,s),n.ce&&n.ce(s),s}let Lr=null;const hs=()=>Lr||Lo;let XS,S2;{const n=c1(),e=(i,r)=>{let o;return(o=n[i])||(o=n[i]=[]),o.push(r),s=>{o.length>1?o.forEach(a=>a(s)):o[0](s)}};XS=e("__VUE_INSTANCE_SETTERS__",i=>Lr=i),S2=e("__VUE_SSR_SETTERS__",i=>Wy=i)}const U0=n=>{const e=Lr;return XS(n),n.scope.on(),()=>{n.scope.off(),XS(e)}},xB=()=>{Lr&&Lr.scope.off(),XS(null)};function jH(n){return n.vnode.shapeFlag&4}let Wy=!1;function Yre(n,e=!1,i=!1){e&&S2(e);const{props:r,children:o}=n.vnode,s=jH(n);wre(n,r,s,e),Ere(n,o,i);const a=s?Qre(n,e):void 0;return e&&S2(!1),a}function Qre(n,e){const i=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,pre);const{setup:r}=i;if(r){Vd();const o=n.setupContext=r.length>1?Jre(n):null,s=U0(n),a=$0(r,n,0,[n.props,o]),l=D8(a);if(Wd(),s(),(l||n.sp)&&!vy(n)&&wH(n),l){if(a.then(xB,xB),e)return a.then(u=>{_B(n,u)}).catch(u=>{f1(u,n,0)});n.asyncDep=a}else _B(n,a)}else KH(n)}function _B(n,e,i){Jt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:mi(e)&&(n.setupState=sH(e)),KH(n)}function KH(n,e,i){const r=n.type;n.render||(n.render=r.render||Nl);{const o=U0(n);Vd();try{gre(n)}finally{Wd(),o()}}}const Zre={get(n,e){return oo(n,"get",""),n[e]}};function Jre(n){const e=i=>{n.exposed=i||{}};return{attrs:new Proxy(n.attrs,Zre),slots:n.slots,emit:n.emit,expose:e}}function m1(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(sH(sI(n.exposed)),{get(e,i){if(i in e)return e[i];if(i in yy)return yy[i](n)},has(e,i){return i in e||i in yy}})):n.proxy}function eoe(n,e=!0){return Jt(n)?n.displayName||n.name:n.name||e&&n.__name}function toe(n){return Jt(n)&&"__vccOpts"in n}const K=(n,e)=>qie(n,e,Wy);function lc(n,e,i){const r=arguments.length;return r===2?mi(e)&&!jt(e)?wr(e)?N(n,null,[e]):N(n,e):N(n,null,e):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&wr(i)&&(i=[i]),N(n,e,i))}const noe="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let w2;const SB=typeof window<"u"&&window.trustedTypes;if(SB)try{w2=SB.createPolicy("vue",{createHTML:n=>n})}catch{}const qH=w2?n=>w2.createHTML(n):n=>n,ioe="http://www.w3.org/2000/svg",roe="http://www.w3.org/1998/Math/MathML",Du=typeof document<"u"?document:null,wB=Du&&Du.createElement("template"),ooe={insert:(n,e,i)=>{e.insertBefore(n,i||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,i,r)=>{const o=e==="svg"?Du.createElementNS(ioe,n):e==="mathml"?Du.createElementNS(roe,n):i?Du.createElement(n,{is:i}):Du.createElement(n);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>Du.createTextNode(n),createComment:n=>Du.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Du.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,i,r,o,s){const a=i?i.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),i),!(o===s||!(o=o.nextSibling)););else{wB.innerHTML=qH(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const l=wB.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,i)}return[a?a.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},Wc="transition",lv="animation",Ug=Symbol("_vtc"),XH={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},YH=Cr({},bH,XH),soe=n=>(n.displayName="Transition",n.props=YH,n),nl=soe((n,{slots:e})=>lc(nre,QH(n),e)),gf=(n,e=[])=>{jt(n)?n.forEach(i=>i(...e)):n&&n(...e)},CB=n=>n?jt(n)?n.some(e=>e.length>1):n.length>1:!1;function QH(n){const e={};for(const D in n)D in XH||(e[D]=n[D]);if(n.css===!1)return e;const{name:i="v",type:r,duration:o,enterFromClass:s=`${i}-enter-from`,enterActiveClass:a=`${i}-enter-active`,enterToClass:l=`${i}-enter-to`,appearFromClass:u=s,appearActiveClass:c=a,appearToClass:d=l,leaveFromClass:f=`${i}-leave-from`,leaveActiveClass:h=`${i}-leave-active`,leaveToClass:p=`${i}-leave-to`}=n,g=aoe(o),b=g&&g[0],y=g&&g[1],{onBeforeEnter:m,onEnter:_,onEnterCancelled:S,onLeave:w,onLeaveCancelled:A,onBeforeAppear:T=m,onAppear:C=_,onAppearCancelled:R=S}=e,E=(D,F,L,$)=>{D._enterCancelled=$,cd(D,F?d:l),cd(D,F?c:a),L&&L()},P=(D,F)=>{D._isLeaving=!1,cd(D,f),cd(D,p),cd(D,h),F&&F()},I=D=>(F,L)=>{const $=D?C:_,U=()=>E(F,D,L);gf($,[F,U]),AB(()=>{cd(F,D?u:s),pl(F,D?d:l),CB($)||TB(F,r,b,U)})};return Cr(e,{onBeforeEnter(D){gf(m,[D]),pl(D,s),pl(D,a)},onBeforeAppear(D){gf(T,[D]),pl(D,u),pl(D,c)},onEnter:I(!1),onAppear:I(!0),onLeave(D,F){D._isLeaving=!0;const L=()=>P(D,F);pl(D,f),D._enterCancelled?(pl(D,h),C2()):(C2(),pl(D,h)),AB(()=>{D._isLeaving&&(cd(D,f),pl(D,p),CB(w)||TB(D,r,y,L))}),gf(w,[D,L])},onEnterCancelled(D){E(D,!1,void 0,!0),gf(S,[D])},onAppearCancelled(D){E(D,!0,void 0,!0),gf(R,[D])},onLeaveCancelled(D){P(D),gf(A,[D])}})}function aoe(n){if(n==null)return null;if(mi(n))return[ZA(n.enter),ZA(n.leave)];{const e=ZA(n);return[e,e]}}function ZA(n){return pie(n)}function pl(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.add(i)),(n[Ug]||(n[Ug]=new Set)).add(e)}function cd(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const i=n[Ug];i&&(i.delete(e),i.size||(n[Ug]=void 0))}function AB(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let loe=0;function TB(n,e,i,r){const o=n._endId=++loe,s=()=>{o===n._endId&&r()};if(i!=null)return setTimeout(s,i);const{type:a,timeout:l,propCount:u}=ZH(n,e);if(!a)return r();const c=a+"end";let d=0;const f=()=>{n.removeEventListener(c,h),s()},h=p=>{p.target===n&&++d>=u&&f()};setTimeout(()=>{d<u&&f()},l+1),n.addEventListener(c,h)}function ZH(n,e){const i=window.getComputedStyle(n),r=g=>(i[g]||"").split(", "),o=r(`${Wc}Delay`),s=r(`${Wc}Duration`),a=EB(o,s),l=r(`${lv}Delay`),u=r(`${lv}Duration`),c=EB(l,u);let d=null,f=0,h=0;e===Wc?a>0&&(d=Wc,f=a,h=s.length):e===lv?c>0&&(d=lv,f=c,h=u.length):(f=Math.max(a,c),d=f>0?a>c?Wc:lv:null,h=d?d===Wc?s.length:u.length:0);const p=d===Wc&&/\b(transform|all)(,|$)/.test(r(`${Wc}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:p}}function EB(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((i,r)=>MB(i)+MB(n[r])))}function MB(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function C2(){return document.body.offsetHeight}function uoe(n,e,i){const r=n[Ug];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):i?n.setAttribute("class",e):n.className=e}const YS=Symbol("_vod"),JH=Symbol("_vsh"),Jo={beforeMount(n,{value:e},{transition:i}){n[YS]=n.style.display==="none"?"":n.style.display,i&&e?i.beforeEnter(n):uv(n,e)},mounted(n,{value:e},{transition:i}){i&&e&&i.enter(n)},updated(n,{value:e,oldValue:i},{transition:r}){!e!=!i&&(r?e?(r.beforeEnter(n),uv(n,!0),r.enter(n)):r.leave(n,()=>{uv(n,!1)}):uv(n,e))},beforeUnmount(n,{value:e}){uv(n,e)}};function uv(n,e){n.style.display=e?n[YS]:"none",n[JH]=!e}const coe=Symbol(""),doe=/(^|;)\s*display\s*:/;function foe(n,e,i){const r=n.style,o=qi(i);let s=!1;if(i&&!o){if(e)if(qi(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();i[l]==null&&sS(r,l,"")}else for(const a in e)i[a]==null&&sS(r,a,"");for(const a in i)a==="display"&&(s=!0),sS(r,a,i[a])}else if(o){if(e!==i){const a=r[coe];a&&(i+=";"+a),r.cssText=i,s=doe.test(i)}}else e&&n.removeAttribute("style");YS in n&&(n[YS]=s?r.display:"",n[JH]&&(r.display="none"))}const RB=/\s*!important$/;function sS(n,e,i){if(jt(i))i.forEach(r=>sS(n,e,r));else if(i==null&&(i=""),e.startsWith("--"))n.setProperty(e,i);else{const r=hoe(n,e);RB.test(i)?n.setProperty(Oh(r),i.replace(RB,""),"important"):n[r]=i}}const PB=["Webkit","Moz","ms"],JA={};function hoe(n,e){const i=JA[e];if(i)return i;let r=ya(e);if(r!=="filter"&&r in n)return JA[e]=r;r=u1(r);for(let o=0;o<PB.length;o++){const s=PB[o]+r;if(s in n)return JA[e]=s}return e}const IB="http://www.w3.org/1999/xlink";function NB(n,e,i,r,o,s=xie(e)){r&&e.startsWith("xlink:")?i==null?n.removeAttributeNS(IB,e.slice(6,e.length)):n.setAttributeNS(IB,e,i):i==null||s&&!$8(i)?n.removeAttribute(e):n.setAttribute(e,s?"":Gd(i)?String(i):i)}function OB(n,e,i,r,o){if(e==="innerHTML"||e==="textContent"){i!=null&&(n[e]=e==="innerHTML"?qH(i):i);return}const s=n.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?n.getAttribute("value")||"":n.value,u=i==null?n.type==="checkbox"?"on":"":String(i);(l!==u||!("_value"in n))&&(n.value=u),i==null&&n.removeAttribute(e),n._value=i;return}let a=!1;if(i===""||i==null){const l=typeof n[e];l==="boolean"?i=$8(i):i==null&&l==="string"?(i="",a=!0):l==="number"&&(i=0,a=!0)}try{n[e]=i}catch{}a&&n.removeAttribute(o||e)}function poe(n,e,i,r){n.addEventListener(e,i,r)}function goe(n,e,i,r){n.removeEventListener(e,i,r)}const DB=Symbol("_vei");function moe(n,e,i,r,o=null){const s=n[DB]||(n[DB]={}),a=s[e];if(r&&a)a.value=r;else{const[l,u]=voe(e);if(r){const c=s[e]=xoe(r,o);poe(n,l,c,u)}else a&&(goe(n,l,a,u),s[e]=void 0)}}const LB=/(?:Once|Passive|Capture)$/;function voe(n){let e;if(LB.test(n)){e={};let r;for(;r=n.match(LB);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Oh(n.slice(2)),e]}let eT=0;const yoe=Promise.resolve(),boe=()=>eT||(yoe.then(()=>eT=0),eT=Date.now());function xoe(n,e){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;tl(_oe(r,i.value),e,5,[r])};return i.value=n,i.attached=boe(),i}function _oe(n,e){if(jt(e)){const i=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{i.call(n),n._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const BB=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Soe=(n,e,i,r,o,s)=>{const a=o==="svg";e==="class"?uoe(n,r,a):e==="style"?foe(n,i,r):s1(e)?qP(e)||moe(n,e,i,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):woe(n,e,r,a))?(OB(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&NB(n,e,r,a,s,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!qi(r))?OB(n,ya(e),r,s,e):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),NB(n,e,r,a))};function woe(n,e,i,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&BB(e)&&Jt(i));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=n.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return BB(e)&&qi(i)?!1:e in n}const eG=new WeakMap,tG=new WeakMap,QS=Symbol("_moveCb"),FB=Symbol("_enterCb"),Coe=n=>(delete n.props.mode,n),Aoe=Coe({name:"TransitionGroup",props:Cr({},YH,{tag:String,moveClass:String}),setup(n,{slots:e}){const i=hs(),r=yH();let o,s;return Ca(()=>{if(!o.length)return;const a=n.moveClass||`${n.name||"v"}-move`;if(!Poe(o[0].el,i.vnode.el,a))return;o.forEach(Eoe),o.forEach(Moe);const l=o.filter(Roe);C2(),l.forEach(u=>{const c=u.el,d=c.style;pl(c,a),d.transform=d.webkitTransform=d.transitionDuration="";const f=c[QS]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",f),c[QS]=null,cd(c,a))};c.addEventListener("transitionend",f)})}),()=>{const a=pn(n),l=QH(a);let u=a.tag||mn;if(o=[],s)for(let c=0;c<s.length;c++){const d=s[c];d.el&&d.el instanceof Element&&(o.push(d),mh(d,Gy(d,l,r,i)),eG.set(d,d.el.getBoundingClientRect()))}s=e.default?lI(e.default()):[];for(let c=0;c<s.length;c++){const d=s[c];d.key!=null&&mh(d,Gy(d,l,r,i))}return N(u,null,s)}}}),Toe=Aoe;function Eoe(n){const e=n.el;e[QS]&&e[QS](),e[FB]&&e[FB]()}function Moe(n){tG.set(n,n.el.getBoundingClientRect())}function Roe(n){const e=eG.get(n),i=tG.get(n),r=e.left-i.left,o=e.top-i.top;if(r||o){const s=n.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${o}px)`,s.transitionDuration="0s",n}}function Poe(n,e,i){const r=n.cloneNode(),o=n[Ug];o&&o.forEach(l=>{l.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),i.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:a}=ZH(r);return s.removeChild(r),a}const Ioe=["ctrl","shift","alt","meta"],Noe={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>Ioe.some(i=>n[`${i}Key`]&&!e.includes(i))},$B=(n,e)=>{const i=n._withMods||(n._withMods={}),r=e.join(".");return i[r]||(i[r]=(o,...s)=>{for(let a=0;a<e.length;a++){const l=Noe[e[a]];if(l&&l(o,e))return}return n(o,...s)})},Ooe=Cr({patchProp:Soe},ooe);let UB;function nG(){return UB||(UB=Rre(Ooe))}const A2=(...n)=>{nG().render(...n)},Doe=(...n)=>{const e=nG().createApp(...n),{mount:i}=e;return e.mount=r=>{const o=Boe(r);if(!o)return;const s=e._component;!Jt(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=i(o,!1,Loe(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function Loe(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Boe(n){return qi(n)?document.querySelector(n):n}function jy(n){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(n)}function Foe(n,e){if(jy(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $oe(n){var e=Foe(n,"string");return jy(e)=="symbol"?e:e+""}function Uoe(n,e,i){return(e=$oe(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function kB(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function ve(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(i),!0).forEach(function(r){Uoe(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):kB(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function O(){return O=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},O.apply(null,arguments)}const koe=n=>typeof n=="function",zoe=Array.isArray,Hoe=n=>typeof n=="string",Goe=n=>n!==null&&typeof n=="object",Voe=/^on[^a-z]/,Woe=n=>Voe.test(n),gI=n=>{const e=Object.create(null);return i=>e[i]||(e[i]=n(i))},joe=/-(\w)/g,k0=gI(n=>n.replace(joe,(e,i)=>i?i.toUpperCase():"")),Koe=/\B([A-Z])/g,qoe=gI(n=>n.replace(Koe,"-$1").toLowerCase()),Xoe=gI(n=>n.charAt(0).toUpperCase()+n.slice(1)),Yoe=Object.prototype.hasOwnProperty,zB=(n,e)=>Yoe.call(n,e);function Qoe(n,e,i,r){const o=n[i];if(o!=null){const s=zB(o,"default");if(s&&r===void 0){const a=o.default;r=o.type!==Function&&koe(a)?a():a}o.type===Boolean&&(!zB(e,i)&&!s?r=!1:r===""&&(r=!0))}return r}function Uf(n){return typeof n=="number"?`${n}px`:n}function Qe(){const n=[];for(let e=0;e<arguments.length;e++){const i=e<0||arguments.length<=e?void 0:arguments[e];if(i){if(Hoe(i))n.push(i);else if(zoe(i))for(let r=0;r<i.length;r++){const o=Qe(i[r]);o&&n.push(o)}else if(Goe(i))for(const r in i)i[r]&&n.push(r)}}return n.join(" ")}var iG=function(){if(typeof Map<"u")return Map;function n(e,i){var r=-1;return e.some(function(o,s){return o[0]===i?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(i){var r=n(this.__entries__,i),o=this.__entries__[r];return o&&o[1]},e.prototype.set=function(i,r){var o=n(this.__entries__,i);~o?this.__entries__[o][1]=r:this.__entries__.push([i,r])},e.prototype.delete=function(i){var r=this.__entries__,o=n(r,i);~o&&r.splice(o,1)},e.prototype.has=function(i){return!!~n(this.__entries__,i)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(i,r){r===void 0&&(r=null);for(var o=0,s=this.__entries__;o<s.length;o++){var a=s[o];i.call(r,a[1],a[0])}},e}()}(),T2=typeof window<"u"&&typeof document<"u"&&window.document===document,ZS=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Zoe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ZS):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),Joe=2;function ese(n,e){var i=!1,r=!1,o=0;function s(){i&&(i=!1,n()),r&&l()}function a(){Zoe(s)}function l(){var u=Date.now();if(i){if(u-o<Joe)return;r=!0}else i=!0,r=!1,setTimeout(a,e);o=u}return l}var tse=20,nse=["top","right","bottom","left","width","height","size","weight"],ise=typeof MutationObserver<"u",rse=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ese(this.refresh.bind(this),tse)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var i=this.observers_,r=i.indexOf(e);~r&&i.splice(r,1),!i.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(i){return i.gatherActive(),i.hasActive()});return e.forEach(function(i){return i.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!T2||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ise?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!T2||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var i=e.propertyName,r=i===void 0?"":i,o=nse.some(function(s){return!!~r.indexOf(s)});o&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),rG=function(n,e){for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},kg=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||ZS},oG=v1(0,0,0,0);function JS(n){return parseFloat(n)||0}function HB(n){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(r,o){var s=n["border-"+o+"-width"];return r+JS(s)},0)}function ose(n){for(var e=["top","right","bottom","left"],i={},r=0,o=e;r<o.length;r++){var s=o[r],a=n["padding-"+s];i[s]=JS(a)}return i}function sse(n){var e=n.getBBox();return v1(0,0,e.width,e.height)}function ase(n){var e=n.clientWidth,i=n.clientHeight;if(!e&&!i)return oG;var r=kg(n).getComputedStyle(n),o=ose(r),s=o.left+o.right,a=o.top+o.bottom,l=JS(r.width),u=JS(r.height);if(r.boxSizing==="border-box"&&(Math.round(l+s)!==e&&(l-=HB(r,"left","right")+s),Math.round(u+a)!==i&&(u-=HB(r,"top","bottom")+a)),!use(n)){var c=Math.round(l+s)-e,d=Math.round(u+a)-i;Math.abs(c)!==1&&(l-=c),Math.abs(d)!==1&&(u-=d)}return v1(o.left,o.top,l,u)}var lse=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof kg(n).SVGGraphicsElement}:function(n){return n instanceof kg(n).SVGElement&&typeof n.getBBox=="function"}}();function use(n){return n===kg(n).document.documentElement}function cse(n){return T2?lse(n)?sse(n):ase(n):oG}function dse(n){var e=n.x,i=n.y,r=n.width,o=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return rG(a,{x:e,y:i,width:r,height:o,top:i,right:e+r,bottom:o+i,left:e}),a}function v1(n,e,i,r){return{x:n,y:e,width:i,height:r}}var fse=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v1(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=cse(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),hse=function(){function n(e,i){var r=dse(i);rG(this,{target:e,contentRect:r})}return n}(),pse=function(){function n(e,i,r){if(this.activeObservations_=[],this.observations_=new iG,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=i,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof kg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(e)||(i.set(e,new fse(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof kg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(e)&&(i.delete(e),i.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(i){i.isActive()&&e.activeObservations_.push(i)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,i=this.activeObservations_.map(function(r){return new hse(r.target,r.broadcastRect())});this.callback_.call(e,i,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),sG=typeof WeakMap<"u"?new WeakMap:new iG,aG=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=rse.getInstance(),r=new pse(e,i,this);sG.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){aG.prototype[n]=function(){var e;return(e=sG.get(this))[n].apply(e,arguments)}});var lG=function(){return typeof ZS.ResizeObserver<"u"?ZS.ResizeObserver:aG}();const E2=n=>n!=null&&n!=="",fi=(n,e)=>{const i=O({},n);return Object.keys(e).forEach(r=>{const o=i[r];if(o)o.type||o.default?o.default=e[r]:o.def?o.def(e[r]):i[r]={type:o,default:e[r]};else throw new Error(`not have ${r} prop`)}),i},uG=n=>{const e=Object.keys(n),i={},r={},o={};for(let s=0,a=e.length;s<a;s++){const l=e[s];Woe(l)?(i[l[2].toLowerCase()+l.slice(3)]=n[l],r[l]=n[l]):o[l]=n[l]}return{onEvents:r,events:i,extraAttrs:o}},gse=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i={},r=/;(?![^(]*\))/g,o=/:(.+)/;return typeof n=="object"?n:(n.split(r).forEach(function(s){if(s){const a=s.split(o);if(a.length>1){const l=e?k0(a[0].trim()):a[0].trim();i[l]=a[1].trim()}}}),i)},rg=(n,e)=>n[e]!==void 0,cG=Symbol("skipFlatten"),ir=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=Array.isArray(n)?n:[n],r=[];return i.forEach(o=>{Array.isArray(o)?r.push(...ir(o,e)):o&&o.type===mn?o.key===cG?r.push(o):r.push(...ir(o.children,e)):o&&wr(o)?e&&!mI(o)?r.push(o):e||r.push(o):E2(o)&&r.push(o)}),r},mse=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(wr(n))return n.type===mn?e==="default"?ir(n.children):[]:n.children&&n.children[e]?ir(n.children[e](i)):[];{const r=n.$slots[e]&&n.$slots[e](i);return ir(r)}},Ku=n=>{var e;let i=((e=n==null?void 0:n.vnode)===null||e===void 0?void 0:e.el)||n&&(n.$el||n);for(;i&&!i.tagName;)i=i.nextSibling;return i},vse=n=>{const e={};if(n.$&&n.$.vnode){const i=n.$.vnode.props||{};Object.keys(n.$props).forEach(r=>{const o=n.$props[r],s=qoe(r);(o!==void 0||s in i)&&(e[r]=o)})}else if(wr(n)&&typeof n.type=="object"){const i=n.props||{},r={};Object.keys(i).forEach(s=>{r[k0(s)]=i[s]});const o=n.type.props||{};Object.keys(o).forEach(s=>{const a=Qoe(o,r,s,r[s]);(a!==void 0||s in r)&&(e[s]=a)})}return e},dG=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o;if(n.$){const s=n[e];if(s!==void 0)return typeof s=="function"&&r?s(i):s;o=n.$slots[e],o=r&&o?o(i):o}else if(wr(n)){const s=n.props&&n.props[e];if(s!==void 0&&n.props!==null)return typeof s=="function"&&r?s(i):s;n.type===mn?o=n.children:n.children&&n.children[e]&&(o=n.children[e],o=r&&o?o(i):o)}return Array.isArray(o)&&(o=ir(o),o=o.length===1?o[0]:o,o=o.length===0?void 0:o),o};function GB(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i={};return n.$?i=O(O({},i),n.$attrs):i=O(O({},i),n.props),uG(i)[e?"onEvents":"events"]}function yse(n,e){let r=((wr(n)?n.props:n.$attrs)||{}).style||{};return typeof r=="string"&&(r=gse(r,e)),r}function bse(n){return n.length===1&&n[0].type===mn}function mI(n){return n&&(n.type===co||n.type===mn&&n.children.length===0||n.type===Dh&&n.children.trim()==="")}function Fo(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return n.forEach(i=>{Array.isArray(i)?e.push(...i):(i==null?void 0:i.type)===mn?e.push(...Fo(i.children)):e.push(i)}),e.filter(i=>!mI(i))}function cv(n){if(n){const e=Fo(n);return e.length?e:void 0}else return n}function mo(n){return Array.isArray(n)&&n.length===1&&(n=n[0]),n&&n.__v_isVNode&&typeof n.type!="symbol"}function ha(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";var r,o;return(r=e[i])!==null&&r!==void 0?r:(o=n[i])===null||o===void 0?void 0:o.call(n)}const Bd=je({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(n,e){let{slots:i}=e;const r=Ki({width:0,height:0,offsetHeight:0,offsetWidth:0});let o=null,s=null;const a=()=>{s&&(s.disconnect(),s=null)},l=d=>{const{onResize:f}=n,h=d[0].target,{width:p,height:g}=h.getBoundingClientRect(),{offsetWidth:b,offsetHeight:y}=h,m=Math.floor(p),_=Math.floor(g);if(r.width!==m||r.height!==_||r.offsetWidth!==b||r.offsetHeight!==y){const S={width:m,height:_,offsetWidth:b,offsetHeight:y};O(r,S),f&&Promise.resolve().then(()=>{f(O(O({},S),{offsetWidth:b,offsetHeight:y}),h)})}},u=hs(),c=()=>{const{disabled:d}=n;if(d){a();return}const f=Ku(u);f!==o&&(a(),o=f),!s&&f&&(s=new lG(l),s.observe(f))};return en(()=>{c()}),Ca(()=>{c()}),al(()=>{a()}),ct(()=>n.disabled,()=>{c()},{flush:"post"}),()=>{var d;return(d=i.default)===null||d===void 0?void 0:d.call(i)[0]}}});let fG=n=>setTimeout(n,16),hG=n=>clearTimeout(n);typeof window<"u"&&"requestAnimationFrame"in window&&(fG=n=>window.requestAnimationFrame(n),hG=n=>window.cancelAnimationFrame(n));let VB=0;const vI=new Map;function pG(n){vI.delete(n)}function xn(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;VB+=1;const i=VB;function r(o){if(o===0)pG(i),n();else{const s=fG(()=>{r(o-1)});vI.set(i,s)}}return r(e),i}xn.cancel=n=>{const e=vI.get(n);return pG(e),hG(e)};const vh=function(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return e},jd=n=>{const e=n;return e.install=function(i){i.component(e.displayName||e.name,n)},n};function zg(){return{type:[Function,Array]}}function vn(n){return{type:Object,default:n}}function It(n){return{type:Boolean,default:n}}function pt(n){return{type:Function,default:n}}function Os(n,e){const i={validator:()=>!0,default:n};return i}function tT(){return{validator:()=>!0}}function Ii(n){return{type:Array,default:n}}function Nn(n){return{type:String,default:n}}function Pi(n,e){return n?{type:n,default:e}:Os(e)}let lo=!1;try{const n=Object.defineProperty({},"passive",{get(){lo=!0}});window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}catch{}function da(n,e,i,r){if(n&&n.addEventListener){let o=r;o===void 0&&lo&&(e==="touchstart"||e==="touchmove"||e==="wheel")&&(o={passive:!1}),n.addEventListener(e,i,o)}return{remove:()=>{n&&n.removeEventListener&&n.removeEventListener(e,i)}}}const xse="anticon",gG=Symbol("configProvider"),mG={getPrefixCls:(n,e)=>e||(n?`ant-${n}`:"ant"),iconPrefixCls:K(()=>xse),getPopupContainer:K(()=>()=>document.body),direction:K(()=>"ltr")},_se=()=>qt(gG,mG),Sse=Symbol("DisabledContextKey"),Bl=()=>qt(Sse,Ge(void 0)),vG={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},wse={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},yG={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},WB={lang:O({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},wse),timePickerLocale:O({},yG)},Ss="${label} is not a valid ${type}",Ky={locale:"en",Pagination:vG,DatePicker:WB,TimePicker:yG,Calendar:WB,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ss,method:Ss,array:Ss,object:Ss,number:Ss,date:Ss,boolean:Ss,integer:Ss,float:Ss,regexp:Ss,email:Ss,url:Ss,hex:Ss},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"}},Cse=je({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(n,e){let{slots:i}=e;const r=qt("localeData",{}),o=K(()=>{const{componentName:a="global",defaultLocale:l}=n,u=l||Ky[a||"global"],{antLocale:c}=r,d=a&&c?c[a]:{};return O(O({},typeof u=="function"?u():u),d||{})}),s=K(()=>{const{antLocale:a}=r,l=a&&a.locale;return a&&a.exist&&!l?Ky.locale:l});return()=>{const a=n.children||i.default,{antLocale:l}=r;return a==null?void 0:a(o.value,s.value,l)}}});function yI(n,e,i){const r=qt("localeData",{});return[K(()=>{const{antLocale:s}=r,a=ao(e)||Ky[n||"global"],l=n&&s?s[n]:{};return O(O(O({},typeof a=="function"?a():a),l||{}),ao(i)||{})})]}function bI(n){for(var e=0,i,r=0,o=n.length;o>=4;++r,o-=4)i=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}const jB="%";class Ase{constructor(e){this.cache=new Map,this.instanceId=e}get(e){return this.cache.get(Array.isArray(e)?e.join(jB):e)||null}update(e,i){const r=Array.isArray(e)?e.join(jB):e,o=this.cache.get(r),s=i(o);s===null?this.cache.delete(r):this.cache.set(r,s)}}const bG="data-token-hash",ih="data-css-hash",lg="__cssinjs_instance__";function qy(){const n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const e=document.body.querySelectorAll(`style[${ih}]`)||[],{firstChild:i}=document.head;Array.from(e).forEach(o=>{o[lg]=o[lg]||n,o[lg]===n&&document.head.insertBefore(o,i)});const r={};Array.from(document.querySelectorAll(`style[${ih}]`)).forEach(o=>{var s;const a=o.getAttribute(ih);r[a]?o[lg]===n&&((s=o.parentNode)===null||s===void 0||s.removeChild(o)):r[a]=!0})}return new Ase(n)}const xG=Symbol("StyleContextKey"),Tse=()=>{var n,e,i;const r=hs();let o;if(r&&r.appContext){const s=(i=(e=(n=r.appContext)===null||n===void 0?void 0:n.config)===null||e===void 0?void 0:e.globalProperties)===null||i===void 0?void 0:i.__ANTDV_CSSINJS_CACHE__;s?o=s:(o=qy(),r.appContext.config.globalProperties&&(r.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__=o))}else o=qy();return o},_G={cache:qy(),defaultCache:!0,hashPriority:"low"},y1=()=>{const n=Tse();return qt(xG,Oe(O(O({},_G),{cache:n})))},Ese=n=>{const e=y1(),i=Oe(O(O({},_G),{cache:qy()}));return ct([()=>ao(n),e],()=>{const r=O({},e.value),o=ao(n);Object.keys(o).forEach(a=>{const l=o[a];o[a]!==void 0&&(r[a]=l)});const{cache:s}=o;r.cache=r.cache||qy(),r.defaultCache=!s&&e.value.defaultCache,i.value=r},{immediate:!0}),jn(xG,i),i},Mse=()=>({autoClear:It(),mock:Nn(),cache:vn(),defaultCache:It(),hashPriority:Nn(),container:Pi(),ssrInline:It(),transformers:Ii(),linters:Ii()});jd(je({name:"AStyleProvider",inheritAttrs:!1,props:Mse(),setup(n,e){let{slots:i}=e;return Ese(n),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}}));function SG(n,e,i,r){const o=y1(),s=Oe(""),a=Oe();ln(()=>{s.value=[n,...e.value].join("%")});const l=u=>{o.value.cache.update(u,c=>{const[d=0,f]=c||[];return d-1===0?(r==null||r(f,!1),null):[d-1,f]})};return ct(s,(u,c)=>{c&&l(c),o.value.cache.update(u,d=>{const[f=0,h]=d||[],g=h||i();return[f+1,g]}),a.value=o.value.cache.get(s.value)[1]},{immediate:!0}),Pn(()=>{l(s.value)}),a}function ba(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function kf(n,e){return n&&n.contains?n.contains(e):!1}const KB="data-vc-order",Rse="vc-util-key",M2=new Map;function wG(){let{mark:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n?n.startsWith("data-")?n:`data-${n}`:Rse}function b1(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function Pse(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function CG(n){return Array.from((M2.get(n)||n).children).filter(e=>e.tagName==="STYLE")}function AG(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ba())return null;const{csp:i,prepend:r}=e,o=document.createElement("style");o.setAttribute(KB,Pse(r)),i!=null&&i.nonce&&(o.nonce=i==null?void 0:i.nonce),o.innerHTML=n;const s=b1(e),{firstChild:a}=s;if(r){if(r==="queue"){const l=CG(s).filter(u=>["prepend","prependQueue"].includes(u.getAttribute(KB)));if(l.length)return s.insertBefore(o,l[l.length-1].nextSibling),o}s.insertBefore(o,a)}else s.appendChild(o);return o}function TG(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=b1(e);return CG(i).find(r=>r.getAttribute(wG(e))===n)}function ew(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=TG(n,e);i&&b1(e).removeChild(i)}function Ise(n,e){const i=M2.get(n);if(!i||!kf(document,i)){const r=AG("",e),{parentNode:o}=r;M2.set(n,o),n.removeChild(r)}}function tw(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o,s;const a=b1(i);Ise(a,i);const l=TG(e,i);if(l)return!((r=i.csp)===null||r===void 0)&&r.nonce&&l.nonce!==((o=i.csp)===null||o===void 0?void 0:o.nonce)&&(l.nonce=(s=i.csp)===null||s===void 0?void 0:s.nonce),l.innerHTML!==n&&(l.innerHTML=n),l;const u=AG(n,i);return u.setAttribute(wG(i),e),u}function Nse(n,e){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==e[i])return!1;return!0}class Hg{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r={map:this.cache};return e.forEach(o=>{var s;r?r=(s=r==null?void 0:r.map)===null||s===void 0?void 0:s.get(o):r=void 0}),r!=null&&r.value&&i&&(r.value[1]=this.cacheCallTimes++),r==null?void 0:r.value}get(e){var i;return(i=this.internalGet(e,!0))===null||i===void 0?void 0:i[0]}has(e){return!!this.internalGet(e)}set(e,i){if(!this.has(e)){if(this.size()+1>Hg.MAX_CACHE_SIZE+Hg.MAX_CACHE_OFFSET){const[o]=this.keys.reduce((s,a)=>{const[,l]=s;return this.internalGet(a)[1]<l?[a,this.internalGet(a)[1]]:s},[this.keys[0],this.cacheCallTimes]);this.delete(o)}this.keys.push(e)}let r=this.cache;e.forEach((o,s)=>{if(s===e.length-1)r.set(o,{value:[i,this.cacheCallTimes++]});else{const a=r.get(o);a?a.map||(a.map=new Map):r.set(o,{map:new Map}),r=r.get(o).map}})}deleteByPath(e,i){var r;const o=e.get(i[0]);if(i.length===1)return o.map?e.set(i[0],{map:o.map}):e.delete(i[0]),(r=o.value)===null||r===void 0?void 0:r[0];const s=this.deleteByPath(o.map,i.slice(1));return(!o.map||o.map.size===0)&&!o.value&&e.delete(i[0]),s}delete(e){if(this.has(e))return this.keys=this.keys.filter(i=>!Nse(i,e)),this.deleteByPath(this.cache,e)}}Hg.MAX_CACHE_SIZE=20;Hg.MAX_CACHE_OFFSET=5;let qB={};function Ose(n,e){}function Dse(n,e,i){!e&&!qB[i]&&(qB[i]=!0)}function EG(n,e){Dse(Ose,n,e)}function Lse(){}let x1=Lse,XB=0;class MG{constructor(e){this.derivatives=Array.isArray(e)?e:[e],this.id=XB,e.length===0&&x1(e.length>0),XB+=1}getDerivativeToken(e){return this.derivatives.reduce((i,r)=>r(e,i),void 0)}}const nT=new Hg;function Bse(n){const e=Array.isArray(n)?n:[n];return nT.has(e)||nT.set(e,new MG(e)),nT.get(e)}const YB=new WeakMap;function nw(n){let e=YB.get(n)||"";return e||(Object.keys(n).forEach(i=>{const r=n[i];e+=i,r instanceof MG?e+=r.id:r&&typeof r=="object"?e+=nw(r):e+=r}),YB.set(n,e)),e}function Fse(n,e){return bI(`${e}_${nw(n)}`)}const xy=`random-${Date.now()}-${Math.random()}`.replace(/\./g,""),RG="_bAmBoO_";function $se(n,e,i){var r,o;if(ba()){tw(n,xy);const s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",e==null||e(s),document.body.appendChild(s);const a=i?i(s):(r=getComputedStyle(s).content)===null||r===void 0?void 0:r.includes(RG);return(o=s.parentNode)===null||o===void 0||o.removeChild(s),ew(xy),a}return!1}let iT;function Use(){return iT===void 0&&(iT=$se(`@layer ${xy} { .${xy} { content: "${RG}"!important; } }`,n=>{n.className=xy})),iT}const QB={},kse="css",zf=new Map;function zse(n){zf.set(n,(zf.get(n)||0)+1)}function Hse(n,e){typeof document<"u"&&document.querySelectorAll(`style[${bG}="${n}"]`).forEach(r=>{var o;r[lg]===e&&((o=r.parentNode)===null||o===void 0||o.removeChild(r))})}const Gse=0;function Vse(n,e){zf.set(n,(zf.get(n)||0)-1);const i=Array.from(zf.keys()),r=i.filter(o=>(zf.get(o)||0)<=0);i.length-r.length>Gse&&r.forEach(o=>{Hse(o,e),zf.delete(o)})}const Wse=(n,e,i,r)=>{const o=i.getDerivativeToken(n);let s=O(O({},o),e);return r&&(s=r(s)),s};function jse(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ge({});const r=y1(),o=K(()=>O({},...e.value)),s=K(()=>nw(o.value)),a=K(()=>nw(i.value.override||QB));return SG("token",K(()=>[i.value.salt||"",n.value.id,s.value,a.value]),()=>{const{salt:u="",override:c=QB,formatToken:d,getComputedToken:f}=i.value,h=f?f(o.value,c,n.value):Wse(o.value,c,n.value,d),p=Fse(h,u);h._tokenKey=p,zse(p);const g=`${kse}-${bI(p)}`;return h._hashId=g,[h,g]},u=>{var c;Vse(u[0]._tokenKey,(c=r.value)===null||c===void 0?void 0:c.cache.instanceId)})}var Kse={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PG="comm",IG="rule",NG="decl",qse="@import",Xse="@keyframes",Yse="@layer",OG=Math.abs,xI=String.fromCharCode;function DG(n){return n.trim()}function aS(n,e,i){return n.replace(e,i)}function Qse(n,e,i){return n.indexOf(e,i)}function bg(n,e){return n.charCodeAt(e)|0}function Gg(n,e,i){return n.slice(e,i)}function _l(n){return n.length}function Zse(n){return n.length}function rx(n,e){return e.push(n),n}var _1=1,Vg=1,LG=0,xa=0,ur=0,Em="";function _I(n,e,i,r,o,s,a,l){return{value:n,root:e,parent:i,type:r,props:o,children:s,line:_1,column:Vg,length:a,return:"",siblings:l}}function Jse(){return ur}function eae(){return ur=xa>0?bg(Em,--xa):0,Vg--,ur===10&&(Vg=1,_1--),ur}function Za(){return ur=xa<LG?bg(Em,xa++):0,Vg++,ur===10&&(Vg=1,_1++),ur}function Sd(){return bg(Em,xa)}function lS(){return xa}function S1(n,e){return Gg(Em,n,e)}function Xy(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tae(n){return _1=Vg=1,LG=_l(Em=n),xa=0,[]}function nae(n){return Em="",n}function rT(n){return DG(S1(xa-1,R2(n===91?n+2:n===40?n+1:n)))}function iae(n){for(;(ur=Sd())&&ur<33;)Za();return Xy(n)>2||Xy(ur)>3?"":" "}function rae(n,e){for(;--e&&Za()&&!(ur<48||ur>102||ur>57&&ur<65||ur>70&&ur<97););return S1(n,lS()+(e<6&&Sd()==32&&Za()==32))}function R2(n){for(;Za();)switch(ur){case n:return xa;case 34:case 39:n!==34&&n!==39&&R2(ur);break;case 40:n===41&&R2(n);break;case 92:Za();break}return xa}function oae(n,e){for(;Za()&&n+ur!==57;)if(n+ur===84&&Sd()===47)break;return"/*"+S1(e,xa-1)+"*"+xI(n===47?n:Za())}function sae(n){for(;!Xy(Sd());)Za();return S1(n,xa)}function aae(n){return nae(uS("",null,null,null,[""],n=tae(n),0,[0],n))}function uS(n,e,i,r,o,s,a,l,u){for(var c=0,d=0,f=a,h=0,p=0,g=0,b=1,y=1,m=1,_=0,S="",w=o,A=s,T=r,C=S;y;)switch(g=_,_=Za()){case 40:if(g!=108&&bg(C,f-1)==58){Qse(C+=aS(rT(_),"&","&\f"),"&\f",OG(c?l[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:C+=rT(_);break;case 9:case 10:case 13:case 32:C+=iae(g);break;case 92:C+=rae(lS()-1,7);continue;case 47:switch(Sd()){case 42:case 47:rx(lae(oae(Za(),lS()),e,i,u),u),(Xy(g||1)==5||Xy(Sd()||1)==5)&&_l(C)&&Gg(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*b:l[c++]=_l(C)*m;case 125*b:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+d:m==-1&&(C=aS(C,/\f/g,"")),p>0&&(_l(C)-f||b===0&&g===47)&&rx(p>32?JB(C+";",r,i,f-1,u):JB(aS(C," ","")+";",r,i,f-2,u),u);break;case 59:C+=";";default:if(rx(T=ZB(C,e,i,c,d,o,l,S,w=[],A=[],f,s),s),_===123)if(d===0)uS(C,e,T,T,w,s,f,l,A);else{switch(h){case 99:if(bg(C,3)===110)break;case 108:if(bg(C,2)===97)break;default:d=0;case 100:case 109:case 115:}d?uS(n,T,T,r&&rx(ZB(n,T,T,0,0,o,l,S,o,w=[],f,A),A),o,A,f,l,r?w:A):uS(C,T,T,T,[""],A,0,l,A)}}c=d=p=0,b=m=1,S=C="",f=a;break;case 58:f=1+_l(C),p=g;default:if(b<1){if(_==123)--b;else if(_==125&&b++==0&&eae()==125)continue}switch(C+=xI(_),_*b){case 38:m=d>0?1:(C+="\f",-1);break;case 44:l[c++]=(_l(C)-1)*m,m=1;break;case 64:Sd()===45&&(C+=rT(Za())),h=Sd(),d=f=_l(S=C+=sae(lS())),_++;break;case 45:g===45&&_l(C)==2&&(b=0)}}return s}function ZB(n,e,i,r,o,s,a,l,u,c,d,f){for(var h=o-1,p=o===0?s:[""],g=Zse(p),b=0,y=0,m=0;b<r;++b)for(var _=0,S=Gg(n,h+1,h=OG(y=a[b])),w=n;_<g;++_)(w=DG(y>0?p[_]+" "+S:aS(S,/&\f/g,p[_])))&&(u[m++]=w);return _I(n,e,i,o===0?IG:l,u,c,d,f)}function lae(n,e,i,r){return _I(n,e,i,PG,xI(Jse()),Gg(n,2,-2),0,r)}function JB(n,e,i,r,o){return _I(n,e,i,NG,Gg(n,0,r),Gg(n,r+1,-1),r,o)}function P2(n,e){for(var i="",r=0;r<n.length;r++)i+=e(n[r],r,n,e)||"";return i}function uae(n,e,i,r){switch(n.type){case Yse:if(n.children.length)break;case qse:case NG:return n.return=n.return||n.value;case PG:return"";case Xse:return n.return=n.value+"{"+P2(n.children,r)+"}";case IG:if(!_l(n.value=n.props.join(",")))return""}return _l(i=P2(n.children,r))?n.return=n.value+"{"+i+"}":""}const eF="data-ant-cssinjs-cache-path",cae="_FILE_STYLE__";let rh,BG=!0;function dae(){var n;if(!rh&&(rh={},ba())){const e=document.createElement("div");e.className=eF,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);let i=getComputedStyle(e).content||"";i=i.replace(/^"/,"").replace(/"$/,""),i.split(";").forEach(o=>{const[s,a]=o.split(":");rh[s]=a});const r=document.querySelector(`style[${eF}]`);r&&(BG=!1,(n=r.parentNode)===null||n===void 0||n.removeChild(r)),document.body.removeChild(e)}}function fae(n){return dae(),!!rh[n]}function hae(n){const e=rh[n];let i=null;if(e&&ba())if(BG)i=cae;else{const r=document.querySelector(`style[${ih}="${rh[n]}"]`);r?i=r.innerHTML:delete rh[n]}return[i,e]}const tF=ba(),pae="_skip_check_",FG="_multi_value_";function nF(n){return P2(aae(n),uae).replace(/\{%%%\:[^;];}/g,";")}function gae(n){return typeof n=="object"&&n&&(pae in n||FG in n)}function mae(n,e,i){if(!e)return n;const r=`.${e}`,o=i==="low"?`:where(${r})`:r;return n.split(",").map(a=>{var l;const u=a.trim().split(/\s+/);let c=u[0]||"";const d=((l=c.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return c=`${d}${o}${c.slice(d.length)}`,[c,...u.slice(1)].join(" ")}).join(",")}const iF=new Set,I2=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:i,injectHash:r,parentSelectors:o}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:s,layer:a,path:l,hashPriority:u,transformers:c=[],linters:d=[]}=e;let f="",h={};function p(y){const m=y.getName(s);if(!h[m]){const[_]=I2(y.style,e,{root:!1,parentSelectors:o});h[m]=`@keyframes ${y.getName(s)}${_}`}}function g(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return y.forEach(_=>{Array.isArray(_)?g(_,m):_&&m.push(_)}),m}if(g(Array.isArray(n)?n:[n]).forEach(y=>{const m=typeof y=="string"&&!i?{}:y;if(typeof m=="string")f+=`${m}
`;else if(m._keyframe)p(m);else{const _=c.reduce((S,w)=>{var A;return((A=w==null?void 0:w.visit)===null||A===void 0?void 0:A.call(w,S))||S},m);Object.keys(_).forEach(S=>{var w;const A=_[S];if(typeof A=="object"&&A&&(S!=="animationName"||!A._keyframe)&&!gae(A)){let T=!1,C=S.trim(),R=!1;(i||r)&&s?C.startsWith("@")?T=!0:C=mae(S,s,u):i&&!s&&(C==="&"||C==="")&&(C="",R=!0);const[E,P]=I2(A,e,{root:R,injectHash:T,parentSelectors:[...o,C]});h=O(O({},h),P),f+=`${C}${E}`}else{let T=function(R,E){const P=R.replace(/[A-Z]/g,D=>`-${D.toLowerCase()}`);let I=E;!Kse[R]&&typeof I=="number"&&I!==0&&(I=`${I}px`),R==="animationName"&&(E!=null&&E._keyframe)&&(p(E),I=E.getName(s)),f+=`${P}:${I};`};const C=(w=A==null?void 0:A.value)!==null&&w!==void 0?w:A;typeof A=="object"&&(A!=null&&A[FG])&&Array.isArray(C)?C.forEach(R=>{T(S,R)}):T(S,C)}})}}),!i)f=`{${f}}`;else if(a&&Use()){const y=a.split(",");f=`@layer ${y[y.length-1].trim()} {${f}}`,y.length>1&&(f=`@layer ${a}{%%%:%}${f}`)}return[f,h]};function vae(n,e){return bI(`${n.join("%")}${e}`)}function rF(n,e){const i=y1(),r=K(()=>n.value.token._tokenKey),o=K(()=>[r.value,...n.value.path]);let s=tF;return SG("style",o,()=>{const{path:a,hashId:l,layer:u,nonce:c,clientOnly:d,order:f=0}=n.value,h=o.value.join("|");if(fae(h)){const[C,R]=hae(h);if(C)return[C,r.value,R,{},d,f]}const p=e(),{hashPriority:g,container:b,transformers:y,linters:m,cache:_}=i.value,[S,w]=I2(p,{hashId:l,hashPriority:g,layer:u,path:a.join("-"),transformers:y,linters:m}),A=nF(S),T=vae(o.value,A);if(s){const C={mark:ih,prepend:"queue",attachTo:b,priority:f},R=typeof c=="function"?c():c;R&&(C.csp={nonce:R});const E=tw(A,T,C);E[lg]=_.instanceId,E.setAttribute(bG,r.value),Object.keys(w).forEach(P=>{iF.has(P)||(iF.add(P),tw(nF(w[P]),`_effect-${P}`,{mark:ih,prepend:"queue",attachTo:b}))})}return[A,r.value,T,w,d,f]},(a,l)=>{let[,,u]=a;(l||i.value.autoClear)&&tF&&ew(u,{mark:ih})}),a=>a}class Dn{constructor(e,i){this._keyframe=!0,this.name=e,this.style=i}getName(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e?`${e}-${this.name}`:this.name}}const yae="4.2.6",iw=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Wr(n,e){bae(n)&&(n="100%");var i=xae(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),i&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function ox(n){return Math.min(1,Math.max(0,n))}function bae(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function xae(n){return typeof n=="string"&&n.indexOf("%")!==-1}function $G(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function sx(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Zf(n){return n.length===1?"0"+n:String(n)}function _ae(n,e,i){return{r:Wr(n,255)*255,g:Wr(e,255)*255,b:Wr(i,255)*255}}function oF(n,e,i){n=Wr(n,255),e=Wr(e,255),i=Wr(i,255);var r=Math.max(n,e,i),o=Math.min(n,e,i),s=0,a=0,l=(r+o)/2;if(r===o)a=0,s=0;else{var u=r-o;switch(a=l>.5?u/(2-r-o):u/(r+o),r){case n:s=(e-i)/u+(e<i?6:0);break;case e:s=(i-n)/u+2;break;case i:s=(n-e)/u+4;break}s/=6}return{h:s,s:a,l}}function oT(n,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(e-n)*(6*i):i<1/2?e:i<2/3?n+(e-n)*(2/3-i)*6:n}function Sae(n,e,i){var r,o,s;if(n=Wr(n,360),e=Wr(e,100),i=Wr(i,100),e===0)o=i,s=i,r=i;else{var a=i<.5?i*(1+e):i+e-i*e,l=2*i-a;r=oT(l,a,n+1/3),o=oT(l,a,n),s=oT(l,a,n-1/3)}return{r:r*255,g:o*255,b:s*255}}function N2(n,e,i){n=Wr(n,255),e=Wr(e,255),i=Wr(i,255);var r=Math.max(n,e,i),o=Math.min(n,e,i),s=0,a=r,l=r-o,u=r===0?0:l/r;if(r===o)s=0;else{switch(r){case n:s=(e-i)/l+(e<i?6:0);break;case e:s=(i-n)/l+2;break;case i:s=(n-e)/l+4;break}s/=6}return{h:s,s:u,v:a}}function wae(n,e,i){n=Wr(n,360)*6,e=Wr(e,100),i=Wr(i,100);var r=Math.floor(n),o=n-r,s=i*(1-e),a=i*(1-o*e),l=i*(1-(1-o)*e),u=r%6,c=[i,a,s,s,l,i][u],d=[l,i,i,a,s,s][u],f=[s,s,l,i,i,a][u];return{r:c*255,g:d*255,b:f*255}}function O2(n,e,i,r){var o=[Zf(Math.round(n).toString(16)),Zf(Math.round(e).toString(16)),Zf(Math.round(i).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function Cae(n,e,i,r,o){var s=[Zf(Math.round(n).toString(16)),Zf(Math.round(e).toString(16)),Zf(Math.round(i).toString(16)),Zf(Aae(r))];return o&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Aae(n){return Math.round(parseFloat(n)*255).toString(16)}function sF(n){return Rs(n)/255}function Rs(n){return parseInt(n,16)}function Tae(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var D2={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function og(n){var e={r:0,g:0,b:0},i=1,r=null,o=null,s=null,a=!1,l=!1;return typeof n=="string"&&(n=Rae(n)),typeof n=="object"&&(hu(n.r)&&hu(n.g)&&hu(n.b)?(e=_ae(n.r,n.g,n.b),a=!0,l=String(n.r).substr(-1)==="%"?"prgb":"rgb"):hu(n.h)&&hu(n.s)&&hu(n.v)?(r=sx(n.s),o=sx(n.v),e=wae(n.h,r,o),a=!0,l="hsv"):hu(n.h)&&hu(n.s)&&hu(n.l)&&(r=sx(n.s),s=sx(n.l),e=Sae(n.h,r,s),a=!0,l="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(i=n.a)),i=$G(i),{ok:a,format:n.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}var Eae="[-\\+]?\\d+%?",Mae="[-\\+]?\\d*\\.\\d+%?",wd="(?:".concat(Mae,")|(?:").concat(Eae,")"),sT="[\\s|\\(]+(".concat(wd,")[,|\\s]+(").concat(wd,")[,|\\s]+(").concat(wd,")\\s*\\)?"),aT="[\\s|\\(]+(".concat(wd,")[,|\\s]+(").concat(wd,")[,|\\s]+(").concat(wd,")[,|\\s]+(").concat(wd,")\\s*\\)?"),Ua={CSS_UNIT:new RegExp(wd),rgb:new RegExp("rgb"+sT),rgba:new RegExp("rgba"+aT),hsl:new RegExp("hsl"+sT),hsla:new RegExp("hsla"+aT),hsv:new RegExp("hsv"+sT),hsva:new RegExp("hsva"+aT),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Rae(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(D2[n])n=D2[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i=Ua.rgb.exec(n);return i?{r:i[1],g:i[2],b:i[3]}:(i=Ua.rgba.exec(n),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Ua.hsl.exec(n),i?{h:i[1],s:i[2],l:i[3]}:(i=Ua.hsla.exec(n),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Ua.hsv.exec(n),i?{h:i[1],s:i[2],v:i[3]}:(i=Ua.hsva.exec(n),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Ua.hex8.exec(n),i?{r:Rs(i[1]),g:Rs(i[2]),b:Rs(i[3]),a:sF(i[4]),format:e?"name":"hex8"}:(i=Ua.hex6.exec(n),i?{r:Rs(i[1]),g:Rs(i[2]),b:Rs(i[3]),format:e?"name":"hex"}:(i=Ua.hex4.exec(n),i?{r:Rs(i[1]+i[1]),g:Rs(i[2]+i[2]),b:Rs(i[3]+i[3]),a:sF(i[4]+i[4]),format:e?"name":"hex8"}:(i=Ua.hex3.exec(n),i?{r:Rs(i[1]+i[1]),g:Rs(i[2]+i[2]),b:Rs(i[3]+i[3]),format:e?"name":"hex"}:!1)))))))))}function hu(n){return!!Ua.CSS_UNIT.exec(String(n))}var Gi=function(){function n(e,i){e===void 0&&(e=""),i===void 0&&(i={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=Tae(e)),this.originalInput=e;var o=og(e);this.originalInput=e,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=i.format)!==null&&r!==void 0?r:o.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),i,r,o,s=e.r/255,a=e.g/255,l=e.b/255;return s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),l<=.03928?o=l/12.92:o=Math.pow((l+.055)/1.055,2.4),.2126*i+.7152*r+.0722*o},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=$G(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=N2(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=N2(this.r,this.g,this.b),i=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.v*100);return this.a===1?"hsv(".concat(i,", ").concat(r,"%, ").concat(o,"%)"):"hsva(".concat(i,", ").concat(r,"%, ").concat(o,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=oF(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=oF(this.r,this.g,this.b),i=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.l*100);return this.a===1?"hsl(".concat(i,", ").concat(r,"%, ").concat(o,"%)"):"hsla(".concat(i,", ").concat(r,"%, ").concat(o,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),O2(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),Cae(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),i=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(i,", ").concat(r,")"):"rgba(".concat(e,", ").concat(i,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(i){return"".concat(Math.round(Wr(i,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(i){return Math.round(Wr(i,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+O2(this.r,this.g,this.b,!1),i=0,r=Object.entries(D2);i<r.length;i++){var o=r[i],s=o[0],a=o[1];if(e===a)return s}return!1},n.prototype.toString=function(e){var i=!!e;e=e??this.format;var r=!1,o=this.a<1&&this.a>=0,s=!i&&o&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.l+=e/100,i.l=ox(i.l),new n(i)},n.prototype.brighten=function(e){e===void 0&&(e=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(e/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(e/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(e/100)))),new n(i)},n.prototype.darken=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.l-=e/100,i.l=ox(i.l),new n(i)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.s-=e/100,i.s=ox(i.s),new n(i)},n.prototype.saturate=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.s+=e/100,i.s=ox(i.s),new n(i)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var i=this.toHsl(),r=(i.h+e)%360;return i.h=r<0?360+r:r,new n(i)},n.prototype.mix=function(e,i){i===void 0&&(i=50);var r=this.toRgb(),o=new n(e).toRgb(),s=i/100,a={r:(o.r-r.r)*s+r.r,g:(o.g-r.g)*s+r.g,b:(o.b-r.b)*s+r.b,a:(o.a-r.a)*s+r.a};return new n(a)},n.prototype.analogous=function(e,i){e===void 0&&(e=6),i===void 0&&(i=30);var r=this.toHsl(),o=360/i,s=[this];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,s.push(new n(r));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var i=this.toHsv(),r=i.h,o=i.s,s=i.v,a=[],l=1/e;e--;)a.push(new n({h:r,s:o,v:s})),s=(s+l)%1;return a},n.prototype.splitcomplement=function(){var e=this.toHsl(),i=e.h;return[this,new n({h:(i+72)%360,s:e.s,l:e.l}),new n({h:(i+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var i=this.toRgb(),r=new n(e).toRgb(),o=i.a+r.a*(1-i.a);return new n({r:(i.r*i.a+r.r*r.a*(1-i.a))/o,g:(i.g*i.a+r.g*r.a*(1-i.a))/o,b:(i.b*i.a+r.b*r.a*(1-i.a))/o,a:o})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var i=this.toHsl(),r=i.h,o=[this],s=360/e,a=1;a<e;a++)o.push(new n({h:(r+a*s)%360,s:i.s,l:i.l}));return o},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),ax=2,aF=.16,Pae=.05,Iae=.05,Nae=.15,UG=5,kG=4,Oae=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function lF(n){var e=n.r,i=n.g,r=n.b,o=N2(e,i,r);return{h:o.h*360,s:o.s,v:o.v}}function lx(n){var e=n.r,i=n.g,r=n.b;return"#".concat(O2(e,i,r,!1))}function Dae(n,e,i){var r=i/100,o={r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b};return o}function uF(n,e,i){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=i?Math.round(n.h)-ax*e:Math.round(n.h)+ax*e:r=i?Math.round(n.h)+ax*e:Math.round(n.h)-ax*e,r<0?r+=360:r>=360&&(r-=360),r}function cF(n,e,i){if(n.h===0&&n.s===0)return n.s;var r;return i?r=n.s-aF*e:e===kG?r=n.s+aF:r=n.s+Pae*e,r>1&&(r=1),i&&e===UG&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function dF(n,e,i){var r;return i?r=n.v+Iae*e:r=n.v-Nae*e,r>1&&(r=1),Number(r.toFixed(2))}function Yy(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[],r=og(n),o=UG;o>0;o-=1){var s=lF(r),a=lx(og({h:uF(s,o,!0),s:cF(s,o,!0),v:dF(s,o,!0)}));i.push(a)}i.push(lx(r));for(var l=1;l<=kG;l+=1){var u=lF(r),c=lx(og({h:uF(u,l),s:cF(u,l),v:dF(u,l)}));i.push(c)}return e.theme==="dark"?Oae.map(function(d){var f=d.index,h=d.opacity,p=lx(Dae(og(e.backgroundColor||"#141414"),og(i[f]),h*100));return p}):i}var xg={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},cS={},lT={};Object.keys(xg).forEach(function(n){cS[n]=Yy(xg[n]),cS[n].primary=cS[n][5],lT[n]=Yy(xg[n],{theme:"dark",backgroundColor:"#141414"}),lT[n].primary=lT[n][5]});var Lae=cS.blue;const Bae=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function Fae(n){const{sizeUnit:e,sizeStep:i}=n;return{sizeXXL:e*(i+8),sizeXL:e*(i+4),sizeLG:e*(i+2),sizeMD:e*(i+1),sizeMS:e*i,size:e*i,sizeSM:e*(i-1),sizeXS:e*(i-2),sizeXXS:e*(i-3)}}const zG={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},SI=O(O({},zG),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1});function $ae(n,e){let{generateColorPalettes:i,generateNeutralColorPalettes:r}=e;const{colorSuccess:o,colorWarning:s,colorError:a,colorInfo:l,colorPrimary:u,colorBgBase:c,colorTextBase:d}=n,f=i(u),h=i(o),p=i(s),g=i(a),b=i(l),y=r(c,d);return O(O({},y),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:p[1],colorWarningBgHover:p[2],colorWarningBorder:p[3],colorWarningBorderHover:p[4],colorWarningHover:p[4],colorWarning:p[6],colorWarningActive:p[7],colorWarningTextHover:p[8],colorWarningText:p[9],colorWarningTextActive:p[10],colorInfoBg:b[1],colorInfoBgHover:b[2],colorInfoBorder:b[3],colorInfoBorderHover:b[4],colorInfoHover:b[4],colorInfo:b[6],colorInfoActive:b[7],colorInfoTextHover:b[8],colorInfoText:b[9],colorInfoTextActive:b[10],colorBgMask:new Gi("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const Uae=n=>{let e=n,i=n,r=n,o=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?i=4:n<8&&n>=7?i=5:n<14&&n>=8?i=6:n<16&&n>=14?i=7:n>=16&&(i=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?o=4:n>=8&&(o=6),{borderRadius:n>16?16:n,borderRadiusXS:r,borderRadiusSM:i,borderRadiusLG:e,borderRadiusOuter:o}};function kae(n){const{motionUnit:e,motionBase:i,borderRadius:r,lineWidth:o}=n;return O({motionDurationFast:`${(i+e).toFixed(1)}s`,motionDurationMid:`${(i+e*2).toFixed(1)}s`,motionDurationSlow:`${(i+e*3).toFixed(1)}s`,lineWidthBold:o+1},Uae(r))}const pu=(n,e)=>new Gi(n).setAlpha(e).toRgbString(),dv=(n,e)=>new Gi(n).darken(e).toHexString(),zae=n=>{const e=Yy(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Hae=(n,e)=>{const i=n||"#fff",r=e||"#000";return{colorBgBase:i,colorTextBase:r,colorText:pu(r,.88),colorTextSecondary:pu(r,.65),colorTextTertiary:pu(r,.45),colorTextQuaternary:pu(r,.25),colorFill:pu(r,.15),colorFillSecondary:pu(r,.06),colorFillTertiary:pu(r,.04),colorFillQuaternary:pu(r,.02),colorBgLayout:dv(i,4),colorBgContainer:dv(i,0),colorBgElevated:dv(i,0),colorBgSpotlight:pu(r,.85),colorBorder:dv(i,15),colorBorderSecondary:dv(i,6)}};function Gae(n){const e=new Array(10).fill(null).map((i,r)=>{const o=r-1,s=n*Math.pow(2.71828,o/5),a=r>1?Math.floor(s):Math.ceil(s);return Math.floor(a/2)*2});return e[1]=n,e.map(i=>{const r=i+8;return{size:i,lineHeight:r/i}})}const Vae=n=>{const e=Gae(n),i=e.map(o=>o.size),r=e.map(o=>o.lineHeight);return{fontSizeSM:i[0],fontSize:i[1],fontSizeLG:i[2],fontSizeXL:i[3],fontSizeHeading1:i[6],fontSizeHeading2:i[5],fontSizeHeading3:i[4],fontSizeHeading4:i[3],fontSizeHeading5:i[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function Wae(n){const e=Object.keys(zG).map(i=>{const r=Yy(n[i]);return new Array(10).fill(1).reduce((o,s,a)=>(o[`${i}-${a+1}`]=r[a],o),{})}).reduce((i,r)=>(i=O(O({},i),r),i),{});return O(O(O(O(O(O(O({},n),e),$ae(n,{generateColorPalettes:zae,generateNeutralColorPalettes:Hae})),Vae(n.fontSize)),Fae(n)),Bae(n)),kae(n))}function uT(n){return n>=0&&n<=255}function ux(n,e){const{r:i,g:r,b:o,a:s}=new Gi(n).toRgb();if(s<1)return n;const{r:a,g:l,b:u}=new Gi(e).toRgb();for(let c=.01;c<=1;c+=.01){const d=Math.round((i-a*(1-c))/c),f=Math.round((r-l*(1-c))/c),h=Math.round((o-u*(1-c))/c);if(uT(d)&&uT(f)&&uT(h))return new Gi({r:d,g:f,b:h,a:Math.round(c*100)/100}).toRgbString()}return new Gi({r:i,g:r,b:o,a:1}).toRgbString()}var jae=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function Kae(n){const{override:e}=n,i=jae(n,["override"]),r=O({},e);Object.keys(SI).forEach(p=>{delete r[p]});const o=O(O({},i),r),s=480,a=576,l=768,u=992,c=1200,d=1600,f=2e3;return O(O(O({},o),{colorLink:o.colorInfoText,colorLinkHover:o.colorInfoHover,colorLinkActive:o.colorInfoActive,colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:ux(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:ux(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:ux(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidth:o.lineWidth,controlOutlineWidth:o.lineWidth*2,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:ux(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:s,screenXSMin:s,screenXSMax:a-1,screenSM:a,screenSMMin:a,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:u-1,screenLG:u,screenLGMin:u,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:d-1,screenXXL:d,screenXXLMin:d,screenXXLMax:f-1,screenXXXL:f,screenXXXLMin:f,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`
      0 1px 2px -2px ${new Gi("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Gi("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Gi("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}const qae=n=>({color:n.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:focus, &:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive}}),HG=(n,e,i,r,o)=>{const s=n/2,a=0,l=s,u=i*1/Math.sqrt(2),c=s-i*(1-1/Math.sqrt(2)),d=s-e*(1/Math.sqrt(2)),f=i*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),h=2*s-d,p=f,g=2*s-u,b=c,y=2*s-a,m=l,_=s*Math.sqrt(2)+i*(Math.sqrt(2)-2),S=i*(Math.sqrt(2)-1);return{pointerEvents:"none",width:n,height:n,overflow:"hidden","&::after":{content:'""',position:"absolute",width:_,height:_,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:o,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n,height:n/2,background:r,clipPath:{_multi_value_:!0,value:[`polygon(${S}px 100%, 50% ${S}px, ${2*s-S}px 100%, ${S}px 100%)`,`path('M ${a} ${l} A ${i} ${i} 0 0 0 ${u} ${c} L ${d} ${f} A ${e} ${e} 0 0 1 ${h} ${p} L ${g} ${b} A ${i} ${i} 0 0 0 ${y} ${m} Z')`]},content:'""'}}};function GG(n,e){return iw.reduce((i,r)=>{const o=n[`${r}-1`],s=n[`${r}-3`],a=n[`${r}-6`],l=n[`${r}-7`];return O(O({},i),e(r,{lightColor:o,lightBorderColor:s,darkColor:a,textColor:l}))},{})}const Fl={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},di=n=>({boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:n.fontFamily}),wI=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),$l=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Xae=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active,\n  &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),Yae=(n,e)=>{const{fontFamily:i,fontSize:r}=n,o=`[class^="${e}"], [class*=" ${e}"]`;return{[o]:{fontFamily:i,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[o]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},uc=n=>({outline:`${n.lineWidthBold}px solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),yh=n=>({"&:focus-visible":O({},uc(n))});function Bi(n,e,i){return r=>{const o=K(()=>r==null?void 0:r.value),[s,a,l]=z0(),{getPrefixCls:u,iconPrefixCls:c}=_se(),d=K(()=>u()),f=K(()=>({theme:s.value,token:a.value,hashId:l.value,path:["Shared",d.value]}));rF(f,()=>[{"&":Xae(a.value)}]);const h=K(()=>({theme:s.value,token:a.value,hashId:l.value,path:[n,o.value,c.value]}));return[rF(h,()=>{const{token:p,flush:g}=Zae(a.value),b=typeof i=="function"?i(p):i,y=O(O({},b),a.value[n]),m=`.${o.value}`,_=On(p,{componentCls:m,prefixCls:o.value,iconCls:`.${c.value}`,antCls:`.${d.value}`},y),S=e(_,{hashId:l.value,prefixCls:o.value,rootPrefixCls:d.value,iconPrefixCls:c.value,overrideComponentToken:a.value[n]});return g(n,y),[Yae(a.value,o.value),S]}),l]}}const VG=typeof CSSINJS_STATISTIC<"u";let L2=!0;function On(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];if(!VG)return O({},...e);L2=!1;const r={};return e.forEach(o=>{Object.keys(o).forEach(a=>{Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:()=>o[a]})})}),L2=!0,r}function Qae(){}function Zae(n){let e,i=n,r=Qae;return VG&&(e=new Set,i=new Proxy(n,{get(o,s){return L2&&e.add(s),o[s]}}),r=(o,s)=>{Array.from(e)}),{token:i,keys:e,flush:r}}const Jae=Bse(Wae),ele={token:SI,hashed:!0},tle=Symbol("DesignTokenContext"),nle=Oe();function z0(){const n=qt(tle,K(()=>nle.value||ele)),e=K(()=>`${yae}-${n.value.hashed||""}`),i=K(()=>n.value.theme||Jae),r=jse(i,K(()=>[SI,n.value.token]),K(()=>({salt:e.value,override:O({override:n.value.token},n.value.components),formatToken:Kae})));return[i,K(()=>r.value[0]),K(()=>n.value.hashed?r.value[1]:"")]}const CI=je({compatConfig:{MODE:3},setup(){const[,n]=z0(),e=K(()=>new Gi(n.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>N("svg",{style:e.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[N("g",{fill:"none","fill-rule":"evenodd"},[N("g",{transform:"translate(24 31.67)"},[N("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),N("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),N("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),N("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),N("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),N("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),N("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[N("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),N("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});CI.PRESENTED_IMAGE_DEFAULT=!0;const WG=je({compatConfig:{MODE:3},setup(){const[,n]=z0(),e=K(()=>{const{colorFill:i,colorFillTertiary:r,colorFillQuaternary:o,colorBgContainer:s}=n.value;return{borderColor:new Gi(i).onBackground(s).toHexString(),shadowColor:new Gi(r).onBackground(s).toHexString(),contentColor:new Gi(o).onBackground(s).toHexString()}});return()=>N("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[N("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[N("ellipse",{fill:e.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),N("g",{"fill-rule":"nonzero",stroke:e.value.borderColor},[N("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),N("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:e.value.contentColor},null)])])])}});WG.PRESENTED_IMAGE_SIMPLE=!0;const ile=n=>{const{componentCls:e,margin:i,marginXS:r,marginXL:o,fontSize:s,lineHeight:a}=n;return{[e]:{marginInline:r,fontSize:s,lineHeight:a,textAlign:"center",[`${e}-image`]:{height:n.emptyImgHeight,marginBottom:r,opacity:n.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${e}-footer`]:{marginTop:i},"&-normal":{marginBlock:o,color:n.colorTextDisabled,[`${e}-image`]:{height:n.emptyImgHeightMD}},"&-small":{marginBlock:r,color:n.colorTextDisabled,[`${e}-image`]:{height:n.emptyImgHeightSM}}}}},rle=Bi("Empty",n=>{const{componentCls:e,controlHeightLG:i}=n,r=On(n,{emptyImgCls:`${e}-img`,emptyImgHeight:i*2.5,emptyImgHeightMD:i,emptyImgHeightSM:i*.875});return[ile(r)]});var ole=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const sle=()=>({prefixCls:String,imageStyle:vn(),image:Os(),description:Os()}),AI=je({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:sle(),setup(n,e){let{slots:i={},attrs:r}=e;const{direction:o,prefixCls:s}=tn("empty",n),[a,l]=rle(s);return()=>{var u,c;const d=s.value,f=O(O({},n),r),{image:h=((u=i.image)===null||u===void 0?void 0:u.call(i))||lc(CI),description:p=((c=i.description)===null||c===void 0?void 0:c.call(i))||void 0,imageStyle:g,class:b=""}=f,y=ole(f,["image","description","imageStyle","class"]),m=typeof h=="function"?h():h,_=typeof m=="object"&&"type"in m&&m.type.PRESENTED_IMAGE_SIMPLE;return a(N(Cse,{componentName:"Empty",children:S=>{const w=typeof p<"u"?p:S.description,A=typeof w=="string"?w:"empty";let T=null;return typeof m=="string"?T=N("img",{alt:A,src:m},null):T=m,N("div",ve({class:Qe(d,b,l.value,{[`${d}-normal`]:_,[`${d}-rtl`]:o.value==="rtl"})},y),[N("div",{class:`${d}-image`,style:g},[T]),w&&N("p",{class:`${d}-description`},[w]),i.default&&N("div",{class:`${d}-footer`},[Fo(i.default())])])}},null))}}});AI.PRESENTED_IMAGE_DEFAULT=()=>lc(CI);AI.PRESENTED_IMAGE_SIMPLE=()=>lc(WG);const Hf=jd(AI),jG=n=>{const{prefixCls:e}=tn("empty",n);return(r=>{switch(r){case"Table":case"List":return N(Hf,{image:Hf.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return N(Hf,{image:Hf.PRESENTED_IMAGE_SIMPLE,class:`${e.value}-small`},null);default:return N(Hf,null,null)}})(n.componentName)},ale=Symbol("SizeContextKey"),lle=()=>qt(ale,Ge(void 0)),tn=(n,e)=>{const i=lle(),r=Bl(),o=qt(gG,O(O({},mG),{renderEmpty:C=>lc(jG,{componentName:C})})),s=K(()=>o.getPrefixCls(n,e.prefixCls)),a=K(()=>{var C,R;return(C=e.direction)!==null&&C!==void 0?C:(R=o.direction)===null||R===void 0?void 0:R.value}),l=K(()=>{var C;return(C=e.iconPrefixCls)!==null&&C!==void 0?C:o.iconPrefixCls.value}),u=K(()=>o.getPrefixCls()),c=K(()=>{var C;return(C=o.autoInsertSpaceInButton)===null||C===void 0?void 0:C.value}),d=o.renderEmpty,f=o.space,h=o.pageHeader,p=o.form,g=K(()=>{var C,R;return(C=e.getTargetContainer)!==null&&C!==void 0?C:(R=o.getTargetContainer)===null||R===void 0?void 0:R.value}),b=K(()=>{var C,R,E;return(R=(C=e.getContainer)!==null&&C!==void 0?C:e.getPopupContainer)!==null&&R!==void 0?R:(E=o.getPopupContainer)===null||E===void 0?void 0:E.value}),y=K(()=>{var C,R;return(C=e.dropdownMatchSelectWidth)!==null&&C!==void 0?C:(R=o.dropdownMatchSelectWidth)===null||R===void 0?void 0:R.value}),m=K(()=>{var C;return(e.virtual===void 0?((C=o.virtual)===null||C===void 0?void 0:C.value)!==!1:e.virtual!==!1)&&y.value!==!1}),_=K(()=>e.size||i.value),S=K(()=>{var C,R,E;return(C=e.autocomplete)!==null&&C!==void 0?C:(E=(R=o.input)===null||R===void 0?void 0:R.value)===null||E===void 0?void 0:E.autocomplete}),w=K(()=>{var C;return(C=e.disabled)!==null&&C!==void 0?C:r.value}),A=K(()=>{var C;return(C=e.csp)!==null&&C!==void 0?C:o.csp}),T=K(()=>{var C,R;return(C=e.wave)!==null&&C!==void 0?C:(R=o.wave)===null||R===void 0?void 0:R.value});return{configProvider:o,prefixCls:s,direction:a,size:_,getTargetContainer:g,getPopupContainer:b,space:f,pageHeader:h,form:p,autoInsertSpaceInButton:c,renderEmpty:d,virtual:m,dropdownMatchSelectWidth:y,rootPrefixCls:u,getPrefixCls:o.getPrefixCls,autocomplete:S,csp:A,iconPrefixCls:l,disabled:w,select:o.select,wave:T}};function Ai(n,e){const i=O({},n);for(let r=0;r<e.length;r+=1){const o=e[r];delete i[o]}return i}function ule(n,e,i,r){const o=i-e;return n/=r/2,n<1?o/2*n*n*n+e:o/2*((n-=2)*n*n+2)+e}function B2(n){return n!=null&&n===n.window}function cle(n,e){var i,r;if(typeof window>"u")return 0;const o="scrollTop";let s=0;return B2(n)?s=n.scrollY:n instanceof Document?s=n.documentElement[o]:(n instanceof HTMLElement||n)&&(s=n[o]),n&&!B2(n)&&typeof s!="number"&&(s=(r=((i=n.ownerDocument)!==null&&i!==void 0?i:n).documentElement)===null||r===void 0?void 0:r[o]),s}function dle(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:i=()=>window,callback:r,duration:o=450}=e,s=i(),a=cle(s),l=Date.now(),u=()=>{const d=Date.now()-l,f=ule(d>o?o:d,a,n,o);B2(s)?s.scrollTo(window.scrollX,f):s instanceof Document?s.documentElement.scrollTop=f:s.scrollTop=f,d<o?xn(u):typeof r=="function"&&r()};xn(u)}function fle(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function KG(n,e,i){return i&&fle(n,i),n}function dS(){return(dS=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n}).apply(this,arguments)}function qG(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function XG(n,e){if(n==null)return{};var i,r,o={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(i=s[r])>=0||(o[i]=n[i]);return o}function fF(n){return((e=n)!=null&&typeof e=="object"&&Array.isArray(e)===!1)==1&&Object.prototype.toString.call(n)==="[object Object]";var e}var YG=Object.prototype,QG=YG.toString,hle=YG.hasOwnProperty,ZG=/^\s*function (\w+)/;function hF(n){var e,i=(e=n==null?void 0:n.type)!==null&&e!==void 0?e:n;if(i){var r=i.toString().match(ZG);return r?r[1]:""}return""}var bh=function(n){var e,i;return fF(n)!==!1&&typeof(e=n.constructor)=="function"&&fF(i=e.prototype)!==!1&&i.hasOwnProperty("isPrototypeOf")!==!1},ple=function(n){return n},Io=ple,Qy=function(n,e){return hle.call(n,e)},gle=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},Wg=Array.isArray||function(n){return QG.call(n)==="[object Array]"},jg=function(n){return QG.call(n)==="[object Function]"},rw=function(n){return bh(n)&&Qy(n,"_vueTypes_name")},JG=function(n){return bh(n)&&(Qy(n,"type")||["_vueTypes_name","validator","default","required"].some(function(e){return Qy(n,e)}))};function TI(n,e){return Object.defineProperty(n.bind(e),"__original",{value:n})}function Lh(n,e,i){var r;i===void 0&&(i=!1);var o=!0,s="";r=bh(n)?n:{type:n};var a=rw(r)?r._vueTypes_name+" - ":"";if(JG(r)&&r.type!==null){if(r.type===void 0||r.type===!0||!r.required&&e===void 0)return o;Wg(r.type)?(o=r.type.some(function(f){return Lh(f,e,!0)===!0}),s=r.type.map(function(f){return hF(f)}).join(" or ")):o=(s=hF(r))==="Array"?Wg(e):s==="Object"?bh(e):s==="String"||s==="Number"||s==="Boolean"||s==="Function"?function(f){if(f==null)return"";var h=f.constructor.toString().match(ZG);return h?h[1]:""}(e)===s:e instanceof r.type}if(!o){var l=a+'value "'+e+'" should be of type "'+s+'"';return i===!1?(Io(l),!1):l}if(Qy(r,"validator")&&jg(r.validator)){var u=Io,c=[];if(Io=function(f){c.push(f)},o=r.validator(e),Io=u,!o){var d=(c.length>1?"* ":"")+c.join(`
* `);return c.length=0,i===!1?(Io(d),o):d}}return o}function ks(n,e){var i=Object.defineProperties(e,{_vueTypes_name:{value:n,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(o){return o!==void 0||this.default?jg(o)||Lh(this,o,!0)===!0?(this.default=Wg(o)?function(){return[].concat(o)}:bh(o)?function(){return Object.assign({},o)}:o,this):(Io(this._vueTypes_name+' - invalid default value: "'+o+'"'),this):this}}}),r=i.validator;return jg(r)&&(i.validator=TI(r,i)),i}function Ul(n,e){var i=ks(n,e);return Object.defineProperty(i,"validate",{value:function(r){return jg(this.validator)&&Io(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=TI(r,this),this}})}function pF(n,e,i){var r,o,s=(r=e,o={},Object.getOwnPropertyNames(r).forEach(function(f){o[f]=Object.getOwnPropertyDescriptor(r,f)}),Object.defineProperties({},o));if(s._vueTypes_name=n,!bh(i))return s;var a,l,u=i.validator,c=XG(i,["validator"]);if(jg(u)){var d=s.validator;d&&(d=(l=(a=d).__original)!==null&&l!==void 0?l:a),s.validator=TI(d?function(f){return d.call(this,f)&&u.call(this,f)}:u,s)}return Object.assign(s,c)}function w1(n){return n.replace(/^(?!\s*$)/gm,"  ")}var mle=function(){return Ul("any",{})},vle=function(){return Ul("function",{type:Function})},yle=function(){return Ul("boolean",{type:Boolean})},ble=function(){return Ul("string",{type:String})},xle=function(){return Ul("number",{type:Number})},_le=function(){return Ul("array",{type:Array})},Sle=function(){return Ul("object",{type:Object})},wle=function(){return ks("integer",{type:Number,validator:function(n){return gle(n)}})},Cle=function(){return ks("symbol",{validator:function(n){return typeof n=="symbol"}})};function Ale(n,e){if(e===void 0&&(e="custom validation failed"),typeof n!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return ks(n.name||"<<anonymous function>>",{validator:function(i){var r=n(i);return r||Io(this._vueTypes_name+" - "+e),r}})}function Tle(n){if(!Wg(n))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var e='oneOf - value should be one of "'+n.join('", "')+'".',i=n.reduce(function(r,o){if(o!=null){var s=o.constructor;r.indexOf(s)===-1&&r.push(s)}return r},[]);return ks("oneOf",{type:i.length>0?i:void 0,validator:function(r){var o=n.indexOf(r)!==-1;return o||Io(e),o}})}function Ele(n){if(!Wg(n))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var e=!1,i=[],r=0;r<n.length;r+=1){var o=n[r];if(JG(o)){if(rw(o)&&o._vueTypes_name==="oneOf"){i=i.concat(o.type);continue}if(jg(o.validator)&&(e=!0),o.type!==!0&&o.type){i=i.concat(o.type);continue}}i.push(o)}return i=i.filter(function(s,a){return i.indexOf(s)===a}),ks("oneOfType",e?{type:i,validator:function(s){var a=[],l=n.some(function(u){var c=Lh(rw(u)&&u._vueTypes_name==="oneOf"?u.type||null:u,s,!0);return typeof c=="string"&&a.push(c),c===!0});return l||Io("oneOfType - provided value does not match any of the "+a.length+` passed-in validators:
`+w1(a.join(`
`))),l}}:{type:i})}function Mle(n){return ks("arrayOf",{type:Array,validator:function(e){var i,r=e.every(function(o){return(i=Lh(n,o,!0))===!0});return r||Io(`arrayOf - value validation error:
`+w1(i)),r}})}function Rle(n){return ks("instanceOf",{type:n})}function Ple(n){return ks("objectOf",{type:Object,validator:function(e){var i,r=Object.keys(e).every(function(o){return(i=Lh(n,e[o],!0))===!0});return r||Io(`objectOf - value validation error:
`+w1(i)),r}})}function Ile(n){var e=Object.keys(n),i=e.filter(function(o){var s;return!!(!((s=n[o])===null||s===void 0)&&s.required)}),r=ks("shape",{type:Object,validator:function(o){var s=this;if(!bh(o))return!1;var a=Object.keys(o);if(i.length>0&&i.some(function(u){return a.indexOf(u)===-1})){var l=i.filter(function(u){return a.indexOf(u)===-1});return Io(l.length===1?'shape - required property "'+l[0]+'" is not defined.':'shape - required properties "'+l.join('", "')+'" are not defined.'),!1}return a.every(function(u){if(e.indexOf(u)===-1)return s._vueTypes_isLoose===!0||(Io('shape - shape definition does not include a "'+u+'" property. Allowed keys: "'+e.join('", "')+'".'),!1);var c=Lh(n[u],o[u],!0);return typeof c=="string"&&Io('shape - "'+u+`" property validation error:
 `+w1(c)),c===!0})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),r}var gl=function(){function n(){}return n.extend=function(e){var i=this;if(Wg(e))return e.forEach(function(f){return i.extend(f)}),this;var r=e.name,o=e.validate,s=o!==void 0&&o,a=e.getter,l=a!==void 0&&a,u=XG(e,["name","validate","getter"]);if(Qy(this,r))throw new TypeError('[VueTypes error]: Type "'+r+'" already defined');var c,d=u.type;return rw(d)?(delete u.type,Object.defineProperty(this,r,l?{get:function(){return pF(r,d,u)}}:{value:function(){var f,h=pF(r,d,u);return h.validator&&(h.validator=(f=h.validator).bind.apply(f,[h].concat([].slice.call(arguments)))),h}})):(c=l?{get:function(){var f=Object.assign({},u);return s?Ul(r,f):ks(r,f)},enumerable:!0}:{value:function(){var f,h,p=Object.assign({},u);return f=s?Ul(r,p):ks(r,p),p.validator&&(f.validator=(h=p.validator).bind.apply(h,[f].concat([].slice.call(arguments)))),f},enumerable:!0},Object.defineProperty(this,r,c))},KG(n,null,[{key:"any",get:function(){return mle()}},{key:"func",get:function(){return vle().def(this.defaults.func)}},{key:"bool",get:function(){return yle().def(this.defaults.bool)}},{key:"string",get:function(){return ble().def(this.defaults.string)}},{key:"number",get:function(){return xle().def(this.defaults.number)}},{key:"array",get:function(){return _le().def(this.defaults.array)}},{key:"object",get:function(){return Sle().def(this.defaults.object)}},{key:"integer",get:function(){return wle().def(this.defaults.integer)}},{key:"symbol",get:function(){return Cle()}}]),n}();function eV(n){var e;return n===void 0&&(n={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(e=function(i){function r(){return i.apply(this,arguments)||this}return qG(r,i),KG(r,null,[{key:"sensibleDefaults",get:function(){return dS({},this.defaults)},set:function(o){this.defaults=o!==!1?dS({},o!==!0?o:n):{}}}]),r}(gl)).defaults=dS({},n),e}gl.defaults={},gl.custom=Ale,gl.oneOf=Tle,gl.instanceOf=Rle,gl.oneOfType=Ele,gl.arrayOf=Mle,gl.objectOf=Ple,gl.shape=Ile,gl.utils={validate:function(n,e){return Lh(e,n,!0)===!0},toType:function(n,e,i){return i===void 0&&(i=!1),i?Ul(n,e):ks(n,e)}};(function(n){function e(){return n.apply(this,arguments)||this}return qG(e,n),e})(eV());const be=eV({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});be.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);const gi=(n,e,i)=>{EG(n,`[ant-design-vue: ${e}] ${i}`)};function gF(n,e){const{key:i}=n;let r;return"value"in n&&({value:r}=n),i??(r!==void 0?r:`rc-index-key-${e}`)}function tV(n,e){const{label:i,value:r,options:o}=n||{};return{label:i||(e?"children":"label"),value:r||"value",options:o||"options"}}function Nle(n){let{fieldNames:e,childrenAsData:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],{label:o,value:s,options:a}=tV(e,!1);function l(u,c){u.forEach(d=>{const f=d[o];if(c||!(a in d)){const h=d[s];r.push({key:gF(d,r.length),groupOption:c,data:d,label:f,value:h})}else{let h=f;h===void 0&&i&&(h=d.label),r.push({key:gF(d,r.length),group:!0,data:d,label:h}),l(d[a],!0)}})}return l(n,!1),r}function F2(n){const e=O({},n);return"props"in e||Object.defineProperty(e,"props",{get(){return e}}),e}function Ole(n,e){if(!e||!e.length)return null;let i=!1;function r(s,a){let[l,...u]=a;if(!l)return[s];const c=s.split(l);return i=i||c.length>1,c.reduce((d,f)=>[...d,...r(f,u)],[]).filter(d=>d)}const o=r(n,e);return i?o:null}function Dle(){return""}function Lle(n){return n?n.ownerDocument:window.document}function nV(){}const Ble=()=>({action:be.oneOfType([be.string,be.arrayOf(be.string)]).def([]),showAction:be.any.def([]),hideAction:be.any.def([]),getPopupClassNameFromAlign:be.any.def(Dle),onPopupVisibleChange:Function,afterPopupVisibleChange:be.func.def(nV),popup:be.any,arrow:be.bool.def(!0),popupStyle:{type:Object,default:void 0},prefixCls:be.string.def("rc-trigger-popup"),popupClassName:be.string.def(""),popupPlacement:String,builtinPlacements:be.object,popupTransitionName:String,popupAnimation:be.any,mouseEnterDelay:be.number.def(0),mouseLeaveDelay:be.number.def(.1),zIndex:Number,focusDelay:be.number.def(0),blurDelay:be.number.def(.15),getPopupContainer:Function,getDocument:be.func.def(Lle),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:be.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function}),EI={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,arrow:{type:Boolean,default:!0},animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},Fle=O(O({},EI),{mobile:{type:Object}}),$le=O(O({},EI),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function iV(n){let{prefixCls:e,animation:i,transitionName:r}=n;return i?{name:`${e}-${i}`}:r?{name:r}:{}}function rV(n){const{prefixCls:e,visible:i,zIndex:r,mask:o,maskAnimation:s,maskTransitionName:a}=n;if(!o)return null;let l={};return(a||s)&&(l=iV({prefixCls:e,transitionName:a,animation:s})),N(nl,ve({appear:!0},l),{default:()=>[Ro(N("div",{style:{zIndex:r},class:`${e}-mask`},null),[[fre("if"),i]])]})}rV.displayName="Mask";const Ule=je({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:Fle,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(n,e){let{expose:i,slots:r}=e;const o=Ge();return i({forceAlign:()=>{},getElement:()=>o.value}),()=>{var s;const{zIndex:a,visible:l,prefixCls:u,mobile:{popupClassName:c,popupStyle:d,popupMotion:f={},popupRender:h}={}}=n,p=O({zIndex:a},d);let g=ir((s=r.default)===null||s===void 0?void 0:s.call(r));g.length>1&&(g=N("div",{class:`${u}-content`},[g])),h&&(g=h(g));const b=Qe(u,c);return N(nl,ve({ref:o},f),{default:()=>[l?N("div",{class:b,style:p},[g]):null]})}}});var kle=function(n,e,i,r){function o(s){return s instanceof i?s:new i(function(a){a(s)})}return new(i||(i=Promise))(function(s,a){function l(d){try{c(r.next(d))}catch(f){a(f)}}function u(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):o(d.value).then(l,u)}c((r=r.apply(n,e||[])).next())})};const mF=["measure","align",null,"motion"],zle=(n,e)=>{const i=Oe(null),r=Oe(),o=Oe(!1);function s(u){o.value||(i.value=u)}function a(){xn.cancel(r.value)}function l(u){a(),r.value=xn(()=>{let c=i.value;switch(i.value){case"align":c="motion";break;case"motion":c="stable";break}s(c),u==null||u()})}return ct(n,()=>{s("measure")},{immediate:!0,flush:"post"}),en(()=>{ct(i,()=>{switch(i.value){case"measure":e();break}i.value&&(r.value=xn(()=>kle(void 0,void 0,void 0,function*(){const u=mF.indexOf(i.value),c=mF[u+1];c&&u!==-1&&s(c)})))},{immediate:!0,flush:"post"})}),Pn(()=>{o.value=!0,a()}),[i,l]},Hle=n=>{const e=Oe({width:0,height:0});function i(o){e.value={width:o.offsetWidth,height:o.offsetHeight}}return[K(()=>{const o={};if(n.value){const{width:s,height:a}=e.value;n.value.indexOf("height")!==-1&&a?o.height=`${a}px`:n.value.indexOf("minHeight")!==-1&&a&&(o.minHeight=`${a}px`),n.value.indexOf("width")!==-1&&s?o.width=`${s}px`:n.value.indexOf("minWidth")!==-1&&s&&(o.minWidth=`${s}px`)}return o}),i]};function vF(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function yF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(i),!0).forEach(function(r){Gle(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):vF(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function $2(n){"@babel/helpers - typeof";return $2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$2(n)}function Gle(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var fv,Vle={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function ow(){if(fv!==void 0)return fv;fv="";var n=document.createElement("p").style,e="Transform";for(var i in Vle)i+e in n&&(fv=i);return fv}function oV(){return ow()?"".concat(ow(),"TransitionProperty"):"transitionProperty"}function C1(){return ow()?"".concat(ow(),"Transform"):"transform"}function bF(n,e){var i=oV();i&&(n.style[i]=e,i!=="transitionProperty"&&(n.style.transitionProperty=e))}function cT(n,e){var i=C1();i&&(n.style[i]=e,i!=="transform"&&(n.style.transform=e))}function Wle(n){return n.style.transitionProperty||n.style[oV()]}function jle(n){var e=window.getComputedStyle(n,null),i=e.getPropertyValue("transform")||e.getPropertyValue(C1());if(i&&i!=="none"){var r=i.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var Kle=/matrix\((.*)\)/,qle=/matrix3d\((.*)\)/;function Xle(n,e){var i=window.getComputedStyle(n,null),r=i.getPropertyValue("transform")||i.getPropertyValue(C1());if(r&&r!=="none"){var o,s=r.match(Kle);if(s)s=s[1],o=s.split(",").map(function(l){return parseFloat(l,10)}),o[4]=e.x,o[5]=e.y,cT(n,"matrix(".concat(o.join(","),")"));else{var a=r.match(qle)[1];o=a.split(",").map(function(l){return parseFloat(l,10)}),o[12]=e.x,o[13]=e.y,cT(n,"matrix3d(".concat(o.join(","),")"))}}else cT(n,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var Yle=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,H0;function xF(n){var e=n.style.display;n.style.display="none",n.offsetHeight,n.style.display=e}function _g(n,e,i){var r=i;if($2(e)==="object"){for(var o in e)e.hasOwnProperty(o)&&_g(n,o,e[o]);return}if(typeof r<"u"){typeof r=="number"&&(r="".concat(r,"px")),n.style[e]=r;return}return H0(n,e)}function Qle(n){var e,i,r,o=n.ownerDocument,s=o.body,a=o&&o.documentElement;return e=n.getBoundingClientRect(),i=Math.floor(e.left),r=Math.floor(e.top),i-=a.clientLeft||s.clientLeft||0,r-=a.clientTop||s.clientTop||0,{left:i,top:r}}function sV(n,e){var i=n["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof i!="number"){var o=n.document;i=o.documentElement[r],typeof i!="number"&&(i=o.body[r])}return i}function aV(n){return sV(n)}function lV(n){return sV(n,!0)}function Zy(n){var e=Qle(n),i=n.ownerDocument,r=i.defaultView||i.parentWindow;return e.left+=aV(r),e.top+=lV(r),e}function MI(n){return n!=null&&n==n.window}function uV(n){return MI(n)?n.document:n.nodeType===9?n:n.ownerDocument}function Zle(n,e,i){var r=i,o="",s=uV(n);return r=r||s.defaultView.getComputedStyle(n,null),r&&(o=r.getPropertyValue(e)||r[e]),o}var Jle=new RegExp("^(".concat(Yle,")(?!px)[a-z%]+$"),"i"),eue=/^(top|right|bottom|left)$/,dT="currentStyle",fT="runtimeStyle",mf="left",tue="px";function nue(n,e){var i=n[dT]&&n[dT][e];if(Jle.test(i)&&!eue.test(e)){var r=n.style,o=r[mf],s=n[fT][mf];n[fT][mf]=n[dT][mf],r[mf]=e==="fontSize"?"1em":i||0,i=r.pixelLeft+tue,r[mf]=o,n[fT][mf]=s}return i===""?"auto":i}typeof window<"u"&&(H0=window.getComputedStyle?Zle:nue);function cx(n,e){return n==="left"?e.useCssRight?"right":n:e.useCssBottom?"bottom":n}function _F(n){if(n==="left")return"right";if(n==="right")return"left";if(n==="top")return"bottom";if(n==="bottom")return"top"}function SF(n,e,i){_g(n,"position")==="static"&&(n.style.position="relative");var r=-999,o=-999,s=cx("left",i),a=cx("top",i),l=_F(s),u=_F(a);s!=="left"&&(r=999),a!=="top"&&(o=999);var c="",d=Zy(n);("left"in e||"top"in e)&&(c=Wle(n)||"",bF(n,"none")),"left"in e&&(n.style[l]="",n.style[s]="".concat(r,"px")),"top"in e&&(n.style[u]="",n.style[a]="".concat(o,"px")),xF(n);var f=Zy(n),h={};for(var p in e)if(e.hasOwnProperty(p)){var g=cx(p,i),b=p==="left"?r:o,y=d[p]-f[p];g===p?h[g]=b+y:h[g]=b-y}_g(n,h),xF(n),("left"in e||"top"in e)&&bF(n,c);var m={};for(var _ in e)if(e.hasOwnProperty(_)){var S=cx(_,i),w=e[_]-d[_];_===S?m[S]=h[S]+w:m[S]=h[S]-w}_g(n,m)}function iue(n,e){var i=Zy(n),r=jle(n),o={x:r.x,y:r.y};"left"in e&&(o.x=r.x+e.left-i.left),"top"in e&&(o.y=r.y+e.top-i.top),Xle(n,o)}function rue(n,e,i){if(i.ignoreShake){var r=Zy(n),o=r.left.toFixed(0),s=r.top.toFixed(0),a=e.left.toFixed(0),l=e.top.toFixed(0);if(o===a&&s===l)return}i.useCssRight||i.useCssBottom?SF(n,e,i):i.useCssTransform&&C1()in document.body.style?iue(n,e):SF(n,e,i)}function RI(n,e){for(var i=0;i<n.length;i++)e(n[i])}function cV(n){return H0(n,"boxSizing")==="border-box"}var oue=["margin","border","padding"],U2=-1,sue=2,k2=1,aue=0;function lue(n,e,i){var r={},o=n.style,s;for(s in e)e.hasOwnProperty(s)&&(r[s]=o[s],o[s]=e[s]);i.call(n);for(s in e)e.hasOwnProperty(s)&&(o[s]=r[s])}function Zv(n,e,i){var r=0,o,s,a;for(s=0;s<e.length;s++)if(o=e[s],o)for(a=0;a<i.length;a++){var l=void 0;o==="border"?l="".concat(o).concat(i[a],"Width"):l=o+i[a],r+=parseFloat(H0(n,l))||0}return r}var Tl={getParent:function(e){var i=e;do i.nodeType===11&&i.host?i=i.host:i=i.parentNode;while(i&&i.nodeType!==1&&i.nodeType!==9);return i}};RI(["Width","Height"],function(n){Tl["doc".concat(n)]=function(e){var i=e.document;return Math.max(i.documentElement["scroll".concat(n)],i.body["scroll".concat(n)],Tl["viewport".concat(n)](i))},Tl["viewport".concat(n)]=function(e){var i="client".concat(n),r=e.document,o=r.body,s=r.documentElement,a=s[i];return r.compatMode==="CSS1Compat"&&a||o&&o[i]||a}});function wF(n,e,i){var r=i;if(MI(n))return e==="width"?Tl.viewportWidth(n):Tl.viewportHeight(n);if(n.nodeType===9)return e==="width"?Tl.docWidth(n):Tl.docHeight(n);var o=e==="width"?["Left","Right"]:["Top","Bottom"],s=Math.floor(e==="width"?n.getBoundingClientRect().width:n.getBoundingClientRect().height),a=cV(n),l=0;(s==null||s<=0)&&(s=void 0,l=H0(n,e),(l==null||Number(l)<0)&&(l=n.style[e]||0),l=Math.floor(parseFloat(l))||0),r===void 0&&(r=a?k2:U2);var u=s!==void 0||a,c=s||l;return r===U2?u?c-Zv(n,["border","padding"],o):l:u?r===k2?c:c+(r===sue?-Zv(n,["border"],o):Zv(n,["margin"],o)):l+Zv(n,oue.slice(r),o)}var uue={position:"absolute",visibility:"hidden",display:"block"};function CF(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];var r,o=e[0];return o.offsetWidth!==0?r=wF.apply(void 0,e):lue(o,uue,function(){r=wF.apply(void 0,e)}),r}RI(["width","height"],function(n){var e=n.charAt(0).toUpperCase()+n.slice(1);Tl["outer".concat(e)]=function(r,o){return r&&CF(r,n,o?aue:k2)};var i=n==="width"?["Left","Right"]:["Top","Bottom"];Tl[n]=function(r,o){var s=o;if(s!==void 0){if(r){var a=cV(r);return a&&(s+=Zv(r,["padding","border"],i)),_g(r,n,s)}return}return r&&CF(r,n,U2)}});function dV(n,e){for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}var an={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var i=e.ownerDocument||e;return i.defaultView||i.parentWindow},getDocument:uV,offset:function(e,i,r){if(typeof i<"u")rue(e,i,r||{});else return Zy(e)},isWindow:MI,each:RI,css:_g,clone:function(e){var i,r={};for(i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);var o=e.overflow;if(o)for(i in e)e.hasOwnProperty(i)&&(r.overflow[i]=e.overflow[i]);return r},mix:dV,getWindowScrollLeft:function(e){return aV(e)},getWindowScrollTop:function(e){return lV(e)},merge:function(){for(var e={},i=0;i<arguments.length;i++)an.mix(e,i<0||arguments.length<=i?void 0:arguments[i]);return e},viewportWidth:0,viewportHeight:0};dV(an,Tl);var hT=an.getParent;function z2(n){if(an.isWindow(n)||n.nodeType===9)return null;var e=an.getDocument(n),i=e.body,r,o=an.css(n,"position"),s=o==="fixed"||o==="absolute";if(!s)return n.nodeName.toLowerCase()==="html"?null:hT(n);for(r=hT(n);r&&r!==i&&r.nodeType!==9;r=hT(r))if(o=an.css(r,"position"),o!=="static")return r;return null}var AF=an.getParent;function cue(n){if(an.isWindow(n)||n.nodeType===9)return!1;var e=an.getDocument(n),i=e.body,r=null;for(r=AF(n);r&&r!==i&&r!==e;r=AF(r)){var o=an.css(r,"position");if(o==="fixed")return!0}return!1}function PI(n,e){for(var i={left:0,right:1/0,top:0,bottom:1/0},r=z2(n),o=an.getDocument(n),s=o.defaultView||o.parentWindow,a=o.body,l=o.documentElement;r;){if((navigator.userAgent.indexOf("MSIE")===-1||r.clientWidth!==0)&&r!==a&&r!==l&&an.css(r,"overflow")!=="visible"){var u=an.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,i.top=Math.max(i.top,u.top),i.right=Math.min(i.right,u.left+r.clientWidth),i.bottom=Math.min(i.bottom,u.top+r.clientHeight),i.left=Math.max(i.left,u.left)}else if(r===a||r===l)break;r=z2(r)}var c=null;if(!an.isWindow(n)&&n.nodeType!==9){c=n.style.position;var d=an.css(n,"position");d==="absolute"&&(n.style.position="fixed")}var f=an.getWindowScrollLeft(s),h=an.getWindowScrollTop(s),p=an.viewportWidth(s),g=an.viewportHeight(s),b=l.scrollWidth,y=l.scrollHeight,m=window.getComputedStyle(a);if(m.overflowX==="hidden"&&(b=s.innerWidth),m.overflowY==="hidden"&&(y=s.innerHeight),n.style&&(n.style.position=c),e||cue(n))i.left=Math.max(i.left,f),i.top=Math.max(i.top,h),i.right=Math.min(i.right,f+p),i.bottom=Math.min(i.bottom,h+g);else{var _=Math.max(b,f+p);i.right=Math.min(i.right,_);var S=Math.max(y,h+g);i.bottom=Math.min(i.bottom,S)}return i.top>=0&&i.left>=0&&i.bottom>i.top&&i.right>i.left?i:null}function due(n,e,i,r){var o=an.clone(n),s={width:e.width,height:e.height};return r.adjustX&&o.left<i.left&&(o.left=i.left),r.resizeWidth&&o.left>=i.left&&o.left+s.width>i.right&&(s.width-=o.left+s.width-i.right),r.adjustX&&o.left+s.width>i.right&&(o.left=Math.max(i.right-s.width,i.left)),r.adjustY&&o.top<i.top&&(o.top=i.top),r.resizeHeight&&o.top>=i.top&&o.top+s.height>i.bottom&&(s.height-=o.top+s.height-i.bottom),r.adjustY&&o.top+s.height>i.bottom&&(o.top=Math.max(i.bottom-s.height,i.top)),an.mix(o,s)}function II(n){var e,i,r;if(!an.isWindow(n)&&n.nodeType!==9)e=an.offset(n),i=an.outerWidth(n),r=an.outerHeight(n);else{var o=an.getWindow(n);e={left:an.getWindowScrollLeft(o),top:an.getWindowScrollTop(o)},i=an.viewportWidth(o),r=an.viewportHeight(o)}return e.width=i,e.height=r,e}function TF(n,e){var i=e.charAt(0),r=e.charAt(1),o=n.width,s=n.height,a=n.left,l=n.top;return i==="c"?l+=s/2:i==="b"&&(l+=s),r==="c"?a+=o/2:r==="r"&&(a+=o),{left:a,top:l}}function dx(n,e,i,r,o){var s=TF(e,i[1]),a=TF(n,i[0]),l=[a.left-s.left,a.top-s.top];return{left:Math.round(n.left-l[0]+r[0]-o[0]),top:Math.round(n.top-l[1]+r[1]-o[1])}}function EF(n,e,i){return n.left<i.left||n.left+e.width>i.right}function MF(n,e,i){return n.top<i.top||n.top+e.height>i.bottom}function fue(n,e,i){return n.left>i.right||n.left+e.width<i.left}function hue(n,e,i){return n.top>i.bottom||n.top+e.height<i.top}function fx(n,e,i){var r=[];return an.each(n,function(o){r.push(o.replace(e,function(s){return i[s]}))}),r}function hx(n,e){return n[e]=-n[e],n}function RF(n,e){var i;return/%$/.test(n)?i=parseInt(n.substring(0,n.length-1),10)/100*e:i=parseInt(n,10),i||0}function PF(n,e){n[0]=RF(n[0],e.width),n[1]=RF(n[1],e.height)}function fV(n,e,i,r){var o=i.points,s=i.offset||[0,0],a=i.targetOffset||[0,0],l=i.overflow,u=i.source||n;s=[].concat(s),a=[].concat(a),l=l||{};var c={},d=0,f=!!(l&&l.alwaysByViewport),h=PI(u,f),p=II(u);PF(s,p),PF(a,e);var g=dx(p,e,o,s,a),b=an.merge(p,g);if(h&&(l.adjustX||l.adjustY)&&r){if(l.adjustX&&EF(g,p,h)){var y=fx(o,/[lr]/gi,{l:"r",r:"l"}),m=hx(s,0),_=hx(a,0),S=dx(p,e,y,m,_);fue(S,p,h)||(d=1,o=y,s=m,a=_)}if(l.adjustY&&MF(g,p,h)){var w=fx(o,/[tb]/gi,{t:"b",b:"t"}),A=hx(s,1),T=hx(a,1),C=dx(p,e,w,A,T);hue(C,p,h)||(d=1,o=w,s=A,a=T)}d&&(g=dx(p,e,o,s,a),an.mix(b,g));var R=EF(g,p,h),E=MF(g,p,h);if(R||E){var P=o;R&&(P=fx(o,/[lr]/gi,{l:"r",r:"l"})),E&&(P=fx(o,/[tb]/gi,{t:"b",b:"t"})),o=P,s=i.offset||[0,0],a=i.targetOffset||[0,0]}c.adjustX=l.adjustX&&R,c.adjustY=l.adjustY&&E,(c.adjustX||c.adjustY)&&(b=due(g,p,h,c))}return b.width!==p.width&&an.css(u,"width",an.width(u)+b.width-p.width),b.height!==p.height&&an.css(u,"height",an.height(u)+b.height-p.height),an.offset(u,{left:b.left,top:b.top},{useCssRight:i.useCssRight,useCssBottom:i.useCssBottom,useCssTransform:i.useCssTransform,ignoreShake:i.ignoreShake}),{points:o,offset:s,targetOffset:a,overflow:c}}function pue(n,e){var i=PI(n,e),r=II(n);return!i||r.left+r.width<=i.left||r.top+r.height<=i.top||r.left>=i.right||r.top>=i.bottom}function NI(n,e,i){var r=i.target||e,o=II(r),s=!pue(r,i.overflow&&i.overflow.alwaysByViewport);return fV(n,o,i,s)}NI.__getOffsetParent=z2;NI.__getVisibleRectForElement=PI;function gue(n,e,i){var r,o,s=an.getDocument(n),a=s.defaultView||s.parentWindow,l=an.getWindowScrollLeft(a),u=an.getWindowScrollTop(a),c=an.viewportWidth(a),d=an.viewportHeight(a);"pageX"in e?r=e.pageX:r=l+e.clientX,"pageY"in e?o=e.pageY:o=u+e.clientY;var f={left:r,top:o,width:0,height:0},h=r>=0&&r<=l+c&&o>=0&&o<=u+d,p=[i.points[0],"cc"];return fV(n,f,yF(yF({},i),{},{points:p}),h)}function Oi(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=n;if(Array.isArray(n)&&(o=Fo(n)[0]),!o)return null;const s=ds(o,e,r);return s.props=i?O(O({},s.props),e):s.props,x1(typeof s.props.class!="object"),s}const hV=n=>(n||[]).some(e=>wr(e)?!(e.type===co||e.type===mn&&!hV(e.children)):!0)?n:null;function A1(n,e,i,r){var o;const s=(o=n[e])===null||o===void 0?void 0:o.call(n,i);return hV(s)?s:r==null?void 0:r()}const OI=n=>{if(!n)return!1;if(n.offsetParent)return!0;if(n.getBBox){const e=n.getBBox();if(e.width||e.height)return!0}if(n.getBoundingClientRect){const e=n.getBoundingClientRect();if(e.width||e.height)return!0}return!1};function mue(n,e){return n===e?!0:!n||!e?!1:"pageX"in e&&"pageY"in e?n.pageX===e.pageX&&n.pageY===e.pageY:"clientX"in e&&"clientY"in e?n.clientX===e.clientX&&n.clientY===e.clientY:!1}function vue(n,e){n!==document.activeElement&&kf(e,n)&&typeof n.focus=="function"&&n.focus()}function IF(n,e){let i=null,r=null;function o(a){let[{target:l}]=a;if(!document.documentElement.contains(l))return;const{width:u,height:c}=l.getBoundingClientRect(),d=Math.floor(u),f=Math.floor(c);(i!==d||r!==f)&&Promise.resolve().then(()=>{e({width:d,height:f})}),i=d,r=f}const s=new lG(o);return n&&s.observe(n),()=>{s.disconnect()}}const yue=(n,e)=>{let i=!1,r=null;function o(){clearTimeout(r)}function s(a){if(!i||a===!0){if(n()===!1)return;i=!0,o(),r=setTimeout(()=>{i=!1},e.value)}else o(),r=setTimeout(()=>{i=!1,s()},e.value)}return[s,()=>{i=!1,o()}]};function bue(){this.__data__=[],this.size=0}function DI(n,e){return n===e||n!==n&&e!==e}function T1(n,e){for(var i=n.length;i--;)if(DI(n[i][0],e))return i;return-1}var xue=Array.prototype,_ue=xue.splice;function Sue(n){var e=this.__data__,i=T1(e,n);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():_ue.call(e,i,1),--this.size,!0}function wue(n){var e=this.__data__,i=T1(e,n);return i<0?void 0:e[i][1]}function Cue(n){return T1(this.__data__,n)>-1}function Aue(n,e){var i=this.__data__,r=T1(i,n);return r<0?(++this.size,i.push([n,e])):i[r][1]=e,this}function _c(n){var e=-1,i=n==null?0:n.length;for(this.clear();++e<i;){var r=n[e];this.set(r[0],r[1])}}_c.prototype.clear=bue;_c.prototype.delete=Sue;_c.prototype.get=wue;_c.prototype.has=Cue;_c.prototype.set=Aue;function Tue(){this.__data__=new _c,this.size=0}function Eue(n){var e=this.__data__,i=e.delete(n);return this.size=e.size,i}function Mue(n){return this.__data__.get(n)}function Rue(n){return this.__data__.has(n)}var pV=typeof global=="object"&&global&&global.Object===Object&&global,Pue=typeof self=="object"&&self&&self.Object===Object&&self,Xl=pV||Pue||Function("return this")(),kl=Xl.Symbol,gV=Object.prototype,Iue=gV.hasOwnProperty,Nue=gV.toString,hv=kl?kl.toStringTag:void 0;function Oue(n){var e=Iue.call(n,hv),i=n[hv];try{n[hv]=void 0;var r=!0}catch{}var o=Nue.call(n);return r&&(e?n[hv]=i:delete n[hv]),o}var Due=Object.prototype,Lue=Due.toString;function Bue(n){return Lue.call(n)}var Fue="[object Null]",$ue="[object Undefined]",NF=kl?kl.toStringTag:void 0;function Bh(n){return n==null?n===void 0?$ue:Fue:NF&&NF in Object(n)?Oue(n):Bue(n)}function cc(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Uue="[object AsyncFunction]",kue="[object Function]",zue="[object GeneratorFunction]",Hue="[object Proxy]";function mV(n){if(!cc(n))return!1;var e=Bh(n);return e==kue||e==zue||e==Uue||e==Hue}var pT=Xl["__core-js_shared__"],OF=function(){var n=/[^.]+$/.exec(pT&&pT.keys&&pT.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Gue(n){return!!OF&&OF in n}var Vue=Function.prototype,Wue=Vue.toString;function Fh(n){if(n!=null){try{return Wue.call(n)}catch{}try{return n+""}catch{}}return""}var jue=/[\\^$.*+?()[\]{}|]/g,Kue=/^\[object .+?Constructor\]$/,que=Function.prototype,Xue=Object.prototype,Yue=que.toString,Que=Xue.hasOwnProperty,Zue=RegExp("^"+Yue.call(Que).replace(jue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jue(n){if(!cc(n)||Gue(n))return!1;var e=mV(n)?Zue:Kue;return e.test(Fh(n))}function ece(n,e){return n==null?void 0:n[e]}function $h(n,e){var i=ece(n,e);return Jue(i)?i:void 0}var Jy=$h(Xl,"Map"),e0=$h(Object,"create");function tce(){this.__data__=e0?e0(null):{},this.size=0}function nce(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var ice="__lodash_hash_undefined__",rce=Object.prototype,oce=rce.hasOwnProperty;function sce(n){var e=this.__data__;if(e0){var i=e[n];return i===ice?void 0:i}return oce.call(e,n)?e[n]:void 0}var ace=Object.prototype,lce=ace.hasOwnProperty;function uce(n){var e=this.__data__;return e0?e[n]!==void 0:lce.call(e,n)}var cce="__lodash_hash_undefined__";function dce(n,e){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e0&&e===void 0?cce:e,this}function xh(n){var e=-1,i=n==null?0:n.length;for(this.clear();++e<i;){var r=n[e];this.set(r[0],r[1])}}xh.prototype.clear=tce;xh.prototype.delete=nce;xh.prototype.get=sce;xh.prototype.has=uce;xh.prototype.set=dce;function fce(){this.size=0,this.__data__={hash:new xh,map:new(Jy||_c),string:new xh}}function hce(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function E1(n,e){var i=n.__data__;return hce(e)?i[typeof e=="string"?"string":"hash"]:i.map}function pce(n){var e=E1(this,n).delete(n);return this.size-=e?1:0,e}function gce(n){return E1(this,n).get(n)}function mce(n){return E1(this,n).has(n)}function vce(n,e){var i=E1(this,n),r=i.size;return i.set(n,e),this.size+=i.size==r?0:1,this}function Sc(n){var e=-1,i=n==null?0:n.length;for(this.clear();++e<i;){var r=n[e];this.set(r[0],r[1])}}Sc.prototype.clear=fce;Sc.prototype.delete=pce;Sc.prototype.get=gce;Sc.prototype.has=mce;Sc.prototype.set=vce;var yce=200;function bce(n,e){var i=this.__data__;if(i instanceof _c){var r=i.__data__;if(!Jy||r.length<yce-1)return r.push([n,e]),this.size=++i.size,this;i=this.__data__=new Sc(r)}return i.set(n,e),this.size=i.size,this}function tc(n){var e=this.__data__=new _c(n);this.size=e.size}tc.prototype.clear=Tue;tc.prototype.delete=Eue;tc.prototype.get=Mue;tc.prototype.has=Rue;tc.prototype.set=bce;var xce="__lodash_hash_undefined__";function _ce(n){return this.__data__.set(n,xce),this}function Sce(n){return this.__data__.has(n)}function t0(n){var e=-1,i=n==null?0:n.length;for(this.__data__=new Sc;++e<i;)this.add(n[e])}t0.prototype.add=t0.prototype.push=_ce;t0.prototype.has=Sce;function wce(n,e){for(var i=-1,r=n==null?0:n.length;++i<r;)if(e(n[i],i,n))return!0;return!1}function vV(n,e){return n.has(e)}var Cce=1,Ace=2;function yV(n,e,i,r,o,s){var a=i&Cce,l=n.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(n),d=s.get(e);if(c&&d)return c==e&&d==n;var f=-1,h=!0,p=i&Ace?new t0:void 0;for(s.set(n,e),s.set(e,n);++f<l;){var g=n[f],b=e[f];if(r)var y=a?r(b,g,f,e,n,s):r(g,b,f,n,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!wce(e,function(m,_){if(!vV(p,_)&&(g===m||o(g,m,i,r,s)))return p.push(_)})){h=!1;break}}else if(!(g===b||o(g,b,i,r,s))){h=!1;break}}return s.delete(n),s.delete(e),h}var DF=Xl.Uint8Array;function Tce(n){var e=-1,i=Array(n.size);return n.forEach(function(r,o){i[++e]=[o,r]}),i}function LI(n){var e=-1,i=Array(n.size);return n.forEach(function(r){i[++e]=r}),i}var Ece=1,Mce=2,Rce="[object Boolean]",Pce="[object Date]",Ice="[object Error]",Nce="[object Map]",Oce="[object Number]",Dce="[object RegExp]",Lce="[object Set]",Bce="[object String]",Fce="[object Symbol]",$ce="[object ArrayBuffer]",Uce="[object DataView]",LF=kl?kl.prototype:void 0,gT=LF?LF.valueOf:void 0;function kce(n,e,i,r,o,s,a){switch(i){case Uce:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case $ce:return!(n.byteLength!=e.byteLength||!s(new DF(n),new DF(e)));case Rce:case Pce:case Oce:return DI(+n,+e);case Ice:return n.name==e.name&&n.message==e.message;case Dce:case Bce:return n==e+"";case Nce:var l=Tce;case Lce:var u=r&Ece;if(l||(l=LI),n.size!=e.size&&!u)return!1;var c=a.get(n);if(c)return c==e;r|=Mce,a.set(n,e);var d=yV(l(n),l(e),r,o,s,a);return a.delete(n),d;case Fce:if(gT)return gT.call(n)==gT.call(e)}return!1}function bV(n,e){for(var i=-1,r=e.length,o=n.length;++i<r;)n[o+i]=e[i];return n}var _a=Array.isArray;function zce(n,e,i){var r=e(n);return _a(n)?r:bV(r,i(n))}function Hce(n,e){for(var i=-1,r=n==null?0:n.length,o=0,s=[];++i<r;){var a=n[i];e(a,i,n)&&(s[o++]=a)}return s}function Gce(){return[]}var Vce=Object.prototype,Wce=Vce.propertyIsEnumerable,BF=Object.getOwnPropertySymbols,jce=BF?function(n){return n==null?[]:(n=Object(n),Hce(BF(n),function(e){return Wce.call(n,e)}))}:Gce;function Kce(n,e){for(var i=-1,r=Array(n);++i<n;)r[i]=e(i);return r}function _h(n){return n!=null&&typeof n=="object"}var qce="[object Arguments]";function FF(n){return _h(n)&&Bh(n)==qce}var xV=Object.prototype,Xce=xV.hasOwnProperty,Yce=xV.propertyIsEnumerable,M1=FF(function(){return arguments}())?FF:function(n){return _h(n)&&Xce.call(n,"callee")&&!Yce.call(n,"callee")};function Qce(){return!1}var _V=typeof Ju=="object"&&Ju&&!Ju.nodeType&&Ju,$F=_V&&typeof ec=="object"&&ec&&!ec.nodeType&&ec,Zce=$F&&$F.exports===_V,UF=Zce?Xl.Buffer:void 0,Jce=UF?UF.isBuffer:void 0,sw=Jce||Qce,ede=9007199254740991,tde=/^(?:0|[1-9]\d*)$/;function BI(n,e){var i=typeof n;return e=e??ede,!!e&&(i=="number"||i!="symbol"&&tde.test(n))&&n>-1&&n%1==0&&n<e}var nde=9007199254740991;function FI(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=nde}var ide="[object Arguments]",rde="[object Array]",ode="[object Boolean]",sde="[object Date]",ade="[object Error]",lde="[object Function]",ude="[object Map]",cde="[object Number]",dde="[object Object]",fde="[object RegExp]",hde="[object Set]",pde="[object String]",gde="[object WeakMap]",mde="[object ArrayBuffer]",vde="[object DataView]",yde="[object Float32Array]",bde="[object Float64Array]",xde="[object Int8Array]",_de="[object Int16Array]",Sde="[object Int32Array]",wde="[object Uint8Array]",Cde="[object Uint8ClampedArray]",Ade="[object Uint16Array]",Tde="[object Uint32Array]",_i={};_i[yde]=_i[bde]=_i[xde]=_i[_de]=_i[Sde]=_i[wde]=_i[Cde]=_i[Ade]=_i[Tde]=!0;_i[ide]=_i[rde]=_i[mde]=_i[ode]=_i[vde]=_i[sde]=_i[ade]=_i[lde]=_i[ude]=_i[cde]=_i[dde]=_i[fde]=_i[hde]=_i[pde]=_i[gde]=!1;function Ede(n){return _h(n)&&FI(n.length)&&!!_i[Bh(n)]}function Mde(n){return function(e){return n(e)}}var SV=typeof Ju=="object"&&Ju&&!Ju.nodeType&&Ju,_y=SV&&typeof ec=="object"&&ec&&!ec.nodeType&&ec,Rde=_y&&_y.exports===SV,mT=Rde&&pV.process,kF=function(){try{var n=_y&&_y.require&&_y.require("util").types;return n||mT&&mT.binding&&mT.binding("util")}catch{}}(),zF=kF&&kF.isTypedArray,$I=zF?Mde(zF):Ede,Pde=Object.prototype,Ide=Pde.hasOwnProperty;function Nde(n,e){var i=_a(n),r=!i&&M1(n),o=!i&&!r&&sw(n),s=!i&&!r&&!o&&$I(n),a=i||r||o||s,l=a?Kce(n.length,String):[],u=l.length;for(var c in n)Ide.call(n,c)&&!(a&&(c=="length"||o&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||BI(c,u)))&&l.push(c);return l}var Ode=Object.prototype;function wV(n){var e=n&&n.constructor,i=typeof e=="function"&&e.prototype||Ode;return n===i}function CV(n,e){return function(i){return n(e(i))}}var Dde=CV(Object.keys,Object),Lde=Object.prototype,Bde=Lde.hasOwnProperty;function AV(n){if(!wV(n))return Dde(n);var e=[];for(var i in Object(n))Bde.call(n,i)&&i!="constructor"&&e.push(i);return e}function UI(n){return n!=null&&FI(n.length)&&!mV(n)}function kI(n){return UI(n)?Nde(n):AV(n)}function HF(n){return zce(n,kI,jce)}var Fde=1,$de=Object.prototype,Ude=$de.hasOwnProperty;function kde(n,e,i,r,o,s){var a=i&Fde,l=HF(n),u=l.length,c=HF(e),d=c.length;if(u!=d&&!a)return!1;for(var f=u;f--;){var h=l[f];if(!(a?h in e:Ude.call(e,h)))return!1}var p=s.get(n),g=s.get(e);if(p&&g)return p==e&&g==n;var b=!0;s.set(n,e),s.set(e,n);for(var y=a;++f<u;){h=l[f];var m=n[h],_=e[h];if(r)var S=a?r(_,m,h,e,n,s):r(m,_,h,n,e,s);if(!(S===void 0?m===_||o(m,_,i,r,s):S)){b=!1;break}y||(y=h=="constructor")}if(b&&!y){var w=n.constructor,A=e.constructor;w!=A&&"constructor"in n&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof A=="function"&&A instanceof A)&&(b=!1)}return s.delete(n),s.delete(e),b}var H2=$h(Xl,"DataView"),G2=$h(Xl,"Promise"),Sg=$h(Xl,"Set"),V2=$h(Xl,"WeakMap"),GF="[object Map]",zde="[object Object]",VF="[object Promise]",WF="[object Set]",jF="[object WeakMap]",KF="[object DataView]",Hde=Fh(H2),Gde=Fh(Jy),Vde=Fh(G2),Wde=Fh(Sg),jde=Fh(V2),$u=Bh;(H2&&$u(new H2(new ArrayBuffer(1)))!=KF||Jy&&$u(new Jy)!=GF||G2&&$u(G2.resolve())!=VF||Sg&&$u(new Sg)!=WF||V2&&$u(new V2)!=jF)&&($u=function(n){var e=Bh(n),i=e==zde?n.constructor:void 0,r=i?Fh(i):"";if(r)switch(r){case Hde:return KF;case Gde:return GF;case Vde:return VF;case Wde:return WF;case jde:return jF}return e});var Kde=1,qF="[object Arguments]",XF="[object Array]",px="[object Object]",qde=Object.prototype,YF=qde.hasOwnProperty;function Xde(n,e,i,r,o,s){var a=_a(n),l=_a(e),u=a?XF:$u(n),c=l?XF:$u(e);u=u==qF?px:u,c=c==qF?px:c;var d=u==px,f=c==px,h=u==c;if(h&&sw(n)){if(!sw(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new tc),a||$I(n)?yV(n,e,i,r,o,s):kce(n,e,u,i,r,o,s);if(!(i&Kde)){var p=d&&YF.call(n,"__wrapped__"),g=f&&YF.call(e,"__wrapped__");if(p||g){var b=p?n.value():n,y=g?e.value():e;return s||(s=new tc),o(b,y,i,r,s)}}return h?(s||(s=new tc),kde(n,e,i,r,o,s)):!1}function R1(n,e,i,r,o){return n===e?!0:n==null||e==null||!_h(n)&&!_h(e)?n!==n&&e!==e:Xde(n,e,i,r,R1,o)}function Yde(n,e){return R1(n,e)}const Qde={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function QF(n){return typeof n!="function"?null:n()}function ZF(n){return typeof n!="object"||!n?null:n}const Zde=je({compatConfig:{MODE:3},name:"Align",props:Qde,emits:["align"],setup(n,e){let{expose:i,slots:r}=e;const o=Ge({}),s=Ge(),[a,l]=yue(()=>{const{disabled:h,target:p,align:g,onAlign:b}=n;if(!h&&p&&s.value){const y=s.value;let m;const _=QF(p),S=ZF(p);o.value.element=_,o.value.point=S,o.value.align=g;const{activeElement:w}=document;return _&&OI(_)?m=NI(y,_,g):S&&(m=gue(y,S,g)),vue(w,y),b&&m&&b(y,m),!0}return!1},K(()=>n.monitorBufferTime)),u=Ge({cancel:()=>{}}),c=Ge({cancel:()=>{}}),d=()=>{const h=n.target,p=QF(h),g=ZF(h);s.value!==c.value.element&&(c.value.cancel(),c.value.element=s.value,c.value.cancel=IF(s.value,a)),(o.value.element!==p||!mue(o.value.point,g)||!Yde(o.value.align,n.align))&&(a(),u.value.element!==p&&(u.value.cancel(),u.value.element=p,u.value.cancel=IF(p,a)))};en(()=>{kn(()=>{d()})}),Ca(()=>{kn(()=>{d()})}),ct(()=>n.disabled,h=>{h?l():a()},{immediate:!0,flush:"post"});const f=Ge(null);return ct(()=>n.monitorWindowResize,h=>{h?f.value||(f.value=da(window,"resize",a)):f.value&&(f.value.remove(),f.value=null)},{flush:"post"}),al(()=>{u.value.cancel(),c.value.cancel(),f.value&&f.value.remove(),l()}),i({forceAlign:()=>a(!0)}),()=>{const h=r==null?void 0:r.default();return h?Oi(h[0],{ref:s},!0,!0):null}}});vh("bottomLeft","bottomRight","topLeft","topRight");const Jde=n=>n!==void 0&&(n==="topLeft"||n==="topRight")?"slide-down":"slide-up",Kg=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O(n?{name:n,appear:!0,enterFromClass:`${n}-enter ${n}-enter-prepare ${n}-enter-start`,enterActiveClass:`${n}-enter ${n}-enter-prepare`,enterToClass:`${n}-enter ${n}-enter-active`,leaveFromClass:` ${n}-leave`,leaveActiveClass:`${n}-leave ${n}-leave-active`,leaveToClass:`${n}-leave ${n}-leave-active`}:{css:!1},e)},efe=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O(n?{name:n,appear:!0,appearActiveClass:`${n}`,appearToClass:`${n}-appear ${n}-appear-active`,enterFromClass:`${n}-appear ${n}-enter ${n}-appear-prepare ${n}-enter-prepare`,enterActiveClass:`${n}`,enterToClass:`${n}-enter ${n}-appear ${n}-appear-active ${n}-enter-active`,leaveActiveClass:`${n} ${n}-leave`,leaveToClass:`${n}-leave-active`}:{css:!1},e)},aw=(n,e,i)=>i!==void 0?i:`${n}-${e}`,tfe=je({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:EI,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(n,e){let{expose:i,attrs:r,slots:o}=e;const s=Oe(),a=Oe(),l=Oe(),[u,c]=Hle(Jn(n,"stretch")),d=()=>{n.stretch&&c(n.getRootDomNode())},f=Oe(!1);let h;ct(()=>n.visible,T=>{clearTimeout(h),T?h=setTimeout(()=>{f.value=n.visible}):f.value=!1},{immediate:!0});const[p,g]=zle(f,d),b=Oe(),y=()=>n.point?n.point:n.getRootDomNode,m=()=>{var T;(T=s.value)===null||T===void 0||T.forceAlign()},_=(T,C)=>{var R;const E=n.getClassNameFromAlign(C),P=l.value;l.value!==E&&(l.value=E),p.value==="align"&&(P!==E?Promise.resolve().then(()=>{m()}):g(()=>{var I;(I=b.value)===null||I===void 0||I.call(b)}),(R=n.onAlign)===null||R===void 0||R.call(n,T,C))},S=K(()=>{const T=typeof n.animation=="object"?n.animation:iV(n);return["onAfterEnter","onAfterLeave"].forEach(C=>{const R=T[C];T[C]=E=>{g(),p.value="stable",R==null||R(E)}}),T}),w=()=>new Promise(T=>{b.value=T});ct([S,p],()=>{!S.value&&p.value==="motion"&&g()},{immediate:!0}),i({forceAlign:m,getElement:()=>a.value.$el||a.value});const A=K(()=>{var T;return!(!((T=n.align)===null||T===void 0)&&T.points&&(p.value==="align"||p.value==="stable"))});return()=>{var T;const{zIndex:C,align:R,prefixCls:E,destroyPopupOnHide:P,onMouseenter:I,onMouseleave:D,onTouchstart:F=()=>{},onMousedown:L}=n,$=p.value,U=[O(O({},u.value),{zIndex:C,opacity:$==="motion"||$==="stable"||!f.value?null:0,pointerEvents:!f.value&&$!=="stable"?"none":null}),r.style];let k=ir((T=o.default)===null||T===void 0?void 0:T.call(o,{visible:n.visible}));k.length>1&&(k=N("div",{class:`${E}-content`},[k]));const H=Qe(E,r.class,l.value,!n.arrow&&`${E}-arrow-hidden`),Q=f.value||!n.visible?Kg(S.value.name,S.value):{};return N(nl,ve(ve({ref:a},Q),{},{onBeforeEnter:w}),{default:()=>!P||n.visible?Ro(N(Zde,{target:y(),key:"popup",ref:s,monitorWindowResize:!0,disabled:A.value,align:R,onAlign:_},{default:()=>N("div",{class:H,onMouseenter:I,onMouseleave:D,onMousedown:$B(L,["capture"]),[lo?"onTouchstartPassive":"onTouchstart"]:$B(F,["capture"]),style:U},[k])}),[[Jo,f.value]]):null})}}}),nfe=je({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:$le,setup(n,e){let{attrs:i,slots:r,expose:o}=e;const s=Oe(!1),a=Oe(!1),l=Oe(),u=Oe();return ct([()=>n.visible,()=>n.mobile],()=>{s.value=n.visible,n.visible&&n.mobile&&(a.value=!0)},{immediate:!0,flush:"post"}),o({forceAlign:()=>{var c;(c=l.value)===null||c===void 0||c.forceAlign()},getElement:()=>{var c;return(c=l.value)===null||c===void 0?void 0:c.getElement()}}),()=>{const c=O(O(O({},n),i),{visible:s.value}),d=a.value?N(Ule,ve(ve({},c),{},{mobile:n.mobile,ref:l}),{default:r.default}):N(tfe,ve(ve({},c),{},{ref:l}),{default:r.default});return N("div",{ref:u},[N(rV,c,null),d])}}});function ife(n,e,i){return i?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function JF(n,e,i){const r=n[e]||{};return O(O({},r),i)}function rfe(n,e,i,r){const{points:o}=i,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(ife(n[l].points,o,r))return`${e}-placement-${l}`}return""}const TV={methods:{setState(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=typeof n=="function"?n(this.$data,this.$props):n;if(this.getDerivedStateFromProps){const r=this.getDerivedStateFromProps(vse(this),O(O({},this.$data),i));if(r===null)return;i=O(O({},i),r||{})}O(this.$data,i),this._.isMounted&&this.$forceUpdate(),kn(()=>{e&&e()})},__emit(){const n=[].slice.call(arguments,0);let e=n[0];e=`on${e[0].toUpperCase()}${e.substring(1)}`;const i=this.$props[e]||this.$attrs[e];if(n.length&&i)if(Array.isArray(i))for(let r=0,o=i.length;r<o;r++)i[r](...n.slice(1));else i(...n.slice(1))}}},EV=Symbol("PortalContextKey"),MV=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};jn(EV,{inTriggerContext:e.inTriggerContext,shouldRender:K(()=>{const{sPopupVisible:i,popupRef:r,forceRender:o,autoDestroy:s}=n||{};let a=!1;return(i||r||o)&&(a=!0),!i&&s&&(a=!1),a})})},ofe=()=>{MV({},{inTriggerContext:!1});const n=qt(EV,{shouldRender:K(()=>!1),inTriggerContext:!1});return{shouldRender:K(()=>n.shouldRender.value||n.inTriggerContext===!1)}},sfe=je({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:be.func.isRequired,didUpdate:Function},setup(n,e){let{slots:i}=e,r=!0,o;const{shouldRender:s}=ofe();function a(){s.value&&(o=n.getContainer())}uI(()=>{r=!1,a()}),en(()=>{o||a()});const l=ct(s,()=>{s.value&&!o&&(o=n.getContainer()),o&&l()});return Ca(()=>{kn(()=>{var u;s.value&&((u=n.didUpdate)===null||u===void 0||u.call(n,n))})}),()=>{var u;return s.value?r?(u=i.default)===null||u===void 0?void 0:u.call(i):o?N(mH,{to:o},i):null:null}}});let vT;function lw(n){if(typeof document>"u")return 0;if(vT===void 0){const e=document.createElement("div");e.style.width="100%",e.style.height="200px";const i=document.createElement("div"),r=i.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",i.appendChild(e),document.body.appendChild(i);const o=e.offsetWidth;i.style.overflow="scroll";let s=e.offsetWidth;o===s&&(s=i.clientWidth),document.body.removeChild(i),vT=o-s}return vT}function e$(n){const e=n.match(/^(.*)px$/),i=Number(e==null?void 0:e[1]);return Number.isNaN(i)?lw():i}function afe(n){if(typeof document>"u"||!n||!(n instanceof Element))return{width:0,height:0};const{width:e,height:i}=getComputedStyle(n,"::-webkit-scrollbar");return{width:e$(e),height:e$(i)}}const lfe=`vc-util-locker-${Date.now()}`;let t$=0;function ufe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function cfe(n){const e=K(()=>!!n&&!!n.value);t$+=1;const i=`${lfe}_${t$}`;ln(r=>{if(ba()){if(e.value){const o=lw(),s=ufe();tw(`
html body {
  overflow-y: hidden;
  ${s?`width: calc(100% - ${o}px);`:""}
}`,i)}else ew(i);r(()=>{ew(i)})}},{flush:"post"})}let vf=0;const fS=ba(),n$=n=>{if(!fS)return null;if(n){if(typeof n=="string")return document.querySelectorAll(n)[0];if(typeof n=="function")return n();if(typeof n=="object"&&n instanceof window.HTMLElement)return n}return document.body},RV=je({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:be.any,visible:{type:Boolean,default:void 0},autoLock:It(),didUpdate:Function},setup(n,e){let{slots:i}=e;const r=Oe(),o=Oe(),s=Oe(),a=Oe(1),l=ba()&&document.createElement("div"),u=()=>{var p,g;r.value===l&&((g=(p=r.value)===null||p===void 0?void 0:p.parentNode)===null||g===void 0||g.removeChild(r.value)),r.value=null};let c=null;const d=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||r.value&&!r.value.parentNode?(c=n$(n.getContainer),c?(c.appendChild(r.value),!0):!1):!0},f=()=>fS?(r.value||(r.value=l,d(!0)),h(),r.value):null,h=()=>{const{wrapperClassName:p}=n;r.value&&p&&p!==r.value.className&&(r.value.className=p)};return Ca(()=>{h(),d()}),cfe(K(()=>n.autoLock&&n.visible&&ba()&&(r.value===document.body||r.value===l))),en(()=>{let p=!1;ct([()=>n.visible,()=>n.getContainer],(g,b)=>{let[y,m]=g,[_,S]=b;fS&&(c=n$(n.getContainer),c===document.body&&(y&&!_?vf+=1:p&&(vf-=1))),p&&(typeof m=="function"&&typeof S=="function"?m.toString()!==S.toString():m!==S)&&u(),p=!0},{immediate:!0,flush:"post"}),kn(()=>{d()||(s.value=xn(()=>{a.value+=1}))})}),Pn(()=>{const{visible:p}=n;fS&&c===document.body&&(vf=p&&vf?vf-1:vf),u(),xn.cancel(s.value)}),()=>{const{forceRender:p,visible:g}=n;let b=null;const y={getOpenCount:()=>vf,getContainer:f};return a.value&&(p||g||o.value)&&(b=N(sfe,{getContainer:f,ref:o,didUpdate:n.didUpdate},{default:()=>{var m;return(m=i.default)===null||m===void 0?void 0:m.call(i,y)}})),b}}}),dfe=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],P1=je({compatConfig:{MODE:3},name:"Trigger",mixins:[TV],inheritAttrs:!1,props:Ble(),setup(n){const e=K(()=>{const{popupPlacement:o,popupAlign:s,builtinPlacements:a}=n;return o&&a?JF(a,o,s):s}),i=Oe(null),r=o=>{i.value=o};return{vcTriggerContext:qt("vcTriggerContext",{}),popupRef:i,setPopupRef:r,triggerRef:Oe(null),align:e,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const n=this.$props;let e;return this.popupVisible!==void 0?e=!!n.popupVisible:e=!!n.defaultPopupVisible,dfe.forEach(i=>{this[`fire${i}`]=r=>{this.fireEvents(i,r)}}),{prevPopupVisible:e,sPopupVisible:e,point:null}},watch:{popupVisible(n){n!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=n)}},created(){jn("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),MV(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),xn.cancel(this.attachId)},methods:{updatedCal(){const n=this.$props;if(this.$data.sPopupVisible){let i;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(i=n.getDocument(this.getRootDomNode()),this.clickOutsideHandler=da(i,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(i=i||n.getDocument(this.getRootDomNode()),this.touchOutsideHandler=da(i,"touchstart",this.onDocumentClick,lo?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(i=i||n.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=da(i,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=da(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(n){const{mouseEnterDelay:e}=this.$props;this.fireEvents("onMouseenter",n),this.delaySetPopupVisible(!0,e,e?null:n)},onMouseMove(n){this.fireEvents("onMousemove",n),this.setPoint(n)},onMouseleave(n){this.fireEvents("onMouseleave",n),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:n={}}=this;n.onPopupMouseenter&&n.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(n){var e;if(n&&n.relatedTarget&&!n.relatedTarget.setTimeout&&kf((e=this.popupRef)===null||e===void 0?void 0:e.getElement(),n.relatedTarget))return;this.isMouseLeaveToHide()&&this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:i={}}=this;i.onPopupMouseleave&&i.onPopupMouseleave(n)},onFocus(n){this.fireEvents("onFocus",n),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(n){this.fireEvents("onMousedown",n),this.preClickTime=Date.now()},onTouchstart(n){this.fireEvents("onTouchstart",n),this.preTouchTime=Date.now()},onBlur(n){kf(n.target,n.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",n),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(n){n.preventDefault(),this.fireEvents("onContextmenu",n),this.setPopupVisible(!0,n)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(n){if(this.fireEvents("onClick",n),this.focusTime){let i;if(this.preClickTime&&this.preTouchTime?i=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?i=this.preClickTime:this.preTouchTime&&(i=this.preTouchTime),Math.abs(i-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&n&&n.preventDefault&&n.preventDefault(),n&&n.domEvent&&n.domEvent.preventDefault();const e=!this.$data.sPopupVisible;(this.isClickToHide()&&!e||e&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,n)},onPopupMouseDown(){const{vcTriggerContext:n={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),n.onPopupMouseDown&&n.onPopupMouseDown(...arguments)},onDocumentClick(n){if(this.$props.mask&&!this.$props.maskClosable)return;const e=n.target,i=this.getRootDomNode(),r=this.getPopupDomNode();(!kf(i,e)||this.isContextMenuOnly())&&!kf(r,e)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var n;return((n=this.popupRef)===null||n===void 0?void 0:n.getElement())||null},getRootDomNode(){var n,e,i,r;const{getTriggerDOMNode:o}=this.$props;if(o){const s=((e=(n=this.triggerRef)===null||n===void 0?void 0:n.$el)===null||e===void 0?void 0:e.nodeName)==="#comment"?null:Ku(this.triggerRef);return Ku(o(s))}try{const s=((r=(i=this.triggerRef)===null||i===void 0?void 0:i.$el)===null||r===void 0?void 0:r.nodeName)==="#comment"?null:Ku(this.triggerRef);if(s)return s}catch{}return Ku(this)},handleGetPopupClassFromAlign(n){const e=[],i=this.$props,{popupPlacement:r,builtinPlacements:o,prefixCls:s,alignPoint:a,getPopupClassNameFromAlign:l}=i;return r&&o&&e.push(rfe(o,s,n,a)),l&&e.push(l(n)),e.join(" ")},getPopupAlign(){const n=this.$props,{popupPlacement:e,popupAlign:i,builtinPlacements:r}=n;return e&&r?JF(r,e,i):i},getComponent(){const n={};this.isMouseEnterToShow()&&(n.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(n.onMouseleave=this.onPopupMouseleave),n.onMousedown=this.onPopupMouseDown,n[lo?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:e,getRootDomNode:i,$attrs:r}=this,{prefixCls:o,destroyPopupOnHide:s,popupClassName:a,popupAnimation:l,popupTransitionName:u,popupStyle:c,mask:d,maskAnimation:f,maskTransitionName:h,zIndex:p,stretch:g,alignPoint:b,mobile:y,arrow:m,forceRender:_}=this.$props,{sPopupVisible:S,point:w}=this.$data,A=O(O({prefixCls:o,arrow:m,destroyPopupOnHide:s,visible:S,point:b?w:null,align:this.align,animation:l,getClassNameFromAlign:e,stretch:g,getRootDomNode:i,mask:d,zIndex:p,transitionName:u,maskAnimation:f,maskTransitionName:h,class:a,style:c,onAlign:r.onPopupAlign||nV},n),{ref:this.setPopupRef,mobile:y,forceRender:_});return N(nfe,A,{default:this.$slots.popup||(()=>dG(this,"popup"))})},attachParent(n){xn.cancel(this.attachId);const{getPopupContainer:e,getDocument:i}=this.$props,r=this.getRootDomNode();let o;e?(r||e.length===0)&&(o=e(r)):o=i(this.getRootDomNode()).body,o?o.appendChild(n):this.attachId=xn(()=>{this.attachParent(n)})},getContainer(){const{$props:n}=this,{getDocument:e}=n,i=e(this.getRootDomNode()).createElement("div");return i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.width="100%",this.attachParent(i),i},setPopupVisible(n,e){const{alignPoint:i,sPopupVisible:r,onPopupVisibleChange:o}=this;this.clearDelayTimer(),r!==n&&(rg(this,"popupVisible")||this.setState({sPopupVisible:n,prevPopupVisible:r}),o&&o(n)),i&&e&&n&&this.setPoint(e)},setPoint(n){const{alignPoint:e}=this.$props;!e||!n||this.setState({point:{pageX:n.pageX,pageY:n.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(n,e,i){const r=e*1e3;if(this.clearDelayTimer(),r){const o=i?{pageX:i.pageX,pageY:i.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(n,o),this.clearDelayTimer()},r)}else this.setPopupVisible(n,i)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(n){let e=()=>{};const i=GB(this);return this.childOriginEvents[n]&&i[n]?this[`fire${n}`]:(e=this.childOriginEvents[n]||i[n]||e,e)},isClickToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("click")!==-1||e.indexOf("click")!==-1},isContextMenuOnly(){const{action:n}=this.$props;return n==="contextmenu"||n.length===1&&n[0]==="contextmenu"},isContextmenuToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("contextmenu")!==-1||e.indexOf("contextmenu")!==-1},isClickToHide(){const{action:n,hideAction:e}=this.$props;return n.indexOf("click")!==-1||e.indexOf("click")!==-1},isMouseEnterToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("hover")!==-1||e.indexOf("mouseenter")!==-1},isMouseLeaveToHide(){const{action:n,hideAction:e}=this.$props;return n.indexOf("hover")!==-1||e.indexOf("mouseleave")!==-1},isFocusToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("focus")!==-1||e.indexOf("focus")!==-1},isBlurToHide(){const{action:n,hideAction:e}=this.$props;return n.indexOf("focus")!==-1||e.indexOf("blur")!==-1},forcePopupAlign(){var n;this.$data.sPopupVisible&&((n=this.popupRef)===null||n===void 0||n.forceAlign())},fireEvents(n,e){this.childOriginEvents[n]&&this.childOriginEvents[n](e);const i=this.$props[n]||this.$attrs[n];i&&i(e)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:n}=this,e=Fo(mse(this)),{alignPoint:i,getPopupContainer:r}=this.$props,o=e[0];this.childOriginEvents=GB(o);const s={key:"trigger"};this.isContextmenuToShow()?s.onContextmenu=this.onContextmenu:s.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(s.onClick=this.onClick,s.onMousedown=this.onMousedown,s[lo?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(s.onClick=this.createTwoChains("onClick"),s.onMousedown=this.createTwoChains("onMousedown"),s[lo?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(s.onMouseenter=this.onMouseenter,i&&(s.onMousemove=this.onMouseMove)):s.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?s.onMouseleave=this.onMouseleave:s.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(s.onFocus=this.onFocus,s.onBlur=this.onBlur):(s.onFocus=this.createTwoChains("onFocus"),s.onBlur=c=>{c&&(!c.relatedTarget||!kf(c.target,c.relatedTarget))&&this.createTwoChains("onBlur")(c)});const a=Qe(o&&o.props&&o.props.class,n.class);a&&(s.class=a);const l=Oi(o,O(O({},s),{ref:"triggerRef"}),!0,!0),u=N(RV,{key:"portal",getContainer:r&&(()=>r(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return N(mn,null,[l,u])}});var ffe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const hfe=n=>{const e=n===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}}}},pfe=je({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:be.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:be.oneOfType([Number,Boolean]).def(!0),popupElement:be.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function,onPopupFocusin:Function,onPopupFocusout:Function},setup(n,e){let{slots:i,attrs:r,expose:o}=e;const s=K(()=>{const{dropdownMatchSelectWidth:l}=n;return hfe(l)}),a=Ge();return o({getPopupElement:()=>a.value}),()=>{const l=O(O({},n),r),{empty:u=!1}=l,c=ffe(l,["empty"]),{visible:d,dropdownAlign:f,prefixCls:h,popupElement:p,dropdownClassName:g,dropdownStyle:b,direction:y="ltr",placement:m,dropdownMatchSelectWidth:_,containerWidth:S,dropdownRender:w,animation:A,transitionName:T,getPopupContainer:C,getTriggerDOMNode:R,onPopupVisibleChange:E,onPopupMouseEnter:P,onPopupFocusin:I,onPopupFocusout:D}=c,F=`${h}-dropdown`;let L=p;w&&(L=w({menuNode:p,props:n}));const $=A?`${F}-${A}`:T,U=O({minWidth:`${S}px`},b);return typeof _=="number"?U.width=`${_}px`:_&&(U.width=`${S}px`),N(P1,ve(ve({},n),{},{showAction:E?["click"]:[],hideAction:E?["click"]:[],popupPlacement:m||(y==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:s.value,prefixCls:F,popupTransitionName:$,popupAlign:f,popupVisible:d,getPopupContainer:C,popupClassName:Qe(g,{[`${F}-empty`]:u}),popupStyle:U,getTriggerDOMNode:R,onPopupVisibleChange:E}),{default:i.default,popup:()=>N("div",{ref:a,onMouseenter:P,onFocusin:I,onFocusout:D},[L])})}}}),at={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){const{keyCode:i}=e;if(e.altKey&&!e.ctrlKey||e.metaKey||i>=at.F1&&i<=at.F12)return!1;switch(i){case at.ALT:case at.CAPS_LOCK:case at.CONTEXT_MENU:case at.CTRL:case at.DOWN:case at.END:case at.ESC:case at.HOME:case at.INSERT:case at.LEFT:case at.MAC_FF_META:case at.META:case at.NUMLOCK:case at.NUM_CENTER:case at.PAGE_DOWN:case at.PAGE_UP:case at.PAUSE:case at.PRINT_SCREEN:case at.RIGHT:case at.SHIFT:case at.UP:case at.WIN_KEY:case at.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=at.ZERO&&e<=at.NINE||e>=at.NUM_ZERO&&e<=at.NUM_MULTIPLY||e>=at.A&&e<=at.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case at.SPACE:case at.QUESTION_MARK:case at.NUM_PLUS:case at.NUM_MINUS:case at.NUM_PERIOD:case at.NUM_DIVISION:case at.SEMICOLON:case at.DASH:case at.EQUALS:case at.COMMA:case at.PERIOD:case at.SLASH:case at.APOSTROPHE:case at.SINGLE_QUOTE:case at.OPEN_SQUARE_BRACKET:case at.BACKSLASH:case at.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Sh=(n,e)=>{let{slots:i}=e;var r;const{class:o,customizeIcon:s,customizeIconProps:a,onMousedown:l,onClick:u}=n;let c;return typeof s=="function"?c=s(a):c=wr(s)?ds(s):s,N("span",{class:o,onMousedown:d=>{d.preventDefault(),l&&l(d)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:u,"aria-hidden":!0},[c!==void 0?c:N("span",{class:o.split(/\s+/).map(d=>`${d}-icon`)},[(r=i.default)===null||r===void 0?void 0:r.call(i)])])};Sh.inheritAttrs=!1;Sh.displayName="TransBtn";Sh.props={class:String,customizeIcon:be.any,customizeIconProps:be.any,onMousedown:Function,onClick:Function};var gfe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const mfe=je({compatConfig:{MODE:3},props:{disabled:be.looseBool,type:be.string,value:be.any,tag:{type:String,default:"input"},size:be.string,onChange:Function,onInput:Function,onBlur:Function,onFocus:Function,onKeydown:Function,onCompositionstart:Function,onCompositionend:Function,onKeyup:Function,onPaste:Function,onMousedown:Function},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(n,e){let{expose:i}=e;const r=Oe(null);return i({focus:()=>{r.value&&r.value.focus()},blur:()=>{r.value&&r.value.blur()},input:r,setSelectionRange:(u,c,d)=>{var f;(f=r.value)===null||f===void 0||f.setSelectionRange(u,c,d)},select:()=>{var u;(u=r.value)===null||u===void 0||u.select()},getSelectionStart:()=>{var u;return(u=r.value)===null||u===void 0?void 0:u.selectionStart},getSelectionEnd:()=>{var u;return(u=r.value)===null||u===void 0?void 0:u.selectionEnd},getScrollTop:()=>{var u;return(u=r.value)===null||u===void 0?void 0:u.scrollTop}}),()=>{const{tag:u,value:c}=n,d=gfe(n,["tag","value"]);return N(u,ve(ve({},d),{},{ref:r,value:c}),null)}}});function i$(n){const e=n.getBoundingClientRect(),i=document.documentElement;return{left:e.left+(window.scrollX||i.scrollLeft)-(i.clientLeft||document.body.clientLeft||0),top:e.top+(window.scrollY||i.scrollTop)-(i.clientTop||document.body.clientTop||0)}}function vfe(n){return Object.keys(n).reduce((e,i)=>{const r=n[i];return typeof r>"u"||r===null||(e+=`${i}: ${n[i]};`),e},"")}var yfe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const G0=je({compatConfig:{MODE:3},inheritAttrs:!1,props:{disabled:be.looseBool,type:be.string,value:be.any,lazy:be.bool.def(!0),tag:{type:String,default:"input"},size:be.string,style:be.oneOfType([String,Object]),class:be.string},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(n,e){let{emit:i,attrs:r,expose:o}=e;const s=Oe(null),a=Ge(),l=Ge(!1);ct([()=>n.value,l],()=>{l.value||(a.value=n.value)},{immediate:!0});const u=C=>{i("change",C)},c=C=>{l.value=!0,C.target.composing=!0,i("compositionstart",C)},d=C=>{l.value=!1,C.target.composing=!1,i("compositionend",C);const R=document.createEvent("HTMLEvents");R.initEvent("input",!0,!0),C.target.dispatchEvent(R),u(C)},f=C=>{if(l.value&&n.lazy){a.value=C.target.value;return}i("input",C)},h=C=>{i("blur",C)},p=C=>{i("focus",C)},g=()=>{s.value&&s.value.focus()},b=()=>{s.value&&s.value.blur()},y=C=>{i("keydown",C)},m=C=>{i("keyup",C)},_=(C,R,E)=>{var P;(P=s.value)===null||P===void 0||P.setSelectionRange(C,R,E)},S=()=>{var C;(C=s.value)===null||C===void 0||C.select()};o({focus:g,blur:b,input:K(()=>{var C;return(C=s.value)===null||C===void 0?void 0:C.input}),setSelectionRange:_,select:S,getSelectionStart:()=>{var C;return(C=s.value)===null||C===void 0?void 0:C.getSelectionStart()},getSelectionEnd:()=>{var C;return(C=s.value)===null||C===void 0?void 0:C.getSelectionEnd()},getScrollTop:()=>{var C;return(C=s.value)===null||C===void 0?void 0:C.getScrollTop()}});const w=C=>{i("mousedown",C)},A=C=>{i("paste",C)},T=K(()=>n.style&&typeof n.style!="string"?vfe(n.style):n.style);return()=>{const C=yfe(n,["style","lazy"]);return N(mfe,ve(ve(ve({},C),r),{},{style:T.value,onInput:f,onChange:u,onBlur:h,onFocus:p,ref:s,value:a.value,onCompositionstart:c,onCompositionend:d,onKeyup:m,onKeydown:y,onPaste:A,onMousedown:w}),null)}}}),bfe={inputRef:be.any,prefixCls:String,id:String,inputElement:be.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:be.oneOfType([be.number,be.string]),attrs:be.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},PV=je({compatConfig:{MODE:3},name:"SelectInput",inheritAttrs:!1,props:bfe,setup(n){let e=null;const i=qt("VCSelectContainerEvent");return()=>{var r;const{prefixCls:o,id:s,inputElement:a,disabled:l,tabindex:u,autofocus:c,autocomplete:d,editable:f,activeDescendantId:h,value:p,onKeydown:g,onMousedown:b,onChange:y,onPaste:m,onCompositionstart:_,onCompositionend:S,onFocus:w,onBlur:A,open:T,inputRef:C,attrs:R}=n;let E=a||N(G0,null,null);const P=E.props||{},{onKeydown:I,onInput:D,onFocus:F,onBlur:L,onMousedown:$,onCompositionstart:U,onCompositionend:k,style:H}=P;return E=Oi(E,O(O(O(O(O({type:"search"},P),{id:s,ref:C,disabled:l,tabindex:u,lazy:!1,autocomplete:d||"off",autofocus:c,class:Qe(`${o}-selection-search-input`,(r=E==null?void 0:E.props)===null||r===void 0?void 0:r.class),role:"combobox","aria-expanded":T,"aria-haspopup":"listbox","aria-owns":`${s}_list`,"aria-autocomplete":"list","aria-controls":`${s}_list`,"aria-activedescendant":h}),R),{value:f?p:"",readonly:!f,unselectable:f?null:"on",style:O(O({},H),{opacity:f?null:0}),onKeydown:z=>{g(z),I&&I(z)},onMousedown:z=>{b(z),$&&$(z)},onInput:z=>{y(z),D&&D(z)},onCompositionstart(z){_(z),U&&U(z)},onCompositionend(z){S(z),k&&k(z)},onPaste:m,onFocus:function(){clearTimeout(e),F&&F(arguments.length<=0?void 0:arguments[0]),w&&w(arguments.length<=0?void 0:arguments[0]),i==null||i.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var z=arguments.length,Q=new Array(z),Z=0;Z<z;Z++)Q[Z]=arguments[Z];e=setTimeout(()=>{L&&L(Q[0]),A&&A(Q[0]),i==null||i.blur(Q[0])},100)}}),E.type==="textarea"?{}:{type:"search"}),!0,!0),E}}}),xfe=`accept acceptcharset accesskey action allowfullscreen allowtransparency
alt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge
charset checked classid classname colspan cols content contenteditable contextmenu
controls coords crossorigin data datetime default defer dir disabled download draggable
enctype form formaction formenctype formmethod formnovalidate formtarget frameborder
headers height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity
is keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media
mediagroup method min minlength multiple muted name novalidate nonce open
optimum pattern placeholder poster preload radiogroup readonly rel required
reversed role rowspan rows sandbox scope scoped scrolling seamless selected
shape size sizes span spellcheck src srcdoc srclang srcset start step style
summary tabindex target title type usemap value width wmode wrap`,_fe=`onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown
    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick
    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown
    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel
    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough
    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata
    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError`,r$=`${xfe} ${_fe}`.split(/[\s\n]+/),Sfe="aria-",wfe="data-";function o$(n,e){return n.indexOf(e)===0}function Uh(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i;e===!1?i={aria:!0,data:!0,attr:!0}:e===!0?i={aria:!0}:i=O({},e);const r={};return Object.keys(n).forEach(o=>{(i.aria&&(o==="role"||o$(o,Sfe))||i.data&&o$(o,wfe)||i.attr&&(r$.includes(o)||r$.includes(o.toLowerCase())))&&(r[o]=n[o])}),r}const IV=Symbol("OverflowContextProviderKey"),W2=je({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup(n,e){let{slots:i}=e;return jn(IV,K(()=>n.value)),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}}),Cfe=()=>qt(IV,K(()=>null));var Afe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const sp=void 0,hS=je({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:be.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:be.any,invalidate:Boolean},setup(n,e){let{slots:i,expose:r}=e;const o=K(()=>n.responsive&&!n.display),s=Ge();r({itemNodeRef:s});function a(l){n.registerSize(n.itemKey,l)}return al(()=>{a(null)}),()=>{var l;const{prefixCls:u,invalidate:c,item:d,renderItem:f,responsive:h,registerSize:p,itemKey:g,display:b,order:y,component:m="div"}=n,_=Afe(n,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),S=(l=i.default)===null||l===void 0?void 0:l.call(i),w=f&&d!==sp?f(d):S;let A;c||(A={opacity:o.value?0:1,height:o.value?0:sp,overflowY:o.value?"hidden":sp,order:h?y:sp,pointerEvents:o.value?"none":sp,position:o.value?"absolute":sp});const T={};return o.value&&(T["aria-hidden"]=!0),N(Bd,{disabled:!h,onResize:C=>{let{offsetWidth:R}=C;a(R)}},{default:()=>N(m,ve(ve(ve({class:Qe(!c&&u),style:A},T),_),{},{ref:s}),{default:()=>[w]})})}}});var yT=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Tfe=je({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:be.any,title:be.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},role:String,tabindex:Number},setup(n,e){let{slots:i,attrs:r}=e;const o=Cfe();return()=>{var s;if(!o.value){const{component:f="div"}=n,h=yT(n,["component"]);return N(f,ve(ve({},h),r),{default:()=>[(s=i.default)===null||s===void 0?void 0:s.call(i)]})}const a=o.value,{className:l}=a,u=yT(a,["className"]),{class:c}=r,d=yT(r,["class"]);return N(W2,{value:null},{default:()=>[N(hS,ve(ve(ve({class:Qe(l,c)},u),d),n),i)]})}}});var Efe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const NV="responsive",OV="invalidate";function Mfe(n){return`+ ${n.length} ...`}const Rfe=()=>({id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:be.any,component:String,itemComponent:be.any,onVisibleChange:Function,ssr:String,onMousedown:Function,role:String}),nc=je({name:"Overflow",inheritAttrs:!1,props:Rfe(),emits:["visibleChange"],setup(n,e){let{attrs:i,emit:r,slots:o}=e;const s=K(()=>n.ssr==="full"),a=Oe(null),l=K(()=>a.value||0),u=Oe(new Map),c=Oe(0),d=Oe(0),f=Oe(0),h=Oe(null),p=Oe(null),g=K(()=>p.value===null&&s.value?Number.MAX_SAFE_INTEGER:p.value||0),b=Oe(!1),y=K(()=>`${n.prefixCls}-item`),m=K(()=>Math.max(c.value,d.value)),_=K(()=>!!(n.data.length&&n.maxCount===NV)),S=K(()=>n.maxCount===OV),w=K(()=>_.value||typeof n.maxCount=="number"&&n.data.length>n.maxCount),A=K(()=>{let $=n.data;return _.value?a.value===null&&s.value?$=n.data:$=n.data.slice(0,Math.min(n.data.length,l.value/n.itemWidth)):typeof n.maxCount=="number"&&($=n.data.slice(0,n.maxCount)),$}),T=K(()=>_.value?n.data.slice(g.value+1):n.data.slice(A.value.length)),C=($,U)=>{var k;return typeof n.itemKey=="function"?n.itemKey($):(k=n.itemKey&&($==null?void 0:$[n.itemKey]))!==null&&k!==void 0?k:U},R=K(()=>n.renderItem||($=>$)),E=($,U)=>{p.value=$,U||(b.value=$<n.data.length-1,r("visibleChange",$))},P=($,U)=>{a.value=U.clientWidth},I=($,U)=>{const k=new Map(u.value);U===null?k.delete($):k.set($,U),u.value=k},D=($,U)=>{c.value=d.value,d.value=U},F=($,U)=>{f.value=U},L=$=>u.value.get(C(A.value[$],$));return ct([l,u,d,f,()=>n.itemKey,A],()=>{if(l.value&&m.value&&A.value){let $=f.value;const U=A.value.length,k=U-1;if(!U){E(0),h.value=null;return}for(let H=0;H<U;H+=1){const z=L(H);if(z===void 0){E(H-1,!0);break}if($+=z,k===0&&$<=l.value||H===k-1&&$+L(k)<=l.value){E(k),h.value=null;break}else if($+m.value>l.value){E(H-1),h.value=$-z-f.value+d.value;break}}n.suffix&&L(0)+f.value>l.value&&(h.value=null)}}),()=>{const $=b.value&&!!T.value.length,{itemComponent:U,renderRawItem:k,renderRawRest:H,renderRest:z,prefixCls:Q="rc-overflow",suffix:Z,component:ie="div",id:xe,onMousedown:J}=n,{class:se,style:ee}=i,ne=Efe(i,["class","style"]);let ue={};h.value!==null&&_.value&&(ue={position:"absolute",left:`${h.value}px`,top:0});const Y={prefixCls:y.value,responsive:_.value,component:U,invalidate:S.value},le=k?(V,Se)=>{const pe=C(V,Se);return N(W2,{key:pe,value:O(O({},Y),{order:Se,item:V,itemKey:pe,registerSize:I,display:Se<=g.value})},{default:()=>[k(V,Se)]})}:(V,Se)=>{const pe=C(V,Se);return N(hS,ve(ve({},Y),{},{order:Se,key:pe,item:V,renderItem:R.value,itemKey:pe,registerSize:I,display:Se<=g.value}),null)};let fe=()=>null;const W={order:$?g.value:Number.MAX_SAFE_INTEGER,className:`${y.value} ${y.value}-rest`,registerSize:D,display:$};if(H)H&&(fe=()=>N(W2,{value:O(O({},Y),W)},{default:()=>[H(T.value)]}));else{const V=z||Mfe;fe=()=>N(hS,ve(ve({},Y),W),{default:()=>typeof V=="function"?V(T.value):V})}const X=()=>{var V;return N(ie,ve({id:xe,class:Qe(!S.value&&Q,se),style:ee,onMousedown:J,role:n.role},ne),{default:()=>[A.value.map(le),w.value?fe():null,Z&&N(hS,ve(ve({},Y),{},{order:g.value,class:`${y.value}-suffix`,registerSize:F,display:!0,style:ue}),{default:()=>Z}),(V=o.default)===null||V===void 0?void 0:V.call(o)]})};return N(Bd,{disabled:!_.value,onResize:P},{default:X})}}});nc.Item=Tfe;nc.RESPONSIVE=NV;nc.INVALIDATE=OV;const Pfe=Symbol("TreeSelectLegacyContextPropsKey");function zI(){return qt(Pfe,{})}const Ife={id:String,prefixCls:String,values:be.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:be.any,placeholder:be.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:be.oneOfType([be.number,be.string]),compositionStatus:Boolean,removeIcon:be.any,choiceTransitionName:String,maxTagCount:be.oneOfType([be.number,be.string]),maxTagTextLength:Number,maxTagPlaceholder:be.any.def(()=>n=>`+ ${n.length} ...`),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},s$=n=>{n.preventDefault(),n.stopPropagation()},Nfe=je({name:"MultipleSelectSelector",inheritAttrs:!1,props:Ife,setup(n){const e=Oe(),i=Oe(0),r=Oe(!1),o=zI(),s=K(()=>`${n.prefixCls}-selection`),a=K(()=>n.open||n.mode==="tags"?n.searchValue:""),l=K(()=>n.mode==="tags"||n.showSearch&&(n.open||r.value)),u=Ge("");ln(()=>{u.value=a.value}),en(()=>{ct(u,()=>{i.value=e.value.scrollWidth},{flush:"post",immediate:!0})});function c(g,b,y,m,_){return N("span",{class:Qe(`${s.value}-item`,{[`${s.value}-item-disabled`]:y}),title:typeof g=="string"||typeof g=="number"?g.toString():void 0},[N("span",{class:`${s.value}-item-content`},[b]),m&&N(Sh,{class:`${s.value}-item-remove`,onMousedown:s$,onClick:_,customizeIcon:n.removeIcon},{default:()=>[tr("")]})])}function d(g,b,y,m,_,S){var w;const A=C=>{s$(C),n.onToggleOpen(!open)};let T=S;return o.keyEntities&&(T=((w=o.keyEntities[g])===null||w===void 0?void 0:w.node)||{}),N("span",{key:g,onMousedown:A},[n.tagRender({label:b,value:g,disabled:y,closable:m,onClose:_,option:T})])}function f(g){const{disabled:b,label:y,value:m,option:_}=g,S=!n.disabled&&!b;let w=y;if(typeof n.maxTagTextLength=="number"&&(typeof y=="string"||typeof y=="number")){const T=String(w);T.length>n.maxTagTextLength&&(w=`${T.slice(0,n.maxTagTextLength)}...`)}const A=T=>{var C;T&&T.stopPropagation(),(C=n.onRemove)===null||C===void 0||C.call(n,g)};return typeof n.tagRender=="function"?d(m,w,b,S,A,_):c(y,w,b,S,A)}function h(g){const{maxTagPlaceholder:b=m=>`+ ${m.length} ...`}=n,y=typeof b=="function"?b(g):b;return c(y,y,!1)}const p=g=>{const b=g.target.composing;u.value=g.target.value,b||n.onInputChange(g)};return()=>{const{id:g,prefixCls:b,values:y,open:m,inputRef:_,placeholder:S,disabled:w,autofocus:A,autocomplete:T,activeDescendantId:C,tabindex:R,compositionStatus:E,onInputPaste:P,onInputKeyDown:I,onInputMouseDown:D,onInputCompositionStart:F,onInputCompositionEnd:L}=n,$=N("div",{class:`${s.value}-search`,style:{width:i.value+"px"},key:"input"},[N(PV,{inputRef:_,open:m,prefixCls:b,id:g,inputElement:null,disabled:w,autofocus:A,autocomplete:T,editable:l.value,activeDescendantId:C,value:u.value,onKeydown:I,onMousedown:D,onChange:p,onPaste:P,onCompositionstart:F,onCompositionend:L,tabindex:R,attrs:Uh(n,!0),onFocus:()=>r.value=!0,onBlur:()=>r.value=!1},null),N("span",{ref:e,class:`${s.value}-search-mirror`,"aria-hidden":!0},[u.value,tr("")])]),U=N(nc,{prefixCls:`${s.value}-overflow`,data:y,renderItem:f,renderRest:h,suffix:$,itemKey:"key",maxCount:n.maxTagCount,key:"overflow"},null);return N(mn,null,[U,!y.length&&!a.value&&!E&&N("span",{class:`${s.value}-placeholder`},[S])])}}}),Ofe={inputElement:be.any,id:String,prefixCls:String,values:be.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:be.any,placeholder:be.any,compositionStatus:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:be.oneOfType([be.number,be.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},HI=je({name:"SingleSelector",setup(n){const e=Oe(!1),i=K(()=>n.mode==="combobox"),r=K(()=>i.value||n.showSearch),o=K(()=>{let d=n.searchValue||"";return i.value&&n.activeValue&&!e.value&&(d=n.activeValue),d}),s=zI();ct([i,()=>n.activeValue],()=>{i.value&&(e.value=!1)},{immediate:!0});const a=K(()=>n.mode!=="combobox"&&!n.open&&!n.showSearch?!1:!!o.value||n.compositionStatus),l=K(()=>{const d=n.values[0];return d&&(typeof d.label=="string"||typeof d.label=="number")?d.label.toString():void 0}),u=()=>{if(n.values[0])return null;const d=a.value?{visibility:"hidden"}:void 0;return N("span",{class:`${n.prefixCls}-selection-placeholder`,style:d},[n.placeholder])},c=d=>{d.target.composing||(e.value=!0,n.onInputChange(d))};return()=>{var d,f,h,p;const{inputElement:g,prefixCls:b,id:y,values:m,inputRef:_,disabled:S,autofocus:w,autocomplete:A,activeDescendantId:T,open:C,tabindex:R,optionLabelRender:E,onInputKeyDown:P,onInputMouseDown:I,onInputPaste:D,onInputCompositionStart:F,onInputCompositionEnd:L}=n,$=m[0];let U=null;if($&&s.customSlots){const k=(d=$.key)!==null&&d!==void 0?d:$.value,H=((f=s.keyEntities[k])===null||f===void 0?void 0:f.node)||{};U=s.customSlots[(h=H.slots)===null||h===void 0?void 0:h.title]||s.customSlots.title||$.label,typeof U=="function"&&(U=U(H))}else U=E&&$?E($.option):$==null?void 0:$.label;return N(mn,null,[N("span",{class:`${b}-selection-search`},[N(PV,{inputRef:_,prefixCls:b,id:y,open:C,inputElement:g,disabled:S,autofocus:w,autocomplete:A,editable:r.value,activeDescendantId:T,value:o.value,onKeydown:P,onMousedown:I,onChange:c,onPaste:D,onCompositionstart:F,onCompositionend:L,tabindex:R,attrs:Uh(n,!0)},null)]),!i.value&&$&&!a.value&&N("span",{class:`${b}-selection-item`,title:l.value},[N(mn,{key:(p=$.key)!==null&&p!==void 0?p:$.value},[U])]),u()])}}});HI.props=Ofe;HI.inheritAttrs=!1;function Dfe(n){return![at.ESC,at.SHIFT,at.BACKSPACE,at.TAB,at.WIN_KEY,at.ALT,at.META,at.WIN_KEY_RIGHT,at.CTRL,at.SEMICOLON,at.EQUALS,at.CAPS_LOCK,at.CONTEXT_MENU,at.F1,at.F2,at.F3,at.F4,at.F5,at.F6,at.F7,at.F8,at.F9,at.F10,at.F11,at.F12].includes(n)}function DV(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=null,i;Pn(()=>{clearTimeout(i)});function r(o){(o||e===null)&&(e=o),clearTimeout(i),i=setTimeout(()=>{e=null},n)}return[()=>e,r]}function n0(){const n=e=>{n.current=e};return n}const Lfe=je({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:be.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:be.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:be.oneOfType([be.number,be.string]),disabled:{type:Boolean,default:void 0},placeholder:be.any,removeIcon:be.any,maxTagCount:be.oneOfType([be.number,be.string]),maxTagTextLength:Number,maxTagPlaceholder:be.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup(n,e){let{expose:i}=e;const r=n0(),o=Ge(!1),[s,a]=DV(0),l=m=>{const{which:_}=m;(_===at.UP||_===at.DOWN)&&m.preventDefault(),n.onInputKeyDown&&n.onInputKeyDown(m),_===at.ENTER&&n.mode==="tags"&&!o.value&&!n.open&&n.onSearchSubmit(m.target.value),Dfe(_)&&n.onToggleOpen(!0)},u=()=>{a(!0)};let c=null;const d=m=>{n.onSearch(m,!0,o.value)!==!1&&n.onToggleOpen(!0)},f=()=>{o.value=!0},h=m=>{o.value=!1,n.mode!=="combobox"&&d(m.target.value)},p=m=>{let{target:{value:_}}=m;if(n.tokenWithEnter&&c&&/[\r\n]/.test(c)){const S=c.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");_=_.replace(S,c)}c=null,d(_)},g=m=>{const{clipboardData:_}=m;c=_.getData("text")},b=m=>{let{target:_}=m;_!==r.current&&(document.body.style.msTouchAction!==void 0?setTimeout(()=>{r.current.focus()}):r.current.focus())},y=m=>{const _=s();m.target!==r.current&&!_&&m.preventDefault(),(n.mode!=="combobox"&&(!n.showSearch||!_)||!n.open)&&(n.open&&n.onSearch("",!0,!1),n.onToggleOpen())};return i({focus:()=>{r.current.focus()},blur:()=>{r.current.blur()}}),()=>{const{prefixCls:m,domRef:_,mode:S}=n,w={inputRef:r,onInputKeyDown:l,onInputMouseDown:u,onInputChange:p,onInputPaste:g,compositionStatus:o.value,onInputCompositionStart:f,onInputCompositionEnd:h},A=S==="multiple"||S==="tags"?N(Nfe,ve(ve({},n),w),null):N(HI,ve(ve({},n),w),null);return N("div",{ref:_,class:`${m}-selector`,onClick:b,onMousedown:y},[A])}}});function Bfe(n,e,i){function r(o){var s,a,l;let u=o.target;u.shadowRoot&&o.composed&&(u=o.composedPath()[0]||u);const c=[(s=n[0])===null||s===void 0?void 0:s.value,(l=(a=n[1])===null||a===void 0?void 0:a.value)===null||l===void 0?void 0:l.getPopupElement()];e.value&&c.every(d=>d&&!d.contains(u)&&d!==u)&&i(!1)}en(()=>{window.addEventListener("mousedown",r)}),Pn(()=>{window.removeEventListener("mousedown",r)})}function Ffe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;const e=Oe(!1);let i;const r=()=>{clearTimeout(i)};return en(()=>{r()}),[e,(s,a)=>{r(),i=setTimeout(()=>{e.value=s,a&&a()},n)},r]}const LV=Symbol("BaseSelectContextKey");function $fe(n){return jn(LV,n)}function Ufe(){return qt(LV,{})}const BV=()=>{if(typeof navigator>"u"||typeof window>"u")return!1;const n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substring(0,4))};function FV(n){if(!Vi(n))return Ki(n);const e=new Proxy({},{get(i,r,o){return Reflect.get(n.value,r,o)},set(i,r,o){return n.value[r]=o,!0},deleteProperty(i,r){return Reflect.deleteProperty(n.value,r)},has(i,r){return Reflect.has(n.value,r)},ownKeys(){return Object.keys(n.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Ki(e)}var kfe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const zfe=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],Hfe=()=>({prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:be.any,emptyOptions:Boolean}),$V=()=>({showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:be.any,placeholder:be.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:be.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:be.any,clearIcon:be.any,removeIcon:be.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}),Gfe=()=>O(O({},Hfe()),$V());function UV(n){return n==="tags"||n==="multiple"}const Vfe=je({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:fi(Gfe(),{showAction:[],notFoundContent:"Not Found"}),setup(n,e){let{attrs:i,expose:r,slots:o}=e;const s=K(()=>UV(n.mode)),a=K(()=>n.showSearch!==void 0?n.showSearch:s.value||n.mode==="combobox"),l=Oe(!1);en(()=>{l.value=BV()});const u=zI(),c=Oe(null),d=n0(),f=Oe(null),h=Oe(null),p=Oe(null),g=Ge(!1),[b,y,m]=Ffe();r({focus:()=>{var le;(le=h.value)===null||le===void 0||le.focus()},blur:()=>{var le;(le=h.value)===null||le===void 0||le.blur()},scrollTo:le=>{var fe;return(fe=p.value)===null||fe===void 0?void 0:fe.scrollTo(le)}});const w=K(()=>{var le;if(n.mode!=="combobox")return n.searchValue;const fe=(le=n.displayValues[0])===null||le===void 0?void 0:le.value;return typeof fe=="string"||typeof fe=="number"?String(fe):""}),A=n.open!==void 0?n.open:n.defaultOpen,T=Oe(A),C=Oe(A),R=le=>{T.value=n.open!==void 0?n.open:le,C.value=T.value};ct(()=>n.open,()=>{R(n.open)});const E=K(()=>!n.notFoundContent&&n.emptyOptions);ln(()=>{C.value=T.value,(n.disabled||E.value&&C.value&&n.mode==="combobox")&&(C.value=!1)});const P=K(()=>E.value?!1:C.value),I=le=>{const fe=le!==void 0?le:!C.value;C.value!==fe&&!n.disabled&&(R(fe),n.onDropdownVisibleChange&&n.onDropdownVisibleChange(fe),!fe&&ie.value&&(ie.value=!1,y(!1,()=>{Q.value=!1,g.value=!1})))},D=K(()=>(n.tokenSeparators||[]).some(le=>[`
`,`\r
`].includes(le))),F=(le,fe,W)=>{var X,V;let Se=!0,pe=le;(X=n.onActiveValueChange)===null||X===void 0||X.call(n,null);const _e=W?null:Ole(le,n.tokenSeparators);return n.mode!=="combobox"&&_e&&(pe="",(V=n.onSearchSplit)===null||V===void 0||V.call(n,_e),I(!1),Se=!1),n.onSearch&&w.value!==pe&&n.onSearch(pe,{source:fe?"typing":"effect"}),Se},L=le=>{var fe;!le||!le.trim()||(fe=n.onSearch)===null||fe===void 0||fe.call(n,le,{source:"submit"})};ct(C,()=>{!C.value&&!s.value&&n.mode!=="combobox"&&F("",!1,!1)},{immediate:!0,flush:"post"}),ct(()=>n.disabled,()=>{T.value&&n.disabled&&R(!1),n.disabled&&!g.value&&y(!1)},{immediate:!0});const[$,U]=DV(),k=function(le){var fe;const W=$(),{which:X}=le;if(X===at.ENTER&&(n.mode!=="combobox"&&le.preventDefault(),C.value||I(!0)),U(!!w.value),X===at.BACKSPACE&&!W&&s.value&&!w.value&&n.displayValues.length){const _e=[...n.displayValues];let he=null;for(let ge=_e.length-1;ge>=0;ge-=1){const me=_e[ge];if(!me.disabled){_e.splice(ge,1),he=me;break}}he&&n.onDisplayValuesChange(_e,{type:"remove",values:[he]})}for(var V=arguments.length,Se=new Array(V>1?V-1:0),pe=1;pe<V;pe++)Se[pe-1]=arguments[pe];C.value&&p.value&&p.value.onKeydown(le,...Se),(fe=n.onKeydown)===null||fe===void 0||fe.call(n,le,...Se)},H=function(le){for(var fe=arguments.length,W=new Array(fe>1?fe-1:0),X=1;X<fe;X++)W[X-1]=arguments[X];C.value&&p.value&&p.value.onKeyup(le,...W),n.onKeyup&&n.onKeyup(le,...W)},z=le=>{const fe=n.displayValues.filter(W=>W!==le);n.onDisplayValuesChange(fe,{type:"remove",values:[le]})},Q=Oe(!1),Z=function(){y(!0),n.disabled||(n.onFocus&&!Q.value&&n.onFocus(...arguments),n.showAction&&n.showAction.includes("focus")&&I(!0)),Q.value=!0},ie=Ge(!1),xe=function(){if(ie.value||(g.value=!0,y(!1,()=>{Q.value=!1,g.value=!1,I(!1)}),n.disabled))return;const le=w.value;le&&(n.mode==="tags"?n.onSearch(le,{source:"submit"}):n.mode==="multiple"&&n.onSearch("",{source:"blur"})),n.onBlur&&n.onBlur(...arguments)},J=()=>{ie.value=!0},se=()=>{ie.value=!1};jn("VCSelectContainerEvent",{focus:Z,blur:xe});const ee=[];en(()=>{ee.forEach(le=>clearTimeout(le)),ee.splice(0,ee.length)}),Pn(()=>{ee.forEach(le=>clearTimeout(le)),ee.splice(0,ee.length)});const ne=function(le){var fe,W;const{target:X}=le,V=(fe=f.value)===null||fe===void 0?void 0:fe.getPopupElement();if(V&&V.contains(X)){const he=setTimeout(()=>{var ge;const me=ee.indexOf(he);me!==-1&&ee.splice(me,1),m(),!l.value&&!V.contains(document.activeElement)&&((ge=h.value)===null||ge===void 0||ge.focus())});ee.push(he)}for(var Se=arguments.length,pe=new Array(Se>1?Se-1:0),_e=1;_e<Se;_e++)pe[_e-1]=arguments[_e];(W=n.onMousedown)===null||W===void 0||W.call(n,le,...pe)},ue=Oe(null),Y=()=>{};return en(()=>{ct(P,()=>{var le;if(P.value){const fe=Math.ceil((le=c.value)===null||le===void 0?void 0:le.offsetWidth);ue.value!==fe&&!Number.isNaN(fe)&&(ue.value=fe)}},{immediate:!0,flush:"post"})}),Bfe([c,f],P,I),$fe(FV(O(O({},gy(n)),{open:C,triggerOpen:P,showSearch:a,multiple:s,toggleOpen:I}))),()=>{const le=O(O({},n),i),{prefixCls:fe,id:W,open:X,defaultOpen:V,mode:Se,showSearch:pe,searchValue:_e,onSearch:he,allowClear:ge,clearIcon:me,showArrow:j,inputIcon:G,disabled:ce,loading:Ee,getInputElement:de,getPopupContainer:re,placement:Ce,animation:Me,transitionName:Ve,dropdownStyle:dt,dropdownClassName:we,dropdownMatchSelectWidth:Ie,dropdownRender:Ue,dropdownAlign:Ye,showAction:Ke,direction:ut,tokenSeparators:ot,tagRender:Et,optionLabelRender:Ae,onPopupScroll:it,onDropdownVisibleChange:$e,onFocus:We,onBlur:gt,onKeyup:yt,onKeydown:Dt,onMousedown:Xt,onClear:Un,omitDomProps:nn,getRawInputElement:Ti,displayValues:Xi,onDisplayValuesChange:Fr,emptyOptions:ul,activeDescendantId:Mr,activeValue:gs,OptionList:Nc}=le,Oc=kfe(le,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),Aa=Se==="combobox"&&de&&de()||null,Gs=typeof Ti=="function"&&Ti(),Vs=O({},Oc);let Jl;Gs&&(Jl=Ne=>{I(Ne)}),zfe.forEach(Ne=>{delete Vs[Ne]}),nn==null||nn.forEach(Ne=>{delete Vs[Ne]});const eu=j!==void 0?j:Ee||!s.value&&Se!=="combobox";let tu;eu&&(tu=N(Sh,{class:Qe(`${fe}-arrow`,{[`${fe}-arrow-loading`]:Ee}),customizeIcon:G,customizeIconProps:{loading:Ee,searchValue:w.value,open:C.value,focused:b.value,showSearch:a.value}},null));let Dc;const Ta=()=>{Un==null||Un(),Fr([],{type:"clear",values:Xi}),F("",!1,!1)};!ce&&ge&&(Xi.length||w.value)&&(Dc=N(Sh,{class:`${fe}-clear`,onMousedown:Ta,customizeIcon:me},{default:()=>[tr("")]}));const Vm=N(Nc,{ref:p},O(O({},u.customSlots),{option:o.option})),Wm=Qe(fe,i.class,{[`${fe}-focused`]:b.value,[`${fe}-multiple`]:s.value,[`${fe}-single`]:!s.value,[`${fe}-allow-clear`]:ge,[`${fe}-show-arrow`]:eu,[`${fe}-disabled`]:ce,[`${fe}-loading`]:Ee,[`${fe}-open`]:C.value,[`${fe}-customize-input`]:Aa,[`${fe}-show-search`]:a.value}),Wh=N(pfe,{ref:f,disabled:ce,prefixCls:fe,visible:P.value,popupElement:Vm,containerWidth:ue.value,animation:Me,transitionName:Ve,dropdownStyle:dt,dropdownClassName:we,direction:ut,dropdownMatchSelectWidth:Ie,dropdownRender:Ue,dropdownAlign:Ye,placement:Ce,getPopupContainer:re,empty:ul,getTriggerDOMNode:()=>d.current,onPopupVisibleChange:Jl,onPopupMouseEnter:Y,onPopupFocusin:J,onPopupFocusout:se},{default:()=>Gs?mo(Gs)&&Oi(Gs,{ref:d},!1,!0):N(Lfe,ve(ve({},n),{},{domRef:d,prefixCls:fe,inputElement:Aa,ref:h,id:W,showSearch:a.value,mode:Se,activeDescendantId:Mr,tagRender:Et,optionLabelRender:Ae,values:Xi,open:C.value,onToggleOpen:I,activeValue:gs,searchValue:w.value,onSearch:F,onSearchSubmit:L,onRemove:z,tokenWithEnter:D.value}),null)});let oe;return Gs?oe=Wh:oe=N("div",ve(ve({},Vs),{},{class:Wm,ref:c,onMousedown:ne,onKeydown:k,onKeyup:H}),[b.value&&!C.value&&N("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},[`${Xi.map(Ne=>{let{label:ze,value:He}=Ne;return["number","string"].includes(typeof ze)?ze:He}).join(", ")}`]),Wh,tu,Dc]),oe}}}),I1=(n,e)=>{let{height:i,offset:r,prefixCls:o,onInnerResize:s}=n,{slots:a}=e;var l;let u={},c={display:"flex",flexDirection:"column"};return r!==void 0&&(u={height:`${i}px`,position:"relative",overflow:"hidden"},c=O(O({},c),{transform:`translateY(${r}px)`,position:"absolute",left:0,right:0,top:0})),N("div",{style:u},[N(Bd,{onResize:d=>{let{offsetHeight:f}=d;f&&s&&s()}},{default:()=>[N("div",{style:c,class:Qe({[`${o}-holder-inner`]:o})},[(l=a.default)===null||l===void 0?void 0:l.call(a)])]})])};I1.displayName="Filter";I1.inheritAttrs=!1;I1.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const kV=(n,e)=>{let{setRef:i}=n,{slots:r}=e;var o;const s=ir((o=r.default)===null||o===void 0?void 0:o.call(r));return s.length?ds(s[0],{ref:i}):s};kV.props={setRef:{type:Function,default:()=>{}}};const Wfe=20;function a$(n){return"touches"in n?n.touches[0].pageY:n.pageY}const jfe=je({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup(){return{moveRaf:null,scrollbarRef:n0(),thumbRef:n0(),visibleTimeout:null,state:Ki({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler(){this.delayHidden()},flush:"post"}},mounted(){var n,e;(n=this.scrollbarRef.current)===null||n===void 0||n.addEventListener("touchstart",this.onScrollbarTouchStart,lo?{passive:!1}:!1),(e=this.thumbRef.current)===null||e===void 0||e.addEventListener("touchstart",this.onMouseDown,lo?{passive:!1}:!1)},beforeUnmount(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden(){clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(()=>{this.state.visible=!1},2e3)},onScrollbarTouchStart(n){n.preventDefault()},onContainerMouseDown(n){n.stopPropagation(),n.preventDefault()},patchEvents(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,lo?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,lo?{passive:!1}:!1),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,lo?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,lo?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),xn.cancel(this.moveRaf)},onMouseDown(n){const{onStartMove:e}=this.$props;O(this.state,{dragging:!0,pageY:a$(n),startTop:this.getTop()}),e(),this.patchEvents(),n.stopPropagation(),n.preventDefault()},onMouseMove(n){const{dragging:e,pageY:i,startTop:r}=this.state,{onScroll:o}=this.$props;if(xn.cancel(this.moveRaf),e){const s=a$(n)-i,a=r+s,l=this.getEnableScrollRange(),u=this.getEnableHeightRange(),c=u?a/u:0,d=Math.ceil(c*l);this.moveRaf=xn(()=>{o(d)})}},onMouseUp(){const{onStopMove:n}=this.$props;this.state.dragging=!1,n(),this.removeEvents()},getSpinHeight(){const{height:n,scrollHeight:e}=this.$props;let i=n/e*100;return i=Math.max(i,Wfe),i=Math.min(i,n/2),Math.floor(i)},getEnableScrollRange(){const{scrollHeight:n,height:e}=this.$props;return n-e||0},getEnableHeightRange(){const{height:n}=this.$props,e=this.getSpinHeight();return n-e||0},getTop(){const{scrollTop:n}=this.$props,e=this.getEnableScrollRange(),i=this.getEnableHeightRange();return n===0||e===0?0:n/e*i},showScroll(){const{height:n,scrollHeight:e}=this.$props;return e>n}},render(){const{dragging:n,visible:e}=this.state,{prefixCls:i}=this.$props,r=this.getSpinHeight()+"px",o=this.getTop()+"px",s=this.showScroll(),a=s&&e;return N("div",{ref:this.scrollbarRef,class:Qe(`${i}-scrollbar`,{[`${i}-scrollbar-show`]:s}),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:a?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[N("div",{ref:this.thumbRef,class:Qe(`${i}-scrollbar-thumb`,{[`${i}-scrollbar-thumb-moving`]:n}),style:{width:"100%",height:r,top:o,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function Kfe(n,e,i,r){const o=new Map,s=new Map,a=Ge(Symbol("update"));ct(n,()=>{a.value=Symbol("update")});let l;function u(){xn.cancel(l)}function c(){u(),l=xn(()=>{o.forEach((f,h)=>{if(f&&f.offsetParent){const{offsetHeight:p}=f;s.get(h)!==p&&(a.value=Symbol("update"),s.set(h,f.offsetHeight))}})})}function d(f,h){const p=e(f);o.get(p),h?(o.set(p,h.$el||h),c()):o.delete(p)}return al(()=>{u()}),[d,c,s,a]}function qfe(n,e,i,r,o,s,a,l){let u;return c=>{if(c==null){l();return}xn.cancel(u);const d=e.value,f=r.itemHeight;if(typeof c=="number")a(c);else if(c&&typeof c=="object"){let h;const{align:p}=c;"index"in c?{index:h}=c:h=d.findIndex(y=>o(y)===c.key);const{offset:g=0}=c,b=(y,m)=>{if(y<0||!n.value)return;const _=n.value.clientHeight;let S=!1,w=m;if(_){const A=m||p;let T=0,C=0,R=0;const E=Math.min(d.length,h);for(let D=0;D<=E;D+=1){const F=o(d[D]);C=T;const L=i.get(F);R=C+(L===void 0?f:L),T=R,D===h&&L===void 0&&(S=!0)}const P=n.value.scrollTop;let I=null;switch(A){case"top":I=C-g;break;case"bottom":I=R-_+g;break;default:{const D=P+_;C<P?w="top":R>D&&(w="bottom")}}I!==null&&I!==P&&a(I)}u=xn(()=>{S&&s(),b(y-1,w)},2)};b(5)}}}const Xfe=typeof navigator=="object"&&/Firefox/i.test(navigator.userAgent),zV=(n,e)=>{let i=!1,r=null;function o(){clearTimeout(r),i=!0,r=setTimeout(()=>{i=!1},50)}return function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const l=s<0&&n.value||s>0&&e.value;return a&&l?(clearTimeout(r),i=!1):(!l||i)&&o(),!i&&l}};function Yfe(n,e,i,r){let o=0,s=null,a=null,l=!1;const u=zV(e,i);function c(f){if(!n.value)return;xn.cancel(s);const{deltaY:h}=f;o+=h,a=h,!u(h)&&(Xfe||f.preventDefault(),s=xn(()=>{r(o*(l?10:1)),o=0}))}function d(f){n.value&&(l=f.detail===a)}return[c,d]}const Qfe=14/15;function Zfe(n,e,i){let r=!1,o=0,s=null,a=null;const l=()=>{s&&(s.removeEventListener("touchmove",u),s.removeEventListener("touchend",c))},u=h=>{if(r){const p=Math.ceil(h.touches[0].pageY);let g=o-p;o=p,i(g)&&h.preventDefault(),clearInterval(a),a=setInterval(()=>{g*=Qfe,(!i(g,!0)||Math.abs(g)<=.1)&&clearInterval(a)},16)}},c=()=>{r=!1,l()},d=h=>{l(),h.touches.length===1&&!r&&(r=!0,o=Math.ceil(h.touches[0].pageY),s=h.target,s.addEventListener("touchmove",u,{passive:!1}),s.addEventListener("touchend",c))},f=()=>{};en(()=>{document.addEventListener("touchmove",f,{passive:!1}),ct(n,h=>{e.value.removeEventListener("touchstart",d),l(),clearInterval(a),h&&e.value.addEventListener("touchstart",d,{passive:!1})},{immediate:!0})}),Pn(()=>{document.removeEventListener("touchmove",f)})}var Jfe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const ehe=[],the={overflowY:"auto",overflowAnchor:"none"};function nhe(n,e,i,r,o,s){let{getKey:a}=s;return n.slice(e,i+1).map((l,u)=>{const c=e+u,d=o(l,c,{}),f=a(l);return N(kV,{key:f,setRef:h=>r(l,h)},{default:()=>[d]})})}const HV=je({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:be.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup(n,e){let{expose:i}=e;const r=K(()=>{const{height:z,itemHeight:Q,virtual:Z}=n;return!!(Z!==!1&&z&&Q)}),o=K(()=>{const{height:z,itemHeight:Q,data:Z}=n;return r.value&&Z&&Q*Z.length>z}),s=Ki({scrollTop:0,scrollMoving:!1}),a=K(()=>n.data||ehe),l=Oe([]);ct(a,()=>{l.value=pn(a.value).slice()},{immediate:!0});const u=Oe(z=>{});ct(()=>n.itemKey,z=>{typeof z=="function"?u.value=z:u.value=Q=>Q==null?void 0:Q[z]},{immediate:!0});const c=Oe(),d=Oe(),f=Oe(),h=z=>u.value(z),p={getKey:h};function g(z){let Q;typeof z=="function"?Q=z(s.scrollTop):Q=z;const Z=T(Q);c.value&&(c.value.scrollTop=Z),s.scrollTop=Z}const[b,y,m,_]=Kfe(l,h),S=Ki({scrollHeight:void 0,start:0,end:0,offset:void 0}),w=Oe(0);en(()=>{kn(()=>{var z;w.value=((z=d.value)===null||z===void 0?void 0:z.offsetHeight)||0})}),Ca(()=>{kn(()=>{var z;w.value=((z=d.value)===null||z===void 0?void 0:z.offsetHeight)||0})}),ct([r,l],()=>{r.value||O(S,{scrollHeight:void 0,start:0,end:l.value.length-1,offset:void 0})},{immediate:!0}),ct([r,l,w,o],()=>{r.value&&!o.value&&O(S,{scrollHeight:w.value,start:0,end:l.value.length-1,offset:void 0}),c.value&&(s.scrollTop=c.value.scrollTop)},{immediate:!0}),ct([o,r,()=>s.scrollTop,l,_,()=>n.height,w],()=>{if(!r.value||!o.value)return;let z=0,Q,Z,ie;const xe=l.value.length,J=l.value,se=s.scrollTop,{itemHeight:ee,height:ne}=n,ue=se+ne;for(let Y=0;Y<xe;Y+=1){const le=J[Y],fe=h(le);let W=m.get(fe);W===void 0&&(W=ee);const X=z+W;Q===void 0&&X>=se&&(Q=Y,Z=z),ie===void 0&&X>ue&&(ie=Y),z=X}Q===void 0&&(Q=0,Z=0,ie=Math.ceil(ne/ee)),ie===void 0&&(ie=xe-1),ie=Math.min(ie+1,xe),O(S,{scrollHeight:z,start:Q,end:ie,offset:Z})},{immediate:!0});const A=K(()=>S.scrollHeight-n.height);function T(z){let Q=z;return Number.isNaN(A.value)||(Q=Math.min(Q,A.value)),Q=Math.max(Q,0),Q}const C=K(()=>s.scrollTop<=0),R=K(()=>s.scrollTop>=A.value),E=zV(C,R);function P(z){g(z)}function I(z){var Q;const{scrollTop:Z}=z.currentTarget;Z!==s.scrollTop&&g(Z),(Q=n.onScroll)===null||Q===void 0||Q.call(n,z)}const[D,F]=Yfe(r,C,R,z=>{g(Q=>Q+z)});Zfe(r,c,(z,Q)=>E(z,Q)?!1:(D({preventDefault(){},deltaY:z}),!0));function L(z){r.value&&z.preventDefault()}const $=()=>{c.value&&(c.value.removeEventListener("wheel",D,lo?{passive:!1}:!1),c.value.removeEventListener("DOMMouseScroll",F),c.value.removeEventListener("MozMousePixelScroll",L))};ln(()=>{kn(()=>{c.value&&($(),c.value.addEventListener("wheel",D,lo?{passive:!1}:!1),c.value.addEventListener("DOMMouseScroll",F),c.value.addEventListener("MozMousePixelScroll",L))})}),Pn(()=>{$()});const U=qfe(c,l,m,n,h,y,g,()=>{var z;(z=f.value)===null||z===void 0||z.delayHidden()});i({scrollTo:U});const k=K(()=>{let z=null;return n.height&&(z=O({[n.fullHeight?"height":"maxHeight"]:n.height+"px"},the),r.value&&(z.overflowY="hidden",s.scrollMoving&&(z.pointerEvents="none"))),z});return ct([()=>S.start,()=>S.end,l],()=>{if(n.onVisibleChange){const z=l.value.slice(S.start,S.end+1);n.onVisibleChange(z,l.value)}},{flush:"post"}),{state:s,mergedData:l,componentStyle:k,onFallbackScroll:I,onScrollBar:P,componentRef:c,useVirtual:r,calRes:S,collectHeight:y,setInstance:b,sharedConfig:p,scrollBarRef:f,fillerInnerRef:d,delayHideScrollBar:()=>{var z;(z=f.value)===null||z===void 0||z.delayHidden()}}},render(){const n=O(O({},this.$props),this.$attrs),{prefixCls:e="rc-virtual-list",height:i,itemHeight:r,fullHeight:o,data:s,itemKey:a,virtual:l,component:u="div",onScroll:c,children:d=this.$slots.default,style:f,class:h}=n,p=Jfe(n,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),g=Qe(e,h),{scrollTop:b}=this.state,{scrollHeight:y,offset:m,start:_,end:S}=this.calRes,{componentStyle:w,onFallbackScroll:A,onScrollBar:T,useVirtual:C,collectHeight:R,sharedConfig:E,setInstance:P,mergedData:I,delayHideScrollBar:D}=this;return N("div",ve({style:O(O({},f),{position:"relative"}),class:g},p),[N(u,{class:`${e}-holder`,style:w,ref:"componentRef",onScroll:A,onMouseenter:D},{default:()=>[N(I1,{prefixCls:e,height:y,offset:m,onInnerResize:R,ref:"fillerInnerRef"},{default:()=>nhe(I,_,S,P,d,E)})]}),C&&N(jfe,{ref:"scrollBarRef",prefixCls:e,scrollTop:b,height:i,scrollHeight:y,count:I.length,onScroll:T,onStartMove:()=>{this.state.scrollMoving=!0},onStopMove:()=>{this.state.scrollMoving=!1}},null)])}});function ihe(n,e,i){const r=Ge(n());return ct(e,(o,s)=>{i(o,s)&&(r.value=n())}),r}function rhe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}const GV=Symbol("SelectContextKey");function ohe(n){return jn(GV,n)}function she(){return qt(GV,{})}var ahe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function l$(n){return typeof n=="string"||typeof n=="number"}const lhe=je({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(n,e){let{expose:i,slots:r}=e;const o=Ufe(),s=she(),a=K(()=>`${o.prefixCls}-item`),l=ihe(()=>s.flattenOptions,[()=>o.open,()=>s.flattenOptions],A=>A[0]),u=n0(),c=A=>{A.preventDefault()},d=A=>{u.current&&u.current.scrollTo(typeof A=="number"?{index:A}:A)},f=function(A){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const C=l.value.length;for(let R=0;R<C;R+=1){const E=(A+R*T+C)%C,{group:P,data:I}=l.value[E];if(!P&&!I.disabled)return E}return-1},h=Ki({activeIndex:f(0)}),p=function(A){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;h.activeIndex=A;const C={source:T?"keyboard":"mouse"},R=l.value[A];if(!R){s.onActiveValue(null,-1,C);return}s.onActiveValue(R.value,A,C)};ct([()=>l.value.length,()=>o.searchValue],()=>{p(s.defaultActiveFirstOption!==!1?f(0):-1)},{immediate:!0});const g=A=>s.rawValues.has(A)&&o.mode!=="combobox";ct([()=>o.open,()=>o.searchValue],()=>{if(!o.multiple&&o.open&&s.rawValues.size===1){const A=Array.from(s.rawValues)[0],T=pn(l.value).findIndex(C=>{let{data:R}=C;return R[s.fieldNames.value]===A});T!==-1&&(p(T),kn(()=>{d(T)}))}o.open&&kn(()=>{var A;(A=u.current)===null||A===void 0||A.scrollTo(void 0)})},{immediate:!0,flush:"post"});const b=A=>{A!==void 0&&s.onSelect(A,{selected:!s.rawValues.has(A)}),o.multiple||o.toggleOpen(!1)},y=A=>typeof A.label=="function"?A.label():A.label;function m(A){const T=l.value[A];if(!T)return null;const C=T.data||{},{value:R}=C,{group:E}=T,P=Uh(C,!0),I=y(T);return T?N("div",ve(ve({"aria-label":typeof I=="string"&&!E?I:null},P),{},{key:A,role:E?"presentation":"option",id:`${o.id}_list_${A}`,"aria-selected":g(R)}),[R]):null}return i({onKeydown:A=>{const{which:T,ctrlKey:C}=A;switch(T){case at.N:case at.P:case at.UP:case at.DOWN:{let R=0;if(T===at.UP?R=-1:T===at.DOWN?R=1:rhe()&&C&&(T===at.N?R=1:T===at.P&&(R=-1)),R!==0){const E=f(h.activeIndex+R,R);d(E),p(E,!0)}break}case at.ENTER:{const R=l.value[h.activeIndex];R&&!R.data.disabled?b(R.value):b(void 0),o.open&&A.preventDefault();break}case at.ESC:o.toggleOpen(!1),o.open&&A.stopPropagation()}},onKeyup:()=>{},scrollTo:A=>{d(A)}}),()=>{const{id:A,notFoundContent:T,onPopupScroll:C}=o,{menuItemSelectedIcon:R,fieldNames:E,virtual:P,listHeight:I,listItemHeight:D}=s,F=r.option,{activeIndex:L}=h,$=Object.keys(E).map(U=>E[U]);return l.value.length===0?N("div",{role:"listbox",id:`${A}_list`,class:`${a.value}-empty`,onMousedown:c},[T]):N(mn,null,[N("div",{role:"listbox",id:`${A}_list`,style:{height:0,width:0,overflow:"hidden"}},[m(L-1),m(L),m(L+1)]),N(HV,{itemKey:"key",ref:u,data:l.value,height:I,itemHeight:D,fullHeight:!1,onMousedown:c,onScroll:C,virtual:P},{default:(U,k)=>{var H;const{group:z,groupOption:Q,data:Z,value:ie}=U,{key:xe}=Z,J=typeof U.label=="function"?U.label():U.label;if(z){const me=(H=Z.title)!==null&&H!==void 0?H:l$(J)&&J;return N("div",{class:Qe(a.value,`${a.value}-group`),title:me},[F?F(Z):J!==void 0?J:xe])}const{disabled:se,title:ee,children:ne,style:ue,class:Y,className:le}=Z,fe=ahe(Z,["disabled","title","children","style","class","className"]),W=Ai(fe,$),X=g(ie),V=`${a.value}-option`,Se=Qe(a.value,V,Y,le,{[`${V}-grouped`]:Q,[`${V}-active`]:L===k&&!se,[`${V}-disabled`]:se,[`${V}-selected`]:X}),pe=y(U),_e=!R||typeof R=="function"||X,he=typeof pe=="number"?pe:pe||ie;let ge=l$(he)?he.toString():void 0;return ee!==void 0&&(ge=ee),N("div",ve(ve({},W),{},{"aria-selected":X,class:Se,title:ge,onMousemove:me=>{fe.onMousemove&&fe.onMousemove(me),!(L===k||se)&&p(k)},onClick:me=>{se||b(ie),fe.onClick&&fe.onClick(me)},style:ue}),[N("div",{class:`${V}-content`},[F?F(Z):he]),mo(R)||X,_e&&N(Sh,{class:`${a.value}-option-state`,customizeIcon:R,customizeIconProps:{isSelected:X}},{default:()=>[X?"":null]})])}})])}}});var uhe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function che(n){const e=n,{key:i,children:r}=e,o=e.props,{value:s,disabled:a}=o,l=uhe(o,["value","disabled"]),u=r==null?void 0:r.default;return O({key:i,value:s!==void 0?s:i,children:u,disabled:a||a===""},l)}function VV(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ir(n).map((r,o)=>{var s;if(!mo(r)||!r.type)return null;const{type:{isSelectOptGroup:a},key:l,children:u,props:c}=r;if(e||!a)return che(r);const d=u&&u.default?u.default():void 0,f=(c==null?void 0:c.label)||((s=u.label)===null||s===void 0?void 0:s.call(u))||l;return O(O({key:`__RC_SELECT_GRP__${l===null?o:String(l)}__`},c),{label:f,options:VV(d||[])})}).filter(r=>r)}function dhe(n,e,i){const r=Oe(),o=Oe(),s=Oe(),a=Oe([]);return ct([n,e],()=>{n.value?a.value=pn(n.value).slice():a.value=VV(e.value)},{immediate:!0,deep:!0}),ln(()=>{const l=a.value,u=new Map,c=new Map,d=i.value;function f(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(let g=0;g<h.length;g+=1){const b=h[g];!b[d.options]||p?(u.set(b[d.value],b),c.set(b[d.label],b)):f(b[d.options],!0)}}f(l),r.value=l,o.value=u,s.value=c}),{options:r,valueOptions:o,labelOptions:s}}let u$=0;const fhe=ba();function hhe(){let n;return fhe?(n=u$,u$+=1):n="TEST_OR_SSR",n}function phe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ge("");const e=`rc_select_${hhe()}`;return n.value||e}function WV(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}function bT(n,e){return WV(n).join("").toUpperCase().includes(e)}const ghe=(n,e,i,r,o)=>K(()=>{const s=i.value,a=o==null?void 0:o.value,l=r==null?void 0:r.value;if(!s||l===!1)return n.value;const{options:u,label:c,value:d}=e.value,f=[],h=typeof l=="function",p=s.toUpperCase(),g=h?l:(y,m)=>a?bT(m[a],p):m[u]?bT(m[c!=="children"?c:"label"],p):bT(m[d],p),b=h?y=>F2(y):y=>y;return n.value.forEach(y=>{if(y[u]){if(g(s,b(y)))f.push(y);else{const _=y[u].filter(S=>g(s,b(S)));_.length&&f.push(O(O({},y),{[u]:_}))}return}g(s,b(y))&&f.push(y)}),f}),mhe=(n,e)=>{const i=Oe({values:new Map,options:new Map});return[K(()=>{const{values:s,options:a}=i.value,l=n.value.map(d=>{var f;return d.label===void 0?O(O({},d),{label:(f=s.get(d.value))===null||f===void 0?void 0:f.label}):d}),u=new Map,c=new Map;return l.forEach(d=>{u.set(d.value,d),c.set(d.value,e.value.get(d.value)||a.get(d.value))}),i.value.values=u,i.value.options=c,l}),s=>e.value.get(s)||i.value.options.get(s)]};function qg(n,e){const{defaultValue:i,value:r=Ge()}=e||{};let o=typeof n=="function"?n():n;r.value!==void 0&&(o=ao(r)),i!==void 0&&(o=typeof i=="function"?i():i);const s=Ge(o),a=Ge(o);ln(()=>{let u=r.value!==void 0?r.value:s.value;e.postState&&(u=e.postState(u)),a.value=u});function l(u){const c=a.value;s.value=u,pn(a.value)!==u&&e.onChange&&e.onChange(u,c)}return ct(r,()=>{s.value=r.value}),[a,l]}function Wn(n){const e=typeof n=="function"?n():n,i=Ge(e);function r(o){i.value=o}return[i,r]}const vhe=["inputValue"];function jV(){return O(O({},$V()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:be.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:be.any,defaultValue:be.any,onChange:Function,children:Array})}function yhe(n){return!n||typeof n!="object"}const bhe=je({compatConfig:{MODE:3},name:"VcSelect",inheritAttrs:!1,props:fi(jV(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup(n,e){let{expose:i,attrs:r,slots:o}=e;const s=phe(Jn(n,"id")),a=K(()=>UV(n.mode)),l=K(()=>!!(!n.options&&n.children)),u=K(()=>n.filterOption===void 0&&n.mode==="combobox"?!1:n.filterOption),c=K(()=>tV(n.fieldNames,l.value)),[d,f]=qg("",{value:K(()=>n.searchValue!==void 0?n.searchValue:n.inputValue),postState:Y=>Y||""}),h=dhe(Jn(n,"options"),Jn(n,"children"),c),{valueOptions:p,labelOptions:g,options:b}=h,y=Y=>WV(Y).map(fe=>{var W,X;let V,Se,pe,_e;yhe(fe)?V=fe:(pe=fe.key,Se=fe.label,V=(W=fe.value)!==null&&W!==void 0?W:pe);const he=p.value.get(V);return he&&(Se===void 0&&(Se=he==null?void 0:he[n.optionLabelProp||c.value.label]),pe===void 0&&(pe=(X=he==null?void 0:he.key)!==null&&X!==void 0?X:V),_e=he==null?void 0:he.disabled),{label:Se,value:V,key:pe,disabled:_e,option:he}}),[m,_]=qg(n.defaultValue,{value:Jn(n,"value")}),S=K(()=>{var Y;const le=y(m.value);return n.mode==="combobox"&&!(!((Y=le[0])===null||Y===void 0)&&Y.value)?[]:le}),[w,A]=mhe(S,p),T=K(()=>{if(!n.mode&&w.value.length===1){const Y=w.value[0];if(Y.value===null&&(Y.label===null||Y.label===void 0))return[]}return w.value.map(Y=>{var le;return O(O({},Y),{label:(le=typeof Y.label=="function"?Y.label():Y.label)!==null&&le!==void 0?le:Y.value})})}),C=K(()=>new Set(w.value.map(Y=>Y.value)));ln(()=>{var Y;if(n.mode==="combobox"){const le=(Y=w.value[0])===null||Y===void 0?void 0:Y.value;le!=null&&f(String(le))}},{flush:"post"});const R=(Y,le)=>{const fe=le??Y;return{[c.value.value]:Y,[c.value.label]:fe}},E=Oe();ln(()=>{if(n.mode!=="tags"){E.value=b.value;return}const Y=b.value.slice(),le=fe=>p.value.has(fe);[...w.value].sort((fe,W)=>fe.value<W.value?-1:1).forEach(fe=>{const W=fe.value;le(W)||Y.push(R(W,fe.label))}),E.value=Y});const P=ghe(E,c,d,u,Jn(n,"optionFilterProp")),I=K(()=>n.mode!=="tags"||!d.value||P.value.some(Y=>Y[n.optionFilterProp||"value"]===d.value)?P.value:[R(d.value),...P.value]),D=K(()=>n.filterSort?[...I.value].sort((Y,le)=>n.filterSort(Y,le)):I.value),F=K(()=>Nle(D.value,{fieldNames:c.value,childrenAsData:l.value})),L=Y=>{const le=y(Y);if(_(le),n.onChange&&(le.length!==w.value.length||le.some((fe,W)=>{var X;return((X=w.value[W])===null||X===void 0?void 0:X.value)!==(fe==null?void 0:fe.value)}))){const fe=n.labelInValue?le.map(X=>O(O({},X),{originLabel:X.label,label:typeof X.label=="function"?X.label():X.label})):le.map(X=>X.value),W=le.map(X=>F2(A(X.value)));n.onChange(a.value?fe:fe[0],a.value?W:W[0])}},[$,U]=Wn(null),[k,H]=Wn(0),z=K(()=>n.defaultActiveFirstOption!==void 0?n.defaultActiveFirstOption:n.mode!=="combobox"),Q=function(Y,le){let{source:fe="keyboard"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};H(le),n.backfill&&n.mode==="combobox"&&Y!==null&&fe==="keyboard"&&U(String(Y))},Z=(Y,le)=>{const fe=()=>{var W;const X=A(Y),V=X==null?void 0:X[c.value.label];return[n.labelInValue?{label:typeof V=="function"?V():V,originLabel:V,value:Y,key:(W=X==null?void 0:X.key)!==null&&W!==void 0?W:Y}:Y,F2(X)]};if(le&&n.onSelect){const[W,X]=fe();n.onSelect(W,X)}else if(!le&&n.onDeselect){const[W,X]=fe();n.onDeselect(W,X)}},ie=(Y,le)=>{let fe;const W=a.value?le.selected:!0;W?fe=a.value?[...w.value,Y]:[Y]:fe=w.value.filter(X=>X.value!==Y),L(fe),Z(Y,W),n.mode==="combobox"?U(""):(!a.value||n.autoClearSearchValue)&&(f(""),U(""))},xe=(Y,le)=>{L(Y),(le.type==="remove"||le.type==="clear")&&le.values.forEach(fe=>{Z(fe.value,!1)})},J=(Y,le)=>{var fe;if(f(Y),U(null),le.source==="submit"){const W=(Y||"").trim();if(W){const X=Array.from(new Set([...C.value,W]));L(X),Z(W,!0),f("")}return}le.source!=="blur"&&(n.mode==="combobox"&&L(Y),(fe=n.onSearch)===null||fe===void 0||fe.call(n,Y))},se=Y=>{let le=Y;n.mode!=="tags"&&(le=Y.map(W=>{const X=g.value.get(W);return X==null?void 0:X.value}).filter(W=>W!==void 0));const fe=Array.from(new Set([...C.value,...le]));L(fe),fe.forEach(W=>{Z(W,!0)})},ee=K(()=>n.virtual!==!1&&n.dropdownMatchSelectWidth!==!1);ohe(FV(O(O({},h),{flattenOptions:F,onActiveValue:Q,defaultActiveFirstOption:z,onSelect:ie,menuItemSelectedIcon:Jn(n,"menuItemSelectedIcon"),rawValues:C,fieldNames:c,virtual:ee,listHeight:Jn(n,"listHeight"),listItemHeight:Jn(n,"listItemHeight"),childrenAsData:l})));const ne=Ge();i({focus(){var Y;(Y=ne.value)===null||Y===void 0||Y.focus()},blur(){var Y;(Y=ne.value)===null||Y===void 0||Y.blur()},scrollTo(Y){var le;(le=ne.value)===null||le===void 0||le.scrollTo(Y)}});const ue=K(()=>Ai(n,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"]));return()=>N(Vfe,ve(ve(ve({},ue.value),r),{},{id:s,prefixCls:n.prefixCls,ref:ne,omitDomProps:vhe,mode:n.mode,displayValues:T.value,onDisplayValuesChange:xe,searchValue:d.value,onSearch:J,onSearchSplit:se,dropdownMatchSelectWidth:n.dropdownMatchSelectWidth,OptionList:lhe,emptyOptions:!F.value.length,activeValue:$.value,activeDescendantId:`${s}_list_${k.value}`}),o)}}),GI=()=>null;GI.isSelectOption=!0;GI.displayName="ASelectOption";const VI=()=>null;VI.isSelectOptGroup=!0;VI.displayName="ASelectOptGroup";var xhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},_he=Symbol("iconContext"),KV=function(){return qt(_he,{prefixCls:Ge("anticon"),rootClassName:Ge(""),csp:Ge()})};function WI(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function She(n,e){return n&&n.contains?n.contains(e):!1}var c$="data-vc-order",whe="vc-icon-key",j2=new Map;function qV(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):whe}function jI(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function Che(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function XV(n){return Array.from((j2.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function YV(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!WI())return null;var i=e.csp,r=e.prepend,o=document.createElement("style");o.setAttribute(c$,Che(r)),i&&i.nonce&&(o.nonce=i.nonce),o.innerHTML=n;var s=jI(e),a=s.firstChild;if(r){if(r==="queue"){var l=XV(s).filter(function(u){return["prepend","prependQueue"].includes(u.getAttribute(c$))});if(l.length)return s.insertBefore(o,l[l.length-1].nextSibling),o}s.insertBefore(o,a)}else s.appendChild(o);return o}function Ahe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=jI(e);return XV(i).find(function(r){return r.getAttribute(qV(e))===n})}function The(n,e){var i=j2.get(n);if(!i||!She(document,i)){var r=YV("",e),o=r.parentNode;j2.set(n,o),n.removeChild(r)}}function Ehe(n,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=jI(i);The(r,i);var o=Ahe(e,i);if(o)return i.csp&&i.csp.nonce&&o.nonce!==i.csp.nonce&&(o.nonce=i.csp.nonce),o.innerHTML!==n&&(o.innerHTML=n),o;var s=YV(n,i);return s.setAttribute(qV(i),e),s}function d$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Mhe(n,o,i[o])})}return n}function Mhe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function f$(n){return typeof n=="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(typeof n.icon=="object"||typeof n.icon=="function")}function K2(n,e,i){return i?lc(n.tag,d$({key:e},i,n.attrs),(n.children||[]).map(function(r,o){return K2(r,"".concat(e,"-").concat(n.tag,"-").concat(o))})):lc(n.tag,d$({key:e},n.attrs),(n.children||[]).map(function(r,o){return K2(r,"".concat(e,"-").concat(n.tag,"-").concat(o))}))}function QV(n){return Yy(n)[0]}function ZV(n){return n?Array.isArray(n)?n:[n]:[]}var Rhe=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;function JV(n){return n&&n.getRootNode&&n.getRootNode()}function Phe(n){return WI()?JV(n)instanceof ShadowRoot:!1}function Ihe(n){return Phe(n)?JV(n):null}var Nhe=function(){var e=KV(),i=e.prefixCls,r=e.csp,o=hs(),s=Rhe;i&&(s=s.replace(/anticon/g,i.value)),kn(function(){if(WI()){var a=o.vnode.el,l=Ihe(a);Ehe(s,"@ant-design-vue-icons",{prepend:!0,csp:r.value,attachTo:l})}})},Ohe=["icon","primaryColor","secondaryColor"];function Dhe(n,e){if(n==null)return{};var i=Lhe(n,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(i[r]=n[r])}return i}function Lhe(n,e){if(n==null)return{};var i={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(i[o]=n[o]);return i}function pS(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Bhe(n,o,i[o])})}return n}function Bhe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var Sy=Ki({primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1});function Fhe(n){var e=n.primaryColor,i=n.secondaryColor;Sy.primaryColor=e,Sy.secondaryColor=i||QV(e),Sy.calculated=!!i}function $he(){return pS({},Sy)}var Kd=function(e,i){var r=pS({},e,i.attrs),o=r.icon,s=r.primaryColor,a=r.secondaryColor,l=Dhe(r,Ohe),u=Sy;if(s&&(u={primaryColor:s,secondaryColor:a||QV(s)}),f$(o),!f$(o))return null;var c=o;return c&&typeof c.icon=="function"&&(c=pS({},c,{icon:c.icon(u.primaryColor,u.secondaryColor)})),K2(c.icon,"svg-".concat(c.name),pS({},l,{"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};Kd.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};Kd.inheritAttrs=!1;Kd.displayName="IconBase";Kd.getTwoToneColors=$he;Kd.setTwoToneColors=Fhe;function Uhe(n,e){return Ghe(n)||Hhe(n,e)||zhe(n,e)||khe()}function khe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zhe(n,e){if(n){if(typeof n=="string")return h$(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h$(n,e)}}function h$(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=n[i];return r}function Hhe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r=[],o=!0,s=!1,a,l;try{for(i=i.call(n);!(o=(a=i.next()).done)&&(r.push(a.value),!(e&&r.length===e));o=!0);}catch(u){s=!0,l=u}finally{try{!o&&i.return!=null&&i.return()}finally{if(s)throw l}}return r}}function Ghe(n){if(Array.isArray(n))return n}function eW(n){var e=ZV(n),i=Uhe(e,2),r=i[0],o=i[1];return Kd.setTwoToneColors({primaryColor:r,secondaryColor:o})}function Vhe(){var n=Kd.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var Whe=je({name:"InsertStyles",setup:function(){return Nhe(),function(){return null}}}),jhe=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function Khe(n,e){return Qhe(n)||Yhe(n,e)||Xhe(n,e)||qhe()}function qhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xhe(n,e){if(n){if(typeof n=="string")return p$(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p$(n,e)}}function p$(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=n[i];return r}function Yhe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r=[],o=!0,s=!1,a,l;try{for(i=i.call(n);!(o=(a=i.next()).done)&&(r.push(a.value),!(e&&r.length===e));o=!0);}catch(u){s=!0,l=u}finally{try{!o&&i.return!=null&&i.return()}finally{if(s)throw l}}return r}}function Qhe(n){if(Array.isArray(n))return n}function g$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Jv(n,o,i[o])})}return n}function Jv(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function Zhe(n,e){if(n==null)return{};var i=Jhe(n,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(i[r]=n[r])}return i}function Jhe(n,e){if(n==null)return{};var i={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(i[o]=n[o]);return i}eW(Lae.primary);var Tn=function(e,i){var r,o=g$({},e,i.attrs),s=o.class,a=o.icon,l=o.spin,u=o.rotate,c=o.tabindex,d=o.twoToneColor,f=o.onClick,h=Zhe(o,jhe),p=KV(),g=p.prefixCls,b=p.rootClassName,y=(r={},Jv(r,b.value,!!b.value),Jv(r,g.value,!0),Jv(r,"".concat(g.value,"-").concat(a.name),!!a.name),Jv(r,"".concat(g.value,"-spin"),!!l||a.name==="loading"),r),m=c;m===void 0&&f&&(m=-1);var _=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,S=ZV(d),w=Khe(S,2),A=w[0],T=w[1];return N("span",g$({role:"img","aria-label":a.name},h,{onClick:f,class:[y,s],tabindex:m}),[N(Kd,{icon:a,primaryColor:A,secondaryColor:T,style:_},null),N(Whe,null,null)])};Tn.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:[String,Array]};Tn.displayName="AntdIcon";Tn.inheritAttrs=!1;Tn.getTwoToneColor=Vhe;Tn.setTwoToneColor=eW;function m$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){epe(n,o,i[o])})}return n}function epe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var N1=function(e,i){var r=m$({},e,i.attrs);return N(Tn,m$({},r,{icon:xhe}),null)};N1.displayName="DownOutlined";N1.inheritAttrs=!1;var tpe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};function v$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){npe(n,o,i[o])})}return n}function npe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var zl=function(e,i){var r=v$({},e,i.attrs);return N(Tn,v$({},r,{icon:tpe}),null)};zl.displayName="LoadingOutlined";zl.inheritAttrs=!1;var ipe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};function y$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){rpe(n,o,i[o])})}return n}function rpe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var O1=function(e,i){var r=y$({},e,i.attrs);return N(Tn,y$({},r,{icon:ipe}),null)};O1.displayName="CheckOutlined";O1.inheritAttrs=!1;var ope={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};function b$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){spe(n,o,i[o])})}return n}function spe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var qd=function(e,i){var r=b$({},e,i.attrs);return N(Tn,b$({},r,{icon:ope}),null)};qd.displayName="CloseOutlined";qd.inheritAttrs=!1;var ape={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};function x$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){lpe(n,o,i[o])})}return n}function lpe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var kh=function(e,i){var r=x$({},e,i.attrs);return N(Tn,x$({},r,{icon:ape}),null)};kh.displayName="CloseCircleFilled";kh.inheritAttrs=!1;var upe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function _$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){cpe(n,o,i[o])})}return n}function cpe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var Mm=function(e,i){var r=_$({},e,i.attrs);return N(Tn,_$({},r,{icon:upe}),null)};Mm.displayName="SearchOutlined";Mm.inheritAttrs=!1;function dpe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{loading:i,multiple:r,prefixCls:o,hasFeedback:s,feedbackIcon:a,showArrow:l}=n,u=n.suffixIcon||e.suffixIcon&&e.suffixIcon(),c=n.clearIcon||e.clearIcon&&e.clearIcon(),d=n.menuItemSelectedIcon||e.menuItemSelectedIcon&&e.menuItemSelectedIcon(),f=n.removeIcon||e.removeIcon&&e.removeIcon(),h=c??N(kh,null,null),p=m=>N(mn,null,[l!==!1&&m,s&&a]);let g=null;if(u!==void 0)g=p(u);else if(i)g=p(N(zl,{spin:!0},null));else{const m=`${o}-suffix`;g=_=>{let{open:S,showSearch:w}=_;return p(S&&w?N(Mm,{class:m},null):N(N1,{class:m},null))}}let b=null;d!==void 0?b=d:r?b=N(O1,null,null):b=null;let y=null;return f!==void 0?y=f:y=N(qd,null,null),{clearIcon:h,suffixIcon:g,itemIcon:b,removeIcon:y}}function KI(n){const e=Symbol("contextKey");return{useProvide:(o,s)=>{const a=Ki({});return jn(e,a),ln(()=>{O(a,o,s||{})}),a},useInject:()=>qt(e,n)||{}}}const S$=Symbol("ContextProps"),w$=Symbol("InternalContextProps"),C$={id:K(()=>{}),onFieldBlur:()=>{},onFieldChange:()=>{},clearValidate:()=>{}},A$={addFormItemField:()=>{},removeFormItemField:()=>{}},wc=()=>{const n=qt(w$,A$),e=Symbol("FormItemFieldKey"),i=hs();return n.addFormItemField(e,i.type),Pn(()=>{n.removeFormItemField(e)}),jn(w$,A$),jn(S$,C$),qt(S$,C$)},dc=KI({}),T$=je({name:"NoFormStatus",setup(n,e){let{slots:i}=e;return dc.useProvide({}),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}});function wg(n,e,i){return Qe({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:i})}const D1=(n,e)=>e||n,fpe=n=>{const{componentCls:e}=n;return{[e]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},hpe=n=>{const{componentCls:e}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item`]:{"&:empty":{display:"none"}}}}},ppe=Bi("Space",n=>[hpe(n),fpe(n)]);var gpe="[object Symbol]";function L1(n){return typeof n=="symbol"||_h(n)&&Bh(n)==gpe}function mpe(n,e){for(var i=-1,r=n==null?0:n.length,o=Array(r);++i<r;)o[i]=e(n[i],i,n);return o}var E$=kl?kl.prototype:void 0,M$=E$?E$.toString:void 0;function tW(n){if(typeof n=="string")return n;if(_a(n))return mpe(n,tW)+"";if(L1(n))return M$?M$.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var vpe=/\s/;function ype(n){for(var e=n.length;e--&&vpe.test(n.charAt(e)););return e}var bpe=/^\s+/;function xpe(n){return n&&n.slice(0,ype(n)+1).replace(bpe,"")}var R$=NaN,_pe=/^[-+]0x[0-9a-f]+$/i,Spe=/^0b[01]+$/i,wpe=/^0o[0-7]+$/i,Cpe=parseInt;function P$(n){if(typeof n=="number")return n;if(L1(n))return R$;if(cc(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=cc(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=xpe(n);var i=Spe.test(n);return i||wpe.test(n)?Cpe(n.slice(2),i?2:8):_pe.test(n)?R$:+n}function nW(n){return n}function Ape(n,e,i){switch(i.length){case 0:return n.call(e);case 1:return n.call(e,i[0]);case 2:return n.call(e,i[0],i[1]);case 3:return n.call(e,i[0],i[1],i[2])}return n.apply(e,i)}function Tpe(){}var Epe=800,Mpe=16,Rpe=Date.now;function Ppe(n){var e=0,i=0;return function(){var r=Rpe(),o=Mpe-(r-i);if(i=r,o>0){if(++e>=Epe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Ipe(n){return function(){return n}}var uw=function(){try{var n=$h(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Npe=uw?function(n,e){return uw(n,"toString",{configurable:!0,enumerable:!1,value:Ipe(e),writable:!0})}:nW,Ope=Ppe(Npe);function Dpe(n,e,i,r){for(var o=n.length,s=i+-1;++s<o;)if(e(n[s],s,n))return s;return-1}function Lpe(n){return n!==n}function Bpe(n,e,i){for(var r=i-1,o=n.length;++r<o;)if(n[r]===e)return r;return-1}function Fpe(n,e,i){return e===e?Bpe(n,e,i):Dpe(n,Lpe,i)}function $pe(n,e){var i=n==null?0:n.length;return!!i&&Fpe(n,e,0)>-1}function Upe(n,e,i){e=="__proto__"&&uw?uw(n,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[e]=i}var kpe=Object.prototype,zpe=kpe.hasOwnProperty;function Hpe(n,e,i){var r=n[e];(!(zpe.call(n,e)&&DI(r,i))||i===void 0&&!(e in n))&&Upe(n,e,i)}var I$=Math.max;function Gpe(n,e,i){return e=I$(e===void 0?n.length-1:e,0),function(){for(var r=arguments,o=-1,s=I$(r.length-e,0),a=Array(s);++o<s;)a[o]=r[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=r[o];return l[e]=i(a),Ape(n,this,l)}}var Vpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wpe=/^\w*$/;function qI(n,e){if(_a(n))return!1;var i=typeof n;return i=="number"||i=="symbol"||i=="boolean"||n==null||L1(n)?!0:Wpe.test(n)||!Vpe.test(n)||e!=null&&n in Object(e)}var jpe="Expected a function";function XI(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(jpe);var i=function(){var r=arguments,o=e?e.apply(this,r):r[0],s=i.cache;if(s.has(o))return s.get(o);var a=n.apply(this,r);return i.cache=s.set(o,a)||s,a};return i.cache=new(XI.Cache||Sc),i}XI.Cache=Sc;var Kpe=500;function qpe(n){var e=XI(n,function(r){return i.size===Kpe&&i.clear(),r}),i=e.cache;return e}var Xpe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ype=/\\(\\)?/g,Qpe=qpe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Xpe,function(i,r,o,s){e.push(o?s.replace(Ype,"$1"):r||i)}),e});function Zpe(n){return n==null?"":tW(n)}function B1(n,e){return _a(n)?n:qI(n,e)?[n]:Qpe(Zpe(n))}function V0(n){if(typeof n=="string"||L1(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function YI(n,e){e=B1(e,n);for(var i=0,r=e.length;n!=null&&i<r;)n=n[V0(e[i++])];return i&&i==r?n:void 0}function Jpe(n,e,i){var r=n==null?void 0:YI(n,e);return r===void 0?i:r}var N$=kl?kl.isConcatSpreadable:void 0;function ege(n){return _a(n)||M1(n)||!!(N$&&n&&n[N$])}function tge(n,e,i,r,o){var s=-1,a=n.length;for(i||(i=ege),o||(o=[]);++s<a;){var l=n[s];i(l)?bV(o,l):o[o.length]=l}return o}function nge(n){var e=n==null?0:n.length;return e?tge(n):[]}function ige(n){return Ope(Gpe(n,void 0,nge),n+"")}var rge=CV(Object.getPrototypeOf,Object),oge="[object Object]",sge=Function.prototype,age=Object.prototype,iW=sge.toString,lge=age.hasOwnProperty,uge=iW.call(Object);function rW(n){if(!_h(n)||Bh(n)!=oge)return!1;var e=rge(n);if(e===null)return!0;var i=lge.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&iW.call(i)==uge}var cge=1,dge=2;function fge(n,e,i,r){var o=i.length,s=o;if(n==null)return!s;for(n=Object(n);o--;){var a=i[o];if(a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++o<s;){a=i[o];var l=a[0],u=n[l],c=a[1];if(a[2]){if(u===void 0&&!(l in n))return!1}else{var d=new tc,f;if(!(f===void 0?R1(c,u,cge|dge,r,d):f))return!1}}return!0}function oW(n){return n===n&&!cc(n)}function hge(n){for(var e=kI(n),i=e.length;i--;){var r=e[i],o=n[r];e[i]=[r,o,oW(o)]}return e}function sW(n,e){return function(i){return i==null?!1:i[n]===e&&(e!==void 0||n in Object(i))}}function pge(n){var e=hge(n);return e.length==1&&e[0][2]?sW(e[0][0],e[0][1]):function(i){return i===n||fge(i,n,e)}}function gge(n,e){return n!=null&&e in Object(n)}function mge(n,e,i){e=B1(e,n);for(var r=-1,o=e.length,s=!1;++r<o;){var a=V0(e[r]);if(!(s=n!=null&&i(n,a)))break;n=n[a]}return s||++r!=o?s:(o=n==null?0:n.length,!!o&&FI(o)&&BI(a,o)&&(_a(n)||M1(n)))}function aW(n,e){return n!=null&&mge(n,e,gge)}var vge=1,yge=2;function bge(n,e){return qI(n)&&oW(e)?sW(V0(n),e):function(i){var r=Jpe(i,n);return r===void 0&&r===e?aW(i,n):R1(e,r,vge|yge)}}function xge(n){return function(e){return e==null?void 0:e[n]}}function _ge(n){return function(e){return YI(e,n)}}function Sge(n){return qI(n)?xge(V0(n)):_ge(n)}function wge(n){return typeof n=="function"?n:n==null?nW:typeof n=="object"?_a(n)?bge(n[0],n[1]):pge(n):Sge(n)}function Cge(n,e,i,r){for(var o=-1,s=n==null?0:n.length;++o<s;){var a=n[o];e(r,a,i(a),n)}return r}function Age(n){return function(e,i,r){for(var o=-1,s=Object(e),a=r(e),l=a.length;l--;){var u=a[++o];if(i(s[u],u,s)===!1)break}return e}}var Tge=Age();function Ege(n,e){return n&&Tge(n,e,kI)}function Mge(n,e){return function(i,r){if(i==null)return i;if(!UI(i))return n(i,r);for(var o=i.length,s=-1,a=Object(i);++s<o&&r(a[s],s,a)!==!1;);return i}}var Rge=Mge(Ege);function Pge(n,e,i,r){return Rge(n,function(o,s,a){e(r,o,i(o),a)}),r}function Ige(n,e){return function(i,r){var o=_a(i)?Cge:Pge,s=e();return o(i,n,wge(r),s)}}var xT=function(){return Xl.Date.now()},Nge="Expected a function",Oge=Math.max,Dge=Math.min;function QI(n,e,i){var r,o,s,a,l,u,c=0,d=!1,f=!1,h=!0;if(typeof n!="function")throw new TypeError(Nge);e=P$(e)||0,cc(i)&&(d=!!i.leading,f="maxWait"in i,s=f?Oge(P$(i.maxWait)||0,e):s,h="trailing"in i?!!i.trailing:h);function p(T){var C=r,R=o;return r=o=void 0,c=T,a=n.apply(R,C),a}function g(T){return c=T,l=setTimeout(m,e),d?p(T):a}function b(T){var C=T-u,R=T-c,E=e-C;return f?Dge(E,s-R):E}function y(T){var C=T-u,R=T-c;return u===void 0||C>=e||C<0||f&&R>=s}function m(){var T=xT();if(y(T))return _(T);l=setTimeout(m,b(T))}function _(T){return l=void 0,h&&r?p(T):(r=o=void 0,a)}function S(){l!==void 0&&clearTimeout(l),c=0,r=u=o=l=void 0}function w(){return l===void 0?a:_(xT())}function A(){var T=xT(),C=y(T);if(r=arguments,o=this,u=T,C){if(l===void 0)return g(u);if(f)return clearTimeout(l),l=setTimeout(m,e),p(u)}return l===void 0&&(l=setTimeout(m,e)),a}return A.cancel=S,A.flush=w,A}function Lge(n){for(var e=-1,i=n==null?0:n.length,r={};++e<i;){var o=n[e];r[o[0]]=o[1]}return r}var Bge="[object Map]",Fge="[object Set]",$ge=Object.prototype,Uge=$ge.hasOwnProperty;function lW(n){if(n==null)return!0;if(UI(n)&&(_a(n)||typeof n=="string"||typeof n.splice=="function"||sw(n)||$I(n)||M1(n)))return!n.length;var e=$u(n);if(e==Bge||e==Fge)return!n.size;if(wV(n))return!AV(n).length;for(var i in n)if(Uge.call(n,i))return!1;return!0}function kge(n,e,i,r){if(!cc(n))return n;e=B1(e,n);for(var o=-1,s=e.length,a=s-1,l=n;l!=null&&++o<s;){var u=V0(e[o]),c=i;if(u==="__proto__"||u==="constructor"||u==="prototype")return n;if(o!=a){var d=l[u];c=void 0,c===void 0&&(c=cc(d)?d:BI(e[o+1])?[]:{})}Hpe(l,u,c),l=l[u]}return n}function zge(n,e,i){for(var r=-1,o=e.length,s={};++r<o;){var a=e[r],l=YI(n,a);i(l,a)&&kge(s,B1(a,n),l)}return s}var Hge=Ige(function(n,e,i){n[i?0:1].push(e)},function(){return[[],[]]});function Gge(n,e){return zge(n,e,function(i,r){return aW(n,r)})}var uW=ige(function(n,e){return n==null?{}:Gge(n,e)}),Vge="Expected a function";function Wge(n,e,i){var r=!0,o=!0;if(typeof n!="function")throw new TypeError(Vge);return cc(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),QI(n,e,{leading:r,maxWait:e,trailing:o})}var jge=1/0,Kge=Sg&&1/LI(new Sg([,-0]))[1]==jge?function(n){return new Sg(n)}:Tpe,qge=200;function Xge(n,e,i){var r=-1,o=$pe,s=n.length,a=!0,l=[],u=l;if(s>=qge){var c=Kge(n);if(c)return LI(c);a=!1,o=vV,u=new t0}else u=l;e:for(;++r<s;){var d=n[r],f=d;if(d=d!==0?d:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;l.push(d)}else o(u,f,i)||(u!==l&&u.push(f),l.push(d))}return l}function _T(n){return n&&n.length?Xge(n):[]}const Yge=()=>({compactSize:String,compactDirection:be.oneOf(vh("horizontal","vertical")).def("horizontal"),isFirstItem:It(),isLastItem:It()}),F1=KI(null),ZI=(n,e)=>{const i=F1.useInject(),r=K(()=>{if(!i||lW(i))return"";const{compactDirection:o,isFirstItem:s,isLastItem:a}=i,l=o==="vertical"?"-vertical-":"-";return Qe({[`${n.value}-compact${l}item`]:!0,[`${n.value}-compact${l}first-item`]:s,[`${n.value}-compact${l}last-item`]:a,[`${n.value}-compact${l}item-rtl`]:e.value==="rtl"})});return{compactSize:K(()=>i==null?void 0:i.compactSize),compactDirection:K(()=>i==null?void 0:i.compactDirection),compactItemClassnames:r}},q2=je({name:"NoCompactStyle",setup(n,e){let{slots:i}=e;return F1.useProvide(null),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}}),Qge=()=>({prefixCls:String,size:{type:String},direction:be.oneOf(vh("horizontal","vertical")).def("horizontal"),align:be.oneOf(vh("start","end","center","baseline")),block:{type:Boolean,default:void 0}}),Zge=je({name:"CompactItem",props:Yge(),setup(n,e){let{slots:i}=e;return F1.useProvide(n),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}});Qge();const Jge=n=>({animationDuration:n,animationFillMode:"both"}),eme=n=>({animationDuration:n,animationFillMode:"both"}),JI=function(n,e,i,r){const s=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${s}${n}-enter,
      ${s}${n}-appear
    `]:O(O({},Jge(r)),{animationPlayState:"paused"}),[`${s}${n}-leave`]:O(O({},eme(r)),{animationPlayState:"paused"}),[`
      ${s}${n}-enter${n}-enter-active,
      ${s}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${s}${n}-leave${n}-leave-active`]:{animationName:i,animationPlayState:"running",pointerEvents:"none"}}},tme=new Dn("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),nme=new Dn("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),ime=new Dn("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),rme=new Dn("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),ome=new Dn("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),sme=new Dn("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),ame=new Dn("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),lme=new Dn("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),ume={"move-up":{inKeyframes:ame,outKeyframes:lme},"move-down":{inKeyframes:tme,outKeyframes:nme},"move-left":{inKeyframes:ime,outKeyframes:rme},"move-right":{inKeyframes:ome,outKeyframes:sme}},cw=(n,e)=>{const{antCls:i}=n,r=`${i}-${e}`,{inKeyframes:o,outKeyframes:s}=ume[e];return[JI(r,o,s,n.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:n.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},eN=new Dn("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),tN=new Dn("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),nN=new Dn("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),iN=new Dn("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),cme=new Dn("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),dme=new Dn("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),fme=new Dn("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),hme=new Dn("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),pme={"slide-up":{inKeyframes:eN,outKeyframes:tN},"slide-down":{inKeyframes:nN,outKeyframes:iN},"slide-left":{inKeyframes:cme,outKeyframes:dme},"slide-right":{inKeyframes:fme,outKeyframes:hme}},Fd=(n,e)=>{const{antCls:i}=n,r=`${i}-${e}`,{inKeyframes:o,outKeyframes:s}=pme[e];return[JI(r,o,s,n.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},gme=new Dn("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),mme=new Dn("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),O$=new Dn("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),D$=new Dn("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),vme=new Dn("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),yme=new Dn("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),bme=new Dn("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),xme=new Dn("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),_me=new Dn("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Sme=new Dn("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),wme=new Dn("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Cme=new Dn("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Ame={zoom:{inKeyframes:gme,outKeyframes:mme},"zoom-big":{inKeyframes:O$,outKeyframes:D$},"zoom-big-fast":{inKeyframes:O$,outKeyframes:D$},"zoom-left":{inKeyframes:bme,outKeyframes:xme},"zoom-right":{inKeyframes:_me,outKeyframes:Sme},"zoom-up":{inKeyframes:vme,outKeyframes:yme},"zoom-down":{inKeyframes:wme,outKeyframes:Cme}},rN=(n,e)=>{const{antCls:i}=n,r=`${i}-${e}`,{inKeyframes:o,outKeyframes:s}=Ame[e];return[JI(r,o,s,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},oN=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),L$=n=>{const{controlPaddingHorizontal:e}=n;return{position:"relative",display:"block",minHeight:n.controlHeight,padding:`${(n.controlHeight-n.fontSize*n.lineHeight)/2}px ${e}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,boxSizing:"border-box"}},Tme=n=>{const{antCls:e,componentCls:i}=n,r=`${i}-item`;return[{[`${i}-dropdown`]:O(O({},di(n)),{position:"absolute",top:-9999,zIndex:n.zIndexPopup,boxSizing:"border-box",padding:n.paddingXXS,overflow:"hidden",fontSize:n.fontSize,fontVariant:"initial",backgroundColor:n.colorBgElevated,borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,[`
            &${e}-slide-up-enter${e}-slide-up-enter-active${i}-dropdown-placement-bottomLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${i}-dropdown-placement-bottomLeft
          `]:{animationName:eN},[`
            &${e}-slide-up-enter${e}-slide-up-enter-active${i}-dropdown-placement-topLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${i}-dropdown-placement-topLeft
          `]:{animationName:nN},[`&${e}-slide-up-leave${e}-slide-up-leave-active${i}-dropdown-placement-bottomLeft`]:{animationName:tN},[`&${e}-slide-up-leave${e}-slide-up-leave-active${i}-dropdown-placement-topLeft`]:{animationName:iN},"&-hidden":{display:"none"},"&-empty":{color:n.colorTextDisabled},[`${r}-empty`]:O(O({},L$(n)),{color:n.colorTextDisabled}),[`${r}`]:O(O({},L$(n)),{cursor:"pointer",transition:`background ${n.motionDurationSlow} ease`,borderRadius:n.borderRadiusSM,"&-group":{color:n.colorTextDescription,fontSize:n.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":O({flex:"auto"},Fl),"&-state":{flex:"none"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:n.controlItemBgHover},[`&-selected:not(${r}-option-disabled)`]:{color:n.colorText,fontWeight:n.fontWeightStrong,backgroundColor:n.controlItemBgActive,[`${r}-option-state`]:{color:n.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:n.colorBgContainerDisabled},color:n.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:n.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},Fd(n,"slide-up"),Fd(n,"slide-down"),cw(n,"move-up"),cw(n,"move-down")]},ap=2;function cW(n){let{controlHeightSM:e,controlHeight:i,lineWidth:r}=n;const o=(i-e)/2-r,s=Math.ceil(o/2);return[o,s]}function ST(n,e){const{componentCls:i,iconCls:r}=n,o=`${i}-selection-overflow`,s=n.controlHeightSM,[a]=cW(n),l=e?`${i}-${e}`:"";return{[`${i}-multiple${l}`]:{fontSize:n.fontSize,[o]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${i}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:`${a-ap}px ${ap*2}px`,borderRadius:n.borderRadius,[`${i}-show-search&`]:{cursor:"text"},[`${i}-disabled&`]:{background:n.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${ap}px 0`,lineHeight:`${s}px`,content:'"\\a0"'}},[`
        &${i}-show-arrow ${i}-selector,
        &${i}-allow-clear ${i}-selector
      `]:{paddingInlineEnd:n.fontSizeIcon+n.controlPaddingHorizontal},[`${i}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:s,marginTop:ap,marginBottom:ap,lineHeight:`${s-n.lineWidth*2}px`,background:n.colorFillSecondary,border:`${n.lineWidth}px solid ${n.colorSplit}`,borderRadius:n.borderRadiusSM,cursor:"default",transition:`font-size ${n.motionDurationSlow}, line-height ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,userSelect:"none",marginInlineEnd:ap*2,paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS/2,[`${i}-disabled&`]:{color:n.colorTextDisabled,borderColor:n.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:n.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":O(O({},wI()),{display:"inline-block",color:n.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${r}`]:{verticalAlign:"-0.2em"},"&:hover":{color:n.colorIconHover}})},[`${o}-item + ${o}-item`]:{[`${i}-selection-search`]:{marginInlineStart:0}},[`${i}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:n.inputPaddingHorizontalBase-a,"\n          &-input,\n          &-mirror\n        ":{height:s,fontFamily:n.fontFamily,lineHeight:`${s}px`,transition:`all ${n.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${i}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:n.inputPaddingHorizontalBase,insetInlineEnd:n.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${n.motionDurationSlow}`}}}}function Eme(n){const{componentCls:e}=n,i=On(n,{controlHeight:n.controlHeightSM,controlHeightSM:n.controlHeightXS,borderRadius:n.borderRadiusSM,borderRadiusSM:n.borderRadiusXS}),[,r]=cW(n);return[ST(n),ST(i,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInlineStart:n.controlPaddingHorizontalSM-n.lineWidth,insetInlineEnd:"auto"},[`${e}-selection-search`]:{marginInlineStart:r}}},ST(On(n,{fontSize:n.fontSizeLG,controlHeight:n.controlHeightLG,controlHeightSM:n.controlHeight,borderRadius:n.borderRadiusLG,borderRadiusSM:n.borderRadius}),"lg")]}function wT(n,e){const{componentCls:i,inputPaddingHorizontalBase:r,borderRadius:o}=n,s=n.controlHeight-n.lineWidth*2,a=Math.ceil(n.fontSize*1.25),l=e?`${i}-${e}`:"";return{[`${i}-single${l}`]:{fontSize:n.fontSize,[`${i}-selector`]:O(O({},di(n)),{display:"flex",borderRadius:o,[`${i}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%"}},[`
          ${i}-selection-item,
          ${i}-selection-placeholder
        `]:{padding:0,lineHeight:`${s}px`,transition:`all ${n.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${s}px`}},[`${i}-selection-item`]:{position:"relative",userSelect:"none"},[`${i}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${i}-selection-item:after`,`${i}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${i}-show-arrow ${i}-selection-item,
        &${i}-show-arrow ${i}-selection-placeholder
      `]:{paddingInlineEnd:a},[`&${i}-open ${i}-selection-item`]:{color:n.colorTextPlaceholder},[`&:not(${i}-customize-input)`]:{[`${i}-selector`]:{width:"100%",height:n.controlHeight,padding:`0 ${r}px`,[`${i}-selection-search-input`]:{height:s},"&:after":{lineHeight:`${s}px`}}},[`&${i}-customize-input`]:{[`${i}-selector`]:{"&:after":{display:"none"},[`${i}-selection-search`]:{position:"static",width:"100%"},[`${i}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${r}px`,"&:after":{display:"none"}}}}}}}function Mme(n){const{componentCls:e}=n,i=n.controlPaddingHorizontalSM-n.lineWidth;return[wT(n),wT(On(n,{controlHeight:n.controlHeightSM,borderRadius:n.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:i,insetInlineEnd:i},[`${e}-selector`]:{padding:`0 ${i}px`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:i+n.fontSize*1.5},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:n.fontSize*1.5}}}},wT(On(n,{controlHeight:n.controlHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG}),"lg")]}function Rme(n,e,i){const{focusElCls:r,focus:o,borderElCls:s}=i,a=s?"> *":"",l=["hover",o?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${a}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-n.lineWidth},"&-item":O(O({[l]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function Pme(n,e,i){const{borderElCls:r}=i,o=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${o}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${o}, &${n}-sm ${o}, &${n}-lg ${o}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${o}, &${n}-sm ${o}, &${n}-lg ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function sN(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:i}=n,r=`${i}-compact`;return{[r]:O(O({},Rme(n,r,e)),Pme(i,r,e))}}const Ime=n=>{const{componentCls:e}=n;return{position:"relative",backgroundColor:n.colorBgContainer,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${e}-disabled&`]:{color:n.colorTextDisabled,background:n.colorBgContainerDisabled,cursor:"not-allowed",[`${e}-multiple&`]:{background:n.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},CT=function(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:r,borderHoverColor:o,outlineColor:s,antCls:a}=e,l=i?{[`${r}-selector`]:{borderColor:o}}:{};return{[n]:{[`&:not(${r}-disabled):not(${r}-customize-input):not(${a}-pagination-size-changer)`]:O(O({},l),{[`${r}-focused& ${r}-selector`]:{borderColor:o,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${s}`,borderInlineEndWidth:`${e.controlLineWidth}px !important`,outline:0},[`&:hover ${r}-selector`]:{borderColor:o,borderInlineEndWidth:`${e.controlLineWidth}px !important`}})}}},Nme=n=>{const{componentCls:e}=n;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Ome=n=>{const{componentCls:e,inputPaddingHorizontalBase:i,iconCls:r}=n;return{[e]:O(O({},di(n)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${e}-customize-input) ${e}-selector`]:O(O({},Ime(n)),Nme(n)),[`${e}-selection-item`]:O({flex:1,fontWeight:"normal"},Fl),[`${e}-selection-placeholder`]:O(O({},Fl),{flex:1,color:n.colorTextPlaceholder,pointerEvents:"none"}),[`${e}-arrow`]:O(O({},wI()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:n.fontSizeIcon,marginTop:-n.fontSizeIcon/2,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[r]:{verticalAlign:"top",transition:`transform ${n.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${e}-suffix)`]:{pointerEvents:"auto"}},[`${e}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${e}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:n.fontSizeIcon,height:n.fontSizeIcon,marginTop:-n.fontSizeIcon/2,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:n.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${n.motionDurationMid} ease, opacity ${n.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:n.colorTextTertiary}},"&:hover":{[`${e}-clear`]:{opacity:1}}}),[`${e}-has-feedback`]:{[`${e}-clear`]:{insetInlineEnd:i+n.fontSize+n.paddingXXS}}}},Dme=n=>{const{componentCls:e}=n;return[{[e]:{[`&-borderless ${e}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${e}-in-form-item`]:{width:"100%"}}},Ome(n),Mme(n),Eme(n),Tme(n),{[`${e}-rtl`]:{direction:"rtl"}},CT(e,On(n,{borderHoverColor:n.colorPrimaryHover,outlineColor:n.controlOutline})),CT(`${e}-status-error`,On(n,{borderHoverColor:n.colorErrorHover,outlineColor:n.colorErrorOutline}),!0),CT(`${e}-status-warning`,On(n,{borderHoverColor:n.colorWarningHover,outlineColor:n.colorWarningOutline}),!0),sN(n,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},Lme=Bi("Select",(n,e)=>{let{rootPrefixCls:i}=e;const r=On(n,{rootPrefixCls:i,inputPaddingHorizontalBase:n.paddingSM-1});return[Dme(r)]},n=>({zIndexPopup:n.zIndexPopupBase+50})),aN=()=>O(O({},Ai(jV(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:Pi([Array,Object,String,Number]),defaultValue:Pi([Array,Object,String,Number]),notFoundContent:be.any,suffixIcon:be.any,itemIcon:be.any,size:Nn(),mode:Nn(),bordered:It(!0),transitionName:String,choiceTransitionName:Nn(""),popupClassName:String,dropdownClassName:String,placement:Nn(),status:Nn(),"onUpdate:value":pt()}),B$="SECRET_COMBOBOX_MODE_DO_NOT_USE",Ds=je({compatConfig:{MODE:3},name:"ASelect",Option:GI,OptGroup:VI,inheritAttrs:!1,props:fi(aN(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:B$,slots:Object,setup(n,e){let{attrs:i,emit:r,slots:o,expose:s}=e;const a=Ge(),l=wc(),u=dc.useInject(),c=K(()=>D1(u.status,n.status)),d=()=>{var ie;(ie=a.value)===null||ie===void 0||ie.focus()},f=()=>{var ie;(ie=a.value)===null||ie===void 0||ie.blur()},h=ie=>{var xe;(xe=a.value)===null||xe===void 0||xe.scrollTo(ie)},p=K(()=>{const{mode:ie}=n;if(ie!=="combobox")return ie===B$?"combobox":ie}),{prefixCls:g,direction:b,configProvider:y,renderEmpty:m,size:_,getPrefixCls:S,getPopupContainer:w,disabled:A,select:T}=tn("select",n),{compactSize:C,compactItemClassnames:R}=ZI(g,b),E=K(()=>C.value||_.value),P=Bl(),I=K(()=>{var ie;return(ie=A.value)!==null&&ie!==void 0?ie:P.value}),[D,F]=Lme(g),L=K(()=>S()),$=K(()=>n.placement!==void 0?n.placement:b.value==="rtl"?"bottomRight":"bottomLeft"),U=K(()=>aw(L.value,Jde($.value),n.transitionName)),k=K(()=>Qe({[`${g.value}-lg`]:E.value==="large",[`${g.value}-sm`]:E.value==="small",[`${g.value}-rtl`]:b.value==="rtl",[`${g.value}-borderless`]:!n.bordered,[`${g.value}-in-form-item`]:u.isFormItemInput},wg(g.value,c.value,u.hasFeedback),R.value,F.value)),H=function(){for(var ie=arguments.length,xe=new Array(ie),J=0;J<ie;J++)xe[J]=arguments[J];r("update:value",xe[0]),r("change",...xe),l.onFieldChange()},z=ie=>{r("blur",ie),l.onFieldBlur()};s({blur:f,focus:d,scrollTo:h});const Q=K(()=>p.value==="multiple"||p.value==="tags"),Z=K(()=>n.showArrow!==void 0?n.showArrow:n.loading||!(Q.value||p.value==="combobox"));return()=>{var ie,xe,J,se;const{notFoundContent:ee,listHeight:ne=256,listItemHeight:ue=24,popupClassName:Y,dropdownClassName:le,virtual:fe,dropdownMatchSelectWidth:W,id:X=l.id.value,placeholder:V=(ie=o.placeholder)===null||ie===void 0?void 0:ie.call(o),showArrow:Se}=n,{hasFeedback:pe,feedbackIcon:_e}=u;let he;ee!==void 0?he=ee:o.notFoundContent?he=o.notFoundContent():p.value==="combobox"?he=null:he=(m==null?void 0:m("Select"))||N(jG,{componentName:"Select"},null);const{suffixIcon:ge,itemIcon:me,removeIcon:j,clearIcon:G}=dpe(O(O({},n),{multiple:Q.value,prefixCls:g.value,hasFeedback:pe,feedbackIcon:_e,showArrow:Z.value}),o),ce=Ai(n,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered","status"]),Ee=Qe(Y||le,{[`${g.value}-dropdown-${b.value}`]:b.value==="rtl"},F.value);return D(N(bhe,ve(ve(ve({ref:a,virtual:fe,dropdownMatchSelectWidth:W},ce),i),{},{showSearch:(xe=n.showSearch)!==null&&xe!==void 0?xe:(J=T==null?void 0:T.value)===null||J===void 0?void 0:J.showSearch,placeholder:V,listHeight:ne,listItemHeight:ue,mode:p.value,prefixCls:g.value,direction:b.value,inputIcon:ge,menuItemSelectedIcon:me,removeIcon:j,clearIcon:G,notFoundContent:he,class:[k.value,i.class],getPopupContainer:w==null?void 0:w.value,dropdownClassName:Ee,onChange:H,onBlur:z,id:X,dropdownRender:ce.dropdownRender||o.dropdownRender,transitionName:U.value,children:(se=o.default)===null||se===void 0?void 0:se.call(o),tagRender:n.tagRender||o.tagRender,optionLabelRender:o.optionLabel,maxTagPlaceholder:n.maxTagPlaceholder||o.maxTagPlaceholder,showArrow:pe||Se,disabled:I.value}),{option:o.option}))}}});Ds.install=function(n){return n.component(Ds.name,Ds),n.component(Ds.Option.displayName,Ds.Option),n.component(Ds.OptGroup.displayName,Ds.OptGroup),n};Ds.Option;Ds.OptGroup;var Bme={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function F$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Fme(n,o,i[o])})}return n}function Fme(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var lN=function(e,i){var r=F$({},e,i.attrs);return N(Tn,F$({},r,{icon:Bme}),null)};lN.displayName="CheckCircleOutlined";lN.inheritAttrs=!1;var $me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function $$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Ume(n,o,i[o])})}return n}function Ume(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var uN=function(e,i){var r=$$({},e,i.attrs);return N(Tn,$$({},r,{icon:$me}),null)};uN.displayName="ExclamationCircleOutlined";uN.inheritAttrs=!1;var kme={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function U$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){zme(n,o,i[o])})}return n}function zme(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var cN=function(e,i){var r=U$({},e,i.attrs);return N(Tn,U$({},r,{icon:kme}),null)};cN.displayName="InfoCircleOutlined";cN.inheritAttrs=!1;var Hme={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function k$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Gme(n,o,i[o])})}return n}function Gme(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var dN=function(e,i){var r=k$({},e,i.attrs);return N(Tn,k$({},r,{icon:Hme}),null)};dN.displayName="CloseCircleOutlined";dN.inheritAttrs=!1;var Vme={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function z$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Wme(n,o,i[o])})}return n}function Wme(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var $1=function(e,i){var r=z$({},e,i.attrs);return N(Tn,z$({},r,{icon:Vme}),null)};$1.displayName="CheckCircleFilled";$1.inheritAttrs=!1;var jme={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};function H$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Kme(n,o,i[o])})}return n}function Kme(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var fN=function(e,i){var r=H$({},e,i.attrs);return N(Tn,H$({},r,{icon:jme}),null)};fN.displayName="ExclamationCircleFilled";fN.inheritAttrs=!1;var qme={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};function G$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Xme(n,o,i[o])})}return n}function Xme(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var hN=function(e,i){var r=G$({},e,i.attrs);return N(Tn,G$({},r,{icon:qme}),null)};hN.displayName="InfoCircleFilled";hN.inheritAttrs=!1;const gx=(n,e,i,r,o)=>({backgroundColor:n,border:`${r.lineWidth}px ${r.lineType} ${e}`,[`${o}-icon`]:{color:i}}),Yme=n=>{const{componentCls:e,motionDurationSlow:i,marginXS:r,marginSM:o,fontSize:s,fontSizeLG:a,lineHeight:l,borderRadiusLG:u,motionEaseInOutCirc:c,alertIconSizeLG:d,colorText:f,paddingContentVerticalSM:h,alertPaddingHorizontal:p,paddingMD:g,paddingContentHorizontalLG:b}=n;return{[e]:O(O({},di(n)),{position:"relative",display:"flex",alignItems:"center",padding:`${h}px ${p}px`,wordWrap:"break-word",borderRadius:u,[`&${e}-rtl`]:{direction:"rtl"},[`${e}-content`]:{flex:1,minWidth:0},[`${e}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:s,lineHeight:l},"&-message":{color:f},[`&${e}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${i} ${c}, opacity ${i} ${c},
        padding-top ${i} ${c}, padding-bottom ${i} ${c},
        margin-bottom ${i} ${c}`},[`&${e}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${e}-with-description`]:{alignItems:"flex-start",paddingInline:b,paddingBlock:g,[`${e}-icon`]:{marginInlineEnd:o,fontSize:d,lineHeight:0},[`${e}-message`]:{display:"block",marginBottom:r,color:f,fontSize:a},[`${e}-description`]:{display:"block"}},[`${e}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Qme=n=>{const{componentCls:e,colorSuccess:i,colorSuccessBorder:r,colorSuccessBg:o,colorWarning:s,colorWarningBorder:a,colorWarningBg:l,colorError:u,colorErrorBorder:c,colorErrorBg:d,colorInfo:f,colorInfoBorder:h,colorInfoBg:p}=n;return{[e]:{"&-success":gx(o,r,i,n,e),"&-info":gx(p,h,f,n,e),"&-warning":gx(l,a,s,n,e),"&-error":O(O({},gx(d,c,u,n,e)),{[`${e}-description > pre`]:{margin:0,padding:0}})}}},Zme=n=>{const{componentCls:e,iconCls:i,motionDurationMid:r,marginXS:o,fontSizeIcon:s,colorIcon:a,colorIconHover:l}=n;return{[e]:{"&-action":{marginInlineStart:o},[`${e}-close-icon`]:{marginInlineStart:o,padding:0,overflow:"hidden",fontSize:s,lineHeight:`${s}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${i}-close`]:{color:a,transition:`color ${r}`,"&:hover":{color:l}}},"&-close-text":{color:a,transition:`color ${r}`,"&:hover":{color:l}}}}},Jme=n=>[Yme(n),Qme(n),Zme(n)],eve=Bi("Alert",n=>{const{fontSizeHeading3:e}=n,i=On(n,{alertIconSizeLG:e,alertPaddingHorizontal:12});return[Jme(i)]}),tve={success:$1,info:hN,error:kh,warning:fN},nve={success:lN,info:cN,error:dN,warning:uN},ive=vh("success","info","warning","error"),rve=()=>({type:be.oneOf(ive),closable:{type:Boolean,default:void 0},closeText:be.any,message:be.any,description:be.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:be.any,closeIcon:be.any,onClose:Function}),ove=je({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:rve(),setup(n,e){let{slots:i,emit:r,attrs:o,expose:s}=e;const{prefixCls:a,direction:l}=tn("alert",n),[u,c]=eve(a),d=Oe(!1),f=Oe(!1),h=Oe(),p=m=>{m.preventDefault();const _=h.value;_.style.height=`${_.offsetHeight}px`,_.style.height=`${_.offsetHeight}px`,d.value=!0,r("close",m)},g=()=>{var m;d.value=!1,f.value=!0,(m=n.afterClose)===null||m===void 0||m.call(n)},b=K(()=>{const{type:m}=n;return m!==void 0?m:n.banner?"warning":"info"});s({animationEnd:g});const y=Oe({});return()=>{var m,_,S,w,A,T,C,R,E,P;const{banner:I,closeIcon:D=(m=i.closeIcon)===null||m===void 0?void 0:m.call(i)}=n;let{closable:F,showIcon:L}=n;const $=(_=n.closeText)!==null&&_!==void 0?_:(S=i.closeText)===null||S===void 0?void 0:S.call(i),U=(w=n.description)!==null&&w!==void 0?w:(A=i.description)===null||A===void 0?void 0:A.call(i),k=(T=n.message)!==null&&T!==void 0?T:(C=i.message)===null||C===void 0?void 0:C.call(i),H=(R=n.icon)!==null&&R!==void 0?R:(E=i.icon)===null||E===void 0?void 0:E.call(i),z=(P=i.action)===null||P===void 0?void 0:P.call(i);L=I&&L===void 0?!0:L;const Q=(U?nve:tve)[b.value]||null;$&&(F=!0);const Z=a.value,ie=Qe(Z,{[`${Z}-${b.value}`]:!0,[`${Z}-closing`]:d.value,[`${Z}-with-description`]:!!U,[`${Z}-no-icon`]:!L,[`${Z}-banner`]:!!I,[`${Z}-closable`]:F,[`${Z}-rtl`]:l.value==="rtl",[c.value]:!0}),xe=F?N("button",{type:"button",onClick:p,class:`${Z}-close-icon`,tabindex:0},[$?N("span",{class:`${Z}-close-text`},[$]):D===void 0?N(qd,null,null):D]):null,J=H&&(mo(H)?Oi(H,{class:`${Z}-icon`}):N("span",{class:`${Z}-icon`},[H]))||N(Q,{class:`${Z}-icon`},null),se=Kg(`${Z}-motion`,{appear:!1,css:!0,onAfterLeave:g,onBeforeLeave:ee=>{ee.style.maxHeight=`${ee.offsetHeight}px`},onLeave:ee=>{ee.style.maxHeight="0px"}});return u(f.value?null:N(nl,se,{default:()=>[Ro(N("div",ve(ve({role:"alert"},o),{},{style:[o.style,y.value],class:[o.class,ie],"data-show":!d.value,ref:h}),[L?J:null,N("div",{class:`${Z}-content`},[k?N("div",{class:`${Z}-message`},[k]):null,U?N("div",{class:`${Z}-description`},[U]):null]),z?N("div",{class:`${Z}-action`},[z]):null,xe]),[[Jo,!d.value]])]}))}}}),sve=jd(ove),ave=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`,xxxl:`{min-width: ${n.screenXXXL}px}`});function lve(){const[,n]=z0();return K(()=>{const e=ave(n.value),i=new Map;let r=-1,o={};return{matchHandlers:{},dispatch(s){return o=s,i.forEach(a=>a(o)),i.size>=1},subscribe(s){return i.size||this.register(),r+=1,i.set(r,s),s(o),r},unsubscribe(s){i.delete(s),i.size||this.unregister()},unregister(){Object.keys(e).forEach(s=>{const a=e[s],l=this.matchHandlers[a];l==null||l.mql.removeListener(l==null?void 0:l.listener)}),i.clear()},register(){Object.keys(e).forEach(s=>{const a=e[s],l=c=>{let{matches:d}=c;this.dispatch(O(O({},o),{[s]:d}))},u=window.matchMedia(a);u.addListener(l),this.matchHandlers[a]={mql:u,listener:l},l(u)})},responsiveMap:e}})}function dW(){const n=Oe({});let e=null;const i=lve();return en(()=>{e=i.value.subscribe(r=>{n.value=r})}),al(()=>{i.value.unsubscribe(e)}),n}function ka(n){const e=Oe();return ln(()=>{e.value=n()},{flush:"sync"}),e}const ea={adjustX:1,adjustY:1},ta=[0,0],fW={left:{points:["cr","cl"],overflow:ea,offset:[-4,0],targetOffset:ta},right:{points:["cl","cr"],overflow:ea,offset:[4,0],targetOffset:ta},top:{points:["bc","tc"],overflow:ea,offset:[0,-4],targetOffset:ta},bottom:{points:["tc","bc"],overflow:ea,offset:[0,4],targetOffset:ta},topLeft:{points:["bl","tl"],overflow:ea,offset:[0,-4],targetOffset:ta},leftTop:{points:["tr","tl"],overflow:ea,offset:[-4,0],targetOffset:ta},topRight:{points:["br","tr"],overflow:ea,offset:[0,-4],targetOffset:ta},rightTop:{points:["tl","tr"],overflow:ea,offset:[4,0],targetOffset:ta},bottomRight:{points:["tr","br"],overflow:ea,offset:[0,4],targetOffset:ta},rightBottom:{points:["bl","br"],overflow:ea,offset:[4,0],targetOffset:ta},bottomLeft:{points:["tl","bl"],overflow:ea,offset:[0,4],targetOffset:ta},leftBottom:{points:["br","bl"],overflow:ea,offset:[-4,0],targetOffset:ta}},uve={prefixCls:String,id:String,overlayInnerStyle:be.any},cve=je({compatConfig:{MODE:3},name:"TooltipContent",props:uve,setup(n,e){let{slots:i}=e;return()=>{var r;return N("div",{class:`${n.prefixCls}-inner`,id:n.id,role:"tooltip",style:n.overlayInnerStyle},[(r=i.overlay)===null||r===void 0?void 0:r.call(i)])}}});var dve=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function V$(){}const fve=je({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:be.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:be.string.def("right"),transitionName:String,animation:be.any,afterVisibleChange:be.func.def(()=>{}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:be.string.def("rc-tooltip"),mouseEnterDelay:be.number.def(.1),mouseLeaveDelay:be.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:be.object.def(()=>({})),arrowContent:be.any.def(null),tipId:String,builtinPlacements:be.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function,arrow:{type:Boolean,default:!0}},setup(n,e){let{slots:i,attrs:r,expose:o}=e;const s=Oe(),a=()=>{const{prefixCls:d,tipId:f,overlayInnerStyle:h}=n;return[n.arrow?N("div",{class:`${d}-arrow`,key:"arrow"},[ha(i,n,"arrowContent")]):null,N(cve,{key:"content",prefixCls:d,id:f,overlayInnerStyle:h},{overlay:i.overlay})]};o({getPopupDomNode:()=>s.value.getPopupDomNode(),triggerDOM:s,forcePopupAlign:()=>{var d;return(d=s.value)===null||d===void 0?void 0:d.forcePopupAlign()}});const u=Oe(!1),c=Oe(!1);return ln(()=>{const{destroyTooltipOnHide:d}=n;if(typeof d=="boolean")u.value=d;else if(d&&typeof d=="object"){const{keepParent:f}=d;u.value=f===!0,c.value=f===!1}}),()=>{const{overlayClassName:d,trigger:f,mouseEnterDelay:h,mouseLeaveDelay:p,overlayStyle:g,prefixCls:b,afterVisibleChange:y,transitionName:m,animation:_,placement:S,align:w,destroyTooltipOnHide:A,defaultVisible:T}=n,C=dve(n,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"]),R=O({},C);n.visible!==void 0&&(R.popupVisible=n.visible);const E=O(O(O({popupClassName:d,prefixCls:b,action:f,builtinPlacements:fW,popupPlacement:S,popupAlign:w,afterPopupVisibleChange:y,popupTransitionName:m,popupAnimation:_,defaultPopupVisible:T,destroyPopupOnHide:u.value,autoDestroy:c.value,mouseLeaveDelay:p,popupStyle:g,mouseEnterDelay:h},R),r),{onPopupVisibleChange:n.onVisibleChange||V$,onPopupAlign:n.onPopupAlign||V$,ref:s,arrow:!!n.arrow,popup:a()});return N(P1,E,{default:i.default})}}}),hve=()=>({trigger:[String,Array],open:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:vn(),overlayInnerStyle:vn(),overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},arrow:{type:[Boolean,Object],default:!0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:vn(),builtinPlacements:vn(),children:Array,onVisibleChange:Function,"onUpdate:visible":Function,onOpenChange:Function,"onUpdate:open":Function}),pve={adjustX:1,adjustY:1},W$={adjustX:0,adjustY:0},gve=[0,0];function j$(n){return typeof n=="boolean"?n?pve:W$:O(O({},W$),n)}function hW(n){const{arrowWidth:e=4,horizontalArrowShift:i=16,verticalArrowShift:r=8,autoAdjustOverflow:o,arrowPointAtCenter:s}=n,a={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+e),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(r+e)]},topRight:{points:["br","tc"],offset:[i+e,-4]},rightTop:{points:["tl","cr"],offset:[4,-(r+e)]},bottomRight:{points:["tr","bc"],offset:[i+e,4]},rightBottom:{points:["bl","cr"],offset:[4,r+e]},bottomLeft:{points:["tl","bc"],offset:[-(i+e),4]},leftBottom:{points:["br","cl"],offset:[-4,r+e]}};return Object.keys(a).forEach(l=>{a[l]=s?O(O({},a[l]),{overflow:j$(o),targetOffset:gve}):O(O({},fW[l]),{overflow:j$(o)}),a[l].ignoreShake=!0}),a}function X2(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(let e=0,i=n.length;e<i;e++)if(n[e]!==void 0)return n[e]}const mve=iw.map(n=>`${n}-inverse`),vve=["success","processing","error","default","warning"];function pW(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[...mve,...iw].includes(n):iw.includes(n)}function yve(n){return vve.includes(n)}function bve(n,e){const i=pW(e),r=Qe({[`${n}-${e}`]:e&&i}),o={},s={};return e&&!i&&(o.background=e,s["--antd-arrow-background-color"]=e),{className:r,overlayStyle:o,arrowStyle:s}}function mx(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return n.map(i=>`${e}${i}`).join(",")}const gW=8;function mW(n){const e=gW,{sizePopupArrow:i,contentRadius:r,borderRadiusOuter:o,limitVerticalRadius:s}=n,a=i/2-Math.ceil(o*(Math.sqrt(2)-1)),l=(r>12?r+2:12)-a,u=s?e-a:l;return{dropdownArrowOffset:l,dropdownArrowOffsetVertical:u}}function xve(n,e){const{componentCls:i,sizePopupArrow:r,marginXXS:o,borderRadiusXS:s,borderRadiusOuter:a,boxShadowPopoverArrow:l}=n,{colorBg:u,showArrowCls:c,contentRadius:d=n.borderRadiusLG,limitVerticalRadius:f}=e,{dropdownArrowOffsetVertical:h,dropdownArrowOffset:p}=mW({sizePopupArrow:r,contentRadius:d,borderRadiusOuter:a,limitVerticalRadius:f}),g=r/2+o;return{[i]:{[`${i}-arrow`]:[O(O({position:"absolute",zIndex:1,display:"block"},HG(r,s,a,u,l)),{"&:before":{background:u}})],[[`&-placement-top ${i}-arrow`,`&-placement-topLeft ${i}-arrow`,`&-placement-topRight ${i}-arrow`].join(",")]:{bottom:0,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${i}-arrow`]:{left:{_skip_check_:!0,value:p}},[`&-placement-topRight ${i}-arrow`]:{right:{_skip_check_:!0,value:p}},[[`&-placement-bottom ${i}-arrow`,`&-placement-bottomLeft ${i}-arrow`,`&-placement-bottomRight ${i}-arrow`].join(",")]:{top:0,transform:"translateY(-100%)"},[`&-placement-bottom ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${i}-arrow`]:{left:{_skip_check_:!0,value:p}},[`&-placement-bottomRight ${i}-arrow`]:{right:{_skip_check_:!0,value:p}},[[`&-placement-left ${i}-arrow`,`&-placement-leftTop ${i}-arrow`,`&-placement-leftBottom ${i}-arrow`].join(",")]:{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${i}-arrow`]:{top:h},[`&-placement-leftBottom ${i}-arrow`]:{bottom:h},[[`&-placement-right ${i}-arrow`,`&-placement-rightTop ${i}-arrow`,`&-placement-rightBottom ${i}-arrow`].join(",")]:{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${i}-arrow`]:{top:h},[`&-placement-rightBottom ${i}-arrow`]:{bottom:h},[mx(["&-placement-topLeft","&-placement-top","&-placement-topRight"].map(b=>b+=":not(&-arrow-hidden)"),c)]:{paddingBottom:g},[mx(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"].map(b=>b+=":not(&-arrow-hidden)"),c)]:{paddingTop:g},[mx(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"].map(b=>b+=":not(&-arrow-hidden)"),c)]:{paddingRight:{_skip_check_:!0,value:g}},[mx(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"].map(b=>b+=":not(&-arrow-hidden)"),c)]:{paddingLeft:{_skip_check_:!0,value:g}}}}}const _ve=n=>{const{componentCls:e,tooltipMaxWidth:i,tooltipColor:r,tooltipBg:o,tooltipBorderRadius:s,zIndexPopup:a,controlHeight:l,boxShadowSecondary:u,paddingSM:c,paddingXS:d,tooltipRadiusOuter:f}=n;return[{[e]:O(O(O(O({},di(n)),{position:"absolute",zIndex:a,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:i,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${e}-inner`]:{minWidth:l,minHeight:l,padding:`${c/2}px ${d}px`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:s,boxShadow:u},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(s,gW)}},[`${e}-content`]:{position:"relative"}}),GG(n,(h,p)=>{let{darkColor:g}=p;return{[`&${e}-${h}`]:{[`${e}-inner`]:{backgroundColor:g},[`${e}-arrow`]:{"--antd-arrow-background-color":g}}}})),{"&-rtl":{direction:"rtl"}})},xve(On(n,{borderRadiusOuter:f}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:s,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none"}}]},Sve=(n,e)=>Bi("Tooltip",r=>{if((e==null?void 0:e.value)===!1)return[];const{borderRadius:o,colorTextLightSolid:s,colorBgDefault:a,borderRadiusOuter:l}=r,u=On(r,{tooltipMaxWidth:250,tooltipColor:s,tooltipBorderRadius:o,tooltipBg:a,tooltipRadiusOuter:l>4?4:l});return[_ve(u),rN(r,"zoom-big-fast")]},r=>{let{zIndexPopupBase:o,colorBgSpotlight:s}=r;return{zIndexPopup:o+70,colorBgDefault:s}})(n),wve=(n,e)=>{const i={},r=O({},n);return e.forEach(o=>{n&&o in n&&(i[o]=n[o],delete r[o])}),{picked:i,omitted:r}},Cve=()=>O(O({},hve()),{title:be.any}),Ave=je({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:fi(Cve(),{trigger:"hover",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:Object,setup(n,e){let{slots:i,emit:r,attrs:o,expose:s}=e;const{prefixCls:a,getPopupContainer:l,direction:u,rootPrefixCls:c}=tn("tooltip",n),d=K(()=>{var P;return(P=n.open)!==null&&P!==void 0?P:n.visible}),f=Ge(X2([n.open,n.visible])),h=Ge();let p;ct(d,P=>{xn.cancel(p),p=xn(()=>{f.value=!!P})});const g=()=>{var P;const I=(P=n.title)!==null&&P!==void 0?P:i.title;return!I&&I!==0},b=P=>{const I=g();d.value===void 0&&(f.value=I?!1:P),I||(r("update:visible",P),r("visibleChange",P),r("update:open",P),r("openChange",P))};s({getPopupDomNode:()=>h.value.getPopupDomNode(),open:f,forcePopupAlign:()=>{var P;return(P=h.value)===null||P===void 0?void 0:P.forcePopupAlign()}});const m=K(()=>{var P;const{builtinPlacements:I,autoAdjustOverflow:D,arrow:F,arrowPointAtCenter:L}=n;let $=L;return typeof F=="object"&&($=(P=F.pointAtCenter)!==null&&P!==void 0?P:L),I||hW({arrowPointAtCenter:$,autoAdjustOverflow:D})}),_=P=>P||P==="",S=P=>{const I=P.type;if(typeof I=="object"&&P.props&&((I.__ANT_BUTTON===!0||I==="button")&&_(P.props.disabled)||I.__ANT_SWITCH===!0&&(_(P.props.disabled)||_(P.props.loading))||I.__ANT_RADIO===!0&&_(P.props.disabled))){const{picked:D,omitted:F}=wve(yse(P),["position","left","right","top","bottom","float","display","zIndex"]),L=O(O({display:"inline-block"},D),{cursor:"not-allowed",lineHeight:1,width:P.props&&P.props.block?"100%":void 0}),$=O(O({},F),{pointerEvents:"none"}),U=Oi(P,{style:$},!0);return N("span",{style:L,class:`${a.value}-disabled-compatible-wrapper`},[U])}return P},w=()=>{var P,I;return(P=n.title)!==null&&P!==void 0?P:(I=i.title)===null||I===void 0?void 0:I.call(i)},A=(P,I)=>{const D=m.value,F=Object.keys(D).find(L=>{var $,U;return D[L].points[0]===(($=I.points)===null||$===void 0?void 0:$[0])&&D[L].points[1]===((U=I.points)===null||U===void 0?void 0:U[1])});if(F){const L=P.getBoundingClientRect(),$={top:"50%",left:"50%"};F.indexOf("top")>=0||F.indexOf("Bottom")>=0?$.top=`${L.height-I.offset[1]}px`:(F.indexOf("Top")>=0||F.indexOf("bottom")>=0)&&($.top=`${-I.offset[1]}px`),F.indexOf("left")>=0||F.indexOf("Right")>=0?$.left=`${L.width-I.offset[0]}px`:(F.indexOf("right")>=0||F.indexOf("Left")>=0)&&($.left=`${-I.offset[0]}px`),P.style.transformOrigin=`${$.left} ${$.top}`}},T=K(()=>bve(a.value,n.color)),C=K(()=>o["data-popover-inject"]),[R,E]=Sve(a,K(()=>!C.value));return()=>{var P,I;const{openClassName:D,overlayClassName:F,overlayStyle:L,overlayInnerStyle:$}=n;let U=(I=Fo((P=i.default)===null||P===void 0?void 0:P.call(i)))!==null&&I!==void 0?I:null;U=U.length===1?U[0]:U;let k=f.value;if(d.value===void 0&&g()&&(k=!1),!U)return null;const H=S(mo(U)&&!bse(U)?U:N("span",null,[U])),z=Qe({[D||`${a.value}-open`]:!0,[H.props&&H.props.class]:H.props&&H.props.class}),Q=Qe(F,{[`${a.value}-rtl`]:u.value==="rtl"},T.value.className,E.value),Z=O(O({},T.value.overlayStyle),$),ie=T.value.arrowStyle,xe=O(O(O({},o),n),{prefixCls:a.value,arrow:!!n.arrow,getPopupContainer:l==null?void 0:l.value,builtinPlacements:m.value,visible:k,ref:h,overlayClassName:Q,overlayStyle:O(O({},ie),L),overlayInnerStyle:Z,onVisibleChange:b,onPopupAlign:A,transitionName:aw(c.value,"zoom-big-fast",n.transitionName)});return R(N(fve,xe,{default:()=>[f.value?Oi(H,{class:z}):H],arrowContent:()=>N("span",{class:`${a.value}-arrow-content`},null),overlay:w}))}}}),U1=jd(Ave),K$=n=>!isNaN(parseFloat(n))&&isFinite(n),lp={adjustX:1,adjustY:1},up=[0,0],Tve={topLeft:{points:["bl","tl"],overflow:lp,offset:[0,-4],targetOffset:up},topCenter:{points:["bc","tc"],overflow:lp,offset:[0,-4],targetOffset:up},topRight:{points:["br","tr"],overflow:lp,offset:[0,-4],targetOffset:up},bottomLeft:{points:["tl","bl"],overflow:lp,offset:[0,4],targetOffset:up},bottomCenter:{points:["tc","bc"],overflow:lp,offset:[0,4],targetOffset:up},bottomRight:{points:["tr","br"],overflow:lp,offset:[0,4],targetOffset:up}};var Eve=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const vW=je({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:be.string.def("rc-dropdown"),transitionName:String,overlayClassName:be.string.def(""),openClassName:String,animation:be.any,align:be.object,overlayStyle:{type:Object,default:void 0},placement:be.string.def("bottomLeft"),overlay:be.any,trigger:be.oneOfType([be.string,be.arrayOf(be.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:be.array,hideAction:be.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:be.number.def(.15),mouseLeaveDelay:be.number.def(.1)},emits:["visibleChange","overlayClick"],setup(n,e){let{slots:i,emit:r,expose:o}=e;const s=Ge(!!n.visible);ct(()=>n.visible,p=>{p!==void 0&&(s.value=p)});const a=Ge();o({triggerRef:a});const l=p=>{n.visible===void 0&&(s.value=!1),r("overlayClick",p)},u=p=>{n.visible===void 0&&(s.value=p),r("visibleChange",p)},c=()=>{var p;const g=(p=i.overlay)===null||p===void 0?void 0:p.call(i),b={prefixCls:`${n.prefixCls}-menu`,onClick:l};return N(mn,{key:cG},[n.arrow&&N("div",{class:`${n.prefixCls}-arrow`},null),Oi(g,b,!1)])},d=K(()=>{const{minOverlayWidthMatchTrigger:p=!n.alignPoint}=n;return p}),f=()=>{var p;const g=(p=i.default)===null||p===void 0?void 0:p.call(i);return s.value&&g?Oi(g[0],{class:n.openClassName||`${n.prefixCls}-open`},!1):g},h=K(()=>!n.hideAction&&n.trigger.indexOf("contextmenu")!==-1?["click"]:n.hideAction);return()=>{const{prefixCls:p,arrow:g,showAction:b,overlayStyle:y,trigger:m,placement:_,align:S,getPopupContainer:w,transitionName:A,animation:T,overlayClassName:C}=n,R=Eve(n,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return N(P1,ve(ve({},R),{},{prefixCls:p,ref:a,popupClassName:Qe(C,{[`${p}-show-arrow`]:g}),popupStyle:y,builtinPlacements:Tve,action:m,showAction:b,hideAction:h.value||[],popupPlacement:_,popupAlign:S,popupTransitionName:A,popupAnimation:T,popupVisible:s.value,stretch:d.value?"minWidth":"",onPopupVisibleChange:u,getPopupContainer:w}),{popup:c,default:f})}}}),Mve=n=>{const{componentCls:e,colorPrimary:i}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${i})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},Rve=Bi("Wave",n=>[Mve(n)]);function Pve(n){const e=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function AT(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&Pve(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function Ive(n){const{borderTopColor:e,borderColor:i,backgroundColor:r}=getComputedStyle(n);return AT(e)?e:AT(i)?i:AT(r)?r:null}function TT(n){return Number.isNaN(n)?0:n}const Nve=je({props:{target:vn(),className:String},setup(n){const e=Oe(null),[i,r]=Wn(null),[o,s]=Wn([]),[a,l]=Wn(0),[u,c]=Wn(0),[d,f]=Wn(0),[h,p]=Wn(0),[g,b]=Wn(!1);function y(){const{target:C}=n,R=getComputedStyle(C);r(Ive(C));const E=R.position==="static",{borderLeftWidth:P,borderTopWidth:I}=R;l(E?C.offsetLeft:TT(-parseFloat(P))),c(E?C.offsetTop:TT(-parseFloat(I))),f(C.offsetWidth),p(C.offsetHeight);const{borderTopLeftRadius:D,borderTopRightRadius:F,borderBottomLeftRadius:L,borderBottomRightRadius:$}=R;s([D,F,$,L].map(U=>TT(parseFloat(U))))}let m,_,S;const w=()=>{clearTimeout(S),xn.cancel(_),m==null||m.disconnect()},A=()=>{var C;const R=(C=e.value)===null||C===void 0?void 0:C.parentElement;R&&(A2(null,R),R.parentElement&&R.parentElement.removeChild(R))};en(()=>{w(),S=setTimeout(()=>{A()},5e3);const{target:C}=n;C&&(_=xn(()=>{y(),b(!0)}),typeof ResizeObserver<"u"&&(m=new ResizeObserver(y),m.observe(C)))}),Pn(()=>{w()});const T=C=>{C.propertyName==="opacity"&&A()};return()=>{if(!g.value)return null;const C={left:`${a.value}px`,top:`${u.value}px`,width:`${d.value}px`,height:`${h.value}px`,borderRadius:o.value.map(R=>`${R}px`).join(" ")};return i&&(C["--wave-color"]=i.value),N(nl,{appear:!0,name:"wave-motion",appearFromClass:"wave-motion-appear",appearActiveClass:"wave-motion-appear",appearToClass:"wave-motion-appear wave-motion-appear-active"},{default:()=>[N("div",{ref:e,class:n.className,style:C,onTransitionend:T},null)]})}}});function Ove(n,e){const i=document.createElement("div");return i.style.position="absolute",i.style.left="0px",i.style.top="0px",n==null||n.insertBefore(i,n==null?void 0:n.firstChild),A2(N(Nve,{target:n,className:e},null),i),()=>{A2(null,i),i.parentElement&&i.parentElement.removeChild(i)}}function Dve(n,e){const i=hs();let r;function o(){var s;const a=Ku(i);r==null||r(),!(!((s=e==null?void 0:e.value)===null||s===void 0)&&s.disabled||!a)&&(r=Ove(a,n.value))}return Pn(()=>{r==null||r()}),o}const pN=je({compatConfig:{MODE:3},name:"Wave",props:{disabled:Boolean},setup(n,e){let{slots:i}=e;const r=hs(),{prefixCls:o,wave:s}=tn("wave",n),[,a]=Rve(o),l=Dve(K(()=>Qe(o.value,a.value)),s);let u;const c=()=>{Ku(r).removeEventListener("click",u,!0)};return en(()=>{ct(()=>n.disabled,()=>{c(),kn(()=>{const d=Ku(r);d==null||d.removeEventListener("click",u,!0),!(!d||d.nodeType!==1||n.disabled)&&(u=f=>{f.target.tagName==="INPUT"||!OI(f.target)||!d.getAttribute||d.getAttribute("disabled")||d.disabled||d.className.includes("disabled")||d.className.includes("-leave")||l()},d.addEventListener("click",u,!0))})},{immediate:!0,flush:"post"})}),Pn(()=>{c()}),()=>{var d;return(d=i.default)===null||d===void 0?void 0:d.call(i)[0]}}}),yW=()=>({prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:be.any,href:String,target:String,title:String,onClick:zg(),onMousedown:zg()}),q$=n=>{n&&(n.style.width="0px",n.style.opacity="0",n.style.transform="scale(0)")},X$=n=>{kn(()=>{n&&(n.style.width=`${n.scrollWidth}px`,n.style.opacity="1",n.style.transform="scale(1)")})},Y$=n=>{n&&n.style&&(n.style.width=null,n.style.opacity=null,n.style.transform=null)},Lve=je({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup(n){return()=>{const{existIcon:e,prefixCls:i,loading:r}=n;if(e)return N("span",{class:`${i}-loading-icon`},[N(zl,null,null)]);const o=!!r;return N(nl,{name:`${i}-loading-icon-motion`,onBeforeEnter:q$,onEnter:X$,onAfterEnter:Y$,onBeforeLeave:X$,onLeave:s=>{setTimeout(()=>{q$(s)})},onAfterLeave:Y$},{default:()=>[o?N("span",{class:`${i}-loading-icon`},[N(zl,null,null)]):null]})}}}),Q$=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),Bve=n=>{const{componentCls:e,fontSize:i,lineWidth:r,colorPrimaryHover:o,colorErrorHover:s}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:i}},Q$(`${e}-primary`,o),Q$(`${e}-danger`,s)]}};function Fve(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-n.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function $ve(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Uve(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:O(O({},Fve(n,e)),$ve(n.componentCls,e))}}const kve=n=>{const{componentCls:e,iconCls:i}=n;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:n.lineHeight,color:n.colorText,"> span":{display:"inline-block"},[`> ${i} + span, > span + ${i}`]:{marginInlineStart:n.marginXS},"> a":{color:"currentColor"},"&:not(:disabled)":O({},yh(n)),[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:n.lineWidth,height:`calc(100% + ${n.lineWidth*2}px)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:`calc(100% + ${n.lineWidth*2}px)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},fc=(n,e)=>({"&:not(:disabled)":{"&:hover":n,"&:active":e}}),zve=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Hve=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.controlHeight/2,paddingInlineEnd:n.controlHeight/2}),Y2=n=>({cursor:"not-allowed",borderColor:n.colorBorder,color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,boxShadow:"none"}),dw=(n,e,i,r,o,s,a)=>({[`&${n}-background-ghost`]:O(O({color:e||void 0,backgroundColor:"transparent",borderColor:i||void 0,boxShadow:"none"},fc(O({backgroundColor:"transparent"},s),O({backgroundColor:"transparent"},a))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:o||void 0}})}),gN=n=>({"&:disabled":O({},Y2(n))}),bW=n=>O({},gN(n)),fw=n=>({"&:disabled":{cursor:"not-allowed",color:n.colorTextDisabled}}),xW=n=>O(O(O(O(O({},bW(n)),{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`}),fc({color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),dw(n.componentCls,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)),{[`&${n.componentCls}-dangerous`]:O(O(O({color:n.colorError,borderColor:n.colorError},fc({color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),dw(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder)),gN(n))}),Gve=n=>O(O(O(O(O({},bW(n)),{color:n.colorTextLightSolid,backgroundColor:n.colorPrimary,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`}),fc({color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryHover},{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryActive})),dw(n.componentCls,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),{[`&${n.componentCls}-dangerous`]:O(O(O({backgroundColor:n.colorError,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`},fc({backgroundColor:n.colorErrorHover},{backgroundColor:n.colorErrorActive})),dw(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),gN(n))}),Vve=n=>O(O({},xW(n)),{borderStyle:"dashed"}),Wve=n=>O(O(O({color:n.colorLink},fc({color:n.colorLinkHover},{color:n.colorLinkActive})),fw(n)),{[`&${n.componentCls}-dangerous`]:O(O({color:n.colorError},fc({color:n.colorErrorHover},{color:n.colorErrorActive})),fw(n))}),jve=n=>O(O(O({},fc({color:n.colorText,backgroundColor:n.colorBgTextHover},{color:n.colorText,backgroundColor:n.colorBgTextActive})),fw(n)),{[`&${n.componentCls}-dangerous`]:O(O({color:n.colorError},fw(n)),fc({color:n.colorErrorHover,backgroundColor:n.colorErrorBg},{color:n.colorErrorHover,backgroundColor:n.colorErrorBg}))}),Kve=n=>O(O({},Y2(n)),{[`&${n.componentCls}:hover`]:O({},Y2(n))}),qve=n=>{const{componentCls:e}=n;return{[`${e}-default`]:xW(n),[`${e}-primary`]:Gve(n),[`${e}-dashed`]:Vve(n),[`${e}-link`]:Wve(n),[`${e}-text`]:jve(n),[`${e}-disabled`]:Kve(n)}},mN=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:i,iconCls:r,controlHeight:o,fontSize:s,lineHeight:a,lineWidth:l,borderRadius:u,buttonPaddingHorizontal:c}=n,d=Math.max(0,(o-s*a)/2-l),f=c-l,h=`${i}-icon-only`;return[{[`${i}${e}`]:{fontSize:s,height:o,padding:`${d}px ${f}px`,borderRadius:u,[`&${h}`]:{width:o,paddingInlineStart:0,paddingInlineEnd:0,[`&${i}-round`]:{width:"auto"},"> span":{transform:"scale(1.143)"}},[`&${i}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${i}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`},[`&:not(${h}) ${i}-loading-icon > ${r}`]:{marginInlineEnd:n.marginXS}}},{[`${i}${i}-circle${e}`]:zve(n)},{[`${i}${i}-round${e}`]:Hve(n)}]},Xve=n=>mN(n),Yve=n=>{const e=On(n,{controlHeight:n.controlHeightSM,padding:n.paddingXS,buttonPaddingHorizontal:8,borderRadius:n.borderRadiusSM});return mN(e,`${n.componentCls}-sm`)},Qve=n=>{const e=On(n,{controlHeight:n.controlHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG});return mN(e,`${n.componentCls}-lg`)},Zve=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},Jve=Bi("Button",n=>{const{controlTmpOutline:e,paddingContentHorizontal:i}=n,r=On(n,{colorOutlineDefault:e,buttonPaddingHorizontal:i});return[kve(r),Yve(r),Xve(r),Qve(r),Zve(r),qve(r),Bve(r),sN(n,{focus:!1}),Uve(n)]}),eye=()=>({prefixCls:String,size:{type:String}}),_W=KI(),Q2=je({compatConfig:{MODE:3},name:"AButtonGroup",props:eye(),setup(n,e){let{slots:i}=e;const{prefixCls:r,direction:o}=tn("btn-group",n),[,,s]=z0();_W.useProvide(Ki({size:K(()=>n.size)}));const a=K(()=>{const{size:l}=n;let u="";switch(l){case"large":u="lg";break;case"small":u="sm";break;case"middle":case void 0:break;default:gi(!l,"Button.Group","Invalid prop `size`.")}return{[`${r.value}`]:!0,[`${r.value}-${u}`]:u,[`${r.value}-rtl`]:o.value==="rtl",[s.value]:!0}});return()=>{var l;return N("div",{class:a.value},[ir((l=i.default)===null||l===void 0?void 0:l.call(i))])}}}),Z$=/^[\u4e00-\u9fa5]{2}$/,J$=Z$.test.bind(Z$);function vx(n){return n==="text"||n==="link"}const Us=je({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:fi(yW(),{type:"default"}),slots:Object,setup(n,e){let{slots:i,attrs:r,emit:o,expose:s}=e;const{prefixCls:a,autoInsertSpaceInButton:l,direction:u,size:c}=tn("btn",n),[d,f]=Jve(a),h=_W.useInject(),p=Bl(),g=K(()=>{var $;return($=n.disabled)!==null&&$!==void 0?$:p.value}),b=Oe(null),y=Oe(void 0);let m=!1;const _=Oe(!1),S=Oe(!1),w=K(()=>l.value!==!1),{compactSize:A,compactItemClassnames:T}=ZI(a,u),C=K(()=>typeof n.loading=="object"&&n.loading.delay?n.loading.delay||!0:!!n.loading);ct(C,$=>{clearTimeout(y.value),typeof C.value=="number"?y.value=setTimeout(()=>{_.value=$},C.value):_.value=$},{immediate:!0});const R=K(()=>{const{type:$,shape:U="default",ghost:k,block:H,danger:z}=n,Q=a.value,Z={large:"lg",small:"sm",middle:void 0},ie=A.value||(h==null?void 0:h.size)||c.value,xe=ie&&Z[ie]||"";return[T.value,{[f.value]:!0,[`${Q}`]:!0,[`${Q}-${U}`]:U!=="default"&&U,[`${Q}-${$}`]:$,[`${Q}-${xe}`]:xe,[`${Q}-loading`]:_.value,[`${Q}-background-ghost`]:k&&!vx($),[`${Q}-two-chinese-chars`]:S.value&&w.value,[`${Q}-block`]:H,[`${Q}-dangerous`]:!!z,[`${Q}-rtl`]:u.value==="rtl"}]}),E=()=>{const $=b.value;if(!$||l.value===!1)return;const U=$.textContent;m&&J$(U)?S.value||(S.value=!0):S.value&&(S.value=!1)},P=$=>{if(_.value||g.value){$.preventDefault();return}o("click",$)},I=$=>{o("mousedown",$)},D=($,U)=>{const k=U?" ":"";if($.type===Dh){let H=$.children.trim();return J$(H)&&(H=H.split("").join(k)),N("span",null,[H])}return $};return ln(()=>{gi(!(n.ghost&&vx(n.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),en(E),Ca(E),Pn(()=>{y.value&&clearTimeout(y.value)}),s({focus:()=>{var $;($=b.value)===null||$===void 0||$.focus()},blur:()=>{var $;($=b.value)===null||$===void 0||$.blur()}}),()=>{var $,U;const{icon:k=($=i.icon)===null||$===void 0?void 0:$.call(i)}=n,H=ir((U=i.default)===null||U===void 0?void 0:U.call(i));m=H.length===1&&!k&&!vx(n.type);const{type:z,htmlType:Q,href:Z,title:ie,target:xe}=n,J=_.value?"loading":k,se=O(O({},r),{title:ie,disabled:g.value,class:[R.value,r.class,{[`${a.value}-icon-only`]:H.length===0&&!!J}],onClick:P,onMousedown:I});g.value||delete se.disabled;const ee=k&&!_.value?k:N(Lve,{existIcon:!!k,prefixCls:a.value,loading:!!_.value},null),ne=H.map(Y=>D(Y,m&&w.value));if(Z!==void 0)return d(N("a",ve(ve({},se),{},{href:Z,target:xe,ref:b}),[ee,ne]));let ue=N("button",ve(ve({},se),{},{ref:b,type:Q}),[ee,ne]);if(!vx(z)){const Y=function(){return ue}();ue=N(pN,{ref:"wave",disabled:!!_.value},{default:()=>[Y]})}return d(ue)}}});Us.Group=Q2;Us.install=function(n){return n.component(Us.name,Us),n.component(Q2.name,Q2),n};const SW=()=>({arrow:Pi([Boolean,Object]),trigger:{type:[Array,String]},menu:vn(),overlay:be.any,visible:It(),open:It(),disabled:It(),danger:It(),autofocus:It(),align:vn(),getPopupContainer:Function,prefixCls:String,transitionName:String,placement:String,overlayClassName:String,overlayStyle:vn(),forceRender:It(),mouseEnterDelay:Number,mouseLeaveDelay:Number,openClassName:String,minOverlayWidthMatchTrigger:It(),destroyPopupOnHide:It(),onVisibleChange:{type:Function},"onUpdate:visible":{type:Function},onOpenChange:{type:Function},"onUpdate:open":{type:Function}}),ET=yW(),tye=()=>O(O({},SW()),{type:ET.type,size:String,htmlType:ET.htmlType,href:String,disabled:It(),prefixCls:String,icon:be.any,title:String,loading:ET.loading,onClick:zg()});var nye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};function eU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){iye(n,o,i[o])})}return n}function iye(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var W0=function(e,i){var r=eU({},e,i.attrs);return N(Tn,eU({},r,{icon:nye}),null)};W0.displayName="EllipsisOutlined";W0.inheritAttrs=!1;const rye=n=>{const{componentCls:e,antCls:i,paddingXS:r,opacityLoading:o}=n;return{[`${e}-button`]:{whiteSpace:"nowrap",[`&${i}-btn-group > ${i}-btn`]:{[`&-loading, &-loading + ${i}-btn`]:{cursor:"default",pointerEvents:"none",opacity:o},[`&:last-child:not(:first-child):not(${i}-btn-icon-only)`]:{paddingInline:r}}}}},oye=n=>{const{componentCls:e,menuCls:i,colorError:r,colorTextLightSolid:o}=n,s=`${i}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${i} ${s}`]:{[`&${s}-danger:not(${s}-disabled)`]:{color:r,"&:hover":{color:o,backgroundColor:r}}}}}},sye=n=>{const{componentCls:e,menuCls:i,zIndexPopup:r,dropdownArrowDistance:o,dropdownArrowOffset:s,sizePopupArrow:a,antCls:l,iconCls:u,motionDurationMid:c,dropdownPaddingVertical:d,fontSize:f,dropdownEdgeChildPadding:h,colorTextDisabled:p,fontSizeIcon:g,controlPaddingHorizontal:b,colorBgElevated:y,boxShadowPopoverArrow:m}=n;return[{[e]:O(O({},di(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:-o+a/2,zIndex:-9999,opacity:1e-4,content:'""'},[`${e}-wrap`]:{position:"relative",[`${l}-btn > ${u}-down`]:{fontSize:g},[`${u}-down::before`]:{transition:`transform ${c}`}},[`${e}-wrap-open`]:{[`${u}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`
        &-show-arrow${e}-placement-topLeft,
        &-show-arrow${e}-placement-top,
        &-show-arrow${e}-placement-topRight
      `]:{paddingBottom:o},[`
        &-show-arrow${e}-placement-bottomLeft,
        &-show-arrow${e}-placement-bottom,
        &-show-arrow${e}-placement-bottomRight
      `]:{paddingTop:o},[`${e}-arrow`]:O({position:"absolute",zIndex:1,display:"block"},HG(a,n.borderRadiusXS,n.borderRadiusOuter,y,m)),[`
        &-placement-top > ${e}-arrow,
        &-placement-topLeft > ${e}-arrow,
        &-placement-topRight > ${e}-arrow
      `]:{bottom:o,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${e}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${e}-arrow`]:{left:{_skip_check_:!0,value:s}},[`&-placement-topRight > ${e}-arrow`]:{right:{_skip_check_:!0,value:s}},[`
          &-placement-bottom > ${e}-arrow,
          &-placement-bottomLeft > ${e}-arrow,
          &-placement-bottomRight > ${e}-arrow
        `]:{top:o,transform:"translateY(-100%)"},[`&-placement-bottom > ${e}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateY(-100%) translateX(-50%)"},[`&-placement-bottomLeft > ${e}-arrow`]:{left:{_skip_check_:!0,value:s}},[`&-placement-bottomRight > ${e}-arrow`]:{right:{_skip_check_:!0,value:s}},[`&${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottomLeft,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottomLeft,
          &${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottom,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottom,
          &${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottomRight,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:eN},[`&${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-topLeft,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-topLeft,
          &${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-top,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-top,
          &${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-topRight,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-topRight`]:{animationName:nN},[`&${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottomLeft,
          &${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottom,
          &${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:tN},[`&${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-topLeft,
          &${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-top,
          &${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-topRight`]:{animationName:iN}})},{[`${e} ${i}`]:{position:"relative",margin:0},[`${i}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul,li":{listStyle:"none"},ul:{marginInline:"0.3em"}},[`${e}, ${e}-menu-submenu`]:{[i]:O(O({padding:h,listStyleType:"none",backgroundColor:y,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary},yh(n)),{[`${i}-item-group-title`]:{padding:`${d}px ${b}px`,color:n.colorTextDescription,transition:`all ${c}`},[`${i}-item`]:{position:"relative",display:"flex",alignItems:"center",borderRadius:n.borderRadiusSM},[`${i}-item-icon`]:{minWidth:f,marginInlineEnd:n.marginXS,fontSize:n.fontSizeSM},[`${i}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${c}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${i}-item, ${i}-submenu-title`]:O(O({clear:"both",margin:0,padding:`${d}px ${b}px`,color:n.colorText,fontWeight:"normal",fontSize:f,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${c}`,"&:hover, &-active":{backgroundColor:n.controlItemBgHover}},yh(n)),{"&-selected":{color:n.colorPrimary,backgroundColor:n.controlItemBgActive,"&:hover, &-active":{backgroundColor:n.controlItemBgActiveHover}},"&-disabled":{color:p,cursor:"not-allowed","&:hover":{color:p,backgroundColor:y,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${n.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:n.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:n.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:n.colorTextDescription,fontSize:g,fontStyle:"normal"}}}),[`${i}-item-group-list`]:{margin:`0 ${n.marginXS}px`,padding:0,listStyle:"none"},[`${i}-submenu-title`]:{paddingInlineEnd:b+n.fontSizeSM},[`${i}-submenu-vertical`]:{position:"relative"},[`${i}-submenu${i}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:p,backgroundColor:y,cursor:"not-allowed"}},[`${i}-submenu-selected ${e}-menu-submenu-title`]:{color:n.colorPrimary}})}},[Fd(n,"slide-up"),Fd(n,"slide-down"),cw(n,"move-up"),cw(n,"move-down"),rN(n,"zoom-big")]]},wW=Bi("Dropdown",(n,e)=>{let{rootPrefixCls:i}=e;const{marginXXS:r,sizePopupArrow:o,controlHeight:s,fontSize:a,lineHeight:l,paddingXXS:u,componentCls:c,borderRadiusOuter:d,borderRadiusLG:f}=n,h=(s-a*l)/2,{dropdownArrowOffset:p}=mW({sizePopupArrow:o,contentRadius:f,borderRadiusOuter:d}),g=On(n,{menuCls:`${c}-menu`,rootPrefixCls:i,dropdownArrowDistance:o/2+r,dropdownArrowOffset:p,dropdownPaddingVertical:h,dropdownEdgeChildPadding:u});return[sye(g),rye(g),oye(g)]},n=>({zIndexPopup:n.zIndexPopupBase+50}));var aye=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const lye=Us.Group,hw=je({compatConfig:{MODE:3},name:"ADropdownButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:fi(tye(),{trigger:"hover",placement:"bottomRight",type:"default"}),slots:Object,setup(n,e){let{slots:i,attrs:r,emit:o}=e;const s=h=>{o("update:visible",h),o("visibleChange",h),o("update:open",h),o("openChange",h)},{prefixCls:a,direction:l,getPopupContainer:u}=tn("dropdown",n),c=K(()=>`${a.value}-button`),[d,f]=wW(a);return()=>{var h,p;const g=O(O({},n),r),{type:b="default",disabled:y,danger:m,loading:_,htmlType:S,class:w="",overlay:A=(h=i.overlay)===null||h===void 0?void 0:h.call(i),trigger:T,align:C,open:R,visible:E,onVisibleChange:P,placement:I=l.value==="rtl"?"bottomLeft":"bottomRight",href:D,title:F,icon:L=((p=i.icon)===null||p===void 0?void 0:p.call(i))||N(W0,null,null),mouseEnterDelay:$,mouseLeaveDelay:U,overlayClassName:k,overlayStyle:H,destroyPopupOnHide:z,onClick:Q,"onUpdate:open":Z}=g,ie=aye(g,["type","disabled","danger","loading","htmlType","class","overlay","trigger","align","open","visible","onVisibleChange","placement","href","title","icon","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","onClick","onUpdate:open"]),xe={align:C,disabled:y,trigger:y?[]:T,placement:I,getPopupContainer:u==null?void 0:u.value,onOpenChange:s,mouseEnterDelay:$,mouseLeaveDelay:U,open:R??E,overlayClassName:k,overlayStyle:H,destroyPopupOnHide:z},J=N(Us,{danger:m,type:b,disabled:y,loading:_,onClick:Q,htmlType:S,href:D,title:F},{default:i.default}),se=N(Us,{danger:m,type:b,icon:L},null);return d(N(lye,ve(ve({},ie),{},{class:Qe(c.value,w,f.value)}),{default:()=>[i.leftButton?i.leftButton({button:J}):J,N(Ed,xe,{default:()=>[i.rightButton?i.rightButton({button:se}):se],overlay:()=>A})]}))}}});var uye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};function tU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){cye(n,o,i[o])})}return n}function cye(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var Xg=function(e,i){var r=tU({},e,i.attrs);return N(Tn,tU({},r,{icon:uye}),null)};Xg.displayName="RightOutlined";Xg.inheritAttrs=!1;const CW=Symbol("OverrideContextKey"),AW=()=>qt(CW,void 0),TW=n=>{var e,i,r;const{prefixCls:o,mode:s,selectable:a,validator:l,onClick:u,expandIcon:c}=AW()||{};jn(CW,{prefixCls:K(()=>{var d,f;return(f=(d=n.prefixCls)===null||d===void 0?void 0:d.value)!==null&&f!==void 0?f:o==null?void 0:o.value}),mode:K(()=>{var d,f;return(f=(d=n.mode)===null||d===void 0?void 0:d.value)!==null&&f!==void 0?f:s==null?void 0:s.value}),selectable:K(()=>{var d,f;return(f=(d=n.selectable)===null||d===void 0?void 0:d.value)!==null&&f!==void 0?f:a==null?void 0:a.value}),validator:(e=n.validator)!==null&&e!==void 0?e:l,onClick:(i=n.onClick)!==null&&i!==void 0?i:u,expandIcon:(r=n.expandIcon)!==null&&r!==void 0?r:c==null?void 0:c.value})},Ed=je({compatConfig:{MODE:3},name:"ADropdown",inheritAttrs:!1,props:fi(SW(),{mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft",trigger:"hover"}),slots:Object,setup(n,e){let{slots:i,attrs:r,emit:o}=e;const{prefixCls:s,rootPrefixCls:a,direction:l,getPopupContainer:u}=tn("dropdown",n),[c,d]=wW(s),f=K(()=>{const{placement:y="",transitionName:m}=n;return m!==void 0?m:y.includes("top")?`${a.value}-slide-down`:`${a.value}-slide-up`});TW({prefixCls:K(()=>`${s.value}-menu`),expandIcon:K(()=>N("span",{class:`${s.value}-menu-submenu-arrow`},[N(Xg,{class:`${s.value}-menu-submenu-arrow-icon`},null)])),mode:K(()=>"vertical"),selectable:K(()=>!1),onClick:()=>{},validator:y=>{}});const h=()=>{var y,m,_;const S=n.overlay||((y=i.overlay)===null||y===void 0?void 0:y.call(i)),w=Array.isArray(S)?S[0]:S;if(!w)return null;const A=w.props||{};gi(!A.mode||A.mode==="vertical","Dropdown",`mode="${A.mode}" is not supported for Dropdown's Menu.`);const{selectable:T=!1,expandIcon:C=(_=(m=w.children)===null||m===void 0?void 0:m.expandIcon)===null||_===void 0?void 0:_.call(m)}=A,R=typeof C<"u"&&mo(C)?C:N("span",{class:`${s.value}-menu-submenu-arrow`},[N(Xg,{class:`${s.value}-menu-submenu-arrow-icon`},null)]);return mo(w)?Oi(w,{mode:"vertical",selectable:T,expandIcon:()=>R}):w},p=K(()=>{const y=n.placement;if(!y)return l.value==="rtl"?"bottomRight":"bottomLeft";if(y.includes("Center")){const m=y.slice(0,y.indexOf("Center"));return gi(!y.includes("Center"),"Dropdown",`You are using '${y}' placement in Dropdown, which is deprecated. Try to use '${m}' instead.`),m}return y}),g=K(()=>typeof n.visible=="boolean"?n.visible:n.open),b=y=>{o("update:visible",y),o("visibleChange",y),o("update:open",y),o("openChange",y)};return()=>{var y,m;const{arrow:_,trigger:S,disabled:w,overlayClassName:A}=n,T=(y=i.default)===null||y===void 0?void 0:y.call(i)[0],C=Oi(T,O({class:Qe((m=T==null?void 0:T.props)===null||m===void 0?void 0:m.class,{[`${s.value}-rtl`]:l.value==="rtl"},`${s.value}-trigger`)},w?{disabled:w}:{})),R=Qe(A,d.value,{[`${s.value}-rtl`]:l.value==="rtl"}),E=w?[]:S;let P;E&&E.includes("contextmenu")&&(P=!0);const I=hW({arrowPointAtCenter:typeof _=="object"&&_.pointAtCenter,autoAdjustOverflow:!0}),D=Ai(O(O(O({},n),r),{visible:g.value,builtinPlacements:I,overlayClassName:R,arrow:!!_,alignPoint:P,prefixCls:s.value,getPopupContainer:u==null?void 0:u.value,transitionName:f.value,trigger:E,onVisibleChange:b,placement:p.value}),["overlay","onUpdate:visible"]);return c(N(vW,D,{default:()=>[C],overlay:h}))}}});Ed.Button=hw;function dye(n,e,i,r){let o;if(o!==void 0)return!!o;if(n===e)return!0;if(typeof n!="object"||!n||typeof e!="object"||!e)return!1;const s=Object.keys(n),a=Object.keys(e);if(s.length!==a.length)return!1;const l=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<s.length;u++){const c=s[u];if(!l(c))return!1;const d=n[c],f=e[c];if(o=void 0,o===!1||o===void 0&&d!==f)return!1}return!0}function pv(n,e){return dye(pn(n),pn(e))}const EW=Symbol("menuContextKey"),MW=n=>{jn(EW,n)},Cc=()=>qt(EW),RW=Symbol("ForceRenderKey"),fye=n=>{jn(RW,n)},PW=()=>qt(RW,!1),IW=Symbol("menuFirstLevelContextKey"),NW=n=>{jn(IW,n)},hye=()=>qt(IW,!0),pw=je({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0}},setup(n,e){let{slots:i}=e;const r=Cc(),o=O({},r);return n.mode!==void 0&&(o.mode=Jn(n,"mode")),n.overflowDisabled!==void 0&&(o.overflowDisabled=Jn(n,"overflowDisabled")),MW(o),()=>{var s;return(s=i.default)===null||s===void 0?void 0:s.call(i)}}}),pye=Symbol("siderCollapsed"),yx="$$__vc-menu-more__key",OW=Symbol("KeyPathContext"),vN=()=>qt(OW,{parentEventKeys:K(()=>[]),parentKeys:K(()=>[]),parentInfo:{}}),gye=(n,e,i)=>{const{parentEventKeys:r,parentKeys:o}=vN(),s=K(()=>[...r.value,n]),a=K(()=>[...o.value,e]);return jn(OW,{parentEventKeys:s,parentKeys:a,parentInfo:i}),a},DW=Symbol("measure"),nU=je({compatConfig:{MODE:3},setup(n,e){let{slots:i}=e;return jn(DW,!0),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}}),yN=()=>qt(DW,!1);function LW(n){const{mode:e,rtl:i,inlineIndent:r}=Cc();return K(()=>e.value!=="inline"?null:i.value?{paddingRight:`${n.value*r.value}px`}:{paddingLeft:`${n.value*r.value}px`})}let mye=0;const vye=()=>({id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:be.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,originItemValue:vn()}),Yg=je({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:vye(),slots:Object,setup(n,e){let{slots:i,emit:r,attrs:o}=e;const s=hs(),a=yN(),l=typeof s.vnode.key=="symbol"?String(s.vnode.key):s.vnode.key;gi(typeof s.vnode.key!="symbol","MenuItem",`MenuItem \`:key="${String(l)}"\` not support Symbol type`);const u=`menu_item_${++mye}_$$_${l}`,{parentEventKeys:c,parentKeys:d}=vN(),{prefixCls:f,activeKeys:h,disabled:p,changeActiveKeys:g,rtl:b,inlineCollapsed:y,siderCollapsed:m,onItemClick:_,selectedKeys:S,registerMenuInfo:w,unRegisterMenuInfo:A}=Cc(),T=hye(),C=Oe(!1),R=K(()=>[...d.value,l]);w(u,{eventKey:u,key:l,parentEventKeys:c,parentKeys:d,isLeaf:!0}),Pn(()=>{A(u)}),ct(h,()=>{C.value=!!h.value.find(Z=>Z===l)},{immediate:!0});const P=K(()=>p.value||n.disabled),I=K(()=>S.value.includes(l)),D=K(()=>{const Z=`${f.value}-item`;return{[`${Z}`]:!0,[`${Z}-danger`]:n.danger,[`${Z}-active`]:C.value,[`${Z}-selected`]:I.value,[`${Z}-disabled`]:P.value}}),F=Z=>({key:l,eventKey:u,keyPath:R.value,eventKeyPath:[...c.value,u],domEvent:Z,item:O(O({},n),o)}),L=Z=>{if(P.value)return;const ie=F(Z);r("click",Z),_(ie)},$=Z=>{P.value||(g(R.value),r("mouseenter",Z))},U=Z=>{P.value||(g([]),r("mouseleave",Z))},k=Z=>{if(r("keydown",Z),Z.which===at.ENTER){const ie=F(Z);r("click",Z),_(ie)}},H=Z=>{g(R.value),r("focus",Z)},z=(Z,ie)=>{const xe=N("span",{class:`${f.value}-title-content`},[ie]);return(!Z||mo(ie)&&ie.type==="span")&&y.value&&T&&typeof ie=="string"?N("div",{class:`${f.value}-inline-collapsed-noicon`},[ie.charAt(0)]):xe},Q=LW(K(()=>R.value.length));return()=>{var Z,ie,xe,J,se;if(a)return null;const ee=(Z=n.title)!==null&&Z!==void 0?Z:(ie=i.title)===null||ie===void 0?void 0:ie.call(i),ne=ir((xe=i.default)===null||xe===void 0?void 0:xe.call(i)),ue=ne.length;let Y=ee;typeof ee>"u"?Y=T&&ue?ne:"":ee===!1&&(Y="");const le={title:Y};!m.value&&!y.value&&(le.title=null,le.open=!1);const fe={};n.role==="option"&&(fe["aria-selected"]=I.value);const W=(J=n.icon)!==null&&J!==void 0?J:(se=i.icon)===null||se===void 0?void 0:se.call(i,n);return N(U1,ve(ve({},le),{},{placement:b.value?"left":"right",overlayClassName:`${f.value}-inline-collapsed-tooltip`}),{default:()=>[N(nc.Item,ve(ve(ve({component:"li"},o),{},{id:n.id,style:O(O({},o.style||{}),Q.value),class:[D.value,{[`${o.class}`]:!!o.class,[`${f.value}-item-only-child`]:(W?ue+1:ue)===1}],role:n.role||"menuitem",tabindex:n.disabled?null:-1,"data-menu-id":l,"aria-disabled":n.disabled},fe),{},{onMouseenter:$,onMouseleave:U,onClick:L,onKeydown:k,onFocus:H,title:typeof ee=="string"?ee:void 0}),{default:()=>[Oi(typeof W=="function"?W(n.originItemValue):W,{class:`${f.value}-item-icon`},!1),z(W,ne)]})]})}}}),Cd={adjustX:1,adjustY:1},yye={topLeft:{points:["bl","tl"],overflow:Cd,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Cd,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Cd,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Cd,offset:[4,0]}},bye={topLeft:{points:["bl","tl"],overflow:Cd,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Cd,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Cd,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Cd,offset:[4,0]}},xye={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},iU=je({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:Object,emits:["visibleChange"],setup(n,e){let{slots:i,emit:r}=e;const o=Oe(!1),{getPopupContainer:s,rtl:a,subMenuOpenDelay:l,subMenuCloseDelay:u,builtinPlacements:c,triggerSubMenuAction:d,forceSubMenuRender:f,motion:h,defaultMotions:p,rootClassName:g}=Cc(),b=PW(),y=K(()=>a.value?O(O({},bye),c.value):O(O({},yye),c.value)),m=K(()=>xye[n.mode]),_=Oe();ct(()=>n.visible,A=>{xn.cancel(_.value),_.value=xn(()=>{o.value=A})},{immediate:!0}),Pn(()=>{xn.cancel(_.value)});const S=A=>{r("visibleChange",A)},w=K(()=>{var A,T;const C=h.value||((A=p.value)===null||A===void 0?void 0:A[n.mode])||((T=p.value)===null||T===void 0?void 0:T.other),R=typeof C=="function"?C():C;return R?Kg(R.name,{css:!0}):void 0});return()=>{const{prefixCls:A,popupClassName:T,mode:C,popupOffset:R,disabled:E}=n;return N(P1,{prefixCls:A,popupClassName:Qe(`${A}-popup`,{[`${A}-rtl`]:a.value},T,g.value),stretch:C==="horizontal"?"minWidth":null,getPopupContainer:s.value,builtinPlacements:y.value,popupPlacement:m.value,popupVisible:o.value,popupAlign:R&&{offset:R},action:E?[]:[d.value],mouseEnterDelay:l.value,mouseLeaveDelay:u.value,onPopupVisibleChange:S,forceRender:b||f.value,popupAnimation:w.value},{popup:i.popup,default:i.default})}}}),bN=(n,e)=>{let{slots:i,attrs:r}=e;var o;const{prefixCls:s,mode:a}=Cc();return N("ul",ve(ve({},r),{},{class:Qe(s.value,`${s.value}-sub`,`${s.value}-${a.value==="inline"?"inline":"vertical"}`),"data-menu-list":!0}),[(o=i.default)===null||o===void 0?void 0:o.call(i)])};bN.displayName="SubMenuList";const _ye=je({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup(n,e){let{slots:i}=e;const r=K(()=>"inline"),{motion:o,mode:s,defaultMotions:a}=Cc(),l=K(()=>s.value===r.value),u=Ge(!l.value),c=K(()=>l.value?n.open:!1);ct(s,()=>{l.value&&(u.value=!1)},{flush:"post"});const d=K(()=>{var f,h;const p=o.value||((f=a.value)===null||f===void 0?void 0:f[r.value])||((h=a.value)===null||h===void 0?void 0:h.other),g=typeof p=="function"?p():p;return O(O({},g),{appear:n.keyPath.length<=1})});return()=>{var f;return u.value?null:N(pw,{mode:r.value},{default:()=>[N(nl,d.value,{default:()=>[Ro(N(bN,{id:n.id},{default:()=>[(f=i.default)===null||f===void 0?void 0:f.call(i)]}),[[Jo,c.value]])]})]})}}});let rU=0;const Sye=()=>({icon:be.any,title:be.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,theme:String,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function,originItemValue:vn()}),Qg=je({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:Sye(),slots:Object,setup(n,e){let{slots:i,attrs:r,emit:o}=e;var s,a;NW(!1);const l=yN(),u=hs(),c=typeof u.vnode.key=="symbol"?String(u.vnode.key):u.vnode.key;gi(typeof u.vnode.key!="symbol","SubMenu",`SubMenu \`:key="${String(c)}"\` not support Symbol type`);const d=E2(c)?c:`sub_menu_${++rU}_$$_not_set_key`,f=(s=n.eventKey)!==null&&s!==void 0?s:E2(c)?`sub_menu_${++rU}_$$_${c}`:d,{parentEventKeys:h,parentInfo:p,parentKeys:g}=vN(),b=K(()=>[...g.value,d]),y=Oe([]),m={eventKey:f,key:d,parentEventKeys:h,childrenEventKeys:y,parentKeys:g};(a=p.childrenEventKeys)===null||a===void 0||a.value.push(f),Pn(()=>{var ge;p.childrenEventKeys&&(p.childrenEventKeys.value=(ge=p.childrenEventKeys)===null||ge===void 0?void 0:ge.value.filter(me=>me!=f))}),gye(f,d,m);const{prefixCls:_,activeKeys:S,disabled:w,changeActiveKeys:A,mode:T,inlineCollapsed:C,openKeys:R,overflowDisabled:E,onOpenChange:P,registerMenuInfo:I,unRegisterMenuInfo:D,selectedSubMenuKeys:F,expandIcon:L,theme:$}=Cc(),U=c!=null,k=!l&&(PW()||!U);fye(k),(l&&U||!l&&!U||k)&&(I(f,m),Pn(()=>{D(f)}));const H=K(()=>`${_.value}-submenu`),z=K(()=>w.value||n.disabled),Q=Oe(),Z=Oe(),ie=K(()=>R.value.includes(d)),xe=K(()=>!E.value&&ie.value),J=K(()=>F.value.includes(d)),se=Oe(!1);ct(S,()=>{se.value=!!S.value.find(ge=>ge===d)},{immediate:!0});const ee=ge=>{z.value||(o("titleClick",ge,d),T.value==="inline"&&P(d,!ie.value))},ne=ge=>{z.value||(A(b.value),o("mouseenter",ge))},ue=ge=>{z.value||(A([]),o("mouseleave",ge))},Y=LW(K(()=>b.value.length)),le=ge=>{T.value!=="inline"&&P(d,ge)},fe=()=>{A(b.value)},W=f&&`${f}-popup`,X=K(()=>Qe(_.value,`${_.value}-${n.theme||$.value}`,n.popupClassName)),V=(ge,me)=>{if(!me)return C.value&&!g.value.length&&ge&&typeof ge=="string"?N("div",{class:`${_.value}-inline-collapsed-noicon`},[ge.charAt(0)]):N("span",{class:`${_.value}-title-content`},[ge]);const j=mo(ge)&&ge.type==="span";return N(mn,null,[Oi(typeof me=="function"?me(n.originItemValue):me,{class:`${_.value}-item-icon`},!1),j?ge:N("span",{class:`${_.value}-title-content`},[ge])])},Se=K(()=>T.value!=="inline"&&b.value.length>1?"vertical":T.value),pe=K(()=>T.value==="horizontal"?"vertical":T.value),_e=K(()=>Se.value==="horizontal"?"vertical":Se.value),he=()=>{var ge,me;const j=H.value,G=(ge=n.icon)!==null&&ge!==void 0?ge:(me=i.icon)===null||me===void 0?void 0:me.call(i,n),ce=n.expandIcon||i.expandIcon||L.value,Ee=V(ha(i,n,"title"),G);return N("div",{style:Y.value,class:`${j}-title`,tabindex:z.value?null:-1,ref:Q,title:typeof Ee=="string"?Ee:null,"data-menu-id":d,"aria-expanded":xe.value,"aria-haspopup":!0,"aria-controls":W,"aria-disabled":z.value,onClick:ee,onFocus:fe},[Ee,T.value!=="horizontal"&&ce?ce(O(O({},n),{isOpen:xe.value})):N("i",{class:`${j}-arrow`},null)])};return()=>{var ge;if(l)return U?(ge=i.default)===null||ge===void 0?void 0:ge.call(i):null;const me=H.value;let j=()=>null;if(!E.value&&T.value!=="inline"){const G=T.value==="horizontal"?[0,8]:[10,0];j=()=>N(iU,{mode:Se.value,prefixCls:me,visible:!n.internalPopupClose&&xe.value,popupClassName:X.value,popupOffset:n.popupOffset||G,disabled:z.value,onVisibleChange:le},{default:()=>[he()],popup:()=>N(pw,{mode:_e.value},{default:()=>[N(bN,{id:W,ref:Z},{default:i.default})]})})}else j=()=>N(iU,null,{default:he});return N(pw,{mode:pe.value},{default:()=>[N(nc.Item,ve(ve({component:"li"},r),{},{role:"none",class:Qe(me,`${me}-${T.value}`,r.class,{[`${me}-open`]:xe.value,[`${me}-active`]:se.value,[`${me}-selected`]:J.value,[`${me}-disabled`]:z.value}),onMouseenter:ne,onMouseleave:ue,"data-submenu-id":d}),{default:()=>N(mn,null,[j(),!E.value&&N(_ye,{id:W,open:xe.value,keyPath:b.value},{default:i.default})])})]})}}});function BW(n,e){return n.classList?n.classList.contains(e):` ${n.className} `.indexOf(` ${e} `)>-1}function Z2(n,e){n.classList?n.classList.add(e):BW(n,e)||(n.className=`${n.className} ${e}`)}function J2(n,e){if(n.classList)n.classList.remove(e);else if(BW(n,e)){const i=n.className;n.className=` ${i} `.replace(` ${e} `," ")}}const xN=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{name:n,appear:e,css:!0,onBeforeEnter:i=>{i.style.height="0px",i.style.opacity="0",Z2(i,n)},onEnter:i=>{kn(()=>{i.style.height=`${i.scrollHeight}px`,i.style.opacity="1"})},onAfterEnter:i=>{i&&(J2(i,n),i.style.height=null,i.style.opacity=null)},onBeforeLeave:i=>{Z2(i,n),i.style.height=`${i.offsetHeight}px`,i.style.opacity=null},onLeave:i=>{setTimeout(()=>{i.style.height="0px",i.style.opacity="0"})},onAfterLeave:i=>{i&&(J2(i,n),i.style&&(i.style.height=null,i.style.opacity=null))}}},wye=()=>({title:be.any,originItemValue:vn()}),gw=je({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:wye(),slots:Object,setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o}=Cc(),s=K(()=>`${o.value}-item-group`),a=yN();return()=>{var l,u;return a?(l=i.default)===null||l===void 0?void 0:l.call(i):N("li",ve(ve({},r),{},{onClick:c=>c.stopPropagation(),class:s.value}),[N("div",{title:typeof n.title=="string"?n.title:void 0,class:`${s.value}-title`},[ha(i,n,"title")]),N("ul",{class:`${s.value}-list`},[(u=i.default)===null||u===void 0?void 0:u.call(i)])])}}}),Cye=()=>({prefixCls:String,dashed:Boolean}),mw=je({compatConfig:{MODE:3},name:"AMenuDivider",props:Cye(),setup(n){const{prefixCls:e}=Cc(),i=K(()=>({[`${e.value}-item-divider`]:!0,[`${e.value}-item-divider-dashed`]:!!n.dashed}));return()=>N("li",{class:i.value},null)}});var Aye=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function eR(n,e,i){return(n||[]).map((r,o)=>{if(r&&typeof r=="object"){const s=r,{label:a,children:l,key:u,type:c}=s,d=Aye(s,["label","children","key","type"]),f=u??`tmp-${o}`,h=i?i.parentKeys.slice():[],p=[],g={eventKey:f,key:f,parentEventKeys:Ge(h),parentKeys:Ge(h),childrenEventKeys:Ge(p),isLeaf:!1};if(l||c==="group"){if(c==="group"){const y=eR(l,e,i);return N(gw,ve(ve({key:f},d),{},{title:a,originItemValue:r}),{default:()=>[y]})}e.set(f,g),i&&i.childrenEventKeys.push(f);const b=eR(l,e,{childrenEventKeys:p,parentKeys:[].concat(h,f)});return N(Qg,ve(ve({key:f},d),{},{title:a,originItemValue:r}),{default:()=>[b]})}return c==="divider"?N(mw,ve({key:f},d),null):(g.isLeaf=!0,e.set(f,g),N(Yg,ve(ve({key:f},d),{},{originItemValue:r}),{default:()=>[a]}))}return null}).filter(r=>r)}function Tye(n){const e=Oe([]),i=Oe(!1),r=Oe(new Map);return ct(()=>n.items,()=>{const o=new Map;i.value=!1,n.items?(i.value=!0,e.value=eR(n.items,o)):e.value=void 0,r.value=o},{immediate:!0,deep:!0}),{itemsNodes:e,store:r,hasItmes:i}}const Eye=n=>{const{componentCls:e,motionDurationSlow:i,menuHorizontalHeight:r,colorSplit:o,lineWidth:s,lineType:a,menuItemPaddingInline:l}=n;return{[`${e}-horizontal`]:{lineHeight:`${r}px`,border:0,borderBottom:`${s}px ${a} ${o}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:l},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${i}`,`background ${i}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},Mye=n=>{let{componentCls:e,menuArrowOffset:i}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${i})`},"&::after":{transform:`rotate(45deg) translateY(${i})`}}}}},oU=n=>O({},uc(n)),sU=(n,e)=>{const{componentCls:i,colorItemText:r,colorItemTextSelected:o,colorGroupTitle:s,colorItemBg:a,colorSubItemBg:l,colorItemBgSelected:u,colorActiveBarHeight:c,colorActiveBarWidth:d,colorActiveBarBorderSize:f,motionDurationSlow:h,motionEaseInOut:p,motionEaseOut:g,menuItemPaddingInline:b,motionDurationMid:y,colorItemTextHover:m,lineType:_,colorSplit:S,colorItemTextDisabled:w,colorDangerItemText:A,colorDangerItemTextHover:T,colorDangerItemTextSelected:C,colorDangerItemBgActive:R,colorDangerItemBgSelected:E,colorItemBgHover:P,menuSubMenuBg:I,colorItemTextSelectedHorizontal:D,colorItemBgSelectedHorizontal:F}=n;return{[`${i}-${e}`]:{color:r,background:a,[`&${i}-root:focus-visible`]:O({},oU(n)),[`${i}-item-group-title`]:{color:s},[`${i}-submenu-selected`]:{[`> ${i}-submenu-title`]:{color:o}},[`${i}-item-disabled, ${i}-submenu-disabled`]:{color:`${w} !important`},[`${i}-item:hover, ${i}-submenu-title:hover`]:{[`&:not(${i}-item-selected):not(${i}-submenu-selected)`]:{color:m}},[`&:not(${i}-horizontal)`]:{[`${i}-item:not(${i}-item-selected)`]:{"&:hover":{backgroundColor:P},"&:active":{backgroundColor:u}},[`${i}-submenu-title`]:{"&:hover":{backgroundColor:P},"&:active":{backgroundColor:u}}},[`${i}-item-danger`]:{color:A,[`&${i}-item:hover`]:{[`&:not(${i}-item-selected):not(${i}-submenu-selected)`]:{color:T}},[`&${i}-item:active`]:{background:R}},[`${i}-item a`]:{"&, &:hover":{color:"inherit"}},[`${i}-item-selected`]:{color:o,[`&${i}-item-danger`]:{color:C},"a, a:hover":{color:"inherit"}},[`& ${i}-item-selected`]:{backgroundColor:u,[`&${i}-item-danger`]:{backgroundColor:E}},[`${i}-item, ${i}-submenu-title`]:{[`&:not(${i}-item-disabled):focus-visible`]:O({},oU(n))},[`&${i}-submenu > ${i}`]:{backgroundColor:I},[`&${i}-popup > ${i}`]:{backgroundColor:a},[`&${i}-horizontal`]:O(O({},e==="dark"?{borderBottom:0}:{}),{[`> ${i}-item, > ${i}-submenu`]:{top:f,marginTop:-f,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:b,bottom:0,borderBottom:`${c}px solid transparent`,transition:`border-color ${h} ${p}`,content:'""'},"&:hover, &-active, &-open":{"&::after":{borderBottomWidth:c,borderBottomColor:D}},"&-selected":{color:D,backgroundColor:F,"&::after":{borderBottomWidth:c,borderBottomColor:D}}}}),[`&${i}-root`]:{[`&${i}-inline, &${i}-vertical`]:{borderInlineEnd:`${f}px ${_} ${S}`}},[`&${i}-inline`]:{[`${i}-sub${i}-inline`]:{background:l},[`${i}-item, ${i}-submenu-title`]:f&&d?{width:`calc(100% + ${f}px)`}:{},[`${i}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${d}px solid ${o}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${y} ${g}`,`opacity ${y} ${g}`].join(","),content:'""'},[`&${i}-item-danger`]:{"&::after":{borderInlineEndColor:C}}},[`${i}-selected, ${i}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${y} ${p}`,`opacity ${y} ${p}`].join(",")}}}}}},aU=n=>{const{componentCls:e,menuItemHeight:i,itemMarginInline:r,padding:o,menuArrowSize:s,marginXS:a,marginXXS:l}=n,u=o+s+a;return{[`${e}-item`]:{position:"relative"},[`${e}-item, ${e}-submenu-title`]:{height:i,lineHeight:`${i}px`,paddingInline:o,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:l,width:`calc(100% - ${r*2}px)`},[`${e}-submenu`]:{paddingBottom:.02},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:i,lineHeight:`${i}px`},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:u}}},Rye=n=>{const{componentCls:e,iconCls:i,menuItemHeight:r,colorTextLightSolid:o,dropdownWidth:s,controlHeightLG:a,motionDurationMid:l,motionEaseOut:u,paddingXL:c,fontSizeSM:d,fontSizeLG:f,motionDurationSlow:h,paddingXS:p,boxShadowSecondary:g}=n,b={height:r,lineHeight:`${r}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":O({[`&${e}-root`]:{boxShadow:"none"}},aU(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:O(O({},aU(n)),{boxShadow:g})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:s,maxHeight:`calc(100vh - ${a*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${h}`,`background ${h}`,`padding ${l} ${u}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:b,[`& ${e}-item-group-title`]:{paddingInlineStart:c}},[`${e}-item`]:b}},{[`${e}-inline-collapsed`]:{width:r*2,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:f,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${d}px)`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${i}`]:{margin:0,fontSize:f,lineHeight:`${r}px`,"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${i}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${i}`]:{display:"none"},"a, a:hover":{color:o}},[`${e}-item-group-title`]:O(O({},Fl),{paddingInline:p})}}]},lU=n=>{const{componentCls:e,fontSize:i,motionDurationSlow:r,motionDurationMid:o,motionEaseInOut:s,motionEaseOut:a,iconCls:l,controlHeightSM:u}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${r}`,`background ${r}`,`padding ${r} ${s}`].join(","),[`${e}-item-icon, ${l}`]:{minWidth:i,fontSize:i,transition:[`font-size ${o} ${a}`,`margin ${r} ${s}`,`color ${r}`].join(","),"+ span":{marginInlineStart:u-i,opacity:1,transition:[`opacity ${r} ${s}`,`margin ${r}`,`color ${r}`].join(",")}},[`${e}-item-icon`]:O({},wI()),[`&${e}-item-only-child`]:{[`> ${l}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},uU=n=>{const{componentCls:e,motionDurationSlow:i,motionEaseInOut:r,borderRadius:o,menuArrowSize:s,menuArrowOffset:a}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:s,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${i} ${r}, opacity ${i}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:s*.6,height:s*.15,backgroundColor:"currentcolor",borderRadius:o,transition:[`background ${i} ${r}`,`transform ${i} ${r}`,`top ${i} ${r}`,`color ${i} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${a})`},"&::after":{transform:`rotate(-45deg) translateY(${a})`}}}}},Pye=n=>{const{antCls:e,componentCls:i,fontSize:r,motionDurationSlow:o,motionDurationMid:s,motionEaseInOut:a,lineHeight:l,paddingXS:u,padding:c,colorSplit:d,lineWidth:f,zIndexPopup:h,borderRadiusLG:p,radiusSubMenuItem:g,menuArrowSize:b,menuArrowOffset:y,lineType:m,menuPanelMaskInset:_}=n;return[{"":{[`${i}`]:O(O({},$l()),{"&-hidden":{display:"none"}})},[`${i}-submenu-hidden`]:{display:"none"}},{[i]:O(O(O(O(O(O(O({},di(n)),$l()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${o} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${i}-item`]:{flex:"none"}},[`${i}-item, ${i}-submenu, ${i}-submenu-title`]:{borderRadius:n.radiusItem},[`${i}-item-group-title`]:{padding:`${u}px ${c}px`,fontSize:r,lineHeight:l,transition:`all ${o}`},[`&-horizontal ${i}-submenu`]:{transition:[`border-color ${o} ${a}`,`background ${o} ${a}`].join(",")},[`${i}-submenu, ${i}-submenu-inline`]:{transition:[`border-color ${o} ${a}`,`background ${o} ${a}`,`padding ${s} ${a}`].join(",")},[`${i}-submenu ${i}-sub`]:{cursor:"initial",transition:[`background ${o} ${a}`,`padding ${o} ${a}`].join(",")},[`${i}-title-content`]:{transition:`color ${o}`},[`${i}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${i}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:d,borderStyle:m,borderWidth:0,borderTopWidth:f,marginBlock:f,padding:0,"&-dashed":{borderStyle:"dashed"}}}),lU(n)),{[`${i}-item-group`]:{[`${i}-item-group-list`]:{margin:0,padding:0,[`${i}-item, ${i}-submenu-title`]:{paddingInline:`${r*2}px ${c}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:h,background:"transparent",borderRadius:p,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:`${_}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:_},[`> ${i}`]:O(O(O({borderRadius:p},lU(n)),uU(n)),{[`${i}-item, ${i}-submenu > ${i}-submenu-title`]:{borderRadius:g},[`${i}-submenu-title::after`]:{transition:`transform ${o} ${a}`}})}}),uU(n)),{[`&-inline-collapsed ${i}-submenu-arrow,
        &-inline ${i}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${y})`},"&::after":{transform:`rotate(45deg) translateX(-${y})`}},[`${i}-submenu-open${i}-submenu-inline > ${i}-submenu-title > ${i}-submenu-arrow`]:{transform:`translateY(-${b*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${y})`},"&::before":{transform:`rotate(45deg) translateX(${y})`}}})},{[`${e}-layout-header`]:{[i]:{lineHeight:"inherit"}}}]},Iye=(n,e)=>Bi("Menu",(r,o)=>{let{overrideComponentToken:s}=o;if((e==null?void 0:e.value)===!1)return[];const{colorBgElevated:a,colorPrimary:l,colorError:u,colorErrorHover:c,colorTextLightSolid:d}=r,{controlHeightLG:f,fontSize:h}=r,p=h/7*5,g=On(r,{menuItemHeight:f,menuItemPaddingInline:r.margin,menuArrowSize:p,menuHorizontalHeight:f*1.15,menuArrowOffset:`${p*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:a}),b=new Gi(d).setAlpha(.65).toRgbString(),y=On(g,{colorItemText:b,colorItemTextHover:d,colorGroupTitle:b,colorItemTextSelected:d,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:l,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new Gi(d).setAlpha(.25).toRgbString(),colorDangerItemText:u,colorDangerItemTextHover:c,colorDangerItemTextSelected:d,colorDangerItemBgActive:u,colorDangerItemBgSelected:u,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:d,colorItemBgSelectedHorizontal:l},O({},s));return[Pye(g),Eye(g),Rye(g),sU(g,"light"),sU(y,"dark"),Mye(g),oN(g),Fd(g,"slide-up"),Fd(g,"slide-down"),rN(g,"zoom-big")]},r=>{const{colorPrimary:o,colorError:s,colorTextDisabled:a,colorErrorBg:l,colorText:u,colorTextDescription:c,colorBgContainer:d,colorFillAlter:f,colorFillContent:h,lineWidth:p,lineWidthBold:g,controlItemBgActive:b,colorBgTextHover:y}=r;return{dropdownWidth:160,zIndexPopup:r.zIndexPopupBase+50,radiusItem:r.borderRadiusLG,radiusSubMenuItem:r.borderRadiusSM,colorItemText:u,colorItemTextHover:u,colorItemTextHoverHorizontal:o,colorGroupTitle:c,colorItemTextSelected:o,colorItemTextSelectedHorizontal:o,colorItemBg:d,colorItemBgHover:y,colorItemBgActive:h,colorSubItemBg:f,colorItemBgSelected:b,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:g,colorActiveBarBorderSize:p,colorItemTextDisabled:a,colorDangerItemText:s,colorDangerItemTextHover:s,colorDangerItemTextSelected:s,colorDangerItemBgActive:l,colorDangerItemBgSelected:l,itemMarginInline:r.marginXXS}})(n),Nye=()=>({id:String,prefixCls:String,items:Array,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},tabindex:{type:[Number,String]},motion:Object,role:String,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:0},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}),cU=[],pa=je({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:Nye(),slots:Object,setup(n,e){let{slots:i,emit:r,attrs:o}=e;const{direction:s,getPrefixCls:a}=tn("menu",n),l=AW(),u=K(()=>{var ne;return a("menu",n.prefixCls||((ne=l==null?void 0:l.prefixCls)===null||ne===void 0?void 0:ne.value))}),[c,d]=Iye(u,K(()=>!l)),f=Oe(new Map),h=qt(pye,Ge(void 0)),p=K(()=>h.value!==void 0?h.value:n.inlineCollapsed),{itemsNodes:g}=Tye(n),b=Oe(!1);en(()=>{b.value=!0}),ln(()=>{gi(!(n.inlineCollapsed===!0&&n.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),gi(!(h.value!==void 0&&n.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});const y=Ge([]),m=Ge([]),_=Ge({});ct(f,()=>{const ne={};for(const ue of f.value.values())ne[ue.key]=ue;_.value=ne},{flush:"post"}),ln(()=>{if(n.activeKey!==void 0){let ne=[];const ue=n.activeKey?_.value[n.activeKey]:void 0;ue&&n.activeKey!==void 0?ne=_T([].concat(ao(ue.parentKeys),n.activeKey)):ne=[],pv(y.value,ne)||(y.value=ne)}}),ct(()=>n.selectedKeys,ne=>{ne&&(m.value=ne.slice())},{immediate:!0,deep:!0});const S=Ge([]);ct([_,m],()=>{let ne=[];m.value.forEach(ue=>{const Y=_.value[ue];Y&&(ne=ne.concat(ao(Y.parentKeys)))}),ne=_T(ne),pv(S.value,ne)||(S.value=ne)},{immediate:!0});const w=ne=>{if(n.selectable){const{key:ue}=ne,Y=m.value.includes(ue);let le;n.multiple?Y?le=m.value.filter(W=>W!==ue):le=[...m.value,ue]:le=[ue];const fe=O(O({},ne),{selectedKeys:le});pv(le,m.value)||(n.selectedKeys===void 0&&(m.value=le),r("update:selectedKeys",le),Y&&n.multiple?r("deselect",fe):r("select",fe))}P.value!=="inline"&&!n.multiple&&A.value.length&&F(cU)},A=Ge([]);ct(()=>n.openKeys,function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.value;pv(A.value,ne)||(A.value=ne.slice())},{immediate:!0,deep:!0});let T;const C=ne=>{clearTimeout(T),T=setTimeout(()=>{n.activeKey===void 0&&(y.value=ne),r("update:activeKey",ne[ne.length-1])})},R=K(()=>!!n.disabled),E=K(()=>s.value==="rtl"),P=Ge("vertical"),I=Oe(!1);ln(()=>{var ne;(n.mode==="inline"||n.mode==="vertical")&&p.value?(P.value="vertical",I.value=p.value):(P.value=n.mode,I.value=!1),!((ne=l==null?void 0:l.mode)===null||ne===void 0)&&ne.value&&(P.value=l.mode.value)});const D=K(()=>P.value==="inline"),F=ne=>{A.value=ne,r("update:openKeys",ne),r("openChange",ne)},L=Ge(A.value),$=Oe(!1);ct(A,()=>{D.value&&(L.value=A.value)},{immediate:!0}),ct(D,()=>{if(!$.value){$.value=!0;return}D.value?A.value=L.value:F(cU)},{immediate:!0});const U=K(()=>({[`${u.value}`]:!0,[`${u.value}-root`]:!0,[`${u.value}-${P.value}`]:!0,[`${u.value}-inline-collapsed`]:I.value,[`${u.value}-rtl`]:E.value,[`${u.value}-${n.theme}`]:!0})),k=K(()=>a()),H=K(()=>({horizontal:{name:`${k.value}-slide-up`},inline:xN(`${k.value}-motion-collapse`),other:{name:`${k.value}-zoom-big`}}));NW(!0);const z=function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const ue=[],Y=f.value;return ne.forEach(le=>{const{key:fe,childrenEventKeys:W}=Y.get(le);ue.push(fe,...z(ao(W)))}),ue},Q=ne=>{var ue;r("click",ne),w(ne),(ue=l==null?void 0:l.onClick)===null||ue===void 0||ue.call(l)},Z=(ne,ue)=>{var Y;const le=((Y=_.value[ne])===null||Y===void 0?void 0:Y.childrenEventKeys)||[];let fe=A.value.filter(W=>W!==ne);if(ue)fe.push(ne);else if(P.value!=="inline"){const W=z(ao(le));fe=_T(fe.filter(X=>!W.includes(X)))}pv(A,fe)||F(fe)},ie=(ne,ue)=>{f.value.set(ne,ue),f.value=new Map(f.value)},xe=ne=>{f.value.delete(ne),f.value=new Map(f.value)},J=Ge(0),se=K(()=>{var ne;return n.expandIcon||i.expandIcon||!((ne=l==null?void 0:l.expandIcon)===null||ne===void 0)&&ne.value?ue=>{let Y=n.expandIcon||i.expandIcon;return Y=typeof Y=="function"?Y(ue):Y,Oi(Y,{class:`${u.value}-submenu-expand-icon`},!1)}:null});MW({prefixCls:u,activeKeys:y,openKeys:A,selectedKeys:m,changeActiveKeys:C,disabled:R,rtl:E,mode:P,inlineIndent:K(()=>n.inlineIndent),subMenuCloseDelay:K(()=>n.subMenuCloseDelay),subMenuOpenDelay:K(()=>n.subMenuOpenDelay),builtinPlacements:K(()=>n.builtinPlacements),triggerSubMenuAction:K(()=>n.triggerSubMenuAction),getPopupContainer:K(()=>n.getPopupContainer),inlineCollapsed:I,theme:K(()=>n.theme),siderCollapsed:h,defaultMotions:K(()=>b.value?H.value:null),motion:K(()=>b.value?n.motion:null),overflowDisabled:Oe(void 0),onOpenChange:Z,onItemClick:Q,registerMenuInfo:ie,unRegisterMenuInfo:xe,selectedSubMenuKeys:S,expandIcon:se,forceSubMenuRender:K(()=>n.forceSubMenuRender),rootClassName:d});const ee=()=>{var ne;return g.value||ir((ne=i.default)===null||ne===void 0?void 0:ne.call(i))};return()=>{var ne;const ue=ee(),Y=J.value>=ue.length-1||P.value!=="horizontal"||n.disabledOverflow,le=W=>P.value!=="horizontal"||n.disabledOverflow?W:W.map((X,V)=>N(pw,{key:X.key,overflowDisabled:V>J.value},{default:()=>X})),fe=((ne=i.overflowedIndicator)===null||ne===void 0?void 0:ne.call(i))||N(W0,null,null);return c(N(nc,ve(ve({},o),{},{onMousedown:n.onMousedown,prefixCls:`${u.value}-overflow`,component:"ul",itemComponent:Yg,class:[U.value,o.class,d.value],role:"menu",id:n.id,data:le(ue),renderRawItem:W=>W,renderRawRest:W=>{const X=W.length,V=X?ue.slice(-X):null;return N(mn,null,[N(Qg,{eventKey:yx,key:yx,title:fe,disabled:Y,internalPopupClose:X===0},{default:()=>V}),N(nU,null,{default:()=>[N(Qg,{eventKey:yx,key:yx,title:fe,disabled:Y,internalPopupClose:X===0},{default:()=>V})]})])},maxCount:P.value!=="horizontal"||n.disabledOverflow?nc.INVALIDATE:nc.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:W=>{J.value=W}}),{default:()=>[N(mH,{to:"body"},{default:()=>[N("div",{style:{display:"none"},"aria-hidden":!0},[N(nU,null,{default:()=>[le(ee())]})])]})]}))}}});pa.install=function(n){return n.component(pa.name,pa),n.component(Yg.name,Yg),n.component(Qg.name,Qg),n.component(mw.name,mw),n.component(gw.name,gw),n};pa.Item=Yg;pa.Divider=mw;pa.SubMenu=Qg;pa.ItemGroup=gw;var bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _N(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Oye=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Dye={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:be.any,required:Boolean},FW=je({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:fi(Dye,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup(n,e){let{attrs:i,emit:r,expose:o}=e;const s=Ge(n.checked===void 0?n.defaultChecked:n.checked),a=Ge();ct(()=>n.checked,()=>{s.value=n.checked}),o({focus(){var d;(d=a.value)===null||d===void 0||d.focus()},blur(){var d;(d=a.value)===null||d===void 0||d.blur()}});const l=Ge(),u=d=>{if(n.disabled)return;n.checked===void 0&&(s.value=d.target.checked),d.shiftKey=l.value;const f={target:O(O({},n),{checked:d.target.checked}),stopPropagation(){d.stopPropagation()},preventDefault(){d.preventDefault()},nativeEvent:d};n.checked!==void 0&&(a.value.checked=!!n.checked),r("change",f),l.value=!1},c=d=>{r("click",d),l.value=d.shiftKey};return()=>{const{prefixCls:d,name:f,id:h,type:p,disabled:g,readonly:b,tabindex:y,autofocus:m,value:_,required:S}=n,w=Oye(n,["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"]),{class:A,onFocus:T,onBlur:C,onKeydown:R,onKeypress:E,onKeyup:P}=i,I=O(O({},w),i),D=Object.keys(I).reduce(($,U)=>((U.startsWith("data-")||U.startsWith("aria-")||U==="role")&&($[U]=I[U]),$),{}),F=Qe(d,A,{[`${d}-checked`]:s.value,[`${d}-disabled`]:g}),L=O(O({name:f,id:h,type:p,readonly:b,disabled:g,tabindex:y,class:`${d}-input`,checked:!!s.value,autofocus:m,value:_},D),{onChange:u,onClick:c,onFocus:T,onBlur:C,onKeydown:R,onKeypress:E,onKeyup:P,required:S});return N("span",{class:F},[N("input",ve({ref:a},L),null),N("span",{class:`${d}-inner`},null)])}}}),$W=Symbol("radioGroupContextKey"),Lye=n=>{jn($W,n)},Bye=()=>qt($W,void 0),UW=Symbol("radioOptionTypeContextKey"),Fye=n=>{jn(UW,n)},$ye=()=>qt(UW,void 0),Uye=new Dn("antRadioEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),kye=n=>{const{componentCls:e,antCls:i}=n,r=`${e}-group`;return{[r]:O(O({},di(n)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`${i}-badge ${i}-badge-count`]:{zIndex:1},[`> ${i}-badge:not(:first-child) > ${i}-button-wrapper`]:{borderInlineStart:"none"}})}},zye=n=>{const{componentCls:e,radioWrapperMarginRight:i,radioCheckedColor:r,radioSize:o,motionDurationSlow:s,motionDurationMid:a,motionEaseInOut:l,motionEaseInOutCirc:u,radioButtonBg:c,colorBorder:d,lineWidth:f,radioDotSize:h,colorBgContainerDisabled:p,colorTextDisabled:g,paddingXS:b,radioDotDisabledColor:y,lineType:m,radioDotDisabledSize:_,wireframe:S,colorWhite:w}=n,A=`${e}-inner`;return{[`${e}-wrapper`]:O(O({},di(n)),{position:"relative",display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:i,cursor:"pointer",[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:n.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${f}px ${m} ${r}`,borderRadius:"50%",visibility:"hidden",animationName:Uye,animationDuration:s,animationTimingFunction:l,animationFillMode:"both",content:'""'},[e]:O(O({},di(n)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center"}),[`${e}-wrapper:hover &,
        &:hover ${A}`]:{borderColor:r},[`${e}-input:focus-visible + ${A}`]:O({},uc(n)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:o,height:o,marginBlockStart:o/-2,marginInlineStart:o/-2,backgroundColor:S?r:w,borderBlockStart:0,borderInlineStart:0,borderRadius:o,transform:"scale(0)",opacity:0,transition:`all ${s} ${u}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:o,height:o,backgroundColor:c,borderColor:d,borderStyle:"solid",borderWidth:f,borderRadius:"50%",transition:`all ${a}`},[`${e}-input`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,insetBlockEnd:0,insetInlineStart:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[A]:{borderColor:r,backgroundColor:S?c:r,"&::after":{transform:`scale(${h/o})`,opacity:1,transition:`all ${s} ${u}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[A]:{backgroundColor:p,borderColor:d,cursor:"not-allowed","&::after":{backgroundColor:y}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:g,cursor:"not-allowed"},[`&${e}-checked`]:{[A]:{"&::after":{transform:`scale(${_/o})`}}}},[`span${e} + *`]:{paddingInlineStart:b,paddingInlineEnd:b}})}},Hye=n=>{const{radioButtonColor:e,controlHeight:i,componentCls:r,lineWidth:o,lineType:s,colorBorder:a,motionDurationSlow:l,motionDurationMid:u,radioButtonPaddingHorizontal:c,fontSize:d,radioButtonBg:f,fontSizeLG:h,controlHeightLG:p,controlHeightSM:g,paddingXS:b,borderRadius:y,borderRadiusSM:m,borderRadiusLG:_,radioCheckedColor:S,radioButtonCheckedBg:w,radioButtonHoverColor:A,radioButtonActiveColor:T,radioSolidCheckedColor:C,colorTextDisabled:R,colorBgContainerDisabled:E,radioDisabledButtonCheckedColor:P,radioDisabledButtonCheckedBg:I}=n;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:i,margin:0,paddingInline:c,paddingBlock:0,color:e,fontSize:d,lineHeight:`${i-o*2}px`,background:f,border:`${o}px ${s} ${a}`,borderBlockStartWidth:o+.02,borderInlineStartWidth:0,borderInlineEndWidth:o,cursor:"pointer",transition:[`color ${u}`,`background ${u}`,`border-color ${u}`,`box-shadow ${u}`].join(","),a:{color:e},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:-o,insetInlineStart:-o,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:o,paddingInline:0,backgroundColor:a,transition:`background-color ${l}`,content:'""'}},"&:first-child":{borderInlineStart:`${o}px ${s} ${a}`,borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y},"&:first-child:last-child":{borderRadius:y},[`${r}-group-large &`]:{height:p,fontSize:h,lineHeight:`${p-o*2}px`,"&:first-child":{borderStartStartRadius:_,borderEndStartRadius:_},"&:last-child":{borderStartEndRadius:_,borderEndEndRadius:_}},[`${r}-group-small &`]:{height:g,paddingInline:b-o,paddingBlock:0,lineHeight:`${g-o*2}px`,"&:first-child":{borderStartStartRadius:m,borderEndStartRadius:m},"&:last-child":{borderStartEndRadius:m,borderEndEndRadius:m}},"&:hover":{position:"relative",color:S},"&:has(:focus-visible)":O({},uc(n)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:S,background:w,borderColor:S,"&::before":{backgroundColor:S},"&:first-child":{borderColor:S},"&:hover":{color:A,borderColor:A,"&::before":{backgroundColor:A}},"&:active":{color:T,borderColor:T,"&::before":{backgroundColor:T}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:C,background:S,borderColor:S,"&:hover":{color:C,background:A,borderColor:A},"&:active":{color:C,background:T,borderColor:T}},"&-disabled":{color:R,backgroundColor:E,borderColor:a,cursor:"not-allowed","&:first-child, &:hover":{color:R,backgroundColor:E,borderColor:a}},[`&-disabled${r}-button-wrapper-checked`]:{color:P,backgroundColor:I,borderColor:a,boxShadow:"none"}}}},kW=Bi("Radio",n=>{const{padding:e,lineWidth:i,controlItemBgActiveDisabled:r,colorTextDisabled:o,colorBgContainer:s,fontSizeLG:a,controlOutline:l,colorPrimaryHover:u,colorPrimaryActive:c,colorText:d,colorPrimary:f,marginXS:h,controlOutlineWidth:p,colorTextLightSolid:g,wireframe:b}=n,y=`0 0 0 ${p}px ${l}`,m=y,_=a,S=4,w=_-S*2,A=b?w:_-(S+i)*2,T=f,C=d,R=u,E=c,P=e-i,F=On(n,{radioFocusShadow:y,radioButtonFocusShadow:m,radioSize:_,radioDotSize:A,radioDotDisabledSize:w,radioCheckedColor:T,radioDotDisabledColor:o,radioSolidCheckedColor:g,radioButtonBg:s,radioButtonCheckedBg:s,radioButtonColor:C,radioButtonHoverColor:R,radioButtonActiveColor:E,radioButtonPaddingHorizontal:P,radioDisabledButtonCheckedBg:r,radioDisabledButtonCheckedColor:o,radioWrapperMarginRight:h});return[kye(F),zye(F),Hye(F)]});var Gye=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const zW=()=>({prefixCls:String,checked:It(),disabled:It(),isGroup:It(),value:be.any,name:String,id:String,autofocus:It(),onChange:pt(),onFocus:pt(),onBlur:pt(),onClick:pt(),"onUpdate:checked":pt(),"onUpdate:value":pt()}),Qo=je({compatConfig:{MODE:3},name:"ARadio",inheritAttrs:!1,props:zW(),setup(n,e){let{emit:i,expose:r,slots:o,attrs:s}=e;const a=wc(),l=dc.useInject(),u=$ye(),c=Bye(),d=Bl(),f=K(()=>{var R;return(R=b.value)!==null&&R!==void 0?R:d.value}),h=Ge(),{prefixCls:p,direction:g,disabled:b}=tn("radio",n),y=K(()=>(c==null?void 0:c.optionType.value)==="button"||u==="button"?`${p.value}-button`:p.value),m=Bl(),[_,S]=kW(p);r({focus:()=>{h.value.focus()},blur:()=>{h.value.blur()}});const T=R=>{const E=R.target.checked;i("update:checked",E),i("update:value",E),i("change",R),a.onFieldChange()},C=R=>{i("change",R),c&&c.onChange&&c.onChange(R)};return()=>{var R;const E=c,{prefixCls:P,id:I=a.id.value}=n,D=Gye(n,["prefixCls","id"]),F=O(O({prefixCls:y.value,id:I},Ai(D,["onUpdate:checked","onUpdate:value"])),{disabled:(R=b.value)!==null&&R!==void 0?R:m.value});E?(F.name=E.name.value,F.onChange=C,F.checked=n.value===E.value.value,F.disabled=f.value||E.disabled.value):F.onChange=T;const L=Qe({[`${y.value}-wrapper`]:!0,[`${y.value}-wrapper-checked`]:F.checked,[`${y.value}-wrapper-disabled`]:F.disabled,[`${y.value}-wrapper-rtl`]:g.value==="rtl",[`${y.value}-wrapper-in-form-item`]:l.isFormItemInput},s.class,S.value);return _(N("label",ve(ve({},s),{},{class:L}),[N(FW,ve(ve({},F),{},{type:"radio",ref:h}),null),o.default&&N("span",null,[o.default()])]))}}}),Vye=()=>({prefixCls:String,value:be.any,size:Nn(),options:Ii(),disabled:It(),name:String,buttonStyle:Nn("outline"),id:String,optionType:Nn("default"),onChange:pt(),"onUpdate:value":pt()}),HW=je({compatConfig:{MODE:3},name:"ARadioGroup",inheritAttrs:!1,props:Vye(),setup(n,e){let{slots:i,emit:r,attrs:o}=e;const s=wc(),{prefixCls:a,direction:l,size:u}=tn("radio",n),[c,d]=kW(a),f=Ge(n.value),h=Ge(!1);return ct(()=>n.value,g=>{f.value=g,h.value=!1}),Lye({onChange:g=>{const b=f.value,{value:y}=g.target;"value"in n||(f.value=y),!h.value&&y!==b&&(h.value=!0,r("update:value",y),r("change",g),s.onFieldChange()),kn(()=>{h.value=!1})},value:f,disabled:K(()=>n.disabled),name:K(()=>n.name),optionType:K(()=>n.optionType)}),()=>{var g;const{options:b,buttonStyle:y,id:m=s.id.value}=n,_=`${a.value}-group`,S=Qe(_,`${_}-${y}`,{[`${_}-${u.value}`]:u.value,[`${_}-rtl`]:l.value==="rtl"},o.class,d.value);let w=null;return b&&b.length>0?w=b.map(A=>{if(typeof A=="string"||typeof A=="number")return N(Qo,{key:A,prefixCls:a.value,disabled:n.disabled,value:A,checked:f.value===A},{default:()=>[A]});const{value:T,disabled:C,label:R}=A;return N(Qo,{key:`radio-group-value-options-${T}`,prefixCls:a.value,disabled:C||n.disabled,value:T,checked:f.value===T},{default:()=>[R]})}):w=(g=i.default)===null||g===void 0?void 0:g.call(i),c(N("div",ve(ve({},o),{},{class:S,id:m}),[w]))}}}),GW=je({compatConfig:{MODE:3},name:"ARadioButton",inheritAttrs:!1,props:zW(),setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o}=tn("radio",n);return Fye("button"),()=>{var s;return N(Qo,ve(ve(ve({},r),n),{},{prefixCls:o.value}),{default:()=>[(s=i.default)===null||s===void 0?void 0:s.call(i)]})}}});Qo.Group=HW;Qo.Button=GW;Qo.install=function(n){return n.component(Qo.name,Qo),n.component(Qo.Group.name,Qo.Group),n.component(Qo.Button.name,Qo.Button),n};const Wye=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),SN=n=>({borderColor:n.inputBorderHoverColor,borderInlineEndWidth:n.lineWidth}),tR=n=>({borderColor:n.inputBorderHoverColor,boxShadow:`0 0 0 ${n.controlOutlineWidth}px ${n.controlOutline}`,borderInlineEndWidth:n.lineWidth,outline:0}),jye=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":O({},SN(On(n,{inputBorderHoverColor:n.colorBorder})))}),VW=n=>{const{inputPaddingVerticalLG:e,fontSizeLG:i,lineHeightLG:r,borderRadiusLG:o,inputPaddingHorizontalLG:s}=n;return{padding:`${e}px ${s}px`,fontSize:i,lineHeight:r,borderRadius:o}},wN=n=>({padding:`${n.inputPaddingVerticalSM}px ${n.controlPaddingHorizontalSM-1}px`,borderRadius:n.borderRadiusSM}),WW=(n,e)=>{const{componentCls:i,colorError:r,colorWarning:o,colorErrorOutline:s,colorWarningOutline:a,colorErrorBorderHover:l,colorWarningBorderHover:u}=n;return{[`&-status-error:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:r,"&:hover":{borderColor:l},"&:focus, &-focused":O({},tR(On(n,{inputBorderActiveColor:r,inputBorderHoverColor:r,controlOutline:s}))),[`${i}-prefix`]:{color:r}},[`&-status-warning:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:o,"&:hover":{borderColor:u},"&:focus, &-focused":O({},tR(On(n,{inputBorderActiveColor:o,inputBorderHoverColor:o,controlOutline:a}))),[`${i}-prefix`]:{color:o}}}},CN=n=>O(O({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${n.inputPaddingVertical}px ${n.inputPaddingHorizontal}px`,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,backgroundColor:n.colorBgContainer,backgroundImage:"none",borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:n.colorBorder,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},Wye(n.colorTextPlaceholder)),{"&:hover":O({},SN(n)),"&:focus, &-focused":O({},tR(n)),"&-disabled, &[disabled]":O({},jye(n)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":O({},VW(n)),"&-sm":O({},wN(n)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),Kye=n=>{const{componentCls:e,antCls:i}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:O({},VW(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:O({},wN(n)),[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${n.inputPaddingHorizontal}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,textAlign:"center",backgroundColor:n.colorFillAlter,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${i}-select`]:{margin:`-${n.inputPaddingVertical+1}px -${n.inputPaddingHorizontal}px`,[`&${i}-select-single:not(${i}-select-customize-input)`]:{[`${i}-select-selector`]:{backgroundColor:"inherit",border:`${n.lineWidth}px ${n.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${i}-select-selector`]:{color:n.colorPrimary}}},[`${i}-cascader-picker`]:{margin:`-9px -${n.inputPaddingHorizontal}px`,backgroundColor:"transparent",[`${i}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${e}`]:{float:"inline-start",width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${i}-select ${i}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${i}-select ${i}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:O(O({display:"block"},$l()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`& > ${e}-affix-wrapper`]:{display:"inline-flex"},[`& > ${i}-picker-range`]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-n.lineWidth,borderInlineEndWidth:n.lineWidth},[`${e}`]:{float:"none"},[`& > ${i}-select > ${i}-select-selector,
      & > ${i}-select-auto-complete ${e},
      & > ${i}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${i}-select-focused`]:{zIndex:1},[`& > ${i}-select > ${i}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${i}-select:first-child > ${i}-select-selector,
      & > ${i}-select-auto-complete:first-child ${e},
      & > ${i}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${i}-select:last-child > ${i}-select-selector,
      & > ${i}-cascader-picker:last-child ${e},
      & > ${i}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${i}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:-n.lineWidth,[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}}),[`&&-sm ${i}-btn`]:{fontSize:n.fontSizeSM,height:n.controlHeightSM,lineHeight:"normal"},[`&&-lg ${i}-btn`]:{fontSize:n.fontSizeLG,height:n.controlHeightLG,lineHeight:"normal"},[`&&-lg ${i}-select-single ${i}-select-selector`]:{height:`${n.controlHeightLG}px`,[`${i}-select-selection-item, ${i}-select-selection-placeholder`]:{lineHeight:`${n.controlHeightLG-2}px`},[`${i}-select-selection-search-input`]:{height:`${n.controlHeightLG}px`}},[`&&-sm ${i}-select-single ${i}-select-selector`]:{height:`${n.controlHeightSM}px`,[`${i}-select-selection-item, ${i}-select-selection-placeholder`]:{lineHeight:`${n.controlHeightSM-2}px`},[`${i}-select-selection-search-input`]:{height:`${n.controlHeightSM}px`}}}},qye=n=>{const{componentCls:e,controlHeightSM:i,lineWidth:r}=n,s=(i-r*2-16)/2;return{[e]:O(O(O(O({},di(n)),CN(n)),WW(n,e)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:i,paddingTop:s,paddingBottom:s}}})}},Xye=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${n.inputAffixPadding}px`}},"&-textarea-with-clear-btn":{padding:"0 !important",border:"0 !important",[`${e}-clear-icon`]:{position:"absolute",insetBlockStart:n.paddingXS,insetInlineEnd:n.paddingXS,zIndex:1}}}},Yye=n=>{const{componentCls:e,inputAffixPadding:i,colorTextDescription:r,motionDurationSlow:o,colorIcon:s,colorIconHover:a,iconCls:l}=n;return{[`${e}-affix-wrapper`]:O(O(O(O(O({},CN(n)),{display:"inline-flex",[`&:not(${e}-affix-wrapper-disabled):hover`]:O(O({},SN(n)),{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${e}[disabled]`]:{background:"transparent"}},[`> input${e}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${e}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:i},"&-suffix":{marginInlineStart:i}}}),Xye(n)),{[`${l}${e}-password-icon`]:{color:s,cursor:"pointer",transition:`all ${o}`,"&:hover":{color:a}}}),WW(n,`${e}-affix-wrapper`))}},Qye=n=>{const{componentCls:e,colorError:i,colorSuccess:r,borderRadiusLG:o,borderRadiusSM:s}=n;return{[`${e}-group`]:O(O(O({},di(n)),Kye(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:o}},"&-sm":{[`${e}-group-addon`]:{borderRadius:s}},"&-status-error":{[`${e}-group-addon`]:{color:i,borderColor:i}},"&-status-warning":{[`${e}-group-addon:last-child`]:{color:r,borderColor:r}}}})}},Zye=n=>{const{componentCls:e,antCls:i}=n,r=`${e}-search`;return{[r]:{[`${e}`]:{"&:hover, &:focus":{borderColor:n.colorPrimaryHover,[`+ ${e}-group-addon ${r}-button:not(${i}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:n.lineHeightLG-2e-4},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius,borderEndStartRadius:0},[`${r}-button:not(${i}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${i}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:n.controlHeightLG},[`&-small ${r}-button`]:{height:n.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:-n.lineWidth,borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}};function jW(n){return On(n,{inputAffixPadding:n.paddingXXS,inputPaddingVertical:Math.max(Math.round((n.controlHeight-n.fontSize*n.lineHeight)/2*10)/10-n.lineWidth,3),inputPaddingVerticalLG:Math.ceil((n.controlHeightLG-n.fontSizeLG*n.lineHeightLG)/2*10)/10-n.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((n.controlHeightSM-n.fontSize*n.lineHeight)/2*10)/10-n.lineWidth,0),inputPaddingHorizontal:n.paddingSM-n.lineWidth,inputPaddingHorizontalSM:n.paddingXS-n.lineWidth,inputPaddingHorizontalLG:n.controlPaddingHorizontal-n.lineWidth,inputBorderHoverColor:n.colorPrimaryHover,inputBorderActiveColor:n.colorPrimaryHover})}const Jye=n=>{const{componentCls:e,inputPaddingHorizontal:i,paddingLG:r}=n,o=`${e}-textarea`;return{[o]:{position:"relative",[`${o}-suffix`]:{position:"absolute",top:0,insetInlineEnd:i,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},"&-status-error,\n        &-status-warning,\n        &-status-success,\n        &-status-validating":{[`&${o}-has-feedback`]:{[`${e}`]:{paddingInlineEnd:r}}},"&-show-count":{[`> ${e}`]:{height:"100%"},"&::after":{color:n.colorTextDescription,whiteSpace:"nowrap",content:"attr(data-count)",pointerEvents:"none",float:"right"}},"&-rtl":{"&::after":{float:"left"}}}}},AN=Bi("Input",n=>{const e=jW(n);return[qye(e),Jye(e),Yye(e),Qye(e),Zye(e),sN(e)]});function e0e(n){const e=Oe(),i=Oe(!1);function r(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];i.value||(xn.cancel(e.value),e.value=xn(()=>{n(...s)}))}return Pn(()=>{i.value=!0,xn.cancel(e.value)}),r}function t0e(n){const e=Oe([]),i=Oe(typeof n=="function"?n():n),r=e0e(()=>{let s=i.value;e.value.forEach(a=>{s=a(s)}),e.value=[],i.value=s});function o(s){e.value.push(s),r()}return[i,o]}const n0e=je({compatConfig:{MODE:3},name:"TabNode",props:{id:{type:String},prefixCls:{type:String},tab:{type:Object},active:{type:Boolean},closable:{type:Boolean},editable:{type:Object},onClick:{type:Function},onResize:{type:Function},renderWrapper:{type:Function},removeAriaLabel:{type:String},onFocus:{type:Function}},emits:["click","resize","remove","focus"],setup(n,e){let{expose:i,attrs:r}=e;const o=Ge();function s(u){var c;!((c=n.tab)===null||c===void 0)&&c.disabled||n.onClick(u)}i({domRef:o});function a(u){var c;u.preventDefault(),u.stopPropagation(),n.editable.onEdit("remove",{key:(c=n.tab)===null||c===void 0?void 0:c.key,event:u})}const l=K(()=>{var u;return n.editable&&n.closable!==!1&&!(!((u=n.tab)===null||u===void 0)&&u.disabled)});return()=>{var u;const{prefixCls:c,id:d,active:f,tab:{key:h,tab:p,disabled:g,closeIcon:b},renderWrapper:y,removeAriaLabel:m,editable:_,onFocus:S}=n,w=`${c}-tab`,A=N("div",{key:h,ref:o,class:Qe(w,{[`${w}-with-remove`]:l.value,[`${w}-active`]:f,[`${w}-disabled`]:g}),style:r.style,onClick:s},[N("div",{role:"tab","aria-selected":f,id:d&&`${d}-tab-${h}`,class:`${w}-btn`,"aria-controls":d&&`${d}-panel-${h}`,"aria-disabled":g,tabindex:g?null:0,onClick:T=>{T.stopPropagation(),s(T)},onKeydown:T=>{[at.SPACE,at.ENTER].includes(T.which)&&(T.preventDefault(),s(T))},onFocus:S},[typeof p=="function"?p():p]),l.value&&N("button",{type:"button","aria-label":m||"remove",tabindex:0,class:`${w}-remove`,onClick:T=>{T.stopPropagation(),a(T)}},[(b==null?void 0:b())||((u=_.removeIcon)===null||u===void 0?void 0:u.call(_))||""])]);return y?y(A):A}}}),dU={width:0,height:0,left:0,top:0};function i0e(n,e){const i=Ge(new Map);return ln(()=>{var r,o;const s=new Map,a=n.value,l=e.value.get((r=a[0])===null||r===void 0?void 0:r.key)||dU,u=l.left+l.width;for(let c=0;c<a.length;c+=1){const{key:d}=a[c];let f=e.value.get(d);f||(f=e.value.get((o=a[c-1])===null||o===void 0?void 0:o.key)||dU);const h=s.get(d)||O({},f);h.right=u-h.left-h.width,s.set(d,h)}i.value=new Map(s)}),i}const KW=je({compatConfig:{MODE:3},name:"AddButton",inheritAttrs:!1,props:{prefixCls:String,editable:{type:Object},locale:{type:Object,default:void 0}},setup(n,e){let{expose:i,attrs:r}=e;const o=Ge();return i({domRef:o}),()=>{const{prefixCls:s,editable:a,locale:l}=n;return!a||a.showAdd===!1?null:N("button",{ref:o,type:"button",class:`${s}-nav-add`,style:r.style,"aria-label":(l==null?void 0:l.addAriaLabel)||"Add tab",onClick:u=>{a.onEdit("add",{event:u})}},[a.addIcon?a.addIcon():"+"])}}}),r0e={prefixCls:{type:String},id:{type:String},tabs:{type:Object},rtl:{type:Boolean},tabBarGutter:{type:Number},activeKey:{type:[String,Number]},mobile:{type:Boolean},moreIcon:be.any,moreTransitionName:{type:String},editable:{type:Object},locale:{type:Object,default:void 0},removeAriaLabel:String,onTabClick:{type:Function},popupClassName:String,getPopupContainer:pt()},o0e=je({compatConfig:{MODE:3},name:"OperationNode",inheritAttrs:!1,props:r0e,emits:["tabClick"],slots:Object,setup(n,e){let{attrs:i,slots:r}=e;const[o,s]=Wn(!1),[a,l]=Wn(null),u=p=>{const g=n.tabs.filter(m=>!m.disabled);let b=g.findIndex(m=>m.key===a.value)||0;const y=g.length;for(let m=0;m<y;m+=1){b=(b+p+y)%y;const _=g[b];if(!_.disabled){l(_.key);return}}},c=p=>{const{which:g}=p;if(!o.value){[at.DOWN,at.SPACE,at.ENTER].includes(g)&&(s(!0),p.preventDefault());return}switch(g){case at.UP:u(-1),p.preventDefault();break;case at.DOWN:u(1),p.preventDefault();break;case at.ESC:s(!1);break;case at.SPACE:case at.ENTER:a.value!==null&&n.onTabClick(a.value,p);break}},d=K(()=>`${n.id}-more-popup`),f=K(()=>a.value!==null?`${d.value}-${a.value}`:null),h=(p,g)=>{p.preventDefault(),p.stopPropagation(),n.editable.onEdit("remove",{key:g,event:p})};return en(()=>{ct(a,()=>{const p=document.getElementById(f.value);p&&p.scrollIntoView&&p.scrollIntoView(!1)},{flush:"post",immediate:!0})}),ct(o,()=>{o.value||l(null)}),TW({}),()=>{var p;const{prefixCls:g,id:b,tabs:y,locale:m,mobile:_,moreIcon:S=((p=r.moreIcon)===null||p===void 0?void 0:p.call(r))||N(W0,null,null),moreTransitionName:w,editable:A,tabBarGutter:T,rtl:C,onTabClick:R,popupClassName:E}=n;if(!y.length)return null;const P=`${g}-dropdown`,I=m==null?void 0:m.dropdownAriaLabel,D={[C?"marginRight":"marginLeft"]:T};y.length||(D.visibility="hidden",D.order=1);const F=Qe({[`${P}-rtl`]:C,[`${E}`]:!0}),L=_?null:N(vW,{prefixCls:P,trigger:["hover"],visible:o.value,transitionName:w,onVisibleChange:s,overlayClassName:F,mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:n.getPopupContainer},{overlay:()=>N(pa,{onClick:$=>{let{key:U,domEvent:k}=$;R(U,k),s(!1)},id:d.value,tabindex:-1,role:"listbox","aria-activedescendant":f.value,selectedKeys:[a.value],"aria-label":I!==void 0?I:"expanded dropdown"},{default:()=>[y.map($=>{var U,k;const H=A&&$.closable!==!1&&!$.disabled;return N(Yg,{key:$.key,id:`${d.value}-${$.key}`,role:"option","aria-controls":b&&`${b}-panel-${$.key}`,disabled:$.disabled},{default:()=>[N("span",null,[typeof $.tab=="function"?$.tab():$.tab]),H&&N("button",{type:"button","aria-label":n.removeAriaLabel||"remove",tabindex:0,class:`${P}-menu-item-remove`,onClick:z=>{z.stopPropagation(),h(z,$.key)}},[((U=$.closeIcon)===null||U===void 0?void 0:U.call($))||((k=A.removeIcon)===null||k===void 0?void 0:k.call(A))||""])]})})]}),default:()=>N("button",{type:"button",class:`${g}-nav-more`,style:D,tabindex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":d.value,id:`${b}-more`,"aria-expanded":o.value,onKeydown:c},[S])});return N("div",{class:Qe(`${g}-nav-operations`,i.class),style:i.style},[L,N(KW,{prefixCls:g,locale:m,editable:A},null)])}}}),qW=Symbol("tabsContextKey"),s0e=n=>{jn(qW,n)},XW=()=>qt(qW,{tabs:Ge([]),prefixCls:Ge()}),a0e=.1,fU=.01,gS=20,hU=Math.pow(.995,gS);function l0e(n,e){const[i,r]=Wn(),[o,s]=Wn(0),[a,l]=Wn(0),[u,c]=Wn(),d=Ge();function f(A){const{screenX:T,screenY:C}=A.touches[0];r({x:T,y:C}),clearInterval(d.value)}function h(A){if(!i.value)return;A.preventDefault();const{screenX:T,screenY:C}=A.touches[0],R=T-i.value.x,E=C-i.value.y;e(R,E),r({x:T,y:C});const P=Date.now();l(P-o.value),s(P),c({x:R,y:E})}function p(){if(!i.value)return;const A=u.value;if(r(null),c(null),A){const T=A.x/a.value,C=A.y/a.value,R=Math.abs(T),E=Math.abs(C);if(Math.max(R,E)<a0e)return;let P=T,I=C;d.value=setInterval(()=>{if(Math.abs(P)<fU&&Math.abs(I)<fU){clearInterval(d.value);return}P*=hU,I*=hU,e(P*gS,I*gS)},gS)}}const g=Ge();function b(A){const{deltaX:T,deltaY:C}=A;let R=0;const E=Math.abs(T),P=Math.abs(C);E===P?R=g.value==="x"?T:C:E>P?(R=T,g.value="x"):(R=C,g.value="y"),e(-R,-R)&&A.preventDefault()}const y=Ge({onTouchStart:f,onTouchMove:h,onTouchEnd:p,onWheel:b});function m(A){y.value.onTouchStart(A)}function _(A){y.value.onTouchMove(A)}function S(A){y.value.onTouchEnd(A)}function w(A){y.value.onWheel(A)}en(()=>{var A,T;document.addEventListener("touchmove",_,{passive:!1}),document.addEventListener("touchend",S,{passive:!1}),(A=n.value)===null||A===void 0||A.addEventListener("touchstart",m,{passive:!1}),(T=n.value)===null||T===void 0||T.addEventListener("wheel",w,{passive:!1})}),Pn(()=>{document.removeEventListener("touchmove",_),document.removeEventListener("touchend",S)})}function pU(n,e){const i=Ge(n);function r(o){const s=typeof o=="function"?o(i.value):o;s!==i.value&&e(s,i.value),i.value=s}return[i,r]}const YW=()=>{const n=Ge(new Map),e=i=>r=>{n.value.set(i,r)};return cI(()=>{n.value=new Map}),[e,n]},gU={width:0,height:0,left:0,top:0,right:0},u0e=()=>({id:{type:String},tabPosition:{type:String},activeKey:{type:[String,Number]},rtl:{type:Boolean},animated:vn(),editable:vn(),moreIcon:be.any,moreTransitionName:{type:String},mobile:{type:Boolean},tabBarGutter:{type:Number},renderTabBar:{type:Function},locale:vn(),popupClassName:String,getPopupContainer:pt(),onTabClick:{type:Function},onTabScroll:{type:Function}}),c0e=(n,e)=>{const{offsetWidth:i,offsetHeight:r,offsetTop:o,offsetLeft:s}=n,{width:a,height:l,x:u,y:c}=n.getBoundingClientRect();return Math.abs(a-i)<1?[a,l,u-e.x,c-e.y]:[i,r,s,o]},mU=je({compatConfig:{MODE:3},name:"TabNavList",inheritAttrs:!1,props:u0e(),slots:Object,emits:["tabClick","tabScroll"],setup(n,e){let{attrs:i,slots:r}=e;const{tabs:o,prefixCls:s}=XW(),a=Oe(),l=Oe(),u=Oe(),c=Oe(),[d,f]=YW(),h=K(()=>n.tabPosition==="top"||n.tabPosition==="bottom"),[p,g]=pU(0,(he,ge)=>{h.value&&n.onTabScroll&&n.onTabScroll({direction:he>ge?"left":"right"})}),[b,y]=pU(0,(he,ge)=>{!h.value&&n.onTabScroll&&n.onTabScroll({direction:he>ge?"top":"bottom"})}),[m,_]=Wn(0),[S,w]=Wn(0),[A,T]=Wn(null),[C,R]=Wn(null),[E,P]=Wn(0),[I,D]=Wn(0),[F,L]=t0e(new Map),$=i0e(o,F),U=K(()=>`${s.value}-nav-operations-hidden`),k=Oe(0),H=Oe(0);ln(()=>{h.value?n.rtl?(k.value=0,H.value=Math.max(0,m.value-A.value)):(k.value=Math.min(0,A.value-m.value),H.value=0):(k.value=Math.min(0,C.value-S.value),H.value=0)});const z=he=>he<k.value?k.value:he>H.value?H.value:he,Q=Oe(),[Z,ie]=Wn(),xe=()=>{ie(Date.now())},J=()=>{clearTimeout(Q.value)},se=(he,ge)=>{he(me=>z(me+ge))};l0e(a,(he,ge)=>{if(h.value){if(A.value>=m.value)return!1;se(g,he)}else{if(C.value>=S.value)return!1;se(y,ge)}return J(),xe(),!0}),ct(Z,()=>{J(),Z.value&&(Q.value=setTimeout(()=>{ie(0)},100))});const ee=function(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.activeKey;const ge=$.value.get(he)||{width:0,height:0,left:0,right:0,top:0};if(h.value){let me=p.value;n.rtl?ge.right<p.value?me=ge.right:ge.right+ge.width>p.value+A.value&&(me=ge.right+ge.width-A.value):ge.left<-p.value?me=-ge.left:ge.left+ge.width>-p.value+A.value&&(me=-(ge.left+ge.width-A.value)),y(0),g(z(me))}else{let me=b.value;ge.top<-b.value?me=-ge.top:ge.top+ge.height>-b.value+C.value&&(me=-(ge.top+ge.height-C.value)),g(0),y(z(me))}},ne=Oe(0),ue=Oe(0);ln(()=>{let he,ge,me,j,G,ce;const Ee=$.value;["top","bottom"].includes(n.tabPosition)?(he="width",j=A.value,G=m.value,ce=E.value,ge=n.rtl?"right":"left",me=Math.abs(p.value)):(he="height",j=C.value,G=m.value,ce=I.value,ge="top",me=-b.value);let de=j;G+ce>j&&G<j&&(de=j-ce);const re=o.value;if(!re.length)return[ne.value,ue.value]=[0,0];const Ce=re.length;let Me=Ce;for(let dt=0;dt<Ce;dt+=1){const we=Ee.get(re[dt].key)||gU;if(we[ge]+we[he]>me+de){Me=dt-1;break}}let Ve=0;for(let dt=Ce-1;dt>=0;dt-=1)if((Ee.get(re[dt].key)||gU)[ge]<me){Ve=dt+1;break}return[ne.value,ue.value]=[Ve,Me]});const Y=()=>{L(()=>{var he;const ge=new Map,me=(he=l.value)===null||he===void 0?void 0:he.getBoundingClientRect();return o.value.forEach(j=>{let{key:G}=j;const ce=f.value.get(G),Ee=(ce==null?void 0:ce.$el)||ce;if(Ee){const[de,re,Ce,Me]=c0e(Ee,me);ge.set(G,{width:de,height:re,left:Ce,top:Me})}}),ge})};ct(()=>o.value.map(he=>he.key).join("%%"),()=>{Y()},{flush:"post"});const le=()=>{var he,ge,me,j,G;const ce=((he=a.value)===null||he===void 0?void 0:he.offsetWidth)||0,Ee=((ge=a.value)===null||ge===void 0?void 0:ge.offsetHeight)||0,de=((me=c.value)===null||me===void 0?void 0:me.$el)||{},re=de.offsetWidth||0,Ce=de.offsetHeight||0;T(ce),R(Ee),P(re),D(Ce);const Me=(((j=l.value)===null||j===void 0?void 0:j.offsetWidth)||0)-re,Ve=(((G=l.value)===null||G===void 0?void 0:G.offsetHeight)||0)-Ce;_(Me),w(Ve),Y()},fe=K(()=>[...o.value.slice(0,ne.value),...o.value.slice(ue.value+1)]),[W,X]=Wn(),V=K(()=>$.value.get(n.activeKey)),Se=Oe(),pe=()=>{xn.cancel(Se.value)};ct([V,h,()=>n.rtl],()=>{const he={};V.value&&(h.value?(n.rtl?he.right=Uf(V.value.right):he.left=Uf(V.value.left),he.width=Uf(V.value.width)):(he.top=Uf(V.value.top),he.height=Uf(V.value.height))),pe(),Se.value=xn(()=>{X(he)})}),ct([()=>n.activeKey,V,$,h],()=>{ee()},{flush:"post"}),ct([()=>n.rtl,()=>n.tabBarGutter,()=>n.activeKey,()=>o.value],()=>{le()},{flush:"post"});const _e=he=>{let{position:ge,prefixCls:me,extra:j}=he;if(!j)return null;const G=j==null?void 0:j({position:ge});return G?N("div",{class:`${me}-extra-content`},[G]):null};return Pn(()=>{J(),pe()}),()=>{const{id:he,animated:ge,activeKey:me,rtl:j,editable:G,locale:ce,tabPosition:Ee,tabBarGutter:de,onTabClick:re}=n,{class:Ce,style:Me}=i,Ve=s.value,dt=!!fe.value.length,we=`${Ve}-nav-wrap`;let Ie,Ue,Ye,Ke;h.value?j?(Ue=p.value>0,Ie=p.value+A.value<m.value):(Ie=p.value<0,Ue=-p.value+A.value<m.value):(Ye=b.value<0,Ke=-b.value+C.value<S.value);const ut={};Ee==="top"||Ee==="bottom"?ut[j?"marginRight":"marginLeft"]=typeof de=="number"?`${de}px`:de:ut.marginTop=typeof de=="number"?`${de}px`:de;const ot=o.value.map((Et,Ae)=>{const{key:it}=Et;return N(n0e,{id:he,prefixCls:Ve,key:it,tab:Et,style:Ae===0?void 0:ut,closable:Et.closable,editable:G,active:it===me,removeAriaLabel:ce==null?void 0:ce.removeAriaLabel,ref:d(it),onClick:$e=>{re(it,$e)},onFocus:()=>{ee(it),xe(),a.value&&(j||(a.value.scrollLeft=0),a.value.scrollTop=0)}},r)});return N("div",{role:"tablist",class:Qe(`${Ve}-nav`,Ce),style:Me,onKeydown:()=>{xe()}},[N(_e,{position:"left",prefixCls:Ve,extra:r.leftExtra},null),N(Bd,{onResize:le},{default:()=>[N("div",{class:Qe(we,{[`${we}-ping-left`]:Ie,[`${we}-ping-right`]:Ue,[`${we}-ping-top`]:Ye,[`${we}-ping-bottom`]:Ke}),ref:a},[N(Bd,{onResize:le},{default:()=>[N("div",{ref:l,class:`${Ve}-nav-list`,style:{transform:`translate(${p.value}px, ${b.value}px)`,transition:Z.value?"none":void 0}},[ot,N(KW,{ref:c,prefixCls:Ve,locale:ce,editable:G,style:O(O({},ot.length===0?void 0:ut),{visibility:dt?"hidden":null})},null),N("div",{class:Qe(`${Ve}-ink-bar`,{[`${Ve}-ink-bar-animated`]:ge.inkBar}),style:W.value},null)])]})])]}),N(o0e,ve(ve({},n),{},{removeAriaLabel:ce==null?void 0:ce.removeAriaLabel,ref:u,prefixCls:Ve,tabs:fe.value,class:!dt&&U.value}),uW(r,["moreIcon"])),N(_e,{position:"right",prefixCls:Ve,extra:r.rightExtra},null),N(_e,{position:"right",prefixCls:Ve,extra:r.tabBarExtraContent},null)])}}}),d0e=je({compatConfig:{MODE:3},name:"TabPanelList",inheritAttrs:!1,props:{activeKey:{type:[String,Number]},id:{type:String},rtl:{type:Boolean},animated:{type:Object,default:void 0},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean}},setup(n){const{tabs:e,prefixCls:i}=XW();return()=>{const{id:r,activeKey:o,animated:s,tabPosition:a,rtl:l,destroyInactiveTabPane:u}=n,c=s.tabPane,d=i.value,f=e.value.findIndex(h=>h.key===o);return N("div",{class:`${d}-content-holder`},[N("div",{class:[`${d}-content`,`${d}-content-${a}`,{[`${d}-content-animated`]:c}],style:f&&c?{[l?"marginRight":"marginLeft"]:`-${f}00%`}:null},[e.value.map(h=>Oi(h.node,{key:h.key,prefixCls:d,tabKey:h.key,id:r,animated:c,active:h.key===o,destroyInactiveTabPane:u}))])])}}});var f0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};function vU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){h0e(n,o,i[o])})}return n}function h0e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var TN=function(e,i){var r=vU({},e,i.attrs);return N(Tn,vU({},r,{icon:f0e}),null)};TN.displayName="PlusOutlined";TN.inheritAttrs=!1;const p0e=n=>{const{componentCls:e,motionDurationSlow:i}=n;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${i}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${i}`}}}}},[Fd(n,"slide-up"),Fd(n,"slide-down")]]},g0e=n=>{const{componentCls:e,tabsCardHorizontalPadding:i,tabsCardHeadBackground:r,tabsCardGutter:o,colorSplit:s}=n;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:i,background:r,border:`${n.lineWidth}px ${n.lineType} ${s}`,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`},[`${e}-tab-active`]:{color:n.colorPrimary,background:n.colorBgContainer},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:`${o}px`}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`},[`${e}-tab-active`]:{borderBottomColor:n.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px`},[`${e}-tab-active`]:{borderTopColor:n.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:`${o}px`}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${n.borderRadiusLG}px 0 0 ${n.borderRadiusLG}px`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:n.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:n.colorBgContainer}}}}}}},m0e=n=>{const{componentCls:e,tabsHoverColor:i,dropdownEdgeChildVerticalPadding:r}=n;return{[`${e}-dropdown`]:O(O({},di(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:n.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:n.tabsDropdownHeight,margin:0,padding:`${r}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:n.colorBgContainer,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,"&-item":O(O({},Fl),{display:"flex",alignItems:"center",minWidth:n.tabsDropdownWidth,margin:0,padding:`${n.paddingXXS}px ${n.paddingSM}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:n.marginSM},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:i}},"&:hover":{background:n.controlItemBgHover},"&-disabled":{"&, &:hover":{color:n.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},v0e=n=>{const{componentCls:e,margin:i,colorSplit:r}=n;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:`0 0 ${i}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${n.lineWidth}px ${n.lineType} ${r}`,content:"''"},[`${e}-ink-bar`]:{height:n.lineWidthBold,"&-animated":{transition:`width ${n.motionDurationSlow}, left ${n.motionDurationSlow},
            right ${n.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:n.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:`${i}px`,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:n.controlHeight*1.25,[`${e}-tab`]:{padding:`${n.paddingXS}px ${n.paddingLG}px`,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:`${n.margin}px 0 0 0`},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:n.controlHeight},"&::before":{top:0,boxShadow:n.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:n.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:n.lineWidthBold,"&-animated":{transition:`height ${n.motionDurationSlow}, top ${n.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${n.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:n.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-n.lineWidth},borderRight:{_skip_check_:!0,value:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:n.paddingLG}}}}}},y0e=n=>{const{componentCls:e,padding:i}=n;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${n.paddingXS}px 0`,fontSize:n.fontSize}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${i}px 0`,fontSize:n.fontSizeLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${n.paddingXXS*1.5}px ${i}px`}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${n.borderRadius}px ${n.borderRadius}px`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${n.borderRadius}px ${n.borderRadius}px 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${n.borderRadius}px ${n.borderRadius}px 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${n.borderRadius}px 0 0 ${n.borderRadius}px`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${n.paddingXS}px ${i}px ${n.paddingXXS*1.5}px`}}}}}},b0e=n=>{const{componentCls:e,tabsActiveColor:i,tabsHoverColor:r,iconCls:o,tabsHorizontalGutter:s}=n,a=`${e}-tab`;return{[a]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${n.paddingSM}px 0`,fontSize:`${n.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":O({"&:focus:not(:focus-visible), &:active":{color:i}},yh(n)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-n.marginXXS},marginLeft:{_skip_check_:!0,value:n.marginXS},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextHeading}},"&:hover":{color:r},[`&${a}-active ${a}-btn`]:{color:n.colorPrimary,textShadow:n.tabsActiveTextShadow},[`&${a}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${a}-disabled ${a}-btn, &${a}-disabled ${e}-remove`]:{"&:focus, &:active":{color:n.colorTextDisabled}},[`& ${a}-remove ${o}`]:{margin:0},[o]:{marginRight:{_skip_check_:!0,value:n.marginSM}}},[`${a} + ${a}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${s}px`}}}},x0e=n=>{const{componentCls:e,tabsHorizontalGutter:i,iconCls:r,tabsCardGutter:o}=n;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${i}px`},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${n.marginSM}px`}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${n.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${n.marginXXS}px`},[r]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:`${o}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},_0e=n=>{const{componentCls:e,tabsCardHorizontalPadding:i,tabsCardHeight:r,tabsCardGutter:o,tabsHoverColor:s,tabsActiveColor:a,colorSplit:l}=n;return{[e]:O(O(O(O({},di(n)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${n.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${n.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:i,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:n.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:O({minWidth:`${r}px`,marginLeft:{_skip_check_:!0,value:`${o}px`},padding:`0 ${n.paddingXS}px`,background:"transparent",border:`${n.lineWidth}px ${n.lineType} ${l}`,borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:n.colorText,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`,"&:hover":{color:s},"&:active, &:focus:not(:focus-visible)":{color:a}},yh(n))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:n.colorPrimary,pointerEvents:"none"}}),b0e(n)),{[`${e}-content`]:{position:"relative",display:"flex",width:"100%","&-animated":{transition:"margin 0.3s"}},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:{outline:"none",flex:"none",width:"100%"}}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},S0e=Bi("Tabs",n=>{const e=n.controlHeightLG,i=On(n,{tabsHoverColor:n.colorPrimaryHover,tabsActiveColor:n.colorPrimaryActive,tabsCardHorizontalPadding:`${(e-Math.round(n.fontSize*n.lineHeight))/2-n.lineWidth}px ${n.padding}px`,tabsCardHeight:e,tabsCardGutter:n.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:n.colorFillAlter,dropdownEdgeChildVerticalPadding:n.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[y0e(i),x0e(i),v0e(i),m0e(i),g0e(i),_0e(i),p0e(i)]},n=>({zIndexPopup:n.zIndexPopupBase+50}));let yU=0;const QW=()=>({prefixCls:{type:String},id:{type:String},popupClassName:String,getPopupContainer:pt(),activeKey:{type:[String,Number]},defaultActiveKey:{type:[String,Number]},direction:Nn(),animated:Pi([Boolean,Object]),renderTabBar:pt(),tabBarGutter:{type:Number},tabBarStyle:vn(),tabPosition:Nn(),destroyInactiveTabPane:It(),hideAdd:Boolean,type:Nn(),size:Nn(),centered:Boolean,onEdit:pt(),onChange:pt(),onTabClick:pt(),onTabScroll:pt(),"onUpdate:activeKey":pt(),locale:vn(),onPrevClick:pt(),onNextClick:pt(),tabBarExtraContent:be.any});function w0e(n){return n.map(e=>{if(mo(e)){const i=O({},e.props||{});for(const[h,p]of Object.entries(i))delete i[h],i[k0(h)]=p;const r=e.children||{},o=e.key!==void 0?e.key:void 0,{tab:s=r.tab,disabled:a,forceRender:l,closable:u,animated:c,active:d,destroyInactiveTabPane:f}=i;return O(O({key:o},i),{node:e,closeIcon:r.closeIcon,tab:s,disabled:a===""||a,forceRender:l===""||l,closable:u===""||u,animated:c===""||c,active:d===""||d,destroyInactiveTabPane:f===""||f})}return null}).filter(e=>e)}const C0e=je({compatConfig:{MODE:3},name:"InternalTabs",inheritAttrs:!1,props:O(O({},fi(QW(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}})),{tabs:Ii()}),slots:Object,setup(n,e){let{attrs:i,slots:r}=e;gi(n.onPrevClick===void 0&&n.onNextClick===void 0,"Tabs","`onPrevClick / @prevClick` and `onNextClick / @nextClick` has been removed. Please use `onTabScroll / @tabScroll` instead."),gi(n.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` prop has been removed. Please use `rightExtra` slot instead."),gi(r.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` slot is deprecated. Please use `rightExtra` slot instead.");const{prefixCls:o,direction:s,size:a,rootPrefixCls:l,getPopupContainer:u}=tn("tabs",n),[c,d]=S0e(o),f=K(()=>s.value==="rtl"),h=K(()=>{const{animated:C,tabPosition:R}=n;return C===!1||["left","right"].includes(R)?{inkBar:!1,tabPane:!1}:C===!0?{inkBar:!0,tabPane:!0}:O({inkBar:!0,tabPane:!1},typeof C=="object"?C:{})}),[p,g]=Wn(!1);en(()=>{g(BV())});const[b,y]=qg(()=>{var C;return(C=n.tabs[0])===null||C===void 0?void 0:C.key},{value:K(()=>n.activeKey),defaultValue:n.defaultActiveKey}),[m,_]=Wn(()=>n.tabs.findIndex(C=>C.key===b.value));ln(()=>{var C;let R=n.tabs.findIndex(E=>E.key===b.value);R===-1&&(R=Math.max(0,Math.min(m.value,n.tabs.length-1)),y((C=n.tabs[R])===null||C===void 0?void 0:C.key)),_(R)});const[S,w]=qg(null,{value:K(()=>n.id)}),A=K(()=>p.value&&!["left","right"].includes(n.tabPosition)?"top":n.tabPosition);en(()=>{n.id||(w(`rc-tabs-${yU}`),yU+=1)});const T=(C,R)=>{var E,P;(E=n.onTabClick)===null||E===void 0||E.call(n,C,R);const I=C!==b.value;y(C),I&&((P=n.onChange)===null||P===void 0||P.call(n,C))};return s0e({tabs:K(()=>n.tabs),prefixCls:o}),()=>{const{id:C,type:R,tabBarGutter:E,tabBarStyle:P,locale:I,destroyInactiveTabPane:D,renderTabBar:F=r.renderTabBar,onTabScroll:L,hideAdd:$,centered:U}=n,k={id:S.value,activeKey:b.value,animated:h.value,tabPosition:A.value,rtl:f.value,mobile:p.value};let H;R==="editable-card"&&(H={onEdit:(ie,xe)=>{let{key:J,event:se}=xe;var ee;(ee=n.onEdit)===null||ee===void 0||ee.call(n,ie==="add"?se:J,ie)},removeIcon:()=>N(qd,null,null),addIcon:r.addIcon?r.addIcon:()=>N(TN,null,null),showAdd:$!==!0});let z;const Q=O(O({},k),{moreTransitionName:`${l.value}-slide-up`,editable:H,locale:I,tabBarGutter:E,onTabClick:T,onTabScroll:L,style:P,getPopupContainer:u.value,popupClassName:Qe(n.popupClassName,d.value)});F?z=F(O(O({},Q),{DefaultTabBar:mU})):z=N(mU,Q,uW(r,["moreIcon","leftExtra","rightExtra","tabBarExtraContent"]));const Z=o.value;return c(N("div",ve(ve({},i),{},{id:C,class:Qe(Z,`${Z}-${A.value}`,{[d.value]:!0,[`${Z}-${a.value}`]:a.value,[`${Z}-card`]:["card","editable-card"].includes(R),[`${Z}-editable-card`]:R==="editable-card",[`${Z}-centered`]:U,[`${Z}-mobile`]:p.value,[`${Z}-editable`]:R==="editable-card",[`${Z}-rtl`]:f.value},i.class)}),[z,N(d0e,ve(ve({destroyInactiveTabPane:D},k),{},{animated:h.value}),null)]))}}}),oh=je({compatConfig:{MODE:3},name:"ATabs",inheritAttrs:!1,props:fi(QW(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}}),slots:Object,setup(n,e){let{attrs:i,slots:r,emit:o}=e;const s=a=>{o("update:activeKey",a),o("change",a)};return()=>{var a;const l=w0e(ir((a=r.default)===null||a===void 0?void 0:a.call(r)));return N(C0e,ve(ve(ve({},Ai(n,["onUpdate:activeKey"])),i),{},{onChange:s,tabs:l}),r)}}}),A0e=()=>({tab:be.any,disabled:{type:Boolean},forceRender:{type:Boolean},closable:{type:Boolean},animated:{type:Boolean},active:{type:Boolean},destroyInactiveTabPane:{type:Boolean},prefixCls:{type:String},tabKey:{type:[String,Number]},id:{type:String}}),vw=je({compatConfig:{MODE:3},name:"ATabPane",inheritAttrs:!1,__ANT_TAB_PANE:!0,props:A0e(),slots:Object,setup(n,e){let{attrs:i,slots:r}=e;const o=Ge(n.forceRender);ct([()=>n.active,()=>n.destroyInactiveTabPane],()=>{n.active?o.value=!0:n.destroyInactiveTabPane&&(o.value=!1)},{immediate:!0});const s=K(()=>n.active?{}:n.animated?{visibility:"hidden",height:0,overflowY:"hidden"}:{display:"none"});return()=>{var a;const{prefixCls:l,forceRender:u,id:c,active:d,tabKey:f}=n;return N("div",{id:c&&`${c}-panel-${f}`,role:"tabpanel",tabindex:d?0:-1,"aria-labelledby":c&&`${c}-tab-${f}`,"aria-hidden":!d,style:[s.value,i.style],class:[`${l}-tabpane`,d&&`${l}-tabpane-active`,i.class]},[(d||o.value||u)&&((a=r.default)===null||a===void 0?void 0:a.call(r))])}}});oh.TabPane=vw;oh.install=function(n){return n.component(oh.name,oh),n.component(vw.name,vw),n};const T0e=n=>{const{antCls:e,componentCls:i,cardHeadHeight:r,cardPaddingBase:o,cardHeadTabsMarginBottom:s}=n;return O(O({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${o}px`,color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG,background:"transparent",borderBottom:`${n.lineWidth}px ${n.lineType} ${n.colorBorderSecondary}`,borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`},$l()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":O(O({display:"inline-block",flex:1},Fl),{[`
          > ${i}-typography,
          > ${i}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${e}-tabs-top`]:{clear:"both",marginBottom:s,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,"&-bar":{borderBottom:`${n.lineWidth}px ${n.lineType} ${n.colorBorderSecondary}`}}})},E0e=n=>{const{cardPaddingBase:e,colorBorderSecondary:i,cardShadow:r,lineWidth:o}=n;return{width:"33.33%",padding:e,border:0,borderRadius:0,boxShadow:`
      ${o}px 0 0 0 ${i},
      0 ${o}px 0 0 ${i},
      ${o}px ${o}px 0 0 ${i},
      ${o}px 0 0 0 ${i} inset,
      0 ${o}px 0 0 ${i} inset;
    `,transition:`all ${n.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},M0e=n=>{const{componentCls:e,iconCls:i,cardActionsLiMargin:r,cardActionsIconSize:o,colorBorderSecondary:s}=n;return O(O({margin:0,padding:0,listStyle:"none",background:n.colorBgContainer,borderTop:`${n.lineWidth}px ${n.lineType} ${s}`,display:"flex",borderRadius:`0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px `},$l()),{"& > li":{margin:r,color:n.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:n.cardActionsIconSize*2,fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer","&:hover":{color:n.colorPrimary,transition:`color ${n.motionDurationMid}`},[`a:not(${e}-btn), > ${i}`]:{display:"inline-block",width:"100%",color:n.colorTextDescription,lineHeight:`${n.fontSize*n.lineHeight}px`,transition:`color ${n.motionDurationMid}`,"&:hover":{color:n.colorPrimary}},[`> ${i}`]:{fontSize:o,lineHeight:`${o*n.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${n.lineWidth}px ${n.lineType} ${s}`}}})},R0e=n=>O(O({margin:`-${n.marginXXS}px 0`,display:"flex"},$l()),{"&-avatar":{paddingInlineEnd:n.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:n.marginXS}},"&-title":O({color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG},Fl),"&-description":{color:n.colorTextDescription}}),P0e=n=>{const{componentCls:e,cardPaddingBase:i,colorFillAlter:r}=n;return{[`${e}-head`]:{padding:`0 ${i}px`,background:r,"&-title":{fontSize:n.fontSize}},[`${e}-body`]:{padding:`${n.padding}px ${i}px`}}},I0e=n=>{const{componentCls:e}=n;return{overflow:"hidden",[`${e}-body`]:{userSelect:"none"}}},N0e=n=>{const{componentCls:e,cardShadow:i,cardHeadPadding:r,colorBorderSecondary:o,boxShadow:s,cardPaddingBase:a}=n;return{[e]:O(O({},di(n)),{position:"relative",background:n.colorBgContainer,borderRadius:n.borderRadiusLG,[`&:not(${e}-bordered)`]:{boxShadow:s},[`${e}-head`]:T0e(n),[`${e}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:n.fontSize},[`${e}-body`]:O({padding:a,borderRadius:` 0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px`},$l()),[`${e}-grid`]:E0e(n),[`${e}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`}},[`${e}-actions`]:M0e(n),[`${e}-meta`]:R0e(n)}),[`${e}-bordered`]:{border:`${n.lineWidth}px ${n.lineType} ${o}`,[`${e}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${e}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${n.motionDurationMid}, border-color ${n.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:i}},[`${e}-contain-grid`]:{[`${e}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${e}-loading) ${e}-body`]:{marginBlockStart:-n.lineWidth,marginInlineStart:-n.lineWidth,padding:0}},[`${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{paddingTop:r}}},[`${e}-type-inner`]:P0e(n),[`${e}-loading`]:I0e(n),[`${e}-rtl`]:{direction:"rtl"}}},O0e=n=>{const{componentCls:e,cardPaddingSM:i,cardHeadHeightSM:r}=n;return{[`${e}-small`]:{[`> ${e}-head`]:{minHeight:r,padding:`0 ${i}px`,fontSize:n.fontSize,[`> ${e}-head-wrapper`]:{[`> ${e}-extra`]:{fontSize:n.fontSize}}},[`> ${e}-body`]:{padding:i}},[`${e}-small${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{minHeight:r,paddingTop:0,display:"flex",alignItems:"center"}}}}},D0e=Bi("Card",n=>{const e=On(n,{cardShadow:n.boxShadowCard,cardHeadHeight:n.fontSizeLG*n.lineHeightLG+n.padding*2,cardHeadHeightSM:n.fontSize*n.lineHeight+n.paddingXS*2,cardHeadPadding:n.padding,cardPaddingBase:n.paddingLG,cardHeadTabsMarginBottom:-n.padding-n.lineWidth,cardActionsLiMargin:`${n.paddingSM}px 0`,cardActionsIconSize:n.fontSize,cardPaddingSM:12});return[N0e(e),O0e(e)]}),L0e=()=>({prefixCls:String,width:{type:[Number,String]}}),EN=je({compatConfig:{MODE:3},name:"SkeletonTitle",props:L0e(),setup(n){return()=>{const{prefixCls:e,width:i}=n,r=typeof i=="number"?`${i}px`:i;return N("h3",{class:e,style:{width:r}},null)}}}),B0e=()=>({prefixCls:String,width:{type:[Number,String,Array]},rows:Number}),F0e=je({compatConfig:{MODE:3},name:"SkeletonParagraph",props:B0e(),setup(n){const e=i=>{const{width:r,rows:o=2}=n;if(Array.isArray(r))return r[i];if(o-1===i)return r};return()=>{const{prefixCls:i,rows:r}=n,o=[...Array(r)].map((s,a)=>{const l=e(a);return N("li",{key:a,style:{width:typeof l=="number"?`${l}px`:l}},null)});return N("ul",{class:i},[o])}}}),k1=()=>({prefixCls:String,size:[String,Number],shape:String,active:{type:Boolean,default:void 0}}),j0=n=>{const{prefixCls:e,size:i,shape:r}=n,o=Qe({[`${e}-lg`]:i==="large",[`${e}-sm`]:i==="small"}),s=Qe({[`${e}-circle`]:r==="circle",[`${e}-square`]:r==="square",[`${e}-round`]:r==="round"}),a=typeof i=="number"?{width:`${i}px`,height:`${i}px`,lineHeight:`${i}px`}:{};return N("span",{class:Qe(e,o,s),style:a},null)};j0.displayName="SkeletonElement";const $0e=new Dn("ant-skeleton-loading",{"0%":{transform:"translateX(-37.5%)"},"100%":{transform:"translateX(37.5%)"}}),z1=n=>({height:n,lineHeight:`${n}px`}),Cg=n=>O({width:n},z1(n)),U0e=n=>({position:"relative",zIndex:0,overflow:"hidden",background:"transparent","&::after":{position:"absolute",top:0,insetInlineEnd:"-150%",bottom:0,insetInlineStart:"-150%",background:n.skeletonLoadingBackground,animationName:$0e,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite",content:'""'}}),MT=n=>O({width:n*5,minWidth:n*5},z1(n)),k0e=n=>{const{skeletonAvatarCls:e,color:i,controlHeight:r,controlHeightLG:o,controlHeightSM:s}=n;return{[`${e}`]:O({display:"inline-block",verticalAlign:"top",background:i},Cg(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:O({},Cg(o)),[`${e}${e}-sm`]:O({},Cg(s))}},z0e=n=>{const{controlHeight:e,borderRadiusSM:i,skeletonInputCls:r,controlHeightLG:o,controlHeightSM:s,color:a}=n;return{[`${r}`]:O({display:"inline-block",verticalAlign:"top",background:a,borderRadius:i},MT(e)),[`${r}-lg`]:O({},MT(o)),[`${r}-sm`]:O({},MT(s))}},bU=n=>O({width:n},z1(n)),H0e=n=>{const{skeletonImageCls:e,imageSizeBase:i,color:r,borderRadiusSM:o}=n;return{[`${e}`]:O(O({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:o},bU(i*2)),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:O(O({},bU(i)),{maxWidth:i*4,maxHeight:i*4}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},RT=(n,e,i)=>{const{skeletonButtonCls:r}=n;return{[`${i}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${i}${r}-round`]:{borderRadius:e}}},PT=n=>O({width:n*2,minWidth:n*2},z1(n)),G0e=n=>{const{borderRadiusSM:e,skeletonButtonCls:i,controlHeight:r,controlHeightLG:o,controlHeightSM:s,color:a}=n;return O(O(O(O(O({[`${i}`]:O({display:"inline-block",verticalAlign:"top",background:a,borderRadius:e,width:r*2,minWidth:r*2},PT(r))},RT(n,r,i)),{[`${i}-lg`]:O({},PT(o))}),RT(n,o,`${i}-lg`)),{[`${i}-sm`]:O({},PT(s))}),RT(n,s,`${i}-sm`))},V0e=n=>{const{componentCls:e,skeletonAvatarCls:i,skeletonTitleCls:r,skeletonParagraphCls:o,skeletonButtonCls:s,skeletonInputCls:a,skeletonImageCls:l,controlHeight:u,controlHeightLG:c,controlHeightSM:d,color:f,padding:h,marginSM:p,borderRadius:g,skeletonTitleHeight:b,skeletonBlockRadius:y,skeletonParagraphLineHeight:m,controlHeightXS:_,skeletonParagraphMarginTop:S}=n;return{[`${e}`]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:h,verticalAlign:"top",[`${i}`]:O({display:"inline-block",verticalAlign:"top",background:f},Cg(u)),[`${i}-circle`]:{borderRadius:"50%"},[`${i}-lg`]:O({},Cg(c)),[`${i}-sm`]:O({},Cg(d))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${r}`]:{width:"100%",height:b,background:f,borderRadius:y,[`+ ${o}`]:{marginBlockStart:d}},[`${o}`]:{padding:0,"> li":{width:"100%",height:m,listStyle:"none",background:f,borderRadius:y,"+ li":{marginBlockStart:_}}},[`${o}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${o} > li`]:{borderRadius:g}}},[`${e}-with-avatar ${e}-content`]:{[`${r}`]:{marginBlockStart:p,[`+ ${o}`]:{marginBlockStart:S}}},[`${e}${e}-element`]:O(O(O(O({display:"inline-block",width:"auto"},G0e(n)),k0e(n)),z0e(n)),H0e(n)),[`${e}${e}-block`]:{width:"100%",[`${s}`]:{width:"100%"},[`${a}`]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${o} > li,
        ${i},
        ${s},
        ${a},
        ${l}
      `]:O({},U0e(n))}}},K0=Bi("Skeleton",n=>{const{componentCls:e}=n,i=On(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n.controlHeight*1.5,skeletonTitleHeight:n.controlHeight/2,skeletonBlockRadius:n.borderRadiusSM,skeletonParagraphLineHeight:n.controlHeight/2,skeletonParagraphMarginTop:n.marginLG+n.marginXXS,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.color} 25%, ${n.colorGradientEnd} 37%, ${n.color} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[V0e(i)]},n=>{const{colorFillContent:e,colorFill:i}=n;return{color:e,colorGradientEnd:i}}),W0e=()=>({active:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},prefixCls:String,avatar:{type:[Boolean,Object],default:void 0},title:{type:[Boolean,Object],default:void 0},paragraph:{type:[Boolean,Object],default:void 0},round:{type:Boolean,default:void 0}});function IT(n){return n&&typeof n=="object"?n:{}}function j0e(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function K0e(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function q0e(n,e){const i={};return(!n||!e)&&(i.width="61%"),!n&&e?i.rows=3:i.rows=2,i}const Yo=je({compatConfig:{MODE:3},name:"ASkeleton",props:fi(W0e(),{avatar:!1,title:!0,paragraph:!0}),setup(n,e){let{slots:i}=e;const{prefixCls:r,direction:o}=tn("skeleton",n),[s,a]=K0(r);return()=>{var l;const{loading:u,avatar:c,title:d,paragraph:f,active:h,round:p}=n,g=r.value;if(u||n.loading===void 0){const b=!!c||c==="",y=!!d||d==="",m=!!f||f==="";let _;if(b){const A=O(O({prefixCls:`${g}-avatar`},j0e(y,m)),IT(c));_=N("div",{class:`${g}-header`},[N(j0,A,null)])}let S;if(y||m){let A;if(y){const C=O(O({prefixCls:`${g}-title`},K0e(b,m)),IT(d));A=N(EN,C,null)}let T;if(m){const C=O(O({prefixCls:`${g}-paragraph`},q0e(b,y)),IT(f));T=N(F0e,C,null)}S=N("div",{class:`${g}-content`},[A,T])}const w=Qe(g,{[`${g}-with-avatar`]:b,[`${g}-active`]:h,[`${g}-rtl`]:o.value==="rtl",[`${g}-round`]:p,[a.value]:!0});return s(N("div",{class:w},[_,S]))}return(l=i.default)===null||l===void 0?void 0:l.call(i)}}}),X0e=()=>O(O({},k1()),{size:String,block:Boolean}),ZW=je({compatConfig:{MODE:3},name:"ASkeletonButton",props:fi(X0e(),{size:"default"}),setup(n){const{prefixCls:e}=tn("skeleton",n),[i,r]=K0(e),o=K(()=>Qe(e.value,`${e.value}-element`,{[`${e.value}-active`]:n.active,[`${e.value}-block`]:n.block},r.value));return()=>i(N("div",{class:o.value},[N(j0,ve(ve({},n),{},{prefixCls:`${e.value}-button`}),null)]))}}),JW=je({compatConfig:{MODE:3},name:"ASkeletonInput",props:O(O({},Ai(k1(),["shape"])),{size:String,block:Boolean}),setup(n){const{prefixCls:e}=tn("skeleton",n),[i,r]=K0(e),o=K(()=>Qe(e.value,`${e.value}-element`,{[`${e.value}-active`]:n.active,[`${e.value}-block`]:n.block},r.value));return()=>i(N("div",{class:o.value},[N(j0,ve(ve({},n),{},{prefixCls:`${e.value}-input`}),null)]))}}),Y0e="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",e9=je({compatConfig:{MODE:3},name:"ASkeletonImage",props:Ai(k1(),["size","shape","active"]),setup(n){const{prefixCls:e}=tn("skeleton",n),[i,r]=K0(e),o=K(()=>Qe(e.value,`${e.value}-element`,r.value));return()=>i(N("div",{class:o.value},[N("div",{class:`${e.value}-image`},[N("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",class:`${e.value}-image-svg`},[N("path",{d:Y0e,class:`${e.value}-image-path`},null)])])]))}}),Q0e=()=>O(O({},k1()),{shape:String}),t9=je({compatConfig:{MODE:3},name:"ASkeletonAvatar",props:fi(Q0e(),{size:"default",shape:"circle"}),setup(n){const{prefixCls:e}=tn("skeleton",n),[i,r]=K0(e),o=K(()=>Qe(e.value,`${e.value}-element`,{[`${e.value}-active`]:n.active},r.value));return()=>i(N("div",{class:o.value},[N(j0,ve(ve({},n),{},{prefixCls:`${e.value}-avatar`}),null)]))}});Yo.Button=ZW;Yo.Avatar=t9;Yo.Input=JW;Yo.Image=e9;Yo.Title=EN;Yo.install=function(n){return n.component(Yo.name,Yo),n.component(Yo.Button.name,ZW),n.component(Yo.Avatar.name,t9),n.component(Yo.Input.name,JW),n.component(Yo.Image.name,e9),n.component(Yo.Title.name,EN),n};const{TabPane:Z0e}=oh,J0e=()=>({prefixCls:String,title:be.any,extra:be.any,bordered:{type:Boolean,default:!0},bodyStyle:{type:Object,default:void 0},headStyle:{type:Object,default:void 0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},type:{type:String},size:{type:String},actions:be.any,tabList:{type:Array},tabBarExtraContent:be.any,activeTabKey:String,defaultActiveTabKey:String,cover:be.any,onTabChange:{type:Function}}),Ag=je({compatConfig:{MODE:3},name:"ACard",inheritAttrs:!1,props:J0e(),slots:Object,setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o,direction:s,size:a}=tn("card",n),[l,u]=D0e(o),c=h=>h.map((g,b)=>wr(g)&&!mI(g)||!wr(g)?N("li",{style:{width:`${100/h.length}%`},key:`action-${b}`},[N("span",null,[g])]):null),d=h=>{var p;(p=n.onTabChange)===null||p===void 0||p.call(n,h)},f=function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p;return h.forEach(g=>{g&&rW(g.type)&&g.type.__ANT_CARD_GRID&&(p=!0)}),p};return()=>{var h,p,g,b,y,m;const{headStyle:_={},bodyStyle:S={},loading:w,bordered:A=!0,type:T,tabList:C,hoverable:R,activeTabKey:E,defaultActiveTabKey:P,tabBarExtraContent:I=cv((h=i.tabBarExtraContent)===null||h===void 0?void 0:h.call(i)),title:D=cv((p=i.title)===null||p===void 0?void 0:p.call(i)),extra:F=cv((g=i.extra)===null||g===void 0?void 0:g.call(i)),actions:L=cv((b=i.actions)===null||b===void 0?void 0:b.call(i)),cover:$=cv((y=i.cover)===null||y===void 0?void 0:y.call(i))}=n,U=ir((m=i.default)===null||m===void 0?void 0:m.call(i)),k=o.value,H={[`${k}`]:!0,[u.value]:!0,[`${k}-loading`]:w,[`${k}-bordered`]:A,[`${k}-hoverable`]:!!R,[`${k}-contain-grid`]:f(U),[`${k}-contain-tabs`]:C&&C.length,[`${k}-${a.value}`]:a.value,[`${k}-type-${T}`]:!!T,[`${k}-rtl`]:s.value==="rtl"},z=N(Yo,{loading:!0,active:!0,paragraph:{rows:4},title:!1},{default:()=>[U]}),Q=E!==void 0,Z={size:"large",[Q?"activeKey":"defaultActiveKey"]:Q?E:P,onChange:d,class:`${k}-head-tabs`};let ie;const xe=C&&C.length?N(oh,Z,{default:()=>[C.map(ne=>{const{tab:ue,slots:Y}=ne,le=Y==null?void 0:Y.tab;gi(!Y,"Card","tabList slots is deprecated, Please use `customTab` instead.");let fe=ue!==void 0?ue:i[le]?i[le](ne):null;return fe=A1(i,"customTab",ne,()=>[fe]),N(Z0e,{tab:fe,key:ne.key,disabled:ne.disabled},null)})],rightExtra:I?()=>I:null}):null;(D||F||xe)&&(ie=N("div",{class:`${k}-head`,style:_},[N("div",{class:`${k}-head-wrapper`},[D&&N("div",{class:`${k}-head-title`},[D]),F&&N("div",{class:`${k}-extra`},[F])]),xe]));const J=$?N("div",{class:`${k}-cover`},[$]):null,se=N("div",{class:`${k}-body`,style:S},[w?z:U]),ee=L&&L.length?N("ul",{class:`${k}-actions`},[c(L)]):null;return l(N("div",ve(ve({ref:"cardContainerRef"},r),{},{class:[H,r.class]}),[ie,J,U.length?se:null,ee]))}}}),ebe=()=>({prefixCls:String,title:tT(),description:tT(),avatar:tT()}),nR=je({compatConfig:{MODE:3},name:"ACardMeta",props:ebe(),slots:Object,setup(n,e){let{slots:i}=e;const{prefixCls:r}=tn("card",n);return()=>{const o={[`${r.value}-meta`]:!0},s=ha(i,n,"avatar"),a=ha(i,n,"title"),l=ha(i,n,"description"),u=s?N("div",{class:`${r.value}-meta-avatar`},[s]):null,c=a?N("div",{class:`${r.value}-meta-title`},[a]):null,d=l?N("div",{class:`${r.value}-meta-description`},[l]):null,f=c||d?N("div",{class:`${r.value}-meta-detail`},[c,d]):null;return N("div",{class:o},[u,f])}}}),tbe=()=>({prefixCls:String,hoverable:{type:Boolean,default:!0}}),iR=je({compatConfig:{MODE:3},name:"ACardGrid",__ANT_CARD_GRID:!0,props:tbe(),setup(n,e){let{slots:i}=e;const{prefixCls:r}=tn("card",n),o=K(()=>({[`${r.value}-grid`]:!0,[`${r.value}-grid-hoverable`]:n.hoverable}));return()=>{var s;return N("div",{class:o.value},[(s=i.default)===null||s===void 0?void 0:s.call(i)])}}});Ag.Meta=nR;Ag.Grid=iR;Ag.install=function(n){return n.component(Ag.name,Ag),n.component(nR.name,nR),n.component(iR.name,iR),n};const n9=Symbol("TreeContextKey"),nbe=je({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(n,e){let{slots:i}=e;return jn(n9,K(()=>n.value)),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}}),MN=()=>qt(n9,K(()=>({}))),i9=Symbol("KeysStateKey"),ibe=n=>{jn(i9,n)},r9=()=>qt(i9,{expandedKeys:Oe([]),selectedKeys:Oe([]),loadedKeys:Oe([]),loadingKeys:Oe([]),checkedKeys:Oe([]),halfCheckedKeys:Oe([]),expandedKeysSet:K(()=>new Set),selectedKeysSet:K(()=>new Set),loadedKeysSet:K(()=>new Set),loadingKeysSet:K(()=>new Set),checkedKeysSet:K(()=>new Set),halfCheckedKeysSet:K(()=>new Set),flattenNodes:Oe([])}),rbe=n=>{let{prefixCls:e,level:i,isStart:r,isEnd:o}=n;const s=`${e}-indent-unit`,a=[];for(let l=0;l<i;l+=1)a.push(N("span",{key:l,class:{[s]:!0,[`${s}-start`]:r[l],[`${s}-end`]:o[l]}},null));return N("span",{"aria-hidden":"true",class:`${e}-indent`},[a])},o9={eventKey:[String,Number],prefixCls:String,title:be.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:be.any,switcherIcon:be.any,domRef:{type:Function}},obe={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},s9=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:be.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:be.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:be.any,switcherIcon:be.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var sbe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const xU="open",_U="close",abe="---",rR=je({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:o9,isTreeNode:1,setup(n,e){let{attrs:i,slots:r,expose:o}=e;"slots"in n.data,`${Object.keys(n.data.slots||{}).map(de=>"`v-slot:"+de+"` ")}`;const s=Oe(!1),a=MN(),{expandedKeysSet:l,selectedKeysSet:u,loadedKeysSet:c,loadingKeysSet:d,checkedKeysSet:f,halfCheckedKeysSet:h}=r9(),{dragOverNodeKey:p,dropPosition:g,keyEntities:b}=a.value,y=K(()=>mS(n.eventKey,{expandedKeysSet:l.value,selectedKeysSet:u.value,loadedKeysSet:c.value,loadingKeysSet:d.value,checkedKeysSet:f.value,halfCheckedKeysSet:h.value,dragOverNodeKey:p,dropPosition:g,keyEntities:b})),m=ka(()=>y.value.expanded),_=ka(()=>y.value.selected),S=ka(()=>y.value.checked),w=ka(()=>y.value.loaded),A=ka(()=>y.value.loading),T=ka(()=>y.value.halfChecked),C=ka(()=>y.value.dragOver),R=ka(()=>y.value.dragOverGapTop),E=ka(()=>y.value.dragOverGapBottom),P=ka(()=>y.value.pos),I=Oe(),D=K(()=>{const{eventKey:de}=n,{keyEntities:re}=a.value,{children:Ce}=re[de]||{};return!!(Ce||[]).length}),F=K(()=>{const{isLeaf:de}=n,{loadData:re}=a.value,Ce=D.value;return de===!1?!1:de||!re&&!Ce||re&&w.value&&!Ce}),L=K(()=>F.value?null:m.value?xU:_U),$=K(()=>{const{disabled:de}=n,{disabled:re}=a.value;return!!(re||de)}),U=K(()=>{const{checkable:de}=n,{checkable:re}=a.value;return!re||de===!1?!1:re}),k=K(()=>{const{selectable:de}=n,{selectable:re}=a.value;return typeof de=="boolean"?de:re}),H=K(()=>{const{data:de,active:re,checkable:Ce,disableCheckbox:Me,disabled:Ve,selectable:dt}=n;return O(O({active:re,checkable:Ce,disableCheckbox:Me,disabled:Ve,selectable:dt},de),{dataRef:de,data:de,isLeaf:F.value,checked:S.value,expanded:m.value,loading:A.value,selected:_.value,halfChecked:T.value})}),z=hs(),Q=K(()=>{const{eventKey:de}=n,{keyEntities:re}=a.value,{parent:Ce}=re[de]||{};return O(O({},vS(O({},n,y.value))),{parent:Ce})}),Z=Ki({eventData:Q,eventKey:K(()=>n.eventKey),selectHandle:I,pos:P,key:z.vnode.key});o(Z);const ie=de=>{const{onNodeDoubleClick:re}=a.value;re(de,Q.value)},xe=de=>{if($.value)return;const{onNodeSelect:re}=a.value;de.preventDefault(),re(de,Q.value)},J=de=>{if($.value)return;const{disableCheckbox:re}=n,{onNodeCheck:Ce}=a.value;if(!U.value||re)return;de.preventDefault();const Me=!S.value;Ce(de,Q.value,Me)},se=de=>{const{onNodeClick:re}=a.value;re(de,Q.value),k.value?xe(de):J(de)},ee=de=>{const{onNodeMouseEnter:re}=a.value;re(de,Q.value)},ne=de=>{const{onNodeMouseLeave:re}=a.value;re(de,Q.value)},ue=de=>{const{onNodeContextMenu:re}=a.value;re(de,Q.value)},Y=de=>{const{onNodeDragStart:re}=a.value;de.stopPropagation(),s.value=!0,re(de,Z);try{de.dataTransfer.setData("text/plain","")}catch{}},le=de=>{const{onNodeDragEnter:re}=a.value;de.preventDefault(),de.stopPropagation(),re(de,Z)},fe=de=>{const{onNodeDragOver:re}=a.value;de.preventDefault(),de.stopPropagation(),re(de,Z)},W=de=>{const{onNodeDragLeave:re}=a.value;de.stopPropagation(),re(de,Z)},X=de=>{const{onNodeDragEnd:re}=a.value;de.stopPropagation(),s.value=!1,re(de,Z)},V=de=>{const{onNodeDrop:re}=a.value;de.preventDefault(),de.stopPropagation(),s.value=!1,re(de,Z)},Se=de=>{const{onNodeExpand:re}=a.value;A.value||re(de,Q.value)},pe=()=>{const{data:de}=n,{draggable:re}=a.value;return!!(re&&(!re.nodeDraggable||re.nodeDraggable(de)))},_e=()=>{const{draggable:de,prefixCls:re}=a.value;return de&&(de!=null&&de.icon)?N("span",{class:`${re}-draggable-icon`},[de.icon]):null},he=()=>{var de,re,Ce;const{switcherIcon:Me=r.switcherIcon||((de=a.value.slots)===null||de===void 0?void 0:de[(Ce=(re=n.data)===null||re===void 0?void 0:re.slots)===null||Ce===void 0?void 0:Ce.switcherIcon])}=n,{switcherIcon:Ve}=a.value,dt=Me||Ve;return typeof dt=="function"?dt(H.value):dt},ge=()=>{const{loadData:de,onNodeLoad:re}=a.value;A.value||de&&m.value&&!F.value&&!D.value&&!w.value&&re(Q.value)};en(()=>{ge()}),Ca(()=>{ge()});const me=()=>{const{prefixCls:de}=a.value,re=he();if(F.value)return re!==!1?N("span",{class:Qe(`${de}-switcher`,`${de}-switcher-noop`)},[re]):null;const Ce=Qe(`${de}-switcher`,`${de}-switcher_${m.value?xU:_U}`);return re!==!1?N("span",{onClick:Se,class:Ce},[re]):null},j=()=>{var de,re;const{disableCheckbox:Ce}=n,{prefixCls:Me}=a.value,Ve=$.value;return U.value?N("span",{class:Qe(`${Me}-checkbox`,S.value&&`${Me}-checkbox-checked`,!S.value&&T.value&&`${Me}-checkbox-indeterminate`,(Ve||Ce)&&`${Me}-checkbox-disabled`),onClick:J},[(re=(de=a.value).customCheckable)===null||re===void 0?void 0:re.call(de)]):null},G=()=>{const{prefixCls:de}=a.value;return N("span",{class:Qe(`${de}-iconEle`,`${de}-icon__${L.value||"docu"}`,A.value&&`${de}-icon_loading`)},null)},ce=()=>{const{disabled:de,eventKey:re}=n,{draggable:Ce,dropLevelOffset:Me,dropPosition:Ve,prefixCls:dt,indent:we,dropIndicatorRender:Ie,dragOverNodeKey:Ue,direction:Ye}=a.value;return!de&&Ce!==!1&&Ue===re?Ie({dropPosition:Ve,dropLevelOffset:Me,indent:we,prefixCls:dt,direction:Ye}):null},Ee=()=>{var de,re,Ce,Me,Ve,dt;const{icon:we=r.icon,data:Ie}=n,Ue=r.title||((de=a.value.slots)===null||de===void 0?void 0:de[(Ce=(re=n.data)===null||re===void 0?void 0:re.slots)===null||Ce===void 0?void 0:Ce.title])||((Me=a.value.slots)===null||Me===void 0?void 0:Me.title)||n.title,{prefixCls:Ye,showIcon:Ke,icon:ut,loadData:ot}=a.value,Et=$.value,Ae=`${Ye}-node-content-wrapper`;let it;if(Ke){const gt=we||((Ve=a.value.slots)===null||Ve===void 0?void 0:Ve[(dt=Ie==null?void 0:Ie.slots)===null||dt===void 0?void 0:dt.icon])||ut;it=gt?N("span",{class:Qe(`${Ye}-iconEle`,`${Ye}-icon__customize`)},[typeof gt=="function"?gt(H.value):gt]):G()}else ot&&A.value&&(it=G());let $e;typeof Ue=="function"?$e=Ue(H.value):$e=Ue,$e=$e===void 0?abe:$e;const We=N("span",{class:`${Ye}-title`},[$e]);return N("span",{ref:I,title:typeof Ue=="string"?Ue:"",class:Qe(`${Ae}`,`${Ae}-${L.value||"normal"}`,!Et&&(_.value||s.value)&&`${Ye}-node-selected`),onMouseenter:ee,onMouseleave:ne,onContextmenu:ue,onClick:se,onDblclick:ie},[it,We,ce()])};return()=>{const de=O(O({},n),i),{eventKey:re,isLeaf:Ce,isStart:Me,isEnd:Ve,domRef:dt,active:we,data:Ie,onMousemove:Ue,selectable:Ye}=de,Ke=sbe(de,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:ut,filterTreeNode:ot,keyEntities:Et,dropContainerKey:Ae,dropTargetKey:it,draggingNodeKey:$e}=a.value,We=$.value,gt=Uh(Ke,{aria:!0,data:!0}),{level:yt}=Et[re]||{},Dt=Ve[Ve.length-1],Xt=pe(),Un=!We&&Xt,nn=$e===re,Ti=Ye!==void 0?{"aria-selected":!!Ye}:void 0;return N("div",ve(ve({ref:dt,class:Qe(i.class,`${ut}-treenode`,{[`${ut}-treenode-disabled`]:We,[`${ut}-treenode-switcher-${m.value?"open":"close"}`]:!Ce,[`${ut}-treenode-checkbox-checked`]:S.value,[`${ut}-treenode-checkbox-indeterminate`]:T.value,[`${ut}-treenode-selected`]:_.value,[`${ut}-treenode-loading`]:A.value,[`${ut}-treenode-active`]:we,[`${ut}-treenode-leaf-last`]:Dt,[`${ut}-treenode-draggable`]:Un,dragging:nn,"drop-target":it===re,"drop-container":Ae===re,"drag-over":!We&&C.value,"drag-over-gap-top":!We&&R.value,"drag-over-gap-bottom":!We&&E.value,"filter-node":ot&&ot(Q.value)}),style:i.style,draggable:Un,"aria-grabbed":nn,onDragstart:Un?Y:void 0,onDragenter:Xt?le:void 0,onDragover:Xt?fe:void 0,onDragleave:Xt?W:void 0,onDrop:Xt?V:void 0,onDragend:Xt?X:void 0,onMousemove:Ue},Ti),gt),[N(rbe,{prefixCls:ut,level:yt,isStart:Me,isEnd:Ve},null),_e(),me(),j(),Ee()])}}});function ml(n,e){if(!n)return[];const i=n.slice(),r=i.indexOf(e);return r>=0&&i.splice(r,1),i}function Ou(n,e){const i=(n||[]).slice();return i.indexOf(e)===-1&&i.push(e),i}function RN(n){return n.split("-")}function a9(n,e){return`${n}-${e}`}function lbe(n){return n&&n.type&&n.type.isTreeNode}function ube(n,e){const i=[],r=e[n];function o(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(a=>{let{key:l,children:u}=a;i.push(l),o(u)})}return o(r.children),i}function cbe(n){if(n.parent){const e=RN(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function dbe(n){const e=RN(n.pos);return Number(e[e.length-1])===0}function SU(n,e,i,r,o,s,a,l,u,c){var d;const{clientX:f,clientY:h}=n,{top:p,height:g}=n.target.getBoundingClientRect(),y=((c==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-f)-12)/r;let m=l[i.eventKey];if(h<p+g/2){const P=a.findIndex(F=>F.key===m.key),I=P<=0?0:P-1,D=a[I].key;m=l[D]}const _=m.key,S=m,w=m.key;let A=0,T=0;if(!u.has(_))for(let P=0;P<y&&cbe(m);P+=1)m=m.parent,T+=1;const C=e.eventData,R=m.node;let E=!0;return dbe(m)&&m.level===0&&h<p+g/2&&s({dragNode:C,dropNode:R,dropPosition:-1})&&m.key===i.eventKey?A=-1:(S.children||[]).length&&u.has(w)?s({dragNode:C,dropNode:R,dropPosition:0})?A=0:E=!1:T===0?y>-1.5?s({dragNode:C,dropNode:R,dropPosition:1})?A=1:E=!1:s({dragNode:C,dropNode:R,dropPosition:0})?A=0:s({dragNode:C,dropNode:R,dropPosition:1})?A=1:E=!1:s({dragNode:C,dropNode:R,dropPosition:1})?A=1:E=!1,{dropPosition:A,dropLevelOffset:T,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:w,dropContainerKey:A===0?null:((d=m.parent)===null||d===void 0?void 0:d.key)||null,dropAllowed:E}}function wU(n,e){if(!n)return;const{multiple:i}=e;return i?n.slice():n.length?[n[0]]:n}function NT(n){if(!n)return null;let e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if(typeof n=="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return null;return e}function oR(n,e){const i=new Set;function r(o){if(i.has(o))return;const s=e[o];if(!s)return;i.add(o);const{parent:a,node:l}=s;l.disabled||a&&r(a.key)}return(n||[]).forEach(o=>{r(o)}),[...i]}var fbe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function q0(n,e){return n??e}function H1(n){const{title:e,_title:i,key:r,children:o}=n||{},s=e||"title";return{title:s,_title:i||[s],key:r||"key",children:o||"children"}}function sR(n){function e(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Fo(i).map(o=>{var s,a,l,u;if(!lbe(o))return null;const c=o.children||{},d=o.key,f={};for(const[P,I]of Object.entries(o.props))f[k0(P)]=I;const{isLeaf:h,checkable:p,selectable:g,disabled:b,disableCheckbox:y}=f,m={isLeaf:h||h===""||void 0,checkable:p||p===""||void 0,selectable:g||g===""||void 0,disabled:b||b===""||void 0,disableCheckbox:y||y===""||void 0},_=O(O({},f),m),{title:S=(s=c.title)===null||s===void 0?void 0:s.call(c,_),icon:w=(a=c.icon)===null||a===void 0?void 0:a.call(c,_),switcherIcon:A=(l=c.switcherIcon)===null||l===void 0?void 0:l.call(c,_)}=f,T=fbe(f,["title","icon","switcherIcon"]),C=(u=c.default)===null||u===void 0?void 0:u.call(c),R=O(O(O({},T),{title:S,icon:w,switcherIcon:A,key:d,isLeaf:h}),m),E=e(C);return E.length&&(R.children=E),R})}return e(n)}function hbe(n,e,i){const{_title:r,key:o,children:s}=H1(i),a=new Set(e===!0?[]:e),l=[];function u(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return c.map((f,h)=>{const p=a9(d?d.pos:"0",h),g=q0(f[o],p);let b;for(let m=0;m<r.length;m+=1){const _=r[m];if(f[_]!==void 0){b=f[_];break}}const y=O(O({},Ai(f,[...r,o,s])),{title:b,key:g,parent:d,pos:p,children:null,data:f,isStart:[...d?d.isStart:[],h===0],isEnd:[...d?d.isEnd:[],h===c.length-1]});return l.push(y),e===!0||a.has(g)?y.children=u(f[s]||[],y):y.children=[],y})}return u(n),l}function pbe(n,e,i){let r={};typeof i=="object"?r=i:r={externalGetKey:i},r=r||{};const{childrenPropName:o,externalGetKey:s,fieldNames:a}=r,{key:l,children:u}=H1(a),c=o||u;let d;s?typeof s=="string"?d=h=>h[s]:typeof s=="function"&&(d=h=>s(h)):d=(h,p)=>q0(h[l],p);function f(h,p,g,b){const y=h?h[c]:n,m=h?a9(g.pos,p):"0",_=h?[...b,h]:[];if(h){const S=d(h,m),w={node:h,index:p,pos:m,key:S,parentPos:g.node?g.pos:null,level:g.level+1,nodes:_};e(w)}y&&y.forEach((S,w)=>{f(S,w,{node:h,pos:m,level:g?g.level+1:-1},_)})}f(null)}function PN(n){let{initWrapper:e,processEntity:i,onProcessFinished:r,externalGetKey:o,childrenPropName:s,fieldNames:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const u=o||l,c={},d={};let f={posEntities:c,keyEntities:d};return e&&(f=e(f)||f),pbe(n,h=>{const{node:p,index:g,pos:b,key:y,parentPos:m,level:_,nodes:S}=h,w={node:p,nodes:S,index:g,key:y,pos:b,level:_},A=q0(y,b);c[b]=w,d[A]=w,w.parent=c[m],w.parent&&(w.parent.children=w.parent.children||[],w.parent.children.push(w)),i&&i(w,f)},{externalGetKey:u,childrenPropName:s,fieldNames:a}),r&&r(f),f}function mS(n,e){let{expandedKeysSet:i,selectedKeysSet:r,loadedKeysSet:o,loadingKeysSet:s,checkedKeysSet:a,halfCheckedKeysSet:l,dragOverNodeKey:u,dropPosition:c,keyEntities:d}=e;const f=d[n];return{eventKey:n,expanded:i.has(n),selected:r.has(n),loaded:o.has(n),loading:s.has(n),checked:a.has(n),halfChecked:l.has(n),pos:String(f?f.pos:""),parent:f.parent,dragOver:u===n&&c===0,dragOverGapTop:u===n&&c===-1,dragOverGapBottom:u===n&&c===1}}function vS(n){const{data:e,expanded:i,selected:r,checked:o,loaded:s,loading:a,halfChecked:l,dragOver:u,dragOverGapTop:c,dragOverGapBottom:d,pos:f,active:h,eventKey:p}=n,g=O(O({dataRef:e},e),{expanded:i,selected:r,checked:o,loaded:s,loading:a,halfChecked:l,dragOver:u,dragOverGapTop:c,dragOverGapBottom:d,pos:f,active:h,eventKey:p,key:p});return"props"in g||Object.defineProperty(g,"props",{get(){return n}}),g}function l9(n,e){const i=new Set;return n.forEach(r=>{e.has(r)||i.add(r)}),i}function gbe(n){const{disabled:e,disableCheckbox:i,checkable:r}=n||{};return!!(e||i)||r===!1}function mbe(n,e,i,r){const o=new Set(n),s=new Set;for(let l=0;l<=i;l+=1)(e.get(l)||new Set).forEach(c=>{const{key:d,node:f,children:h=[]}=c;o.has(d)&&!r(f)&&h.filter(p=>!r(p.node)).forEach(p=>{o.add(p.key)})});const a=new Set;for(let l=i;l>=0;l-=1)(e.get(l)||new Set).forEach(c=>{const{parent:d,node:f}=c;if(r(f)||!c.parent||a.has(c.parent.key))return;if(r(c.parent.node)){a.add(d.key);return}let h=!0,p=!1;(d.children||[]).filter(g=>!r(g.node)).forEach(g=>{let{key:b}=g;const y=o.has(b);h&&!y&&(h=!1),!p&&(y||s.has(b))&&(p=!0)}),h&&o.add(d.key),p&&s.add(d.key),a.add(d.key)});return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(l9(s,o))}}function vbe(n,e,i,r,o){const s=new Set(n);let a=new Set(e);for(let u=0;u<=r;u+=1)(i.get(u)||new Set).forEach(d=>{const{key:f,node:h,children:p=[]}=d;!s.has(f)&&!a.has(f)&&!o(h)&&p.filter(g=>!o(g.node)).forEach(g=>{s.delete(g.key)})});a=new Set;const l=new Set;for(let u=r;u>=0;u-=1)(i.get(u)||new Set).forEach(d=>{const{parent:f,node:h}=d;if(o(h)||!d.parent||l.has(d.parent.key))return;if(o(d.parent.node)){l.add(f.key);return}let p=!0,g=!1;(f.children||[]).filter(b=>!o(b.node)).forEach(b=>{let{key:y}=b;const m=s.has(y);p&&!m&&(p=!1),!g&&(m||a.has(y))&&(g=!0)}),p||s.delete(f.key),g&&a.add(f.key),l.add(f.key)});return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(l9(a,s))}}function Tg(n,e,i,r,o,s){let a;s?a=s:a=gbe;const l=new Set(n.filter(c=>!!i[c]));let u;return e===!0?u=mbe(l,o,r,a):u=vbe(l,e.halfCheckedKeys,o,r,a),u}function u9(n){const e=Ge(0),i=Oe();return ln(()=>{const r=new Map;let o=0;const s=n.value||{};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=s[a],{level:u}=l;let c=r.get(u);c||(c=new Set,r.set(u,c)),c.add(l),o=Math.max(o,u)}e.value=o,i.value=r}),{maxLevel:e,levelEntities:i}}var ybe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};function CU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){bbe(n,o,i[o])})}return n}function bbe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var yw=function(e,i){var r=CU({},e,i.attrs);return N(Tn,CU({},r,{icon:ybe}),null)};yw.displayName="LeftOutlined";yw.inheritAttrs=!1;const c9=n=>{if(ba()&&window.document.documentElement){const e=Array.isArray(n)?n:[n],{documentElement:i}=window.document;return e.some(r=>r in i.style)}return!1},xbe=(n,e)=>{if(!c9(n))return!1;const i=document.createElement("div"),r=i.style[n];return i.style[n]=e,i.style[n]!==r};function _be(n,e){return!Array.isArray(n)&&e!==void 0?xbe(n,e):c9(n)}const Sbe=new Dn("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),wbe=n=>{const{checkboxCls:e}=n,i=`${e}-wrapper`;return[{[`${e}-group`]:O(O({},di(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[i]:O(O({},di(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${i}`]:{marginInlineStart:0},[`&${i}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:O(O({},di(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:O({},uc(n))},[`${e}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:n.checkboxSize/14*5,height:n.checkboxSize/14*8,border:`${n.lineWidthBold}px solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[e]:{"&-indeterminate":{[`${e}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:n.fontSizeLG/2,height:n.fontSizeLG/2,backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${i}:hover ${e}:after`]:{visibility:"visible"},[`
        ${i}:not(${i}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:n.colorPrimary}},[`${i}:not(${i}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:n.borderRadiusSM,visibility:"hidden",border:`${n.lineWidthBold}px solid ${n.colorPrimary}`,animationName:Sbe,animationDuration:n.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${n.motionDurationSlow}`}},[`
        ${i}-checked:not(${i}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}:after`]:{borderColor:n.colorPrimaryHover}}},{[`${i}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:n.colorTextDisabled}}}]};function d9(n,e){const i=On(e,{checkboxCls:`.${n}`,checkboxSize:e.controlInteractiveSize});return[wbe(i)]}const f9=Bi("Checkbox",(n,e)=>{let{prefixCls:i}=e;return[d9(i,n)]}),Cbe=()=>({name:String,prefixCls:String,options:Ii([]),disabled:Boolean,id:String}),Abe=()=>O(O({},Cbe()),{defaultValue:Ii(),value:Ii(),onChange:pt(),"onUpdate:value":pt()}),Tbe=()=>({prefixCls:String,defaultChecked:It(),checked:It(),disabled:It(),isGroup:It(),value:be.any,name:String,id:String,indeterminate:It(),type:Nn("checkbox"),autofocus:It(),onChange:pt(),"onUpdate:checked":pt(),onClick:pt(),skipGroup:It(!1)}),Ebe=()=>O(O({},Tbe()),{indeterminate:It(!1)}),h9=Symbol("CheckboxGroupContext");var AU=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Ol=je({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:Ebe(),setup(n,e){let{emit:i,attrs:r,slots:o,expose:s}=e;const a=wc(),l=dc.useInject(),{prefixCls:u,direction:c,disabled:d}=tn("checkbox",n),f=Bl(),[h,p]=f9(u),g=qt(h9,void 0),b=Symbol("checkboxUniId"),y=K(()=>(g==null?void 0:g.disabled.value)||d.value);ln(()=>{!n.skipGroup&&g&&g.registerValue(b,n.value)}),Pn(()=>{g&&g.cancelValue(b)}),en(()=>{x1(!!(n.checked!==void 0||g||n.value===void 0))});const m=A=>{const T=A.target.checked;i("update:checked",T),i("change",A),a.onFieldChange()},_=Ge();return s({focus:()=>{var A;(A=_.value)===null||A===void 0||A.focus()},blur:()=>{var A;(A=_.value)===null||A===void 0||A.blur()}}),()=>{var A;const T=ir((A=o.default)===null||A===void 0?void 0:A.call(o)),{indeterminate:C,skipGroup:R,id:E=a.id.value}=n,P=AU(n,["indeterminate","skipGroup","id"]),{onMouseenter:I,onMouseleave:D,onInput:F,class:L,style:$}=r,U=AU(r,["onMouseenter","onMouseleave","onInput","class","style"]),k=O(O(O(O({},P),{id:E,prefixCls:u.value}),U),{disabled:y.value});g&&!R?(k.onChange=function(){for(var Z=arguments.length,ie=new Array(Z),xe=0;xe<Z;xe++)ie[xe]=arguments[xe];i("change",...ie),g.toggleOption({label:T,value:n.value})},k.name=g.name.value,k.checked=g.mergedValue.value.includes(n.value),k.disabled=y.value||f.value,k.indeterminate=C):k.onChange=m;const H=Qe({[`${u.value}-wrapper`]:!0,[`${u.value}-rtl`]:c.value==="rtl",[`${u.value}-wrapper-checked`]:k.checked,[`${u.value}-wrapper-disabled`]:k.disabled,[`${u.value}-wrapper-in-form-item`]:l.isFormItemInput},L,p.value),z=Qe({[`${u.value}-indeterminate`]:C},p.value);return h(N("label",{class:H,style:$,onMouseenter:I,onMouseleave:D},[N(FW,ve(ve({"aria-checked":C?"mixed":void 0},k),{},{class:z,ref:_}),null),T.length?N("span",null,[T]):null]))}}}),aR=je({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:Abe(),setup(n,e){let{slots:i,attrs:r,emit:o,expose:s}=e;const a=wc(),{prefixCls:l,direction:u}=tn("checkbox",n),c=K(()=>`${l.value}-group`),[d,f]=f9(c),h=Ge((n.value===void 0?n.defaultValue:n.value)||[]);ct(()=>n.value,()=>{h.value=n.value||[]});const p=K(()=>n.options.map(w=>typeof w=="string"||typeof w=="number"?{label:w,value:w}:w)),g=Ge(Symbol()),b=Ge(new Map),y=w=>{b.value.delete(w),g.value=Symbol()},m=(w,A)=>{b.value.set(w,A),g.value=Symbol()},_=Ge(new Map);return ct(g,()=>{const w=new Map;for(const A of b.value.values())w.set(A,!0);_.value=w}),jn(h9,{cancelValue:y,registerValue:m,toggleOption:w=>{const A=h.value.indexOf(w.value),T=[...h.value];A===-1?T.push(w.value):T.splice(A,1),n.value===void 0&&(h.value=T);const C=T.filter(R=>_.value.has(R)).sort((R,E)=>{const P=p.value.findIndex(D=>D.value===R),I=p.value.findIndex(D=>D.value===E);return P-I});o("update:value",C),o("change",C),a.onFieldChange()},mergedValue:h,name:K(()=>n.name),disabled:K(()=>n.disabled)}),s({mergedValue:h}),()=>{var w;const{id:A=a.id.value}=n;let T=null;return p.value&&p.value.length>0&&(T=p.value.map(C=>{var R;return N(Ol,{prefixCls:l.value,key:C.value.toString(),disabled:"disabled"in C?C.disabled:n.disabled,indeterminate:C.indeterminate,value:C.value,checked:h.value.indexOf(C.value)!==-1,onChange:C.onChange,class:`${c.value}-item`},{default:()=>[i.label!==void 0?(R=i.label)===null||R===void 0?void 0:R.call(i,C):C.label]})})),d(N("div",ve(ve({},r),{},{class:[c.value,{[`${c.value}-rtl`]:u.value==="rtl"},r.class,f.value],id:A}),[T||((w=i.default)===null||w===void 0?void 0:w.call(i))]))}}});Ol.Group=aR;Ol.install=function(n){return n.component(Ol.name,Ol),n.component(aR.name,aR),n};const xx=(n,e,i)=>{const r=Xoe(i);return{[`${n.componentCls}-${e}`]:{color:n[`color${i}`],background:n[`color${r}Bg`],borderColor:n[`color${r}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}},Mbe=n=>GG(n,(e,i)=>{let{textColor:r,lightBorderColor:o,lightColor:s,darkColor:a}=i;return{[`${n.componentCls}-${e}`]:{color:r,background:s,borderColor:o,"&-inverse":{color:n.colorTextLightSolid,background:a,borderColor:a},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Rbe=n=>{const{paddingXXS:e,lineWidth:i,tagPaddingHorizontal:r,componentCls:o}=n,s=r-i,a=e-i;return{[o]:O(O({},di(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:s,fontSize:n.tagFontSize,lineHeight:`${n.tagLineHeight}px`,whiteSpace:"nowrap",background:n.tagDefaultBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.tagDefaultColor},[`${o}-close-icon`]:{marginInlineStart:a,color:n.colorTextDescription,fontSize:n.tagIconSize,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:s}}),[`${o}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}},p9=Bi("Tag",n=>{const{fontSize:e,lineHeight:i,lineWidth:r,fontSizeIcon:o}=n,s=Math.round(e*i),a=n.fontSizeSM,l=s-r*2,u=n.colorFillAlter,c=n.colorText,d=On(n,{tagFontSize:a,tagLineHeight:l,tagDefaultBg:u,tagDefaultColor:c,tagIconSize:o-2*r,tagPaddingHorizontal:8,tagBorderlessBg:n.colorFillTertiary});return[Rbe(d),Mbe(d),xx(d,"success","Success"),xx(d,"processing","Info"),xx(d,"error","Error"),xx(d,"warning","Warning")]}),Pbe=()=>({prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}),lR=je({compatConfig:{MODE:3},name:"ACheckableTag",inheritAttrs:!1,props:Pbe(),setup(n,e){let{slots:i,emit:r,attrs:o}=e;const{prefixCls:s}=tn("tag",n),[a,l]=p9(s),u=d=>{const{checked:f}=n;r("update:checked",!f),r("change",!f),r("click",d)},c=K(()=>Qe(s.value,l.value,{[`${s.value}-checkable`]:!0,[`${s.value}-checkable-checked`]:n.checked}));return()=>{var d;return a(N("span",ve(ve({},o),{},{class:[c.value,o.class],onClick:u}),[(d=i.default)===null||d===void 0?void 0:d.call(i)]))}}}),Ibe=()=>({prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:be.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},onClick:zg(),"onUpdate:visible":Function,icon:be.any,bordered:{type:Boolean,default:!0}}),wy=je({compatConfig:{MODE:3},name:"ATag",inheritAttrs:!1,props:Ibe(),slots:Object,setup(n,e){let{slots:i,emit:r,attrs:o}=e;const{prefixCls:s,direction:a}=tn("tag",n),[l,u]=p9(s),c=Oe(!0);ln(()=>{n.visible!==void 0&&(c.value=n.visible)});const d=g=>{g.stopPropagation(),r("update:visible",!1),r("close",g),!g.defaultPrevented&&n.visible===void 0&&(c.value=!1)},f=K(()=>pW(n.color)||yve(n.color)),h=K(()=>Qe(s.value,u.value,{[`${s.value}-${n.color}`]:f.value,[`${s.value}-has-color`]:n.color&&!f.value,[`${s.value}-hidden`]:!c.value,[`${s.value}-rtl`]:a.value==="rtl",[`${s.value}-borderless`]:!n.bordered})),p=g=>{r("click",g)};return()=>{var g,b,y;const{icon:m=(g=i.icon)===null||g===void 0?void 0:g.call(i),color:_,closeIcon:S=(b=i.closeIcon)===null||b===void 0?void 0:b.call(i),closable:w=!1}=n,A=()=>w?S?N("span",{class:`${s.value}-close-icon`,onClick:d},[S]):N(qd,{class:`${s.value}-close-icon`,onClick:d},null):null,T={backgroundColor:_&&!f.value?_:void 0},C=m||null,R=(y=i.default)===null||y===void 0?void 0:y.call(i),E=C?N(mn,null,[C,N("span",null,[R])]):R,P=n.onClick!==void 0,I=N("span",ve(ve({},o),{},{onClick:p,class:[h.value,o.class],style:[T,o.style]}),[E,A()]);return l(P?N(pN,null,{default:()=>[I]}):I)}}});wy.CheckableTag=lR;wy.install=function(n){return n.component(wy.name,wy),n.component(lR.name,lR),n};Ed.Button=hw;Ed.install=function(n){return n.component(Ed.name,Ed),n.component(hw.name,hw),n};const g9=()=>({prefixCls:String,width:be.oneOfType([be.string,be.number]),height:be.oneOfType([be.string,be.number]),style:{type:Object,default:void 0},class:String,rootClassName:String,rootStyle:vn(),placement:{type:String},wrapperClassName:String,level:{type:[String,Array]},levelMove:{type:[Number,Function,Array]},duration:String,ease:String,showMask:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},maskStyle:{type:Object,default:void 0},afterVisibleChange:Function,keyboard:{type:Boolean,default:void 0},contentWrapperStyle:Ii(),autofocus:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},motion:pt(),maskMotion:vn()}),Nbe=()=>O(O({},g9()),{forceRender:{type:Boolean,default:void 0},getContainer:be.oneOfType([be.string,be.func,be.object,be.looseBool])}),Obe=()=>O(O({},g9()),{getContainer:Function,getOpenCount:Function,scrollLocker:be.any,inline:Boolean});function Dbe(n){return Array.isArray(n)?n:[n]}const Lbe={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"};Object.keys(Lbe).filter(n=>{if(typeof document>"u")return!1;const e=document.getElementsByTagName("html")[0];return n in(e?e.style:{})})[0];const Bbe=!(typeof window<"u"&&window.document&&window.document.createElement);var Fbe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const TU=je({compatConfig:{MODE:3},inheritAttrs:!1,props:Obe(),emits:["close","handleClick","change"],setup(n,e){let{emit:i,slots:r}=e;const o=Oe(),s=Oe(),a=Oe(),l=Oe(),u=Oe();let c=[];`${Number((Date.now()+Math.random()).toString().replace(".",Math.round(Math.random()*9).toString())).toString(16)}`,en(()=>{kn(()=>{var m;const{open:_,getContainer:S,showMask:w,autofocus:A}=n,T=S==null?void 0:S();g(n),_&&(T&&(T.parentNode,document.body),kn(()=>{A&&d()}),w&&((m=n.scrollLocker)===null||m===void 0||m.lock()))})}),ct(()=>n.level,()=>{g(n)},{flush:"post"}),ct(()=>n.open,()=>{const{open:m,getContainer:_,scrollLocker:S,showMask:w,autofocus:A}=n,T=_==null?void 0:_();T&&(T.parentNode,document.body),m?(A&&d(),w&&(S==null||S.lock())):S==null||S.unLock()},{flush:"post"}),al(()=>{var m;const{open:_}=n;_&&(document.body.style.touchAction=""),(m=n.scrollLocker)===null||m===void 0||m.unLock()}),ct(()=>n.placement,m=>{m&&(u.value=null)});const d=()=>{var m,_;(_=(m=s.value)===null||m===void 0?void 0:m.focus)===null||_===void 0||_.call(m)},f=m=>{i("close",m)},h=m=>{m.keyCode===at.ESC&&(m.stopPropagation(),f(m))},p=()=>{const{open:m,afterVisibleChange:_}=n;_&&_(!!m)},g=m=>{let{level:_,getContainer:S}=m;if(Bbe)return;const w=S==null?void 0:S(),A=w?w.parentNode:null;c=[],_==="all"?(A?Array.prototype.slice.call(A.children):[]).forEach(C=>{C.nodeName!=="SCRIPT"&&C.nodeName!=="STYLE"&&C.nodeName!=="LINK"&&C!==w&&c.push(C)}):_&&Dbe(_).forEach(T=>{document.querySelectorAll(T).forEach(C=>{c.push(C)})})},b=m=>{i("handleClick",m)},y=Oe(!1);return ct(s,()=>{kn(()=>{y.value=!0})}),()=>{var m,_;const{width:S,height:w,open:A,prefixCls:T,placement:C,level:R,levelMove:E,ease:P,duration:I,getContainer:D,onChange:F,afterVisibleChange:L,showMask:$,maskClosable:U,maskStyle:k,keyboard:H,getOpenCount:z,scrollLocker:Q,contentWrapperStyle:Z,style:ie,class:xe,rootClassName:J,rootStyle:se,maskMotion:ee,motion:ne,inline:ue}=n,Y=Fbe(n,["width","height","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","keyboard","getOpenCount","scrollLocker","contentWrapperStyle","style","class","rootClassName","rootStyle","maskMotion","motion","inline"]),le=A&&y.value,fe=Qe(T,{[`${T}-${C}`]:!0,[`${T}-open`]:le,[`${T}-inline`]:ue,"no-mask":!$,[J]:!0}),W=typeof ne=="function"?ne(C):ne;return N("div",ve(ve({},Ai(Y,["autofocus"])),{},{tabindex:-1,class:fe,style:se,ref:s,onKeydown:le&&H?h:void 0}),[N(nl,ee,{default:()=>[$&&Ro(N("div",{class:`${T}-mask`,onClick:U?f:void 0,style:k,ref:a},null),[[Jo,le]])]}),N(nl,ve(ve({},W),{},{onAfterEnter:p,onAfterLeave:p}),{default:()=>[Ro(N("div",{class:`${T}-content-wrapper`,style:[Z],ref:o},[N("div",{class:[`${T}-content`,xe],style:ie,ref:u},[(m=r.default)===null||m===void 0?void 0:m.call(r)]),r.handler?N("div",{onClick:b,ref:l},[(_=r.handler)===null||_===void 0?void 0:_.call(r)]):null]),[[Jo,le]])]})])}}});var EU=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const $be=je({compatConfig:{MODE:3},inheritAttrs:!1,props:fi(Nbe(),{prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",afterVisibleChange:()=>{},showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",keyboard:!0,forceRender:!1,autofocus:!0}),emits:["handleClick","close"],setup(n,e){let{emit:i,slots:r}=e;const o=Ge(null),s=l=>{i("handleClick",l)},a=l=>{i("close",l)};return()=>{const{getContainer:l,wrapperClassName:u,rootClassName:c,rootStyle:d,forceRender:f}=n,h=EU(n,["getContainer","wrapperClassName","rootClassName","rootStyle","forceRender"]);let p=null;if(!l)return N(TU,ve(ve({},h),{},{rootClassName:c,rootStyle:d,open:n.open,onClose:a,onHandleClick:s,inline:!0}),r);const g=!!r.handler||f;return(g||n.open||o.value)&&(p=N(RV,{autoLock:!0,visible:n.open,forceRender:g,getContainer:l,wrapperClassName:u},{default:b=>{var{visible:y,afterClose:m}=b,_=EU(b,["visible","afterClose"]);return N(TU,ve(ve(ve({ref:o},h),_),{},{rootClassName:c,rootStyle:d,open:y!==void 0?y:n.open,afterVisibleChange:m!==void 0?m:n.afterVisibleChange,onClose:a,onHandleClick:s}),r)}})),p}}}),Ube=n=>{const{componentCls:e,motionDurationSlow:i}=n,r={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${i}`}}};return{[e]:{[`${e}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${i}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${e}-panel-motion`]:{"&-left":[r,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[r,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[r,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[r,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}},kbe=n=>{const{componentCls:e,zIndexPopup:i,colorBgMask:r,colorBgElevated:o,motionDurationSlow:s,motionDurationMid:a,padding:l,paddingLG:u,fontSizeLG:c,lineHeightLG:d,lineWidth:f,lineType:h,colorSplit:p,marginSM:g,colorIcon:b,colorIconHover:y,colorText:m,fontWeightStrong:_,drawerFooterPaddingVertical:S,drawerFooterPaddingHorizontal:w}=n,A=`${e}-content-wrapper`;return{[e]:{position:"fixed",inset:0,zIndex:i,pointerEvents:"none","&-pure":{position:"relative",background:o,[`&${e}-left`]:{boxShadow:n.boxShadowDrawerLeft},[`&${e}-right`]:{boxShadow:n.boxShadowDrawerRight},[`&${e}-top`]:{boxShadow:n.boxShadowDrawerUp},[`&${e}-bottom`]:{boxShadow:n.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${e}-mask`]:{position:"absolute",inset:0,zIndex:i,background:r,pointerEvents:"auto"},[A]:{position:"absolute",zIndex:i,transition:`all ${s}`,"&-hidden":{display:"none"}},[`&-left > ${A}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:n.boxShadowDrawerLeft},[`&-right > ${A}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:n.boxShadowDrawerRight},[`&-top > ${A}`]:{top:0,insetInline:0,boxShadow:n.boxShadowDrawerUp},[`&-bottom > ${A}`]:{bottom:0,insetInline:0,boxShadow:n.boxShadowDrawerDown},[`${e}-content`]:{width:"100%",height:"100%",overflow:"auto",background:o,pointerEvents:"auto"},[`${e}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${e}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${l}px ${u}px`,fontSize:c,lineHeight:d,borderBottom:`${f}px ${h} ${p}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${e}-extra`]:{flex:"none"},[`${e}-close`]:{display:"inline-block",marginInlineEnd:g,color:b,fontWeight:_,fontSize:c,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${a}`,textRendering:"auto","&:focus, &:hover":{color:y,textDecoration:"none"}},[`${e}-title`]:{flex:1,margin:0,color:m,fontWeight:n.fontWeightStrong,fontSize:c,lineHeight:d},[`${e}-body`]:{flex:1,minWidth:0,minHeight:0,padding:u,overflow:"auto"},[`${e}-footer`]:{flexShrink:0,padding:`${S}px ${w}px`,borderTop:`${f}px ${h} ${p}`},"&-rtl":{direction:"rtl"}}}},zbe=Bi("Drawer",n=>{const e=On(n,{drawerFooterPaddingVertical:n.paddingXS,drawerFooterPaddingHorizontal:n.padding});return[kbe(e),Ube(e)]},n=>({zIndexPopup:n.zIndexPopupBase}));var Hbe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Gbe=["top","right","bottom","left"],MU={distance:180},Vbe=()=>({autofocus:{type:Boolean,default:void 0},closable:{type:Boolean,default:void 0},closeIcon:be.any,destroyOnClose:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},getContainer:{type:[String,Function,Boolean,Object],default:void 0},maskClosable:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},maskStyle:vn(),rootClassName:String,rootStyle:vn(),size:{type:String},drawerStyle:vn(),headerStyle:vn(),bodyStyle:vn(),contentWrapperStyle:{type:Object,default:void 0},title:be.any,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},width:be.oneOfType([be.string,be.number]),height:be.oneOfType([be.string,be.number]),zIndex:Number,prefixCls:String,push:be.oneOfType([be.looseBool,{type:Object}]),placement:be.oneOf(Gbe),keyboard:{type:Boolean,default:void 0},extra:be.any,footer:be.any,footerStyle:vn(),level:be.any,levelMove:{type:[Number,Array,Function]},handle:be.any,afterVisibleChange:Function,onAfterVisibleChange:Function,onAfterOpenChange:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onClose:Function}),Wbe=je({compatConfig:{MODE:3},name:"ADrawer",inheritAttrs:!1,props:fi(Vbe(),{closable:!0,placement:"right",maskClosable:!0,mask:!0,level:null,keyboard:!0,push:MU}),slots:Object,setup(n,e){let{emit:i,slots:r,attrs:o}=e;const s=Oe(!1),a=Oe(!1),l=Oe(null),u=Oe(!1),c=Oe(!1),d=K(()=>{var z;return(z=n.open)!==null&&z!==void 0?z:n.visible});ct(d,()=>{d.value?u.value=!0:c.value=!1},{immediate:!0}),ct([d,u],()=>{d.value&&u.value&&(c.value=!0)},{immediate:!0});const f=qt("parentDrawerOpts",null),{prefixCls:h,getPopupContainer:p,direction:g}=tn("drawer",n),[b,y]=zbe(h),m=K(()=>n.getContainer===void 0&&(p!=null&&p.value)?()=>p.value(document.body):n.getContainer);gi(!n.afterVisibleChange,"Drawer","`afterVisibleChange` prop is deprecated, please use `@afterVisibleChange` event instead"),jn("parentDrawerOpts",{setPush:()=>{s.value=!0},setPull:()=>{s.value=!1,kn(()=>{w()})}}),en(()=>{d.value&&f&&f.setPush()}),al(()=>{f&&f.setPull()}),ct(c,()=>{f&&(c.value?f.setPush():f.setPull())},{flush:"post"});const w=()=>{var z,Q;(Q=(z=l.value)===null||z===void 0?void 0:z.domFocus)===null||Q===void 0||Q.call(z)},A=z=>{i("update:visible",!1),i("update:open",!1),i("close",z)},T=z=>{var Q;z||(a.value===!1&&(a.value=!0),n.destroyOnClose&&(u.value=!1)),(Q=n.afterVisibleChange)===null||Q===void 0||Q.call(n,z),i("afterVisibleChange",z),i("afterOpenChange",z)},C=K(()=>{const{push:z,placement:Q}=n;let Z;return typeof z=="boolean"?Z=z?MU.distance:0:Z=z.distance,Z=parseFloat(String(Z||0)),Q==="left"||Q==="right"?`translateX(${Q==="left"?Z:-Z}px)`:Q==="top"||Q==="bottom"?`translateY(${Q==="top"?Z:-Z}px)`:null}),R=K(()=>{var z;return(z=n.width)!==null&&z!==void 0?z:n.size==="large"?736:378}),E=K(()=>{var z;return(z=n.height)!==null&&z!==void 0?z:n.size==="large"?736:378}),P=K(()=>{const{mask:z,placement:Q}=n;if(!c.value&&!z)return{};const Z={};return Q==="left"||Q==="right"?Z.width=K$(R.value)?`${R.value}px`:R.value:Z.height=K$(E.value)?`${E.value}px`:E.value,Z}),I=K(()=>{const{zIndex:z,contentWrapperStyle:Q}=n,Z=P.value;return[{zIndex:z,transform:s.value?C.value:void 0},O({},Q),Z]}),D=z=>{const{closable:Q,headerStyle:Z}=n,ie=ha(r,n,"extra"),xe=ha(r,n,"title");return!xe&&!Q?null:N("div",{class:Qe(`${z}-header`,{[`${z}-header-close-only`]:Q&&!xe&&!ie}),style:Z},[N("div",{class:`${z}-header-title`},[F(z),xe&&N("div",{class:`${z}-title`},[xe])]),ie&&N("div",{class:`${z}-extra`},[ie])])},F=z=>{var Q;const{closable:Z}=n,ie=r.closeIcon?(Q=r.closeIcon)===null||Q===void 0?void 0:Q.call(r):n.closeIcon;return Z&&N("button",{key:"closer",onClick:A,"aria-label":"Close",class:`${z}-close`},[ie===void 0?N(qd,null,null):ie])},L=z=>{var Q;if(a.value&&!n.forceRender&&!u.value)return null;const{bodyStyle:Z,drawerStyle:ie}=n;return N("div",{class:`${z}-wrapper-body`,style:ie},[D(z),N("div",{key:"body",class:`${z}-body`,style:Z},[(Q=r.default)===null||Q===void 0?void 0:Q.call(r)]),$(z)])},$=z=>{const Q=ha(r,n,"footer");if(!Q)return null;const Z=`${z}-footer`;return N("div",{class:Z,style:n.footerStyle},[Q])},U=K(()=>Qe({"no-mask":!n.mask,[`${h.value}-rtl`]:g.value==="rtl"},n.rootClassName,y.value)),k=K(()=>Kg(aw(h.value,"mask-motion"))),H=z=>Kg(aw(h.value,`panel-motion-${z}`));return()=>{const{width:z,height:Q,placement:Z,mask:ie,forceRender:xe}=n,J=Hbe(n,["width","height","placement","mask","forceRender"]),se=O(O(O({},o),Ai(J,["size","closeIcon","closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","onAfterVisibleChange","onClose","onUpdate:visible","onUpdate:open","visible"])),{forceRender:xe,onClose:A,afterVisibleChange:T,handler:!1,prefixCls:h.value,open:c.value,showMask:ie,placement:Z,ref:l});return b(N(q2,null,{default:()=>[N($be,ve(ve({},se),{},{maskMotion:k.value,motion:H,width:R.value,height:E.value,getContainer:m.value,rootClassName:U.value,rootStyle:n.rootStyle,contentWrapperStyle:I.value}),{handler:n.handle?()=>n.handle:r.handle,default:()=>L(h.value)})]}))}}}),jbe=jd(Wbe),Cy=n=>n!=null&&(Array.isArray(n)?Fo(n).length:!0);function IN(n){return Cy(n.prefix)||Cy(n.suffix)||Cy(n.allowClear)}function yS(n){return Cy(n.addonBefore)||Cy(n.addonAfter)}function uR(n){return typeof n>"u"||n===null?"":String(n)}function Ay(n,e,i,r){if(!i)return;const o=e;if(e.type==="click"){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0});const s=n.cloneNode(!0);o.target=s,o.currentTarget=s,s.value="",i(o);return}if(r!==void 0){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0}),o.target=n,o.currentTarget=n,n.value=r,i(o);return}i(o)}function m9(n,e){if(!n)return;n.focus(e);const{cursor:i}=e||{};if(i){const r=n.value.length;switch(i){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(r,r);break;default:n.setSelectionRange(0,r)}}}const Kbe=()=>({addonBefore:be.any,addonAfter:be.any,prefix:be.any,suffix:be.any,clearIcon:be.any,affixWrapperClassName:String,groupClassName:String,wrapperClassName:String,inputClassName:String,allowClear:{type:Boolean,default:void 0}}),v9=()=>O(O({},Kbe()),{value:{type:[String,Number,Symbol],default:void 0},defaultValue:{type:[String,Number,Symbol],default:void 0},inputElement:be.any,prefixCls:String,disabled:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},triggerFocus:Function,readonly:{type:Boolean,default:void 0},handleReset:Function,hidden:{type:Boolean,default:void 0}}),y9=()=>O(O({},v9()),{id:String,placeholder:{type:[String,Number]},autocomplete:String,type:Nn("text"),name:String,size:{type:String},autofocus:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object,hidden:{type:Boolean,default:void 0},status:String}),qbe=je({name:"BaseInput",inheritAttrs:!1,props:v9(),setup(n,e){let{slots:i,attrs:r}=e;const o=Ge(),s=l=>{var u;if(!((u=o.value)===null||u===void 0)&&u.contains(l.target)){const{triggerFocus:c}=n;c==null||c()}},a=()=>{var l;const{allowClear:u,value:c,disabled:d,readonly:f,handleReset:h,suffix:p=i.suffix,prefixCls:g}=n;if(!u)return null;const b=!d&&!f&&c,y=`${g}-clear-icon`,m=((l=i.clearIcon)===null||l===void 0?void 0:l.call(i))||"*";return N("span",{onClick:h,onMousedown:_=>_.preventDefault(),class:Qe({[`${y}-hidden`]:!b,[`${y}-has-suffix`]:!!p},y),role:"button",tabindex:-1},[m])};return()=>{var l,u;const{focused:c,value:d,disabled:f,allowClear:h,readonly:p,hidden:g,prefixCls:b,prefix:y=(l=i.prefix)===null||l===void 0?void 0:l.call(i),suffix:m=(u=i.suffix)===null||u===void 0?void 0:u.call(i),addonAfter:_=i.addonAfter,addonBefore:S=i.addonBefore,inputElement:w,affixWrapperClassName:A,wrapperClassName:T,groupClassName:C}=n;let R=Oi(w,{value:d,hidden:g});if(IN({prefix:y,suffix:m,allowClear:h})){const E=`${b}-affix-wrapper`,P=Qe(E,{[`${E}-disabled`]:f,[`${E}-focused`]:c,[`${E}-readonly`]:p,[`${E}-input-with-clear-btn`]:m&&h&&d},!yS({addonAfter:_,addonBefore:S})&&r.class,A),I=(m||h)&&N("span",{class:`${b}-suffix`},[a(),m]);R=N("span",{class:P,style:r.style,hidden:!yS({addonAfter:_,addonBefore:S})&&g,onMousedown:s,ref:o},[y&&N("span",{class:`${b}-prefix`},[y]),Oi(w,{style:null,value:d,hidden:null}),I])}if(yS({addonAfter:_,addonBefore:S})){const E=`${b}-group`,P=`${E}-addon`,I=Qe(`${b}-wrapper`,E,T),D=Qe(`${b}-group-wrapper`,r.class,C);return N("span",{class:D,style:r.style,hidden:g},[N("span",{class:I},[S&&N("span",{class:P},[S]),Oi(R,{style:null,hidden:null}),_&&N("span",{class:P},[_])])])}return R}}});var Xbe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Ybe=je({name:"VCInput",inheritAttrs:!1,props:y9(),setup(n,e){let{slots:i,attrs:r,expose:o,emit:s}=e;const a=Oe(n.value===void 0?n.defaultValue:n.value),l=Oe(!1),u=Oe(),c=Oe();ct(()=>n.value,()=>{a.value=n.value}),ct(()=>n.disabled,()=>{n.disabled&&(l.value=!1)});const d=C=>{u.value&&m9(u.value.input,C)},f=()=>{var C;(C=u.value.input)===null||C===void 0||C.blur()},h=(C,R,E)=>{var P;(P=u.value.input)===null||P===void 0||P.setSelectionRange(C,R,E)},p=()=>{var C;(C=u.value.input)===null||C===void 0||C.select()};o({focus:d,blur:f,input:K(()=>{var C;return(C=u.value.input)===null||C===void 0?void 0:C.input}),stateValue:a,setSelectionRange:h,select:p});const g=C=>{s("change",C)},b=(C,R)=>{a.value!==C&&(n.value===void 0?a.value=C:kn(()=>{var E;u.value.input.value!==a.value&&((E=c.value)===null||E===void 0||E.$forceUpdate())}),kn(()=>{R&&R()}))},y=C=>{const{value:R}=C.target;if(a.value===R)return;const E=C.target.value;Ay(u.value.input,C,g),b(E)},m=C=>{C.keyCode===13&&s("pressEnter",C),s("keydown",C)},_=C=>{l.value=!0,s("focus",C)},S=C=>{l.value=!1,s("blur",C)},w=C=>{Ay(u.value.input,C,g),b("",()=>{d()})},A=()=>{var C,R;const{addonBefore:E=i.addonBefore,addonAfter:P=i.addonAfter,disabled:I,valueModifiers:D={},htmlSize:F,autocomplete:L,prefixCls:$,inputClassName:U,prefix:k=(C=i.prefix)===null||C===void 0?void 0:C.call(i),suffix:H=(R=i.suffix)===null||R===void 0?void 0:R.call(i),allowClear:z,type:Q="text"}=n,Z=Ai(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName"]),ie=O(O(O({},Z),r),{autocomplete:L,onChange:y,onInput:y,onFocus:_,onBlur:S,onKeydown:m,class:Qe($,{[`${$}-disabled`]:I},U,!yS({addonAfter:P,addonBefore:E})&&!IN({prefix:k,suffix:H,allowClear:z})&&r.class),ref:u,key:"ant-input",size:F,type:Q,lazy:n.lazy});return D.lazy&&delete ie.onInput,ie.autofocus||delete ie.autofocus,N(G0,Ai(ie,["size"]),null)},T=()=>{var C;const{maxlength:R,suffix:E=(C=i.suffix)===null||C===void 0?void 0:C.call(i),showCount:P,prefixCls:I}=n,D=Number(R)>0;if(E||P){const F=[...uR(a.value)].length,L=typeof P=="object"?P.formatter({count:F,maxlength:R}):`${F}${D?` / ${R}`:""}`;return N(mn,null,[!!P&&N("span",{class:Qe(`${I}-show-count-suffix`,{[`${I}-show-count-has-suffix`]:!!E})},[L]),E])}return null};return en(()=>{}),()=>{const{prefixCls:C,disabled:R}=n,E=Xbe(n,["prefixCls","disabled"]);return N(qbe,ve(ve(ve({},E),r),{},{ref:c,prefixCls:C,inputElement:A(),handleReset:w,value:uR(a.value),focused:l.value,triggerFocus:d,suffix:T(),disabled:R}),i)}}}),G1=()=>Ai(y9(),["wrapperClassName","groupClassName","inputClassName","affixWrapperClassName"]),b9=()=>O(O({},Ai(G1(),["prefix","addonBefore","addonAfter","suffix"])),{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:zg(),onCompositionend:zg(),valueModifiers:Object});var Qbe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const _r=je({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:G1(),setup(n,e){let{slots:i,attrs:r,expose:o,emit:s}=e;const a=Ge(),l=wc(),u=dc.useInject(),c=K(()=>D1(u.status,n.status)),{direction:d,prefixCls:f,size:h,autocomplete:p}=tn("input",n),{compactSize:g,compactItemClassnames:b}=ZI(f,d),y=K(()=>g.value||h.value),[m,_]=AN(f),S=Bl();o({focus:F=>{var L;(L=a.value)===null||L===void 0||L.focus(F)},blur:()=>{var F;(F=a.value)===null||F===void 0||F.blur()},input:a,setSelectionRange:(F,L,$)=>{var U;(U=a.value)===null||U===void 0||U.setSelectionRange(F,L,$)},select:()=>{var F;(F=a.value)===null||F===void 0||F.select()}});const R=Ge([]),E=()=>{R.value.push(setTimeout(()=>{var F,L,$,U;!((F=a.value)===null||F===void 0)&&F.input&&((L=a.value)===null||L===void 0?void 0:L.input.getAttribute("type"))==="password"&&(!(($=a.value)===null||$===void 0)&&$.input.hasAttribute("value"))&&((U=a.value)===null||U===void 0||U.input.removeAttribute("value"))}))};en(()=>{E()}),cI(()=>{R.value.forEach(F=>clearTimeout(F))}),Pn(()=>{R.value.forEach(F=>clearTimeout(F))});const P=F=>{E(),s("blur",F),l.onFieldBlur()},I=F=>{E(),s("focus",F)},D=F=>{s("update:value",F.target.value),s("change",F),s("input",F),l.onFieldChange()};return()=>{var F,L,$,U,k,H;const{hasFeedback:z,feedbackIcon:Q}=u,{allowClear:Z,bordered:ie=!0,prefix:xe=(F=i.prefix)===null||F===void 0?void 0:F.call(i),suffix:J=(L=i.suffix)===null||L===void 0?void 0:L.call(i),addonAfter:se=($=i.addonAfter)===null||$===void 0?void 0:$.call(i),addonBefore:ee=(U=i.addonBefore)===null||U===void 0?void 0:U.call(i),id:ne=(k=l.id)===null||k===void 0?void 0:k.value}=n,ue=Qbe(n,["allowClear","bordered","prefix","suffix","addonAfter","addonBefore","id"]),Y=(z||J)&&N(mn,null,[J,z&&Q]),le=f.value,fe=IN({prefix:xe,suffix:J})||!!z,W=i.clearIcon||(()=>N(kh,null,null));return m(N(Ybe,ve(ve(ve({},r),Ai(ue,["onUpdate:value","onChange","onInput"])),{},{onChange:D,id:ne,disabled:(H=n.disabled)!==null&&H!==void 0?H:S.value,ref:a,prefixCls:le,autocomplete:p.value,onBlur:P,onFocus:I,prefix:xe,suffix:Y,allowClear:Z,addonAfter:se&&N(q2,null,{default:()=>[N(T$,null,{default:()=>[se]})]}),addonBefore:ee&&N(q2,null,{default:()=>[N(T$,null,{default:()=>[ee]})]}),class:[r.class,b.value],inputClassName:Qe({[`${le}-sm`]:y.value==="small",[`${le}-lg`]:y.value==="large",[`${le}-rtl`]:d.value==="rtl",[`${le}-borderless`]:!ie},!fe&&wg(le,c.value),_.value),affixWrapperClassName:Qe({[`${le}-affix-wrapper-sm`]:y.value==="small",[`${le}-affix-wrapper-lg`]:y.value==="large",[`${le}-affix-wrapper-rtl`]:d.value==="rtl",[`${le}-affix-wrapper-borderless`]:!ie},wg(`${le}-affix-wrapper`,c.value,z),_.value),wrapperClassName:Qe({[`${le}-group-rtl`]:d.value==="rtl"},_.value),groupClassName:Qe({[`${le}-group-wrapper-sm`]:y.value==="small",[`${le}-group-wrapper-lg`]:y.value==="large",[`${le}-group-wrapper-rtl`]:d.value==="rtl"},wg(`${le}-group-wrapper`,c.value,z),_.value)}),O(O({},i),{clearIcon:W})))}}}),Zbe=je({compatConfig:{MODE:3},name:"AInputGroup",inheritAttrs:!1,props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0}},setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o,direction:s,getPrefixCls:a}=tn("input-group",n),l=dc.useInject();dc.useProvide(l,{isFormItemInput:!1});const u=K(()=>a("input")),[c,d]=AN(u),f=K(()=>{const h=o.value;return{[`${h}`]:!0,[d.value]:!0,[`${h}-lg`]:n.size==="large",[`${h}-sm`]:n.size==="small",[`${h}-compact`]:n.compact,[`${h}-rtl`]:s.value==="rtl"}});return()=>{var h;return c(N("span",ve(ve({},r),{},{class:Qe(f.value,r.class)}),[(h=i.default)===null||h===void 0?void 0:h.call(i)]))}}});var Jbe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const exe=je({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:O(O({},G1()),{inputPrefixCls:String,enterButton:be.any,onSearch:{type:Function}}),setup(n,e){let{slots:i,attrs:r,expose:o,emit:s}=e;const a=Oe(),l=Oe(!1);o({focus:()=>{var A;(A=a.value)===null||A===void 0||A.focus()},blur:()=>{var A;(A=a.value)===null||A===void 0||A.blur()}});const d=A=>{s("update:value",A.target.value),A&&A.target&&A.type==="click"&&s("search",A.target.value,A),s("change",A)},f=A=>{var T;document.activeElement===((T=a.value)===null||T===void 0?void 0:T.input)&&A.preventDefault()},h=A=>{var T,C;s("search",(C=(T=a.value)===null||T===void 0?void 0:T.input)===null||C===void 0?void 0:C.stateValue,A)},p=A=>{l.value||n.loading||h(A)},g=A=>{l.value=!0,s("compositionstart",A)},b=A=>{l.value=!1,s("compositionend",A)},{prefixCls:y,getPrefixCls:m,direction:_,size:S}=tn("input-search",n),w=K(()=>m("input",n.inputPrefixCls));return()=>{var A,T,C,R;const{disabled:E,loading:P,addonAfter:I=(A=i.addonAfter)===null||A===void 0?void 0:A.call(i),suffix:D=(T=i.suffix)===null||T===void 0?void 0:T.call(i)}=n,F=Jbe(n,["disabled","loading","addonAfter","suffix"]);let{enterButton:L=(R=(C=i.enterButton)===null||C===void 0?void 0:C.call(i))!==null&&R!==void 0?R:!1}=n;L=L||L==="";const $=typeof L=="boolean"?N(Mm,null,null):null,U=`${y.value}-button`,k=Array.isArray(L)?L[0]:L;let H;const z=k.type&&rW(k.type)&&k.type.__ANT_BUTTON;if(z||k.tagName==="button")H=Oi(k,O({onMousedown:f,onClick:h,key:"enterButton"},z?{class:U,size:S.value}:{}),!1);else{const Z=$&&!L;H=N(Us,{class:U,type:L?"primary":void 0,size:S.value,disabled:E,key:"enterButton",onMousedown:f,onClick:h,loading:P,icon:Z?$:null},{default:()=>[Z?null:$||L]})}I&&(H=[H,I]);const Q=Qe(y.value,{[`${y.value}-rtl`]:_.value==="rtl",[`${y.value}-${S.value}`]:!!S.value,[`${y.value}-with-button`]:!!L},r.class);return N(_r,ve(ve(ve({ref:a},Ai(F,["onUpdate:value","onSearch","enterButton"])),r),{},{onPressEnter:p,onCompositionstart:g,onCompositionend:b,size:S.value,prefixCls:w.value,addonAfter:H,suffix:D,onChange:d,class:Q,disabled:E}),i)}}}),RU=n=>n!=null&&(Array.isArray(n)?Fo(n).length:!0);function txe(n){return RU(n.addonBefore)||RU(n.addonAfter)}const nxe=["text","input"],ixe=je({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:be.oneOf(vh("text","input")),value:Os(),defaultValue:Os(),allowClear:{type:Boolean,default:void 0},element:Os(),handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:Os(),prefix:Os(),addonBefore:Os(),addonAfter:Os(),readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean,status:String,hashId:String},setup(n,e){let{slots:i,attrs:r}=e;const o=dc.useInject(),s=l=>{const{value:u,disabled:c,readonly:d,handleReset:f,suffix:h=i.suffix}=n,p=!c&&!d&&u,g=`${l}-clear-icon`;return N(kh,{onClick:f,onMousedown:b=>b.preventDefault(),class:Qe({[`${g}-hidden`]:!p,[`${g}-has-suffix`]:!!h},g),role:"button"},null)},a=(l,u)=>{const{value:c,allowClear:d,direction:f,bordered:h,hidden:p,status:g,addonAfter:b=i.addonAfter,addonBefore:y=i.addonBefore,hashId:m}=n,{status:_,hasFeedback:S}=o;if(!d)return Oi(u,{value:c,disabled:n.disabled});const w=Qe(`${l}-affix-wrapper`,`${l}-affix-wrapper-textarea-with-clear-btn`,wg(`${l}-affix-wrapper`,D1(_,g),S),{[`${l}-affix-wrapper-rtl`]:f==="rtl",[`${l}-affix-wrapper-borderless`]:!h,[`${r.class}`]:!txe({addonAfter:b,addonBefore:y})&&r.class},m);return N("span",{class:w,style:r.style,hidden:p},[Oi(u,{style:null,value:c,disabled:n.disabled}),s(l)])};return()=>{var l;const{prefixCls:u,inputType:c,element:d=(l=i.element)===null||l===void 0?void 0:l.call(i)}=n;return c===nxe[0]?a(u,d):null}}}),rxe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,oxe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],OT={};let na;function sxe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&OT[i])return OT[i];const r=window.getComputedStyle(n),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),s=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),u={sizingStyle:oxe.map(c=>`${c}:${r.getPropertyValue(c)}`).join(";"),paddingSize:s,borderSize:a,boxSizing:o};return e&&i&&(OT[i]=u),u}function axe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;na||(na=document.createElement("textarea"),na.setAttribute("tab-index","-1"),na.setAttribute("aria-hidden","true"),document.body.appendChild(na)),n.getAttribute("wrap")?na.setAttribute("wrap",n.getAttribute("wrap")):na.removeAttribute("wrap");const{paddingSize:o,borderSize:s,boxSizing:a,sizingStyle:l}=sxe(n,e);na.setAttribute("style",`${l};${rxe}`),na.value=n.value||n.placeholder||"";let u,c,d,f=na.scrollHeight;if(a==="border-box"?f+=s:a==="content-box"&&(f-=o),i!==null||r!==null){na.value=" ";const p=na.scrollHeight-o;i!==null&&(u=p*i,a==="border-box"&&(u=u+o+s),f=Math.max(u,f)),r!==null&&(c=p*r,a==="border-box"&&(c=c+o+s),d=f>c?"":"hidden",f=Math.min(c,f))}const h={height:`${f}px`,overflowY:d,resize:"none"};return u&&(h.minHeight=`${u}px`),c&&(h.maxHeight=`${c}px`),h}const DT=0,LT=1,BT=2,lxe=je({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:b9(),setup(n,e){let{attrs:i,emit:r,expose:o}=e,s,a;const l=Ge(),u=Ge({}),c=Ge(BT);Pn(()=>{xn.cancel(s),xn.cancel(a)});const d=()=>{try{if(l.value&&document.activeElement===l.value.input){const T=l.value.getSelectionStart(),C=l.value.getSelectionEnd(),R=l.value.getScrollTop();l.value.setSelectionRange(T,C),l.value.setScrollTop(R)}}catch{}},f=Ge(),h=Ge();ln(()=>{const T=n.autoSize||n.autosize;T?(f.value=T.minRows,h.value=T.maxRows):(f.value=void 0,h.value=void 0)});const p=K(()=>!!(n.autoSize||n.autosize)),g=()=>{c.value=DT};ct([()=>n.value,f,h,p],()=>{p.value&&g()},{immediate:!0});const b=Ge();ct([c,l],()=>{if(l.value)if(c.value===DT)c.value=LT;else if(c.value===LT){const T=axe(l.value.input,!1,f.value,h.value);c.value=BT,b.value=T}else d()},{immediate:!0,flush:"post"});const y=hs(),m=Ge(),_=()=>{xn.cancel(m.value)},S=T=>{c.value===BT&&(r("resize",T),p.value&&(_(),m.value=xn(()=>{g()})))};Pn(()=>{_()}),o({resizeTextarea:()=>{g()},textArea:K(()=>{var T;return(T=l.value)===null||T===void 0?void 0:T.input}),instance:y}),x1(n.autosize===void 0);const A=()=>{const{prefixCls:T,disabled:C}=n,R=Ai(n,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","maxlength","valueModifiers"]),E=Qe(T,i.class,{[`${T}-disabled`]:C}),P=p.value?b.value:null,I=[i.style,u.value,P],D=O(O(O({},R),i),{style:I,class:E});return(c.value===DT||c.value===LT)&&I.push({overflowX:"hidden",overflowY:"hidden"}),D.autofocus||delete D.autofocus,D.rows===0&&delete D.rows,N(Bd,{onResize:S,disabled:!p.value},{default:()=>[N(G0,ve(ve({},D),{},{ref:l,tag:"textarea"}),null)]})};return()=>A()}});function x9(n,e){return[...n||""].slice(0,e).join("")}function PU(n,e,i,r){let o=i;return n?o=x9(i,r):[...e||""].length<i.length&&[...i||""].length>r&&(o=e),o}const uxe=je({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:b9(),setup(n,e){let{attrs:i,expose:r,emit:o}=e;var s;const a=wc(),l=dc.useInject(),u=K(()=>D1(l.status,n.status)),c=Oe((s=n.value)!==null&&s!==void 0?s:n.defaultValue),d=Oe(),f=Oe(""),{prefixCls:h,size:p,direction:g}=tn("input",n),[b,y]=AN(h),m=Bl(),_=K(()=>n.showCount===""||n.showCount||!1),S=K(()=>Number(n.maxlength)>0),w=Oe(!1),A=Oe(),T=Oe(0),C=z=>{w.value=!0,A.value=f.value,T.value=z.currentTarget.selectionStart,o("compositionstart",z)},R=z=>{var Q;w.value=!1;let Z=z.currentTarget.value;if(S.value){const ie=T.value>=n.maxlength+1||T.value===((Q=A.value)===null||Q===void 0?void 0:Q.length);Z=PU(ie,A.value,Z,n.maxlength)}Z!==f.value&&(D(Z),Ay(z.currentTarget,z,$,Z)),o("compositionend",z)},E=hs();ct(()=>n.value,()=>{var z;"value"in E.vnode.props,c.value=(z=n.value)!==null&&z!==void 0?z:""});const P=z=>{var Q;m9((Q=d.value)===null||Q===void 0?void 0:Q.textArea,z)},I=()=>{var z,Q;(Q=(z=d.value)===null||z===void 0?void 0:z.textArea)===null||Q===void 0||Q.blur()},D=(z,Q)=>{c.value!==z&&(n.value===void 0?c.value=z:kn(()=>{var Z,ie,xe;d.value.textArea.value!==f.value&&((xe=(Z=d.value)===null||Z===void 0?void 0:(ie=Z.instance).update)===null||xe===void 0||xe.call(ie))}),kn(()=>{Q&&Q()}))},F=z=>{z.keyCode===13&&o("pressEnter",z),o("keydown",z)},L=z=>{const{onBlur:Q}=n;Q==null||Q(z),a.onFieldBlur()},$=z=>{o("update:value",z.target.value),o("change",z),o("input",z),a.onFieldChange()},U=z=>{Ay(d.value.textArea,z,$),D("",()=>{P()})},k=z=>{let Q=z.target.value;if(c.value!==Q){if(S.value){const Z=z.target,ie=Z.selectionStart>=n.maxlength+1||Z.selectionStart===Q.length||!Z.selectionStart;Q=PU(ie,f.value,Q,n.maxlength)}Ay(z.currentTarget,z,$,Q),D(Q)}},H=()=>{var z,Q;const{class:Z}=i,{bordered:ie=!0}=n,xe=O(O(O({},Ai(n,["allowClear"])),i),{class:[{[`${h.value}-borderless`]:!ie,[`${Z}`]:Z&&!_.value,[`${h.value}-sm`]:p.value==="small",[`${h.value}-lg`]:p.value==="large"},wg(h.value,u.value),y.value],disabled:m.value,showCount:null,prefixCls:h.value,onInput:k,onChange:k,onBlur:L,onKeydown:F,onCompositionstart:C,onCompositionend:R});return!((z=n.valueModifiers)===null||z===void 0)&&z.lazy&&delete xe.onInput,N(lxe,ve(ve({},xe),{},{id:(Q=xe==null?void 0:xe.id)!==null&&Q!==void 0?Q:a.id.value,ref:d,maxlength:n.maxlength,lazy:n.lazy}),null)};return r({focus:P,blur:I,resizableTextArea:d}),ln(()=>{let z=uR(c.value);!w.value&&S.value&&(n.value===null||n.value===void 0)&&(z=x9(z,n.maxlength)),f.value=z}),()=>{var z;const{maxlength:Q,bordered:Z=!0,hidden:ie}=n,{style:xe,class:J}=i,se=O(O(O({},n),i),{prefixCls:h.value,inputType:"text",handleReset:U,direction:g.value,bordered:Z,style:_.value?void 0:xe,hashId:y.value,disabled:(z=n.disabled)!==null&&z!==void 0?z:m.value});let ee=N(ixe,ve(ve({},se),{},{value:f.value,status:n.status}),{element:H});if(_.value||l.hasFeedback){const ne=[...f.value].length;let ue="";typeof _.value=="object"?ue=_.value.formatter({value:f.value,count:ne,maxlength:Q}):ue=`${ne}${S.value?` / ${Q}`:""}`,ee=N("div",{hidden:ie,class:Qe(`${h.value}-textarea`,{[`${h.value}-textarea-rtl`]:g.value==="rtl",[`${h.value}-textarea-show-count`]:_.value,[`${h.value}-textarea-in-form-item`]:l.isFormItemInput},`${h.value}-textarea-show-count`,J,y.value),style:xe,"data-count":typeof ue!="object"?ue:void 0},[ee,l.hasFeedback&&N("span",{class:`${h.value}-textarea-suffix`},[l.feedbackIcon])])}return b(ee)}}});var cxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};function IU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){dxe(n,o,i[o])})}return n}function dxe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var V1=function(e,i){var r=IU({},e,i.attrs);return N(Tn,IU({},r,{icon:cxe}),null)};V1.displayName="EyeOutlined";V1.inheritAttrs=!1;var fxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};function NU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){hxe(n,o,i[o])})}return n}function hxe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var NN=function(e,i){var r=NU({},e,i.attrs);return N(Tn,NU({},r,{icon:fxe}),null)};NN.displayName="EyeInvisibleOutlined";NN.inheritAttrs=!1;var pxe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const gxe={click:"onClick",hover:"onMouseover"},mxe=n=>N(n?V1:NN,null,null),vxe=je({compatConfig:{MODE:3},name:"AInputPassword",inheritAttrs:!1,props:O(O({},G1()),{prefixCls:String,inputPrefixCls:String,action:{type:String,default:"click"},visibilityToggle:{type:Boolean,default:!0},visible:{type:Boolean,default:void 0},"onUpdate:visible":Function,iconRender:Function}),setup(n,e){let{slots:i,attrs:r,expose:o,emit:s}=e;const a=Oe(!1),l=()=>{const{disabled:y}=n;y||(a.value=!a.value,s("update:visible",a.value))};ln(()=>{n.visible!==void 0&&(a.value=!!n.visible)});const u=Oe();o({focus:()=>{var y;(y=u.value)===null||y===void 0||y.focus()},blur:()=>{var y;(y=u.value)===null||y===void 0||y.blur()}});const f=y=>{const{action:m,iconRender:_=i.iconRender||mxe}=n,S=gxe[m]||"",w=_(a.value),A={[S]:l,class:`${y}-icon`,key:"passwordIcon",onMousedown:T=>{T.preventDefault()},onMouseup:T=>{T.preventDefault()}};return Oi(mo(w)?w:N("span",null,[w]),A)},{prefixCls:h,getPrefixCls:p}=tn("input-password",n),g=K(()=>p("input",n.inputPrefixCls)),b=()=>{const{size:y,visibilityToggle:m}=n,_=pxe(n,["size","visibilityToggle"]),S=m&&f(h.value),w=Qe(h.value,r.class,{[`${h.value}-${y}`]:!!y}),A=O(O(O({},Ai(_,["suffix","iconRender","action"])),r),{type:a.value?"text":"password",class:w,prefixCls:g.value,suffix:S});return y&&(A.size=y),N(_r,ve({ref:u},A),i)};return()=>b()}});_r.Group=Zbe;_r.Search=exe;_r.TextArea=uxe;_r.Password=vxe;_r.install=function(n){return n.component(_r.name,_r),n.component(_r.Group.name,_r.Group),n.component(_r.Search.name,_r.Search),n.component(_r.TextArea.name,_r.TextArea),n.component(_r.Password.name,_r.Password),n};function yxe(n,e,i){var r=i,o=r.noTrailing,s=o===void 0?!1:o,a=r.noLeading,l=a===void 0?!1:a,u=r.debounceMode,c=u===void 0?void 0:u,d,f=!1,h=0;function p(){d&&clearTimeout(d)}function g(y){var m=y||{},_=m.upcomingOnly,S=_===void 0?!1:_;p(),f=!S}function b(){for(var y=arguments.length,m=new Array(y),_=0;_<y;_++)m[_]=arguments[_];var S=this,w=Date.now()-h;if(f)return;function A(){h=Date.now(),e.apply(S,m)}function T(){d=void 0}!l&&c&&!d&&A(),p(),c===void 0&&w>n?l?(h=Date.now(),s||(d=setTimeout(c?T:A,n))):A():s!==!0&&(d=setTimeout(c?T:A,c===void 0?n-w:n))}return b.cancel=g,b}function bxe(n,e,i){var r={},o=r.atBegin,s=o===void 0?!1:o;return yxe(n,e,{debounceMode:s!==!1})}const xxe=new Dn("antSpinMove",{to:{opacity:1}}),_xe=new Dn("antRotate",{to:{transform:"rotate(405deg)"}}),Sxe=n=>({[`${n.componentCls}`]:O(O({},di(n)),{position:"absolute",display:"none",color:n.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${n.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${n.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-n.spinDotSize/2},[`${n.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(n.spinDotSize-n.fontSize)/2+2,textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSize/2)-10},"&-sm":{[`${n.componentCls}-dot`]:{margin:-n.spinDotSizeSM/2},[`${n.componentCls}-text`]:{paddingTop:(n.spinDotSizeSM-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSizeSM/2)-10}},"&-lg":{[`${n.componentCls}-dot`]:{margin:-(n.spinDotSizeLG/2)},[`${n.componentCls}-text`]:{paddingTop:(n.spinDotSizeLG-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSizeLG/2)-10}}},[`${n.componentCls}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${n.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${n.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:n.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(n.spinDotSize-n.marginXXS/2)/2,height:(n.spinDotSize-n.marginXXS/2)/2,backgroundColor:n.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:xxe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:_xe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${n.componentCls}-dot`]:{fontSize:n.spinDotSizeSM,i:{width:(n.spinDotSizeSM-n.marginXXS/2)/2,height:(n.spinDotSizeSM-n.marginXXS/2)/2}},[`&-lg ${n.componentCls}-dot`]:{fontSize:n.spinDotSizeLG,i:{width:(n.spinDotSizeLG-n.marginXXS)/2,height:(n.spinDotSizeLG-n.marginXXS)/2}},[`&${n.componentCls}-show-text ${n.componentCls}-text`]:{display:"block"}})}),wxe=Bi("Spin",n=>{const e=On(n,{spinDotDefault:n.colorTextDescription,spinDotSize:n.controlHeightLG/2,spinDotSizeSM:n.controlHeightLG*.35,spinDotSizeLG:n.controlHeight});return[Sxe(e)]},{contentHeight:400});var Cxe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Axe=()=>({prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:be.any,delay:Number,indicator:be.any});let bS=null;function Txe(n,e){return!!n&&!!e&&!isNaN(Number(e))}function Exe(n){const e=n.indicator;bS=typeof e=="function"?e:()=>N(e,null,null)}const Eg=je({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:fi(Axe(),{size:"default",spinning:!0,wrapperClassName:""}),setup(n,e){let{attrs:i,slots:r}=e;const{prefixCls:o,size:s,direction:a}=tn("spin",n),[l,u]=wxe(o),c=Oe(n.spinning&&!Txe(n.spinning,n.delay));let d;return ct([()=>n.spinning,()=>n.delay],()=>{d==null||d.cancel(),d=bxe(n.delay,()=>{c.value=n.spinning}),d==null||d()},{immediate:!0,flush:"post"}),Pn(()=>{d==null||d.cancel()}),()=>{var f,h;const{class:p}=i,g=Cxe(i,["class"]),{tip:b=(f=r.tip)===null||f===void 0?void 0:f.call(r)}=n,y=(h=r.default)===null||h===void 0?void 0:h.call(r),m={[u.value]:!0,[o.value]:!0,[`${o.value}-sm`]:s.value==="small",[`${o.value}-lg`]:s.value==="large",[`${o.value}-spinning`]:c.value,[`${o.value}-show-text`]:!!b,[`${o.value}-rtl`]:a.value==="rtl",[p]:!!p};function _(w){const A=`${w}-dot`;let T=ha(r,n,"indicator");return T===null?null:(Array.isArray(T)&&(T=T.length===1?T[0]:T),wr(T)?ds(T,{class:A}):bS&&wr(bS())?ds(bS(),{class:A}):N("span",{class:`${A} ${w}-dot-spin`},[N("i",{class:`${w}-dot-item`},null),N("i",{class:`${w}-dot-item`},null),N("i",{class:`${w}-dot-item`},null),N("i",{class:`${w}-dot-item`},null)]))}const S=N("div",ve(ve({},g),{},{class:m,"aria-live":"polite","aria-busy":c.value}),[_(o.value),b?N("div",{class:`${o.value}-text`},[b]):null]);if(y&&Fo(y).length){const w={[`${o.value}-container`]:!0,[`${o.value}-blur`]:c.value};return l(N("div",{class:[`${o.value}-nested-loading`,n.wrapperClassName,u.value]},[c.value&&N("div",{key:"loading"},[S]),N("div",{class:w,key:"container"},[y])]))}return l(S)}}});Eg.setDefaultIndicator=Exe;Eg.install=function(n){return n.component(Eg.name,Eg),n};var Mxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};function OU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Rxe(n,o,i[o])})}return n}function Rxe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var bw=function(e,i){var r=OU({},e,i.attrs);return N(Tn,OU({},r,{icon:Mxe}),null)};bw.displayName="DoubleLeftOutlined";bw.inheritAttrs=!1;var Pxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};function DU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Ixe(n,o,i[o])})}return n}function Ixe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var xw=function(e,i){var r=DU({},e,i.attrs);return N(Tn,DU({},r,{icon:Pxe}),null)};xw.displayName="DoubleRightOutlined";xw.inheritAttrs=!1;const Nxe=je({name:"MiniSelect",compatConfig:{MODE:3},inheritAttrs:!1,props:aN(),Option:Ds.Option,setup(n,e){let{attrs:i,slots:r}=e;return()=>{const o=O(O(O({},n),{size:"small"}),i);return N(Ds,o,r)}}}),Oxe=je({name:"MiddleSelect",inheritAttrs:!1,props:aN(),Option:Ds.Option,setup(n,e){let{attrs:i,slots:r}=e;return()=>{const o=O(O(O({},n),{size:"middle"}),i);return N(Ds,o,r)}}}),yf=je({compatConfig:{MODE:3},name:"Pager",inheritAttrs:!1,props:{rootPrefixCls:String,page:Number,active:{type:Boolean,default:void 0},last:{type:Boolean,default:void 0},locale:be.object,showTitle:{type:Boolean,default:void 0},itemRender:{type:Function,default:()=>{}},onClick:{type:Function},onKeypress:{type:Function}},eimt:["click","keypress"],setup(n,e){let{emit:i,attrs:r}=e;const o=()=>{i("click",n.page)},s=a=>{i("keypress",a,o,n.page)};return()=>{const{showTitle:a,page:l,itemRender:u}=n,{class:c,style:d}=r,f=`${n.rootPrefixCls}-item`,h=Qe(f,`${f}-${n.page}`,{[`${f}-active`]:n.active,[`${f}-disabled`]:!n.page},c);return N("li",{onClick:o,onKeypress:s,title:a?String(l):null,tabindex:"0",class:h,style:d},[u({page:l,type:"page",originalElement:N("a",{rel:"nofollow"},[l])})])}}}),If={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Dxe=je({compatConfig:{MODE:3},props:{disabled:{type:Boolean,default:void 0},changeSize:Function,quickGo:Function,selectComponentClass:be.any,current:Number,pageSizeOptions:be.array.def(["10","20","50","100"]),pageSize:Number,buildOptionText:Function,locale:be.object,rootPrefixCls:String,selectPrefixCls:String,goButton:be.any},setup(n){const e=Ge(""),i=K(()=>!e.value||isNaN(e.value)?void 0:Number(e.value)),r=u=>`${u.value} ${n.locale.items_per_page}`,o=u=>{const{value:c}=u.target;e.value!==c&&(e.value=c)},s=u=>{const{goButton:c,quickGo:d,rootPrefixCls:f}=n;if(!(c||e.value===""))if(u.relatedTarget&&(u.relatedTarget.className.indexOf(`${f}-item-link`)>=0||u.relatedTarget.className.indexOf(`${f}-item`)>=0)){e.value="";return}else d(i.value),e.value=""},a=u=>{e.value!==""&&(u.keyCode===If.ENTER||u.type==="click")&&(n.quickGo(i.value),e.value="")},l=K(()=>{const{pageSize:u,pageSizeOptions:c}=n;return c.some(d=>d.toString()===u.toString())?c:c.concat([u.toString()]).sort((d,f)=>{const h=isNaN(Number(d))?0:Number(d),p=isNaN(Number(f))?0:Number(f);return h-p})});return()=>{const{rootPrefixCls:u,locale:c,changeSize:d,quickGo:f,goButton:h,selectComponentClass:p,selectPrefixCls:g,pageSize:b,disabled:y}=n,m=`${u}-options`;let _=null,S=null,w=null;if(!d&&!f)return null;if(d&&p){const A=n.buildOptionText||r,T=l.value.map((C,R)=>N(p.Option,{key:R,value:C},{default:()=>[A({value:C})]}));_=N(p,{disabled:y,prefixCls:g,showSearch:!1,class:`${m}-size-changer`,optionLabelProp:"children",value:(b||l.value[0]).toString(),onChange:C=>d(Number(C)),getPopupContainer:C=>C.parentNode},{default:()=>[T]})}return f&&(h&&(w=typeof h=="boolean"?N("button",{type:"button",onClick:a,onKeyup:a,disabled:y,class:`${m}-quick-jumper-button`},[c.jump_to_confirm]):N("span",{onClick:a,onKeyup:a},[h])),S=N("div",{class:`${m}-quick-jumper`},[c.jump_to,N(G0,{disabled:y,type:"text",value:e.value,onInput:o,onChange:o,onKeyup:a,onBlur:s},null),c.page,w])),N("li",{class:`${m}`},[_,S])}}}),Lxe={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 "};var Bxe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function Fxe(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function $xe(n){let{originalElement:e}=n;return e}function gu(n,e,i){const r=typeof n>"u"?e.statePageSize:n;return Math.floor((i.total-1)/r)+1}const Uxe=je({compatConfig:{MODE:3},name:"Pagination",mixins:[TV],inheritAttrs:!1,props:{disabled:{type:Boolean,default:void 0},prefixCls:be.string.def("rc-pagination"),selectPrefixCls:be.string.def("rc-select"),current:Number,defaultCurrent:be.number.def(1),total:be.number.def(0),pageSize:Number,defaultPageSize:be.number.def(10),hideOnSinglePage:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:void 0},showLessItems:{type:Boolean,default:!1},selectComponentClass:be.any,showPrevNextJumpers:{type:Boolean,default:!0},showQuickJumper:be.oneOfType([be.looseBool,be.object]).def(!1),showTitle:{type:Boolean,default:!0},pageSizeOptions:be.arrayOf(be.oneOfType([be.number,be.string])),buildOptionText:Function,showTotal:Function,simple:{type:Boolean,default:void 0},locale:be.object.def(Lxe),itemRender:be.func.def($xe),prevIcon:be.any,nextIcon:be.any,jumpPrevIcon:be.any,jumpNextIcon:be.any,totalBoundaryShowSizeChanger:be.number.def(50)},data(){const n=this.$props;let e=X2([this.current,this.defaultCurrent]);const i=X2([this.pageSize,this.defaultPageSize]);return e=Math.min(e,gu(i,void 0,n)),{stateCurrent:e,stateCurrentInputValue:e,statePageSize:i}},watch:{current(n){this.setState({stateCurrent:n,stateCurrentInputValue:n})},pageSize(n){const e={};let i=this.stateCurrent;const r=gu(n,this.$data,this.$props);i=i>r?r:i,rg(this,"current")||(e.stateCurrent=i,e.stateCurrentInputValue=i),e.statePageSize=n,this.setState(e)},stateCurrent(n,e){this.$nextTick(()=>{if(this.$refs.paginationNode){const i=this.$refs.paginationNode.querySelector(`.${this.prefixCls}-item-${e}`);i&&document.activeElement===i&&i.blur()}})},total(){const n={},e=gu(this.pageSize,this.$data,this.$props);if(rg(this,"current")){const i=Math.min(this.current,e);n.stateCurrent=i,n.stateCurrentInputValue=i}else{let i=this.stateCurrent;i===0&&e>0?i=1:i=Math.min(this.stateCurrent,e),n.stateCurrent=i}this.setState(n)}},methods:{getJumpPrevPage(){return Math.max(1,this.stateCurrent-(this.showLessItems?3:5))},getJumpNextPage(){return Math.min(gu(void 0,this.$data,this.$props),this.stateCurrent+(this.showLessItems?3:5))},getItemIcon(n,e){const{prefixCls:i}=this.$props;return dG(this,n,this.$props)||N("button",{type:"button","aria-label":e,class:`${i}-item-link`},null)},getValidValue(n){const e=n.target.value,i=gu(void 0,this.$data,this.$props),{stateCurrentInputValue:r}=this.$data;let o;return e===""?o=e:isNaN(Number(e))?o=r:e>=i?o=i:o=Number(e),o},isValid(n){return Fxe(n)&&n!==this.stateCurrent},shouldDisplayQuickJumper(){const{showQuickJumper:n,pageSize:e,total:i}=this.$props;return i<=e?!1:n},handleKeyDown(n){(n.keyCode===If.ARROW_UP||n.keyCode===If.ARROW_DOWN)&&n.preventDefault()},handleKeyUp(n){const e=this.getValidValue(n),i=this.stateCurrentInputValue;e!==i&&this.setState({stateCurrentInputValue:e}),n.keyCode===If.ENTER?this.handleChange(e):n.keyCode===If.ARROW_UP?this.handleChange(e-1):n.keyCode===If.ARROW_DOWN&&this.handleChange(e+1)},changePageSize(n){let e=this.stateCurrent;const i=e,r=gu(n,this.$data,this.$props);e=e>r?r:e,r===0&&(e=this.stateCurrent),typeof n=="number"&&(rg(this,"pageSize")||this.setState({statePageSize:n}),rg(this,"current")||this.setState({stateCurrent:e,stateCurrentInputValue:e})),this.__emit("update:pageSize",n),e!==i&&this.__emit("update:current",e),this.__emit("showSizeChange",e,n),this.__emit("change",e,n)},handleChange(n){const{disabled:e}=this.$props;let i=n;if(this.isValid(i)&&!e){const r=gu(void 0,this.$data,this.$props);return i>r?i=r:i<1&&(i=1),rg(this,"current")||this.setState({stateCurrent:i,stateCurrentInputValue:i}),this.__emit("update:current",i),this.__emit("change",i,this.statePageSize),i}return this.stateCurrent},prev(){this.hasPrev()&&this.handleChange(this.stateCurrent-1)},next(){this.hasNext()&&this.handleChange(this.stateCurrent+1)},jumpPrev(){this.handleChange(this.getJumpPrevPage())},jumpNext(){this.handleChange(this.getJumpNextPage())},hasPrev(){return this.stateCurrent>1},hasNext(){return this.stateCurrent<gu(void 0,this.$data,this.$props)},getShowSizeChanger(){const{showSizeChanger:n,total:e,totalBoundaryShowSizeChanger:i}=this.$props;return typeof n<"u"?n:e>i},runIfEnter(n,e){if(n.key==="Enter"||n.charCode===13){n.preventDefault();for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e(...r)}},runIfEnterPrev(n){this.runIfEnter(n,this.prev)},runIfEnterNext(n){this.runIfEnter(n,this.next)},runIfEnterJumpPrev(n){this.runIfEnter(n,this.jumpPrev)},runIfEnterJumpNext(n){this.runIfEnter(n,this.jumpNext)},handleGoTO(n){(n.keyCode===If.ENTER||n.type==="click")&&this.handleChange(this.stateCurrentInputValue)},renderPrev(n){const{itemRender:e}=this.$props,i=e({page:n,type:"prev",originalElement:this.getItemIcon("prevIcon","prev page")}),r=!this.hasPrev();return mo(i)?Oi(i,r?{disabled:r}:{}):i},renderNext(n){const{itemRender:e}=this.$props,i=e({page:n,type:"next",originalElement:this.getItemIcon("nextIcon","next page")}),r=!this.hasNext();return mo(i)?Oi(i,r?{disabled:r}:{}):i}},render(){const{prefixCls:n,disabled:e,hideOnSinglePage:i,total:r,locale:o,showQuickJumper:s,showLessItems:a,showTitle:l,showTotal:u,simple:c,itemRender:d,showPrevNextJumpers:f,jumpPrevIcon:h,jumpNextIcon:p,selectComponentClass:g,selectPrefixCls:b,pageSizeOptions:y}=this.$props,{stateCurrent:m,statePageSize:_}=this,S=uG(this.$attrs).extraAttrs,{class:w}=S,A=Bxe(S,["class"]);if(i===!0&&this.total<=_)return null;const T=gu(void 0,this.$data,this.$props),C=[];let R=null,E=null,P=null,I=null,D=null;const F=s&&s.goButton,L=a?1:2,$=m-1>0?m-1:0,U=m+1<T?m+1:T,k=this.hasPrev(),H=this.hasNext();if(c)return F&&(typeof F=="boolean"?D=N("button",{type:"button",onClick:this.handleGoTO,onKeyup:this.handleGoTO},[o.jump_to_confirm]):D=N("span",{onClick:this.handleGoTO,onKeyup:this.handleGoTO},[F]),D=N("li",{title:l?`${o.jump_to}${m}/${T}`:null,class:`${n}-simple-pager`},[D])),N("ul",ve({class:Qe(`${n} ${n}-simple`,{[`${n}-disabled`]:e},w)},A),[N("li",{title:l?o.prev_page:null,onClick:this.prev,tabindex:k?0:null,onKeypress:this.runIfEnterPrev,class:Qe(`${n}-prev`,{[`${n}-disabled`]:!k}),"aria-disabled":!k},[this.renderPrev($)]),N("li",{title:l?`${m}/${T}`:null,class:`${n}-simple-pager`},[N(G0,{type:"text",value:this.stateCurrentInputValue,disabled:e,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onInput:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"},null),N("span",{class:`${n}-slash`},[tr("")]),T]),N("li",{title:l?o.next_page:null,onClick:this.next,tabindex:H?0:null,onKeypress:this.runIfEnterNext,class:Qe(`${n}-next`,{[`${n}-disabled`]:!H}),"aria-disabled":!H},[this.renderNext(U)]),D]);if(T<=3+L*2){const xe={locale:o,rootPrefixCls:n,showTitle:l,itemRender:d,onClick:this.handleChange,onKeypress:this.runIfEnter};T||C.push(N(yf,ve(ve({},xe),{},{key:"noPager",page:1,class:`${n}-item-disabled`}),null));for(let J=1;J<=T;J+=1){const se=m===J;C.push(N(yf,ve(ve({},xe),{},{key:J,page:J,active:se}),null))}}else{const xe=a?o.prev_3:o.prev_5,J=a?o.next_3:o.next_5;f&&(R=N("li",{title:this.showTitle?xe:null,key:"prev",onClick:this.jumpPrev,tabindex:"0",onKeypress:this.runIfEnterJumpPrev,class:Qe(`${n}-jump-prev`,{[`${n}-jump-prev-custom-icon`]:!!h})},[d({page:this.getJumpPrevPage(),type:"jump-prev",originalElement:this.getItemIcon("jumpPrevIcon","prev page")})]),E=N("li",{title:this.showTitle?J:null,key:"next",tabindex:"0",onClick:this.jumpNext,onKeypress:this.runIfEnterJumpNext,class:Qe(`${n}-jump-next`,{[`${n}-jump-next-custom-icon`]:!!p})},[d({page:this.getJumpNextPage(),type:"jump-next",originalElement:this.getItemIcon("jumpNextIcon","next page")})])),I=N(yf,{locale:o,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:T,page:T,active:!1,showTitle:l,itemRender:d},null),P=N(yf,{locale:o,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:1,page:1,active:!1,showTitle:l,itemRender:d},null);let se=Math.max(1,m-L),ee=Math.min(m+L,T);m-1<=L&&(ee=1+L*2),T-m<=L&&(se=T-L*2);for(let ne=se;ne<=ee;ne+=1){const ue=m===ne;C.push(N(yf,{locale:o,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:ne,page:ne,active:ue,showTitle:l,itemRender:d},null))}m-1>=L*2&&m!==3&&(C[0]=N(yf,{locale:o,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:se,page:se,class:`${n}-item-after-jump-prev`,active:!1,showTitle:this.showTitle,itemRender:d},null),C.unshift(R)),T-m>=L*2&&m!==T-2&&(C[C.length-1]=N(yf,{locale:o,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:ee,page:ee,class:`${n}-item-before-jump-next`,active:!1,showTitle:this.showTitle,itemRender:d},null),C.push(E)),se!==1&&C.unshift(P),ee!==T&&C.push(I)}let z=null;u&&(z=N("li",{class:`${n}-total-text`},[u(r,[r===0?0:(m-1)*_+1,m*_>r?r:m*_])]));const Q=!k||!T,Z=!H||!T,ie=this.buildOptionText||this.$slots.buildOptionText;return N("ul",ve(ve({unselectable:"on",ref:"paginationNode"},A),{},{class:Qe({[`${n}`]:!0,[`${n}-disabled`]:e},w)}),[z,N("li",{title:l?o.prev_page:null,onClick:this.prev,tabindex:Q?null:0,onKeypress:this.runIfEnterPrev,class:Qe(`${n}-prev`,{[`${n}-disabled`]:Q}),"aria-disabled":Q},[this.renderPrev($)]),C,N("li",{title:l?o.next_page:null,onClick:this.next,tabindex:Z?null:0,onKeypress:this.runIfEnterNext,class:Qe(`${n}-next`,{[`${n}-disabled`]:Z}),"aria-disabled":Z},[this.renderNext(U)]),N(Dxe,{disabled:e,locale:o,rootPrefixCls:n,selectComponentClass:g,selectPrefixCls:b,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:m,pageSize:_,pageSizeOptions:y,buildOptionText:ie||null,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:F},null)])}}),kxe=n=>{const{componentCls:e}=n;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`&${e}-mini`]:{[`
          &:hover ${e}-item:not(${e}-item-active),
          &:active ${e}-item:not(${e}-item-active),
          &:hover ${e}-item-link,
          &:active ${e}-item-link
        `]:{backgroundColor:"transparent"}},[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:n.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:n.colorBorder,backgroundColor:n.paginationItemDisabledBgActive,"&:hover, &:active":{backgroundColor:n.paginationItemDisabledBgActive},a:{color:n.paginationItemDisabledColorActive}}},[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:n.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},zxe=n=>{const{componentCls:e}=n;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`},[`&${e}-mini ${e}-item`]:{minWidth:n.paginationItemSizeSM,height:n.paginationItemSizeSM,margin:0,lineHeight:`${n.paginationItemSizeSM-2}px`},[`&${e}-mini ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:n.paginationItemSizeSM,height:n.paginationItemSizeSM,margin:0,lineHeight:`${n.paginationItemSizeSM}px`,[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:n.paginationItemSizeSM,marginInlineEnd:0,lineHeight:`${n.paginationItemSizeSM}px`},[`&${e}-mini ${e}-options`]:{marginInlineStart:n.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:n.paginationMiniOptionsSizeChangerTop},"&-quick-jumper":{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`,input:O(O({},wN(n)),{width:n.paginationMiniQuickJumperInputWidth,height:n.controlHeightSM})}}}},Hxe=n=>{const{componentCls:e}=n;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`,verticalAlign:"top",[`${e}-item-link`]:{height:n.paginationItemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive},"&::after":{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:n.paginationItemSizeSM,marginInlineEnd:n.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:n.marginXS,padding:`0 ${n.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:n.paginationItemInputBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,outline:"none",transition:`border-color ${n.motionDurationMid}`,color:"inherit","&:hover":{borderColor:n.colorPrimary},"&:focus":{borderColor:n.colorPrimaryHover,boxShadow:`${n.inputOutlineOffset}px 0 ${n.controlOutlineWidth}px ${n.controlOutline}`},"&[disabled]":{color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,cursor:"not-allowed"}}}}},Gxe=n=>{const{componentCls:e}=n;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:n.colorPrimary,fontSize:n.fontSizeSM,opacity:0,transition:`all ${n.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:n.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:n.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:n.paginationEllipsisTextIndent,opacity:1,transition:`all ${n.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},"&:focus-visible":O({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},uc(n))},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:n.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:n.paginationItemSize,height:n.paginationItemSize,color:n.colorText,fontFamily:n.paginationFontFamily,lineHeight:`${n.paginationItemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:n.borderRadius,cursor:"pointer",transition:`all ${n.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:n.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:n.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:"none",transition:`all ${n.motionDurationMid}`},[`&:focus-visible ${e}-item-link`]:O({},uc(n)),[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:n.paginationSlashMarginInlineEnd,marginInlineStart:n.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:n.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:n.controlHeight,marginInlineStart:n.marginXS,lineHeight:`${n.controlHeight}px`,verticalAlign:"top",input:O(O({},CN(n)),{width:n.controlHeightLG*1.25,height:n.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:n.marginXS,marginInlineEnd:n.marginXS})}}}},Vxe=n=>{const{componentCls:e}=n;return{[`${e}-item`]:O(O({display:"inline-block",minWidth:n.paginationItemSize,height:n.paginationItemSize,marginInlineEnd:n.marginXS,fontFamily:n.paginationFontFamily,lineHeight:`${n.paginationItemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${n.paginationItemPaddingInline}px`,color:n.colorText,transition:"none","&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${n.motionDurationMid}`,backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}}},yh(n)),{"&-active":{fontWeight:n.paginationFontWeightActive,backgroundColor:n.paginationItemBgActive,borderColor:n.colorPrimary,a:{color:n.colorPrimary},"&:hover":{borderColor:n.colorPrimaryHover},"&:hover a":{color:n.colorPrimaryHover}}})}},Wxe=n=>{const{componentCls:e}=n;return{[e]:O(O(O(O(O(O(O(O({},di(n)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:n.paginationItemSize,marginInlineEnd:n.marginXS,lineHeight:`${n.paginationItemSize-2}px`,verticalAlign:"middle"}}),Vxe(n)),Gxe(n)),Hxe(n)),zxe(n)),kxe(n)),{[`@media only screen and (max-width: ${n.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${n.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${n.componentCls}-rtl`]:{direction:"rtl"}}},jxe=n=>{const{componentCls:e}=n;return{[`${e}${e}-disabled`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:n.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:n.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,a:{color:n.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:n.paginationItemDisabledBgActive}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,color:n.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder}}},[e]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:n.colorPrimaryHover,backgroundColor:n.paginationItemBg},[`${e}-item-link`]:{backgroundColor:n.paginationItemLinkBg,borderColor:n.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:n.colorPrimary,backgroundColor:n.paginationItemBg,color:n.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:n.colorBorder,color:n.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:n.paginationItemBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:n.colorPrimary,backgroundColor:n.paginationItemBg,a:{color:n.colorPrimary}},"&-active":{borderColor:n.colorPrimary}}}}},Kxe=Bi("Pagination",n=>{const e=On(n,{paginationItemSize:n.controlHeight,paginationFontFamily:n.fontFamily,paginationItemBg:n.colorBgContainer,paginationItemBgActive:n.colorBgContainer,paginationFontWeightActive:n.fontWeightStrong,paginationItemSizeSM:n.controlHeightSM,paginationItemInputBg:n.colorBgContainer,paginationMiniOptionsSizeChangerTop:0,paginationItemDisabledBgActive:n.controlItemBgActiveDisabled,paginationItemDisabledColorActive:n.colorTextDisabled,paginationItemLinkBg:n.colorBgContainer,inputOutlineOffset:"0 0",paginationMiniOptionsMarginInlineStart:n.marginXXS/2,paginationMiniQuickJumperInputWidth:n.controlHeightLG*1.1,paginationItemPaddingInline:n.marginXXS*1.5,paginationEllipsisLetterSpacing:n.marginXXS/2,paginationSlashMarginInlineStart:n.marginXXS,paginationSlashMarginInlineEnd:n.marginSM,paginationEllipsisTextIndent:"0.13em"},jW(n));return[Wxe(e),n.wireframe&&jxe(e)]});var qxe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Xxe=()=>({total:Number,defaultCurrent:Number,disabled:It(),current:Number,defaultPageSize:Number,pageSize:Number,hideOnSinglePage:It(),showSizeChanger:It(),pageSizeOptions:Ii(),buildOptionText:pt(),showQuickJumper:Pi([Boolean,Object]),showTotal:pt(),size:Nn(),simple:It(),locale:Object,prefixCls:String,selectPrefixCls:String,totalBoundaryShowSizeChanger:Number,selectComponentClass:String,itemRender:pt(),role:String,responsive:Boolean,showLessItems:It(),onChange:pt(),onShowSizeChange:pt(),"onUpdate:current":pt(),"onUpdate:pageSize":pt()}),Yxe=je({compatConfig:{MODE:3},name:"APagination",inheritAttrs:!1,props:Xxe(),setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o,configProvider:s,direction:a,size:l}=tn("pagination",n),[u,c]=Kxe(o),d=K(()=>s.getPrefixCls("select",n.selectPrefixCls)),f=dW(),[h]=yI("Pagination",vG,Jn(n,"locale")),p=g=>{const b=N("span",{class:`${g}-item-ellipsis`},[tr("")]),y=N("button",{class:`${g}-item-link`,type:"button",tabindex:-1},[a.value==="rtl"?N(Xg,null,null):N(yw,null,null)]),m=N("button",{class:`${g}-item-link`,type:"button",tabindex:-1},[a.value==="rtl"?N(yw,null,null):N(Xg,null,null)]),_=N("a",{rel:"nofollow",class:`${g}-item-link`},[N("div",{class:`${g}-item-container`},[a.value==="rtl"?N(xw,{class:`${g}-item-link-icon`},null):N(bw,{class:`${g}-item-link-icon`},null),b])]),S=N("a",{rel:"nofollow",class:`${g}-item-link`},[N("div",{class:`${g}-item-container`},[a.value==="rtl"?N(bw,{class:`${g}-item-link-icon`},null):N(xw,{class:`${g}-item-link-icon`},null),b])]);return{prevIcon:y,nextIcon:m,jumpPrevIcon:_,jumpNextIcon:S}};return()=>{var g;const{itemRender:b=i.itemRender,buildOptionText:y=i.buildOptionText,selectComponentClass:m,responsive:_}=n,S=qxe(n,["itemRender","buildOptionText","selectComponentClass","responsive"]),w=l.value==="small"||!!(!((g=f.value)===null||g===void 0)&&g.xs&&!l.value&&_),A=O(O(O(O(O({},S),p(o.value)),{prefixCls:o.value,selectPrefixCls:d.value,selectComponentClass:m||(w?Nxe:Oxe),locale:h.value,buildOptionText:y}),r),{class:Qe({[`${o.value}-mini`]:w,[`${o.value}-rtl`]:a.value==="rtl"},r.class,c.value),itemRender:b});return u(N(Uxe,A,null))}}}),Qxe=jd(Yxe),Zxe=["normal","exception","active","success"],W1=()=>({prefixCls:String,type:Nn(),percent:Number,format:pt(),status:Nn(),showInfo:It(),strokeWidth:Number,strokeLinecap:Nn(),strokeColor:Os(),trailColor:String,width:Number,success:vn(),gapDegree:Number,gapPosition:Nn(),size:Pi([String,Number,Array]),steps:Number,successPercent:Number,title:String,progressStatus:Nn()});function sh(n){return!n||n<0?0:n>100?100:n}function _w(n){let{success:e,successPercent:i}=n,r=i;return e&&"progress"in e&&(gi(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),r=e.progress),e&&"percent"in e&&(r=e.percent),r}function Jxe(n){let{percent:e,success:i,successPercent:r}=n;const o=sh(_w({success:i,successPercent:r}));return[o,sh(sh(e)-o)]}function e_e(n){let{success:e={},strokeColor:i}=n;const{strokeColor:r}=e;return[r||xg.green,i||null]}const j1=(n,e,i)=>{var r,o,s,a;let l=-1,u=-1;if(e==="step"){const c=i.steps,d=i.strokeWidth;typeof n=="string"||typeof n>"u"?(l=n==="small"?2:14,u=d??8):typeof n=="number"?[l,u]=[n,n]:[l=14,u=8]=n,l*=c}else if(e==="line"){const c=i==null?void 0:i.strokeWidth;typeof n=="string"||typeof n>"u"?u=c||(n==="small"?6:8):typeof n=="number"?[l,u]=[n,n]:[l=-1,u=8]=n}else(e==="circle"||e==="dashboard")&&(typeof n=="string"||typeof n>"u"?[l,u]=n==="small"?[60,60]:[120,120]:typeof n=="number"?[l,u]=[n,n]:(l=(o=(r=n[0])!==null&&r!==void 0?r:n[1])!==null&&o!==void 0?o:120,u=(a=(s=n[0])!==null&&s!==void 0?s:n[1])!==null&&a!==void 0?a:120));return{width:l,height:u}};var t_e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const n_e=()=>O(O({},W1()),{strokeColor:Os(),direction:Nn()}),i_e=n=>{let e=[];return Object.keys(n).forEach(i=>{const r=parseFloat(i.replace(/%/g,""));isNaN(r)||e.push({key:r,value:n[i]})}),e=e.sort((i,r)=>i.key-r.key),e.map(i=>{let{key:r,value:o}=i;return`${o} ${r}%`}).join(", ")},r_e=(n,e)=>{const{from:i=xg.blue,to:r=xg.blue,direction:o=e==="rtl"?"to left":"to right"}=n,s=t_e(n,["from","to","direction"]);if(Object.keys(s).length!==0){const a=i_e(s);return{backgroundImage:`linear-gradient(${o}, ${a})`}}return{backgroundImage:`linear-gradient(${o}, ${i}, ${r})`}},o_e=je({compatConfig:{MODE:3},name:"ProgressLine",inheritAttrs:!1,props:n_e(),setup(n,e){let{slots:i,attrs:r}=e;const o=K(()=>{const{strokeColor:p,direction:g}=n;return p&&typeof p!="string"?r_e(p,g):{backgroundColor:p}}),s=K(()=>n.strokeLinecap==="square"||n.strokeLinecap==="butt"?0:void 0),a=K(()=>n.trailColor?{backgroundColor:n.trailColor}:void 0),l=K(()=>{var p;return(p=n.size)!==null&&p!==void 0?p:[-1,n.strokeWidth||(n.size==="small"?6:8)]}),u=K(()=>j1(l.value,"line",{strokeWidth:n.strokeWidth})),c=K(()=>{const{percent:p}=n;return O({width:`${sh(p)}%`,height:`${u.value.height}px`,borderRadius:s.value},o.value)}),d=K(()=>_w(n)),f=K(()=>{const{success:p}=n;return{width:`${sh(d.value)}%`,height:`${u.value.height}px`,borderRadius:s.value,backgroundColor:p==null?void 0:p.strokeColor}}),h={width:u.value.width<0?"100%":u.value.width,height:`${u.value.height}px`};return()=>{var p;return N(mn,null,[N("div",ve(ve({},r),{},{class:[`${n.prefixCls}-outer`,r.class],style:[r.style,h]}),[N("div",{class:`${n.prefixCls}-inner`,style:a.value},[N("div",{class:`${n.prefixCls}-bg`,style:c.value},null),d.value!==void 0?N("div",{class:`${n.prefixCls}-success-bg`,style:f.value},null):null])]),(p=i.default)===null||p===void 0?void 0:p.call(i)])}}}),s_e={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},a_e=n=>{const e=Ge(null);return Ca(()=>{const i=Date.now();let r=!1;n.value.forEach(o=>{const s=(o==null?void 0:o.$el)||o;if(!s)return;r=!0;const a=s.style;a.transitionDuration=".3s, .3s, .3s, .06s",e.value&&i-e.value<100&&(a.transitionDuration="0s, 0s")}),r&&(e.value=Date.now())}),n},l_e={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String};var u_e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};let LU=0;function BU(n){return+n.replace("%","")}function FU(n){return Array.isArray(n)?n:[n]}function $U(n,e,i,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;const a=50-r/2;let l=0,u=-a,c=0,d=-2*a;switch(s){case"left":l=-a,u=0,c=2*a,d=0;break;case"right":l=a,u=0,c=-2*a,d=0;break;case"bottom":u=a,d=2*a;break}const f=`M 50,50 m ${l},${u}
   a ${a},${a} 0 1 1 ${c},${-d}
   a ${a},${a} 0 1 1 ${-c},${d}`,h=Math.PI*2*a,p={stroke:i,strokeDasharray:`${e/100*(h-o)}px ${h}px`,strokeDashoffset:`-${o/2+n/100*(h-o)}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:f,pathStyle:p}}const c_e=je({compatConfig:{MODE:3},name:"VCCircle",props:fi(l_e,s_e),setup(n){LU+=1;const e=Ge(LU),i=K(()=>FU(n.percent)),r=K(()=>FU(n.strokeColor)),[o,s]=YW();a_e(s);const a=()=>{const{prefixCls:l,strokeWidth:u,strokeLinecap:c,gapDegree:d,gapPosition:f}=n;let h=0;return i.value.map((p,g)=>{const b=r.value[g]||r.value[r.value.length-1],y=Object.prototype.toString.call(b)==="[object Object]"?`url(#${l}-gradient-${e.value})`:"",{pathString:m,pathStyle:_}=$U(h,p,b,u,d,f);h+=p;const S={key:g,d:m,stroke:y,"stroke-linecap":c,"stroke-width":u,opacity:p===0?0:1,"fill-opacity":"0",class:`${l}-circle-path`,style:_};return N("path",ve({ref:o(g)},S),null)})};return()=>{const{prefixCls:l,strokeWidth:u,trailWidth:c,gapDegree:d,gapPosition:f,trailColor:h,strokeLinecap:p,strokeColor:g}=n,b=u_e(n,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),{pathString:y,pathStyle:m}=$U(0,100,h,u,d,f);delete b.percent;const _=r.value.find(w=>Object.prototype.toString.call(w)==="[object Object]"),S={d:y,stroke:h,"stroke-linecap":p,"stroke-width":c||u,"fill-opacity":"0",class:`${l}-circle-trail`,style:m};return N("svg",ve({class:`${l}-circle`,viewBox:"0 0 100 100"},b),[_&&N("defs",null,[N("linearGradient",{id:`${l}-gradient-${e.value}`,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(_).sort((w,A)=>BU(w)-BU(A)).map((w,A)=>N("stop",{key:A,offset:w,"stop-color":_[w]},null))])]),N("path",S,null),a().reverse()])}}}),d_e=()=>O(O({},W1()),{strokeColor:Os()}),f_e=3,h_e=n=>f_e/n*100,p_e=je({compatConfig:{MODE:3},name:"ProgressCircle",inheritAttrs:!1,props:fi(d_e(),{trailColor:null}),setup(n,e){let{slots:i,attrs:r}=e;const o=K(()=>{var b;return(b=n.width)!==null&&b!==void 0?b:120}),s=K(()=>{var b;return(b=n.size)!==null&&b!==void 0?b:[o.value,o.value]}),a=K(()=>j1(s.value,"circle")),l=K(()=>{if(n.gapDegree||n.gapDegree===0)return n.gapDegree;if(n.type==="dashboard")return 75}),u=K(()=>({width:`${a.value.width}px`,height:`${a.value.height}px`,fontSize:`${a.value.width*.15+6}px`})),c=K(()=>{var b;return(b=n.strokeWidth)!==null&&b!==void 0?b:Math.max(h_e(a.value.width),6)}),d=K(()=>n.gapPosition||n.type==="dashboard"&&"bottom"||void 0),f=K(()=>Jxe(n)),h=K(()=>Object.prototype.toString.call(n.strokeColor)==="[object Object]"),p=K(()=>e_e({success:n.success,strokeColor:n.strokeColor})),g=K(()=>({[`${n.prefixCls}-inner`]:!0,[`${n.prefixCls}-circle-gradient`]:h.value}));return()=>{var b;const y=N(c_e,{percent:f.value,strokeWidth:c.value,trailWidth:c.value,strokeColor:p.value,strokeLinecap:n.strokeLinecap,trailColor:n.trailColor,prefixCls:n.prefixCls,gapDegree:l.value,gapPosition:d.value},null);return N("div",ve(ve({},r),{},{class:[g.value,r.class],style:[r.style,u.value]}),[a.value.width<=20?N(U1,null,{default:()=>[N("span",null,[y])],title:i.default}):N(mn,null,[y,(b=i.default)===null||b===void 0?void 0:b.call(i)])])}}}),g_e=()=>O(O({},W1()),{steps:Number,strokeColor:Pi(),trailColor:String}),m_e=je({compatConfig:{MODE:3},name:"Steps",props:g_e(),setup(n,e){let{slots:i}=e;const r=K(()=>Math.round(n.steps*((n.percent||0)/100))),o=K(()=>{var l;return(l=n.size)!==null&&l!==void 0?l:[n.size==="small"?2:14,n.strokeWidth||8]}),s=K(()=>j1(o.value,"step",{steps:n.steps,strokeWidth:n.strokeWidth||8})),a=K(()=>{const{steps:l,strokeColor:u,trailColor:c,prefixCls:d}=n,f=[];for(let h=0;h<l;h+=1){const p=Array.isArray(u)?u[h]:u,g={[`${d}-steps-item`]:!0,[`${d}-steps-item-active`]:h<=r.value-1};f.push(N("div",{key:h,class:g,style:{backgroundColor:h<=r.value-1?p:c,width:`${s.value.width/l}px`,height:`${s.value.height}px`}},null))}return f});return()=>{var l;return N("div",{class:`${n.prefixCls}-steps-outer`},[a.value,(l=i.default)===null||l===void 0?void 0:l.call(i)])}}}),v_e=new Dn("antProgressActive",{"0%":{transform:"translateX(-100%) scaleX(0)",opacity:.1},"20%":{transform:"translateX(-100%) scaleX(0)",opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}}),y_e=n=>{const{componentCls:e,iconCls:i}=n;return{[e]:O(O({},di(n)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:n.fontSize,marginInlineEnd:n.marginXS,marginBottom:n.marginXS},[`${e}-outer`]:{display:"inline-block",width:"100%"},[`&${e}-show-info`]:{[`${e}-outer`]:{marginInlineEnd:`calc(-2em - ${n.marginXS}px)`,paddingInlineEnd:`calc(2em + ${n.paddingXS}px)`}},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:n.progressRemainingColor,borderRadius:n.progressLineRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorInfo}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",backgroundColor:n.colorInfo,borderRadius:n.progressLineRadius,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:n.colorSuccess},[`${e}-text`]:{display:"inline-block",width:"2em",marginInlineStart:n.marginXS,color:n.progressInfoTextColor,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[i]:{fontSize:n.fontSize}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:n.colorBgContainer,borderRadius:n.progressLineRadius,opacity:0,animationName:v_e,animationDuration:n.progressActiveMotionDuration,animationTimingFunction:n.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:n.colorError},[`${e}-text`]:{color:n.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:n.colorSuccess},[`${e}-text`]:{color:n.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorSuccess}}})}},b_e=n=>{const{componentCls:e,iconCls:i}=n;return{[e]:{[`${e}-circle-trail`]:{stroke:n.progressRemainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:n.colorText,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[i]:{fontSize:`${n.fontSize/n.fontSizeSM}em`}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:n.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:n.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},x_e=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:n.progressStepMinWidth,marginInlineEnd:n.progressStepMarginInlineEnd,backgroundColor:n.progressRemainingColor,transition:`all ${n.motionDurationSlow}`,"&-active":{backgroundColor:n.colorInfo}}}}}},__e=n=>{const{componentCls:e,iconCls:i}=n;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${i}`]:{fontSize:n.fontSizeSM}}}},S_e=Bi("Progress",n=>{const e=n.marginXXS/2,i=On(n,{progressLineRadius:100,progressInfoTextColor:n.colorText,progressDefaultColor:n.colorInfo,progressRemainingColor:n.colorFillSecondary,progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[y_e(i),b_e(i),x_e(i),__e(i)]});var w_e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const C_e=je({compatConfig:{MODE:3},name:"AProgress",inheritAttrs:!1,props:fi(W1(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:Object,setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o,direction:s}=tn("progress",n),[a,l]=S_e(o),u=K(()=>Array.isArray(n.strokeColor)?n.strokeColor[0]:n.strokeColor),c=K(()=>{const{percent:g=0}=n,b=_w(n);return parseInt(b!==void 0?b.toString():g.toString(),10)}),d=K(()=>{const{status:g}=n;return!Zxe.includes(g)&&c.value>=100?"success":g||"normal"}),f=K(()=>{const{type:g,showInfo:b,size:y}=n,m=o.value;return{[m]:!0,[`${m}-inline-circle`]:g==="circle"&&j1(y,"circle").width<=20,[`${m}-${g==="dashboard"&&"circle"||g}`]:!0,[`${m}-status-${d.value}`]:!0,[`${m}-show-info`]:b,[`${m}-${y}`]:y,[`${m}-rtl`]:s.value==="rtl",[l.value]:!0}}),h=K(()=>typeof n.strokeColor=="string"||Array.isArray(n.strokeColor)?n.strokeColor:void 0),p=()=>{const{showInfo:g,format:b,type:y,percent:m,title:_}=n,S=_w(n);if(!g)return null;let w;const A=b||(i==null?void 0:i.format)||(C=>`${C}%`),T=y==="line";return b||i!=null&&i.format||d.value!=="exception"&&d.value!=="success"?w=A(sh(m),sh(S)):d.value==="exception"?w=N(T?kh:qd,null,null):d.value==="success"&&(w=N(T?$1:O1,null,null)),N("span",{class:`${o.value}-text`,title:_===void 0&&typeof w=="string"?w:void 0},[w])};return()=>{const{type:g,steps:b,title:y}=n,{class:m}=r,_=w_e(r,["class"]),S=p();let w;return g==="line"?w=b?N(m_e,ve(ve({},n),{},{strokeColor:h.value,prefixCls:o.value,steps:b}),{default:()=>[S]}):N(o_e,ve(ve({},n),{},{strokeColor:u.value,prefixCls:o.value,direction:s.value}),{default:()=>[S]}):(g==="circle"||g==="dashboard")&&(w=N(p_e,ve(ve({},n),{},{prefixCls:o.value,strokeColor:u.value,progressStatus:d.value}),{default:()=>[S]})),a(N("div",ve(ve({role:"progressbar"},_),{},{class:[f.value,m],title:y}),[w]))}}}),A_e=jd(C_e),T_e=n=>{const{componentCls:e}=n,i=`${e}-inner`;return{[e]:{[`&${e}-small`]:{minWidth:n.switchMinWidthSM,height:n.switchHeightSM,lineHeight:`${n.switchHeightSM}px`,[`${e}-inner`]:{paddingInlineStart:n.switchInnerMarginMaxSM,paddingInlineEnd:n.switchInnerMarginMinSM,[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${n.switchPinSizeSM+n.switchPadding*2}px - ${n.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${n.switchPinSizeSM+n.switchPadding*2}px + ${n.switchInnerMarginMaxSM*2}px)`},[`${i}-unchecked`]:{marginTop:-n.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:n.switchPinSizeSM,height:n.switchPinSizeSM},[`${e}-loading-icon`]:{top:(n.switchPinSizeSM-n.switchLoadingIconSize)/2,fontSize:n.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:n.switchInnerMarginMinSM,paddingInlineEnd:n.switchInnerMarginMaxSM,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${n.switchPinSizeSM+n.switchPadding*2}px + ${n.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${n.switchPinSizeSM+n.switchPadding*2}px - ${n.switchInnerMarginMaxSM*2}px)`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${n.switchPinSizeSM+n.switchPadding}px)`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:n.marginXXS/2,marginInlineEnd:-n.marginXXS/2}},[`&${e}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:-n.marginXXS/2,marginInlineEnd:n.marginXXS/2}}}}}}},E_e=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-loading-icon${n.iconCls}`]:{position:"relative",top:(n.switchPinSize-n.fontSize)/2,color:n.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:n.switchColor}}}},M_e=n=>{const{componentCls:e}=n,i=`${e}-handle`;return{[e]:{[i]:{position:"absolute",top:n.switchPadding,insetInlineStart:n.switchPadding,width:n.switchPinSize,height:n.switchPinSize,transition:`all ${n.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:n.colorWhite,borderRadius:n.switchPinSize/2,boxShadow:n.switchHandleShadow,transition:`all ${n.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${i}`]:{insetInlineStart:`calc(100% - ${n.switchPinSize+n.switchPadding}px)`},[`&:not(${e}-disabled):active`]:{[`${i}::before`]:{insetInlineEnd:n.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${i}::before`]:{insetInlineEnd:0,insetInlineStart:n.switchHandleActiveInset}}}}},R_e=n=>{const{componentCls:e}=n,i=`${e}-inner`;return{[e]:{[i]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:n.switchInnerMarginMax,paddingInlineEnd:n.switchInnerMarginMin,transition:`padding-inline-start ${n.switchDuration} ease-in-out, padding-inline-end ${n.switchDuration} ease-in-out`,[`${i}-checked, ${i}-unchecked`]:{display:"block",color:n.colorTextLightSolid,fontSize:n.fontSizeSM,transition:`margin-inline-start ${n.switchDuration} ease-in-out, margin-inline-end ${n.switchDuration} ease-in-out`,pointerEvents:"none"},[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${n.switchPinSize+n.switchPadding*2}px - ${n.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${n.switchPinSize+n.switchPadding*2}px + ${n.switchInnerMarginMax*2}px)`},[`${i}-unchecked`]:{marginTop:-n.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${i}`]:{paddingInlineStart:n.switchInnerMarginMin,paddingInlineEnd:n.switchInnerMarginMax,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${n.switchPinSize+n.switchPadding*2}px + ${n.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${n.switchPinSize+n.switchPadding*2}px - ${n.switchInnerMarginMax*2}px)`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:n.switchPadding*2,marginInlineEnd:-n.switchPadding*2}},[`&${e}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:-n.switchPadding*2,marginInlineEnd:n.switchPadding*2}}}}}},P_e=n=>{const{componentCls:e}=n;return{[e]:O(O(O(O({},di(n)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:n.switchMinWidth,height:n.switchHeight,lineHeight:`${n.switchHeight}px`,verticalAlign:"middle",background:n.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${n.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:n.colorTextTertiary}}),yh(n)),{[`&${e}-checked`]:{background:n.switchColor,[`&:hover:not(${e}-disabled)`]:{background:n.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:n.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},I_e=Bi("Switch",n=>{const e=n.fontSize*n.lineHeight,i=n.controlHeight/2,r=2,o=e-r*2,s=i-r*2,a=On(n,{switchMinWidth:o*2+r*4,switchHeight:e,switchDuration:n.motionDurationMid,switchColor:n.colorPrimary,switchDisabledOpacity:n.opacityLoading,switchInnerMarginMin:o/2,switchInnerMarginMax:o+r+r*2,switchPadding:r,switchPinSize:o,switchBg:n.colorBgContainer,switchMinWidthSM:s*2+r*2,switchHeightSM:i,switchInnerMarginMinSM:s/2,switchInnerMarginMaxSM:s+r+r*2,switchPinSizeSM:s,switchHandleShadow:`0 2px 4px 0 ${new Gi("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:n.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${n.opacityLoading})`,switchHandleActiveInset:"-30%"});return[P_e(a),R_e(a),M_e(a),E_e(a),T_e(a)]}),N_e=vh("small","default"),O_e=()=>({id:String,prefixCls:String,size:be.oneOf(N_e),disabled:{type:Boolean,default:void 0},checkedChildren:be.any,unCheckedChildren:be.any,tabindex:be.oneOfType([be.string,be.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:be.oneOfType([be.string,be.number,be.looseBool]),checkedValue:be.oneOfType([be.string,be.number,be.looseBool]).def(!0),unCheckedValue:be.oneOfType([be.string,be.number,be.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),D_e=je({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:O_e(),slots:Object,setup(n,e){let{attrs:i,slots:r,expose:o,emit:s}=e;const a=wc(),l=Bl(),u=K(()=>{var E;return(E=n.disabled)!==null&&E!==void 0?E:l.value});uI(()=>{});const c=Ge(n.checked!==void 0?n.checked:i.defaultChecked),d=K(()=>c.value===n.checkedValue);ct(()=>n.checked,()=>{c.value=n.checked});const{prefixCls:f,direction:h,size:p}=tn("switch",n),[g,b]=I_e(f),y=Ge(),m=()=>{var E;(E=y.value)===null||E===void 0||E.focus()};o({focus:m,blur:()=>{var E;(E=y.value)===null||E===void 0||E.blur()}}),en(()=>{kn(()=>{n.autofocus&&!u.value&&y.value.focus()})});const S=(E,P)=>{u.value||(s("update:checked",E),s("change",E,P),a.onFieldChange())},w=E=>{s("blur",E)},A=E=>{m();const P=d.value?n.unCheckedValue:n.checkedValue;S(P,E),s("click",P,E)},T=E=>{E.keyCode===at.LEFT?S(n.unCheckedValue,E):E.keyCode===at.RIGHT&&S(n.checkedValue,E),s("keydown",E)},C=E=>{var P;(P=y.value)===null||P===void 0||P.blur(),s("mouseup",E)},R=K(()=>({[`${f.value}-small`]:p.value==="small",[`${f.value}-loading`]:n.loading,[`${f.value}-checked`]:d.value,[`${f.value}-disabled`]:u.value,[f.value]:!0,[`${f.value}-rtl`]:h.value==="rtl",[b.value]:!0}));return()=>{var E;return g(N(pN,null,{default:()=>[N("button",ve(ve(ve({},Ai(n,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),i),{},{id:(E=n.id)!==null&&E!==void 0?E:a.id.value,onKeydown:T,onClick:A,onBlur:w,onMouseup:C,type:"button",role:"switch","aria-checked":c.value,disabled:u.value||n.loading,class:[i.class,R.value],ref:y}),[N("div",{class:`${f.value}-handle`},[n.loading?N(zl,{class:`${f.value}-loading-icon`},null):null]),N("span",{class:`${f.value}-inner`},[N("span",{class:`${f.value}-inner-checked`},[ha(r,n,"checkedChildren")]),N("span",{class:`${f.value}-inner-unchecked`},[ha(r,n,"unCheckedChildren")])])])]}))}}}),L_e=jd(D_e),_9=Symbol("TableContextProps"),B_e=n=>{jn(_9,n)},Yl=()=>qt(_9,{}),F_e="RC_TABLE_KEY";function S9(n){return n==null?[]:Array.isArray(n)?n:[n]}function w9(n,e){if(!e&&typeof e!="number")return n;const i=S9(e);let r=n;for(let o=0;o<i.length;o+=1){if(!r)return null;const s=i[o];r=r[s]}return r}function K1(n){const e=[],i={};return n.forEach(r=>{const{key:o,dataIndex:s}=r||{};let a=o||S9(s).join("-")||F_e;for(;i[a];)a=`${a}_next`;i[a]=!0,e.push(a)}),e}function $_e(){const n={};function e(s,a){a&&Object.keys(a).forEach(l=>{const u=a[l];u&&typeof u=="object"?(s[l]=s[l]||{},e(s[l],u)):s[l]=u})}for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return r.forEach(s=>{e(n,s)}),n}function cR(n){return n!=null}const C9=Symbol("SlotsContextProps"),U_e=n=>{jn(C9,n)},ON=()=>qt(C9,K(()=>({}))),A9=Symbol("ContextProps"),k_e=n=>{jn(A9,n)},z_e=()=>qt(A9,{onResizeColumn:()=>{}}),Mg="RC_TABLE_INTERNAL_COL_DEFINE",T9=Symbol("HoverContextProps"),H_e=n=>{jn(T9,n)},G_e=()=>qt(T9,{startRow:Oe(-1),endRow:Oe(-1),onHover(){}}),dR=Oe(!1),V_e=()=>{en(()=>{dR.value=dR.value||_be("position","sticky")})},W_e=()=>dR;var j_e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function K_e(n,e,i,r){const o=n+e-1;return n<=r&&o>=i}function q_e(n){return n&&typeof n=="object"&&!Array.isArray(n)&&!wr(n)}const q1=je({name:"Cell",props:["prefixCls","record","index","renderIndex","dataIndex","customRender","component","colSpan","rowSpan","fixLeft","fixRight","firstFixLeft","lastFixLeft","firstFixRight","lastFixRight","appendNode","additionalProps","ellipsis","align","rowType","isSticky","column","cellType","transformCellText"],setup(n,e){let{slots:i}=e;const r=ON(),{onHover:o,startRow:s,endRow:a}=G_e(),l=K(()=>{var b,y,m,_;return(m=(b=n.colSpan)!==null&&b!==void 0?b:(y=n.additionalProps)===null||y===void 0?void 0:y.colSpan)!==null&&m!==void 0?m:(_=n.additionalProps)===null||_===void 0?void 0:_.colspan}),u=K(()=>{var b,y,m,_;return(m=(b=n.rowSpan)!==null&&b!==void 0?b:(y=n.additionalProps)===null||y===void 0?void 0:y.rowSpan)!==null&&m!==void 0?m:(_=n.additionalProps)===null||_===void 0?void 0:_.rowspan}),c=ka(()=>{const{index:b}=n;return K_e(b,u.value||1,s.value,a.value)}),d=W_e(),f=(b,y)=>{var m;const{record:_,index:S,additionalProps:w}=n;_&&o(S,S+y-1),(m=w==null?void 0:w.onMouseenter)===null||m===void 0||m.call(w,b)},h=b=>{var y;const{record:m,additionalProps:_}=n;m&&o(-1,-1),(y=_==null?void 0:_.onMouseleave)===null||y===void 0||y.call(_,b)},p=b=>{const y=Fo(b)[0];return wr(y)?y.type===Dh?y.children:Array.isArray(y.children)?p(y.children):void 0:y},g=Oe(null);return ct([c,()=>n.prefixCls,g],()=>{const b=Ku(g.value);b&&(c.value?Z2(b,`${n.prefixCls}-cell-row-hover`):J2(b,`${n.prefixCls}-cell-row-hover`))}),()=>{var b,y,m,_,S,w;const{prefixCls:A,record:T,index:C,renderIndex:R,dataIndex:E,customRender:P,component:I="td",fixLeft:D,fixRight:F,firstFixLeft:L,lastFixLeft:$,firstFixRight:U,lastFixRight:k,appendNode:H=(b=i.appendNode)===null||b===void 0?void 0:b.call(i),additionalProps:z={},ellipsis:Q,align:Z,rowType:ie,isSticky:xe,column:J={},cellType:se}=n,ee=`${A}-cell`;let ne,ue;const Y=(y=i.default)===null||y===void 0?void 0:y.call(i);if(cR(Y)||se==="header")ue=Y;else{const de=w9(T,E);if(ue=de,P){const re=P({text:de,value:de,record:T,index:C,renderIndex:R,column:J.__originColumn__});q_e(re)?(ue=re.children,ne=re.props):ue=re}if(!(Mg in J)&&se==="body"&&r.value.bodyCell&&!(!((m=J.slots)===null||m===void 0)&&m.customRender)){const re=A1(r.value,"bodyCell",{text:de,value:de,record:T,index:C,column:J.__originColumn__},()=>{const Ce=ue===void 0?de:ue;return[typeof Ce=="object"&&mo(Ce)||typeof Ce!="object"?Ce:null]});ue=ir(re)}n.transformCellText&&(ue=n.transformCellText({text:ue,record:T,index:C,column:J.__originColumn__}))}typeof ue=="object"&&!Array.isArray(ue)&&!wr(ue)&&(ue=null),Q&&($||U)&&(ue=N("span",{class:`${ee}-content`},[ue])),Array.isArray(ue)&&ue.length===1&&(ue=ue[0]);const le=ne||{},{colSpan:fe,rowSpan:W,style:X,class:V}=le,Se=j_e(le,["colSpan","rowSpan","style","class"]),pe=(_=fe!==void 0?fe:l.value)!==null&&_!==void 0?_:1,_e=(S=W!==void 0?W:u.value)!==null&&S!==void 0?S:1;if(pe===0||_e===0)return null;const he={},ge=typeof D=="number"&&d.value,me=typeof F=="number"&&d.value;ge&&(he.position="sticky",he.left=`${D}px`),me&&(he.position="sticky",he.right=`${F}px`);const j={};Z&&(j.textAlign=Z);let G;const ce=Q===!0?{showTitle:!0}:Q;ce&&(ce.showTitle||ie==="header")&&(typeof ue=="string"||typeof ue=="number"?G=ue.toString():wr(ue)&&(G=p([ue])));const Ee=O(O(O({title:G},Se),z),{colSpan:pe!==1?pe:null,rowSpan:_e!==1?_e:null,class:Qe(ee,{[`${ee}-fix-left`]:ge&&d.value,[`${ee}-fix-left-first`]:L&&d.value,[`${ee}-fix-left-last`]:$&&d.value,[`${ee}-fix-right`]:me&&d.value,[`${ee}-fix-right-first`]:U&&d.value,[`${ee}-fix-right-last`]:k&&d.value,[`${ee}-ellipsis`]:Q,[`${ee}-with-append`]:H,[`${ee}-fix-sticky`]:(ge||me)&&xe&&d.value},z.class,V),onMouseenter:de=>{f(de,_e)},onMouseleave:h,style:[z.style,j,he,X]});return N(I,ve(ve({},Ee),{},{ref:g}),{default:()=>[H,ue,(w=i.dragHandle)===null||w===void 0?void 0:w.call(i)]})}}});function DN(n,e,i,r,o){const s=i[n]||{},a=i[e]||{};let l,u;s.fixed==="left"?l=r.left[n]:a.fixed==="right"&&(u=r.right[e]);let c=!1,d=!1,f=!1,h=!1;const p=i[e+1],g=i[n-1];return o==="rtl"?l!==void 0?h=!(g&&g.fixed==="left"):u!==void 0&&(f=!(p&&p.fixed==="right")):l!==void 0?c=!(p&&p.fixed==="left"):u!==void 0&&(d=!(g&&g.fixed==="right")),{fixLeft:l,fixRight:u,lastFixLeft:c,firstFixRight:d,lastFixRight:f,firstFixLeft:h,isSticky:r.isSticky}}const UU={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},kU=50,X_e=je({compatConfig:{MODE:3},name:"DragHandle",props:{prefixCls:String,width:{type:Number,required:!0},minWidth:{type:Number,default:kU},maxWidth:{type:Number,default:1/0},column:{type:Object,default:void 0}},setup(n){let e=0,i={remove:()=>{}},r={remove:()=>{}};const o=()=>{i.remove(),r.remove()};al(()=>{o()}),ln(()=>{gi(!isNaN(n.width),"Table","width must be a number when use resizable")});const{onResizeColumn:s}=z_e(),a=K(()=>typeof n.minWidth=="number"&&!isNaN(n.minWidth)?n.minWidth:kU),l=K(()=>typeof n.maxWidth=="number"&&!isNaN(n.maxWidth)?n.maxWidth:1/0),u=hs();let c=0;const d=Oe(!1);let f;const h=S=>{let w=0;S.touches?S.touches.length?w=S.touches[0].pageX:w=S.changedTouches[0].pageX:w=S.pageX;const A=e-w;let T=Math.max(c-A,a.value);T=Math.min(T,l.value),xn.cancel(f),f=xn(()=>{s(T,n.column.__originColumn__)})},p=S=>{h(S)},g=S=>{d.value=!1,h(S),o()},b=(S,w)=>{d.value=!0,o(),c=u.vnode.el.parentNode.getBoundingClientRect().width,!(S instanceof MouseEvent&&S.which!==1)&&(S.stopPropagation&&S.stopPropagation(),e=S.touches?S.touches[0].pageX:S.pageX,i=da(document.documentElement,w.move,p),r=da(document.documentElement,w.stop,g))},y=S=>{S.stopPropagation(),S.preventDefault(),b(S,UU.mouse)},m=S=>{S.stopPropagation(),S.preventDefault(),b(S,UU.touch)},_=S=>{S.stopPropagation(),S.preventDefault()};return()=>{const{prefixCls:S}=n,w={[lo?"onTouchstartPassive":"onTouchstart"]:A=>m(A)};return N("div",ve(ve({class:`${S}-resize-handle ${d.value?"dragging":""}`,onMousedown:y},w),{},{onClick:_}),[N("div",{class:`${S}-resize-handle-line`},null)])}}}),Y_e=je({name:"HeaderRow",props:["cells","stickyOffsets","flattenColumns","rowComponent","cellComponent","index","customHeaderRow"],setup(n){const e=Yl();return()=>{const{prefixCls:i,direction:r}=e,{cells:o,stickyOffsets:s,flattenColumns:a,rowComponent:l,cellComponent:u,customHeaderRow:c,index:d}=n;let f;c&&(f=c(o.map(p=>p.column),d));const h=K1(o.map(p=>p.column));return N(l,f,{default:()=>[o.map((p,g)=>{const{column:b}=p,y=DN(p.colStart,p.colEnd,a,s,r);let m;b&&b.customHeaderCell&&(m=p.column.customHeaderCell(b));const _=b;return N(q1,ve(ve(ve({},p),{},{cellType:"header",ellipsis:b.ellipsis,align:b.align,component:u,prefixCls:i,key:h[g]},y),{},{additionalProps:m,rowType:"header",column:b}),{default:()=>b.title,dragHandle:()=>_.resizable?N(X_e,{prefixCls:i,width:_.width,minWidth:_.minWidth,maxWidth:_.maxWidth,column:_},null):null})})]})}}});function Q_e(n){const e=[];function i(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[a]=e[a]||[];let l=s;return o.filter(Boolean).map(c=>{const d={key:c.key,class:Qe(c.className,c.class),column:c,colStart:l};let f=1;const h=c.children;return h&&h.length>0&&(f=i(h,l,a+1).reduce((p,g)=>p+g,0),d.hasSubColumns=!0),"colSpan"in c&&({colSpan:f}=c),"rowSpan"in c&&(d.rowSpan=c.rowSpan),d.colSpan=f,d.colEnd=d.colStart+f-1,e[a].push(d),l+=f,f})}i(n,0);const r=e.length;for(let o=0;o<r;o+=1)e[o].forEach(s=>{!("rowSpan"in s)&&!s.hasSubColumns&&(s.rowSpan=r-o)});return e}const zU=je({name:"TableHeader",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow"],setup(n){const e=Yl(),i=K(()=>Q_e(n.columns));return()=>{const{prefixCls:r,getComponent:o}=e,{stickyOffsets:s,flattenColumns:a,customHeaderRow:l}=n,u=o(["header","wrapper"],"thead"),c=o(["header","row"],"tr"),d=o(["header","cell"],"th");return N(u,{class:`${r}-thead`},{default:()=>[i.value.map((f,h)=>N(Y_e,{key:h,flattenColumns:a,cells:f,stickyOffsets:s,rowComponent:c,cellComponent:d,customHeaderRow:l,index:h},null))]})}}}),E9=Symbol("ExpandedRowProps"),Z_e=n=>{jn(E9,n)},J_e=()=>qt(E9,{}),M9=je({name:"ExpandedRow",inheritAttrs:!1,props:["prefixCls","component","cellComponent","expanded","colSpan","isEmpty"],setup(n,e){let{slots:i,attrs:r}=e;const o=Yl(),s=J_e(),{fixHeader:a,fixColumn:l,componentWidth:u,horizonScroll:c}=s;return()=>{const{prefixCls:d,component:f,cellComponent:h,expanded:p,colSpan:g,isEmpty:b}=n;return N(f,{class:r.class,style:{display:p?null:"none"}},{default:()=>[N(q1,{component:h,prefixCls:d,colSpan:g},{default:()=>{var y;let m=(y=i.default)===null||y===void 0?void 0:y.call(i);return(b?c.value:l.value)&&(m=N("div",{style:{width:`${u.value-(a.value?o.scrollbarSize:0)}px`,position:"sticky",left:0,overflow:"hidden"},class:`${d}-expanded-row-fixed`},[m])),m}})]})}}}),eSe=je({name:"MeasureCell",props:["columnKey"],setup(n,e){let{emit:i}=e;const r=Ge();return en(()=>{r.value&&i("columnResize",n.columnKey,r.value.offsetWidth)}),()=>N(Bd,{onResize:o=>{let{offsetWidth:s}=o;i("columnResize",n.columnKey,s)}},{default:()=>[N("td",{ref:r,style:{padding:0,border:0,height:0}},[N("div",{style:{height:0,overflow:"hidden"}},[tr("")])])]})}}),R9=Symbol("BodyContextProps"),tSe=n=>{jn(R9,n)},P9=()=>qt(R9,{}),nSe=je({name:"BodyRow",inheritAttrs:!1,props:["record","index","renderIndex","recordKey","expandedKeys","rowComponent","cellComponent","customRow","rowExpandable","indent","rowKey","getRowKey","childrenColumnName"],setup(n,e){let{attrs:i}=e;const r=Yl(),o=P9(),s=Oe(!1),a=K(()=>n.expandedKeys&&n.expandedKeys.has(n.recordKey));ln(()=>{a.value&&(s.value=!0)});const l=K(()=>o.expandableType==="row"&&(!n.rowExpandable||n.rowExpandable(n.record))),u=K(()=>o.expandableType==="nest"),c=K(()=>n.childrenColumnName&&n.record&&n.record[n.childrenColumnName]),d=K(()=>l.value||u.value),f=(y,m)=>{o.onTriggerExpand(y,m)},h=K(()=>{var y;return((y=n.customRow)===null||y===void 0?void 0:y.call(n,n.record,n.index))||{}}),p=function(y){var m,_;o.expandRowByClick&&d.value&&f(n.record,y);for(var S=arguments.length,w=new Array(S>1?S-1:0),A=1;A<S;A++)w[A-1]=arguments[A];(_=(m=h.value)===null||m===void 0?void 0:m.onClick)===null||_===void 0||_.call(m,y,...w)},g=K(()=>{const{record:y,index:m,indent:_}=n,{rowClassName:S}=o;return typeof S=="string"?S:typeof S=="function"?S(y,m,_):""}),b=K(()=>K1(o.flattenColumns));return()=>{const{class:y,style:m}=i,{record:_,index:S,rowKey:w,indent:A=0,rowComponent:T,cellComponent:C}=n,{prefixCls:R,fixedInfoList:E,transformCellText:P}=r,{flattenColumns:I,expandedRowClassName:D,indentSize:F,expandIcon:L,expandedRowRender:$,expandIconColumnIndex:U}=o,k=N(T,ve(ve({},h.value),{},{"data-row-key":w,class:Qe(y,`${R}-row`,`${R}-row-level-${A}`,g.value,h.value.class),style:[m,h.value.style],onClick:p}),{default:()=>[I.map((z,Q)=>{const{customRender:Z,dataIndex:ie,className:xe}=z,J=b[Q],se=E[Q];let ee;z.customCell&&(ee=z.customCell(_,S,z));const ne=Q===(U||0)&&u.value?N(mn,null,[N("span",{style:{paddingLeft:`${F*A}px`},class:`${R}-row-indent indent-level-${A}`},null),L({prefixCls:R,expanded:a.value,expandable:c.value,record:_,onExpand:f})]):null;return N(q1,ve(ve({cellType:"body",class:xe,ellipsis:z.ellipsis,align:z.align,component:C,prefixCls:R,key:J,record:_,index:S,renderIndex:n.renderIndex,dataIndex:ie,customRender:Z},se),{},{additionalProps:ee,column:z,transformCellText:P,appendNode:ne}),null)})]});let H;if(l.value&&(s.value||a.value)){const z=$({record:_,index:S,indent:A+1,expanded:a.value}),Q=D&&D(_,S,A);H=N(M9,{expanded:a.value,class:Qe(`${R}-expanded-row`,`${R}-expanded-row-level-${A+1}`,Q),prefixCls:R,component:T,cellComponent:C,colSpan:I.length,isEmpty:!1},{default:()=>[z]})}return N(mn,null,[k,H])}}});function I9(n,e,i,r,o,s){const a=[];a.push({record:n,indent:e,index:s});const l=o(n),u=r==null?void 0:r.has(l);if(n&&Array.isArray(n[i])&&u)for(let c=0;c<n[i].length;c+=1){const d=I9(n[i][c],e+1,i,r,o,c);a.push(...d)}return a}function iSe(n,e,i,r){return K(()=>{const s=e.value,a=i.value,l=n.value;if(a!=null&&a.size){const u=[];for(let c=0;c<(l==null?void 0:l.length);c+=1){const d=l[c];u.push(...I9(d,0,s,a,r.value,c))}return u}return l==null?void 0:l.map((u,c)=>({record:u,indent:0,index:c}))})}const N9=Symbol("ResizeContextProps"),rSe=n=>{jn(N9,n)},oSe=()=>qt(N9,{onColumnResize:()=>{}}),sSe=je({name:"TableBody",props:["data","getRowKey","measureColumnWidth","expandedKeys","customRow","rowExpandable","childrenColumnName"],setup(n,e){let{slots:i}=e;const r=oSe(),o=Yl(),s=P9(),a=iSe(Jn(n,"data"),Jn(n,"childrenColumnName"),Jn(n,"expandedKeys"),Jn(n,"getRowKey")),l=Oe(-1),u=Oe(-1);let c;return H_e({startRow:l,endRow:u,onHover:(d,f)=>{clearTimeout(c),c=setTimeout(()=>{l.value=d,u.value=f},100)}}),()=>{var d;const{data:f,getRowKey:h,measureColumnWidth:p,expandedKeys:g,customRow:b,rowExpandable:y,childrenColumnName:m}=n,{onColumnResize:_}=r,{prefixCls:S,getComponent:w}=o,{flattenColumns:A}=s,T=w(["body","wrapper"],"tbody"),C=w(["body","row"],"tr"),R=w(["body","cell"],"td");let E;f.length?E=a.value.map((I,D)=>{const{record:F,indent:L,index:$}=I,U=h(F,D);return N(nSe,{key:U,rowKey:U,record:F,recordKey:U,index:D,renderIndex:$,rowComponent:C,cellComponent:R,expandedKeys:g,customRow:b,getRowKey:h,rowExpandable:y,childrenColumnName:m,indent:L},null)}):E=N(M9,{expanded:!0,class:`${S}-placeholder`,prefixCls:S,component:C,cellComponent:R,colSpan:A.length,isEmpty:!0},{default:()=>[(d=i.emptyNode)===null||d===void 0?void 0:d.call(i)]});const P=K1(A);return N(T,{class:`${S}-tbody`},{default:()=>[p&&N("tr",{"aria-hidden":"true",class:`${S}-measure-row`,style:{height:0,fontSize:0}},[P.map(I=>N(eSe,{key:I,columnKey:I,onColumnResize:_},null))]),E]})}}}),gd={};var aSe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function fR(n){return n.reduce((e,i)=>{const{fixed:r}=i,o=r===!0?"left":r,s=i.children;return s&&s.length>0?[...e,...fR(s).map(a=>O({fixed:o},a))]:[...e,O(O({},i),{fixed:o})]},[])}function lSe(n){return n.map(e=>{const{fixed:i}=e,r=aSe(e,["fixed"]);let o=i;return i==="left"?o="right":i==="right"&&(o="left"),O({fixed:o},r)})}function uSe(n,e){let{prefixCls:i,columns:r,expandable:o,expandedKeys:s,getRowKey:a,onTriggerExpand:l,expandIcon:u,rowExpandable:c,expandIconColumnIndex:d,direction:f,expandRowByClick:h,expandColumnWidth:p,expandFixed:g}=n;const b=ON(),y=K(()=>{if(o.value){let S=r.value.slice();if(!S.includes(gd)){const F=d.value||0;F>=0&&S.splice(F,0,gd)}const w=S.indexOf(gd);S=S.filter((F,L)=>F!==gd||L===w);const A=r.value[w];let T;(g.value==="left"||g.value)&&!d.value?T="left":(g.value==="right"||g.value)&&d.value===r.value.length?T="right":T=A?A.fixed:null;const C=s.value,R=c.value,E=u.value,P=i.value,I=h.value,D={[Mg]:{class:`${i.value}-expand-icon-col`,columnType:"EXPAND_COLUMN"},title:A1(b.value,"expandColumnTitle",{},()=>[""]),fixed:T,class:`${i.value}-row-expand-icon-cell`,width:p.value,customRender:F=>{let{record:L,index:$}=F;const U=a.value(L,$),k=C.has(U),H=R?R(L):!0,z=E({prefixCls:P,expanded:k,expandable:H,record:L,onExpand:l});return I?N("span",{onClick:Q=>Q.stopPropagation()},[z]):z}};return S.map(F=>F===gd?D:F)}return r.value.filter(S=>S!==gd)}),m=K(()=>{let S=y.value;return e.value&&(S=e.value(S)),S.length||(S=[{customRender:()=>null}]),S}),_=K(()=>f.value==="rtl"?lSe(fR(m.value)):fR(m.value));return[m,_]}function O9(n){const e=Oe(n);let i;const r=Oe([]);function o(s){r.value.push(s),xn.cancel(i),i=xn(()=>{const a=r.value;r.value=[],a.forEach(l=>{e.value=l(e.value)})})}return Pn(()=>{xn.cancel(i)}),[e,o]}function cSe(n){const e=Ge(null),i=Ge();function r(){clearTimeout(i.value)}function o(a){e.value=a,r(),i.value=setTimeout(()=>{e.value=null,i.value=void 0},100)}function s(){return e.value}return Pn(()=>{r()}),[o,s]}function dSe(n,e,i){return K(()=>{const o=[],s=[];let a=0,l=0;const u=n.value,c=e.value,d=i.value;for(let f=0;f<c;f+=1)if(d==="rtl"){s[f]=l,l+=u[f]||0;const h=c-f-1;o[h]=a,a+=u[h]||0}else{o[f]=a,a+=u[f]||0;const h=c-f-1;s[h]=l,l+=u[h]||0}return{left:o,right:s}})}var fSe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function D9(n){let{colWidths:e,columns:i,columCount:r}=n;const o=[],s=r||i.length;let a=!1;for(let l=s-1;l>=0;l-=1){const u=e[l],c=i&&i[l],d=c&&c[Mg];if(u||d||a){const f=d||{},h=fSe(f,["columnType"]);o.unshift(N("col",ve({key:l,style:{width:typeof u=="number"?`${u}px`:u}},h),null)),a=!0}}return N("colgroup",null,[o])}function hR(n,e){let{slots:i}=e;var r;return N("div",null,[(r=i.default)===null||r===void 0?void 0:r.call(i)])}hR.displayName="Panel";let hSe=0;const pSe=je({name:"TableSummary",props:["fixed"],setup(n,e){let{slots:i}=e;const r=Yl(),o=`table-summary-uni-key-${++hSe}`,s=K(()=>n.fixed===""||n.fixed);return ln(()=>{r.summaryCollect(o,s.value)}),Pn(()=>{r.summaryCollect(o,!1)}),()=>{var a;return(a=i.default)===null||a===void 0?void 0:a.call(i)}}}),gSe=je({compatConfig:{MODE:3},name:"ATableSummaryRow",setup(n,e){let{slots:i}=e;return()=>{var r;return N("tr",null,[(r=i.default)===null||r===void 0?void 0:r.call(i)])}}}),L9=Symbol("SummaryContextProps"),mSe=n=>{jn(L9,n)},vSe=()=>qt(L9,{}),ySe=je({name:"ATableSummaryCell",props:["index","colSpan","rowSpan","align"],setup(n,e){let{attrs:i,slots:r}=e;const o=Yl(),s=vSe();return()=>{const{index:a,colSpan:l=1,rowSpan:u,align:c}=n,{prefixCls:d,direction:f}=o,{scrollColumnIndex:h,stickyOffsets:p,flattenColumns:g}=s,y=a+l-1+1===h?l+1:l,m=DN(a,a+y-1,g,p,f);return N(q1,ve({class:i.class,index:a,component:"td",prefixCls:d,record:null,dataIndex:null,align:c,colSpan:y,rowSpan:u,customRender:()=>{var _;return(_=r.default)===null||_===void 0?void 0:_.call(r)}},m),null)}}}),_x=je({name:"TableFooter",inheritAttrs:!1,props:["stickyOffsets","flattenColumns"],setup(n,e){let{slots:i}=e;const r=Yl();return mSe(Ki({stickyOffsets:Jn(n,"stickyOffsets"),flattenColumns:Jn(n,"flattenColumns"),scrollColumnIndex:K(()=>{const o=n.flattenColumns.length-1,s=n.flattenColumns[o];return s!=null&&s.scrollbar?o:null})})),()=>{var o;const{prefixCls:s}=r;return N("tfoot",{class:`${s}-summary`},[(o=i.default)===null||o===void 0?void 0:o.call(i)])}}}),bSe=pSe;function xSe(n){let{prefixCls:e,record:i,onExpand:r,expanded:o,expandable:s}=n;const a=`${e}-row-expand-icon`;if(!s)return N("span",{class:[a,`${e}-row-spaced`]},null);const l=u=>{r(i,u),u.stopPropagation()};return N("span",{class:{[a]:!0,[`${e}-row-expanded`]:o,[`${e}-row-collapsed`]:!o},onClick:l},null)}function _Se(n,e,i){const r=[];function o(s){(s||[]).forEach((a,l)=>{r.push(e(a,l)),o(a[i])})}return o(n),r}const SSe=je({name:"StickyScrollBar",inheritAttrs:!1,props:["offsetScroll","container","scrollBodyRef","scrollBodySizeInfo"],emits:["scroll"],setup(n,e){let{emit:i,expose:r}=e;const o=Yl(),s=Oe(0),a=Oe(0),l=Oe(0);ln(()=>{s.value=n.scrollBodySizeInfo.scrollWidth||0,a.value=n.scrollBodySizeInfo.clientWidth||0,l.value=s.value&&a.value*(a.value/s.value)},{flush:"post"});const u=Oe(),[c,d]=O9({scrollLeft:0,isHiddenScrollBar:!0}),f=Ge({delta:0,x:0}),h=Oe(!1),p=()=>{h.value=!1},g=C=>{f.value={delta:C.pageX-c.value.scrollLeft,x:0},h.value=!0,C.preventDefault()},b=C=>{const{buttons:R}=C||(window==null?void 0:window.event);if(!h.value||R===0){h.value&&(h.value=!1);return}let E=f.value.x+C.pageX-f.value.x-f.value.delta;E<=0&&(E=0),E+l.value>=a.value&&(E=a.value-l.value),i("scroll",{scrollLeft:E/a.value*(s.value+2)}),f.value.x=C.pageX},y=()=>{if(!n.scrollBodyRef.value)return;const C=i$(n.scrollBodyRef.value).top,R=C+n.scrollBodyRef.value.offsetHeight,E=n.container===window?document.documentElement.scrollTop+window.innerHeight:i$(n.container).top+n.container.clientHeight;R-lw()<=E||C>=E-n.offsetScroll?d(P=>O(O({},P),{isHiddenScrollBar:!0})):d(P=>O(O({},P),{isHiddenScrollBar:!1}))};r({setScrollLeft:C=>{d(R=>O(O({},R),{scrollLeft:C/s.value*a.value||0}))}});let _=null,S=null,w=null,A=null;en(()=>{_=da(document.body,"mouseup",p,!1),S=da(document.body,"mousemove",b,!1),w=da(window,"resize",y,!1)}),CH(()=>{kn(()=>{y()})}),en(()=>{setTimeout(()=>{ct([l,h],()=>{y()},{immediate:!0,flush:"post"})})}),ct(()=>n.container,()=>{A==null||A.remove(),A=da(n.container,"scroll",y,!1)},{immediate:!0,flush:"post"}),Pn(()=>{_==null||_.remove(),S==null||S.remove(),A==null||A.remove(),w==null||w.remove()}),ct(()=>O({},c.value),(C,R)=>{C.isHiddenScrollBar!==(R==null?void 0:R.isHiddenScrollBar)&&!C.isHiddenScrollBar&&d(E=>{const P=n.scrollBodyRef.value;return P?O(O({},E),{scrollLeft:P.scrollLeft/P.scrollWidth*P.clientWidth}):E})},{immediate:!0});const T=lw();return()=>{if(s.value<=a.value||!l.value||c.value.isHiddenScrollBar)return null;const{prefixCls:C}=o;return N("div",{style:{height:`${T}px`,width:`${a.value}px`,bottom:`${n.offsetScroll}px`},class:`${C}-sticky-scroll`},[N("div",{onMousedown:g,ref:u,class:Qe(`${C}-sticky-scroll-bar`,{[`${C}-sticky-scroll-bar-active`]:h.value}),style:{width:`${l.value}px`,transform:`translate3d(${c.value.scrollLeft}px, 0, 0)`}},null)])}}}),HU=ba()?window:null;function wSe(n,e){return K(()=>{const{offsetHeader:i=0,offsetSummary:r=0,offsetScroll:o=0,getContainer:s=()=>HU}=typeof n.value=="object"?n.value:{},a=s()||HU,l=!!n.value;return{isSticky:l,stickyClassName:l?`${e.value}-sticky-holder`:"",offsetHeader:i,offsetSummary:r,offsetScroll:o,container:a}})}function CSe(n,e){return K(()=>{const i=[],r=n.value,o=e.value;for(let s=0;s<o;s+=1){const a=r[s];if(a!==void 0)i[s]=a;else return null}return i})}const GU=je({name:"FixedHolder",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow","noData","maxContentScroll","colWidths","columCount","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName"],emits:["scroll"],setup(n,e){let{attrs:i,slots:r,emit:o}=e;const s=Yl(),a=K(()=>s.isSticky&&!n.fixHeader?0:s.scrollbarSize),l=Ge(),u=b=>{const{currentTarget:y,deltaX:m}=b;m&&(o("scroll",{currentTarget:y,scrollLeft:y.scrollLeft+m}),b.preventDefault())},c=Ge();en(()=>{kn(()=>{c.value=da(l.value,"wheel",u)})}),Pn(()=>{var b;(b=c.value)===null||b===void 0||b.remove()});const d=K(()=>n.flattenColumns.every(b=>b.width&&b.width!==0&&b.width!=="0px")),f=Ge([]),h=Ge([]);ln(()=>{const b=n.flattenColumns[n.flattenColumns.length-1],y={fixed:b?b.fixed:null,scrollbar:!0,customHeaderCell:()=>({class:`${s.prefixCls}-cell-scrollbar`})};f.value=a.value?[...n.columns,y]:n.columns,h.value=a.value?[...n.flattenColumns,y]:n.flattenColumns});const p=K(()=>{const{stickyOffsets:b,direction:y}=n,{right:m,left:_}=b;return O(O({},b),{left:y==="rtl"?[..._.map(S=>S+a.value),0]:_,right:y==="rtl"?m:[...m.map(S=>S+a.value),0],isSticky:s.isSticky})}),g=CSe(Jn(n,"colWidths"),Jn(n,"columCount"));return()=>{var b;const{noData:y,columCount:m,stickyTopOffset:_,stickyBottomOffset:S,stickyClassName:w,maxContentScroll:A}=n,{isSticky:T}=s;return N("div",{style:O({overflow:"hidden"},T?{top:`${_}px`,bottom:`${S}px`}:{}),ref:l,class:Qe(i.class,{[w]:!!w})},[N("table",{style:{tableLayout:"fixed",visibility:y||g.value?null:"hidden"}},[(!y||!A||d.value)&&N(D9,{colWidths:g.value?[...g.value,a.value]:[],columCount:m+1,columns:h.value},null),(b=r.default)===null||b===void 0?void 0:b.call(r,O(O({},n),{stickyOffsets:p.value,columns:f.value,flattenColumns:h.value}))])])}}});function VU(n){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return Ki(Lge(i.map(o=>[o,Jn(n,o)])))}const ASe=[],TSe={},pR="rc-table-internal-hook",ESe=je({name:"VcTable",inheritAttrs:!1,props:["prefixCls","data","columns","rowKey","tableLayout","scroll","rowClassName","title","footer","id","showHeader","components","customRow","customHeaderRow","direction","expandFixed","expandColumnWidth","expandedRowKeys","defaultExpandedRowKeys","expandedRowRender","expandRowByClick","expandIcon","onExpand","onExpandedRowsChange","onUpdate:expandedRowKeys","defaultExpandAllRows","indentSize","expandIconColumnIndex","expandedRowClassName","childrenColumnName","rowExpandable","sticky","transformColumns","internalHooks","internalRefs","canExpandable","onUpdateInternalRefs","transformCellText"],emits:["expand","expandedRowsChange","updateInternalRefs","update:expandedRowKeys"],setup(n,e){let{attrs:i,slots:r,emit:o}=e;const s=K(()=>n.data||ASe),a=K(()=>!!s.value.length),l=K(()=>$_e(n.components,{})),u=(re,Ce)=>w9(l.value,re)||Ce,c=K(()=>{const re=n.rowKey;return typeof re=="function"?re:Ce=>Ce&&Ce[re]}),d=K(()=>n.expandIcon||xSe),f=K(()=>n.childrenColumnName||"children"),h=K(()=>n.expandedRowRender?"row":n.canExpandable||s.value.some(re=>re&&typeof re=="object"&&re[f.value])?"nest":!1),p=Oe([]);ln(()=>{n.defaultExpandedRowKeys&&(p.value=n.defaultExpandedRowKeys),n.defaultExpandAllRows&&(p.value=_Se(s.value,c.value,f.value))})();const b=K(()=>new Set(n.expandedRowKeys||p.value||[])),y=re=>{const Ce=c.value(re,s.value.indexOf(re));let Me;const Ve=b.value.has(Ce);Ve?(b.value.delete(Ce),Me=[...b.value]):Me=[...b.value,Ce],p.value=Me,o("expand",!Ve,re),o("update:expandedRowKeys",Me),o("expandedRowsChange",Me)},m=Ge(0),[_,S]=uSe(O(O({},gy(n)),{expandable:K(()=>!!n.expandedRowRender),expandedKeys:b,getRowKey:c,onTriggerExpand:y,expandIcon:d}),K(()=>n.internalHooks===pR?n.transformColumns:null)),w=K(()=>({columns:_.value,flattenColumns:S.value})),A=Ge(),T=Ge(),C=Ge(),R=Ge({scrollWidth:0,clientWidth:0}),E=Ge(),[P,I]=Wn(!1),[D,F]=Wn(!1),[L,$]=O9(new Map),U=K(()=>K1(S.value)),k=K(()=>U.value.map(re=>L.value.get(re))),H=K(()=>S.value.length),z=dSe(k,H,Jn(n,"direction")),Q=K(()=>n.scroll&&cR(n.scroll.y)),Z=K(()=>n.scroll&&cR(n.scroll.x)||!!n.expandFixed),ie=K(()=>Z.value&&S.value.some(re=>{let{fixed:Ce}=re;return Ce})),xe=Ge(),J=wSe(Jn(n,"sticky"),Jn(n,"prefixCls")),se=Ki({}),ee=K(()=>{const re=Object.values(se)[0];return(Q.value||J.value.isSticky)&&re}),ne=(re,Ce)=>{Ce?se[re]=Ce:delete se[re]},ue=Ge({}),Y=Ge({}),le=Ge({});ln(()=>{Q.value&&(Y.value={overflowY:"scroll",maxHeight:Uf(n.scroll.y)}),Z.value&&(ue.value={overflowX:"auto"},Q.value||(Y.value={overflowY:"hidden"}),le.value={width:n.scroll.x===!0?"auto":Uf(n.scroll.x),minWidth:"100%"})});const fe=(re,Ce)=>{OI(A.value)&&$(Me=>{if(Me.get(re)!==Ce){const Ve=new Map(Me);return Ve.set(re,Ce),Ve}return Me})},[W,X]=cSe();function V(re,Ce){if(!Ce)return;if(typeof Ce=="function"){Ce(re);return}const Me=Ce.$el||Ce;Me.scrollLeft!==re&&(Me.scrollLeft=re)}const Se=re=>{let{currentTarget:Ce,scrollLeft:Me}=re;var Ve;const dt=n.direction==="rtl",we=typeof Me=="number"?Me:Ce.scrollLeft,Ie=Ce||TSe;if((!X()||X()===Ie)&&(W(Ie),V(we,T.value),V(we,C.value),V(we,E.value),V(we,(Ve=xe.value)===null||Ve===void 0?void 0:Ve.setScrollLeft)),Ce){const{scrollWidth:Ue,clientWidth:Ye}=Ce;dt?(I(-we<Ue-Ye),F(-we>0)):(I(we>0),F(we<Ue-Ye))}},pe=()=>{Z.value&&C.value?Se({currentTarget:C.value}):(I(!1),F(!1))};let _e;const he=re=>{re!==m.value&&(pe(),m.value=A.value?A.value.offsetWidth:re)},ge=re=>{let{width:Ce}=re;if(clearTimeout(_e),m.value===0){he(Ce);return}_e=setTimeout(()=>{he(Ce)},100)};ct([Z,()=>n.data,()=>n.columns],()=>{Z.value&&pe()},{flush:"post"});const[me,j]=Wn(0);V_e(),en(()=>{kn(()=>{var re,Ce;pe(),j(afe(C.value).width),R.value={scrollWidth:((re=C.value)===null||re===void 0?void 0:re.scrollWidth)||0,clientWidth:((Ce=C.value)===null||Ce===void 0?void 0:Ce.clientWidth)||0}})}),Ca(()=>{kn(()=>{var re,Ce;const Me=((re=C.value)===null||re===void 0?void 0:re.scrollWidth)||0,Ve=((Ce=C.value)===null||Ce===void 0?void 0:Ce.clientWidth)||0;(R.value.scrollWidth!==Me||R.value.clientWidth!==Ve)&&(R.value={scrollWidth:Me,clientWidth:Ve})})}),ln(()=>{n.internalHooks===pR&&n.internalRefs&&n.onUpdateInternalRefs({body:C.value?C.value.$el||C.value:null})},{flush:"post"});const G=K(()=>n.tableLayout?n.tableLayout:ie.value?n.scroll.x==="max-content"?"auto":"fixed":Q.value||J.value.isSticky||S.value.some(re=>{let{ellipsis:Ce}=re;return Ce})?"fixed":"auto"),ce=()=>{var re;return a.value?null:((re=r.emptyText)===null||re===void 0?void 0:re.call(r))||"No Data"};B_e(Ki(O(O({},gy(VU(n,"prefixCls","direction","transformCellText"))),{getComponent:u,scrollbarSize:me,fixedInfoList:K(()=>S.value.map((re,Ce)=>DN(Ce,Ce,S.value,z.value,n.direction))),isSticky:K(()=>J.value.isSticky),summaryCollect:ne}))),tSe(Ki(O(O({},gy(VU(n,"rowClassName","expandedRowClassName","expandRowByClick","expandedRowRender","expandIconColumnIndex","indentSize"))),{columns:_,flattenColumns:S,tableLayout:G,expandIcon:d,expandableType:h,onTriggerExpand:y}))),rSe({onColumnResize:fe}),Z_e({componentWidth:m,fixHeader:Q,fixColumn:ie,horizonScroll:Z});const Ee=()=>N(sSe,{data:s.value,measureColumnWidth:Q.value||Z.value||J.value.isSticky,expandedKeys:b.value,rowExpandable:n.rowExpandable,getRowKey:c.value,customRow:n.customRow,childrenColumnName:f.value},{emptyNode:ce}),de=()=>N(D9,{colWidths:S.value.map(re=>{let{width:Ce}=re;return Ce}),columns:S.value},null);return()=>{var re;const{prefixCls:Ce,scroll:Me,tableLayout:Ve,direction:dt,title:we=r.title,footer:Ie=r.footer,id:Ue,showHeader:Ye,customHeaderRow:Ke}=n,{isSticky:ut,offsetHeader:ot,offsetSummary:Et,offsetScroll:Ae,stickyClassName:it,container:$e}=J.value,We=u(["table"],"table"),gt=u(["body"]),yt=(re=r.summary)===null||re===void 0?void 0:re.call(r,{pageData:s.value});let Dt=()=>null;const Xt={colWidths:k.value,columCount:S.value.length,stickyOffsets:z.value,customHeaderRow:Ke,fixHeader:Q.value,scroll:Me};if(Q.value||ut){let Ti=()=>null;typeof gt=="function"?(Ti=()=>gt(s.value,{scrollbarSize:me.value,ref:C,onScroll:Se}),Xt.colWidths=S.value.map((Fr,ul)=>{let{width:Mr}=Fr;const gs=ul===_.value.length-1?Mr-me.value:Mr;return typeof gs=="number"&&!Number.isNaN(gs)?gs:0})):Ti=()=>N("div",{style:O(O({},ue.value),Y.value),onScroll:Se,ref:C,class:Qe(`${Ce}-body`)},[N(We,{style:O(O({},le.value),{tableLayout:G.value})},{default:()=>[de(),Ee(),!ee.value&&yt&&N(_x,{stickyOffsets:z.value,flattenColumns:S.value},{default:()=>[yt]})]})]);const Xi=O(O(O({noData:!s.value.length,maxContentScroll:Z.value&&Me.x==="max-content"},Xt),w.value),{direction:dt,stickyClassName:it,onScroll:Se});Dt=()=>N(mn,null,[Ye!==!1&&N(GU,ve(ve({},Xi),{},{stickyTopOffset:ot,class:`${Ce}-header`,ref:T}),{default:Fr=>N(mn,null,[N(zU,Fr,null),ee.value==="top"&&N(_x,Fr,{default:()=>[yt]})])}),Ti(),ee.value&&ee.value!=="top"&&N(GU,ve(ve({},Xi),{},{stickyBottomOffset:Et,class:`${Ce}-summary`,ref:E}),{default:Fr=>N(_x,Fr,{default:()=>[yt]})}),ut&&C.value&&N(SSe,{ref:xe,offsetScroll:Ae,scrollBodyRef:C,onScroll:Se,container:$e,scrollBodySizeInfo:R.value},null)])}else Dt=()=>N("div",{style:O(O({},ue.value),Y.value),class:Qe(`${Ce}-content`),onScroll:Se,ref:C},[N(We,{style:O(O({},le.value),{tableLayout:G.value})},{default:()=>[de(),Ye!==!1&&N(zU,ve(ve({},Xt),w.value),null),Ee(),yt&&N(_x,{stickyOffsets:z.value,flattenColumns:S.value},{default:()=>[yt]})]})]);const Un=Uh(i,{aria:!0,data:!0}),nn=()=>N("div",ve(ve({},Un),{},{class:Qe(Ce,{[`${Ce}-rtl`]:dt==="rtl",[`${Ce}-ping-left`]:P.value,[`${Ce}-ping-right`]:D.value,[`${Ce}-layout-fixed`]:Ve==="fixed",[`${Ce}-fixed-header`]:Q.value,[`${Ce}-fixed-column`]:ie.value,[`${Ce}-scroll-horizontal`]:Z.value,[`${Ce}-has-fix-left`]:S.value[0]&&S.value[0].fixed,[`${Ce}-has-fix-right`]:S.value[H.value-1]&&S.value[H.value-1].fixed==="right",[i.class]:i.class}),style:i.style,id:Ue,ref:A}),[we&&N(hR,{class:`${Ce}-title`},{default:()=>[we(s.value)]}),N("div",{class:`${Ce}-container`},[Dt()]),Ie&&N(hR,{class:`${Ce}-footer`},{default:()=>[Ie(s.value)]})]);return Z.value?N(Bd,{onResize:ge},{default:nn}):nn()}}});function MSe(){const n=O({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const i=e<0||arguments.length<=e?void 0:arguments[e];i&&Object.keys(i).forEach(r=>{const o=i[r];o!==void 0&&(n[r]=o)})}return n}const gR=10;function RSe(n,e){const i={current:n.current,pageSize:n.pageSize};return Object.keys(e&&typeof e=="object"?e:{}).forEach(o=>{const s=n[o];typeof s!="function"&&(i[o]=s)}),i}function PSe(n,e,i){const r=K(()=>e.value&&typeof e.value=="object"?e.value:{}),o=K(()=>r.value.total||0),[s,a]=Wn(()=>({current:"defaultCurrent"in r.value?r.value.defaultCurrent:1,pageSize:"defaultPageSize"in r.value?r.value.defaultPageSize:gR})),l=K(()=>{const d=MSe(s.value,r.value,{total:o.value>0?o.value:n.value}),f=Math.ceil((o.value||n.value)/d.pageSize);return d.current>f&&(d.current=f||1),d}),u=(d,f)=>{e.value!==!1&&a({current:d??1,pageSize:f||l.value.pageSize})},c=(d,f)=>{var h,p;e.value&&((p=(h=r.value).onChange)===null||p===void 0||p.call(h,d,f)),u(d,f),i(d,f||l.value.pageSize)};return[K(()=>e.value===!1?{}:O(O({},l.value),{onChange:c})),u]}function ISe(n,e,i){const r=Oe({});ct([n,e,i],()=>{const s=new Map,a=i.value,l=e.value;function u(c){c.forEach((d,f)=>{const h=a(d,f);s.set(h,d),d&&typeof d=="object"&&l in d&&u(d[l]||[])})}u(n.value),r.value={kvMap:s}},{deep:!0,immediate:!0});function o(s){return r.value.kvMap.get(s)}return[o]}const Lu={},mR="SELECT_ALL",vR="SELECT_INVERT",yR="SELECT_NONE",NSe=[];function B9(n,e){let i=[];return(e||[]).forEach(r=>{i.push(r),r&&typeof r=="object"&&n in r&&(i=[...i,...B9(n,r[n])])}),i}function OSe(n,e){const i=K(()=>{const E=n.value||{},{checkStrictly:P=!0}=E;return O(O({},E),{checkStrictly:P})}),[r,o]=qg(i.value.selectedRowKeys||i.value.defaultSelectedRowKeys||NSe,{value:K(()=>i.value.selectedRowKeys)}),s=Oe(new Map),a=E=>{if(i.value.preserveSelectedRowKeys){const P=new Map;E.forEach(I=>{let D=e.getRecordByKey(I);!D&&s.value.has(I)&&(D=s.value.get(I)),P.set(I,D)}),s.value=P}};ln(()=>{a(r.value)});const l=K(()=>i.value.checkStrictly?null:PN(e.data.value,{externalGetKey:e.getRowKey.value,childrenPropName:e.childrenColumnName.value}).keyEntities),u=K(()=>B9(e.childrenColumnName.value,e.pageData.value)),c=K(()=>{const E=new Map,P=e.getRowKey.value,I=i.value.getCheckboxProps;return u.value.forEach((D,F)=>{const L=P(D,F),$=(I?I(D):null)||{};E.set(L,$)}),E}),{maxLevel:d,levelEntities:f}=u9(l),h=E=>{var P;return!!(!((P=c.value.get(e.getRowKey.value(E)))===null||P===void 0)&&P.disabled)},p=K(()=>{if(i.value.checkStrictly)return[r.value||[],[]];const{checkedKeys:E,halfCheckedKeys:P}=Tg(r.value,!0,l.value,d.value,f.value,h);return[E||[],P]}),g=K(()=>p.value[0]),b=K(()=>p.value[1]),y=K(()=>{const E=i.value.type==="radio"?g.value.slice(0,1):g.value;return new Set(E)}),m=K(()=>i.value.type==="radio"?new Set:new Set(b.value)),[_,S]=Wn(null),w=E=>{let P,I;a(E);const{preserveSelectedRowKeys:D,onChange:F}=i.value,{getRecordByKey:L}=e;D?(P=E,I=E.map($=>s.value.get($))):(P=[],I=[],E.forEach($=>{const U=L($);U!==void 0&&(P.push($),I.push(U))})),o(P),F==null||F(P,I)},A=(E,P,I,D)=>{const{onSelect:F}=i.value,{getRecordByKey:L}=e;if(F){const $=I.map(U=>L(U));F(L(E),P,$,D)}w(I)},T=K(()=>{const{onSelectInvert:E,onSelectNone:P,selections:I,hideSelectAll:D}=i.value,{data:F,pageData:L,getRowKey:$,locale:U}=e;return!I||D?null:(I===!0?[mR,vR,yR]:I).map(H=>H===mR?{key:"all",text:U.value.selectionAll,onSelect(){w(F.value.map((z,Q)=>$.value(z,Q)).filter(z=>{const Q=c.value.get(z);return!(Q!=null&&Q.disabled)||y.value.has(z)}))}}:H===vR?{key:"invert",text:U.value.selectInvert,onSelect(){const z=new Set(y.value);L.value.forEach((Z,ie)=>{const xe=$.value(Z,ie),J=c.value.get(xe);J!=null&&J.disabled||(z.has(xe)?z.delete(xe):z.add(xe))});const Q=Array.from(z);E&&(gi(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),E(Q)),w(Q)}}:H===yR?{key:"none",text:U.value.selectNone,onSelect(){P==null||P(),w(Array.from(y.value).filter(z=>{const Q=c.value.get(z);return Q==null?void 0:Q.disabled}))}}:H)}),C=K(()=>u.value.length);return[E=>{var P;const{onSelectAll:I,onSelectMultiple:D,columnWidth:F,type:L,fixed:$,renderCell:U,hideSelectAll:k,checkStrictly:H}=i.value,{prefixCls:z,getRecordByKey:Q,getRowKey:Z,expandType:ie,getPopupContainer:xe}=e;if(!n.value)return E.filter(he=>he!==Lu);let J=E.slice();const se=new Set(y.value),ee=u.value.map(Z.value).filter(he=>!c.value.get(he).disabled),ne=ee.every(he=>se.has(he)),ue=ee.some(he=>se.has(he)),Y=()=>{const he=[];ne?ee.forEach(me=>{se.delete(me),he.push(me)}):ee.forEach(me=>{se.has(me)||(se.add(me),he.push(me))});const ge=Array.from(se);I==null||I(!ne,ge.map(me=>Q(me)),he.map(me=>Q(me))),w(ge)};let le;if(L!=="radio"){let he;if(T.value){const ce=N(pa,{getPopupContainer:xe.value},{default:()=>[T.value.map((Ee,de)=>{const{key:re,text:Ce,onSelect:Me}=Ee;return N(pa.Item,{key:re||de,onClick:()=>{Me==null||Me(ee)}},{default:()=>[Ce]})})]});he=N("div",{class:`${z.value}-selection-extra`},[N(Ed,{overlay:ce,getPopupContainer:xe.value},{default:()=>[N("span",null,[N(N1,null,null)])]})])}const ge=u.value.map((ce,Ee)=>{const de=Z.value(ce,Ee),re=c.value.get(de)||{};return O({checked:se.has(de)},re)}).filter(ce=>{let{disabled:Ee}=ce;return Ee}),me=!!ge.length&&ge.length===C.value,j=me&&ge.every(ce=>{let{checked:Ee}=ce;return Ee}),G=me&&ge.some(ce=>{let{checked:Ee}=ce;return Ee});le=!k&&N("div",{class:`${z.value}-selection`},[N(Ol,{checked:me?j:!!C.value&&ne,indeterminate:me?!j&&G:!ne&&ue,onChange:Y,disabled:C.value===0||me,"aria-label":he?"Custom selection":"Select all",skipGroup:!0},null),he])}let fe;L==="radio"?fe=he=>{let{record:ge,index:me}=he;const j=Z.value(ge,me),G=se.has(j);return{node:N(Qo,ve(ve({},c.value.get(j)),{},{checked:G,onClick:ce=>ce.stopPropagation(),onChange:ce=>{se.has(j)||A(j,!0,[j],ce.nativeEvent)}}),null),checked:G}}:fe=he=>{let{record:ge,index:me}=he;var j;const G=Z.value(ge,me),ce=se.has(G),Ee=m.value.has(G),de=c.value.get(G);let re;return ie.value==="nest"?(re=Ee,gi(typeof(de==null?void 0:de.indeterminate)!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):re=(j=de==null?void 0:de.indeterminate)!==null&&j!==void 0?j:Ee,{node:N(Ol,ve(ve({},de),{},{indeterminate:re,checked:ce,skipGroup:!0,onClick:Ce=>Ce.stopPropagation(),onChange:Ce=>{let{nativeEvent:Me}=Ce;const{shiftKey:Ve}=Me;let dt=-1,we=-1;if(Ve&&H){const Ie=new Set([_.value,G]);ee.some((Ue,Ye)=>{if(Ie.has(Ue))if(dt===-1)dt=Ye;else return we=Ye,!0;return!1})}if(we!==-1&&dt!==we&&H){const Ie=ee.slice(dt,we+1),Ue=[];ce?Ie.forEach(Ke=>{se.has(Ke)&&(Ue.push(Ke),se.delete(Ke))}):Ie.forEach(Ke=>{se.has(Ke)||(Ue.push(Ke),se.add(Ke))});const Ye=Array.from(se);D==null||D(!ce,Ye.map(Ke=>Q(Ke)),Ue.map(Ke=>Q(Ke))),w(Ye)}else{const Ie=g.value;if(H){const Ue=ce?ml(Ie,G):Ou(Ie,G);A(G,!ce,Ue,Me)}else{const Ue=Tg([...Ie,G],!0,l.value,d.value,f.value,h),{checkedKeys:Ye,halfCheckedKeys:Ke}=Ue;let ut=Ye;if(ce){const ot=new Set(Ye);ot.delete(G),ut=Tg(Array.from(ot),{checked:!1,halfCheckedKeys:Ke},l.value,d.value,f.value,h).checkedKeys}A(G,!ce,ut,Me)}}S(G)}}),null),checked:ce}};const W=he=>{let{record:ge,index:me}=he;const{node:j,checked:G}=fe({record:ge,index:me});return U?U(G,ge,me,j):j};if(!J.includes(Lu))if(J.findIndex(he=>{var ge;return((ge=he[Mg])===null||ge===void 0?void 0:ge.columnType)==="EXPAND_COLUMN"})===0){const[he,...ge]=J;J=[he,Lu,...ge]}else J=[Lu,...J];const X=J.indexOf(Lu);J=J.filter((he,ge)=>he!==Lu||ge===X);const V=J[X-1],Se=J[X+1];let pe=$;pe===void 0&&((Se==null?void 0:Se.fixed)!==void 0?pe=Se.fixed:(V==null?void 0:V.fixed)!==void 0&&(pe=V.fixed)),pe&&V&&((P=V[Mg])===null||P===void 0?void 0:P.columnType)==="EXPAND_COLUMN"&&V.fixed===void 0&&(V.fixed=pe);const _e={fixed:pe,width:F,className:`${z.value}-selection-column`,title:i.value.columnTitle||le,customRender:W,[Mg]:{class:`${z.value}-selection-col`}};return J.map(he=>he===Lu?_e:he)},y]}var DSe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};function WU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){LSe(n,o,i[o])})}return n}function LSe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var LN=function(e,i){var r=WU({},e,i.attrs);return N(Tn,WU({},r,{icon:DSe}),null)};LN.displayName="CaretDownOutlined";LN.inheritAttrs=!1;var BSe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};function jU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){FSe(n,o,i[o])})}return n}function FSe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var BN=function(e,i){var r=jU({},e,i.attrs);return N(Tn,jU({},r,{icon:BSe}),null)};BN.displayName="CaretUpOutlined";BN.inheritAttrs=!1;var $Se=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function wh(n,e){return"key"in n&&n.key!==void 0&&n.key!==null?n.key:n.dataIndex?Array.isArray(n.dataIndex)?n.dataIndex.join("."):n.dataIndex:e}function X0(n,e){return e?`${e}-${n}`:`${n}`}function FN(n,e){return typeof n=="function"?n(e):n}function F9(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=ir(n),i=[];return e.forEach(r=>{var o,s,a,l;if(!r)return;const u=r.key,c=((o=r.props)===null||o===void 0?void 0:o.style)||{},d=((s=r.props)===null||s===void 0?void 0:s.class)||"",f=r.props||{};for(const[y,m]of Object.entries(f))f[k0(y)]=m;const h=r.children||{},{default:p}=h,g=$Se(h,["default"]),b=O(O(O({},g),f),{style:c,class:d});if(u&&(b.key=u),!((a=r.type)===null||a===void 0)&&a.__ANT_TABLE_COLUMN_GROUP)b.children=F9(typeof p=="function"?p():p);else{const y=(l=r.children)===null||l===void 0?void 0:l.default;b.customRender=b.customRender||y}i.push(b)}),i}const xS="ascend",FT="descend";function Sw(n){return typeof n.sorter=="object"&&typeof n.sorter.multiple=="number"?n.sorter.multiple:!1}function KU(n){return typeof n=="function"?n:n&&typeof n=="object"&&n.compare?n.compare:!1}function USe(n,e){return e?n[n.indexOf(e)+1]:n[0]}function bR(n,e,i){let r=[];function o(s,a){r.push({column:s,key:wh(s,a),multiplePriority:Sw(s),sortOrder:s.sortOrder})}return(n||[]).forEach((s,a)=>{const l=X0(a,i);s.children?("sortOrder"in s&&o(s,l),r=[...r,...bR(s.children,e,l)]):s.sorter&&("sortOrder"in s?o(s,l):e&&s.defaultSortOrder&&r.push({column:s,key:wh(s,l),multiplePriority:Sw(s),sortOrder:s.defaultSortOrder}))}),r}function $9(n,e,i,r,o,s,a,l){return(e||[]).map((u,c)=>{const d=X0(c,l);let f=u;if(f.sorter){const h=f.sortDirections||o,p=f.showSorterTooltip===void 0?a:f.showSorterTooltip,g=wh(f,d),b=i.find(E=>{let{key:P}=E;return P===g}),y=b?b.sortOrder:null,m=USe(h,y),_=h.includes(xS)&&N(BN,{class:Qe(`${n}-column-sorter-up`,{active:y===xS}),role:"presentation"},null),S=h.includes(FT)&&N(LN,{role:"presentation",class:Qe(`${n}-column-sorter-down`,{active:y===FT})},null),{cancelSort:w,triggerAsc:A,triggerDesc:T}=s||{};let C=w;m===FT?C=T:m===xS&&(C=A);const R=typeof p=="object"?p:{title:C};f=O(O({},f),{className:Qe(f.className,{[`${n}-column-sort`]:y}),title:E=>{const P=N("div",{class:`${n}-column-sorters`},[N("span",{class:`${n}-column-title`},[FN(u.title,E)]),N("span",{class:Qe(`${n}-column-sorter`,{[`${n}-column-sorter-full`]:!!(_&&S)})},[N("span",{class:`${n}-column-sorter-inner`},[_,S])])]);return p?N(U1,R,{default:()=>[P]}):P},customHeaderCell:E=>{const P=u.customHeaderCell&&u.customHeaderCell(E)||{},I=P.onClick,D=P.onKeydown;return P.onClick=F=>{r({column:u,key:g,sortOrder:m,multiplePriority:Sw(u)}),I&&I(F)},P.onKeydown=F=>{F.keyCode===at.ENTER&&(r({column:u,key:g,sortOrder:m,multiplePriority:Sw(u)}),D==null||D(F))},y&&(P["aria-sort"]=y==="ascend"?"ascending":"descending"),P.class=Qe(P.class,`${n}-column-has-sorters`),P.tabindex=0,P}})}return"children"in f&&(f=O(O({},f),{children:$9(n,f.children,i,r,o,s,a,d)})),f})}function qU(n){const{column:e,sortOrder:i}=n;return{column:e,order:i,field:e.dataIndex,columnKey:e.key}}function XU(n){const e=n.filter(i=>{let{sortOrder:r}=i;return r}).map(qU);return e.length===0&&n.length?O(O({},qU(n[n.length-1])),{column:void 0}):e.length<=1?e[0]||{}:e}function xR(n,e,i){const r=e.slice().sort((a,l)=>l.multiplePriority-a.multiplePriority),o=n.slice(),s=r.filter(a=>{let{column:{sorter:l},sortOrder:u}=a;return KU(l)&&u});return s.length?o.sort((a,l)=>{for(let u=0;u<s.length;u+=1){const c=s[u],{column:{sorter:d},sortOrder:f}=c,h=KU(d);if(h&&f){const p=h(a,l,f);if(p!==0)return f===xS?p:-p}}return 0}).map(a=>{const l=a[i];return l?O(O({},a),{[i]:xR(l,e,i)}):a}):o}function kSe(n){let{prefixCls:e,mergedColumns:i,onSorterChange:r,sortDirections:o,tableLocale:s,showSorterTooltip:a}=n;const[l,u]=Wn(bR(i.value,!0)),c=K(()=>{let g=!0;const b=bR(i.value,!1);if(!b.length)return l.value;const y=[];function m(S){g?y.push(S):y.push(O(O({},S),{sortOrder:null}))}let _=null;return b.forEach(S=>{_===null?(m(S),S.sortOrder&&(S.multiplePriority===!1?g=!1:_=!0)):(_&&S.multiplePriority!==!1||(g=!1),m(S))}),y}),d=K(()=>{const g=c.value.map(b=>{let{column:y,sortOrder:m}=b;return{column:y,order:m}});return{sortColumns:g,sortColumn:g[0]&&g[0].column,sortOrder:g[0]&&g[0].order}});function f(g){let b;g.multiplePriority===!1||!c.value.length||c.value[0].multiplePriority===!1?b=[g]:b=[...c.value.filter(y=>{let{key:m}=y;return m!==g.key}),g],u(b),r(XU(b),b)}const h=g=>$9(e.value,g,c.value,f,o.value,s.value,a.value),p=K(()=>XU(c.value));return[h,c,d,p]}var zSe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};function YU(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){HSe(n,o,i[o])})}return n}function HSe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var $N=function(e,i){var r=YU({},e,i.attrs);return N(Tn,YU({},r,{icon:zSe}),null)};$N.displayName="FilterFilled";$N.inheritAttrs=!1;const GSe=n=>{const{keyCode:e}=n;e===at.ENTER&&n.stopPropagation()},VSe=(n,e)=>{let{slots:i}=e;var r;return N("div",{onClick:o=>o.stopPropagation(),onKeydown:GSe},[(r=i.default)===null||r===void 0?void 0:r.call(i)])},QU=je({compatConfig:{MODE:3},name:"FilterSearch",inheritAttrs:!1,props:{value:Nn(),onChange:pt(),filterSearch:Pi([Boolean,Function]),tablePrefixCls:Nn(),locale:vn()},setup(n){return()=>{const{value:e,onChange:i,filterSearch:r,tablePrefixCls:o,locale:s}=n;return r?N("div",{class:`${o}-filter-dropdown-search`},[N(_r,{placeholder:s.filterSearchPlaceholder,onChange:i,value:e,htmlSize:1,class:`${o}-filter-dropdown-search-input`},{prefix:()=>N(Mm,null,null)})]):null}}});var ZU=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const WSe=je({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:O(O({},o9),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(n,e){let{attrs:i,slots:r}=e;const o=Oe(!0),s=MN(),a=Oe(!1),l=K(()=>n.motion?n.motion:xN()),u=(c,d)=>{var f,h,p,g;d==="appear"?(h=(f=l.value)===null||f===void 0?void 0:f.onAfterEnter)===null||h===void 0||h.call(f,c):d==="leave"&&((g=(p=l.value)===null||p===void 0?void 0:p.onAfterLeave)===null||g===void 0||g.call(p,c)),a.value||n.onMotionEnd(),a.value=!0};return ct(()=>n.motionNodes,()=>{n.motionNodes&&n.motionType==="hide"&&o.value&&kn(()=>{o.value=!1})},{immediate:!0,flush:"post"}),en(()=>{n.motionNodes&&n.onMotionStart()}),Pn(()=>{n.motionNodes&&u()}),()=>{const{motion:c,motionNodes:d,motionType:f,active:h,eventKey:p}=n,g=ZU(n,["motion","motionNodes","motionType","active","eventKey"]);return d?N(nl,ve(ve({},l.value),{},{appear:f==="show",onAfterAppear:b=>u(b,"appear"),onAfterLeave:b=>u(b,"leave")}),{default:()=>[Ro(N("div",{class:`${s.value.prefixCls}-treenode-motion`},[d.map(b=>{const y=ZU(b.data,[]),{title:m,key:_,isStart:S,isEnd:w}=b;return delete y.children,N(rR,ve(ve({},y),{},{title:m,active:h,data:b.data,key:_,eventKey:_,isStart:S,isEnd:w}),r)})]),[[Jo,o.value]])]}):N(rR,ve(ve({class:i.class,style:i.style},g),{},{active:h,eventKey:p}),r)}}});function jSe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const i=n.length,r=e.length;if(Math.abs(i-r)!==1)return{add:!1,key:null};function o(s,a){const l=new Map;s.forEach(c=>{l.set(c,!0)});const u=a.filter(c=>!l.has(c));return u.length===1?u[0]:null}return i<r?{add:!0,key:o(n,e)}:{add:!1,key:o(e,n)}}function JU(n,e,i){const r=n.findIndex(a=>a.key===i),o=n[r+1],s=e.findIndex(a=>a.key===i);if(o){const a=e.findIndex(l=>l.key===o.key);return e.slice(s+1,a)}return e.slice(s+1)}var e4=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const t4={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},KSe=()=>{},Ch=`RC_TREE_MOTION_${Math.random()}`,_R={key:Ch},U9={key:Ch,level:0,index:0,pos:"0",node:_R,nodes:[_R]},n4={parent:null,children:[],pos:U9.pos,data:_R,title:null,key:Ch,isStart:[],isEnd:[]};function i4(n,e,i,r){return e===!1||!i?n:n.slice(0,Math.ceil(i/r)+1)}function r4(n){const{key:e,pos:i}=n;return q0(e,i)}function qSe(n){let e=String(n.key),i=n;for(;i.parent;)i=i.parent,e=`${i.key} > ${e}`;return e}const XSe=je({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:obe,setup(n,e){let{expose:i,attrs:r}=e;const o=Ge(),s=Ge(),{expandedKeys:a,flattenNodes:l}=r9();i({scrollTo:b=>{o.value.scrollTo(b)},getIndentWidth:()=>s.value.offsetWidth});const u=Oe(l.value),c=Oe([]),d=Ge(null);function f(){u.value=l.value,c.value=[],d.value=null,n.onListChangeEnd()}const h=MN();ct([()=>a.value.slice(),l],(b,y)=>{let[m,_]=b,[S,w]=y;const A=jSe(S,m);if(A.key!==null){const{virtual:T,height:C,itemHeight:R}=n;if(A.add){const E=w.findIndex(D=>{let{key:F}=D;return F===A.key}),P=i4(JU(w,_,A.key),T,C,R),I=w.slice();I.splice(E+1,0,n4),u.value=I,c.value=P,d.value="show"}else{const E=_.findIndex(D=>{let{key:F}=D;return F===A.key}),P=i4(JU(_,w,A.key),T,C,R),I=_.slice();I.splice(E+1,0,n4),u.value=I,c.value=P,d.value="hide"}}else w!==_&&(u.value=_)}),ct(()=>h.value.dragging,b=>{b||f()});const p=K(()=>n.motion===void 0?u.value:l.value),g=()=>{n.onActiveChange(null)};return()=>{const b=O(O({},n),r),{prefixCls:y,selectable:m,checkable:_,disabled:S,motion:w,height:A,itemHeight:T,virtual:C,focusable:R,activeItem:E,focused:P,tabindex:I,onKeydown:D,onFocus:F,onBlur:L,onListChangeStart:$,onListChangeEnd:U}=b,k=e4(b,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return N(mn,null,[P&&E&&N("span",{style:t4,"aria-live":"assertive"},[qSe(E)]),N("div",null,[N("input",{style:t4,disabled:R===!1||S,tabindex:R!==!1?I:null,onKeydown:D,onFocus:F,onBlur:L,value:"",onChange:KSe,"aria-label":"for screen reader"},null)]),N("div",{class:`${y}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[N("div",{class:`${y}-indent`},[N("div",{ref:s,class:`${y}-indent-unit`},null)])]),N(HV,ve(ve({},Ai(k,["onActiveChange"])),{},{data:p.value,itemKey:r4,height:A,fullHeight:!1,virtual:C,itemHeight:T,prefixCls:`${y}-list`,ref:o,onVisibleChange:(H,z)=>{const Q=new Set(H);z.filter(ie=>!Q.has(ie)).some(ie=>r4(ie)===Ch)&&f()}}),{default:H=>{const{pos:z}=H,Q=e4(H.data,[]),{title:Z,key:ie,isStart:xe,isEnd:J}=H,se=q0(ie,z);return delete Q.key,delete Q.children,N(WSe,ve(ve({},Q),{},{eventKey:se,title:Z,active:!!E&&ie===E.key,data:H.data,isStart:xe,isEnd:J,motion:w,motionNodes:ie===Ch?c.value:null,motionType:d.value,onMotionStart:$,onMotionEnd:f,onMousemove:g}),null)}})])}}});function YSe(n){let{dropPosition:e,dropLevelOffset:i,indent:r}=n;const o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(e){case-1:o.top=0,o.left=`${-i*r}px`;break;case 1:o.bottom=0,o.left=`${-i*r}px`;break;case 0:o.bottom=0,o.left=`${r}`;break}return N("div",{style:o},null)}const QSe=10,ZSe=je({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:fi(s9(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:YSe,allowDrop:()=>!0}),setup(n,e){let{attrs:i,slots:r,expose:o}=e;const s=Oe(!1);let a={};const l=Oe(),u=Oe([]),c=Oe([]),d=Oe([]),f=Oe([]),h=Oe([]),p=Oe([]),g={},b=Ki({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),y=Oe([]);ct([()=>n.treeData,()=>n.children],()=>{y.value=n.treeData!==void 0?n.treeData.slice():sR(pn(n.children))},{immediate:!0,deep:!0});const m=Oe({}),_=Oe(!1),S=Oe(null),w=Oe(!1),A=K(()=>H1(n.fieldNames)),T=Oe();let C=null,R=null,E=null;const P=K(()=>({expandedKeysSet:I.value,selectedKeysSet:D.value,loadedKeysSet:F.value,loadingKeysSet:L.value,checkedKeysSet:$.value,halfCheckedKeysSet:U.value,dragOverNodeKey:b.dragOverNodeKey,dropPosition:b.dropPosition,keyEntities:m.value})),I=K(()=>new Set(p.value)),D=K(()=>new Set(u.value)),F=K(()=>new Set(f.value)),L=K(()=>new Set(h.value)),$=K(()=>new Set(c.value)),U=K(()=>new Set(d.value));ln(()=>{if(y.value){const we=PN(y.value,{fieldNames:A.value});m.value=O({[Ch]:U9},we.keyEntities)}});let k=!1;ct([()=>n.expandedKeys,()=>n.autoExpandParent,m],(we,Ie)=>{let[Ue,Ye]=we,[Ke,ut]=Ie,ot=p.value;if(n.expandedKeys!==void 0||k&&Ye!==ut)ot=n.autoExpandParent||!k&&n.defaultExpandParent?oR(n.expandedKeys,m.value):n.expandedKeys;else if(!k&&n.defaultExpandAll){const Et=O({},m.value);delete Et[Ch],ot=Object.keys(Et).map(Ae=>Et[Ae].key)}else!k&&n.defaultExpandedKeys&&(ot=n.autoExpandParent||n.defaultExpandParent?oR(n.defaultExpandedKeys,m.value):n.defaultExpandedKeys);ot&&(p.value=ot),k=!0},{immediate:!0});const H=Oe([]);ln(()=>{H.value=hbe(y.value,p.value,A.value)}),ln(()=>{n.selectable&&(n.selectedKeys!==void 0?u.value=wU(n.selectedKeys,n):!k&&n.defaultSelectedKeys&&(u.value=wU(n.defaultSelectedKeys,n)))});const{maxLevel:z,levelEntities:Q}=u9(m);ln(()=>{if(n.checkable){let we;if(n.checkedKeys!==void 0?we=NT(n.checkedKeys)||{}:!k&&n.defaultCheckedKeys?we=NT(n.defaultCheckedKeys)||{}:y.value&&(we=NT(n.checkedKeys)||{checkedKeys:c.value,halfCheckedKeys:d.value}),we){let{checkedKeys:Ie=[],halfCheckedKeys:Ue=[]}=we;n.checkStrictly||({checkedKeys:Ie,halfCheckedKeys:Ue}=Tg(Ie,!0,m.value,z.value,Q.value)),c.value=Ie,d.value=Ue}}}),ln(()=>{n.loadedKeys&&(f.value=n.loadedKeys)});const Z=()=>{O(b,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ie=we=>{T.value.scrollTo(we)};ct(()=>n.activeKey,()=>{n.activeKey!==void 0&&(S.value=n.activeKey)},{immediate:!0}),ct(S,we=>{kn(()=>{we!==null&&ie({key:we})})},{immediate:!0,flush:"post"});const xe=we=>{n.expandedKeys===void 0&&(p.value=we)},J=()=>{b.draggingNodeKey!==null&&O(b,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),C=null,E=null},se=(we,Ie)=>{const{onDragend:Ue}=n;b.dragOverNodeKey=null,J(),Ue==null||Ue({event:we,node:Ie.eventData}),R=null},ee=we=>{se(we,null),window.removeEventListener("dragend",ee)},ne=(we,Ie)=>{const{onDragstart:Ue}=n,{eventKey:Ye,eventData:Ke}=Ie;R=Ie,C={x:we.clientX,y:we.clientY};const ut=ml(p.value,Ye);b.draggingNodeKey=Ye,b.dragChildrenKeys=ube(Ye,m.value),l.value=T.value.getIndentWidth(),xe(ut),window.addEventListener("dragend",ee),Ue&&Ue({event:we,node:Ke})},ue=(we,Ie)=>{const{onDragenter:Ue,onExpand:Ye,allowDrop:Ke,direction:ut}=n,{pos:ot,eventKey:Et}=Ie;if(E!==Et&&(E=Et),!R){Z();return}const{dropPosition:Ae,dropLevelOffset:it,dropTargetKey:$e,dropContainerKey:We,dropTargetPos:gt,dropAllowed:yt,dragOverNodeKey:Dt}=SU(we,R,Ie,l.value,C,Ke,H.value,m.value,I.value,ut);if(b.dragChildrenKeys.indexOf($e)!==-1||!yt){Z();return}if(a||(a={}),Object.keys(a).forEach(Xt=>{clearTimeout(a[Xt])}),R.eventKey!==Ie.eventKey&&(a[ot]=window.setTimeout(()=>{if(b.draggingNodeKey===null)return;let Xt=p.value.slice();const Un=m.value[Ie.eventKey];Un&&(Un.children||[]).length&&(Xt=Ou(p.value,Ie.eventKey)),xe(Xt),Ye&&Ye(Xt,{node:Ie.eventData,expanded:!0,nativeEvent:we})},800)),R.eventKey===$e&&it===0){Z();return}O(b,{dragOverNodeKey:Dt,dropPosition:Ae,dropLevelOffset:it,dropTargetKey:$e,dropContainerKey:We,dropTargetPos:gt,dropAllowed:yt}),Ue&&Ue({event:we,node:Ie.eventData,expandedKeys:p.value})},Y=(we,Ie)=>{const{onDragover:Ue,allowDrop:Ye,direction:Ke}=n;if(!R)return;const{dropPosition:ut,dropLevelOffset:ot,dropTargetKey:Et,dropContainerKey:Ae,dropAllowed:it,dropTargetPos:$e,dragOverNodeKey:We}=SU(we,R,Ie,l.value,C,Ye,H.value,m.value,I.value,Ke);b.dragChildrenKeys.indexOf(Et)!==-1||!it||(R.eventKey===Et&&ot===0?b.dropPosition===null&&b.dropLevelOffset===null&&b.dropTargetKey===null&&b.dropContainerKey===null&&b.dropTargetPos===null&&b.dropAllowed===!1&&b.dragOverNodeKey===null||Z():ut===b.dropPosition&&ot===b.dropLevelOffset&&Et===b.dropTargetKey&&Ae===b.dropContainerKey&&$e===b.dropTargetPos&&it===b.dropAllowed&&We===b.dragOverNodeKey||O(b,{dropPosition:ut,dropLevelOffset:ot,dropTargetKey:Et,dropContainerKey:Ae,dropTargetPos:$e,dropAllowed:it,dragOverNodeKey:We}),Ue&&Ue({event:we,node:Ie.eventData}))},le=(we,Ie)=>{E===Ie.eventKey&&!we.currentTarget.contains(we.relatedTarget)&&(Z(),E=null);const{onDragleave:Ue}=n;Ue&&Ue({event:we,node:Ie.eventData})},fe=function(we,Ie){let Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Ye;const{dragChildrenKeys:Ke,dropPosition:ut,dropTargetKey:ot,dropTargetPos:Et,dropAllowed:Ae}=b;if(!Ae)return;const{onDrop:it}=n;if(b.dragOverNodeKey=null,J(),ot===null)return;const $e=O(O({},mS(ot,pn(P.value))),{active:((Ye=Ce.value)===null||Ye===void 0?void 0:Ye.key)===ot,data:m.value[ot].node});Ke.indexOf(ot);const We=RN(Et),gt={event:we,node:vS($e),dragNode:R?R.eventData:null,dragNodesKeys:[R.eventKey].concat(Ke),dropToGap:ut!==0,dropPosition:ut+Number(We[We.length-1])};Ue||it==null||it(gt),R=null},W=(we,Ie)=>{const{expanded:Ue,key:Ye}=Ie,Ke=H.value.filter(ot=>ot.key===Ye)[0],ut=vS(O(O({},mS(Ye,P.value)),{data:Ke.data}));xe(Ue?ml(p.value,Ye):Ou(p.value,Ye)),ce(we,ut)},X=(we,Ie)=>{const{onClick:Ue,expandAction:Ye}=n;Ye==="click"&&W(we,Ie),Ue&&Ue(we,Ie)},V=(we,Ie)=>{const{onDblclick:Ue,expandAction:Ye}=n;(Ye==="doubleclick"||Ye==="dblclick")&&W(we,Ie),Ue&&Ue(we,Ie)},Se=(we,Ie)=>{let Ue=u.value;const{onSelect:Ye,multiple:Ke}=n,{selected:ut}=Ie,ot=Ie[A.value.key],Et=!ut;Et?Ke?Ue=Ou(Ue,ot):Ue=[ot]:Ue=ml(Ue,ot);const Ae=m.value,it=Ue.map($e=>{const We=Ae[$e];return We?We.node:null}).filter($e=>$e);n.selectedKeys===void 0&&(u.value=Ue),Ye&&Ye(Ue,{event:"select",selected:Et,node:Ie,selectedNodes:it,nativeEvent:we})},pe=(we,Ie,Ue)=>{const{checkStrictly:Ye,onCheck:Ke}=n,ut=Ie[A.value.key];let ot;const Et={event:"check",node:Ie,checked:Ue,nativeEvent:we},Ae=m.value;if(Ye){const it=Ue?Ou(c.value,ut):ml(c.value,ut),$e=ml(d.value,ut);ot={checked:it,halfChecked:$e},Et.checkedNodes=it.map(We=>Ae[We]).filter(We=>We).map(We=>We.node),n.checkedKeys===void 0&&(c.value=it)}else{let{checkedKeys:it,halfCheckedKeys:$e}=Tg([...c.value,ut],!0,Ae,z.value,Q.value);if(!Ue){const We=new Set(it);We.delete(ut),{checkedKeys:it,halfCheckedKeys:$e}=Tg(Array.from(We),{checked:!1,halfCheckedKeys:$e},Ae,z.value,Q.value)}ot=it,Et.checkedNodes=[],Et.checkedNodesPositions=[],Et.halfCheckedKeys=$e,it.forEach(We=>{const gt=Ae[We];if(!gt)return;const{node:yt,pos:Dt}=gt;Et.checkedNodes.push(yt),Et.checkedNodesPositions.push({node:yt,pos:Dt})}),n.checkedKeys===void 0&&(c.value=it,d.value=$e)}Ke&&Ke(ot,Et)},_e=we=>{const Ie=we[A.value.key],Ue=new Promise((Ye,Ke)=>{const{loadData:ut,onLoad:ot}=n;if(!ut||F.value.has(Ie)||L.value.has(Ie))return null;ut(we).then(()=>{const Ae=Ou(f.value,Ie),it=ml(h.value,Ie);ot&&ot(Ae,{event:"load",node:we}),n.loadedKeys===void 0&&(f.value=Ae),h.value=it,Ye()}).catch(Ae=>{const it=ml(h.value,Ie);if(h.value=it,g[Ie]=(g[Ie]||0)+1,g[Ie]>=QSe){const $e=Ou(f.value,Ie);n.loadedKeys===void 0&&(f.value=$e),Ye()}Ke(Ae)}),h.value=Ou(h.value,Ie)});return Ue.catch(()=>{}),Ue},he=(we,Ie)=>{const{onMouseenter:Ue}=n;Ue&&Ue({event:we,node:Ie})},ge=(we,Ie)=>{const{onMouseleave:Ue}=n;Ue&&Ue({event:we,node:Ie})},me=(we,Ie)=>{const{onRightClick:Ue}=n;Ue&&(we.preventDefault(),Ue({event:we,node:Ie}))},j=we=>{const{onFocus:Ie}=n;_.value=!0,Ie&&Ie(we)},G=we=>{const{onBlur:Ie}=n;_.value=!1,re(null),Ie&&Ie(we)},ce=(we,Ie)=>{let Ue=p.value;const{onExpand:Ye,loadData:Ke}=n,{expanded:ut}=Ie,ot=Ie[A.value.key];if(w.value)return;Ue.indexOf(ot);const Et=!ut;if(Et?Ue=Ou(Ue,ot):Ue=ml(Ue,ot),xe(Ue),Ye&&Ye(Ue,{node:Ie,expanded:Et,nativeEvent:we}),Et&&Ke){const Ae=_e(Ie);Ae&&Ae.then(()=>{}).catch(it=>{const $e=ml(p.value,ot);xe($e),Promise.reject(it)})}},Ee=()=>{w.value=!0},de=()=>{setTimeout(()=>{w.value=!1})},re=we=>{const{onActiveChange:Ie}=n;S.value!==we&&(n.activeKey!==void 0&&(S.value=we),we!==null&&ie({key:we}),Ie&&Ie(we))},Ce=K(()=>S.value===null?null:H.value.find(we=>{let{key:Ie}=we;return Ie===S.value})||null),Me=we=>{let Ie=H.value.findIndex(Ye=>{let{key:Ke}=Ye;return Ke===S.value});Ie===-1&&we<0&&(Ie=H.value.length),Ie=(Ie+we+H.value.length)%H.value.length;const Ue=H.value[Ie];if(Ue){const{key:Ye}=Ue;re(Ye)}else re(null)},Ve=K(()=>vS(O(O({},mS(S.value,P.value)),{data:Ce.value.data,active:!0}))),dt=we=>{const{onKeydown:Ie,checkable:Ue,selectable:Ye}=n;switch(we.which){case at.UP:{Me(-1),we.preventDefault();break}case at.DOWN:{Me(1),we.preventDefault();break}}const Ke=Ce.value;if(Ke&&Ke.data){const ut=Ke.data.isLeaf===!1||!!(Ke.data.children||[]).length,ot=Ve.value;switch(we.which){case at.LEFT:{ut&&I.value.has(S.value)?ce({},ot):Ke.parent&&re(Ke.parent.key),we.preventDefault();break}case at.RIGHT:{ut&&!I.value.has(S.value)?ce({},ot):Ke.children&&Ke.children.length&&re(Ke.children[0].key),we.preventDefault();break}case at.ENTER:case at.SPACE:{Ue&&!ot.disabled&&ot.checkable!==!1&&!ot.disableCheckbox?pe({},ot,!$.value.has(S.value)):!Ue&&Ye&&!ot.disabled&&ot.selectable!==!1&&Se({},ot);break}}}Ie&&Ie(we)};return o({onNodeExpand:ce,scrollTo:ie,onKeydown:dt,selectedKeys:K(()=>u.value),checkedKeys:K(()=>c.value),halfCheckedKeys:K(()=>d.value),loadedKeys:K(()=>f.value),loadingKeys:K(()=>h.value),expandedKeys:K(()=>p.value)}),al(()=>{window.removeEventListener("dragend",ee),s.value=!0}),ibe({expandedKeys:p,selectedKeys:u,loadedKeys:f,loadingKeys:h,checkedKeys:c,halfCheckedKeys:d,expandedKeysSet:I,selectedKeysSet:D,loadedKeysSet:F,loadingKeysSet:L,checkedKeysSet:$,halfCheckedKeysSet:U,flattenNodes:H}),()=>{const{draggingNodeKey:we,dropLevelOffset:Ie,dropContainerKey:Ue,dropTargetKey:Ye,dropPosition:Ke,dragOverNodeKey:ut}=b,{prefixCls:ot,showLine:Et,focusable:Ae,tabindex:it=0,selectable:$e,showIcon:We,icon:gt=r.icon,switcherIcon:yt,draggable:Dt,checkable:Xt,checkStrictly:Un,disabled:nn,motion:Ti,loadData:Xi,filterTreeNode:Fr,height:ul,itemHeight:Mr,virtual:gs,dropIndicatorRender:Nc,onContextmenu:Oc,onScroll:Aa,direction:Gs,rootClassName:Vs,rootStyle:Jl}=n,{class:eu,style:tu}=i,Dc=Uh(O(O({},n),i),{aria:!0,data:!0});let Ta;return Dt?typeof Dt=="object"?Ta=Dt:typeof Dt=="function"?Ta={nodeDraggable:Dt}:Ta={}:Ta=!1,N(nbe,{value:{prefixCls:ot,selectable:$e,showIcon:We,icon:gt,switcherIcon:yt,draggable:Ta,draggingNodeKey:we,checkable:Xt,customCheckable:r.checkable,checkStrictly:Un,disabled:nn,keyEntities:m.value,dropLevelOffset:Ie,dropContainerKey:Ue,dropTargetKey:Ye,dropPosition:Ke,dragOverNodeKey:ut,dragging:we!==null,indent:l.value,direction:Gs,dropIndicatorRender:Nc,loadData:Xi,filterTreeNode:Fr,onNodeClick:X,onNodeDoubleClick:V,onNodeExpand:ce,onNodeSelect:Se,onNodeCheck:pe,onNodeLoad:_e,onNodeMouseEnter:he,onNodeMouseLeave:ge,onNodeContextMenu:me,onNodeDragStart:ne,onNodeDragEnter:ue,onNodeDragOver:Y,onNodeDragLeave:le,onNodeDragEnd:se,onNodeDrop:fe,slots:r}},{default:()=>[N("div",{role:"tree",class:Qe(ot,eu,Vs,{[`${ot}-show-line`]:Et,[`${ot}-focused`]:_.value,[`${ot}-active-focused`]:S.value!==null}),style:Jl},[N(XSe,ve({ref:T,prefixCls:ot,style:tu,disabled:nn,selectable:$e,checkable:!!Xt,motion:Ti,height:ul,itemHeight:Mr,virtual:gs,focusable:Ae,focused:_.value,tabindex:it,activeItem:Ce.value,onFocus:j,onBlur:G,onKeydown:dt,onActiveChange:re,onListChangeStart:Ee,onListChangeEnd:de,onContextmenu:Oc,onScroll:Aa},Dc),null)])]})}}});var JSe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function o4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){ewe(n,o,i[o])})}return n}function ewe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var X1=function(e,i){var r=o4({},e,i.attrs);return N(Tn,o4({},r,{icon:JSe}),null)};X1.displayName="FileOutlined";X1.inheritAttrs=!1;var twe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function s4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){nwe(n,o,i[o])})}return n}function nwe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var UN=function(e,i){var r=s4({},e,i.attrs);return N(Tn,s4({},r,{icon:twe}),null)};UN.displayName="MinusSquareOutlined";UN.inheritAttrs=!1;var iwe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function a4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){rwe(n,o,i[o])})}return n}function rwe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var kN=function(e,i){var r=a4({},e,i.attrs);return N(Tn,a4({},r,{icon:iwe}),null)};kN.displayName="PlusSquareOutlined";kN.inheritAttrs=!1;var owe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function l4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){swe(n,o,i[o])})}return n}function swe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var zN=function(e,i){var r=l4({},e,i.attrs);return N(Tn,l4({},r,{icon:owe}),null)};zN.displayName="CaretDownFilled";zN.inheritAttrs=!1;function awe(n,e,i,r,o){const{isLeaf:s,expanded:a,loading:l}=i;let u=e;if(l)return N(zl,{class:`${n}-switcher-loading-icon`},null);let c;o&&typeof o=="object"&&(c=o.showLeafIcon);let d=null;const f=`${n}-switcher-icon`;return s?o?c&&r?r(i):(typeof o=="object"&&!c?d=N("span",{class:`${n}-switcher-leaf-line`},null):d=N(X1,{class:`${n}-switcher-line-icon`},null),d):null:(d=N(zN,{class:f},null),o&&(d=a?N(UN,{class:`${n}-switcher-line-icon`},null):N(kN,{class:`${n}-switcher-line-icon`},null)),typeof e=="function"?u=e(O(O({},i),{defaultIcon:d,switcherCls:f})):mo(u)&&(u=ds(u,{class:f})),u||d)}const u4=4;function lwe(n){const{dropPosition:e,dropLevelOffset:i,prefixCls:r,indent:o,direction:s="ltr"}=n,a=s==="ltr"?"left":"right",l=s==="ltr"?"right":"left",u={[a]:`${-i*o+u4}px`,[l]:0};switch(e){case-1:u.top="-3px";break;case 1:u.bottom="-3px";break;default:u.bottom="-3px",u[a]=`${o+u4}px`;break}return N("div",{style:u,class:`${r}-drop-indicator`},null)}const uwe=new Dn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),cwe=(n,e)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${e.motionDurationSlow}`}}}),dwe=(n,e)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,borderRadius:"50%",content:'""'}}}),fwe=(n,e)=>{const{treeCls:i,treeNodeCls:r,treeNodePadding:o,treeTitleHeight:s}=e,a=(s-e.fontSizeLG)/2,l=e.paddingXS;return{[i]:O(O({},di(e)),{background:e.colorBgContainer,borderRadius:e.borderRadius,transition:`background-color ${e.motionDurationSlow}`,[`&${i}-rtl`]:{[`${i}-switcher`]:{"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${i}-active-focused)`]:O({},uc(e)),[`${i}-list-holder-inner`]:{alignItems:"flex-start"},[`&${i}-block-node`]:{[`${i}-list-holder-inner`]:{alignItems:"stretch",[`${i}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,border:`1px solid ${e.colorPrimary}`,opacity:0,animationName:uwe,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${r}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${o}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${i}-node-content-wrapper`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${i}-node-content-wrapper`]:O({},uc(e)),[`&:not(${r}-disabled).filter-node ${i}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${i}-draggable-icon`]:{width:s,lineHeight:`${s}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${e.motionDurationSlow}`,[`${r}:hover &`]:{opacity:.45}},[`&${r}-disabled`]:{[`${i}-draggable-icon`]:{visibility:"hidden"}}}},[`${i}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${i}-draggable-icon`]:{visibility:"hidden"},[`${i}-switcher`]:O(O({},cwe(n,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:s,margin:0,lineHeight:`${s}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-o,marginInlineStart:-1,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:s/2*.8,height:s/2,borderBottom:`1px solid ${e.colorBorder}`,content:'""'}}}),[`${i}-checkbox`]:{top:"initial",marginInlineEnd:l,marginBlockStart:a},[`${i}-node-content-wrapper, ${i}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:s,margin:0,padding:`0 ${e.paddingXS/2}px`,color:"inherit",lineHeight:`${s}px`,background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:e.controlItemBgHover},[`&${i}-node-selected`]:{backgroundColor:e.controlItemBgActive},[`${i}-iconEle`]:{display:"inline-block",width:s,height:s,lineHeight:`${s}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${i}-unselectable ${i}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${i}-node-content-wrapper`]:O({lineHeight:`${s}px`,userSelect:"none"},dwe(n,e)),[`${r}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${e.colorPrimary}`}},"&-show-line":{[`${i}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-o,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${i}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last`]:{[`${i}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${s/2}px !important`}}}}})}},hwe=n=>{const{treeCls:e,treeNodeCls:i,treeNodePadding:r}=n;return{[`${e}${e}-directory`]:{[i]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:r,insetInlineStart:0,transition:`background-color ${n.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:n.controlItemBgHover}},"> *":{zIndex:1},[`${e}-switcher`]:{transition:`color ${n.motionDurationMid}`},[`${e}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${e}-node-selected`]:{color:n.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:n.colorPrimary},[`${e}-switcher`]:{color:n.colorTextLightSolid},[`${e}-node-content-wrapper`]:{color:n.colorTextLightSolid,background:"transparent"}}}}}},pwe=(n,e)=>{const i=`.${n}`,r=`${i}-treenode`,o=e.paddingXS/2,s=e.controlHeightSM,a=On(e,{treeCls:i,treeNodeCls:r,treeNodePadding:o,treeTitleHeight:s});return[fwe(n,a),hwe(a)]},gwe=Bi("Tree",(n,e)=>{let{prefixCls:i}=e;return[{[n.componentCls]:d9(`${i}-checkbox`,n)},pwe(i,n),oN(n)]}),k9=()=>{const n=s9();return O(O({},n),{showLine:Pi([Boolean,Object]),multiple:It(),autoExpandParent:It(),checkStrictly:It(),checkable:It(),disabled:It(),defaultExpandAll:It(),defaultExpandParent:It(),defaultExpandedKeys:Ii(),expandedKeys:Ii(),checkedKeys:Pi([Array,Object]),defaultCheckedKeys:Ii(),selectedKeys:Ii(),defaultSelectedKeys:Ii(),selectable:It(),loadedKeys:Ii(),draggable:It(),showIcon:It(),icon:pt(),switcherIcon:be.any,prefixCls:String,replaceFields:vn(),blockNode:It(),openAnimation:be.any,onDoubleclick:n.onDblclick,"onUpdate:selectedKeys":pt(),"onUpdate:checkedKeys":pt(),"onUpdate:expandedKeys":pt()})},_S=je({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:fi(k9(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(n,e){let{attrs:i,expose:r,emit:o,slots:s}=e;n.treeData===void 0&&s.default;const{prefixCls:a,direction:l,virtual:u}=tn("tree",n),[c,d]=gwe(a),f=Ge();r({treeRef:f,onNodeExpand:function(){var y;(y=f.value)===null||y===void 0||y.onNodeExpand(...arguments)},scrollTo:y=>{var m;(m=f.value)===null||m===void 0||m.scrollTo(y)},selectedKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.selectedKeys}),checkedKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.checkedKeys}),halfCheckedKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.halfCheckedKeys}),loadedKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.loadedKeys}),loadingKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.loadingKeys}),expandedKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.expandedKeys})}),ln(()=>{gi(n.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const p=(y,m)=>{o("update:checkedKeys",y),o("check",y,m)},g=(y,m)=>{o("update:expandedKeys",y),o("expand",y,m)},b=(y,m)=>{o("update:selectedKeys",y),o("select",y,m)};return()=>{const{showIcon:y,showLine:m,switcherIcon:_=s.switcherIcon,icon:S=s.icon,blockNode:w,checkable:A,selectable:T,fieldNames:C=n.replaceFields,motion:R=n.openAnimation,itemHeight:E=28,onDoubleclick:P,onDblclick:I}=n,D=O(O(O({},i),Ai(n,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!m,dropIndicatorRender:lwe,fieldNames:C,icon:S,itemHeight:E}),F=s.default?Fo(s.default()):void 0;return c(N(ZSe,ve(ve({},D),{},{virtual:u.value,motion:R,ref:f,prefixCls:a.value,class:Qe({[`${a.value}-icon-hide`]:!y,[`${a.value}-block-node`]:w,[`${a.value}-unselectable`]:!T,[`${a.value}-rtl`]:l.value==="rtl"},i.class,d.value),direction:l.value,checkable:A,selectable:T,switcherIcon:L=>awe(a.value,_,L,s.leafIcon,m),onCheck:p,onExpand:g,onSelect:b,onDblclick:I||P,children:F}),O(O({},s),{checkable:()=>N("span",{class:`${a.value}-checkbox-inner`},null)})))}}});var mwe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function c4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){vwe(n,o,i[o])})}return n}function vwe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var HN=function(e,i){var r=c4({},e,i.attrs);return N(Tn,c4({},r,{icon:mwe}),null)};HN.displayName="FolderOpenOutlined";HN.inheritAttrs=!1;var ywe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function d4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){bwe(n,o,i[o])})}return n}function bwe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var GN=function(e,i){var r=d4({},e,i.attrs);return N(Tn,d4({},r,{icon:ywe}),null)};GN.displayName="FolderOutlined";GN.inheritAttrs=!1;var Bu;(function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"})(Bu||(Bu={}));function VN(n,e,i){function r(o){const s=o[e.key],a=o[e.children];i(s,o)!==!1&&VN(a||[],e,i)}n.forEach(r)}function xwe(n){let{treeData:e,expandedKeys:i,startKey:r,endKey:o,fieldNames:s={title:"title",key:"key",children:"children"}}=n;const a=[];let l=Bu.None;if(r&&r===o)return[r];if(!r||!o)return[];function u(c){return c===r||c===o}return VN(e,s,c=>{if(l===Bu.End)return!1;if(u(c)){if(a.push(c),l===Bu.None)l=Bu.Start;else if(l===Bu.Start)return l=Bu.End,!1}else l===Bu.Start&&a.push(c);return i.includes(c)}),a}function $T(n,e,i){const r=[...e],o=[];return VN(n,i,(s,a)=>{const l=r.indexOf(s);return l!==-1&&(o.push(a),r.splice(l,1)),!!r.length}),o}var _we=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Swe=()=>O(O({},k9()),{expandAction:Pi([Boolean,String])});function wwe(n){const{isLeaf:e,expanded:i}=n;return N(e?X1:i?HN:GN,null,null)}const UT=je({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:fi(Swe(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(n,e){let{attrs:i,slots:r,emit:o,expose:s}=e;var a;const l=Ge(n.treeData||sR(Fo((a=r.default)===null||a===void 0?void 0:a.call(r))));ct(()=>n.treeData,()=>{l.value=n.treeData}),Ca(()=>{kn(()=>{var E;n.treeData===void 0&&r.default&&(l.value=sR(Fo((E=r.default)===null||E===void 0?void 0:E.call(r))))})});const u=Ge(),c=Ge(),d=K(()=>H1(n.fieldNames)),f=Ge();s({scrollTo:E=>{var P;(P=f.value)===null||P===void 0||P.scrollTo(E)},selectedKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.selectedKeys}),checkedKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.checkedKeys}),halfCheckedKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.halfCheckedKeys}),loadedKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.loadedKeys}),loadingKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.loadingKeys}),expandedKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.expandedKeys})});const p=()=>{const{keyEntities:E}=PN(l.value,{fieldNames:d.value});let P;return n.defaultExpandAll?P=Object.keys(E):n.defaultExpandParent?P=oR(n.expandedKeys||n.defaultExpandedKeys||[],E):P=n.expandedKeys||n.defaultExpandedKeys,P},g=Ge(n.selectedKeys||n.defaultSelectedKeys||[]),b=Ge(p());ct(()=>n.selectedKeys,()=>{n.selectedKeys!==void 0&&(g.value=n.selectedKeys)},{immediate:!0}),ct(()=>n.expandedKeys,()=>{n.expandedKeys!==void 0&&(b.value=n.expandedKeys)},{immediate:!0});const m=QI((E,P)=>{const{isLeaf:I}=P;I||E.shiftKey||E.metaKey||E.ctrlKey||f.value.onNodeExpand(E,P)},200,{leading:!0}),_=(E,P)=>{n.expandedKeys===void 0&&(b.value=E),o("update:expandedKeys",E),o("expand",E,P)},S=(E,P)=>{const{expandAction:I}=n;I==="click"&&m(E,P),o("click",E,P)},w=(E,P)=>{const{expandAction:I}=n;(I==="dblclick"||I==="doubleclick")&&m(E,P),o("doubleclick",E,P),o("dblclick",E,P)},A=(E,P)=>{const{multiple:I}=n,{node:D,nativeEvent:F}=P,L=D[d.value.key],$=O(O({},P),{selected:!0}),U=(F==null?void 0:F.ctrlKey)||(F==null?void 0:F.metaKey),k=F==null?void 0:F.shiftKey;let H;I&&U?(H=E,u.value=L,c.value=H,$.selectedNodes=$T(l.value,H,d.value)):I&&k?(H=Array.from(new Set([...c.value||[],...xwe({treeData:l.value,expandedKeys:b.value,startKey:L,endKey:u.value,fieldNames:d.value})])),$.selectedNodes=$T(l.value,H,d.value)):(H=[L],u.value=L,c.value=H,$.selectedNodes=$T(l.value,H,d.value)),o("update:selectedKeys",H),o("select",H,$),n.selectedKeys===void 0&&(g.value=H)},T=(E,P)=>{o("update:checkedKeys",E),o("check",E,P)},{prefixCls:C,direction:R}=tn("tree",n);return()=>{const E=Qe(`${C.value}-directory`,{[`${C.value}-directory-rtl`]:R.value==="rtl"},i.class),{icon:P=r.icon,blockNode:I=!0}=n,D=_we(n,["icon","blockNode"]);return N(_S,ve(ve(ve({},i),{},{icon:P||wwe,ref:f,blockNode:I},D),{},{prefixCls:C.value,class:E,expandedKeys:b.value,selectedKeys:g.value,onSelect:A,onClick:S,onDblclick:w,onExpand:_,onCheck:T}),r)}}}),kT=rR,Cwe=O(_S,{DirectoryTree:UT,TreeNode:kT,install:n=>(n.component(_S.name,_S),n.component(kT.name,kT),n.component(UT.name,UT),n)});function f4(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=new Set;function o(s,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const u=r.has(s);if(EG(!u,"Warning: There may be circular references"),u)return!1;if(s===a)return!0;if(i&&l>1)return!1;r.add(s);const c=l+1;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(let d=0;d<s.length;d++)if(!o(s[d],a[d],c))return!1;return!0}if(s&&a&&typeof s=="object"&&typeof a=="object"){const d=Object.keys(s);return d.length!==Object.keys(a).length?!1:d.every(f=>o(s[f],a[f],c))}return!1}return o(n,e)}const{SubMenu:Awe,Item:Twe}=pa;function Ewe(n){return n.some(e=>{let{children:i}=e;return i&&i.length>0})}function z9(n,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(n.trim().toLowerCase()):!1}function H9(n){let{filters:e,prefixCls:i,filteredKeys:r,filterMultiple:o,searchValue:s,filterSearch:a}=n;return e.map((l,u)=>{const c=String(l.value);if(l.children)return N(Awe,{key:c||u,title:l.text,popupClassName:`${i}-dropdown-submenu`},{default:()=>[H9({filters:l.children,prefixCls:i,filteredKeys:r,filterMultiple:o,searchValue:s,filterSearch:a})]});const d=o?Ol:Qo,f=N(Twe,{key:l.value!==void 0?c:u},{default:()=>[N(d,{checked:r.includes(c)},null),N("span",null,[l.text])]});return s.trim()?typeof a=="function"?a(s,l)?f:void 0:z9(s,l.text)?f:void 0:f})}const Mwe=je({name:"FilterDropdown",props:["tablePrefixCls","prefixCls","dropdownPrefixCls","column","filterState","filterMultiple","filterMode","filterSearch","columnKey","triggerFilter","locale","getPopupContainer"],setup(n,e){let{slots:i}=e;const r=ON(),o=K(()=>{var ie;return(ie=n.filterMode)!==null&&ie!==void 0?ie:"menu"}),s=K(()=>{var ie;return(ie=n.filterSearch)!==null&&ie!==void 0?ie:!1}),a=K(()=>n.column.filterDropdownOpen||n.column.filterDropdownVisible),l=K(()=>n.column.onFilterDropdownOpenChange||n.column.onFilterDropdownVisibleChange),u=Oe(!1),c=K(()=>{var ie;return!!(n.filterState&&(!((ie=n.filterState.filteredKeys)===null||ie===void 0)&&ie.length||n.filterState.forceFiltered))}),d=K(()=>{var ie;return Y1((ie=n.column)===null||ie===void 0?void 0:ie.filters)}),f=K(()=>{const{filterDropdown:ie,slots:xe={},customFilterDropdown:J}=n.column;return ie||xe.filterDropdown&&r.value[xe.filterDropdown]||J&&r.value.customFilterDropdown}),h=K(()=>{const{filterIcon:ie,slots:xe={}}=n.column;return ie||xe.filterIcon&&r.value[xe.filterIcon]||r.value.customFilterIcon}),p=ie=>{var xe;u.value=ie,(xe=l.value)===null||xe===void 0||xe.call(l,ie)},g=K(()=>typeof a.value=="boolean"?a.value:u.value),b=K(()=>{var ie;return(ie=n.filterState)===null||ie===void 0?void 0:ie.filteredKeys}),y=Oe([]),m=ie=>{let{selectedKeys:xe}=ie;y.value=xe},_=(ie,xe)=>{let{node:J,checked:se}=xe;n.filterMultiple?m({selectedKeys:ie}):m({selectedKeys:se&&J.key?[J.key]:[]})};ct(b,()=>{u.value&&m({selectedKeys:b.value||[]})},{immediate:!0});const S=Oe([]),w=Oe(),A=ie=>{w.value=setTimeout(()=>{S.value=ie})},T=()=>{clearTimeout(w.value)};Pn(()=>{clearTimeout(w.value)});const C=Oe(""),R=ie=>{const{value:xe}=ie.target;C.value=xe};ct(u,()=>{u.value||(C.value="")});const E=ie=>{const{column:xe,columnKey:J,filterState:se}=n,ee=ie&&ie.length?ie:null;if(ee===null&&(!se||!se.filteredKeys)||f4(ee,se==null?void 0:se.filteredKeys,!0))return null;n.triggerFilter({column:xe,key:J,filteredKeys:ee})},P=()=>{p(!1),E(y.value)},I=function(){let{confirm:ie,closeDropdown:xe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};ie&&E([]),xe&&p(!1),C.value="",n.column.filterResetToDefaultFilteredValue?y.value=(n.column.defaultFilteredValue||[]).map(J=>String(J)):y.value=[]},D=function(){let{closeDropdown:ie}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};ie&&p(!1),E(y.value)},F=ie=>{ie&&b.value!==void 0&&(y.value=b.value||[]),p(ie),!ie&&!f.value&&P()},{direction:L}=tn("",n),$=ie=>{if(ie.target.checked){const xe=d.value;y.value=xe}else y.value=[]},U=ie=>{let{filters:xe}=ie;return(xe||[]).map((J,se)=>{const ee=String(J.value),ne={title:J.text,key:J.value!==void 0?ee:se};return J.children&&(ne.children=U({filters:J.children})),ne})},k=ie=>{var xe;return O(O({},ie),{text:ie.title,value:ie.key,children:((xe=ie.children)===null||xe===void 0?void 0:xe.map(J=>k(J)))||[]})},H=K(()=>U({filters:n.column.filters})),z=K(()=>Qe({[`${n.dropdownPrefixCls}-menu-without-submenu`]:!Ewe(n.column.filters||[])})),Q=()=>{const ie=y.value,{column:xe,locale:J,tablePrefixCls:se,filterMultiple:ee,dropdownPrefixCls:ne,getPopupContainer:ue,prefixCls:Y}=n;return(xe.filters||[]).length===0?N(Hf,{image:Hf.PRESENTED_IMAGE_SIMPLE,description:J.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}},null):o.value==="tree"?N(mn,null,[N(QU,{filterSearch:s.value,value:C.value,onChange:R,tablePrefixCls:se,locale:J},null),N("div",{class:`${se}-filter-dropdown-tree`},[ee?N(Ol,{class:`${se}-filter-dropdown-checkall`,onChange:$,checked:ie.length===d.value.length,indeterminate:ie.length>0&&ie.length<d.value.length},{default:()=>[J.filterCheckall]}):null,N(Cwe,{checkable:!0,selectable:!1,blockNode:!0,multiple:ee,checkStrictly:!ee,class:`${ne}-menu`,onCheck:_,checkedKeys:ie,selectedKeys:ie,showIcon:!1,treeData:H.value,autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:C.value.trim()?le=>typeof s.value=="function"?s.value(C.value,k(le)):z9(C.value,le.title):void 0},null)])]):N(mn,null,[N(QU,{filterSearch:s.value,value:C.value,onChange:R,tablePrefixCls:se,locale:J},null),N(pa,{multiple:ee,prefixCls:`${ne}-menu`,class:z.value,onClick:T,onSelect:m,onDeselect:m,selectedKeys:ie,getPopupContainer:ue,openKeys:S.value,onOpenChange:A},{default:()=>H9({filters:xe.filters||[],filterSearch:s.value,prefixCls:Y,filteredKeys:y.value,filterMultiple:ee,searchValue:C.value})})])},Z=K(()=>{const ie=y.value;return n.column.filterResetToDefaultFilteredValue?f4((n.column.defaultFilteredValue||[]).map(xe=>String(xe)),ie,!0):ie.length===0});return()=>{var ie;const{tablePrefixCls:xe,prefixCls:J,column:se,dropdownPrefixCls:ee,locale:ne,getPopupContainer:ue}=n;let Y;typeof f.value=="function"?Y=f.value({prefixCls:`${ee}-custom`,setSelectedKeys:W=>m({selectedKeys:W}),selectedKeys:y.value,confirm:D,clearFilters:I,filters:se.filters,visible:g.value,column:se.__originColumn__,close:()=>{p(!1)}}):f.value?Y=f.value:Y=N(mn,null,[Q(),N("div",{class:`${J}-dropdown-btns`},[N(Us,{type:"link",size:"small",disabled:Z.value,onClick:()=>I()},{default:()=>[ne.filterReset]}),N(Us,{type:"primary",size:"small",onClick:P},{default:()=>[ne.filterConfirm]})])]);const le=N(VSe,{class:`${J}-dropdown`},{default:()=>[Y]});let fe;return typeof h.value=="function"?fe=h.value({filtered:c.value,column:se.__originColumn__}):h.value?fe=h.value:fe=N($N,null,null),N("div",{class:`${J}-column`},[N("span",{class:`${xe}-column-title`},[(ie=i.default)===null||ie===void 0?void 0:ie.call(i)]),N(Ed,{overlay:le,trigger:["click"],open:g.value,onOpenChange:F,getPopupContainer:ue,placement:L.value==="rtl"?"bottomLeft":"bottomRight"},{default:()=>[N("span",{role:"button",tabindex:-1,class:Qe(`${J}-trigger`,{active:c.value}),onClick:W=>{W.stopPropagation()}},[fe])]})])}}});function SR(n,e,i){let r=[];return(n||[]).forEach((o,s)=>{var a,l;const u=X0(s,i),c=o.filterDropdown||((a=o==null?void 0:o.slots)===null||a===void 0?void 0:a.filterDropdown)||o.customFilterDropdown;if(o.filters||c||"onFilter"in o)if("filteredValue"in o){let d=o.filteredValue;c||(d=(l=d==null?void 0:d.map(String))!==null&&l!==void 0?l:d),r.push({column:o,key:wh(o,u),filteredKeys:d,forceFiltered:o.filtered})}else r.push({column:o,key:wh(o,u),filteredKeys:e&&o.defaultFilteredValue?o.defaultFilteredValue:void 0,forceFiltered:o.filtered});"children"in o&&(r=[...r,...SR(o.children,e,u)])}),r}function G9(n,e,i,r,o,s,a,l){return i.map((u,c)=>{var d;const f=X0(c,l),{filterMultiple:h=!0,filterMode:p,filterSearch:g}=u;let b=u;const y=u.filterDropdown||((d=u==null?void 0:u.slots)===null||d===void 0?void 0:d.filterDropdown)||u.customFilterDropdown;if(b.filters||y){const m=wh(b,f),_=r.find(S=>{let{key:w}=S;return m===w});b=O(O({},b),{title:S=>N(Mwe,{tablePrefixCls:n,prefixCls:`${n}-filter`,dropdownPrefixCls:e,column:b,columnKey:m,filterState:_,filterMultiple:h,filterMode:p,filterSearch:g,triggerFilter:s,locale:o,getPopupContainer:a},{default:()=>[FN(u.title,S)]})})}return"children"in b&&(b=O(O({},b),{children:G9(n,e,b.children,r,o,s,a,f)})),b})}function Y1(n){let e=[];return(n||[]).forEach(i=>{let{value:r,children:o}=i;e.push(r),o&&(e=[...e,...Y1(o)])}),e}function h4(n){const e={};return n.forEach(i=>{let{key:r,filteredKeys:o,column:s}=i;var a;const l=s.filterDropdown||((a=s==null?void 0:s.slots)===null||a===void 0?void 0:a.filterDropdown)||s.customFilterDropdown,{filters:u}=s;if(l)e[r]=o||null;else if(Array.isArray(o)){const c=Y1(u);e[r]=c.filter(d=>o.includes(String(d)))}else e[r]=null}),e}function p4(n,e){return e.reduce((i,r)=>{const{column:{onFilter:o,filters:s},filteredKeys:a}=r;return o&&a&&a.length?i.filter(l=>a.some(u=>{const c=Y1(s),d=c.findIndex(h=>String(h)===String(u)),f=d!==-1?c[d]:u;return o(f,l)})):i},n)}function V9(n){return n.flatMap(e=>"children"in e?[e,...V9(e.children||[])]:[e])}function Rwe(n){let{prefixCls:e,dropdownPrefixCls:i,mergedColumns:r,locale:o,onFilterChange:s,getPopupContainer:a}=n;const l=K(()=>V9(r.value)),[u,c]=Wn(SR(l.value,!0)),d=K(()=>{const g=SR(l.value,!1);if(g.length===0)return g;let b=!0,y=!0;if(g.forEach(m=>{let{filteredKeys:_}=m;_!==void 0?b=!1:y=!1}),b){const m=(l.value||[]).map((_,S)=>wh(_,X0(S)));return u.value.filter(_=>{let{key:S}=_;return m.includes(S)}).map(_=>{const S=l.value[m.findIndex(w=>w===_.key)];return O(O({},_),{column:O(O({},_.column),S),forceFiltered:S.filtered})})}return gi(y,"Table","Columns should all contain `filteredValue` or not contain `filteredValue`."),g}),f=K(()=>h4(d.value)),h=g=>{const b=d.value.filter(y=>{let{key:m}=y;return m!==g.key});b.push(g),c(b),s(h4(b),b)};return[g=>G9(e.value,i.value,g,d.value,o.value,h,a.value),d,f]}function W9(n,e){return n.map(i=>{const r=O({},i);return r.title=FN(r.title,e),"children"in r&&(r.children=W9(r.children,e)),r})}function Pwe(n){return[i=>W9(i,n.value)]}function Iwe(n){return function(i){let{prefixCls:r,onExpand:o,record:s,expanded:a,expandable:l}=i;const u=`${r}-row-expand-icon`;return N("button",{type:"button",onClick:c=>{o(s,c),c.stopPropagation()},class:Qe(u,{[`${u}-spaced`]:!l,[`${u}-expanded`]:l&&a,[`${u}-collapsed`]:l&&!a}),"aria-label":a?n.collapse:n.expand,"aria-expanded":a},null)}}function j9(n,e){const i=e.value;return n.map(r=>{var o;if(r===Lu||r===gd)return r;const s=O({},r),{slots:a={}}=s;return s.__originColumn__=r,gi(!("slots"in s),"Table","`column.slots` is deprecated. Please use `v-slot:headerCell` `v-slot:bodyCell` instead."),Object.keys(a).forEach(l=>{const u=a[l];s[l]===void 0&&i[u]&&(s[l]=i[u])}),e.value.headerCell&&!(!((o=r.slots)===null||o===void 0)&&o.title)&&(s.title=A1(e.value,"headerCell",{title:r.title,column:r},()=>[r.title])),"children"in s&&Array.isArray(s.children)&&(s.children=j9(s.children,e)),s})}function Nwe(n){return[i=>j9(i,n)]}const Owe=n=>{const{componentCls:e}=n,i=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`,r=(o,s,a)=>({[`&${e}-${o}`]:{[`> ${e}-container`]:{[`> ${e}-content, > ${e}-body`]:{"> table > tbody > tr > td":{[`> ${e}-expanded-row-fixed`]:{margin:`-${s}px -${a+n.lineWidth}px`}}}}}});return{[`${e}-wrapper`]:{[`${e}${e}-bordered`]:O(O(O({[`> ${e}-title`]:{border:i,borderBottom:0},[`> ${e}-container`]:{borderInlineStart:i,[`
            > ${e}-content,
            > ${e}-header,
            > ${e}-body,
            > ${e}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:i},"> thead":{"> tr:not(:last-child) > th":{borderBottom:i},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${e}-cell-fix-right-first::after`]:{borderInlineEnd:i}},"> tbody > tr > td":{[`> ${e}-expanded-row-fixed`]:{margin:`-${n.tablePaddingVertical}px -${n.tablePaddingHorizontal+n.lineWidth}px`,"&::after":{position:"absolute",top:0,insetInlineEnd:n.lineWidth,bottom:0,borderInlineEnd:i,content:'""'}}}}},[`
            > ${e}-content,
            > ${e}-header
          `]:{"> table":{borderTop:i}}},[`&${e}-scroll-horizontal`]:{[`> ${e}-container > ${e}-body`]:{"> table > tbody":{[`
                > tr${e}-expanded-row,
                > tr${e}-placeholder
              `]:{"> td":{borderInlineEnd:0}}}}}},r("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle)),r("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall)),{[`> ${e}-footer`]:{border:i,borderTop:0}}),[`${e}-cell`]:{[`${e}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${n.lineWidth}px 0 ${n.lineWidth}px ${n.tableHeaderBg}`}}}}},Dwe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-cell-ellipsis`]:O(O({},Fl),{wordBreak:"keep-all",[`
          &${e}-cell-fix-left-last,
          &${e}-cell-fix-right-first
        `]:{overflow:"visible",[`${e}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${e}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},Lwe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-tbody > tr${e}-placeholder`]:{textAlign:"center",color:n.colorTextDisabled,"&:hover > td":{background:n.colorBgContainer}}}}},Bwe=n=>{const{componentCls:e,antCls:i,controlInteractiveSize:r,motionDurationSlow:o,lineWidth:s,paddingXS:a,lineType:l,tableBorderColor:u,tableExpandIconBg:c,tableExpandColumnWidth:d,borderRadius:f,fontSize:h,fontSizeSM:p,lineHeight:g,tablePaddingVertical:b,tablePaddingHorizontal:y,tableExpandedRowBg:m,paddingXXS:_}=n,S=r/2-s,w=S*2+s*3,A=`${s}px ${l} ${u}`,T=_-s;return{[`${e}-wrapper`]:{[`${e}-expand-icon-col`]:{width:d},[`${e}-row-expand-icon-cell`]:{textAlign:"center",[`${e}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${e}-row-indent`]:{height:1,float:"left"},[`${e}-row-expand-icon`]:O(O({},qae(n)),{position:"relative",float:"left",boxSizing:"border-box",width:w,height:w,padding:0,color:"inherit",lineHeight:`${w}px`,background:c,border:A,borderRadius:f,transform:`scale(${r/w})`,transition:`all ${o}`,userSelect:"none","&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${o} ease-out`,content:'""'},"&::before":{top:S,insetInlineEnd:T,insetInlineStart:T,height:s},"&::after":{top:T,bottom:T,insetInlineStart:S,width:s,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${e}-row-indent + ${e}-row-expand-icon`]:{marginTop:(h*g-s*3)/2-Math.ceil((p*1.4-s*3)/2),marginInlineEnd:a},[`tr${e}-expanded-row`]:{"&, &:hover":{"> td":{background:m}},[`${i}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"auto"}}},[`${e}-expanded-row-fixed`]:{position:"relative",margin:`-${b}px -${y}px`,padding:`${b}px ${y}px`}}}},Fwe=n=>{const{componentCls:e,antCls:i,iconCls:r,tableFilterDropdownWidth:o,tableFilterDropdownSearchWidth:s,paddingXXS:a,paddingXS:l,colorText:u,lineWidth:c,lineType:d,tableBorderColor:f,tableHeaderIconColor:h,fontSizeSM:p,tablePaddingHorizontal:g,borderRadius:b,motionDurationSlow:y,colorTextDescription:m,colorPrimary:_,tableHeaderFilterActiveBg:S,colorTextDisabled:w,tableFilterDropdownBg:A,tableFilterDropdownHeight:T,controlItemBgHover:C,controlItemBgActive:R,boxShadowSecondary:E}=n,P=`${i}-dropdown`,I=`${e}-filter-dropdown`,D=`${i}-tree`,F=`${c}px ${d} ${f}`;return[{[`${e}-wrapper`]:{[`${e}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${e}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:-a,marginInline:`${a}px ${-g/2}px`,padding:`0 ${a}px`,color:h,fontSize:p,borderRadius:b,cursor:"pointer",transition:`all ${y}`,"&:hover":{color:m,background:S},"&.active":{color:_}}}},{[`${i}-dropdown`]:{[I]:O(O({},di(n)),{minWidth:o,backgroundColor:A,borderRadius:b,boxShadow:E,[`${P}-menu`]:{maxHeight:T,overflowX:"hidden",border:0,boxShadow:"none","&:empty::after":{display:"block",padding:`${l}px 0`,color:w,fontSize:p,textAlign:"center",content:'"Not Found"'}},[`${I}-tree`]:{paddingBlock:`${l}px 0`,paddingInline:l,[D]:{padding:0},[`${D}-treenode ${D}-node-content-wrapper:hover`]:{backgroundColor:C},[`${D}-treenode-checkbox-checked ${D}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:R}}},[`${I}-search`]:{padding:l,borderBottom:F,"&-input":{input:{minWidth:s},[r]:{color:w}}},[`${I}-checkall`]:{width:"100%",marginBottom:a,marginInlineStart:a},[`${I}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${l-c}px ${l}px`,overflow:"hidden",backgroundColor:"inherit",borderTop:F}})}},{[`${i}-dropdown ${I}, ${I}-submenu`]:{[`${i}-checkbox-wrapper + span`]:{paddingInlineStart:l,color:u},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},$we=n=>{const{componentCls:e,lineWidth:i,colorSplit:r,motionDurationSlow:o,zIndexTableFixed:s,tableBg:a,zIndexTableSticky:l}=n,u=r;return{[`${e}-wrapper`]:{[`
        ${e}-cell-fix-left,
        ${e}-cell-fix-right
      `]:{position:"sticky !important",zIndex:s,background:a},[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:-i,width:30,transform:"translateX(100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${e}-cell-fix-left-all::after`]:{display:"none"},[`
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:-i,left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${e}-container`]:{"&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:l+1,width:30,transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${e}-ping-left`]:{[`&:not(${e}-has-fix-left) ${e}-container`]:{position:"relative","&::before":{boxShadow:`inset 10px 0 8px -8px ${u}`}},[`
          ${e}-cell-fix-left-first::after,
          ${e}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${u}`},[`${e}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${e}-ping-right`]:{[`&:not(${e}-has-fix-right) ${e}-container`]:{position:"relative","&::after":{boxShadow:`inset -10px 0 8px -8px ${u}`}},[`
          ${e}-cell-fix-right-first::after,
          ${e}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${u}`}}}}},Uwe=n=>{const{componentCls:e,antCls:i}=n;return{[`${e}-wrapper`]:{[`${e}-pagination${i}-pagination`]:{margin:`${n.margin}px 0`},[`${e}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:n.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},kwe=n=>{const{componentCls:e,tableRadius:i}=n;return{[`${e}-wrapper`]:{[e]:{[`${e}-title, ${e}-header`]:{borderRadius:`${i}px ${i}px 0 0`},[`${e}-title + ${e}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,table:{borderRadius:0,"> thead > tr:first-child":{"th:first-child":{borderRadius:0},"th:last-child":{borderRadius:0}}}},"&-container":{borderStartStartRadius:i,borderStartEndRadius:i,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:i},"> *:last-child":{borderStartEndRadius:i}}},"&-footer":{borderRadius:`0 0 ${i}px ${i}px`}}}}},zwe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${e}-pagination-left`]:{justifyContent:"flex-end"},[`${e}-pagination-right`]:{justifyContent:"flex-start"},[`${e}-row-expand-icon`]:{"&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}}}}},Hwe=n=>{const{componentCls:e,antCls:i,iconCls:r,fontSizeIcon:o,paddingXS:s,tableHeaderIconColor:a,tableHeaderIconColorHover:l}=n;return{[`${e}-wrapper`]:{[`${e}-selection-col`]:{width:n.tableSelectionColumnWidth},[`${e}-bordered ${e}-selection-col`]:{width:n.tableSelectionColumnWidth+s*2},[`
        table tr th${e}-selection-column,
        table tr td${e}-selection-column
      `]:{paddingInlineEnd:n.paddingXS,paddingInlineStart:n.paddingXS,textAlign:"center",[`${i}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${e}-selection-column${e}-cell-fix-left`]:{zIndex:n.zIndexTableFixed+1},[`table tr th${e}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${e}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${e}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:`${n.tablePaddingHorizontal/4}px`,[r]:{color:a,fontSize:o,verticalAlign:"baseline","&:hover":{color:l}}}}}},Gwe=n=>{const{componentCls:e}=n,i=(r,o,s,a)=>({[`${e}${e}-${r}`]:{fontSize:a,[`
        ${e}-title,
        ${e}-footer,
        ${e}-thead > tr > th,
        ${e}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${o}px ${s}px`},[`${e}-filter-trigger`]:{marginInlineEnd:`-${s/2}px`},[`${e}-expanded-row-fixed`]:{margin:`-${o}px -${s}px`},[`${e}-tbody`]:{[`${e}-wrapper:only-child ${e}`]:{marginBlock:`-${o}px`,marginInline:`${n.tableExpandColumnWidth-s}px -${s}px`}},[`${e}-selection-column`]:{paddingInlineStart:`${s/4}px`}}});return{[`${e}-wrapper`]:O(O({},i("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle,n.tableFontSizeMiddle)),i("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall,n.tableFontSizeSmall))}},Vwe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper ${e}-resize-handle`]:{position:"absolute",top:0,height:"100% !important",bottom:0,left:" auto !important",right:" -8px",cursor:"col-resize",touchAction:"none",userSelect:"auto",width:"16px",zIndex:1,"&-line":{display:"block",width:"1px",marginLeft:"7px",height:"100% !important",backgroundColor:n.colorPrimary,opacity:0},"&:hover &-line":{opacity:1}},[`${e}-wrapper  ${e}-resize-handle.dragging`]:{overflow:"hidden",[`${e}-resize-handle-line`]:{opacity:1},"&:before":{position:"absolute",top:0,bottom:0,content:'" "',width:"200vw",transform:"translateX(-50%)",opacity:0}}}},Wwe=n=>{const{componentCls:e,marginXXS:i,fontSizeIcon:r,tableHeaderIconColor:o,tableHeaderIconColorHover:s}=n;return{[`${e}-wrapper`]:{[`${e}-thead th${e}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{background:n.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:n.colorPrimary},[`
          &${e}-cell-fix-left:hover,
          &${e}-cell-fix-right:hover
        `]:{background:n.tableFixedHeaderSortActiveBg}},[`${e}-thead th${e}-column-sort`]:{background:n.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${e}-column-sort`]:{background:n.tableBodySortBg},[`${e}-column-title`]:{position:"relative",zIndex:1,flex:1},[`${e}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${e}-column-sorter`]:{marginInlineStart:i,color:o,fontSize:0,transition:`color ${n.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:n.colorPrimary}},[`${e}-column-sorter-up + ${e}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${e}-column-sorters:hover ${e}-column-sorter`]:{color:s}}}},jwe=n=>{const{componentCls:e,opacityLoading:i,tableScrollThumbBg:r,tableScrollThumbBgHover:o,tableScrollThumbSize:s,tableScrollBg:a,zIndexTableSticky:l}=n,u=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`;return{[`${e}-wrapper`]:{[`${e}-sticky`]:{"&-holder":{position:"sticky",zIndex:l,background:n.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${s}px !important`,zIndex:l,display:"flex",alignItems:"center",background:a,borderTop:u,opacity:i,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:s,backgroundColor:r,borderRadius:100,transition:`all ${n.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:o}}}}}}},g4=n=>{const{componentCls:e,lineWidth:i,tableBorderColor:r}=n,o=`${i}px ${n.lineType} ${r}`;return{[`${e}-wrapper`]:{[`${e}-summary`]:{position:"relative",zIndex:n.zIndexTableFixed,background:n.tableBg,"> tr":{"> th, > td":{borderBottom:o}}},[`div${e}-summary`]:{boxShadow:`0 -${i}px 0 ${r}`}}}},Kwe=n=>{const{componentCls:e,fontWeightStrong:i,tablePaddingVertical:r,tablePaddingHorizontal:o,lineWidth:s,lineType:a,tableBorderColor:l,tableFontSize:u,tableBg:c,tableRadius:d,tableHeaderTextColor:f,motionDurationMid:h,tableHeaderBg:p,tableHeaderCellSplitColor:g,tableRowHoverBg:b,tableSelectedRowBg:y,tableSelectedRowHoverBg:m,tableFooterTextColor:_,tableFooterBg:S,paddingContentVerticalLG:w}=n,A=`${s}px ${a} ${l}`;return{[`${e}-wrapper`]:O(O({clear:"both",maxWidth:"100%"},$l()),{[e]:O(O({},di(n)),{fontSize:u,background:c,borderRadius:`${d}px ${d}px 0 0`}),table:{width:"100%",textAlign:"start",borderRadius:`${d}px ${d}px 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${e}-thead > tr > th,
          ${e}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${w}px ${o}px`,overflowWrap:"break-word"},[`${e}-title`]:{padding:`${r}px ${o}px`},[`${e}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:f,fontWeight:i,textAlign:"start",background:p,borderBottom:A,transition:`background ${h} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${e}-selection-column):not(${e}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:g,transform:"translateY(-50%)",transition:`background-color ${h}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${e}:not(${e}-bordered)`]:{[`${e}-tbody`]:{"> tr":{"> td":{borderTop:A,borderBottom:"transparent"},"&:last-child > td":{borderBottom:A},[`&:first-child > td,
              &${e}-measure-row + tr > td`]:{borderTop:"none",borderTopColor:"transparent"}}}},[`${e}${e}-bordered`]:{[`${e}-tbody`]:{"> tr":{"> td":{borderBottom:A}}}},[`${e}-tbody`]:{"> tr":{"> td":{transition:`background ${h}, border-color ${h}`,[`
              > ${e}-wrapper:only-child,
              > ${e}-expanded-row-fixed > ${e}-wrapper:only-child
            `]:{[e]:{marginBlock:`-${r}px`,marginInline:`${n.tableExpandColumnWidth-o}px -${o}px`,[`${e}-tbody > tr:last-child > td`]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},[`
            &${e}-row:hover > td,
            > td${e}-cell-row-hover
          `]:{background:b},[`&${e}-row-selected`]:{"> td":{background:y},"&:hover > td":{background:m}}}},[`${e}-footer`]:{padding:`${r}px ${o}px`,color:_,background:S}})}},qwe=Bi("Table",n=>{const{controlItemBgActive:e,controlItemBgActiveHover:i,colorTextPlaceholder:r,colorTextHeading:o,colorSplit:s,colorBorderSecondary:a,fontSize:l,padding:u,paddingXS:c,paddingSM:d,controlHeight:f,colorFillAlter:h,colorIcon:p,colorIconHover:g,opacityLoading:b,colorBgContainer:y,borderRadiusLG:m,colorFillContent:_,colorFillSecondary:S,controlInteractiveSize:w}=n,A=new Gi(p),T=new Gi(g),C=e,R=2,E=new Gi(S).onBackground(y).toHexString(),P=new Gi(_).onBackground(y).toHexString(),I=new Gi(h).onBackground(y).toHexString(),D=On(n,{tableFontSize:l,tableBg:y,tableRadius:m,tablePaddingVertical:u,tablePaddingHorizontal:u,tablePaddingVerticalMiddle:d,tablePaddingHorizontalMiddle:c,tablePaddingVerticalSmall:c,tablePaddingHorizontalSmall:c,tableBorderColor:a,tableHeaderTextColor:o,tableHeaderBg:I,tableFooterTextColor:o,tableFooterBg:I,tableHeaderCellSplitColor:a,tableHeaderSortBg:E,tableHeaderSortHoverBg:P,tableHeaderIconColor:A.clone().setAlpha(A.getAlpha()*b).toRgbString(),tableHeaderIconColorHover:T.clone().setAlpha(T.getAlpha()*b).toRgbString(),tableBodySortBg:I,tableFixedHeaderSortActiveBg:E,tableHeaderFilterActiveBg:_,tableFilterDropdownBg:y,tableRowHoverBg:I,tableSelectedRowBg:C,tableSelectedRowHoverBg:i,zIndexTableFixed:R,zIndexTableSticky:R+1,tableFontSizeMiddle:l,tableFontSizeSmall:l,tableSelectionColumnWidth:f,tableExpandIconBg:y,tableExpandColumnWidth:w+2*n.padding,tableExpandedRowBg:h,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:r,tableScrollThumbBgHover:o,tableScrollBg:s});return[Kwe(D),Uwe(D),g4(D),Wwe(D),Fwe(D),Owe(D),kwe(D),Bwe(D),g4(D),Lwe(D),Hwe(D),$we(D),jwe(D),Dwe(D),Gwe(D),Vwe(D),zwe(D)]}),Xwe=[],K9=()=>({prefixCls:Nn(),columns:Ii(),rowKey:Pi([String,Function]),tableLayout:Nn(),rowClassName:Pi([String,Function]),title:pt(),footer:pt(),id:Nn(),showHeader:It(),components:vn(),customRow:pt(),customHeaderRow:pt(),direction:Nn(),expandFixed:Pi([Boolean,String]),expandColumnWidth:Number,expandedRowKeys:Ii(),defaultExpandedRowKeys:Ii(),expandedRowRender:pt(),expandRowByClick:It(),expandIcon:pt(),onExpand:pt(),onExpandedRowsChange:pt(),"onUpdate:expandedRowKeys":pt(),defaultExpandAllRows:It(),indentSize:Number,expandIconColumnIndex:Number,showExpandColumn:It(),expandedRowClassName:pt(),childrenColumnName:Nn(),rowExpandable:pt(),sticky:Pi([Boolean,Object]),dropdownPrefixCls:String,dataSource:Ii(),pagination:Pi([Boolean,Object]),loading:Pi([Boolean,Object]),size:Nn(),bordered:It(),locale:vn(),onChange:pt(),onResizeColumn:pt(),rowSelection:vn(),getPopupContainer:pt(),scroll:vn(),sortDirections:Ii(),showSorterTooltip:Pi([Boolean,Object],!0),transformCellText:pt()}),Ywe=je({name:"InternalTable",inheritAttrs:!1,props:fi(O(O({},K9()),{contextSlots:vn()}),{rowKey:"key"}),setup(n,e){let{attrs:i,slots:r,expose:o,emit:s}=e;gi(!(typeof n.rowKey=="function"&&n.rowKey.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected."),U_e(K(()=>n.contextSlots)),k_e({onResizeColumn:(pe,_e)=>{s("resizeColumn",pe,_e)}});const a=dW(),l=K(()=>{const pe=new Set(Object.keys(a.value).filter(_e=>a.value[_e]));return n.columns.filter(_e=>!_e.responsive||_e.responsive.some(he=>pe.has(he)))}),{size:u,renderEmpty:c,direction:d,prefixCls:f,configProvider:h}=tn("table",n),[p,g]=qwe(f),b=K(()=>{var pe;return n.transformCellText||((pe=h.transformCellText)===null||pe===void 0?void 0:pe.value)}),[y]=yI("Table",Ky.Table,Jn(n,"locale")),m=K(()=>n.dataSource||Xwe),_=K(()=>h.getPrefixCls("dropdown",n.dropdownPrefixCls)),S=K(()=>n.childrenColumnName||"children"),w=K(()=>m.value.some(pe=>pe==null?void 0:pe[S.value])?"nest":n.expandedRowRender?"row":null),A=Ki({body:null}),T=pe=>{O(A,pe)},C=K(()=>typeof n.rowKey=="function"?n.rowKey:pe=>pe==null?void 0:pe[n.rowKey]),[R]=ISe(m,S,C),E={},P=function(pe,_e){let he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{pagination:ge,scroll:me,onChange:j}=n,G=O(O({},E),pe);he&&(E.resetPagination(),G.pagination.current&&(G.pagination.current=1),ge&&ge.onChange&&ge.onChange(1,G.pagination.pageSize)),me&&me.scrollToFirstRowOnChange!==!1&&A.body&&dle(0,{getContainer:()=>A.body}),j==null||j(G.pagination,G.filters,G.sorter,{currentDataSource:p4(xR(m.value,G.sorterStates,S.value),G.filterStates),action:_e})},I=(pe,_e)=>{P({sorter:pe,sorterStates:_e},"sort",!1)},[D,F,L,$]=kSe({prefixCls:f,mergedColumns:l,onSorterChange:I,sortDirections:K(()=>n.sortDirections||["ascend","descend"]),tableLocale:y,showSorterTooltip:Jn(n,"showSorterTooltip")}),U=K(()=>xR(m.value,F.value,S.value)),k=(pe,_e)=>{P({filters:pe,filterStates:_e},"filter",!0)},[H,z,Q]=Rwe({prefixCls:f,locale:y,dropdownPrefixCls:_,mergedColumns:l,onFilterChange:k,getPopupContainer:Jn(n,"getPopupContainer")}),Z=K(()=>p4(U.value,z.value)),[ie]=Nwe(Jn(n,"contextSlots")),xe=K(()=>{const pe={},_e=Q.value;return Object.keys(_e).forEach(he=>{_e[he]!==null&&(pe[he]=_e[he])}),O(O({},L.value),{filters:pe})}),[J]=Pwe(xe),se=(pe,_e)=>{P({pagination:O(O({},E.pagination),{current:pe,pageSize:_e})},"paginate")},[ee,ne]=PSe(K(()=>Z.value.length),Jn(n,"pagination"),se);ln(()=>{E.sorter=$.value,E.sorterStates=F.value,E.filters=Q.value,E.filterStates=z.value,E.pagination=n.pagination===!1?{}:RSe(ee.value,n.pagination),E.resetPagination=ne});const ue=K(()=>{if(n.pagination===!1||!ee.value.pageSize)return Z.value;const{current:pe=1,total:_e,pageSize:he=gR}=ee.value;return gi(pe>0,"Table","`current` should be positive number."),Z.value.length<_e?Z.value.length>he?Z.value.slice((pe-1)*he,pe*he):Z.value:Z.value.slice((pe-1)*he,pe*he)});ln(()=>{kn(()=>{const{total:pe,pageSize:_e=gR}=ee.value;Z.value.length<pe&&Z.value.length>_e&&gi(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode.")})},{flush:"post"});const Y=K(()=>n.showExpandColumn===!1?-1:w.value==="nest"&&n.expandIconColumnIndex===void 0?n.rowSelection?1:0:n.expandIconColumnIndex>0&&n.rowSelection?n.expandIconColumnIndex-1:n.expandIconColumnIndex),le=Ge();ct(()=>n.rowSelection,()=>{le.value=n.rowSelection?O({},n.rowSelection):n.rowSelection},{deep:!0,immediate:!0});const[fe,W]=OSe(le,{prefixCls:f,data:Z,pageData:ue,getRowKey:C,getRecordByKey:R,expandType:w,childrenColumnName:S,locale:y,getPopupContainer:K(()=>n.getPopupContainer)}),X=(pe,_e,he)=>{let ge;const{rowClassName:me}=n;return typeof me=="function"?ge=Qe(me(pe,_e,he)):ge=Qe(me),Qe({[`${f.value}-row-selected`]:W.value.has(C.value(pe,_e))},ge)};o({selectedKeySet:W});const V=K(()=>typeof n.indentSize=="number"?n.indentSize:15),Se=pe=>J(fe(H(D(ie(pe)))));return()=>{var pe;const{expandIcon:_e=r.expandIcon||Iwe(y.value),pagination:he,loading:ge,bordered:me}=n;let j,G;if(he!==!1&&(!((pe=ee.value)===null||pe===void 0)&&pe.total)){let re;ee.value.size?re=ee.value.size:re=u.value==="small"||u.value==="middle"?"small":void 0;const Ce=dt=>N(Qxe,ve(ve({},ee.value),{},{class:[`${f.value}-pagination ${f.value}-pagination-${dt}`,ee.value.class],size:re}),null),Me=d.value==="rtl"?"left":"right",{position:Ve}=ee.value;if(Ve!==null&&Array.isArray(Ve)){const dt=Ve.find(Ue=>Ue.includes("top")),we=Ve.find(Ue=>Ue.includes("bottom")),Ie=Ve.every(Ue=>`${Ue}`=="none");!dt&&!we&&!Ie&&(G=Ce(Me)),dt&&(j=Ce(dt.toLowerCase().replace("top",""))),we&&(G=Ce(we.toLowerCase().replace("bottom","")))}else G=Ce(Me)}let ce;typeof ge=="boolean"?ce={spinning:ge}:typeof ge=="object"&&(ce=O({spinning:!0},ge));const Ee=Qe(`${f.value}-wrapper`,{[`${f.value}-wrapper-rtl`]:d.value==="rtl"},i.class,g.value),de=Ai(n,["columns"]);return p(N("div",{class:Ee,style:i.style},[N(Eg,ve({spinning:!1},ce),{default:()=>[j,N(ESe,ve(ve(ve({},i),de),{},{expandedRowKeys:n.expandedRowKeys,defaultExpandedRowKeys:n.defaultExpandedRowKeys,expandIconColumnIndex:Y.value,indentSize:V.value,expandIcon:_e,columns:l.value,direction:d.value,prefixCls:f.value,class:Qe({[`${f.value}-middle`]:u.value==="middle",[`${f.value}-small`]:u.value==="small",[`${f.value}-bordered`]:me,[`${f.value}-empty`]:m.value.length===0}),data:ue.value,rowKey:C.value,rowClassName:X,internalHooks:pR,internalRefs:A,onUpdateInternalRefs:T,transformColumns:Se,transformCellText:b.value}),O(O({},r),{emptyText:()=>{var re,Ce;return((re=r.emptyText)===null||re===void 0?void 0:re.call(r))||((Ce=n.locale)===null||Ce===void 0?void 0:Ce.emptyText)||c("Table")}})),G]})]))}}}),zT=je({name:"ATable",inheritAttrs:!1,props:fi(K9(),{rowKey:"key"}),slots:Object,setup(n,e){let{attrs:i,slots:r,expose:o}=e;const s=Ge();return o({table:s}),()=>{var a;const l=n.columns||F9((a=r.default)===null||a===void 0?void 0:a.call(r));return N(Ywe,ve(ve(ve({ref:s},i),n),{},{columns:l,expandedRowRender:r.expandedRowRender||n.expandedRowRender,contextSlots:O({},r)}),r)}}}),HT=je({name:"ATableColumn",slots:Object,render(){return null}}),GT=je({name:"ATableColumnGroup",slots:Object,__ANT_TABLE_COLUMN_GROUP:!0,render(){return null}}),wR=gSe,CR=ySe,VT=O(bSe,{Cell:CR,Row:wR,name:"ATableSummary"}),Qwe=O(zT,{SELECTION_ALL:mR,SELECTION_INVERT:vR,SELECTION_NONE:yR,SELECTION_COLUMN:Lu,EXPAND_COLUMN:gd,Column:HT,ColumnGroup:GT,Summary:VT,install:n=>(n.component(VT.name,VT),n.component(CR.name,CR),n.component(wR.name,wR),n.component(zT.name,zT),n.component(HT.name,HT),n.component(GT.name,GT),n)});var Zwe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};function m4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Jwe(n,o,i[o])})}return n}function Jwe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var WN=function(e,i){var r=m4({},e,i.attrs);return N(Tn,m4({},r,{icon:Zwe}),null)};WN.displayName="DeleteOutlined";WN.inheritAttrs=!1;function e1e(n,e){const i=`cannot ${n.method} ${n.action} ${e.status}'`,r=new Error(i);return r.status=e.status,r.method=n.method,r.url=n.action,r}function v4(n){const e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function t1e(n){const e=new XMLHttpRequest;n.onProgress&&e.upload&&(e.upload.onprogress=function(s){s.total>0&&(s.percent=s.loaded/s.total*100),n.onProgress(s)});const i=new FormData;n.data&&Object.keys(n.data).forEach(o=>{const s=n.data[o];if(Array.isArray(s)){s.forEach(a=>{i.append(`${o}[]`,a)});return}i.append(o,s)}),n.file instanceof Blob?i.append(n.filename,n.file,n.file.name):i.append(n.filename,n.file),e.onerror=function(s){n.onError(s)},e.onload=function(){return e.status<200||e.status>=300?n.onError(e1e(n,e),v4(e)):n.onSuccess(v4(e),e)},e.open(n.method,n.action,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=n.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(o=>{r[o]!==null&&e.setRequestHeader(o,r[o])}),e.send(i),{abort(){e.abort()}}}const n1e=+new Date;let i1e=0;function WT(){return`vc-upload-${n1e}-${++i1e}`}const jT=(n,e)=>{if(n&&e){const i=Array.isArray(e)?e:e.split(","),r=n.name||"",o=n.type||"",s=o.replace(/\/.*$/,"");return i.some(a=>{const l=a.trim();if(/^\*(\/\*)?$/.test(a))return!0;if(l.charAt(0)==="."){const u=r.toLowerCase(),c=l.toLowerCase();let d=[c];return(c===".jpg"||c===".jpeg")&&(d=[".jpg",".jpeg"]),d.some(f=>u.endsWith(f))}return/\/\*$/.test(l)?s===l.replace(/\/.*$/,""):!!(o===l||/^\w+$/.test(l))})}return!0};function r1e(n,e){const i=n.createReader();let r=[];function o(){i.readEntries(s=>{const a=Array.prototype.slice.apply(s);r=r.concat(a),!a.length?e(r):o()})}o()}const o1e=(n,e,i)=>{const r=(o,s)=>{o.path=s||"",o.isFile?o.file(a=>{i(a)&&(o.fullPath&&!a.webkitRelativePath&&(Object.defineProperties(a,{webkitRelativePath:{writable:!0}}),a.webkitRelativePath=o.fullPath.replace(/^\//,""),Object.defineProperties(a,{webkitRelativePath:{writable:!1}})),e([a]))}):o.isDirectory&&r1e(o,a=>{a.forEach(l=>{r(l,`${s}${o.name}/`)})})};n.forEach(o=>{r(o.webkitGetAsEntry())})},q9=()=>({capture:[Boolean,String],multipart:{type:Boolean,default:void 0},name:String,disabled:{type:Boolean,default:void 0},componentTag:String,action:[String,Function],method:String,directory:{type:Boolean,default:void 0},data:[Object,Function],headers:Object,accept:String,multiple:{type:Boolean,default:void 0},onBatchStart:Function,onReject:Function,onStart:Function,onError:Function,onSuccess:Function,onProgress:Function,beforeUpload:Function,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},prefixCls:String,id:String,onMouseenter:Function,onMouseleave:Function,onClick:Function});var s1e=function(n,e,i,r){function o(s){return s instanceof i?s:new i(function(a){a(s)})}return new(i||(i=Promise))(function(s,a){function l(d){try{c(r.next(d))}catch(f){a(f)}}function u(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):o(d.value).then(l,u)}c((r=r.apply(n,e||[])).next())})},a1e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const l1e=je({compatConfig:{MODE:3},name:"AjaxUploader",inheritAttrs:!1,props:q9(),setup(n,e){let{slots:i,attrs:r,expose:o}=e;const s=Ge(WT()),a={},l=Ge();let u=!1;const c=(_,S)=>s1e(this,void 0,void 0,function*(){const{beforeUpload:w}=n;let A=_;if(w){try{A=yield w(_,S)}catch{A=!1}if(A===!1)return{origin:_,parsedFile:null,action:null,data:null}}const{action:T}=n;let C;typeof T=="function"?C=yield T(_):C=T;const{data:R}=n;let E;typeof R=="function"?E=yield R(_):E=R;const P=(typeof A=="object"||typeof A=="string")&&A?A:_;let I;P instanceof File?I=P:I=new File([P],_.name,{type:_.type});const D=I;return D.uid=_.uid,{origin:_,data:E,parsedFile:D,action:C}}),d=_=>{let{data:S,origin:w,action:A,parsedFile:T}=_;if(!u)return;const{onStart:C,customRequest:R,name:E,headers:P,withCredentials:I,method:D}=n,{uid:F}=w,L=R||t1e,$={action:A,filename:E,data:S,file:T,headers:P,withCredentials:I,method:D||"post",onProgress:U=>{const{onProgress:k}=n;k==null||k(U,T)},onSuccess:(U,k)=>{const{onSuccess:H}=n;H==null||H(U,T,k),delete a[F]},onError:(U,k)=>{const{onError:H}=n;H==null||H(U,k,T),delete a[F]}};C(w),a[F]=L($)},f=()=>{s.value=WT()},h=_=>{if(_){const S=_.uid?_.uid:_;a[S]&&a[S].abort&&a[S].abort(),delete a[S]}else Object.keys(a).forEach(S=>{a[S]&&a[S].abort&&a[S].abort(),delete a[S]})};en(()=>{u=!0}),Pn(()=>{u=!1,h()});const p=_=>{const S=[..._],w=S.map(A=>(A.uid=WT(),c(A,S)));Promise.all(w).then(A=>{const{onBatchStart:T}=n;T==null||T(A.map(C=>{let{origin:R,parsedFile:E}=C;return{file:R,parsedFile:E}})),A.filter(C=>C.parsedFile!==null).forEach(C=>{d(C)})})},g=_=>{const{accept:S,directory:w}=n,{files:A}=_.target,T=[...A].filter(C=>!w||jT(C,S));p(T),f()},b=_=>{const S=l.value;if(!S)return;const{onClick:w}=n;S.click(),w&&w(_)},y=_=>{_.key==="Enter"&&b(_)},m=_=>{const{multiple:S}=n;if(_.preventDefault(),_.type!=="dragover")if(n.directory)o1e(Array.prototype.slice.call(_.dataTransfer.items),p,w=>jT(w,n.accept));else{const w=Hge(Array.prototype.slice.call(_.dataTransfer.files),C=>jT(C,n.accept));let A=w[0];const T=w[1];S===!1&&(A=A.slice(0,1)),p(A),T.length&&n.onReject&&n.onReject(T)}};return o({abort:h}),()=>{var _;const{componentTag:S,prefixCls:w,disabled:A,id:T,multiple:C,accept:R,capture:E,directory:P,openFileDialogOnClick:I,onMouseenter:D,onMouseleave:F}=n,L=a1e(n,["componentTag","prefixCls","disabled","id","multiple","accept","capture","directory","openFileDialogOnClick","onMouseenter","onMouseleave"]),$={[w]:!0,[`${w}-disabled`]:A,[r.class]:!!r.class},U=P?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return N(S,ve(ve({},A?{}:{onClick:I?b:()=>{},onKeydown:I?y:()=>{},onMouseenter:D,onMouseleave:F,onDrop:m,onDragover:m,tabindex:"0"}),{},{class:$,role:"button",style:r.style}),{default:()=>[N("input",ve(ve(ve({},Uh(L,{aria:!0,data:!0})),{},{id:T,type:"file",ref:l,onClick:H=>H.stopPropagation(),onCancel:H=>H.stopPropagation(),key:s.value,style:{display:"none"},accept:R},U),{},{multiple:C,onChange:g},E!=null?{capture:E}:{}),null),(_=i.default)===null||_===void 0?void 0:_.call(i)]})}}});function KT(){}const y4=je({compatConfig:{MODE:3},name:"Upload",inheritAttrs:!1,props:fi(q9(),{componentTag:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:KT,onError:KT,onSuccess:KT,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0}),setup(n,e){let{slots:i,attrs:r,expose:o}=e;const s=Ge();return o({abort:l=>{var u;(u=s.value)===null||u===void 0||u.abort(l)}}),()=>N(l1e,ve(ve(ve({},n),r),{},{ref:s}),i)}});var u1e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};function b4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){c1e(n,o,i[o])})}return n}function c1e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var jN=function(e,i){var r=b4({},e,i.attrs);return N(Tn,b4({},r,{icon:u1e}),null)};jN.displayName="PaperClipOutlined";jN.inheritAttrs=!1;var d1e={icon:function(e,i){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:i}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:i}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:i}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};function x4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){f1e(n,o,i[o])})}return n}function f1e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var KN=function(e,i){var r=x4({},e,i.attrs);return N(Tn,x4({},r,{icon:d1e}),null)};KN.displayName="PictureTwoTone";KN.inheritAttrs=!1;var h1e={icon:function(e,i){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:i}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};function _4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){p1e(n,o,i[o])})}return n}function p1e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var qN=function(e,i){var r=_4({},e,i.attrs);return N(Tn,_4({},r,{icon:h1e}),null)};qN.displayName="FileTwoTone";qN.inheritAttrs=!1;function X9(){return{capture:Pi([Boolean,String]),type:Nn(),name:String,defaultFileList:Ii(),fileList:Ii(),action:Pi([String,Function]),directory:It(),data:Pi([Object,Function]),method:Nn(),headers:vn(),showUploadList:Pi([Boolean,Object]),multiple:It(),accept:String,beforeUpload:pt(),onChange:pt(),"onUpdate:fileList":pt(),onDrop:pt(),listType:Nn(),onPreview:pt(),onDownload:pt(),onReject:pt(),onRemove:pt(),remove:pt(),supportServerRender:It(),disabled:It(),prefixCls:String,customRequest:pt(),withCredentials:It(),openFileDialogOnClick:It(),locale:vn(),id:String,previewFile:pt(),transformFile:pt(),iconRender:pt(),isImageUrl:pt(),progress:vn(),itemRender:pt(),maxCount:Number,height:Pi([Number,String]),removeIcon:pt(),downloadIcon:pt(),previewIcon:pt()}}function g1e(){return{listType:Nn(),onPreview:pt(),onDownload:pt(),onRemove:pt(),items:Ii(),progress:vn(),prefixCls:Nn(),showRemoveIcon:It(),showDownloadIcon:It(),showPreviewIcon:It(),removeIcon:pt(),downloadIcon:pt(),previewIcon:pt(),locale:vn(void 0),previewFile:pt(),iconRender:pt(),isImageUrl:pt(),appendAction:pt(),appendActionVisible:It(),itemRender:pt()}}function Sx(n){return O(O({},n),{lastModified:n.lastModified,lastModifiedDate:n.lastModifiedDate,name:n.name,size:n.size,type:n.type,uid:n.uid,percent:0,originFileObj:n})}function wx(n,e){const i=[...e],r=i.findIndex(o=>{let{uid:s}=o;return s===n.uid});return r===-1?i.push(n):i[r]=n,i}function qT(n,e){const i=n.uid!==void 0?"uid":"name";return e.filter(r=>r[i]===n[i])[0]}function m1e(n,e){const i=n.uid!==void 0?"uid":"name",r=e.filter(o=>o[i]!==n[i]);return r.length===e.length?null:r}const v1e=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},Y9=n=>n.indexOf("image/")===0,y1e=n=>{if(n.type&&!n.thumbUrl)return Y9(n.type);const e=n.thumbUrl||n.url||"",i=v1e(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(i)?!0:!(/^data:/.test(e)||i)},jc=200;function b1e(n){return new Promise(e=>{if(!n.type||!Y9(n.type)){e("");return}const i=document.createElement("canvas");i.width=jc,i.height=jc,i.style.cssText=`position: fixed; left: 0; top: 0; width: ${jc}px; height: ${jc}px; z-index: 9999; display: none;`,document.body.appendChild(i);const r=i.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:s,height:a}=o;let l=jc,u=jc,c=0,d=0;s>a?(u=a*(jc/s),d=-(u-l)/2):(l=s*(jc/a),c=-(l-u)/2),r.drawImage(o,c,d,l,u);const f=i.toDataURL();document.body.removeChild(i),e(f)},o.crossOrigin="anonymous",n.type.startsWith("image/svg+xml")){const s=new FileReader;s.addEventListener("load",()=>{s.result&&(o.src=s.result)}),s.readAsDataURL(n)}else o.src=window.URL.createObjectURL(n)})}var x1e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};function S4(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){_1e(n,o,i[o])})}return n}function _1e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var XN=function(e,i){var r=S4({},e,i.attrs);return N(Tn,S4({},r,{icon:x1e}),null)};XN.displayName="DownloadOutlined";XN.inheritAttrs=!1;const S1e=()=>({prefixCls:String,locale:vn(void 0),file:vn(),items:Ii(),listType:Nn(),isImgUrl:pt(),showRemoveIcon:It(),showDownloadIcon:It(),showPreviewIcon:It(),removeIcon:pt(),downloadIcon:pt(),previewIcon:pt(),iconRender:pt(),actionIconRender:pt(),itemRender:pt(),onPreview:pt(),onClose:pt(),onDownload:pt(),progress:vn()}),w1e=je({compatConfig:{MODE:3},name:"ListItem",inheritAttrs:!1,props:S1e(),setup(n,e){let{slots:i,attrs:r}=e;var o;const s=Oe(!1),a=Oe();en(()=>{a.value=setTimeout(()=>{s.value=!0},300)}),Pn(()=>{clearTimeout(a.value)});const l=Oe((o=n.file)===null||o===void 0?void 0:o.status);ct(()=>{var d;return(d=n.file)===null||d===void 0?void 0:d.status},d=>{d!=="removed"&&(l.value=d)});const{rootPrefixCls:u}=tn("upload",n),c=K(()=>Kg(`${u.value}-fade`));return()=>{var d,f;const{prefixCls:h,locale:p,listType:g,file:b,items:y,progress:m,iconRender:_=i.iconRender,actionIconRender:S=i.actionIconRender,itemRender:w=i.itemRender,isImgUrl:A,showPreviewIcon:T,showRemoveIcon:C,showDownloadIcon:R,previewIcon:E=i.previewIcon,removeIcon:P=i.removeIcon,downloadIcon:I=i.downloadIcon,onPreview:D,onDownload:F,onClose:L}=n,{class:$,style:U}=r,k=_({file:b});let H=N("div",{class:`${h}-text-icon`},[k]);if(g==="picture"||g==="picture-card")if(l.value==="uploading"||!b.thumbUrl&&!b.url){const X={[`${h}-list-item-thumbnail`]:!0,[`${h}-list-item-file`]:l.value!=="uploading"};H=N("div",{class:X},[k])}else{const X=A!=null&&A(b)?N("img",{src:b.thumbUrl||b.url,alt:b.name,class:`${h}-list-item-image`,crossorigin:b.crossOrigin},null):k,V={[`${h}-list-item-thumbnail`]:!0,[`${h}-list-item-file`]:A&&!A(b)};H=N("a",{class:V,onClick:Se=>D(b,Se),href:b.url||b.thumbUrl,target:"_blank",rel:"noopener noreferrer"},[X])}const z={[`${h}-list-item`]:!0,[`${h}-list-item-${l.value}`]:!0},Q=typeof b.linkProps=="string"?JSON.parse(b.linkProps):b.linkProps,Z=C?S({customIcon:P?P({file:b}):N(WN,null,null),callback:()=>L(b),prefixCls:h,title:p.removeFile}):null,ie=R&&l.value==="done"?S({customIcon:I?I({file:b}):N(XN,null,null),callback:()=>F(b),prefixCls:h,title:p.downloadFile}):null,xe=g!=="picture-card"&&N("span",{key:"download-delete",class:[`${h}-list-item-actions`,{picture:g==="picture"}]},[ie,Z]),J=`${h}-list-item-name`,se=b.url?[N("a",ve(ve({key:"view",target:"_blank",rel:"noopener noreferrer",class:J,title:b.name},Q),{},{href:b.url,onClick:X=>D(b,X)}),[b.name]),xe]:[N("span",{key:"view",class:J,onClick:X=>D(b,X),title:b.name},[b.name]),xe],ee={pointerEvents:"none",opacity:.5},ne=T?N("a",{href:b.url||b.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:b.url||b.thumbUrl?void 0:ee,onClick:X=>D(b,X),title:p.previewFile},[E?E({file:b}):N(V1,null,null)]):null,ue=g==="picture-card"&&l.value!=="uploading"&&N("span",{class:`${h}-list-item-actions`},[ne,l.value==="done"&&ie,Z]),Y=N("div",{class:z},[H,se,ue,s.value&&N(nl,c.value,{default:()=>[Ro(N("div",{class:`${h}-list-item-progress`},["percent"in b?N(A_e,ve(ve({},m),{},{type:"line",percent:b.percent}),null):null]),[[Jo,l.value==="uploading"]])]})]),le={[`${h}-list-item-container`]:!0,[`${$}`]:!!$},fe=b.response&&typeof b.response=="string"?b.response:((d=b.error)===null||d===void 0?void 0:d.statusText)||((f=b.error)===null||f===void 0?void 0:f.message)||p.uploadError,W=l.value==="error"?N(U1,{title:fe,getPopupContainer:X=>X.parentNode},{default:()=>[Y]}):Y;return N("div",{class:le,style:U},[w?w({originNode:W,file:b,fileList:y,actions:{download:F.bind(null,b),preview:D.bind(null,b),remove:L.bind(null,b)}}):W])}}}),C1e=(n,e)=>{let{slots:i}=e;var r;return Fo((r=i.default)===null||r===void 0?void 0:r.call(i))[0]},A1e=je({compatConfig:{MODE:3},name:"AUploadList",props:fi(g1e(),{listType:"text",progress:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,previewFile:b1e,isImageUrl:y1e,items:[],appendActionVisible:!0}),setup(n,e){let{slots:i,expose:r}=e;const o=Oe(!1);en(()=>{o.value==!0});const s=Oe([]);ct(()=>n.items,function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.value=b.slice()},{immediate:!0,deep:!0}),ln(()=>{if(n.listType!=="picture"&&n.listType!=="picture-card")return;let b=!1;(n.items||[]).forEach((y,m)=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(y.originFileObj instanceof File||y.originFileObj instanceof Blob)||y.thumbUrl!==void 0||(y.thumbUrl="",n.previewFile&&n.previewFile(y.originFileObj).then(_=>{const S=_||"";S!==y.thumbUrl&&(s.value[m].thumbUrl=S,b=!0)}))}),b&&Gie(s)});const a=(b,y)=>{if(n.onPreview)return y==null||y.preventDefault(),n.onPreview(b)},l=b=>{typeof n.onDownload=="function"?n.onDownload(b):b.url&&window.open(b.url)},u=b=>{var y;(y=n.onRemove)===null||y===void 0||y.call(n,b)},c=b=>{let{file:y}=b;const m=n.iconRender||i.iconRender;if(m)return m({file:y,listType:n.listType});const _=y.status==="uploading",S=n.isImageUrl&&n.isImageUrl(y)?N(KN,null,null):N(qN,null,null);let w=N(_?zl:jN,null,null);return n.listType==="picture"?w=_?N(zl,null,null):S:n.listType==="picture-card"&&(w=_?n.locale.uploading:S),w},d=b=>{const{customIcon:y,callback:m,prefixCls:_,title:S}=b,w={type:"text",size:"small",title:S,onClick:()=>{m()},class:`${_}-list-item-action`};return mo(y)?N(Us,w,{icon:()=>y}):N(Us,w,{default:()=>[N("span",null,[y])]})};r({handlePreview:a,handleDownload:l});const{prefixCls:f,rootPrefixCls:h}=tn("upload",n),p=K(()=>({[`${f.value}-list`]:!0,[`${f.value}-list-${n.listType}`]:!0})),g=K(()=>{const b=O({},xN(`${h.value}-motion-collapse`));delete b.onAfterAppear,delete b.onAfterEnter,delete b.onAfterLeave;const y=O(O({},efe(`${f.value}-${n.listType==="picture-card"?"animate-inline":"animate"}`)),{class:p.value,appear:o.value});return n.listType!=="picture-card"?O(O({},b),y):y});return()=>{const{listType:b,locale:y,isImageUrl:m,showPreviewIcon:_,showRemoveIcon:S,showDownloadIcon:w,removeIcon:A,previewIcon:T,downloadIcon:C,progress:R,appendAction:E,itemRender:P,appendActionVisible:I}=n,D=E==null?void 0:E(),F=s.value;return N(Toe,ve(ve({},g.value),{},{tag:"div"}),{default:()=>[F.map(L=>{const{uid:$}=L;return N(w1e,{key:$,locale:y,prefixCls:f.value,file:L,items:F,progress:R,listType:b,isImgUrl:m,showPreviewIcon:_,showRemoveIcon:S,showDownloadIcon:w,onPreview:a,onDownload:l,onClose:u,removeIcon:A,previewIcon:T,downloadIcon:C,itemRender:P},O(O({},i),{iconRender:c,actionIconRender:d}))}),E?Ro(N(C1e,{key:"__ant_upload_appendAction"},{default:()=>D}),[[Jo,!!I]]):null]})}}}),T1e=n=>{const{componentCls:e,iconCls:i}=n;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:n.colorFillAlter,border:`${n.lineWidth}px dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[e]:{padding:`${n.padding}px 0`},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none"},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:n.margin,[i]:{color:n.colorPrimary,fontSize:n.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${n.marginXXS}px`,color:n.colorTextHeading,fontSize:n.fontSizeLG},[`p${e}-hint`]:{color:n.colorTextDescription,fontSize:n.fontSize},[`&${e}-disabled`]:{cursor:"not-allowed",[`p${e}-drag-icon ${i},
            p${e}-text,
            p${e}-hint
          `]:{color:n.colorTextDisabled}}}}}},E1e=n=>{const{componentCls:e,antCls:i,iconCls:r,fontSize:o,lineHeight:s}=n,a=`${e}-list-item`,l=`${a}-actions`,u=`${a}-action`,c=Math.round(o*s);return{[`${e}-wrapper`]:{[`${e}-list`]:O(O({},$l()),{lineHeight:n.lineHeight,[a]:{position:"relative",height:n.lineHeight*o,marginTop:n.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${n.motionDurationSlow}`,"&:hover":{backgroundColor:n.controlItemBgHover},[`${a}-name`]:O(O({},Fl),{padding:`0 ${n.paddingXS}px`,lineHeight:s,flex:"auto",transition:`all ${n.motionDurationSlow}`}),[l]:{[u]:{opacity:0},[`${u}${i}-btn-sm`]:{height:c,border:0,lineHeight:1,"> span":{transform:"scale(1)"}},[`
              ${u}:focus,
              &.picture ${u}
            `]:{opacity:1},[r]:{color:n.colorTextDescription,transition:`all ${n.motionDurationSlow}`},[`&:hover ${r}`]:{color:n.colorText}},[`${e}-icon ${r}`]:{color:n.colorTextDescription,fontSize:o},[`${a}-progress`]:{position:"absolute",bottom:-n.uploadProgressOffset,width:"100%",paddingInlineStart:o+n.paddingXS,fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${a}:hover ${u}`]:{opacity:1,color:n.colorText},[`${a}-error`]:{color:n.colorError,[`${a}-name, ${e}-icon ${r}`]:{color:n.colorError},[l]:{[`${r}, ${r}:hover`]:{color:n.colorError},[u]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},w4=new Dn("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),C4=new Dn("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),M1e=n=>{const{componentCls:e}=n,i=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${i}-appear, ${i}-enter, ${i}-leave`]:{animationDuration:n.motionDurationSlow,animationTimingFunction:n.motionEaseInOutCirc,animationFillMode:"forwards"},[`${i}-appear, ${i}-enter`]:{animationName:w4},[`${i}-leave`]:{animationName:C4}}},w4,C4]},R1e=n=>{const{componentCls:e,iconCls:i,uploadThumbnailSize:r,uploadProgressOffset:o}=n,s=`${e}-list`,a=`${s}-item`;return{[`${e}-wrapper`]:{[`${s}${s}-picture, ${s}${s}-picture-card`]:{[a]:{position:"relative",height:r+n.lineWidth*2+n.paddingXS*2,padding:n.paddingXS,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusLG,"&:hover":{background:"transparent"},[`${a}-thumbnail`]:O(O({},Fl),{width:r,height:r,lineHeight:`${r+n.paddingSM}px`,textAlign:"center",flex:"none",[i]:{fontSize:n.fontSizeHeading2,color:n.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${a}-progress`]:{bottom:o,width:`calc(100% - ${n.paddingSM*2}px)`,marginTop:0,paddingInlineStart:r+n.paddingXS}},[`${a}-error`]:{borderColor:n.colorError,[`${a}-thumbnail ${i}`]:{"svg path[fill='#e6f7ff']":{fill:n.colorErrorBg},"svg path[fill='#1890ff']":{fill:n.colorError}}},[`${a}-uploading`]:{borderStyle:"dashed",[`${a}-name`]:{marginBottom:o}}}}}},P1e=n=>{const{componentCls:e,iconCls:i,fontSizeLG:r,colorTextLightSolid:o}=n,s=`${e}-list`,a=`${s}-item`,l=n.uploadPicCardSize;return{[`${e}-wrapper${e}-picture-card-wrapper`]:O(O({},$l()),{display:"inline-block",width:"100%",[`${e}${e}-select`]:{width:l,height:l,marginInlineEnd:n.marginXS,marginBottom:n.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:n.colorFillAlter,border:`${n.lineWidth}px dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimary}},[`${s}${s}-picture-card`]:{[`${s}-item-container`]:{display:"inline-block",width:l,height:l,marginBlock:`0 ${n.marginXS}px`,marginInline:`0 ${n.marginXS}px`,verticalAlign:"top"},"&::after":{display:"none"},[a]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${n.paddingXS*2}px)`,height:`calc(100% - ${n.paddingXS*2}px)`,backgroundColor:n.colorBgMask,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'" "'}},[`${a}:hover`]:{[`&::before, ${a}-actions`]:{opacity:1}},[`${a}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${n.motionDurationSlow}`,[`${i}-eye, ${i}-download, ${i}-delete`]:{zIndex:10,width:r,margin:`0 ${n.marginXXS}px`,fontSize:r,cursor:"pointer",transition:`all ${n.motionDurationSlow}`}},[`${a}-actions, ${a}-actions:hover`]:{[`${i}-eye, ${i}-download, ${i}-delete`]:{color:new Gi(o).setAlpha(.65).toRgbString(),"&:hover":{color:o}}},[`${a}-thumbnail, ${a}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${a}-name`]:{display:"none",textAlign:"center"},[`${a}-file + ${a}-name`]:{position:"absolute",bottom:n.margin,display:"block",width:`calc(100% - ${n.paddingXS*2}px)`},[`${a}-uploading`]:{[`&${a}`]:{backgroundColor:n.colorFillAlter},[`&::before, ${i}-eye, ${i}-download, ${i}-delete`]:{display:"none"}},[`${a}-progress`]:{bottom:n.marginXL,width:`calc(100% - ${n.paddingXS*2}px)`,paddingInlineStart:0}}})}},I1e=n=>{const{componentCls:e}=n;return{[`${e}-rtl`]:{direction:"rtl"}}},N1e=n=>{const{componentCls:e,colorTextDisabled:i}=n;return{[`${e}-wrapper`]:O(O({},di(n)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-disabled`]:{color:i,cursor:"not-allowed"}})}},O1e=Bi("Upload",n=>{const{fontSizeHeading3:e,fontSize:i,lineHeight:r,lineWidth:o,controlHeightLG:s}=n,a=Math.round(i*r),l=On(n,{uploadThumbnailSize:e*2,uploadProgressOffset:a/2+o,uploadPicCardSize:s*2.55});return[N1e(l),T1e(l),R1e(l),P1e(l),E1e(l),M1e(l),I1e(l),oN(l)]});var D1e=function(n,e,i,r){function o(s){return s instanceof i?s:new i(function(a){a(s)})}return new(i||(i=Promise))(function(s,a){function l(d){try{c(r.next(d))}catch(f){a(f)}}function u(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):o(d.value).then(l,u)}c((r=r.apply(n,e||[])).next())})},L1e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const ey=`__LIST_IGNORE_${Date.now()}__`,SS=je({compatConfig:{MODE:3},name:"AUpload",inheritAttrs:!1,props:fi(X9(),{type:"select",multiple:!1,action:"",data:{},accept:"",showUploadList:!0,listType:"text",supportServerRender:!0}),setup(n,e){let{slots:i,attrs:r,expose:o}=e;const s=wc(),{prefixCls:a,direction:l,disabled:u}=tn("upload",n),[c,d]=O1e(a),f=Bl(),h=K(()=>{var I;return(I=u.value)!==null&&I!==void 0?I:f.value}),[p,g]=qg(n.defaultFileList||[],{value:Jn(n,"fileList"),postState:I=>{const D=Date.now();return(I??[]).map((F,L)=>(!F.uid&&!Object.isFrozen(F)&&(F.uid=`__AUTO__${D}_${L}__`),F))}}),b=Ge("drop"),y=Ge(null);en(()=>{gi(n.fileList!==void 0||r.value===void 0,"Upload","`value` is not a valid prop, do you mean `fileList`?"),gi(n.transformFile===void 0,"Upload","`transformFile` is deprecated. Please use `beforeUpload` directly."),gi(n.remove===void 0,"Upload","`remove` props is deprecated. Please use `remove` event.")});const m=(I,D,F)=>{var L,$;let U=[...D];n.maxCount===1?U=U.slice(-1):n.maxCount&&(U=U.slice(0,n.maxCount)),g(U);const k={file:I,fileList:U};F&&(k.event=F),(L=n["onUpdate:fileList"])===null||L===void 0||L.call(n,k.fileList),($=n.onChange)===null||$===void 0||$.call(n,k),s.onFieldChange()},_=(I,D)=>D1e(this,void 0,void 0,function*(){const{beforeUpload:F,transformFile:L}=n;let $=I;if(F){const U=yield F(I,D);if(U===!1)return!1;if(delete I[ey],U===ey)return Object.defineProperty(I,ey,{value:!0,configurable:!0}),!1;typeof U=="object"&&U&&($=U)}return L&&($=yield L($)),$}),S=I=>{const D=I.filter($=>!$.file[ey]);if(!D.length)return;const F=D.map($=>Sx($.file));let L=[...p.value];F.forEach($=>{L=wx($,L)}),F.forEach(($,U)=>{let k=$;if(D[U].parsedFile)$.status="uploading";else{const{originFileObj:H}=$;let z;try{z=new File([H],H.name,{type:H.type})}catch{z=new Blob([H],{type:H.type}),z.name=H.name,z.lastModifiedDate=new Date,z.lastModified=new Date().getTime()}z.uid=$.uid,k=z}m(k,L)})},w=(I,D,F)=>{try{typeof I=="string"&&(I=JSON.parse(I))}catch{}if(!qT(D,p.value))return;const L=Sx(D);L.status="done",L.percent=100,L.response=I,L.xhr=F;const $=wx(L,p.value);m(L,$)},A=(I,D)=>{if(!qT(D,p.value))return;const F=Sx(D);F.status="uploading",F.percent=I.percent;const L=wx(F,p.value);m(F,L,I)},T=(I,D,F)=>{if(!qT(F,p.value))return;const L=Sx(F);L.error=I,L.response=D,L.status="error";const $=wx(L,p.value);m(L,$)},C=I=>{let D;const F=n.onRemove||n.remove;Promise.resolve(typeof F=="function"?F(I):F).then(L=>{var $,U;if(L===!1)return;const k=m1e(I,p.value);k&&(D=O(O({},I),{status:"removed"}),($=p.value)===null||$===void 0||$.forEach(H=>{const z=D.uid!==void 0?"uid":"name";H[z]===D[z]&&!Object.isFrozen(H)&&(H.status="removed")}),(U=y.value)===null||U===void 0||U.abort(D),m(D,k))})},R=I=>{var D;b.value=I.type,I.type==="drop"&&((D=n.onDrop)===null||D===void 0||D.call(n,I))};o({onBatchStart:S,onSuccess:w,onProgress:A,onError:T,fileList:p,upload:y});const[E]=yI("Upload",Ky.Upload,K(()=>n.locale)),P=(I,D)=>{const{removeIcon:F,previewIcon:L,downloadIcon:$,previewFile:U,onPreview:k,onDownload:H,isImageUrl:z,progress:Q,itemRender:Z,iconRender:ie,showUploadList:xe}=n,{showDownloadIcon:J,showPreviewIcon:se,showRemoveIcon:ee}=typeof xe=="boolean"?{}:xe;return xe?N(A1e,{prefixCls:a.value,listType:n.listType,items:p.value,previewFile:U,onPreview:k,onDownload:H,onRemove:C,showRemoveIcon:!h.value&&ee,showPreviewIcon:se,showDownloadIcon:J,removeIcon:F,previewIcon:L,downloadIcon:$,iconRender:ie,locale:E.value,isImageUrl:z,progress:Q,itemRender:Z,appendActionVisible:D,appendAction:I},O({},i)):I==null?void 0:I()};return()=>{var I,D,F;const{listType:L,type:$}=n,{class:U,style:k}=r,H=L1e(r,["class","style"]),z=O(O(O({onBatchStart:S,onError:T,onProgress:A,onSuccess:w},H),n),{id:(I=n.id)!==null&&I!==void 0?I:s.id.value,prefixCls:a.value,beforeUpload:_,onChange:void 0,disabled:h.value});delete z.remove,(!i.default||h.value)&&delete z.id;const Q={[`${a.value}-rtl`]:l.value==="rtl"};if($==="drag"){const J=Qe(a.value,{[`${a.value}-drag`]:!0,[`${a.value}-drag-uploading`]:p.value.some(se=>se.status==="uploading"),[`${a.value}-drag-hover`]:b.value==="dragover",[`${a.value}-disabled`]:h.value,[`${a.value}-rtl`]:l.value==="rtl"},r.class,d.value);return c(N("span",ve(ve({},r),{},{class:Qe(`${a.value}-wrapper`,Q,U,d.value)}),[N("div",{class:J,onDrop:R,onDragover:R,onDragleave:R,style:r.style},[N(y4,ve(ve({},z),{},{ref:y,class:`${a.value}-btn`}),ve({default:()=>[N("div",{class:`${a.value}-drag-container`},[(D=i.default)===null||D===void 0?void 0:D.call(i)])]},i))]),P()]))}const Z=Qe(a.value,{[`${a.value}-select`]:!0,[`${a.value}-select-${L}`]:!0,[`${a.value}-disabled`]:h.value,[`${a.value}-rtl`]:l.value==="rtl"}),ie=ir((F=i.default)===null||F===void 0?void 0:F.call(i)),xe=J=>N("div",{class:Z,style:J},[N(y4,ve(ve({},z),{},{ref:y}),i)]);return c(L==="picture-card"?N("span",ve(ve({},r),{},{class:Qe(`${a.value}-wrapper`,`${a.value}-picture-card-wrapper`,Q,r.class,d.value)}),[P(xe,!!ie.length)]):N("span",ve(ve({},r),{},{class:Qe(`${a.value}-wrapper`,Q,r.class,d.value)}),[xe(ie.length?void 0:{display:"none"}),P()]))}}});var A4=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const XT=je({compatConfig:{MODE:3},name:"AUploadDragger",inheritAttrs:!1,props:X9(),setup(n,e){let{slots:i,attrs:r}=e;return()=>{const{height:o}=n,s=A4(n,["height"]),{style:a}=r,l=A4(r,["style"]),u=O(O(O({},s),l),{type:"drag",style:O(O({},a),{height:typeof o=="number"?`${o}px`:o})});return N(SS,u,i)}}}),B1e=O(SS,{Dragger:XT,LIST_IGNORE:ey,install(n){return n.component(SS.name,SS),n.component(XT.name,XT),n}}),T4=["BOOLEAN","INT32","INT64","INT96","FLOAT","DOUBLE","BYTE_ARRAY","FIXED_LEN_BYTE_ARRAY"],Gf=["PLAIN",void 0,"PLAIN_DICTIONARY","RLE","BIT_PACKED","DELTA_BINARY_PACKED","DELTA_LENGTH_BYTE_ARRAY","DELTA_BYTE_ARRAY","RLE_DICTIONARY","BYTE_STREAM_SPLIT"],F1e=["REQUIRED","OPTIONAL","REPEATED"],$1e=["UTF8","MAP","MAP_KEY_VALUE","LIST","ENUM","DECIMAL","DATE","TIME_MILLIS","TIME_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UINT_8","UINT_16","UINT_32","UINT_64","INT_8","INT_16","INT_32","INT_64","JSON","BSON","INTERVAL"],U1e=["UNCOMPRESSED","SNAPPY","GZIP","LZO","BROTLI","LZ4","ZSTD","LZ4_RAW"],Q9=["DATA_PAGE","INDEX_PAGE","DICTIONARY_PAGE","DATA_PAGE_V2"],Z9=864e5;function E4(n,e,i,r,o=!0){if(e&&r.endsWith("_DICTIONARY")){e=M4(e,i,o);let s=n;n instanceof Uint8Array&&!(e instanceof Uint8Array)&&(s=new e.constructor(n.length));for(let a=0;a<n.length;a++)s[a]=e[n[a]];return s}else return M4(n,i,o)}function M4(n,e,i=!0){var o,s;const r=e.converted_type;if(r==="DECIMAL"){const a=e.scale||0,l=Math.pow(10,-a),u=new Array(n.length);for(let c=0;c<u.length;c++)n[0]instanceof Uint8Array?u[c]=J9(n[c])*l:u[c]=Number(n[c])*l;return u}if(r===void 0&&e.type==="INT96")return Array.from(n).map(k1e);if(r==="DATE"){const a=new Array(n.length);for(let l=0;l<a.length;l++)a[l]=new Date(n[l]*Z9);return a}if(r==="TIMESTAMP_MILLIS"){const a=new Array(n.length);for(let l=0;l<a.length;l++)a[l]=new Date(Number(n[l]));return a}if(r==="TIMESTAMP_MICROS"){const a=new Array(n.length);for(let l=0;l<a.length;l++)a[l]=new Date(Number(n[l]/1000n));return a}if(r==="JSON"){const a=new TextDecoder;return n.map(l=>JSON.parse(a.decode(l)))}if(r==="BSON")throw new Error("parquet bson not supported");if(r==="INTERVAL")throw new Error("parquet interval not supported");if(r==="UTF8"||i&&e.type==="BYTE_ARRAY"){const a=new TextDecoder,l=new Array(n.length);for(let u=0;u<l.length;u++)l[u]=n[u]&&a.decode(n[u]);return l}if(r==="UINT_64"){const a=new BigUint64Array(n.length);for(let l=0;l<a.length;l++)a[l]=BigInt(n[l]);return a}if(((o=e.logical_type)==null?void 0:o.type)==="FLOAT16")return Array.from(n).map(e7);if(((s=e.logical_type)==null?void 0:s.type)==="TIMESTAMP"){const{unit:a}=e.logical_type;let l=1n;a==="MICROS"&&(l=1000n),a==="NANOS"&&(l=1000000n);const u=new Array(n.length);for(let c=0;c<u.length;c++)u[c]=new Date(Number(n[c]/l));return u}return n}function J9(n){let e=0;for(const i of n)e=e<<8|i;return e}function k1e(n){const e=Number((n>>64n)-2440588n),i=Number((n&0xffffffffffffffffn)/1000000n),r=e*Z9+i;return new Date(r)}function e7(n){if(!n)return;const e=n[1]<<8|n[0],i=e>>15?-1:1,r=e>>10&31,o=e&1023;return r===0?i*Math.pow(2,-14)*(o/1024):r===31?o?NaN:i*(1/0):i*Math.pow(2,r-15)*(1+o/1024)}function t7(n,e,i){const r=n[e],o=[];let s=1;if(r.num_children)for(;o.length<r.num_children;){const a=n[e+s],l=t7(n,e+s,[...i,a.name]);s+=l.count,o.push(l)}return{count:s,element:r,children:o,path:i}}function R4(n,e){let i=t7(n,0,[]);const r=[i];for(const o of e){const s=i.children.find(a=>a.element.name===o);if(!s)throw new Error(`parquet schema element not found: ${e}`);r.push(s),i=s}return r}function n7(n){let e=0;for(const{element:i}of n)i.repetition_type==="REPEATED"&&e++;return e}function ww(n){let e=0;for(const{element:i}of n.slice(1))i.repetition_type!=="REQUIRED"&&e++;return e}function z1e(n){if(!n||n.element.converted_type!=="LIST"||n.children.length>1)return!1;const e=n.children[0];return!(e.children.length>1||e.element.repetition_type!=="REPEATED")}function H1e(n){if(!n||n.element.converted_type!=="MAP"||n.children.length>1)return!1;const e=n.children[0];if(e.children.length!==2||e.element.repetition_type!=="REPEATED")return!1;const i=e.children.find(o=>o.element.name==="key");if((i==null?void 0:i.element.repetition_type)==="REPEATED")return!1;const r=e.children.find(o=>o.element.name==="value");return(r==null?void 0:r.element.repetition_type)!=="REPEATED"}const Hr={STOP:0,TRUE:1,FALSE:2,BYTE:3,I16:4,I32:5,I64:6,DOUBLE:7,BINARY:8,LIST:9,SET:10,MAP:11,STRUCT:12,UUID:13};function i7(n){let e=0;const i={};for(;n.offset<n.view.byteLength;){const[r,o,s]=o7(n,e);if(e=s,r===Hr.STOP)break;i[`field_${o}`]=wS(n,r)}return i}function wS(n,e){switch(e){case Hr.TRUE:return!0;case Hr.FALSE:return!1;case Hr.BYTE:return n.view.getInt8(n.offset++);case Hr.I16:case Hr.I32:return V1e(n);case Hr.I64:return AR(n);case Hr.DOUBLE:{const i=n.view.getFloat64(n.offset,!0);return n.offset+=8,i}case Hr.BINARY:{const i=ah(n),r=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,i);return n.offset+=i,r}case Hr.LIST:{const[i,r]=W1e(n),o=i===Hr.TRUE||i===Hr.FALSE,s=new Array(r);for(let a=0;a<r;a++)s[a]=o?wS(n,Hr.BYTE)===1:wS(n,i);return s}case Hr.STRUCT:{const i={};let r=0;for(;;){let o,s;if([o,s,r]=o7(n,r),o===Hr.STOP)break;i[`field_${s}`]=wS(n,o)}return i}case Hr.UUID:{let i="";for(let r=0;r<16;r++)i+=n.view.getUint8(n.offset++).toString(16).padStart(2,"0");return i}default:throw new Error(`thrift unhandled type: ${e}`)}}function ah(n){let e=0,i=0;for(;;){const r=n.view.getUint8(n.offset++);if(e|=(r&127)<<i,!(r&128))return e;i+=7}}function G1e(n){let e=0n,i=0n;for(;;){const r=n.view.getUint8(n.offset++);if(e|=BigInt(r&127)<<i,!(r&128))return e;i+=7n}}function V1e(n){const e=ah(n);return e>>>1^-(e&1)}function AR(n){const e=G1e(n);return e>>BigInt(1)^-(e&BigInt(1))}function r7(n){return n&15}function o7(n,e){const i=n.view.getUint8(n.offset++);if((i&15)===Hr.STOP)return[0,0,e];const r=i>>4;let o;if(r)o=e+r;else throw new Error("non-delta field id not supported");return[r7(i),o,o]}function W1e(n){const e=n.view.getUint8(n.offset++),i=e>>4,r=r7(e);if(i===15){const o=ah(n);return[r,o]}return[r,i]}async function j1e(n,e=1<<19){if(!n)throw new Error("parquet file is required");if(!(n.byteLength>=0))throw new Error("parquet file byteLength is required");const i=Math.max(0,n.byteLength-e),r=await n.slice(i,n.byteLength),o=new DataView(r);if(o.getUint32(r.byteLength-4,!0)!==827474256)throw new Error("parquet file invalid (footer != PAR1)");const s=o.getUint32(r.byteLength-8,!0);if(s>n.byteLength-8)throw new Error(`parquet metadata length ${s} exceeds available buffer ${n.byteLength-8}`);if(s+8>e){const a=n.byteLength-s-8,l=await n.slice(a,i),u=new ArrayBuffer(s+8),c=new Uint8Array(u);return c.set(new Uint8Array(l)),c.set(new Uint8Array(r),i-a),P4(u)}else return P4(r)}function P4(n){var y;if(!n)throw new Error("parquet file is required");const e=new DataView(n);if(e.byteLength<8)throw new Error("parquet file is too short");if(e.getUint32(e.byteLength-4,!0)!==827474256)throw new Error("parquet file invalid (footer != PAR1)");const i=e.byteLength-8,r=e.getUint32(i,!0);if(r>e.byteLength-8)throw new Error(`parquet metadata length ${r} exceeds available buffer ${e.byteLength-8}`);const o=i-r,a=i7({view:e,offset:o}),l=new TextDecoder;function u(m){return m&&l.decode(m)}const c=a.field_1,d=a.field_2.map(m=>({type:T4[m.field_1],type_length:m.field_2,repetition_type:F1e[m.field_3],name:u(m.field_4),num_children:m.field_5,converted_type:$1e[m.field_6],scale:m.field_7,precision:m.field_8,field_id:m.field_9,logical_type:K1e(m.field_10)})),f=d.filter(m=>m.type),h=a.field_3,p=a.field_4.map(m=>{var _;return{columns:m.field_1.map((S,w)=>{var A,T;return{file_path:u(S.field_1),file_offset:S.field_2,meta_data:S.field_3&&{type:T4[S.field_3.field_1],encodings:(A=S.field_3.field_2)==null?void 0:A.map(C=>Gf[C]),path_in_schema:S.field_3.field_3.map(u),codec:U1e[S.field_3.field_4],num_values:S.field_3.field_5,total_uncompressed_size:S.field_3.field_6,total_compressed_size:S.field_3.field_7,key_value_metadata:S.field_3.field_8,data_page_offset:S.field_3.field_9,index_page_offset:S.field_3.field_10,dictionary_page_offset:S.field_3.field_11,statistics:q1e(S.field_3.field_12,f[w]),encoding_stats:(T=S.field_3.field_13)==null?void 0:T.map(C=>({page_type:Q9[C.field_1],encoding:Gf[C.field_2],count:C.field_3})),bloom_filter_offset:S.field_3.field_14,bloom_filter_length:S.field_3.field_15,size_statistics:S.field_3.field_16&&{unencoded_byte_array_data_bytes:S.field_3.field_16.field_1,repetition_level_histogram:S.field_3.field_16.field_2,definition_level_histogram:S.field_3.field_16.field_3}},offset_index_offset:S.field_4,offset_index_length:S.field_5,column_index_offset:S.field_6,column_index_length:S.field_7,crypto_metadata:S.field_7,encrypted_column_metadata:S.field_8}}),total_byte_size:m.field_2,num_rows:m.field_3,sorting_columns:(_=m.field_4)==null?void 0:_.map(S=>({column_idx:S.field_1,descending:S.field_2,nulls_first:S.field_3})),file_offset:m.field_5,total_compressed_size:m.field_6,ordinal:m.field_7}}),g=(y=a.field_5)==null?void 0:y.map(m=>({key:u(m.field_1),value:u(m.field_2)})),b=u(a.field_6);return{version:c,schema:d,num_rows:h,row_groups:p,key_value_metadata:g,created_by:b,metadata_length:r}}function K1e(n){return n!=null&&n.field_1?{type:"STRING"}:n!=null&&n.field_2?{type:"MAP"}:n!=null&&n.field_3?{type:"LIST"}:n!=null&&n.field_4?{type:"ENUM"}:n!=null&&n.field_5?{type:"DECIMAL",scale:n.field_5.field_1,precision:n.field_5.field_2}:n!=null&&n.field_6?{type:"DATE"}:n!=null&&n.field_7?{type:"TIME",isAdjustedToUTC:n.field_7.field_1,unit:I4(n.field_7.field_2)}:n!=null&&n.field_8?{type:"TIMESTAMP",isAdjustedToUTC:n.field_8.field_1,unit:I4(n.field_8.field_2)}:n!=null&&n.field_10?{type:"INTEGER",bitWidth:n.field_10.field_1,isSigned:n.field_10.field_2}:n!=null&&n.field_11?{type:"NULL"}:n!=null&&n.field_12?{type:"JSON"}:n!=null&&n.field_13?{type:"BSON"}:n!=null&&n.field_14?{type:"UUID"}:n!=null&&n.field_15?{type:"FLOAT16"}:n}function I4(n){if(n.field_1)return"MILLIS";if(n.field_2)return"MICROS";if(n.field_3)return"NANOS";throw new Error("parquet time unit required")}function q1e(n,e){return n&&{max:Cx(n.field_1,e),min:Cx(n.field_2,e),null_count:n.field_3,distinct_count:n.field_4,max_value:Cx(n.field_5,e),min_value:Cx(n.field_6,e),is_max_value_exact:n.field_7,is_min_value_exact:n.field_8}}function Cx(n,e){const{type:i,converted_type:r,logical_type:o}=e;if(n===void 0)return n;if(i==="BOOLEAN")return n[0]===1;if(i==="BYTE_ARRAY")return new TextDecoder().decode(n);const s=new DataView(n.buffer,n.byteOffset,n.byteLength);return i==="FLOAT"&&s.byteLength===4?s.getFloat32(0,!0):i==="DOUBLE"&&s.byteLength===8?s.getFloat64(0,!0):i==="INT32"&&r==="DATE"?new Date(s.getInt32(0,!0)*864e5):i==="INT64"&&r==="TIMESTAMP_MICROS"?new Date(Number(s.getBigInt64(0,!0)/1000n)):i==="INT64"&&r==="TIMESTAMP_MILLIS"?new Date(Number(s.getBigInt64(0,!0))):i==="INT64"&&(o==null?void 0:o.type)==="TIMESTAMP"&&(o==null?void 0:o.unit)==="NANOS"?new Date(Number(s.getBigInt64(0,!0)/1000000n)):i==="INT64"&&(o==null?void 0:o.type)==="TIMESTAMP"&&(o==null?void 0:o.unit)==="MICROS"?new Date(Number(s.getBigInt64(0,!0)/1000n)):i==="INT64"&&(o==null?void 0:o.type)==="TIMESTAMP"?new Date(Number(s.getBigInt64(0,!0))):i==="INT32"&&s.byteLength===4?s.getInt32(0,!0):i==="INT64"&&s.byteLength===8?s.getBigInt64(0,!0):r==="DECIMAL"?J9(n)*Math.pow(10,-(e.scale||0)):(o==null?void 0:o.type)==="FLOAT16"?e7(n):n}function N4(n,e,i,r,o,s){const a=(e==null?void 0:e.length)||i.length;let l=0;const u=[n];let c=n,d=0,f=0,h=0;if(i[0])for(;d<o.length-2&&h<i[0];)c=c.at(-1),u.push(c),d++,o[d]!=="REQUIRED"&&f++,o[d]==="REPEATED"&&h++;for(let p=0;p<a;p++){const g=e!=null&&e.length?e[p]:s,b=i[p];for(;d&&(b<h||o[d]!=="REPEATED");)o[d]!=="REQUIRED"&&(u.pop(),f--),o[d]==="REPEATED"&&h--,d--;for(c=u.at(-1);(d<o.length-2||o[d+1]==="REPEATED")&&(f<g||o[d+1]==="REQUIRED");){if(d++,o[d]!=="REQUIRED"){const y=[];c.push(y),c=y,u.push(y),f++}o[d]==="REPEATED"&&h++}g===s?c.push(r[l++]):d===o.length-2?c.push(null):c.push([])}if(!n.length)for(let p=0;p<s;p++){const g=[];c.push(g),c=g}return n}function ty(n,e,i=0){const r=e.path.join("."),o=e.element.repetition_type==="OPTIONAL",s=o?i+1:i;if(z1e(e)){let a=e.children[0],l=s;a.children.length===1&&(a=a.children[0],l++),ty(n,a,l);const u=a.path.join("."),c=n.get(u);if(!c)throw new Error("parquet list column missing values");o&&CS(c,i),n.set(r,c),n.delete(u);return}if(H1e(e)){const a=e.children[0].element.name;ty(n,e.children[0].children[0],s+1),ty(n,e.children[0].children[1],s+1);const l=n.get(`${r}.${a}.key`),u=n.get(`${r}.${a}.value`);if(!l)throw new Error("parquet map column missing keys");if(!u)throw new Error("parquet map column missing values");if(l.length!==u.length)throw new Error("parquet map column key/value length mismatch");const c=s7(l,u,s);o&&CS(c,i),n.delete(`${r}.${a}.key`),n.delete(`${r}.${a}.value`),n.set(r,c);return}if(e.children.length){const a=e.element.repetition_type==="REQUIRED"?i:i+1,l={};for(const c of e.children){ty(n,c,a);const d=n.get(c.path.join("."));if(!d)throw new Error("parquet struct missing child data");l[c.element.name]=d}for(const c of e.children)n.delete(c.path.join("."));const u=a7(l,a);o&&CS(u,i),n.set(r,u)}}function CS(n,e){for(let i=0;i<n.length;i++)e?CS(n[i],e-1):n[i]=n[i][0]}function s7(n,e,i){const r=[];for(let o=0;o<n.length;o++)if(i)r.push(s7(n[o],e[o],i-1));else if(n[o]){const s={};for(let a=0;a<n[o].length;a++){const l=e[o][a];s[n[o][a]]=l===void 0?null:l}r.push(s)}else r.push(void 0);return r}function a7(n,e){var s;const i=Object.keys(n),r=(s=n[i[0]])==null?void 0:s.length,o=[];for(let a=0;a<r;a++){const l={};for(const u of i){if(n[u].length!==r)throw new Error("parquet struct parsing error");l[u]=n[u][a]}e?o.push(a7(l,e-1)):o.push(l)}return o}function Cw(n,e,i){const r=i instanceof Int32Array,o=ah(n),s=ah(n);ah(n);let a=AR(n),l=0;i[l++]=r?Number(a):a;const u=o/s;for(;l<e;){const c=AR(n),d=new Uint8Array(s);for(let f=0;f<s;f++)d[f]=n.view.getUint8(n.offset++);for(let f=0;f<s&&l<e;f++){const h=BigInt(d[f]);if(h){let p=0n,g=u;const b=(1n<<h)-1n;for(;g&&l<e;){let y=BigInt(n.view.getUint8(n.offset))>>p&b;for(p+=h;p>=8;)p-=8n,n.offset++,p&&(y|=BigInt(n.view.getUint8(n.offset))<<h-p&b);const m=c+y;a+=m,i[l++]=r?Number(a):a,g--}g&&(n.offset+=Math.ceil((g*Number(h)+Number(p))/8))}else for(let p=0;p<u&&l<e;p++)a+=c,i[l++]=r?Number(a):a}}}function X1e(n,e,i){const r=new Int32Array(e);Cw(n,e,r);for(let o=0;o<e;o++)i[o]=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,r[o]),n.offset+=r[o]}function Y1e(n,e,i){const r=new Int32Array(e);Cw(n,e,r);const o=new Int32Array(e);Cw(n,e,o);for(let s=0;s<e;s++){const a=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,o[s]);r[s]?(i[s]=new Uint8Array(r[s]+o[s]),i[s].set(i[s-1].subarray(0,r[s])),i[s].set(a,r[s])):i[s]=a,n.offset+=o[s]}}function Q1(n){return 32-Math.clz32(n)}function Ah(n,e,i,r){i||(n.offset+=4);let o=0;for(;o<r.length;){const s=ah(n);if(s&1)o=Z1e(n,s,e,r,o);else{const a=s>>>1;Q1e(n,a,e,r,o),o+=a}}}function Q1e(n,e,i,r,o){const s=i+7>>3;let a=0;for(let l=0;l<s;l++)a|=n.view.getUint8(n.offset++)<<(l<<3);for(let l=0;l<e;l++)r[o+l]=a}function Z1e(n,e,i,r,o){let s=e>>1<<3;const a=(1<<i)-1;let l=0;if(n.offset<n.view.byteLength)l=n.view.getUint8(n.offset++);else if(a)throw new Error(`parquet bitpack offset ${n.offset} out of range`);let u=8,c=0;for(;s;)c>8?(c-=8,u-=8,l>>>=8):u-c<i?(l|=n.view.getUint8(n.offset)<<u,n.offset++,u+=8):(o<r.length&&(r[o++]=l>>c&a),s--,c+=i);return o}function l7(n,e,i,r){const o=J1e(i,r),s=new Uint8Array(e*o);for(let a=0;a<o;a++)for(let l=0;l<e;l++)s[l*o+a]=n.view.getUint8(n.offset++);if(i==="FLOAT")return new Float32Array(s.buffer);if(i==="DOUBLE")return new Float64Array(s.buffer);if(i==="INT32")return new Int32Array(s.buffer);if(i==="INT64")return new BigInt64Array(s.buffer);if(i==="FIXED_LEN_BYTE_ARRAY"){const a=new Array(e);for(let l=0;l<e;l++)a[l]=s.subarray(l*o,(l+1)*o);return a}throw new Error(`parquet byte_stream_split unsupported type: ${i}`)}function J1e(n,e){switch(n){case"INT32":case"FLOAT":return 4;case"INT64":case"DOUBLE":return 8;case"FIXED_LEN_BYTE_ARRAY":if(!e)throw new Error("parquet byteWidth missing type_length");return e;default:throw new Error(`parquet unsupported type: ${n}`)}}function YN(n,e,i,r){if(i===0)return[];if(e==="BOOLEAN")return eCe(n,i);if(e==="INT32")return tCe(n,i);if(e==="INT64")return nCe(n,i);if(e==="INT96")return iCe(n,i);if(e==="FLOAT")return rCe(n,i);if(e==="DOUBLE")return oCe(n,i);if(e==="BYTE_ARRAY")return sCe(n,i);if(e==="FIXED_LEN_BYTE_ARRAY"){if(!r)throw new Error("parquet missing fixed length");return aCe(n,i,r)}else throw new Error(`parquet unhandled type: ${e}`)}function eCe(n,e){const i=new Array(e);for(let r=0;r<e;r++){const o=n.offset+(r/8|0),s=r%8,a=n.view.getUint8(o);i[r]=(a&1<<s)!==0}return n.offset+=Math.ceil(e/8),i}function tCe(n,e){const i=(n.view.byteOffset+n.offset)%4?new Int32Array(Z1(n.view.buffer,n.view.byteOffset+n.offset,e*4)):new Int32Array(n.view.buffer,n.view.byteOffset+n.offset,e);return n.offset+=e*4,i}function nCe(n,e){const i=(n.view.byteOffset+n.offset)%8?new BigInt64Array(Z1(n.view.buffer,n.view.byteOffset+n.offset,e*8)):new BigInt64Array(n.view.buffer,n.view.byteOffset+n.offset,e);return n.offset+=e*8,i}function iCe(n,e){const i=new Array(e);for(let r=0;r<e;r++){const o=n.view.getBigInt64(n.offset+r*12,!0),s=n.view.getInt32(n.offset+r*12+8,!0);i[r]=BigInt(s)<<64n|o}return n.offset+=e*12,i}function rCe(n,e){const i=(n.view.byteOffset+n.offset)%4?new Float32Array(Z1(n.view.buffer,n.view.byteOffset+n.offset,e*4)):new Float32Array(n.view.buffer,n.view.byteOffset+n.offset,e);return n.offset+=e*4,i}function oCe(n,e){const i=(n.view.byteOffset+n.offset)%8?new Float64Array(Z1(n.view.buffer,n.view.byteOffset+n.offset,e*8)):new Float64Array(n.view.buffer,n.view.byteOffset+n.offset,e);return n.offset+=e*8,i}function sCe(n,e){const i=new Array(e);for(let r=0;r<e;r++){const o=n.view.getInt32(n.offset,!0);n.offset+=4,i[r]=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,o),n.offset+=o}return i}function aCe(n,e,i){const r=new Array(e);for(let o=0;o<e;o++)r[o]=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,i),n.offset+=i;return r}function Z1(n,e,i){const r=new ArrayBuffer(i);return new Uint8Array(r).set(new Uint8Array(n,e,i)),r}const lCe=[0,255,65535,16777215,4294967295];function uCe(n,e,i,r,o){for(let s=0;s<o;s++)i[r+s]=n[e+s]}function cCe(n,e,i,r){for(let o=0;o<r;o++)n[e+o]=n[e-i+o]}function dCe(n,e){const i=n.byteLength,r=e.byteLength;let o=0,s=0;for(;o<i;){const a=n[o];if(o++,a<128)break}if(r&&o>=i)throw new Error("invalid snappy length header");for(;o<i;){const a=n[o];let l=0;if(o++,o>=i)throw new Error("missing eof marker");if(a&3){let u=0;switch(a&3){case 1:l=(a>>>2&7)+4,u=n[o]+(a>>>5<<8),o++;break;case 2:if(i<=o+1)throw new Error("snappy error end of input");l=(a>>>2)+1,u=n[o]+(n[o+1]<<8),o+=2;break;case 3:if(i<=o+3)throw new Error("snappy error end of input");l=(a>>>2)+1,u=n[o]+(n[o+1]<<8)+(n[o+2]<<16)+(n[o+3]<<24),o+=4;break}if(u===0||isNaN(u))throw new Error(`invalid offset ${u} pos ${o} inputLength ${i}`);if(u>s)throw new Error("cannot copy from before start of buffer");cCe(e,s,u,l),s+=l}else{let u=(a>>>2)+1;if(u>60){if(o+3>=i)throw new Error("snappy error literal pos + 3 >= inputLength");const c=u-60;u=n[o]+(n[o+1]<<8)+(n[o+2]<<16)+(n[o+3]<<24),u=(u&lCe[c])+1,o+=c}if(o+u>i)throw new Error("snappy error literal exceeds input length");uCe(n,o,e,s,u),o+=u,s+=u}}if(s!==r)throw new Error("premature end of input")}function fCe(n,e,i,{type:r}){const o=new DataView(n.buffer,n.byteOffset,n.byteLength),s={view:o,offset:0};let a;const l=pCe(s,e,i),{definitionLevels:u,numNulls:c}=gCe(s,e,i),d=e.num_values-c;if(e.encoding==="PLAIN"){const{type_length:f}=i[i.length-1].element;a=YN(s,r,d,f)}else if(e.encoding==="PLAIN_DICTIONARY"||e.encoding==="RLE_DICTIONARY"||e.encoding==="RLE"){const f=r==="BOOLEAN"?1:o.getUint8(s.offset++);f?(a=new Array(d),Ah(s,f,o.byteLength-s.offset,a)):a=new Uint8Array(d)}else if(e.encoding==="BYTE_STREAM_SPLIT"){const{type_length:f}=i[i.length-1].element;a=l7(s,d,r,f)}else throw new Error(`parquet unsupported encoding: ${e.encoding}`);return{definitionLevels:u,repetitionLevels:l,dataPage:a}}function hCe(n,e,i,r){const s={view:new DataView(n.buffer,n.byteOffset,n.byteLength),offset:0};return YN(s,i.type,e.num_values,r)}function pCe(n,e,i){if(i.length>1){const r=n7(i);if(r){const o=new Array(e.num_values);return Ah(n,Q1(r),0,o),o}}return[]}function gCe(n,e,i){const r=ww(i);if(!r)return{definitionLevels:[],numNulls:0};const o=new Array(e.num_values);Ah(n,Q1(r),0,o);let s=e.num_values;for(const a of o)a===r&&s--;return s===0&&(o.length=0),{definitionLevels:o,numNulls:s}}function TR(n,e,i,r){let o;const s=r==null?void 0:r[i];if(i==="UNCOMPRESSED")o=n;else if(s)o=s(n,e);else if(i==="SNAPPY")o=new Uint8Array(e),dCe(n,o);else throw new Error(`parquet unsupported compression codec: ${i}`);if((o==null?void 0:o.length)!==e)throw new Error(`parquet decompressed page length ${o==null?void 0:o.length} does not match header ${e}`);return o}function mCe(n,e,i,r,o){const a={view:new DataView(n.buffer,n.byteOffset,n.byteLength),offset:0},{codec:l,type:u}=r,c=e.data_page_header_v2;if(!c)throw new Error("parquet data page header v2 is undefined");const d=vCe(a,c,i);a.offset=c.repetition_levels_byte_length;const f=yCe(a,c,i),h=e.uncompressed_page_size-c.definition_levels_byte_length-c.repetition_levels_byte_length;let p=n.subarray(a.offset);c.is_compressed!==!1&&(p=TR(p,h,l,o));const g=new DataView(p.buffer,p.byteOffset,p.byteLength),b={view:g,offset:0};let y;const m=c.num_values-c.num_nulls;if(c.encoding==="PLAIN"){const{type_length:_}=i[i.length-1].element;y=YN(b,u,m,_)}else if(c.encoding==="RLE")y=new Array(m),Ah(b,1,0,y),y=y.map(_=>!!_);else if(c.encoding==="PLAIN_DICTIONARY"||c.encoding==="RLE_DICTIONARY"){const _=g.getUint8(b.offset++);y=new Array(m),Ah(b,_,h-1,y)}else if(c.encoding==="DELTA_BINARY_PACKED")y=u==="INT32"?new Int32Array(m):new BigInt64Array(m),Cw(b,m,y);else if(c.encoding==="DELTA_LENGTH_BYTE_ARRAY")y=new Array(m),X1e(b,m,y);else if(c.encoding==="DELTA_BYTE_ARRAY")y=new Array(m),Y1e(b,m,y);else if(c.encoding==="BYTE_STREAM_SPLIT"){const{type_length:_}=i[i.length-1].element;y=l7(a,m,u,_)}else throw new Error(`parquet unsupported encoding: ${c.encoding}`);return{definitionLevels:f,repetitionLevels:d,dataPage:y}}function vCe(n,e,i){const r=n7(i);if(!r)return[];const o=new Array(e.num_values);return Ah(n,Q1(r),e.repetition_levels_byte_length,o),o}function yCe(n,e,i){const r=ww(i);if(r){const o=new Array(e.num_values);return Ah(n,Q1(r),e.definition_levels_byte_length,o),o}}function ER(n,e){for(let r=0;r<e.length;r+=1e4)n.push(...e.slice(r,r+1e4))}function bCe(n,e,i,r,{compressors:o,utf8:s}){const{element:a}=r[r.length-1];let l;const u=[],c=e!==void 0&&e>=0&&isFinite(e);for(;(!c||u.length<e)&&!(n.offset>=n.view.byteLength-1);){const d=xCe(n),f=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,d.compressed_page_size);let h;if(d.type==="DATA_PAGE"){const p=d.data_page_header;if(!p)throw new Error("parquet data page header is undefined");const g=TR(f,Number(d.uncompressed_page_size),i.codec,o),{definitionLevels:b,repetitionLevels:y,dataPage:m}=fCe(g,p,r,i);if(h=E4(m,l,a,p.encoding,s),y.length||b!=null&&b.length){const _=ww(r),S=r.map(({element:w})=>w.repetition_type);N4(u,b,y,h,S,_)}else{for(let _=2;_<r.length;_++)r[_].element.repetition_type!=="REQUIRED"&&(h=Array.from(h,S=>[S]));ER(u,h)}}else if(d.type==="DATA_PAGE_V2"){const p=d.data_page_header_v2;if(!p)throw new Error("parquet data page header v2 is undefined");const{definitionLevels:g,repetitionLevels:b,dataPage:y}=mCe(f,d,r,i,o);if(h=E4(y,l,a,p.encoding,s),b.length||g!=null&&g.length){const m=ww(r),_=r.map(({element:S})=>S.repetition_type);N4(u,g,b,h,_,m)}else ER(u,h)}else if(d.type==="DICTIONARY_PAGE"){const p=d.dictionary_page_header;if(!p)throw new Error("parquet dictionary page header is undefined");const g=TR(f,Number(d.uncompressed_page_size),i.codec,o);l=hCe(g,p,i,a.type_length)}else throw new Error(`parquet unsupported page type: ${d.type}`);n.offset+=d.compressed_page_size}if(c){if(u.length<e)throw new Error(`parquet row data length ${u.length} does not match row group limit ${e}}`);u.length>e&&(u.length=e)}return u}function O4({dictionary_page_offset:n,data_page_offset:e,total_compressed_size:i}){let r=n;return(!r||e<r)&&(r=e),[r,r+i]}function xCe(n){const e=i7(n),i=Q9[e.field_1],r=e.field_2,o=e.field_3,s=e.field_4,a=e.field_5&&{num_values:e.field_5.field_1,encoding:Gf[e.field_5.field_2],definition_level_encoding:Gf[e.field_5.field_3],repetition_level_encoding:Gf[e.field_5.field_4],statistics:e.field_5.field_5&&{max:e.field_5.field_5.field_1,min:e.field_5.field_5.field_2,null_count:e.field_5.field_5.field_3,distinct_count:e.field_5.field_5.field_4,max_value:e.field_5.field_5.field_5,min_value:e.field_5.field_5.field_6}},l=e.field_6,u=e.field_7&&{num_values:e.field_7.field_1,encoding:Gf[e.field_7.field_2],is_sorted:e.field_7.field_3},c=e.field_8&&{num_values:e.field_8.field_1,num_nulls:e.field_8.field_2,num_rows:e.field_8.field_3,encoding:Gf[e.field_8.field_4],definition_levels_byte_length:e.field_8.field_5,repetition_levels_byte_length:e.field_8.field_6,is_compressed:e.field_8.field_7===void 0?!0:e.field_8.field_7,statistics:e.field_8.field_8};return{type:i,uncompressed_page_size:r,compressed_page_size:o,crc:s,data_page_header:a,index_page_header:l,dictionary_page_header:u,data_page_header_v2:c}}async function _Ce(n){if(!n.file)throw new Error("parquet file is required");if(n.metadata||(n.metadata=await j1e(n.file)),!n.metadata)throw new Error("parquet metadata not found");const{metadata:e,onComplete:i,rowEnd:r}=n,o=n.rowStart||0,s=[];let a=0;for(const l of e.row_groups){const u=Number(l.num_rows);if(a+u>=o&&(r===void 0||a<r)){const c=r&&r-a,d=await SCe(n,l,a,c);if(i){const f=Math.max(o-a,0),h=r===void 0?void 0:r-a;ER(s,d.slice(f,h))}}a+=u}i&&i(s)}async function SCe(n,e,i,r){const{file:o,metadata:s,columns:a}=n;if(!s)throw new Error("parquet metadata not found");(r===void 0||r>e.num_rows)&&(r=Number(e.num_rows));let[l,u]=[o.byteLength,0];if(e.columns.forEach(({meta_data:g})=>{if(!g)throw new Error("parquet column metadata is undefined");if(a&&!a.includes(g.path_in_schema[0]))return;const[b,y]=O4(g).map(Number);l=Math.min(l,b),u=Math.max(u,y)}),l>=u&&(a!=null&&a.length))throw new Error(`parquet columns not found: ${a.join(", ")}`);let c;u-l<=1<<25&&(c=await o.slice(l,u));const d=[],{children:f}=R4(s.schema,[])[0],h=new Map(f.map(g=>[g.element.name,u7(g)])),p=new Map;for(let g=0;g<e.columns.length;g++){const b=e.columns[g].meta_data;if(!b)throw new Error("parquet column metadata is undefined");const y=b.path_in_schema[0];if(a&&!a.includes(y))continue;const[m,_]=O4(b).map(Number),S=_-m;if(S>1<<30){console.warn(`parquet skipping huge column "${b.path_in_schema}" ${S.toLocaleString()} bytes`);continue}let w,A=0;c?(w=Promise.resolve(c),A=m-l):w=Promise.resolve(o.slice(m,_)),d.push(w.then(T=>{var D;const C=R4(s.schema,b.path_in_schema),R={view:new DataView(T),offset:A};let E=bCe(R,r,b,C,n);const P=b.path_in_schema.join(".");p.set(P,E),E=void 0;const I=h.get(y);if(I!=null&&I.every(F=>p.has(F))&&(ty(p,C[1]),E=p.get(y),!E))throw new Error(`parquet column data not assembled: ${y}`);E&&((D=n.onChunk)==null||D.call(n,{columnName:y,columnData:E,rowStart:i,rowEnd:i+E.length}))}))}if(await Promise.all(d),n.onComplete){const g=new Array(r),b=f.map(_=>_.element.name).filter(_=>!a||a.includes(_)),y=a||b,m=y.map(_=>b.includes(_)?p.get(_):void 0);for(let _=0;_<r;_++)if(n.rowFormat==="object"){const S={};y.forEach((w,A)=>{var T;S[w]=(T=m[A])==null?void 0:T[_]}),g[_]=S}else g[_]=m.map(S=>S==null?void 0:S[_]);return g}return[]}function u7(n,e=[]){if(n.children.length)for(const i of n.children)u7(i,e);else e.push(n.path.join("."));return e}var wCe=ArrayBuffer,rr=Uint8Array,Aw=Uint16Array,CCe=Int16Array,J1=Int32Array,YT=function(n,e,i){if(rr.prototype.slice)return rr.prototype.slice.call(n,e,i);(e==null||e<0)&&(e=0),(i==null||i>n.length)&&(i=n.length);var r=new rr(i-e);return r.set(n.subarray(e,i)),r},Ty=function(n,e,i,r){if(rr.prototype.fill)return rr.prototype.fill.call(n,e,i,r);for((i==null||i<0)&&(i=0),(r==null||r>n.length)&&(r=n.length);i<r;++i)n[i]=e;return n},ACe=function(n,e,i,r){if(rr.prototype.copyWithin)return rr.prototype.copyWithin.call(n,e,i,r);for((i==null||i<0)&&(i=0),(r==null||r>n.length)&&(r=n.length);i<r;)n[e++]=n[i++]},TCe=["invalid zstd data","window size too large (>2046MB)","invalid block type","FSE accuracy too high","match distance too far back","unexpected EOF"],dr=function(n,e,i){var r=new Error(e||TCe[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,dr),!i)throw r;return r},D4=function(n,e,i){for(var r=0,o=0;r<i;++r)o|=n[e++]<<(r<<3);return o},ECe=function(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0},MCe=function(n,e){var i=n[0]|n[1]<<8|n[2]<<16;if(i==3126568&&n[3]==253){var r=n[4],o=r>>5&1,s=r>>2&1,a=r&3,l=r>>6;r&8&&dr(0);var u=6-o,c=a==3?4:a,d=D4(n,u,c);u+=c;var f=l?1<<l:o,h=D4(n,u,f)+(l==1&&256),p=h;if(!o){var g=1<<10+(n[5]>>3);p=g+(g>>3)*(n[5]&7)}p>2145386496&&dr(1);var b=new rr((e==1?h||p:e?0:p)+12);return b[0]=1,b[4]=4,b[8]=8,{b:u+f,y:0,l:0,d,w:e&&e!=1?e:b.subarray(12),e:p,o:new J1(b.buffer,0,3),u:h,c:s,m:Math.min(131072,p)}}else if((i>>4|n[3]<<20)==25481893)return ECe(n,4)+8;dr(0)},lh=function(n){for(var e=0;1<<e<=n;++e);return e-1},Y0=function(n,e,i){var r=(e<<3)+4,o=(n[e]&15)+5;o>i&&dr(3);for(var s=1<<o,a=s,l=-1,u=-1,c=-1,d=s,f=new wCe(512+(s<<2)),h=new CCe(f,0,256),p=new Aw(f,0,256),g=new Aw(f,512,s),b=512+(s<<1),y=new rr(f,b,s),m=new rr(f,b+s);l<255&&a>0;){var _=lh(a+1),S=r>>3,w=(1<<_+1)-1,A=(n[S]|n[S+1]<<8|n[S+2]<<16)>>(r&7)&w,T=(1<<_)-1,C=w-a-1,R=A&T;if(R<C?(r+=_,A=R):(r+=_+1,A>T&&(A-=C)),h[++l]=--A,A==-1?(a+=A,y[--d]=l):a-=A,!A)do{var E=r>>3;u=(n[E]|n[E+1]<<8)>>(r&7)&3,r+=2,l+=u}while(u==3)}(l>255||a)&&dr(0);for(var P=0,I=(s>>1)+(s>>3)+3,D=s-1,F=0;F<=l;++F){var L=h[F];if(L<1){p[F]=-L;continue}for(c=0;c<L;++c){y[P]=F;do P=P+I&D;while(P>=d)}}for(P&&dr(0),c=0;c<s;++c){var $=p[y[c]]++,U=m[c]=o-lh($);g[c]=($<<U)-s}return[r+7>>3,{b:o,s:y,n:m,t:g}]},RCe=function(n,e){var i=0,r=-1,o=new rr(292),s=n[e],a=o.subarray(0,256),l=o.subarray(256,268),u=new Aw(o.buffer,268);if(s<128){var c=Y0(n,e+1,6),d=c[0],f=c[1];e+=s;var h=d<<3,p=n[e];p||dr(0);for(var g=0,b=0,y=f.b,m=y,_=(++e<<3)-8+lh(p);_-=y,!(_<h);){var S=_>>3;if(g+=(n[S]|n[S+1]<<8)>>(_&7)&(1<<y)-1,a[++r]=f.s[g],_-=m,_<h)break;S=_>>3,b+=(n[S]|n[S+1]<<8)>>(_&7)&(1<<m)-1,a[++r]=f.s[b],y=f.n[g],g=f.t[g],m=f.n[b],b=f.t[b]}++r>255&&dr(0)}else{for(r=s-127;i<r;i+=2){var w=n[++e];a[i]=w>>4,a[i+1]=w&15}++e}var A=0;for(i=0;i<r;++i){var T=a[i];T>11&&dr(0),A+=T&&1<<T-1}var C=lh(A)+1,R=1<<C,E=R-A;for(E&E-1&&dr(0),a[r++]=lh(E)+1,i=0;i<r;++i){var T=a[i];++l[a[i]=T&&C+1-T]}var P=new rr(R<<1),I=P.subarray(0,R),D=P.subarray(R);for(u[C]=0,i=C;i>0;--i){var F=u[i];Ty(D,i,F,u[i-1]=F+l[i]*(1<<C-i))}for(u[0]!=R&&dr(0),i=0;i<r;++i){var L=a[i];if(L){var $=u[L];Ty(I,i,$,u[L]=$+(1<<C-L))}}return[e,{n:D,b:C,s:I}]},PCe=Y0(new rr([81,16,99,140,49,198,24,99,12,33,196,24,99,102,102,134,70,146,4]),0,6)[1],ICe=Y0(new rr([33,20,196,24,99,140,33,132,16,66,8,33,132,16,66,8,33,68,68,68,68,68,68,68,68,36,9]),0,6)[1],NCe=Y0(new rr([32,132,16,66,102,70,68,68,68,68,36,73,2]),0,5)[1],c7=function(n,e){for(var i=n.length,r=new J1(i),o=0;o<i;++o)r[o]=e,e+=1<<n[o];return r},MR=new rr(new J1([0,0,0,0,16843009,50528770,134678020,202050057,269422093]).buffer,0,36),OCe=c7(MR,0),RR=new rr(new J1([0,0,0,0,0,0,0,0,16843009,50528770,117769220,185207048,252579084,16]).buffer,0,53),DCe=c7(RR,3),ny=function(n,e,i){var r=n.length,o=e.length,s=n[r-1],a=(1<<i.b)-1,l=-i.b;s||dr(0);for(var u=0,c=i.b,d=(r<<3)-8+lh(s)-c,f=-1;d>l&&f<o;){var h=d>>3,p=(n[h]|n[h+1]<<8|n[h+2]<<16)>>(d&7);u=(u<<c|p)&a,e[++f]=i.s[u],d-=c=i.n[u]}(d!=l||f+1!=o)&&dr(0)},LCe=function(n,e,i){var r=6,o=e.length,s=o+3>>2,a=s<<1,l=s+a;ny(n.subarray(r,r+=n[0]|n[1]<<8),e.subarray(0,s),i),ny(n.subarray(r,r+=n[2]|n[3]<<8),e.subarray(s,a),i),ny(n.subarray(r,r+=n[4]|n[5]<<8),e.subarray(a,l),i),ny(n.subarray(r),e.subarray(l),i)},BCe=function(n,e,i){var r,o=e.b,s=n[o],a=s>>1&3;e.l=s&1;var l=s>>3|n[o+1]<<5|n[o+2]<<13,u=(o+=3)+l;if(a==1)return o>=n.length?void 0:(e.b=o+1,i?(Ty(i,n[o],e.y,e.y+=l),i):Ty(new rr(l),n[o]));if(!(u>n.length)){if(a==0)return e.b=u,i?(i.set(n.subarray(o,u),e.y),e.y+=l,i):YT(n,o,u);if(a==2){var c=n[o],d=c&3,f=c>>2&3,h=c>>4,p=0,g=0;d<2?f&1?h|=n[++o]<<4|(f&2&&n[++o]<<12):h=c>>3:(g=f,f<2?(h|=(n[++o]&63)<<4,p=n[o]>>6|n[++o]<<2):f==2?(h|=n[++o]<<4|(n[++o]&3)<<12,p=n[o]>>2|n[++o]<<6):(h|=n[++o]<<4|(n[++o]&63)<<12,p=n[o]>>6|n[++o]<<2|n[++o]<<10)),++o;var b=i?i.subarray(e.y,e.y+e.m):new rr(e.m),y=b.length-h;if(d==0)b.set(n.subarray(o,o+=h),y);else if(d==1)Ty(b,n[o++],y);else{var m=e.h;if(d==2){var _=RCe(n,o);p+=o-(o=_[0]),e.h=m=_[1]}else m||dr(0);(g?LCe:ny)(n.subarray(o,o+=p),b.subarray(y),m)}var S=n[o++];if(S){S==255?S=(n[o++]|n[o++]<<8)+32512:S>127&&(S=S-128<<8|n[o++]);var w=n[o++];w&3&&dr(0);for(var A=[ICe,NCe,PCe],T=2;T>-1;--T){var C=w>>(T<<1)+2&3;if(C==1){var R=new rr([0,0,n[o++]]);A[T]={s:R.subarray(2,3),n:R.subarray(0,1),t:new Aw(R.buffer,0,1),b:0}}else C==2?(r=Y0(n,o,9-(T&1)),o=r[0],A[T]=r[1]):C==3&&(e.t||dr(0),A[T]=e.t[T])}var E=e.t=A,P=E[0],I=E[1],D=E[2],F=n[u-1];F||dr(0);var L=(u<<3)-8+lh(F)-D.b,$=L>>3,U=0,k=(n[$]|n[$+1]<<8)>>(L&7)&(1<<D.b)-1;$=(L-=I.b)>>3;var H=(n[$]|n[$+1]<<8)>>(L&7)&(1<<I.b)-1;$=(L-=P.b)>>3;var z=(n[$]|n[$+1]<<8)>>(L&7)&(1<<P.b)-1;for(++S;--S;){var Q=D.s[k],Z=D.n[k],ie=P.s[z],xe=P.n[z],J=I.s[H],se=I.n[H];$=(L-=J)>>3;var ee=1<<J,ne=ee+((n[$]|n[$+1]<<8|n[$+2]<<16|n[$+3]<<24)>>>(L&7)&ee-1);$=(L-=RR[ie])>>3;var ue=DCe[ie]+((n[$]|n[$+1]<<8|n[$+2]<<16)>>(L&7)&(1<<RR[ie])-1);$=(L-=MR[Q])>>3;var Y=OCe[Q]+((n[$]|n[$+1]<<8|n[$+2]<<16)>>(L&7)&(1<<MR[Q])-1);if($=(L-=Z)>>3,k=D.t[k]+((n[$]|n[$+1]<<8)>>(L&7)&(1<<Z)-1),$=(L-=xe)>>3,z=P.t[z]+((n[$]|n[$+1]<<8)>>(L&7)&(1<<xe)-1),$=(L-=se)>>3,H=I.t[H]+((n[$]|n[$+1]<<8)>>(L&7)&(1<<se)-1),ne>3)e.o[2]=e.o[1],e.o[1]=e.o[0],e.o[0]=ne-=3;else{var le=ne-(Y!=0);le?(ne=le==3?e.o[0]-1:e.o[le],le>1&&(e.o[2]=e.o[1]),e.o[1]=e.o[0],e.o[0]=ne):ne=e.o[0]}for(var T=0;T<Y;++T)b[U+T]=b[y+T];U+=Y,y+=Y;var fe=U-ne;if(fe<0){var W=-fe,X=e.e+fe;W>ue&&(W=ue);for(var T=0;T<W;++T)b[U+T]=e.w[X+T];U+=W,ue-=W,fe=0}for(var T=0;T<ue;++T)b[U+T]=b[fe+T];U+=ue}if(U!=y)for(;y<b.length;)b[U++]=b[y++];else U=b.length;i?e.y+=U:b=YT(b,0,U)}else if(i){if(e.y+=h,y)for(var T=0;T<h;++T)b[T]=b[y+T]}else y&&(b=YT(b,y));return e.b=u,b}dr(2)}},FCe=function(n,e){if(n.length==1)return n[0];for(var i=new rr(e),r=0,o=0;r<n.length;++r){var s=n[r];i.set(s,o),o+=s.length}return i};function $Ce(n,e){for(var i=[],r=+!e,o=0,s=0;n.length;){var a=MCe(n,r||e);if(typeof a=="object"){for(r?(e=null,a.w.length==a.u&&(i.push(e=a.w),s+=a.u)):(i.push(e),a.e=0);!a.l;){var l=BCe(n,a,e);l||dr(5),e?a.e=a.y:(i.push(l),s+=l.length,ACe(a.w,0,l.length),a.w.set(l,a.w.length-l.length))}o=a.b+a.c*4}else o=a;n=n.subarray(o)}return FCe(i,s)}function UCe(){const n=kCe();return(e,i)=>{const{memory:r,uncompress:o}=n.exports,s=68e3,a=s+e.byteLength,l=s+e.byteLength+i;if(r.buffer.byteLength<l){const f=r.buffer.byteLength/65536,p=Math.ceil(l/65536)-f;r.grow(p)}const u=new Uint8Array(r.buffer);u.set(e,s);const c=o(s,e.byteLength,a);if(c===-1)throw new Error("invalid snappy length header");if(c===-2)throw new Error("missing eof marker");if(c===-3)throw new Error("premature end of input");if(c)throw new Error(`failed to uncompress data ${c}`);return u.slice(a,a+i)}}function kCe(){const n=atob(zCe),e=new Uint8Array(n.length);for(let r=0;r<n.length;r+=1)e[r]=n.charCodeAt(r);const i=new WebAssembly.Module(e);return new WebAssembly.Instance(i)}const zCe="AGFzbQEAAAABEANgAABgA39/fwF/YAF/AX8DBgUAAQEBAgUDAQACBj8KfwFBoIwEC38AQYAIC38AQaAMC38AQaAMC38AQaCMBAt/AEGACAt/AEGgjAQLfwBBgIAIC38AQQALfwBBAQsHwQEOBm1lbW9yeQIAEV9fd2FzbV9jYWxsX2N0b3JzAAAGbWVtY3B5AAEHbWVtbW92ZQACCnVuY29tcHJlc3MAAwxfX2Rzb19oYW5kbGUDAQpfX2RhdGFfZW5kAwILX19zdGFja19sb3cDAwxfX3N0YWNrX2hpZ2gDBA1fX2dsb2JhbF9iYXNlAwULX19oZWFwX2Jhc2UDBgpfX2hlYXBfZW5kAwcNX19tZW1vcnlfYmFzZQMIDF9fdGFibGVfYmFzZQMJCuASBQIAC8sBAQN/AkAgAkUNAAJAAkAgAkEHcSIDDQAgACEEIAIhBQwBCyAAIQQgAiEFA0AgBCABLQAAOgAAIARBAWohBCABQQFqIQEgBUF/aiEFIANBf2oiAw0ACwsgAkEISQ0AA0AgBCABLQAAOgAAIAQgAS0AAToAASAEIAEtAAI6AAIgBCABLQADOgADIAQgAS0ABDoABCAEIAEtAAU6AAUgBCABLQAGOgAGIAQgAS0ABzoAByAEQQhqIQQgAUEIaiEBIAVBeGoiBQ0ACwsgAAugAwEEfwJAIAAgAUYNAAJAAkAgACABSQ0AIAEgAmoiAyAASw0BCyACRQ0BAkACQCACQQdxIgMNACAAIQQgAiEFDAELIAAhBCACIQUDQCAEIAEtAAA6AAAgBEEBaiEEIAFBAWohASAFQX9qIQUgA0F/aiIDDQALCyACQQhJDQEDQCAEIAEtAAA6AAAgBCABLQABOgABIAQgAS0AAjoAAiAEIAEtAAM6AAMgBCABLQAEOgAEIAQgAS0ABToABSAEIAEtAAY6AAYgBCABLQAHOgAHIARBCGohBCABQQhqIQEgBUF4aiIFDQAMAgsLIAJFDQACQAJAIAJBA3EiBA0AIAAgAmohBiACIQUMAQsgAiEFA0AgBUF/aiIFIABqIgYgBSABaiIDLQAAOgAAIARBf2oiBA0ACwsgAkEESQ0AIAZBfGohASADQXxqIQQDQCABQQNqIARBA2otAAA6AAAgAUECaiAEQQJqLQAAOgAAIAFBAWogBEEBai0AADoAACABIAQtAAA6AAAgAUF8aiEBIARBfGohBCAFQXxqIgUNAAsLIAALswoBCX8jgICAgABBIGsiAySAgICAACADQQlqQgA3AAAgA0IANwIEIAMgA0EYajYCAEF/IQQCQCABRQ0AIAMgAUF/aiIFNgIcIAMgAEEBajYCGCAALAAAIgZB/wBxIQcCQCAGQX9KDQAgBUUNASADIAFBfmoiBTYCHCADIABBAmo2AhggACwAASIGQf8AcUEHdCAHciEHQX8hBCAGQX9KDQAgBUUNASADIAFBfWoiBTYCHCADIABBA2o2AhggACwAAiIGQf8AcUEOdCAHciEHQX8hBCAGQX9KDQAgBUUNASADIAFBfGoiBTYCHCADIABBBGo2AhggACwAAyIGQf8AcUEVdCAHciEHQX8hBCAGQX9KDQAgBUUNASADIAFBe2o2AhwgAyAAQQVqNgIYIAAsAAQiAUEASA0BIAFBHHQgB3IhBwsgAiAHaiEIAkACQCADEISAgIAADQAgAiEADAELIAMoAgQhASACIQADQAJAIAMoAgggAWtBBEoNACADIAE2AgQgAxCEgICAAEUNAiADKAIEIQELIAFBAWohBQJAAkAgAS0AACIGQQNxDQAgCCAAayEJIAMoAggiCiAFayEEIAZBAnYiC0EBaiEHAkAgBkE/Sw0AIARBEEkNACAJQRBIDQAgACABKAIBNgIAIAAgASgCBTYCBCAAIAEoAgk2AgggACABKAINNgIMIAAgB2ohACADKAIIIAUgB2oiAWtBBEoNAyADIAE2AgQgAxCEgICAAEUNBAwCCwJAAkAgBkHwAU8NACAFIQYMAQsgCiAFIAtBRWoiAWoiBmshBCABQQJ0QYCIgIAAaigCACAFKAIAcUEBaiEHCwJAIAcgBE0NAANAIAggAGsgBEkNBSAAIAYgBBCBgICAACEAIAMoAgAiASABKAIAIgkgAygCDCIFaiIGNgIAIAFBBGoiASABKAIAIgogBWsiATYCACADIAE2AgwgACAEaiEAIAFFDQUgAyAJIApqNgIIIAcgBGshByABIQQgByABSw0ACyAIIABrIQkLIAkgB0kNAyAAIAYgBxCBgICAACAHaiEAIAMoAgggBiAHaiIBa0EESg0CIAMgATYCBCADEISAgIAADQEMAwsgACACayAGQQF0QaCIgIAAai8BACIBQQt2IgpBAnRBgIiAgABqKAIAIAUoAgBxIAFBgA5xaiIHQX9qTQ0CIAggAGshBAJAAkAgAUH/AXEiCUEQSw0AIAdBCEkNACAEQRBJDQAgACAAIAdrIgEoAgA2AgAgACABKAIENgIEIAAgASgCCDYCCCAAIAFBDGooAgA2AgwMAQsCQAJAAkAgBCAJQQpqSQ0AIAAgB2shBCAAIQEgCSEGIAdBB0wNAQwCCyAEIAlJDQUgCUEBaiEEQQAgB2shByAAIQEDQCABIAEgB2otAAA6AAAgAUEBaiEBIARBf2oiBEEBSw0ADAMLCwNAIAEgBCgCADYCACABIAQoAgQ2AgQgBiAHayEGIAEgB2oiASAEayIHQQhIDQALCyAGQQFIDQAgBkEIaiEHA0AgASAEKAIANgIAIAEgBCgCBDYCBCABQQhqIQEgBEEIaiEEIAdBeGoiB0EISw0ACwsgACAJaiEAIAMoAgggBSAKaiIBa0EESg0BIAMgATYCBCADEISAgIAARQ0CCyADKAIEIQEMAAsLIAMoAgAiASABKAIEIAMoAgwiBGs2AgQgASAEIAEoAgBqNgIAAkAgAy0AEA0AQX4hBAwBC0EAQX0gCCAARhshBAsgA0EgaiSAgICAACAEC7YDAQd/AkAgACgCBCIBIAAoAggiAkcNACAAKAIAIgIgAigCACIDIAAoAgwiBGoiATYCACACQQRqIgIgAigCACICIARrIgU2AgAgACAFNgIMAkAgAiAERw0AIABBAToAEEEADwsgACADIAJqIgI2AggLAkACQAJAIAIgAWsiAiABLQAAQQF0QaCIgIAAai8BAEELdkEBaiIFTw0AIABBEWogASACEIKAgIAAIQYgACgCDCEEQQAhByAAQQA2AgwgACgCACIBIAEoAgQgBGs2AgQgASAEIAEoAgBqIgM2AgADQCABQQRqKAIAIgFFDQMgBiACaiADIAUgAmsiBCABIAQgAUkbIgQQgYCAgAAaIAAoAgAiASABKAIEIARrNgIEIAEgASgCACAEaiIDNgIAIAQgAmoiAiAFSQ0ACyAAIAY2AgQgACAGIAVqNgIIDAELAkAgAkEESw0AIAAgAEERaiABIAIQgoCAgAAiASACajYCCCAAIAE2AgQgACgCDCECIABBADYCDCAAKAIAIgEgASgCBCACazYCBCABIAIgASgCAGo2AgAMAQsgACABNgIEC0EBIQcLIAcLC6gEAQBBgAgLoAQAAAAA/wAAAP//AAD///8A/////wAAAAAAAAAAAAAAAAEABAgBEAEgAgAFCAIQAiADAAYIAxADIAQABwgEEAQgBQAICAUQBSAGAAkIBhAGIAcACggHEAcgCAALCAgQCCAJAAQJCRAJIAoABQkKEAogCwAGCQsQCyAMAAcJDBAMIA0ACAkNEA0gDgAJCQ4QDiAPAAoJDxAPIBAACwkQEBAgEQAEChEQESASAAUKEhASIBMABgoTEBMgFAAHChQQFCAVAAgKFRAVIBYACQoWEBYgFwAKChcQFyAYAAsKGBAYIBkABAsZEBkgGgAFCxoQGiAbAAYLGxAbIBwABwscEBwgHQAICx0QHSAeAAkLHhAeIB8ACgsfEB8gIAALCyAQICAhAAQMIRAhICIABQwiECIgIwAGDCMQIyAkAAcMJBAkICUACAwlECUgJgAJDCYQJiAnAAoMJxAnICgACwwoECggKQAEDSkQKSAqAAUNKhAqICsABg0rECsgLAAHDSwQLCAtAAgNLRAtIC4ACQ0uEC4gLwAKDS8QLyAwAAsNMBAwIDEABA4xEDEgMgAFDjIQMiAzAAYOMxAzIDQABw40EDQgNQAIDjUQNSA2AAkONhA2IDcACg43EDcgOAALDjgQOCA5AAQPORA5IDoABQ86EDogOwAGDzsQOyA8AAcPPBA8IAEICA89ED0gARAJDz4QPiABGAoPPxA/IAEgCw9AEEAgAGQEbmFtZQE9BQARX193YXNtX2NhbGxfY3RvcnMBBm1lbWNweQIHbWVtbW92ZQMKdW5jb21wcmVzcwQKcmVmaWxsX3RhZwcSAQAPX19zdGFja19wb2ludGVyCQoBAAcucm9kYXRhADIJcHJvZHVjZXJzAQxwcm9jZXNzZWQtYnkBDFVidW50dSBjbGFuZwsxNi4wLjYgKDE1KQAsD3RhcmdldF9mZWF0dXJlcwIrD211dGFibGUtZ2xvYmFscysIc2lnbi1leHQ=",Jf=4096,HCe=2*Jf+32,d7=2*Jf-1,GCe=new Uint32Array([0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215]);function Ja(n){this.buf_=new Uint8Array(HCe),this.input_=n,this.buf_ptr_=0,this.val_=0,this.pos_=0,this.reset()}Ja.READ_SIZE=Jf;Ja.IBUF_MASK=d7;Ja.prototype.reset=function(){this.buf_ptr_=0,this.val_=0,this.pos_=0,this.bit_pos_=0,this.bit_end_pos_=0,this.eos_=0,this.readMoreInput();for(let n=0;n<4;n++)this.val_|=this.buf_[this.pos_]<<8*n,this.pos_++;return this.bit_end_pos_>0};Ja.prototype.readMoreInput=function(){if(!(this.bit_end_pos_>256))if(this.eos_){if(this.bit_pos_>this.bit_end_pos_)throw new Error("Unexpected end of input "+this.bit_pos_+" "+this.bit_end_pos_)}else{const n=this.buf_ptr_,e=this.input_.read(this.buf_,n,Jf);if(e<0)throw new Error("Unexpected end of input");if(e<Jf){this.eos_=1;for(let i=0;i<32;i++)this.buf_[n+e+i]=0}if(n===0){for(let i=0;i<32;i++)this.buf_[(Jf<<1)+i]=this.buf_[i];this.buf_ptr_=Jf}else this.buf_ptr_=0;this.bit_end_pos_+=e<<3}};Ja.prototype.fillBitWindow=function(){for(;this.bit_pos_>=8;)this.val_>>>=8,this.val_|=this.buf_[this.pos_&d7]<<24,this.pos_++,this.bit_pos_=this.bit_pos_-8>>>0,this.bit_end_pos_=this.bit_end_pos_-8>>>0};Ja.prototype.readBits=function(n){32-this.bit_pos_<n&&this.fillBitWindow();const e=this.val_>>>this.bit_pos_&GCe[n];return this.bit_pos_+=n,e};const L4=new Uint8Array([0,0,0,0,0,0,0,0,0,4,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,12,16,12,12,20,12,16,24,28,12,12,32,12,36,12,44,44,44,44,44,44,44,44,44,44,32,32,24,40,28,12,12,48,52,52,52,48,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,24,12,28,12,12,12,56,60,60,60,56,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,24,12,28,12,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,56,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,22,22,22,22,23,23,23,23,24,24,24,24,25,25,25,25,26,26,26,26,27,27,27,27,28,28,28,28,29,29,29,29,30,30,30,30,31,31,31,31,32,32,32,32,33,33,33,33,34,34,34,34,35,35,35,35,36,36,36,36,37,37,37,37,38,38,38,38,39,39,39,39,40,40,40,40,41,41,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,53,53,53,53,54,54,54,54,55,55,55,55,56,56,56,56,57,57,57,57,58,58,58,58,59,59,59,59,60,60,60,60,61,61,61,61,62,62,62,62,63,63,63,63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ax=new Uint16Array([1024,1536,1280,1536,0,256,768,512]),VCe=8,PR=8,WCe=255,IR=18,jCe=new Uint8Array([1,2,3,4,0,5,17,6,16,7,8,9,10,11,12,13,14,15]);function xi(n,e){this.bits=n,this.value=e}const B4=16,sg=15;function F4(n,e){let i=1<<e-1;for(;n&i;)i>>=1;return(n&i-1)+i}function $4(n,e,i,r,o){do r-=i,n[e+r]=new xi(o.bits,o.value);while(r>0)}function KCe(n,e,i){let r=1<<e-i;for(;e<sg&&(r-=n[e],!(r<=0));)++e,r<<=1;return e-i}function f7(n,e,i,r,o){const s=e,a=new Int32Array(sg+1),l=new Int32Array(sg+1),u=new Int32Array(o);for(let y=0;y<o;y++)a[r[y]]++;l[1]=0;for(let y=1;y<sg;y++)l[y+1]=l[y]+a[y];for(let y=0;y<o;y++)r[y]!==0&&(u[l[r[y]]++]=y);let c=i,d=1<<c,f=d;if(l[sg]===1){for(let y=0;y<f;++y)n[e+y]=new xi(0,u[0]&65535);return f}let h=0,p=0;for(let y=1,m=2;y<=i;++y,m<<=1)for(;a[y]>0;--a[y]){const _=new xi(y&255,u[p++]&65535);$4(n,e+h,m,d,_),h=F4(h,y)}const g=f-1;let b=-1;for(let y=i+1,m=2;y<=sg;++y,m<<=1)for(;a[y]>0;--a[y]){(h&g)!==b&&(e+=d,c=KCe(a,y,i),d=1<<c,f+=d,b=h&g,n[s+b]=new xi(c+i&255,e-s-b&65535));const _=new xi(y-i&255,u[p++]&65535);$4(n,e+(h>>i),m,d,_),h=F4(h,y)}return f}function Tw(n,e,i,r){const o=new Uint8Array(n);r.readMoreInput();const s=r.readBits(2);if(s===1){let l=n-1,u=0;const c=new Int32Array(4),d=r.readBits(2)+1;for(;l;)l>>=1,u++;for(let f=0;f<d;f++)c[f]=r.readBits(u)%n,o[c[f]]=2;switch(o[c[0]]=1,d){case 1:break;case 3:if(c[0]===c[1]||c[0]===c[2]||c[1]===c[2])throw new Error("[ReadHuffmanCode] invalid symbols");break;case 2:if(c[0]===c[1])throw new Error("[ReadHuffmanCode] invalid symbols");o[c[1]]=1;break;case 4:if(c[0]===c[1]||c[0]===c[2]||c[0]===c[3]||c[1]===c[2]||c[1]===c[3]||c[2]===c[3])throw new Error("[ReadHuffmanCode] invalid symbols");r.readBits(1)?(o[c[2]]=3,o[c[3]]=3):o[c[0]]=2;break}}else{const l=new Uint8Array(IR);let u=32,c=0;const d=[new xi(2,0),new xi(2,4),new xi(2,3),new xi(3,2),new xi(2,0),new xi(2,4),new xi(2,3),new xi(4,1),new xi(2,0),new xi(2,4),new xi(2,3),new xi(3,2),new xi(2,0),new xi(2,4),new xi(2,3),new xi(4,5)];for(let f=s;f<IR&&u>0;f++){const h=jCe[f];let p=0;r.fillBitWindow(),p+=r.val_>>>r.bit_pos_&15,r.bit_pos_+=d[p].bits;const g=d[p].value;l[h]=g,g!==0&&(u-=32>>g,c++)}if(!(c===1||u===0))throw new Error("[ReadHuffmanCode] invalid num_codes or space");qCe(l,n,o,r)}const a=f7(e,i,PR,o,n);if(!a)throw new Error("brotli BuildHuffmanTable failed");return a}function Rg(n,e,i){i.fillBitWindow(),e+=i.val_>>>i.bit_pos_&WCe;const r=n[e].bits-PR;return r>0&&(i.bit_pos_+=PR,e+=n[e].value,e+=i.val_>>>i.bit_pos_&(1<<r)-1),i.bit_pos_+=n[e].bits,n[e].value}function qCe(n,e,i,r){let o=0,s=VCe,a=0,l=0,u=32768;const c=[];for(let d=0;d<32;d++)c.push(new xi(0,0));for(f7(c,0,5,n,IR);o<e&&u>0;){let d=0;r.readMoreInput(),r.fillBitWindow(),d+=r.val_>>>r.bit_pos_&31,r.bit_pos_+=c[d].bits;const f=c[d].value&255;if(f<B4)a=0,i[o++]=f,f!==0&&(s=f,u-=32768>>f);else{const h=f-14;let p=0;f===B4&&(p=s),l!==p&&(a=0,l=p);const g=a;a>0&&(a-=2,a<<=h),a+=r.readBits(h)+3;const b=a-g;if(o+b>e)throw new Error("[ReadHuffmanCodeLengths] symbol + repeat_delta > num_symbols");for(let y=0;y<b;y++)i[o+y]=l;o+=b,l!==0&&(u-=b<<15-l)}}if(u!==0)throw new Error("[ReadHuffmanCodeLengths] space = "+u);for(;o<e;o++)i[o]=0}function At(n,e){this.offset=n,this.nbits=e}const U4=[new At(1,2),new At(5,2),new At(9,2),new At(13,2),new At(17,3),new At(25,3),new At(33,3),new At(41,3),new At(49,4),new At(65,4),new At(81,4),new At(97,4),new At(113,5),new At(145,5),new At(177,5),new At(209,5),new At(241,6),new At(305,6),new At(369,7),new At(497,8),new At(753,9),new At(1265,10),new At(2289,11),new At(4337,12),new At(8433,13),new At(16625,24)],k4=[new At(0,0),new At(1,0),new At(2,0),new At(3,0),new At(4,0),new At(5,0),new At(6,1),new At(8,1),new At(10,2),new At(14,2),new At(18,3),new At(26,3),new At(34,4),new At(50,4),new At(66,5),new At(98,5),new At(130,6),new At(194,7),new At(322,8),new At(578,9),new At(1090,10),new At(2114,12),new At(6210,14),new At(22594,24)],z4=[new At(2,0),new At(3,0),new At(4,0),new At(5,0),new At(6,0),new At(7,0),new At(8,0),new At(9,0),new At(10,1),new At(12,1),new At(14,2),new At(18,2),new At(22,3),new At(30,3),new At(38,4),new At(54,4),new At(70,5),new At(102,5),new At(134,6),new At(198,7),new At(326,8),new At(582,9),new At(1094,10),new At(2118,24)],XCe=[0,0,8,8,0,16,8,16,16],YCe=[0,8,0,8,16,0,16,8,16];function h7(n){this.buffer=n,this.pos=0}h7.prototype.read=function(n,e,i){this.pos+i>this.buffer.length&&(i=this.buffer.length-this.pos);for(let r=0;r<i;r++)n[e+r]=this.buffer[this.pos+r];return this.pos+=i,i};function p7(n){this.buffer=n,this.pos=0}p7.prototype.write=function(n,e){if(this.pos+e>this.buffer.length)throw new Error("brotli output buffer is not large enough");return this.buffer.set(n.subarray(0,e),this.pos),this.pos+=e,e};const g7=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m7=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),QCe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);function v7(n,e){const i=new Uint16Array(31);for(let o=0;o<31;o++)i[o]=e+=1<<n[o-1];const r=new Int32Array(i[30]);for(let o=1;o<30;o++)for(let s=i[o];s<i[o+1];++s)r[s]=s-i[o]<<5|o;return{base:i,rev:r}}const{base:y7,rev:ZCe}=v7(g7,2);y7[28]=258;ZCe[258]=28;const{base:JCe}=v7(m7,0),b7=new Uint16Array(32768);for(let n=0;n<32768;n++){let e=(n&43690)>>1|(n&21845)<<1;e=(e&52428)>>2|(e&13107)<<2,e=(e&61680)>>4|(e&3855)<<4,b7[n]=((e&65280)>>8|(e&255)<<8)>>1}function Ey(n,e,i){const r=new Uint16Array(e);for(let a=0;a<n.length;a++)n[a]&&++r[n[a]-1];const o=new Uint16Array(e);for(let a=1;a<e;a++)o[a]=o[a-1]+r[a-1]<<1;let s;{s=new Uint16Array(1<<e);const a=15-e;for(let l=0;l<n.length;l++)if(n[l]){const u=l<<4|n[l],c=e-n[l];let d=o[n[l]-1]++<<c;for(const f=d|(1<<c)-1;d<=f;d++)s[b7[d]>>a]=u}}return s}const Q0=new Uint8Array(288);for(let n=0;n<144;n++)Q0[n]=8;for(let n=144;n<256;n++)Q0[n]=9;for(let n=256;n<280;n++)Q0[n]=7;for(let n=280;n<288;n++)Q0[n]=8;const x7=new Uint8Array(32);for(let n=0;n<32;n++)x7[n]=5;const eAe=Ey(Q0,9),tAe=Ey(x7,5);function QT(n){let e=n[0];for(let i=1;i<n.length;i++)n[i]>e&&(e=n[i]);return e}function Ia(n,e,i){const r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&i}function ZT(n,e){const i=e/8|0;return(n[i]|n[i+1]<<8|n[i+2]<<16)>>(e&7)}function nAe(n){return(n+7)/8|0}function iAe(n,e){if(n[e++]!==31||n[e++]!==139||n[e++]!==8)throw new Error("invalid gzip data");const i=n[e++];e+=6,i&4&&(e+=(n[e+10]|n[e+11]<<8)+2);for(let r=(i>>3&1)+(i>>4&1);r>0;r-=+!n[e++]);return e+(i&2)}function QN(n,e,i=0,r=0){if(!(n.length-i))return;const o=iAe(n,i);if(o===n.length-8)return;if(o>n.length-8)throw new Error("unexpected EOF");let s=o*8,a=0,l=0,u=0,c,d;const f=n.length*8;do{if(!c){a=Ia(n,s,1);const b=Ia(n,s+1,3);if(s+=3,b)if(b===1)c=eAe,d=tAe,l=9,u=5;else if(b===2){const y=Ia(n,s,31)+257,m=Ia(n,s+10,15)+4,_=y+Ia(n,s+5,31)+1;s+=14;const S=new Uint8Array(_),w=new Uint8Array(19);for(let P=0;P<m;++P)w[QCe[P]]=Ia(n,s+P*3,7);s+=m*3;const A=QT(w),T=(1<<A)-1,C=Ey(w,A);for(let P=0;P<_;){const I=C[Ia(n,s,T)];s+=I&15;const D=I>>4;if(D<16)S[P++]=D;else{let F=0,L=0;for(D===16?(L=3+Ia(n,s,3),s+=2,F=S[P-1]):D===17?(L=3+Ia(n,s,7),s+=3):D===18&&(L=11+Ia(n,s,127),s+=7);L--;)S[P++]=F}}const R=S.subarray(0,y),E=S.subarray(y);l=QT(R),u=QT(E),c=Ey(R,l),d=Ey(E,u)}else throw new Error("invalid block type");else{const y=nAe(s)+4,m=n[y-4]|n[y-3]<<8,_=y+m;if(_>n.length)throw new Error("unexpected EOF");e.set(n.subarray(y,_),r),r+=m,s=_*8;continue}if(s>f)throw new Error("unexpected EOF")}const h=(1<<l)-1,p=(1<<u)-1;let g=s;for(;;g=s){const b=c[ZT(n,s)&h],y=b>>4;if(s+=b&15,s>f)throw new Error("unexpected EOF");if(!b)throw new Error("invalid length/literal");if(y<256)e[r++]=y;else if(y===256){g=s,c=void 0;break}else{let m=y-254;if(y>264){const T=y-257,C=g7[T];m=Ia(n,s,(1<<C)-1)+y7[T],s+=C}if(!d)throw new Error("invalid distance map");const _=d[ZT(n,s)&p],S=_>>4;if(!_)throw new Error("invalid distance");s+=_&15;let w=JCe[S];if(S>3){const T=m7[S];w+=ZT(n,s)&(1<<T)-1,s+=T}if(s>f)throw new Error("unexpected EOF");const A=r+m;if(r<w)throw new Error("unexpected dictionary case");for(;r<A;r++)e[r]=e[r-w]}}s=g,c&&(a=1)}while(!a);if(r<e.length){const h=Math.ceil(s/8)+8;QN(n,e,h,r)}}const rAe=`
H4sIAAAAAAAAAzy96XIcx7Uu+tuI4DuU2meLxDbRAElNJgYHR0neGrgFyr7bPg5FdlV2dwHVVa3KKoBN
SRHggIHgAFKcBc4zJQIgOGIggYjDF6D+kf8U56K6GxH3Ie73rYRsGRLQnZWVwxq+tXKtlYlf0V40GAZ+
UQe6mBSU2+9GnvZUokw5GozCoGb8RLt+UouqOuxLTRL4/boYaz0Yxf2J3pfUtIqjAR0XIq8W4JdiFFcK
UdRfDVQt8Ad04Ie6rINqOapo43u6EsV81guisJSUdWXA14NFP/SqqoT31kwxDYKyVl6i44pWblnFWhXj
qJLEqa6ouF8VAp1Wo7Dsl8oYpw5U6IV60OgBHYYYj6uMLkRJuRqZJDXaqyhPl9GmrPHeskpCVdGf+WF/
IYhKxt+vC2iP8aFdP/r3QzwTr291/lSOAk+Hnhn0k/IX6B/D8AbRh/FLYYK2ZTWgS+jLaB26KgiqKikP
avw3SE1Fh2nRDypVFSd9kR8mZd8EvklKUYSxam8Q8xzUBt8VTAVzV4GJMJwo9t0y3m8CZZJEK0y3Uivi
mX4/LA36QaDx+aCKvQKeLfqx3oM16w+jQYUO89WwVMH6J5hsECmvhLU3OiiGUaIrqVsuaq5FWIsjt993
ozAKXR1gn8rYE8/X3ifYnzgNdBnrpvrUPj8sRm6QFgI1aAJtTFkFRcM9RF/7o1Bv6uj4D/zHuNigvaCj
WLm6EKTY/zQe1Lq/iL/LIJoS1gmbiP3G2Ms6xJr09+tqUlUGnfrVOIoqn+z9/DPQS7i3VgU9olM80691
tRioEuinH6vjFTGfBOONsecJaLYvrVQTrJaH/jAGfA8KBi1i9LV+rBXWISliX1SaRKCNOO+ChlTQD7qu
DmBNPPRfAa1jR5MkjcNChB/QCTghiCOj0zjYYLDwcRRoPApSTAyWG3ursY+Bl++rlsAalQEV1/BMAloO
DQjGi6Pq30DTblStbcp35LraVY9JsBABdsPHy7A+VfBZvuQXsQaJa8xfSrGq4Q3hu6WkM8Z+YIxJgHka
5aM75eEdDvYv6IvKIWikvxrFmJtJ1n+9rc0DXXa1F3qqURQXOG+s4df53vwg6KYCft1c3df5KfYyVmH/
IPoeVCFoKCAxef/s+FdnVaXBINbbpLH+XxvW/3FQ+UkFewPaM6VImxJ4AltTqmIs77S1OQHoJw39BPvG
fvpBh5VByI99lSBnyNOY4uaO6j4sHcY+iPlGQTEK0acfGFXEt+hZVY0LORCj72IQDRZUoWaqKjTgi/cw
3g/wA9YxoP0EfBcM+v0+ZEJiEhBO7GP6pfYAPDioVX+CvdgNmQO+x5qEBnvYj+2uxWlo+tKgBknWvwn9
lSIVlCACDN6nvZL2ve6c0Yl5H9/l+8xf3sOY/aKzwUQR9hFyAnSYpAW9X5MaQoxDe6DpBNwcYetAXnFl
00fVfS5kQBnrXsA49oOWByIssjK1GDwLmgyqGKOP9XJB/1vwrj7sfaJKpuAnBrQVgPmSfgiwELTbhQUu
YdH+2vvlF16a1L6gfFGBrkUp1j3BEvlhn9q/36VsqmlT9E15cHAwH/sGfRZMNdYDmzAP/K03Y2LbwY8e
xrGlo2NjAXsOKsDY4hCyxCtE+/JF5ccBxoP1Yt9xX4o5a7fsFze8UwWd6QE/+F8bcqCJuBLgWQ/0UIV8
3tjR0cFZerEaLKdgimqUFNPQK4CPyrEuQrIE/bpmEvRRBr2D9yHXdbAJxGhSP8GjwVe9vTmKfOxJ7eNd
e3NYM6180ByH5HsGS9sZqoFaCQyR+FXzxz//+c8YB2SjVwO/m9ZO54dqufoXyO4AfB0MQsHsL2/N/rN9
XYsD4QR5FeRbWrZ9iH6qqSlDkyRYmk4XNPCf7V3tZWi4D7FGkDFJDBnmvPuuA20SYD+hXUBVGETFh4zq
96sJ9h86Cvoh0CXQTBWb8R7WdF3LuhaX9A2ZkMdgugpxjwaDVrDXpdSHnA6wUQavBpMoSqSo0u5XSu/+
8aPNQQpdi36xlJ0gqloJ9FZOKpQSgRenpd1f7doVQj6FWMO/gFgDUiHWfoA6ALyF9XNA/3Gsg1oBOsiA
Vry0X4fKKFdV9SBoo5QGxb2bt2wtg9ZA90kJMgXCH7ovjSGvapsw//XrWztbO3M9FQOh5YN//NgzkC8F
Dc6BHN+76aOt2HpDBsD8gw+wiEXQw/8dumgKUc1AhuTRRW7Pl717CxhPP/autfOHH6C8alg3b8PX/9X6
bao87E29DQq3Df+D0K/imXXAHcneTX/eOuC7kH5ezdOFpAcTgywLQs1xRoN7N32w1YNs0wMq2Lvpw60B
1h90C3JUQRX8E0YDCvxgSjrUzv8dOmOiImRTRSe+yHHTVd4C2ZjGReCAKnRJVxL3QOf6rd+/swH/1RhX
swB6gnyJOzpaOyt+0O+0tfX4cRQC53geeGsQ+2QiP6imiWnvM+3ABrW9mzdv/bR3+xd7N3dsVZ6qYK3w
rs09fRCC6zc666Fik72bN211MB/oWYh6X1UgW7raqz0mSoPPPv1iF/gReCXGGry3tau8qecjrC1EQNef
Qad7O97bWgHW2vreB/8ADWg/dMv/A8wF8uKYV9a3toKuY+xJSUOngrRC4J7Q27rlw398ExW/Wf+v1k7Q
1ka0bSSQiTXihmgwKIAXtr7/wT/+qgbUFryv5fsfWv5jx5b/2LrlvX/06WJx1/+z51PI0vKAD3UH0jbA
F+hj9duUOhT8APqBrkqwdvkC6NADvZaBRSAvgJHCZOuWD/7xyd69e9o2d2wqRtDU6GPXFzudfRA4W99/
7x/bv9z5Px766Gz5oUXv89H+/X9AvxnQTrL+h9ZOYJEErN6pgOZ++KGr/Z/+v/KfQf/0V/7Po0G8JwHN
Kc8zkBYB2HFfZ8sffoDIikLsZR6KoaPj/VasRa0Pot6AqMCxkLNREWvR6mzu6ACNg4exGIB/wKngibjm
Yl+TGihLA1P4UZiHMnOh50p4L3Ri/n2s055yfifkAaCe4KsQfN0PWoGmUSH04T7QiQu6b/Ggc93Ar7ZC
+HyI57AOHTv/ttN8+K+ergR8SQTs/+lPrYPYN4CMqArlEVUTqPxA79723wZ0ErZt/mBvQHkOWv/6q8+c
QhoAl0f9nT+sa/lk17ad4LlWVShAXqtww6Y/fwR8VqZQ6Gr3QVuQJSlxNHCCX9Xft7W809GxuTUE0P/n
pn91/vNfnS2fRSUHeiVZ1/KHP0BflqBTKwXIp9bv1rV0kCawD/3R1v8Pcg1r3bPObG1vd/AgpCLxbWlD
63ctaOpAb67H9KpeqqD/VJL/656PW7Gx36ZRgv+2gMchIX9YB1J4Dz/v4+cD/HyIn4/w8+fNHfLPJvxs
xs8W/KDdZrTbjHab0W4z2m1Guy1otwXttqDdFrTbgnZb0G4L2m1hf/hsE77bhDab0LYDz3Tg2Q5814E2
HWjbgWfQARYDP2iHf4HQ8PMRfj7Ezwf4eR8/7+FnC34242cTftDuI7T7CO0+QruP0O4jtPsI7T5Cu4/Q
7iO0+wjtPkS7D9HuQ7T7EO0+RLsP0e5DtPsQ7T5Euw/R7gO0+wDtPkC7D9DuA7T7AO0+QLsP0O4DtPsA
7d5Hu/fR7n20ex/t3ke799HufbR7H+3eR7v3MeMOzvq9TVv+DLWEyeN/wKxR5dV1WBOJJuiqAsckkReV
gctdCCz1ajYq+BDQr6aUMq+mBnwPesMQcUWQSxEtEvyuXOyt5/dFsN0i4NQQupgWBaQpODYoRd+mr+4T
1YboEzoCUACcAx1UUH18H8k5UqVUVVNAzDACSwJ7Q4YFqU9VByOnFsGeUBCOcdXH+wt4Z8AGQeT5Efgi
5rj8189fP3z9Ej9Lr1/8OvT64a9Dvx769aB89vT1Mj5dwl9zaPUSvz+Rv5ZeP8N3S/hk7tfh15fR9in+
mf31KHo4+vrHX4/+egDfPsLvj/Dfy+zj9ezrq/j3InrCU6+vvb6Fz5++voS2B9Huinz6Av0/fH0eP2fw
c/nXQ/h8Fu97+voC3v/09fzrl/jsBf65gecOvX729sDb8Tc33468HX5zFz/zbw+9PYy/x97MvpnBN3fx
/ZG3o2/H3h5+O4yfQ/iEv4++uffmMX4//OY2nh2VPsbfHsQzo/jsF/R0j79J23H8fhht+d9Db55Ir8No
P/x25M3P+GwcbUbeTMkTw/jmCd7+BNjdJNh4HQWwphOY5bCDsTtAdbT6CTkKxIcxvzXU/rTsAX9AQ7At
fLfow3ImqIyrNHOhooHyYG0BkcFMh0iIPeA/owFq0yo9BobuAgNypBEHc38Qv9Bki60ABjCk5Q47uwqJ
DuyD9+o4hmEcQveqQpQm9AsAWCYBrcFAzP4ENgmkGYxQoMO4JO4FI7Y5qYew2YVZ6qbGhdET0+gLCjRj
CNFggwiVKXolYLcr2jsVvLvmU7PSW2AAv0PaoewerwfagJ4BHAI+gJJ/F4CxE/OAiR3Frq5SQdOQhkYr
+aEq4gnoUj8Blkw1vRn4ArgGqlPvSyJAVyJk9IxP8WyYAMQbU0j9IBHTF0pAA32lXg3M6NG8Dj1DUxP/
xdKVYQrT5WLAmlBrUMdoDOhDV4BHP0WIVRvQQLmmXPT3wbzGgMII6C+m5wXYFDgLOlIFMQzsmBat+TaF
fsaSVHU5ragQWpquC1/8C9DO0PZeARzpwrRxKVqw4sDo5QB2USjGzyBEjaZDx9CbYjx2DRER6wKmD2s+
Tcowk/AsXmew2El5kO4ZTtoD6bnEYgmXM60ksCcoVOKEzpTaDkiGflpwMX1L2FBYqoGqaSKPuMZ31FIx
07lMLhY2webFDkAt6aqaVmkeG1WtBrVPub8F4KpSWoVwpJ+E1IResKaG5rjBBsUQUNhaCsJ+ulpophFw
AxqYFI9VlTyL7klbIb0uIYmGviPt7SWxcuDmY3IARFsIfEBvToSFLSrQL/1KNZWCCLlbBtMPNH0V7Zyg
R2+W8QB3a7DKAhpLKulLYb4mZfooYFeakIMu0E3gRvQn0BnHCWp6RIxbc/lvgGM6WAwla/8gtxl4TodV
X7uE9X5QxEQ1zUpyHvS8X4HJqkgdPoxAwh40BynTZadJPWC/1C0XuM5xVAMqMv0amwcUg/mRLMBgDlcC
YD0py44SXdWiYhEk4UZVzcWEiQUWB3rgTluvHMRCTH8I9EecxERTCrY4phqF2FARMjAxCHd7KTI+I9WB
Vqu1yHVhaupishW43ZRBxQnXACYlGYd+N5PGgDtFvpIEjI3mWqVJ1IndSXSe9leFTAJjTwX/Q8oxeBmm
CnSLJR7Ep3gvzd4QUtCnc8Itf8X+6IqEhIzdMsGPpqfP0M1ovCgtwJKqhW4CbqIVHg1iL3WxRjaA9QKz
mHYpKGEAGwrepbfS7CBf9lJyEXjX+sTTCDsqAM5zdQct8F6KzSr4M6DfBSCXEkEkNQx4CnPrBDX09Bi6
5IyicwKbZzSRK+V4KIPGBlSxhPgzoYvV0MfGb2tkMNjk2HxDXy8Fd0zuDkswoLf0cMtKBN3tlRTyl5vs
7SFzol3oJRGkD2CE722gA7RAjwg9fuylCCPNJ3kHgXh8a8U1/xqMJrR12tthgimPBlqpVk12UcrTWu3c
RWKlLzjn0rqDdAwTceXCvMj1kImB+NUAnRiwhP392pQAPBIM972eOKJjGN/W2MFG0R2ENJ4bU3f4JRjR
g5DQngIBY0GM7qFHRofffN377h+3/LmTWHffNyRqKAIMLewD5fepfXlFq8GAZcp0vTn0HRO8Q56G0Kah
Gsj10AkQiteL3kSQBVYD8j6Ke6l7iDKxgxAK9BObPlUV8RDA7PZBc+CUWFHlYB6bexRsOGAvMCO4KFa5
tvb2v9MFauiHMnQcmz1kYswyKVPnhXRO/MVgAAmYlyQI8EUJl9D9WsTOaKiywVwP1h+MHaeUsVD0f6M+
303JkA91wi1pgflcc75roUeSHnNDtxZJBavtgQa+5WInsfgMC1FMxz9kB4YLYUu/SEKq1H68mSaV+LPp
0zM7yNjgbkg4SnSeExg6lOgIxVrT510hu1CrUZ76RtzbXkrRrPcpU4zB7XSPbPz+ezFUqjmMFZtHt0Qu
onuhqxC39xQxr9jQJ+fpalJ27AkA2NSllOdpgzgvOyFjSiHdVGaQo+JoOyFcunN0X0NlYUafY+ZOPp/v
agd0DUsFTpqHIA49h508VgB5x3EN0gLErovUFSX9Dc9B8hXSBmCIwrfYripPUOSgoKs9iXvo/jEcvKNA
IRRANHUDiLB94BI6Dco8pTFUuC59zY6BEDeAaqG4ho2zAZRKJ7r3DTEEXZ9GsDtJqF9OYoQZyecenQCd
g1QnmJvRG1o7c852wiM8mu7rozu+CpkY0MnT09rpFze0Uch6CsAR8Mro3YRWmD3PXfZps5eqEkqCk9GV
noKKcz15E7vdCSUDBFh3ziU6LIPWapvfE9GXpFUfdFkjDquC6TEJkIb4qg1lRx4CXfP4QAf0D5p215h2
nkB08ogCAiUtFgs+OqVn39D919EPTlOwY9e10KsPTKNT3e1890PnR+IF5JHKd7R/FQ+bXM7XB1mVebzl
xORnglRDz3KupspR1Epn+TYiUJ5WGTDiph7YQGmJDmax0rtps5gfWrGCdHR2VilV6FI0PF8wHfs+6Ojg
qUFO/LgFqo5EYcEqPkQZ0VsAButqp3MZM4JwauPmkaTymEfLHypkEgf2/p93b/vvrvY4Kum4SLf+DvLM
ZjpMechj6EnqAmMmCX3xZjPHAggW9rc633/vBPQM8jQn+GMHRJoDcnJ4bucNcsUp4Dr71Nb/96DxQdVd
9NzHgA41HnvAfiP8xYJVE+qZ7ZSdrc473Y5HzEqvB10tFaijfl2rwLwMeKKWpxvbqRI7g6fDGj2Jhggn
t4nLMUhATg9WpXfvtq/2krYcHzg23OjAlqc7oYUANz/gAwyIKxXyJQRfQsvwAIzQOgqr5F/yTEvUBtzC
Uwk5ajHUlA6dbyG9Lt8pLyro9dxM3+ve1EGF0MnjOie/OV/xeYiWo9sbUAPbs4OYqwBxqDdzpNjk1j/x
l+/pxAb/QROXyeKbNnfkHKpYiL6edS1UEN2eDxBAjscXWHDKzpY/FotFMBEgCxFejvAByhqPtdL7vEl4
ATirGlqHM+whbsUhHlW4XMQcJy2nQ6YNvNbm0dBqeTdIOul5NVvf++gfXTy7bYtTMBpPnhwqSKD1fjEV
qqbbyeU6oQygj7hqm3giAfGvQrrRI0rD7qj7PzbvdiiNYJoXdJdfKTn4yfVsdIp9hr85Oa7f53uj6nae
2OVCPRjUdmJP+t39WrCyHxArk0ne7ymqb3M9+8ttbripA7vZtinX2kkU3s3TQui3NKhRlhg6kzqxel3v
0GMRODz0gLJbJ7vv9NGWIMc73K08OHddyyBxCc8+TEpx4/GoowCm6U/IW+CjnMMzWuBnDI1OEPD3t6DR
NKr4JoItAhnqaTnboWfEVFMaoK9mIzpNXl1PfEhcoIBE0SciMJ6nk6DMFHKGfpSYQ1PorAKRCrhagcqK
1Lfpqyl6VYx59TiIVC31VFHz+IHeEACjhHZmhFElkaGHxQgF84w2UvR2BGmJR2S1iEeT1gGCFSECAF0Y
+lQ5PoUBvZoyHIsCQEs9cdrQeo+AfHVIvAi7ySPDEuzp+NV1wCLO2PXjvsiI20bFRFaAFmk1KtONKmSA
t0FnAJpHUO/KhDzGJzTTnKoCB2oerfniB4IocX1VBLTk8ZEPuIeFrUJSRIUU0yS6jhVILOCfiigSKCfe
j34LNOIwBJABXvTqcSXiJKM+/glc82qhzCZcgxrgv6sqaR8wMtBQXEypSPCiqAT7QPkl4OIBrgsdWAB8
WHzuJZa3gveAtqCvsXd0WYVhBAEGAOVizOAeumANFsenU6oMTRabCKAXK4VVBTO+ehxCcu2P6FgQ35QZ
4JhVNaphpCFBFhiOn0Uu2DmW4yPYSBgLhYjLx+jWMvSShCSa8NV12ny+2ECwnUBGrgxX0ZYMSBuYO+wA
DAOrAXStCZN1FZoYapHd4GnGQtAtBnRLLxpoqBTQ88ZXYyEqCiKZ1rFdwNAHVX9r32EUjSA3KtOpN+Cr
PghfIOhX96lzSPIxbGLQTZ8CeYOeYX6pgBpZB5pmMNCckj0EWI1MkPK4HpuMrgKuG56ghR3TTyiExDAG
lwedA3g5RgUi8aIBYCZDt59RlULEQ1uP7XxFbCu8oEwKqx0AuQ+rC9lPIw7T812FxXg11RfxVdgypYWn
KArABn5sUh1wBJEpiseGHkZut0yQ6wjLnf4o7qqCRRYRlinSbkLdEGif4ReFKKALE6sGIgT44oBeHZB9
cxkHgydga4AY2CMHdJ07jQ54LkXXJyXIfVInmZ18gplQKSkCZvzmir2VgOHRFSULaK2GdcMmBRWgy4gA
UpypNCuAUHxMi9OH7AJlYxIQ+JQlwPNVccaKwaZEqBmfx7jcMtobAOYQPPhY033TR+SoFV2y5l3aqp1e
RC2NjqHwCXpS61QDDRk652qGwxd1UeChTBxrgeEuT6/TKg1fkB4MW8qetAK1hadCmLqUPIQ1oEBYBtW0
AH2JpxgvAzxlSOcVsGCsGCRE55gBn8YuJhTLIWssHidYFVqghGYojlsW9wT2h07HWJcwKj9hnAvYFpYS
xwnejYK0EtLSiiEWaXGLw7BH+/RcAEiXknIR8g1mZ0wXOBYOuA5UDFlLLsYEtHjH0koFK0DLPObqaq9q
nU37YJ55Vcg6tyYqIKGVTxYFhLfSBHoXkgTWHLBEyRPjUhxdRpyEQFI+dnpQzPWqBjFqMl6pBgmZEuvS
kVAEc8eMM0IPrlBSVCwCBoMNMUA6EKFi00KFbgj6AsXJatIqo3+A0QKYS3QTeeLgBTwr86Q6lf7LoNRB
EA1mKj5b82WhT7uJuAWN9faCrCFb3HIscVsVjBAET59dWWgspLLFODFHiHuQGucKfvs2VXTkJZQ5dLAZ
OiC5g5yFxLTwoArjh1lJKxtrFfFwGRYU+sHSf0aZg+kkdEphbSm2K0TwGrJZM2pIe0lUKgVa3NCga54e
k25914UiBRURV1Vq1GSDKklgjcjhdVIUJ3dZsCWjm3I9jGnTHui9mAbCyTWxVcVjwn0HLYC2XAyH0qlk
/ZBG73MZhkIPQIn7ivGUZTGKUPOJuMSth9tgvzA2KAfoJ8Z5RPEAKVN/JStGNgeBkSkJLqiHXczEMHoA
gFs2I+cQ/NEpo5OSeHjIUyQg0CTQWZEgoQYRGlRE0NBb7MJMJrf6ocTbKVLLDnHeRbLL4s+FVPG8QO/i
CSTF4SAdmCXl1irC49jstFRmbJcWsK3pgy/5IcetoJl8vgsKwSUWhwCRswJP/GSE9ox9URx/JOepQj81
MREZDgE159LehBwAv5c9TUkdCy2BY4kBUoiLpMJYwZovnknhNS2ue/OFyBYvpXyw3kQ5OzCM+tIeIYV1
LMEU8gNwLlavRG87z3cLwjt05TEaC6xjPhbZRZ8sLSN6Vl1Zq4J4WYFiY1UFHWD3rC8MwoN0DkiX1DAL
0l4VlmPSZgdRpbytMOSnRI8jFHwKcQxZz/gWgB/03evGfjXBGOicJ5HSqoHI83xyKh1hJHvOsU28CFhH
rAOoEAJBCQ3wJEV7dK5ob4esIRaYDrQynRUqYHwh4wlzDuwbyA2uCWz37+i1wQCL/r5Ijgs+ETrPMzxm
gwvhQQogvgBcw+QDBdRV/kokYSIz4jkG+TyBDPKE/rcLp8P6SJOauIYp30pR0isSTFHSA6kJRUMqcbRW
I4hFnHAHY81vPhcJL1oItE33fK/oAhHzhiPQ3rthwVQ76dQ3Wgxxh6o69LrotnV4Pu7LeU13DswKbCHR
fcBKAxI9QWtoq7O3rB2PHrWSnEuZ7bs+/vQL53OwBPUyHfWu2ANlkcxKTIpP5S0UPInZVcFm616RpeB3
cIOHv93EHguAd8DpvcIX+ZaWL0Nx6miPJkuuZw9wuF8VZ5YpS2QCdg09fClSIpa1FyI2ofgTe0XaeJpO
G7pvg5qzQedL+YIuM+4iIp1gIiAcngNoiQLED0+dxLWbGMJCmZVv7PGTt4UG/veEdJ6it9Wt8QQISk5i
X2HQ72eUHqW90E9PQdcg/drE/0/pVE1EG3rEM6HeHUV0CChGf4pDpOUbiuyceGBFDhuTc9phw+XFGosk
MlUoIf5yH6PROD5sMKSZPyCcGxYlymqndcfSHs2papXaDMyT65HDRcMY137DCGAxwVx6bKFtMGeMVm+D
UgdK5LIRBGM/94iG7SrEGMsglUssp3Til9He99/TLcT553p8q8XAY6pGzs/1MNYI8kSHsD8h11LKEIC4
UNz8ZhM9g9+L+uEa4iM5TcnRc4O3k4g6ORMlukwFm+SMgZ+AyGMelBSxHMlWcTw4cuKV3yZaQA6WjLHH
fZQb3ifWuU9/YPz13t1tH+Xk6NHZLlog7/wd6IYHhX4k/mLgt5CxQTHQZtL336lEqpA+xdcCBAUBnwAF
gQ9g2ZS442RNekmc73wTKyy0qgl6cfFKeg1zPWWRGFwMHuaRv+UIych5aqcsgyfO1y5YCsLd3MO2Nka2
QkL5SQ2TYbQInlepeMOcTXKaERUS+qeJ04wSV9dG59PQpaNEezXhIAc6BPpFDo7zlOjakxOh2jck1vxu
QXR0XGvvc9GYgdGOX9wjmA173a9rrZ0SSyumdUmwmRwvm52CgX9gkO53YB80344+u9qLQuFyspkvCh6W
MwrTJZ5eHtw4HVV8VlEgOgxLTOAYZgBsN8EnnpzHGUbN+OH74oyiUwicRTsgzBMQbVADKhEbAKv3jUxJ
KMEIbyo5Kd5YFO0m6Eti0WkBY5gbhDviXsGBpF327NVyPS3/SWG3t8xthubBTPsIaWqMZe9q51FvsQYc
iy582DNxTY5wu3eIFBVHnKPkhOUbgXE8hlUe5dIAdLGLtZXzlpZesQ6cnXQGuwQmsZz8G/Foe9vovnYY
wRvUvH+fL+d6mAPAcVLgyWm6odmcGolHoJPyn//qlDiEfCmF8RMDHzDSlSPcytNZ7X1JcOHwWCPnQMql
PJHBJsNE4GGYnDVjlQBTisAu0Gg7rCUGgxlSVI6Ee0X7tLT8HVI5USCbWKIDtuJBRlfHRCeJrF6u1fmT
k5Md7ymk5Ag5xzWfi46mxiGSrAoEpEzmMVWuZ0DCDsQGjuUsExoKYIWWYELXWiLYHpsHzRSqgZ5+hj8b
yo1cjxxNm245H5YDYacsvXVYhm9p+TR0HAmT2AM7td9vk0XEOyAHt4vGl7NBp01oabPIHOZI5Ho6xOX6
pUi5NhFPFdIVCIN0y3hGp0PY0ZHgCCPWQasW64/o248ZG5dzHGskSM9twvzQX7v2VbfKkSpzJvyQRjsQ
IwM5jJxrrJOjb6flD+TBHgaH/QGfez0t8m1LQZUZNxRzk0qMtAVPlmDRVmWOJq7i3xIxM7YyN1U/N9qY
Hlp5eboxf2D1lzMry9frB2bweTb5sj52amXxwcrc0Mrcz9nwg2xirjF9vXFypDm9kF2ezCZmVhZv1y8d
z8av188/Wz3/BM1WFhZWFu5mpw80R3/Ons+uvDiwMvdT/ertxqWj2fPbKy8vNQ+caTxerD+6Xr90pPHy
VOOXi/UjQ/i9OXMY3fK9y4c4pF+uNc7cq489X71zbvX6Uz44NFwfR8uZ1fPTqzcuNCbnsuHHK3NHmy9f
1k9eajy5sfJyGY80X2JUz7JL9xoLyytzi2jZfHq4fu5i8+7I6o1T2eSV7Nbx+uN72cgxvn3xUv3Ms+b5
iWxkOJuer5+41zx+Mps7mF1aqD8bwzo07i9gXtnEqWzu0Mri0Mr8WHb7ZTZxtHHmav3JYja51Dgyym9n
z2Z3DtavXKofOVrHs+cerp5frF8awi/1c/PZi4ns2PmVhQf1iZMrS5Mc9sKJ+uST7NZPzeWLWDQsSGPx
auPq7dUDp+tzc/WxiWx+OTs1ng0/W1k8h/6b1+9l00ey4XuNB7IdL37KTl1oLk82rx9rHJzPRhcbR8bq
lw81zjzNpk6uzJ1rnD3WnF5qTl/Pho83n8zXz15sHnyUjV/Lhm9z2OP30C12Njs7gp3Kjv+UTd9onHiI
RVuZG68/fY65rLw8mz1/1FicaODZe0PNmTuNxZHGraXs2ELj4mL28mz90gPs3eqloeadAyuLz+vXXtTP
zNSPHQDZrF4cXj29VD9xG79n08+yxQUMpg4CmDi6emG4ObNYf3w2Wzq68vJ44+U0XlF/emJ16Ej96H2s
Rv3a8+zl6ezI8WxspDG7WD/xI+aYTV5bmQNd3apfOI1VzU6eWL36eGUeMz3ePPRydQjLOIpmoLTG3VMg
ElAmPsdLs1uj2ckxEE926y5GgvFj6RrXzjTuP1uZO432WNLVQ/dWr883Jqfx9tXRY83lC/ULM9mLoezu
0fqh4WzkKVa1efgUaJJ0dfpA48ixbG46G7+PT7Jj50hdCyfZ/9Qd/H9l/lp26WF2eaj+dKJ5d6w+fhYN
QPmNe0exUPXZg/WhE6Ai8Es2dDEbv4pxgkrxFQaAWaNxc3omu3oCRAjKwUJxT1/O1o9ONg9cyG4+rF84
sbK4yN05cDtbeF4/+7B+fLqxdILcOvuy+fLOyuLRxuLxlZcjmAVX7OkB0CpYElwGbuVcZi7XLyw1bi2Q
kBYms+NnsRFgW1AU1rx+5STHP7lUPz8MUsTIs+HnmBc6AZVmY+fBNdjHbO4cKC2bGWlcOwC2It2euJuN
PeOzxxayqwsgD6wtRoX2IKrV0eOcI6h34Vh27lL9wQ1QL6gRXWGRyQULk82hQ82Zs6B2kuLV+eb0FAZM
gjyznC1cqo9huxcaJ2ayG4dW71ysz81kJ49xGe/NghLw1OoQRM1QNv0T927iFDf99IH6tdFsdERed6J5
92Y28hgjxMKKTDuK/rOJ8eaTm1jS+tg5SBgwAmTOyuJNcFzj7gwWJLsNbl3AOnOmZ4ayM9PZKIbxsHFn
ERImWzgDmYNlQXtQI4bUeHGuuQTBchXcB7nXnLlBKsXWXwL/PqZwuHI4WxoD79d/nKqfWWosHm4sjmKO
jalzjckn4BqQRDY+Wb98G3RVv3hw9dxpCs+xh41DU6vn76GT1TPToF6s8+rlK9ncXPPobHNmqnFxKVu4
k80dq1+aJD3cflyfOdNcOtTgGEaadw9zZciJ0yT48/fqh0GfBxqPlrKX9+vnIcYpnVZ/uUBpcw+Ca371
8g3s4+roqezWYch8iJfViydBipB4q6efgd3IKZjU2MjKwi+NI/fJGosTzZO3688hYa5xhNPPsLONu8dB
ciKHn2NSZLrx69Qmp8ab0w8hSah9Fo82n9xbHZ1onHlOUnw5m50+nr04SxUwfhstMWbuxfIvq0NXsx/v
YVW59Q9/giTHRBpnHjdnSKX1a9exI82Z29mJkWziUTbxM7iguXwGYr/5ZGpl/mF28njj7kMRJiOgKDLg
zBPyFMTywpls6r7Iz9PUL/eOZgsToJPm2IP6pUPZ6evsjZv4LJs+tLJ8uT5+qzkEmXNmZXE8u3W/8fP5
bOImRGt96EBj/Bn/fWQ+G/ulOX0Lr8uWh1evL0LmQyNkDyf40rFT2RCplN/+/CP0b3ZsuH70werBm5AP
eC8lIeTnyDDF0UlMbZ6cDv69O4KZrl68Acak3lwexVAbZ2ahU0iokJyjC7LOx/FVfeompDomWL9wtX52
eGXhKOiH+vfaKOZI+T9+vbl0GpyIN4L8sOON60PQFxRlCyNkmcWFxhTo+TS0GxXQyUOQtyQqKJexH7OZ
eby3eQT8PkONPHKM/AtZcelq46fDfPaXo42pI42FuxDm2RWIponVn49l01fI42PPMH0MFVAB42lMLQm/
H81OXM3GJuvnr1FNQAMCEgwdJa4Ad4+N1o+NZsfPkwvOT61OjmSTN0QnCnNBrU9eq0/dagzfBZXWn89m
lx5jjiQ56NPnV4TOr4LIMR7okeYy5vUCCoLMTnl4GpwreoS6hmpl5jBUW/PukWzpPDnl+Amqs4WpbPoY
iKd++Cq/mj7SvDmMBuDQ1YPT1BEQgwt3Vm9eJQq6+LJx+Fnz5QOilPHb7G36IZEMZPt1vPcYGJ+79vAU
xchpSLBLzdvL4ERs4urwj9nCeTwOfbeyeKH+YAkSAOqeUgu7PH2MApbI5Bw0HTTp6o2RbOYFURbme2wR
FAK5wf8vTmTDc1zVyWvZ/ONsAlxwGFyZ3bgCPq1fPgl0RLK8cWVl/ije1TxATVo/O4YdJ23PPwEwg7Ij
xYIgwbYzR4A3oLZWlqfrZ+aziYMrcyfqR05nxx+CQyGNKeVuPGzePUhwMnWBYOzRUuP2leaJ57JQ9zHZ
xuLdxuLUystrwCGU/9CJ964DKUGUEW9ABt66ujo53Lx4on4a6uzS6s0TwBjkx6fPoeVJny9PA9U0rk4R
sl6+jpWvP1psnDvfXD5JhLNwF7OAuofEw7I0x4Bgx0CZxJ+TV4EQyFZnJ1aBoEjbh/EKoseHhyi0H48S
MQLBjt9rPrkKBZGNgE/R1TLAJ6i3fu4l4c3E+eb0PSwOeRYIeeL46p0xoqwXCxS/Q3ebxw5lYHkg5KMX
V16cWj3/COsJIqSWuXS8eXeIgn3iIB4Bs0BIkgexv8uXmzPAUUsr83fA4NyIp0ehGRt3idzA4FwcKLLp
n5oHrzduU+/Uz00BiQFdUAdhhcevgHewm8Cuq6OjnNfJ21BeRCPYu8lpstvYLDRv/dRhootLR6h/b402
b74kqoEgvbSApYPWy6bOg7yx0ZCfFPIjYNhTRE2Xb5AjgB4pD69AsLC3h09AYKBe4aZxYJjmwxv4f/3i
NLiJUmUOZDO+8uIapcHYL/WpY/XJR/Wjt0WPTBI2Dx8nB038TI15/hkV8ePR5r3x5tIS+Aucwh2cvkEY
OXQAvQF4410wGWiVPHkC6d149gi4lMgfGmr0Z7APmB3vgpYB1AG5rl6+z/1aoIalHAbdvoACugn9no1d
W714i4s/NtccP4iFAm7BjtQfXK+fnYPKzh6eoiYd+xE4DZqxfkRGBX48eYIIcPievPcpZMvKy8dQOo2p
M1ANRBrLl1d/ugShhxfVbw6BxrAX2DvoAkyz/uhHbjRk9dxc48xPzdHHHM/JEWJCID3oSkCaW4DEz/DS
5pXj2fxc484EMT9Q1ssbVGSjI8C6lCeArLBxxh7Why7XD4EIT1CPHJ8AF0ATYWrEz7dfgjtowhw7AlFJ
UoQEm4e5dIkE9uIX0Ay2m8bLEUiPwyBFbHf98jJoFSANIguMRnPpwmnMjpBvHJwySRENm+L4KBacanrh
DvfryH3y1NknAKIY3urQNUpO0tj51av3IU+aT+bYDyaIrZycWz1/idIY2uHlLDUdrCrIc+CZ6XmuMJZr
XKyky9chD2kqAj1Oc2tA8AJynmWzw2AcSM7m8hUwKRRQdhx24hIepGnw/G52+zZEBK0YaD0YsJdvW5MW
NAzaI81AmULpQNqPX+Hig6nvjEGjYYPAX6tnLmKjOYWTY8B7EOnZ0AsQGCc7eapx+Sb0MkQTrbCFn6Ge
Vi9QnVGiHlmuHx2GmF09uywct0AUAYsJWhi2yeITcBmEc31+KXt+J5t4DO5eWXwJEoKmAIvBqoL2h6yj
UQbaOHM1OwXz6ia4CfCVNjjo5wWoYr555BFIDvPCvtNUBDdBYsDAPwz6OU5RP3yX2wdNCsG4fJJkA6G0
fL75+CYx2zMA8tHs0lVC5acX67NXYdlRAZ24R+gLow/jvzxFfXrkLq0zkOXQNUgbgha0mV8WW3KhPjHR
XH6YTVyAlUSWX7xKfj8ivHDxfnNmiRDrGCU2cSMsOLz0xCJ10JHjsMppHcw/ARXVLx/E2EADK3MvQb1U
3xeh3Ubql37mHCFvaaTAzr0JCUMsdGQsu3y+ufALdgHzzRZGMGzgdhKe8Avt8UtXm7Py+SHYApcIdw9O
N6ZnAS1op88ehBLMJs5BllIbwlCdnMPKg7WJisdGVn+8CrsGfzauTxNXQ1YvHaVldHkIVkP9CiyFi80Z
IKJpoqDpy80nlyFRCVpunsDc6yfEWoeFNfNjNn0NPAKxQ7h1/2zzl3ONc0v4CoYJJQNGAsH7y0Vq0sPL
jV9u12cmRKRMZbcsR4/gE2qfW/frT26DrYgkJx42DtwERQGjYsr0n8z9DH2UTV+gOwImA5D/5BzV9NiF
xtnbhL54aglm3RiNo6VlAunJKVAg7dCx5Wz2aP3aBMURjESsNshm9Enj5wOkqAOnBYg+EHfKaTBF/fpN
Uuz4YwiTbOJOdusc+Xf4EPA8TQAChgvAbNnkpGjn682fgdJPrP50snH3ANaKy3X3MFRn/dlY88l8NjwL
LsuWLwA40UkFI3TuDvf95HFMtnHxBX0jL4ZgSVGNUrOfF01BSoPEgE1By1EsOPyO3mCtiIl6FTqagJ9o
kz4oohQggctXoaqw1+ACyrFh+iiwOFRGLy407g5hGQH8sCYQoasHxutjj0hFEzfp21m4lT2cJepYvgzz
XCwIMPJBvJqyhZiKLrJsdpYkB3V5+Cq4tT49Toq6fqV+8lL28Gg2C2V6ggba2PPmkxu0lW4+XL0K2EZ3
ED4hnLv8E+XG/COYRZgdRRww1eQ4LeiLp/DJKvj92DCkuvjQntESfDpJCAdD4OikCJxjGAxl2oWZxqUX
jcvYC0CUJ9k9KIhJIkmsz/Ff6Dp4caF+6BrIMrs5SmE4PNs8MkMn2PAwXTQP7mDHVy8CJz/DXIhegEAm
ZmCT4nXQkvQ8wHKBdUkbZIkegxsv0M/Ki/MAvfXzE/SDwVrEpmDjsNFT6HAGlLM6dJAC9sRV7DVAF8Ug
Ojk3CloCtG4sLkPKNe4RBTUWx7BiNDqO3IcdRx/LyUuNowCBk9jxlbnbFHoP55rLl7KRi5zypSOwZBu/
YJ2PwH5pzl4HmWGhOPLbLxuLl/FhdvwADdvlQ83lSUwKhgD0EZ1OLy5k48tsicE/uNl8OpHNw0I5Q2cm
cAKY6+Qp0Q4PKaiBu6aXgBUhc/iWp4eBYMk1156s/jTRuDxE6XTrLp2BF2bqM2dJIRcXKKuPnSOXTR8j
42Czrp6A8KT5A/ELpX/kNORt48wN+jfuHBQP1T1af8uXG4BYk9caT65RPgBbAnsfvEdcNLlEb+ThSVE9
4JGbUFsCmWjjU4NPH6mf+LEO4Dd7ZHX0mEi5SZhvNGzvL6zeOQfwTIvj3OHV+7NE13NH0YbrMALrnvwC
M3xl/sjqhcfZ8BHsPv1RLw6uLExnIwAGRxsn7lPHLd3CvhNDPjwFpQw6oT1+b5Zae/g5um2cWQRoIXp5
TKMV6p5YFED60EvQNh131x9QR8OyuHS0Pjdcv/1T/eSVxoNT9BJfO7C6SFQGyiHZz15tHp3AdhOdzi02
pq+vXnhWn37avLeYjYw3lhebM6cghME42YGfiIhevFiZP0Gjb3qGW/b8duPoUH346Mo8AOdc48QMmfoq
xNEi13z5KdHIFTp7geK4krCUjy1jOm7KMA4dDviM6/Ni35MQydgPfdePEl9XqlE1ir9NtZsyUIUnnl4k
AbOhBGwa1juIlQTOhmFUKcRa4mfDqo6ZhKUYvyohpcb1U095cs4eqTREn9KP8eQTiZqPq7HGe40uvVoI
JY7UDESM5ZDAUsN0klCVVYG5yyU5SGNIrpHQQg6b0Sjfpn7VBj4aia01KiiloXKjONaRTe5kSK8fqzj2
C4w+RG9lGbnmATgPMjhOVSn4axGJjDtlqLlhoN+rqVArxu242gbhSuyohOYWFENwY4mFxXhSxulJbE9U
YcBmMMBoQH6O+coqGQnANRKkG0pVACWRvIbnUIxm5im7p5nPHRV5xiaRnkbiYSJmTvhKgjM5R6yYG1Wq
NnNbG4n24a7FeIEv4Zk8v7WRkLHEfxqP8TeYY+z6qhp5GASztZPI8zlQ/F4IJKiYUQKYa8D6HX7kxr7x
sZvMQ8JOpewBv+siKQSrEmNlJb1KawZGRRJALRHKnpIeVFTk6mEF0FS38eCcK6OMnJUbiVWLGLNk+2c0
KFYqkrhBI1HXBpP1GWXLnBEJozax2v/qMd5Z8DnTlDFuUaC9KNEh9heTfbVgJDqP0bJ+qBjXhPFyZZTL
sKbIfXXd8/dL3Cdj//CUZHsp7v5+UrgfRNhFjpkkH7+6v8/HO149rur9pCpPDbya8nSkB3h2WVXMAq5o
hpAzlJVpQEyXKL667vqBqwp4SCKCJXzVQ594OupTVcxCgmFNQShEIqeNhNHGEi0cFmW1sdfccYb6GknX
5Uwx94IfFFREjgDhkCsNY5iUxDd60esnrxd/nfh1VLLkF14/xM8cs95/PS6fPPr1gOTKP8bvy78O4fOD
0ubpr0fwc0jy6n+ST2bx23PJqV+0mfavf5RnlyULf4q9SY8vfh3Fpy+YrY+/F/lvZvHj2SXJ6n+M1mvf
vz7Dsb2+yvfyO/QnGfySYf/i9YL091j6f8TeZWwvXl9/fe/1Sfz3IZ69a2chzz6Sb/Ekxn1DxvxEPuNb
X8h8Zdb49kf5BG/5dVhmzb5ZY4Atn+Cfl+j5R/vGtbEx1//H30eIZw+s9cA2Q+hx9t8VA+bwxEtZ0yvy
D9d6RN7+UNrYOgasLLAklQOW0DPHaesXLP16AL09+e3W2d9uj/52a/6322Py+9Bvt+bkk7O/3VqST47+
duvMb7ce/nbrZ/n3Pfl2Qhrg/8u/3ZqSp0b5ID9Bm1vy1Lz8e0QenJc2M/yF/15iGza+jd/7FHlaWl7i
//nU8G+3Hvx26478fv63W2Py1ZL8PiGdTMsb7/126+lanxzV7d//jXddkJFc+r2fIXmd9MPfn0rLe/LJ
vd/7RPsjMovp31dgWlpiDI/kkznpbVqeuiOfnJanRuTDB9JgSj55IN3+xAf51T1pc17Wdkh6G3oz//bw
2yNvbvPfb0ffPHxz982NN9NvZt/Mv5nBP3d//xw/T6Wuw8Lb8TezUslhhPUZ0J41GEbQfvbNM7Q7/PbQ
21H8fRefjr0dfntQ6jzMSyWHu/I5W7Biw8/o+SCrO6DfqTf30RPe+/YAPnuO3u7h7bPS8jZHhd+G0eIu
Ws5wtFJbYlwqScy/eYZvx98ewO9Tb36Rt3Jso+j3Jt/45sHaTEbx+2PWosB4Rt7MyJgey7tmMTvOlFUl
HrKWBFrelNoUw+jRjvhnmQlGgKdYo+IpnnqCnyl8MibVKlgN466Mlk/wPbOc1+/PYoQ30fcY5nkXT99c
+3yEb5OxcCZj+Ocgx4uWI2+mudry28/S5zDeePfNdZnduLRh66fcG1mf2bcHWR2Dq8Q1ln2ZkXHclPZY
Z+zdz1xdPDGCzx6gj2EZw8/ckzcP8Nt9rNIIWo7jrcNoz1ksvHmET0Ywh8fccRnPYanSwRW2ozuI9bkn
877LFUZPN4VGWLXjOvdExjG8tneHWNED35LmfsY3HNW9f6/6Y1mZQ/KueaGKGYwP45K3ch3mpbdR6X+U
MwfdzL55zjFIbJjkBjFGkrGnaZCUGeQaFG0EtsA6BjylVYlGlDAlj5U1pLqDRKoVlSn7UdhlY+wl5CSu
Ae5ITq9E0zNdn7rbZgKYOA1DyX6O+DirETCSV2KTmV3DPM5BHUjRReAzN9BpKKUXQs2s9n6iGxXWvBrU
qk3LNxLQN6DcGvpktHmvnRHL0aBTz5fciFhLdnIs88UbCiw/UfalaITNAzBr4cp8C8Nddcx4V0bIsPhA
mZHRgY27zytPch6lsof2BrVEOwu2dJlU7aUuy9zwL4AZhnwync1VoU2e8Ewq0xXQzNwit8y0hTSWOhbM
MmHBkQLARU2ilKV0p2K+pxRui5mYgO8qimnu2oYlGlkCAoKQWAGDKDHODyBHJzWbjyFrzVQyicn3EkCf
EtMUGGlrGJbJeLhAcncJ1kJCd4Yo1wjiMVymjDPMSYK+mFJXldSEgLFMNpdkYx86wyN4u2wn666hb/ul
3sfgWbOWW1FgvKard3GmprzD0llSjhlytUfCpR1gRFv2gaHxiRqQ6DsaCJi7pBuVdC9IgZXuiGfjmqdd
RjYxWZXJI77h/rHuB5aYxRP8hHU2GbxYkoS6gPTBlAEtLY0NdJL6GKxRIfmuLN4IeG2zHIxNyjA2PptF
u7hmJDDsAGOAfckOIWl4fonIvOq7XJ5ttuZKhcYGV14x6DewO23TZKxFpAIQLinSZk+027B4I3GdAI1a
4sYYKcv5pSZxCtpmdpi/WWpNmWwQ1DSTzjzmSDBgjQH+wmMDfgRIiYXE5xylJB0IzXe1p0HPuhYGvbKo
QCB1SSSezw8ZwcfQTabylbSyU2EBNIB6icDXXlXSDMLUvn+nnburJK3775bVGEmbMikHbOSCysEj2tvG
8iFMyaB9A9IocascG+dmg3oZx0dq2JYy6ywp6UTmLqkthkPBX3vsFrtK+NcmyDDPQJJdiOpdzfwBbrCs
tSHVwTLp3iRv+sQKAafbCfWgs8Pug01t8npJISr4wsoeyhBfSjiQScDX5IcdzG4rST2iAgsyMmTTFLTk
kkgsuPZ26jQxTOkJSfMSvx/bOjssJpMM6rXk/qBm7PxAUpx0r2VfyJcqyXNf2S/4CRN+32lr22GFh9TA
YUL1APchSiUKdC3vZS05ZoMVWtWUNqAWOd2dsyH3DgPOpTCHUMinYktyT0AFzCICm9VsYotp28Sagi2S
iBBXdlhhxeK0oc0KIoFVmVpTYoEUhklawSkx/Nr7mNQfQgozC8hjaG1c6fFhuaSeHixrS1LMBPF67Y65
KmGg/jarA2xOkS3wBG4IfT4v0kbXmOeCld/B7MBSVGbJEVX72HI4M4ZAtButCBKSAilq1qUukRkHSLuG
gYmSewXCpwAKavmWFiYL4LUOiMwD7YADtkMyYHN3UOpCSWKJHZab9NFKfxpLLeqcIxnYNo3D0L71pSgz
sxU+syK9nErCox86bAVJoPzY7MAKMp2ZGYYqKMQ2PNuXPKtAWpe2sg5vd85mTzhrSUqM9MeagZkrfsos
kH7MdluFZUjVLk9y4/9l5/651dpMS3GSSCI7u3NUpoHex6hpUkEimQcFRs4OaKn4peM2m35n0+kMazLg
cZb3xdx3gxmK0T4qNwYmQ1fRaBZhBZW1z6+klbIVcpArvhfUIJ8rUoUUVAIFj3Gy7LfEexupbYWpYATa
5lanrPYaKpPUQJ54q9NrcUjMDMVUU5ZEldpXFlZgzUQ3UiZTwKFnvE8JeeftEmyzqGSXR43sGF0iF38V
QZQnjk3nMHuU61vRzNyAtOoMSvkihrtuHdQOy35vEy25lqVhvrHZeiy5hEkrVwQEKyhj36Xohva2OhLK
m1gwVKDWNUkBO1H0E8ZFY4C9VsCzMinWDBIYHZpKJPKFdfLwH984LGjOucdGi6cEW8H61N05UXUgaFYW
GmDMP1MRuA9SubSiuaL78P6KzQeOtU0M2qrFreZhkRzWBWJ4tgIPi0oeVDUuubMtZR6rzTIzOyz4slll
RorAQY+zaJqR1BAMQipgrGupsqY1NHosqZEu641XE8FuDCSOJVnNBm3bNE4WAmOKnLN+PRkPAoRzhzIN
JIcVwhwyxKp5C7C0AlmCKZlWLeKCyWqmNS9JPpJx7K7lIUGTiGvH+sI8G9Tv2BycWIquMU6ftYr0Lgny
hzAWbb+WZLnDQj9ffGZBCFlO6JDKNn5jUyKY0kE6Y0B0rodCPCAslM6oCPBdGyBn/1oamfb+mrI8MvVR
VSrEQQtXzN4yVJxxKtF+ohtuoy9lWZjWqC0zQ8BT3G0VitpYZvkt7X0Z1CoAGt9YIWkTWY0Up8LEAKlC
313LorTpjIzPB1IUH24iwkN2xObHSpGxoFayibBSIgv0Z4vUUPGxG6sULeXnWZWi7FdZsMdnaq2ILsnO
IUxhQSIvTWSrmB3KbEQLGRP5viS8FjAZgTmE2y2eB/rle39wpDDPHgsnoSIprViyHiS2G4QBQW/TE41k
0mlvF3mHGqdIbc9UXAAe3lcAadOrZS5tdpV2WyjNPLKoyCImLB8kpYuorkPmXLJc1oaO1naWku6T6toU
F9aM6E10taxDJhDo0IkKYlRIeaZ1LZ9L5pnDFcNQc44UvbEpywZ6ZTeIvKXlc7CRY3OzjMTyYx+s1Cv6
AslYJANDo8NUyhsy6wIWiqwSCya5PowRgHRj+iwtfaxZLMDZziI5acWWJupJBn1BZhETM2qs7s7ycwq4
PNaOTaNgDRnaY+WYTkQyLdlRcrIEXEKUsmrxuhZnhzXuQOvgSZb0Nxgg3+4oI2/3wT6SWthFtujpYuV7
AAlBDutabL6esWPRdkG2EsyiF9ci4002/UDKi7U4xu5YwdbMsgmnzqCWtLyODluvDfQOIgQMpQSTyh8Q
nj5VuFPwea1CjddbOCxq6nADWRwdf70bK6iETl7XwMrbrLwWljZY4t2JfwFVMXmP9OkzNYSlgPiGbVaU
/A2wDPbnAIiRX6YUMsZlCUIViGp1uv9uhYdUCYOIdUSd2mQVr0tJYi8TkbCYzjbI39gXHVfWO383VxMo
Eo/pLgOcEdOWOwuKgsWwMDdHBglIoxgiA2tKHe4o2pS0PoFH2dlfmZIIyCGZJpLwRjVh0zRsGoizW3Jd
HKIZsm+tSnKT0ocubcWKL3URQ8cvWqMpsQlhHgkIr223UqBgs23axG7ZyoqcYvczLTsv+VO5HowMb01g
gwRarD3SvOT84Dsscuonu+WyAY95T+QL6gFlpD5ergez5DrbNFkASN4Y0MNrMZyC3DKCTVWOSK0KDdS4
1i6ZU/mihQAe9gTqjMVpoNlci9ml5IHYMrS+/ES0fZiKSPqr1FB3RFSahNAPfxal+CRlAbiSZb1Ye9MK
FGewHHG4JNKURTSkMIUByMd4ZelYMlPy3W1Ct+mVmgUOy/hzN6MKt5NICURF/YcX2aTFrkKNm+l8YSHq
HuvssCmvLKdJ9mDiEnR5L9gD/UlNt6C2h5oJEjJyeIJFyyallUyj1NgqCcwZpnYykpVseIUKlon1hGhl
KclrosUOoWOTCDe02UQsMSNyPbR6Er/aa01nW+nA7E3jfgxCCqfqOC8lNDcILmhpKVgalNJ1vIaDeZpr
lR+6v2JdjNiTbPKgVuU9KL6Yxf7vKUQtkuq09Y9pIAwkh2ZGLlIQCQZTwJXy8AIdtJuu+UOMFFPFxHZa
J5dd1patjlQClLpvPMZKIRwqYlBhq+iewvj2SXU7SW9d12KrHOT/sq8SOANyr43YaqwAxzoC3CTeqYA2
Gvi4ra2nNQ+OjTfYjD3Dy1XwAOtA4X9iVu/Xf2MaKAhF0kRB47HbnWvfY31IHrPL6UkSzJdYILhHSmk4
vLXG8cO/snJbWd5MgGlttS7JRu9RjsBg3tsQrpcrReKNzi7r4SnCtiMqI8NE8ScpzaHaNj+2NQ5kKiAb
Wi6fS5mVwOb6mT1rjqWNQFWe49i8wTX3D0vUSiZ9ESzdYktgmI/lJh1nm7Vz+GxFiZ6zlTEAEGsscSc6
QEQz2xtKLyBe37B2HCxz1smPmIQGHJzEO2y1ks9TA2Ri/m7NKxhUFcGm4r2jtsZ6fip5ohuldmZQa6ed
+40Cy8idAlKLYMO2VMoskkVBbta7tfHTUDgOkJg79ol2eEmPTQU32+Qwttbyhz+w4thOGJUaQsjaapIM
l+thajdYRnDPfr0Ndl9ZVTbY0hHfWQaqptJ1q6ixDTbrsWXntr3b/un8J3EicIXYRTQqEoxeEtfphWN1
xZrzjdT7Wy9iBrJMUjmNX9xA2PBpIsN9l5fQdDq5HqlDyxtuQC9fWh+ntkCXV+KI7GHuZlgS9ONEoZT7
FVhRrLmUfOQq65dKoPMHQ1rVrPkZDpA8hVHDEjcM3/EKEJBwzoFF3J3zmLIdVe0bEsyBFGAzZA2Mf46C
1SnBzSpwaby3doqksMmCChiCcn5A1L/4DqFet1nvK2vz6jRW1ockR9pglSAgJhpcm5ioGSPOv2JNBJFU
Xyn6ZG0M2k12WqxIkxXL0yJ76tiCK5KPiV4+k5IHznZq2KhIbSjuxZAXx1ANglL66aTsTyQ5eb1NjMw5
tpRN96CVptTyX/mlzhaZH8thcIbbsFEbHTdOpX4N6xrkeujHRL9ScNOwmB2NbBoG6e+GprFZwQ7YkC4K
wYrdTss6KXqZRFJk4Ctrse+xfuHdFmvsoaOApXmkdMXf/JiktVaQYYd1a+2xaNTmwndWCRVY60LR5fmZ
WKuOrWNitoUATGHN6nfnK+va2WWtcmt+GNdSOTYdlGKhGB0oYvW02UI0X1g8KLmgAJm/V4dQLCdkS3IY
3rJEcCLFgoxIvkKN+lbqdsf96BP0CYKsAXzSFcjv0Lmy8owXRmHjWlp6oSid9VIFeb2tumH6dY0Fw0X3
BwFT1NFSKta2dtI7qQcdW63HkVrZEKaxwwRmKaXQuTbaTvG9Qh9JnrexCbAOvRE6KPZar8puLUnbA6KE
tdRDMmV6YKGWEvqXgGRdqZlAde6wShS1p9mZ9lMq2jJBG8Ug9pNBK/J4CxE2QDmSYpzbmisnSZVvBifa
qhMtUnYoqNlaNLFrDQcyOnsXXBf22uME+jvxooDlnJNa0doWFPIANdraVSalo0n3ihXplC1dfyUlTkKp
H2CSbQHdKUqUjXg9aF4J9s315AWGel4kOKtoF4T1V9GG/hCVlHdajbfDuo5tzRvTapUNhrAG03gjHFGC
FV30yX1qDc2iX0w0L8FxeBlbXkp35uVagtAr2nLysNVYSgg8FUi+dgny2+12PsfL82JkQ/pZZFy1BUCU
I3WtWX8NS8AK9hQC4v9yCmK2xLzZzKH1TDXvsFaCw+AWwfqxVCVZK3LECgqJaKdE6gEHUeoVY7pa0Nnn
4qzYxMMu+ntgQULpbbfuYaL+SB5giNGA5VupEA/wLDXsPF6zApFhazo4UmhEe59Zv/cnUhDKkRufarw4
CH/VxNsEaSoFMyRqiBCDlehzPUZGUOJVP6DB7ZKV3cqqddjs2NZe+hjKmGdn2AAHmiZl7TXP1iMwLA7s
gFisS49lNrnF1I1YCSV2jqVIKQCAR6G5vMhNZSHLrK0vxfRZmaaYWg+UY4te9OxmuTdTo7YXONWHzfS+
tsceHK64FCIe8tgzRUecAa5OBVw4n1t72ubzt2gaE2FS0OJbgyzYwfpo/j4SEbV9xXf/2CH/I+HF9Et5
gKaOLTTmiLYFYgGxyAoCmzrdUl+Y50Cs2mH2WFDKewyIIxN5bzEV5/SA3LlUsrWYoAPExmdsFCxZqeKt
1+q8GPKYppdONIq40VzyB6tw2NJnbbwlhv4CFZJZbGY9ltIhGmvNQ2tuaBWnUWunFA62jEetbaUNT1Op
jmKfdflsySPD8qv4sZ5Z8LpDYbdD0Lax1aec7akYmms1jPZaqwDsK/Rd1axaUYo8VqXbq0qkz23CVFup
tiBYvpIKLaB0hmDJDZQQSLb0wbufsSBQEA5qhyyxw57H/TWFVDcVa6/QtUJdJScTDiS+4Vgg4mjASdXw
9RuF+GBNRWwdtIiGZDla1iehtUGrcA0mQFUQhtryVrZqmNnOGg+x1P/hATj5HqLZ0iAvz3RYfj6G3o53
WzdTH0+vYX2KLs/nrXlMaBKy3I3Dq1NsaSLWwwHfh/KfxMYk5hw5vokd1gimBMXrwkhuKBOqgwypVUCB
YhDwdgsdd9iyEIQHQL8Wj+fa/9PpeuefO8RIc7ojcY44tF3BR3K1m+dY9EuzxfxbvRjHGhcQhnhgUA4H
XWOrn/HaSpZO4Y2QFICYP5duzUcq0s1xbKm4H8Rrt8EWEiyz2Foh2jdoVZ2dmMdabfvBY44XwTSJrXM8
74iCHhzM57CfBTGIS1LxPdrKdcNa5x1xnFl3kfn+++9+6Bz0BQJERVML7fLwnNRITVJNDyeJnVVX9sYq
FUHqGFvAzhoqXWCnXkClbdYLbs3cvLUGkx3WGhSCzDl/9wOAj4pJYcUWeOdYit0q+FJbNy9XAmywxRAd
W3fQSJ2YqBiyJpoKdtiTbNayC5TcVYAFkdsAglqbdfG02SKLXe2B39PSknfEvQjGIxVD/NLRv2vNJy51
vpwBX4mtVmW1ygCkR89enAaCnmNxxrmWGwkKWK8vDSgIy2T6qN9WT9zYbYlow1rhNPGzAgFLkXfWasby
fS6VS5z/4j2rXm2tGhSL97Mz8aV72+WKVyPV+7vaCeqIbWw9RwJ4SOGyXyHV0IwoYBvFjsuzzj9Lg8Pe
5LWOnFYSmby959ET50OVxdKSmqWvrb4QdO0ze9KrHGGFT3RcEB6N/X5Qsq2HmF8r9yjF/9aOvqu8BBLs
JJ602LHy06GPEyYd0AXveKRTFEwSW0wkZ+OOw1OPCu8u9WORtNBxfvJfFvkDC0ehH9l6jc5aecA1PWFL
EtI1Sm9orpUXqW0QZ0DAw21KFFtVbW3QG/fYqAEsI+8YdOgT7845Vp/5oTgDuuwxhq1s87eerv/dDpFI
FxBPpC1YNyzIGgPeihKWO1aUeafbWY+/6Q6Va2vjBCtha8Fs3RarApAcpTDm7lp3EauLcbZyCthmKwZu
BClRb7D6Mr6jygSr7Qi4ciFLqdEZVxJ9a523UhWfYmbtLNJqPEydtbh3WAvTFq8yPdZslZWg1w/YsxDY
knqORFZgKmIV5Ktma875i2NvjklATjzqYsl2bKqtt2ikyD5GxjtE6MbwSDeEFYIS0Hl3jorInkkxzmO7
KsCeCe352JqYEXcDz2ATOYLbZgS+2kp0htznx2Rd+glpdoN+PmHF4SjcvOa5dF2iC1sk1GE5fh6dWpjW
KrfobahSmqF765MFm/01DWpYxj85OSJcHnDS7Qq0RqcT6FEsYbr6HLntdP2f1kMdWkTs2BpqVDYcjq2z
Z3i5MneFZ95qrRCo02VJimBLDiHZcgNLtoERSC4wMcC0vBI678i5mlxgIiU68Xut3fJvoSTIB4qBG/6p
vfNCLhsB9LPwYHN1n7Oluq9PbjPJy61IjrIVVPMwVIhYLD23dYtPrpP0SdUkBWPztk9HVKTTbWu3bqSt
w5vpbGFAW2CKTjIGIPE6TEcZW7PUkwKCsa3N3+JQCUdSZZWIumjphfoxpMfXoduDS051Zc8PBy2sGCyL
F5ZnXeDiQtzD+z6tL8exJ8TdoqSAIFLa9to34j9TskXONq/ix+Lu3ae9Tlv91vncxijtIV1vdChJYj8i
luIRYiwKFvzO0ondObn2hIWg7GEw0a+SmYiQFfQrwlhuPXCwWBUif96L5bCmGXgyTQzkkinW0G1RiggC
v0D2RGKk2UJpRogvpMMM7F8hbOLBii8g0fPFqb2bh7MwXsUzt8EWz6Q/sopubJyHQ2KgUqA1wSNXnjsb
dy3MgMWsfi8m10ZDDVsFKxm6uWZrT5p2q0Z3xBEGrBxb75FXMHBiiZiDIiCwD1o0Xet3jB2DjBOAFVhT
j5dVQaPtlv/lLE/n5IoH5TDJI6oZIimHd8XwEo3QHgbHFSvB0oJcwRBriWUjFANFWpjWI8GPmJiWG3a/
sEcGfmjLAUeyGH9nSdb15gt7rCpFJlUoxwm0A0Q7QmYRtNlyvTUiK7keVzSercv5HWE/KwFKDVXwoESG
5K3v35FKYRvk3qZcT8oa+rkep5cOZTotBkQFQPtCW0F/Yv8IfVnwGMIGk7anco5jjyPoMgFZbcjt/PLz
HZENOBQ+Z1yEmDnOf9mwDVtTkIfIEk8UUf0OWgjdaWFa4q0JapEhYQUGFX0ezOohHhbPl6We9aJFocGl
vq+3nSFcsG+jxJYKk1ph1i7eXBJfTHWHDSHJr9WhtmVfJVihzANYnjsy6JCyzpVeRLfxpMKxIVyMHTA0
FcpSzJDxWZwAZIONhesuWD8fDSlozO5uh26VLkuuLVJulGdZclQrzLhWfDQvGD0KqdihPvPWh8gzLFo2
oN9iFNsCsY6tVYhpyz1jkZWRtuhfnnJQSEwitHZYb72xlYA5aMyGRAqOJsrCjlpxz70jCZNOfMzInv9h
YVmUkbQL+CclDBl6IjDNHlt9U7DwADiYVz18asG6LQG+UTlyhsPHsRRfSP0/R24A0TFvfWfZbHatfq+L
OxiJ33yDLWJsUYWIGsy1zTLgHql7KUsrsCLmVlkr6Rtb/3qjxFlI2KkfeRvpc7fnt9avJoGDcri+FuPJ
2pUErrVtNhAlkXPDWr/FGqKC17WQm7AriqFXURimLFoa7LABjuLsZ0KRUGsUC5Cg1waLiuYb8aEby31l
tkRem41rNl+6PCrjZQ000iwHOPR84YGd1uug6dQjYjFlnqvxnraAJ3eBdTPhz24/kZgVBlgNUE7Y0FJR
KGvFDY0luhZrpOV9mo7Qg9b0snrzG+Xw0jGAoX6WvLehUBuJqDGxbyyBymVhvH+EK7DRRttBwcrCFITx
KnKHHNSn1IF37BmfQz4TNWGIjW0NZcfSmRE0EddskXTj2EOiPTZ+CUKGW2djyL2i3HrIg3VyhxzD+yGj
9ABUqKDpMbMucV5nxMViiV9YPvZgWmKCgkBu2HOULd7p2IrfeXZNDfaZElzBI+E0+QQLCCoQ67pQ4/Ga
tXp4Gub5Uji6IGFMNTF9AmX1mJFal4khj5VIHvS+hrEupub3utJO99e9fKbXHpPZsphGzmhBjrICeUoL
vM+etG/kdZA8h02lXqSwUxBY8NRu5co339i6rJ+oGCLPa5c7l6yME0xJ7ypjvRhwwTLzQIf9NWye+poZ
cJ6WA811LdsSVv5VcoSd2nu1aht5T3RAYwt/5XrWqmDKbYuOAlynNxzUw4WVCvbYvLWAbRECDquiOt+1
2Pgj3gfNSW8UZqT2oneUltrfef+05o67SmjiE9ZapiSSoIW1upLfWaJlHB19HkWJTeWC8I5yzA8jq9i3
MyBpkLE4ScwcR16yhZUVXcoBVOi45tpH8deGkS5d1E4E1qxL65s2GyVWtp49lsPEW2h9yh2MmgcIvI6N
/t1EbBlqbdpLcophfBtcVrQqYXtaBLiKbHnOLnG+Q17H3P9ohz0yECvHD20N0LXgcVGfAN6wbgcA9m11
fOcHXqLFEzaHHcmNOirg0VnI8F/KwfYk5bWPLGbLg/BesF5F4n95DNjmdCmnHNvrFqCsnS++3OvYcvob
ZU8UhF/s2Jr5dNMnVsOKKbmuxSr7fNlyh4yQp2A+j2dyZM5cT1QAfmL5Yp5oRzmqh6Ivih1rtIvBWjDE
pJq7H4olT9kM0lcsIp/ov/I2Lx3/D33v7ziEU1hthiBI+C/ltGNslB5GSqDxFxuMavMl1tS1U/Dl7kpR
sN05LIbMKBG7+itJt9hoK0A7toC2Y+NRBuUeWFAn/SbKqVqfVWQFfJvdwE4bemSLqTu2KrKNr9CDVauL
5YImR8qeY9LKkXiKDb4otzXHQqc9+9bh/hqDk8QxQXlF8vnOHgtxlKpawzDIV/TsiFedPvsWuWiNOlB8
6f877ejYskOJz9BREunwhz/YaFXhTEjSrt4dX326Z+9XNoDFVltvl6DzaN/22qfehtw+SQA1GwftMSfG
YoQoiw64zJbldyxANc7XdOjK2WFZSTly7JFscaHG8to8ULMHHdaw9dptIX57PVc4EAXEKHgDT/mUZdiC
Pb7/1B7Di8e4FPHAHgO1bOTYOLIu67NQnSwL3dVuy6Abia9SiUUONgUg1o6tAS783V5WjtjsVRtd+wn1
UTc9ZFxn5kUDCfxNSchf9z//1bmhmNra5Ka9R9zhdL1Bo35q10X4oesdewBkHBsSsl37fRJZBSX46ppn
w/YlI1unEKj9kNElpf0AJgqEI/62jjdFU0v1aWY/4P2JvQSmwtRgN6q+ul6S2yhhcjBIWi5Uidwk5RVU
qYQIswuSvzRQ9i4HJrWbf2fEK559vrrP+AnXV8Z+p2wOVWTT8Vmlnem+Nu5Cha8W8FykmPvtMUuYsboV
DKLASx+p2WxKfGRvkoI93Cc2kWDicrSWby5ZRV7EcuolxojKpRtMJecVfrydkTh/wIarcpzRqwVexRyJ
7oiMTW2KbJKQvcJJsk5iFqDntU5+hAHxlqSK5LhHNmPcaOsMkmu1mPeCpYppfepXs1EiYTq8MsrzS5Fc
SeHJPqAzcQ34SllnHFaC2VOllA782BYAMGu1BfiXr8XM54VETOSC8Hs1laS8SCnkvUzMOucNSBS9fVFR
9IqSbCuet/E7JRFyENKS4W6wYAyGxuj9V49DCZtKJF8WA7RJ+fbKA8Nbf1xWL3BdtoTtg6nHcnGX3J/L
qERe6hO/uk5bJ/bXKhOYytq+M0t/CjgPdBMqu+RSlAFj4e1CPu+2qjBznBLn1UIoV4RFciFYhdeEYVmV
VASQeH/GWsht2RV7bTNtMZ7W8zCdfxPkMy4LPKmAo9bSkHhpppwA8qSLThe5ozjmHaL2loDfb7LR+2za
jXjksR90olJKcqsSOdn3GIJTW0tENGtTDtYS6cz+Nol22LqWdgOcUGTujbbJCwnvx2LaPSuuJyLfbMqI
WcvW8Yhf+aAE7sp8fcnbov+JjkdGkZGemVnFUHQbR6YCGvdEnzboSMdruVxAj0YS6GjLgzoCXt9MrL+W
uyPCjup0LZfOSDIBgUZYk3QlVTASXSk5ejzXHbC3ccOYV/sZOyYRFIwvtMf04vXEiwesbHO61s6SaYAz
NoPHDwxES6KSiMK1pByvILcHsR79oFgaa/smnjY68sxadtJna/tsvTvMm7T5bXLrNd8PecsYiQo4kIEz
vycWWIUd1ORgnRk0crtrTLZQVAZFLvcAs1m0uG8lKlRuppEY+4RpRv8/W2/aJNd5XgnKu1Hd6H1fr1Pt
ZmFcqALk6Qk3qlAOECRFyNxCgKye8fQoblXeqrpEVmZ13kwASUkRAEhwEynKtkjJMm2KIkhCEAGCAAEC
IAl+gP2d/GQw5os7goSoiZnfMPOcc57nvW+yRwuqKpd73/uuz3LOedA2iFUgTqdk7CrKRPK4IFuuZAUp
0p+c3dn0bSuiEr1D0VChzEYsmGJdpVA6y1sojWIvMM5I/ilG1+YpDHz7vm07rBwIfx9mEau0DlnichPj
D6gponOw+jEPiMW3uRnsRgQB7MojZBExH/lc9syen5sQvmVDqNoGVXeveCCIbc4irqEcCrwK1UbAfB5j
6neJcpiU9XAV1WMVquJ8I6oMzBkgI5091TjQvLsxaIiaAGAH7QfIFW5YubWFc2DDSZ2qDbO8ZJvSmGEy
EQY6he/SPW2iZl04CdFj8BPC1NfsQxWJp+vS5QccGzHm1ZGQYnbf9XrnSt1fcMJZrENNN/KLZIx4u229
4LCxCXDM+h4BIuLdUHS0i4fEclCRt9VVds39vk4AGOACY42T/roH+JYdjd/dUwTxdMRy7EDwYwEdjP1D
VQGGiKyT/4lKWuujDXGfbZ4zjEggKvdR8GoRthBRd3XCcvGQt8dCtU+yMOla5fsq5ydjFRsofICeRORY
63/Qw0CLHdbFvLUVO1JAplMIIY2ixRMmbZwq1KgiT1Q16U0AAMF6Va7R9jkg8rbAlTMvdYStg/Ojy8ro
RHRpn/4PgjfNOwppdXnJDM6lETgw3I9E9apQ0JmhNrYWFG9H3bJ4oT37vdZ5sMycS904QbtBMBNRSkEm
MI6bA+znwRtHQMBO0UrJsc4yrDG4QqK+1uXXxZspCqcq3uf7hjSGVkc8rFm1Q/savB7YzR7om3GOb0P7
3CxEcqVQ2q8vupMqE1jXMQbfc3Q8cJY0uBued2IEcr/4auz/4sl0nbbdIK+D/WCltn0P+RVUBavWhbWq
gV4ilBtQBaZ//ZyZMKFj8+4hGWo9AkbsfixtX2p12dzqqj7KwrLzvBvSS2aKwiFrjVevmwTzzRHkXdXq
wvoXChXgUOzztsrMA7X9y+6GZ9S8sflmxoEQeAzXL9MFtpFhyXb+DzumWTwYdOs0R7kt3CfqRqE6Up3l
TqH6S8Ws1h1qNuJ+HpWd4fk9XEW40jqrLnV+YBBq7pOLzrODyY26f7QasK6BCgFKw9w+bOVONlbtkD3F
F0VVaqhSwJiU7b96nnEPmawlZ4445gAgKp7D9JPs51Kv5rwmrcmGjnW7SbxD4Gq1WlJkb1nzD/FFwUKF
cqh2IICLc8+B0sWmSh+OVuFh2r0dR7aH68/OY0cKdHr1I5xhHkYsdrjb6GSrrurmzMxwsdnCYfXjTZRz
73NeuIpA47B5hhOwJ+GcBNvHI4oTnMU47x8ed8l4dAr2PNLQuE7hC1gcd1TcI0i+A7epNDdJhd5Y2m1E
egbPT9RAKnlOzRcKi3ZrglUKUR9Wq50y/3Z2CjFXHRhFEiG2P4fuuZMg9iOBUpXcRe4ztiCdlQzFKRqG
Mn96kz3FHcwB3iEw0B182tqrwmGfJRYNnDJyNwqdq2uTe8yHwZnPILCNULB4HAXdOH22T1QDAf5HOD++
DkJzuRnEruE3XB1D+8DqxPUDEKjgyl7rVcdgV+53O7lXHh1yPqm9y6o7yQpXHO8io8xiPZnTimm87HIW
5qZvAgrTd6GIgnW8cAKIn9gseFBgwQ1gyVlg3xmOxutOTNrb6XAe2h9HsTsTl8GNtsuKYLZ+lPXsFL6P
drG7NqL9cV/8j6gWXW8tgi1/lz1bx710+A6oUy08W6fA3MIMErIFtEizwFX1kfsehguhW9d5aEhFH9SN
wxpntrmmiAtx2OFhq8P2WYSUsL+BrkobmLkHVmxkiFIsFK6DLTh6ezuC79ztIBm3ExtVz+wU1dDZ4V2P
cU42t4D+hmgJonhw2MBP8fNlidX8cMAI2Nu4iMg86p4hxlIovrQ3xFO0fXSW5x2ArH0PKiC1mHDj3jqO
qHlPQ3n7u05hL5w829wt/iOqHGEeNg/6Pt9xkLyWG+taDhEXdcWTpnQ7iBxJa+BdbjfRQbUHmC9Edp8Q
0dBbc5hSYSbZRm1ei2t0FGQMrdTw9OHHTZgtxfoYaj9ENgxBU+1iYCny+QvHHjcOFC6cR1bt/L3f+0//
eefuDpgT8CXdeR8WodXByo17dnkGYQQfCXPZBUGanc5BYgjA+tGxPgXduPa8t2mDoDjYLsy3dHx/m/fz
outU5WYdjEbzR2dm9hGggBpI2McYPFqCCMDqoJvwmp1lRJdwLrnADIDbI2w0D9vkRhCNoGx7Dgexz0Oc
hFxO28exjzpbsRFZcmabyDuYF1Lb8Wj84mggZMbSAnHUy4PDPcQDSie/IR5HVvcup5q6AkLzVZ+3rn3R
LWaP2ka3UcwXej7YIdjHaE/ViWw9dImVwudT4QSLjgtWFK6vgiAN7cNFlyRYdHJWoCG0r5W9OZ9/gaCf
F3WiY94FKTfLHt4DSmDVdneg3qBNMdqw+WgP0qVD01T/Eaa33c58OsLyWLzW7s/VxvZLGMXBpIGmKdis
sjtw6ksHcQyzc3pLng53LuHSkidRvgHJmK3mWy4d0rh4REzLwpmdBctu92HfK8+5tKL4ZM/pUIVvuIWz
5p2/3CwpllqEzoIrsYAWaHu8QFmwq+Tf9yY7XIxiVB4jtQI0ELzv7Z5xzYkGu/z45tlGtZkPDQp3VDW/
ts+Y2YT6qhPbNa0L64ZetdnRazbJJ0BoDoa97h1AN/W6YGr4cO0NeRz3tze3ji0C9L2zcF62i/40/jzd
I6XsdTs3NrdYBVnxAaR5SKoSfTy2yV28D+e30NFLTqjcH/EdBFDW6mMzvlD8eCuWfMN3mYyG+THA5iUH
UxRuWLl5U5Bibvs20z+QNnA1mOAiMhOGeSTdn/VguwvWYd9xGaXCet5sgmXZQcjjqv4eFg3tI5FLFZdA
UzUtG9+35lW18wBrk1r/T+AUxPt2747rJe1glqRuClf1aNhPNk4uPYB5Yz5KH06vbfY2I4UN2oudDjbi
wyUyvsgCQR+lcQ2VzvJ6uakbirZcIFuC9ebzqUBSnehX7EKMK23t2b11rJj3DzhbpXGs8Zd65SMT7Kx9
xNmsg9i/5L9wG+jQ2rHzXECtpQV3N/39PV9a8ECfa4cV7rcWymx3Che88XS07RQOI3MRmZlZlYLbMati
cDs2zLgZNYfr2u3G4WDz5k/6f/Xo6OZ7w8M3X6+gAAdlN4ZIb/60T5SYmZUexPfa3aiZzkh400dkGROc
dlg98HEceLQ/1kW5Plip4SB5GL/xADeq6MGwKrEP4fxEyGZ886d2fdrb+P6ECqnqhsHWzetwy22tNwPo
hsq+wLnLfQJx0x7CDqyR2Ec8CsHoEaLe9C8Q2YAWrcfL0JBRba3zhEJDe+vmJfoZ5pmaMcWIfFNu3vwp
DN8jjJbYxgD1oS7lSrfoqJGwWg6dhDnYAmENzBDc156HSQuEQX2Be7Kh4fegpXvz0rBrrskjyKIMHikj
MSIALquI2sBK4QftK3t24gD8pJSJtmMbJ4/7srImPud/l540aLz/SmrH1kcGJf6wNlLT2J4Lf1AXVXkI
+PHQnIlkhdmFRJ4A1zFAmL1EJ/brEnFJ3M9THLZXr1JRt7RW91gBu+b7a4iy4HVG4GHXhL/BUFEjggHH
HdmbZqVkeKsKRS75YeXQ4zEDRWnwNzxLzT8YeA/fvHQECQPF30aD0c2frsLAsPcfhlAya8pb+5WOKuG6
juE+IQGCBoidCvKC9d7Nc0gSHGH/SMfOv4d5xMwO4q4DzGeKc6A6ckXqKfYE/GLz8+Ylc2AGiPSw30gv
QlF4rDL4V1LntR2J/cTxsH4abKn/mUeocX/auwOQKY/YdVANEtcDWKVeqYceFyxp13BdESBblpqm9qmb
5xCI7N68BBql62Ng3TGjAk3qm+cGSH2vQvPGVi72XbN7YC+bg4D+WUEkBspOgJ2TvG/nYanxh9+FfmQx
8+F6KXr2gMYZZhfjnUAfajw8k3POnIMj1BmmDNgjkJGGZNSI8W6y/5RoAjrl5jmoA1Mpu+LyXR/b54/g
a9YuW6ZQPA5138aeyc6GR5ifuflWifwI4M6egFK8reJJwMqonl9sRJm0dWmLF3BpPQcgR9J/FuW38lyX
zQP1T+nquxc+vPzRCSjZ4udHJz96JukA20/87WrC7334vD6XlHuhxws1XeoMf3TKP3eN14S2sK5zVfeB
8i0/79ez/+v9C1Qafsuug9ZctU/wb3yWir03qMd7zVrymKsQvy9NY6oC37D26Oc13Omj42iz/YX7S//4
Pb3/0XfZ9if9/lehDuyqyW+7BrBUey+4zu8Ftv0t3pO6w/YNKAI/B0Vf/MWnPgnFZbs2Wo7ne5fXwPcv
83v2XN4+a48+Qw1ltJ/tQPvwChWQcZ/vfPQ4++k7GA22AvrBb1u7pZx8mVd7m8+pfrpovz/p/fUex+eq
PdsFV2x+lCrIF+xbVCu2327wiS/4uHznw3eoz/xd6hVfwjhR9fiS9981b/VJqku/b5/R92/4817wn5g9
x9mjV+1anBd87RnMG84jKUVTs9nae5U6sI9JD/bWWaizfnyKurBSjP0pX79ARdTHqH77hp32T0vd9tZP
pK4LCwBarlSLvfzxCdd8bVVo8c2n7d0n7ZW3ocFq70tLV5qzr/PbT0Jn9tYr9u7P7Irnqbir/5+jeiyu
8hg1ep+EVuutK7eu33rH2szrugLwo3wH98dV36QC8GP2qTPe/kdvvU11WWgFn4LGrivRvg5dXbTL3nsN
Gr1oqf18h8qy0Iulmq7aj1Zbi6Xi+5a1/JQ/7wko2H58ktq8p3i9i67K+1Mo5NrPN12x9mn2KNRwpXH8
UyjJ4rtU28U330B/2GdfoUbxU64g/Drvfc566Br74Yr99bbf45J95zH1J3R8+e03qb37unRv7W4/DR1e
qvNekWYyx/SE7u9avWft/RO3rvC66L3z7FuMyxlv3+t6n+rE0DGmTi/1d9Hnp2QV2mi94v37JjWbX/cx
fRzPQ/3msxyZU9QfPo/fNC5f8P/8kv/3l/2/v+r//cIv/fKv/Oqv/fpv/Mav/9qv/sov/9IXfnPbzN/5
u9v/3t//+39v+9/9OzPbfvMf/MN/9I//yT/9Z//8n/+zf/pP/vE/+of/4F/8y3/1r//Nv/13//7f/7t/
+2/+9b/6l//i/7X/xD3w+y/Zz1/2//+S//9X+F786b/9pv/3C2zUr1hTfu0Lv/6F34i4lqKsYKBEhlzl
ExQr3twEA2hih0/dQ5SF4kow3O86dNfCMWowEVJmjgJomuB7otJBNdpo2dnVUDEvCkut8Bg3T87degSv
AZIddsJhNj+DMedlSnPAiO8Uztax83qstAyTloDoDTyspbBF3ZvIn5Nmbw8xocpFKCCbD4YgNME8x1zE
L410haEGOxqOmegH6IUZ/E5korbA1AdNCCByNcNzyK6sZh4g2EuMFCb4RHUMgA4o/CKmzUyaPJftM0Rn
4/tIaVB46856wLzR5NsBvIz0W0NMGxzofe5YNoGkaLpwZBHLbkqqxIza5KgrDZgFQ5yVGRPELQDSb45t
jxFZV8NaWpDWJ6QLFXu02zCpaa21EbNmIP2LV3ApQaceqbpxiy4l6/rgjdmzEFM32jCfuW9T5wFPphXz
a9ayZnbHIux3Ps5mva7xKvswalZDos9cRimmUNS1IZsG0nxwP49UQrLB/UcwBYlHpA6QGJwonlinSDl0
J232IDatHHXdbFKrBp+pWGXdzLV9veoYQ/flliJv3QCiNMRtIzTl6mg2kdbWEKtEckth9mUyWPG+wMX2
y0IEGkHvYfLB0bZ7OysxyszcHYXMH3kz9hlAOW++XtbNvTaxJ0cHA+TvSnncDsRpbIFQ4GeGbAbc/i6z
ZeF7gyJHFEN3v7kfJNNAMw4Xbu50nA8Cf2tjXHB5xkPs4VqG3hFABhVlxQpGhUB7p5u3pqr2jgWuEHPY
Al1VmYqZgDw0ZNlgcD2/UPYkfkvZQMcBON2is+Cg/Kp7dyyrLTCgDvRHsyinwqDyuO98UrsXmzyjNKU1
4wGbLMQOVky8Qr5aSnpVd3R0UECxoREpZiSsIJnrLnXcWSaHvF+ClqM8Z/dOIpbJih4qRT9iQhA0efgM
CBJThxTcwnia5m44Uyt2gyUHSy5Hoty+24yJ0A0+6qII4XadL1c+E+AKMf1rbpJdnHn3TRKvmgBGzdd9
YgkofyYM0P7Ynx28NG4CZUM5F4j/VYF3akiMwHD2BSgHYXZdQpucNZLdJVV+BfBmpmsmLgnXm4DdyTGN
BPGikAIOUVJ6TXLZtm/Yvk7dFHyBs7xmxsquLB1OSDJgtSFES60nPCoAhVsbA0hRVpvWeVtVgIMaopoA
o9gR8WZI8vHKSshRT2pzsIpUHEn/nH7HRtoumrFnBT26jjS+0pBNOgP8XqAP1l3OKGsz2B0roVNuG7dt
cYpiepa6G/CqJvLnM824UcbdMxjFrmarHuLk6kUufGazhmyHeWrKkluPuboG4slgzdoEkoSZNd4DXg9T
ra2C7LjLMGPvFcipi02fO7aLalG9VgNGAAQeUOLUSOlDPSZIK2Mc/V/xYGFBpD0lHTz82i176zhpNzYD
4NQAk0JxZ2HD+xVzI+OhwFpYBpF9URpdeBinpBHYp8zTbEBFBE2TwSDx/B2MSq5uFIEW6e6MvOg91coQ
qoZFJHCLyCTuIeQBm50tQOa6cfiCQQdLpodIxd6OZuYqlFxLHUD7HDBXyB6CusExpxrfi874A/wTWeNA
2RSbBCjYUUL4DsVZ19Y02SIyuc1D7NTx4HE8b3PWxdJIsC1BUhxYtx/dGARO0QNDjXgqNZx0pSqZixQK
EhPgCPa0rtR+a0ACPCA77wItsy5lByQIMhfWQqwzSi4mzBM+wfBTZOG6EAWmwbEztsiqjzECEL7nc8Mh
bsAoLEt0KpLmhWvLVt0HPBxcxGm1tAZwAyyrA44ALIpBf6U3HppdN2Z2mQ9Yb0kLpKEWWXG/9R9ZNOXK
QGaGq/s6vxCw9QpdAPNCktK2a/UhfkCUX/cI1SibrWMO/F/1jbFrRunejtkzHUfYsUSFRG2LAEd6lYvB
MNBijaf7qu5BoPfwhGW3y4TUbMyRwkP0Fakt1EJyoxTa0fYc2N4PxvYO7SLrFhbNGlHdLVTdug7tGjZf
QVgdjwfdAxJVtH1BW8vTqc6Js9YC8IzAkj3KSg3xEEJB1mGrHaUiNXQ4ji26kONGBfF7KDARLjoeRvat
igRf146Jsi/dBt+akLurgQNlFQK0R0xkWxF3Oaxn4nsvCytA8MgMMwlYmolOSBoxT8JmNSJ2gZ3vKN75
2E6X1ojGg1QGVjcEoSA/3lBYigL5NYj34AfZEVQEaoaoHAie8MSCQQ6LrxSwVF1YjPuuAWjr9DCFNjqF
y9dFsquSPAs1pTcrKk8Fbmmygp0TqY6ycO1zjg5mJXaA/mh5aeGBwfCoHbIwmYku4jDZFue4Wngnw9lA
UsCeBzJ74hrAEGcayUomdIvoBj9u5r1aAjZ8eTdDm1hHOHBAUGiUzWUgl1FcSsjVS7ATDOYVwXRKVVaw
xctTyz6zrz0CiBRCeT6HAu6rhzh3bZKR5wZeplQpjlQgnKODKxdrqEfUevHMFk4wicZC9qLHLa6LShzD
wVGqQ3F3By1LEhM23wJ/22wOepBMqRpi8G0Poy1KSxzymmRYEny+YdYy6XLUW6h8Q6M0+hZ2YaqNAo9A
AhFZW4LwikEGBRAm9THK3FtwnX6Yl8Jr2sXujnOZAmqY+Czv12iKbtKJeEjg8rJHkXSMP/bMVVho5qhC
dHgIk0b4CElbAS7zW3+0nxqQnWVHYRx0cFnhKgu2VVY4r+1b88UBaigh16ZOE+FhhBSsoITzwkAJFEVQ
YuOi2L3JznBQZbPR+B+5MI6N/07BbNbcyEauEJ2wXo32k01Krx/jtbSgxOIyKVCbTnauJckpi7qR0gBN
R2CBaapxv++PqHKI9J5gSXV19Ou1G29m/+lJpcdgZwSelmoff2ib3iNj20tnJeDQm9Amgzut9B38OuEx
od5zxLa1Aop6RzRtvl4frrcwW2VdEFwiSbWJrI6jIIpY83HSRx7aAWSwD6XVXI6YQOMpQ3WkISidPcn7
ONuddh2lebviXMEeq1wvcDlSogdoj+ERDkn2lGRXblJOUNpsSObCgXEPdh07bClMwdOcNjb2KYTs2TD0
iiRyMWsxpofC7BG9ATlFbMKYPX3b99eBGPKEum0OW+CAARNJNXdKAvfE/JQyuF3w23Guo8VdiPdpKmLf
KJ1i6aoqkHdXEryQrifkNOzT3PTLwjXAe9jHGsolMTQzWHvQJ23h0ke2lunf1arjtImDw8zcHtc54SsN
zRKvhkI9DGras3CAzaVvBhZTVGqq9K3rXl7SCYlbJiTNH9xcF6CGWnOQ7IL9De3JSvVn+PVIkuMkH5Wb
Wyiwwb0Xg/LlIWV510t6SSA2q/oGBEm6RQnWIEZs0KcELgYO3/o6fDRngNMWFR750Abt82FUigICCcRk
QOUdQttIh82+tT9sv3iurotWV1iLFSX7lwLZ6Mi27TPuxq0CIaejJEAJyyWJ+vZ7UUSJB8eZAgeyRhtp
Z0DYXXIRUlITqaBQe2dgXUfTFIemNIexM4ptDhWAIamOzdfCU3APyPb5dTLQRhV1ALBEwVDUIYlNHRd3
rfS5AIB0lv1ehI4rrFdJ9NGWMAtacE8A2oAuML1Ks3KRB4YNu38DEmA1VDvEHLCZSoQfNNqaGosZSXs9
+0zAFBRDo4CEh+koIFOagcE4E6MQlJg4Agccuul2QagwHkY1A6xpkEOi4IBZuZA3A8i9DOjMktkRPWg8
qIWb0NFDANc2mZkZly52Lb3RQLQcBK+cN9EsB4MoLGGHdtcsFTXe4lgg9YdhYkVb2N2lA/d6pPz6tgMl
rKNeY4vmrqtU7beRXVmp0AW+bwRLpDmKqIjZhf2IVASVdg+19FYQ35A0un3DBeyL3TCoEBRcdkurN5GG
LeYkdn4c2wHgLoLRRpYxmxpxl0JaVdCyqWxfQa82ERqyPWu4b10AaYV9pCC/tWGWWnBJbM6uA2UUJIy5
NbPdGGKiwQDrI3BKSxCh4jaItcMadhIsgMVIg+FwBTKAGdGIKMJuwYYf0Z456RzZAx5kiS+dgwiam01C
Jhcs4DjEAzxtloxGYHnkCk6gQWtBBAC3CZ+oeyjsVYjqcauMQdkrNQtAinH0w8hxyVSorTSE+iemgd3C
o0QRo54kUO4qt0yIGHqIyDqq2ye/HQNH9awiqH4x3F8ixx7XKYu2CpnibO4dD4aSkQI6BuKGNsGLSDdA
zYQQrRnZdaPusuyNgtLXRMnOmG2x6tYFlE/BK48g2AgidyizIGMAB1uc2QGSWlpy5YZl8bOtDYHT6QfQ
ejlOm10UuOD27hy9OQa+wWDmIU6vxgxyyuWqehd2LSdUzjEeLZlGQaeLiMHucdnr3mQ/j087KXBBye+C
3Y4+wvTjUYu3aH4LIkgzzJUxoMPTpOFGuD08etQskRviYtMb1f22VMabFAuG1JWt8tmIi22icEEzGJVb
QcMsCx+xu5AcwBUlH83T00tSqGCLNRGqyt/CcUQyugwquxm2p05Bc8NsElh56A3Hs9aJUdS4+MPqIGKe
RZCDSmojiGoEJSCblCXZ8Kwb4ZBL1zStR1yswMYVAb6PdVFIjcZmiODxjmukuctYOPZdTgC0cHsE2Pe6
UOZ8t5JdXQXqvFAwAbuEXYe1cJYWnHHinaoZDmGSihw8tMGWvr7PQhH3Hrr/PspCwHed7HHt7v0bCA76
DsnDhEpkyOCFO1DsDPSqH/Tm+gZ/D5QbUmvKOJuIjQO5ei2SFD3Qtqq/fnlsx9hofKT+60t/9Yz9iYLZ
f/Ws//K31x7726s/+NurP7n9g1dvv/jGZ2f/UoC9T8/9QIg9++X/ef7F/+vyuf/7hbc/uXr9k3ePf3Lt
yc/Ov/zz8z9Arfo3vv/Z+Qv44pnvfvazFz599vjtF5/99OmXP/2zM59c/5PPTnz/5+//8e0nP/j0xQuf
XH/9kw/e+uTa937x6JlPn7j+86ee/PnpG7e/+yefvfzM7ddetBc/+977t3/83mcf/PknV4/fPvfq7e+/
+cm7P/z0/F/84uwzn7154uc/PvHp69//9I9/+Ml7P7r9/IXbz57/9Pqf3r7y5GdvX/vs+KlPn/7LT0+9
8en505+dP/PZ+eufPnP99jtvffripU+vnrz9J+duf/+GtefTZ37wyfU37JVPT7/+6bnXfv79lz678vTt
v3jV/v25Pc73HsfFP3j59ok3rc0BJ2xs7t08Zz7DAKYbJnK5UgK2jQzJmCC4augYsG4CCZp91RPMCbYW
8rY2w92psSU9JsJr5eZ15HTJPhdaiJXaqRIg7wbBWKEHHX5adwdhvA2PhJOVkIQAXgHUR5kUgqH6MGbJ
Tde53MIZEy6yqT3ANRAzmtC71THhd+I63zxX1ps3X4Z9ESjZchjwqiFzLkBagm7Pm5oZd/Ona2Dpo0SW
Y7IEIhOZVrcgTg4z9eUeatU7/9w2XQdQNR4xq0vb/pGqKBvnbA8aB2VF1VrreWvMzZdXR+KVEBjpfVg7
ksxeQS+zV7Fw2NR4Ckd5E65GGF/Zc94LlRfsBWghULUSXnoJFac+6hn2H7HmV49EANm8/B5nSxkwvsbN
MkyBIZCVfSDxXmYmA5BcYsTQZk6SrdK/FWjBJmCS0fODJopqn2RJ7A+85DaKjp9kYWwVBb/Kf1/lu5f5
1gV+7ImoRK4i5Sf+9vSf+1v4/Bv89zVW7L4W11FV8mv88HNxneNshm76GptxJr5+ultDqWKw2ngJcDTp
wt++epL1y8/wM+f5+2n+/jN+/QKLo1/li6ejSRejbLnu/njc4kJUDb8Sb1lLXuArF3k7Nen5uJeKlL/B
eurHvan45Ud8imd4R/XYxahQ/gILnD8Vdcpf4/9Oq846r6BOuBL1zk/xuz/gTc/FXX4Q5d7Vkxeyeu0a
uKeiSDwHzvvZOuqElznHWy95b+MBv8NC7M9HJ5yKe/0gCrefZm+kausvRUed5IfVnu/FTc9Hj6nlN2LQ
7c+no0r9j+Je34su0gVVEv4Dvqjevsi+0nx4IwZaj6O5eiN69Tg74Q027wxbq68/EQ17HK97XXnNZ81V
jc5TbO25KGN/IZ7iRZ8q3s/n/bnw7ln++2I84Ktxr+Ns/7Woaq9G/jj+1IdP8JG1gk7zxTRbTkfzXmOb
9ftZbzDa/Awf4Uq057WYWm/GTdXUNzm4vJG3+bjrd6DAF8rHkOwS2fXtM/sDx1I8XB4pRVlMABZWZpOa
xdJWYHOYWGPJNdhAqt2wVMa7UpTEFuZ1ab60azeufFBXDhBQA7WI7upwvLkCa9I2ZLOugfR5BLtTT44q
rrIfJV1QIbN0vY2aSGgP/TygkFbNI6AvW9mj2fZbP72r+GiZPfnSZvAsOkVKYkfFRH2jFKjEq0yYmTiG
0Hxxx9f27RwmtnxCITUIOiiSzbbQUf56SQ3i0aANvs0XyUisySDANxBUWBkio6H8LnU05W3XSXl3b+eL
gbmnzpsbcm4q4Hmro43KIrtmCPoKidta2BpVp6q3DqURfAjFrEtHgG2VjFiPezGW83SMH1yb7cBV7hFL
4ulr9rMnYRtV4INf+NWUVfxGwoQx/W8u06DbHzgldokRbF4F5Di5pBSF2qI3C9lNu8vezlIW4KRzgc40
Q3meprenxOwq+wd99+noXsH/HWHQdtLCT4lx1LQYi84ZKRM9kZ0z1lQoZoh1PRvn8Bx1M0tfPcOoIA7g
CN6+M60ArzCJFE6fA1A31SwLtUC+OmWgOqGy0ikcxWDndzLpFxJaZSZqj7NlZucB2751bNFdzS1zGcHw
2JhEYnc18u6SswOYhhx5Twh2txL0A0JhUnqNcGLFOMEKjI3JxmQLo9GgJBez0bM7FqnSxRA2USNePRga
nXjee9hD7NPAoHUoaLnlKjCujwG+wVjcvIjuok+RLRkpFyoxxW696flEmwf7BaQKDiPSPXDiaCKtro63
NKwDOGxrpHOBI8nS9sOBo8ycD15LIQEkB2iLxC617sCcerWTmEysIseyVinHvtCtYvRX01zbGkMZBVep
etR+EIvYx4PVbAUY2Ao/nhsJ5yRZqWxBchW7G7tj5UFRXKgShx+sSq2T06BB3HaFueAvp31yZuYueqnF
KOUJ4XHU8v+QjiE/aeSxnBF4u5u+BhmJ4HMspYyAwkqIGT2AAj6siLZSTQYa89BKqrrOCrS/HEkkxRJf
C1IEqPqdhA7YPhO6KIuFY3TI6WTZYrBOqe0KIf0Efoq4FrSWmMFnSx2Ltn2mSJCPwGMUhSJofLYV192l
Kp3CRRT9ZP+FZkHVf4js+TFoTciYMlEPrIT5MeCDboZ6FHEhzICWPQZ2wOQ8VjQg4xZfZDiE8QxXbYD6
Zb9wWJGjEh/BTATgEYEJsI9Z2LKJKBsUHZB1w+Mx5klA6caXYm7YbuE41dkU1KaqKOYRTjCWj4cOUce1
07ueZh5OiHTbEkYoduq1dv0eS9ocgkOsjXuBoxo24KNBaWy8SXgJc6ton+IT/YEdinbIjhZd/wOBXSl+
1STGCTfkVcAxPcb9iE4EoG91kkJzEBFHMgWDZPszqykPsX5lmPgcpzpHb1VBaWozcp33bHZ6IhtjSbn7
XQlbHIAn23N6vbGyh2tQPGZ4l7OPW/9D2s3sy7vTd7caxKNxchKZxRyK6KJ4IpvZeAGZ5wFrAdgGBhnX
imsmAY6byDP0JssJRDigWjKUjRF8G7J3601iZlHce61QIYK5UsUj7B73JUvha/3AYSIOqmTjTII+1wo+
2rv7B5EYJRiApR4eUuFTYu4oC4QsZ6ARioMRhZ+TygP5sILl2FW2p5vA7hGAcyQpVmsf5hfQKbYPKXvv
QDJdWfq70OP5n1I2PKDLq5CcdHdXQV/YNLG6lxaSXXJHbcbUrsWiLpYCjrtKZJPALwn82ygajPUWake9
yWggnV6issEBGyHcvNPFf789EzuW889hq4hR/Qg1hCrtBwCx89GWfc0QzzHwkOT9Vdkn63Yu1kIlDAI5
6Ag4q3CGMBkIJR5KViSgjMK5rpTN4YpabgQ8UtbbY6GMSxYeg11KqUxBDjDXWCOO9hUCDRuVFI485d0o
eovN1VX3bI9QYquhKChLAEMdNuWS0hnffEU7P09sx6+F5UF1I2w0xPygFylCs62dkwgosU+XkwOSMP8N
w7ZMkkSGp2ruSntYAtM3ylOOWTdG9FH0SeHZBUoxUmo6YYm3MaBAFIybp9g7q6hT2iKZXOubo0OWIpZ3
gnUrjY9MTkI7F46GsY6+b3zMbDfrnPVQGikRxSk0sZRZQsatI2O4s2PRgRRHS6HRWMmdFAozv/Z2BJu4
G1FjV+ix+eU7Z2/iEDR4HYMtP3XHaT9IzIr+g9npEnvsjMNUkRCmnUitXyJ7bZLDpNE6csi8beQqV43O
35dm2BpAF9w7Z1Jy1BEhDPmDD0pQ4u/GLqqTriGqqOcemmBO9N+Y0sY+PhvzZTahghsVgsCukPIwzRI1
aWFC6whCnoTqKcRyy7OhlCOzIHhflZp4+vktcFoRWEbr5oiDzr3+H3Zvyh/jvk5JeQS23pqLDFB8mZYi
dla7uu3unH8IXFZbARIqqCZDMVhA1nXlhHP9UihPDNaaow64mnfvybq/z6QB7I2jQ2Rz+8XKJIFpmgQL
3Y19pzssj5a9td6gHO2BmG+NkjbEvST8eQvrb1RJGyfSXcm6XkENMVqqW8lHhC0gkAHtqz4J5a4iCZil
EyIKgcawyrDDCdQHj7REDqV0XbUe5poTUxqqUdq0J2hYp333oeSL9+qYOQflOUC9Sy+Y2YFdngZTk7CJ
rN+nIgz3gcWsCAGS8YIKqBAj0+VEyAuiIbxWd19atSnDu3mfwJyD4STBXb+USCuoPux2DjzNiiOovkdZ
vrDLcTdobKAnCUtcMVcRiJqeKg0dTPa9K/lZx0DazE9dV8foIOFbKE8AAWZPSgvNVAlCS/jQnNdJ40x0
cMfMFqtVAs0hGw6Z55QPt7kWGnLJsCxaclVZIJg+JEnD4eAdwIVQAEsroE/L13ZgV+RI2ctCSHvgQhKB
oVClVB4HUrUwC57oprJYq45CP18YJ80f9J9QyECzJGTE8j5UpWdptiJNCe0RFIR3TcyKCsc19TpSFGJG
MX/k6YX+xz3uZsXkolpfT8BvKBsgHWs7yEMpJrM/WUEBIe4spytvX2ghBarEZDNi58NN0z18x44di151
hb5Bq26L9Qmf3V/BPQKY0iQMclESog89nYStNMsc8TvMqYdSLMjOEy/S+VCKFUhJkDGFiiW8rQVeYoFg
laOsk7hRJWBxwrMTjA3Rn127dkEUbVCsg2WVPEjHDMAep9iKz3YBrLqNPcFOABLXBv3D1YR7yGLUXd1z
bxX2qYgiLAEcZJRCNWHpBw1Xvah5WFpHqgTqKBJmq3B9SlhGUnpE/ERVQeGRMrOKTQLoPoGWQmFn2zb2
PaIiYV/ZRHX9O6CPaQMhr4MCE5LB644rr3Snks0YVVhk0vIzWwoSTw4TUzkuLy9nrx0KktIc0lmyn7/q
ap1lX4gBkD/uTlbBYRtK+XlpXQbzj5GxSt8YwnNdB56/aRmZ8IVq81uHVKbcqkGgkQYqK4b1u47qK9Hm
Li23wA77CsDFV5MPAe4O4khmbbpHD2tki1qU8mHp+ZRh/R+pVNiZmjSusdubyFNCqMdzctY+9uQqWkDf
lGNEK9Lszmpkq2esdcZjUQdzcj9nE51qf+aHFo5y4AzjVoUiDSO6bTZaLtkUsAtMQV++v59grzNel9hG
FWejIouhDVSUnSJoBvfVlfUFFHtmEvJOgHGiETTMhGJ0UTxXQMhKT8ldXuXEhuvjyrEktgRowQdQ5I7G
NXfpaQ435f+KSTHegiITELjr9CEUhRisJRQ6dbDlp8wnFNmdQkRw9K1XWFg8sSpZkJS8zKppz99gpM2v
qogzoJv9QnXBZNDvPOpzUvbAQYL48eRuD9UwRXx27mHdUBRwGHg1FKzXB6qjxf8KWFwZZklTJ9ZnN52r
4+CNBjbHtg4AEXnAlhEBP1IR/QcRb/Fwqfq2XwAoe/xgtcIWKbuTg4SfOLaYZZRifTSBIyHcUJQOmCw6
rZKlQLtzBB8RzAbhuOaKUGMS1wLnfoLKYh9x0UnX8Mb4AhvC430hRSHWq4i3M0EjH6zqydKpEgG4AINM
OxzkHJNYmdnAe80gI3CVw4WKcTVL2kH7RSBx2AcAHUBvkWsVKx5I4VQrT/6M9pzxEP58KIZysnKPdXAj
Ip/BNikSqXouMjXcqcfaDwivI/Yb91DZr8TQbhJIrbhL+y4QxgIV7t61i9Bp3txLmAUmhgrFXjEbG/Kg
8FsnVgOhN/fA5tpwzDBqFbqSemcZVbdkwkQUp+y5H9Udb3ohOSz6InY2wN21+osEb04c23kkJHaS90Jr
rlfaoeX4InvsbqLI91RKryhHUofGZUqWryIIC5vwQMUGRHYUPl4oZj8Ei4HAmTyZEjI1eeBHKmHnYGM2
2G0pB69RRpFNL4VcwKZC1RTMAWhx8soofk60J9AHgy1HQQqJrLXPiVr2BaTGOcNcDAOAybpR4USWsFNc
iqrEE+JjmRiCQYF1wOLjLFMqwhTeXRkGdN3jrHAxyP/gLrrqcTgW7ml0FZ+TUnwV2AyzHdVtoIaPmdaF
doAKPWudrwo3u6vYXW3i/4t3ppjMQgpw4CSBs0QH0jMSC0lVAMVmZBeOUqzAds6RbS3D9Y1ko28P3djZ
NelroqCj15tlhI+2yvaZwryEUtGmFSHxYYRAI90pQapuwBgjMZKFw7wwRvtjb59rCSegYKN1VP6mqTNu
kgRB4bhV+2U5nWqJn77kQTOUvkMchdC1eZX+6ywsQOncc6QUugPMMdTe7ayFD7ZaOutRCPpuEUDDfso+
SN8Wyod/85O/+eO/OfM3f/Y3Zz8+QZW3S//nMxBQGsKthL9fqcImdxrCcxp4ao5ooqqZTVeePXx3vFL7
52R71a6GRiRNiwxq0s5aqfYFXkuoLrA46f5i7jswC/lGVyljdIv3CAhvPWDVFd4tuGb1gHoHastgxcFX
iXZdJfBWwwgkvtAoH48dOuyXVLODalrKGDNrbrYBziMp7+spFQuqUcurZ89jr65ApxCudyn0l+BWqr1h
bQ48WhM6dKD9OGipceZf9UgZogpV9AvgV9b8m5dQdCGJS6DeizXTbJ1HFIusmXZ32Jhnm1k8JW28a0hX
SIENHAlprIWsQsUiqXRZqFd0hUpEb0ld6qOT/hp+uwgNpg/f++g5qihd56tPUBMJulNv2c937f3LH96g
HlPSpaIq0nX+hI7VB9SZejepSV1q9aik5MS7vBPaSR+dTO9CA+sqtZWuUrXpCjWw2FJ87sOXXLvqun3m
bVdKcoUoaVt99Jy9Az2sR/WUSUfqmitO4Te07zj74D3+K00vaU9dSwpZp5IG1AXvDehlvSfFL3yCLcS3
vM3WllB5wt0etZ6DwtQH/rxv25Nf4Hevxm+u7yS9LHwPqlTtfdH6G+x1tVmKYlQQ452fYF+8y7/5XXvt
UbxCJSqNyLvU/pKG1NvpOS77qMVoPUH9q5di3PxzV7MrX4unpuYW34Wal/Sp7H4vU6PquiuOQQvrvQ9/
lO5xnSN6ydt7A33qilYYj/d99EOV7Kr0xzCW1qcYN/ZB6r8bvO9l6of9iPpZ6JPTcV/omaEtPlLSJPsg
Zo61ECphz9nVNJbPffS4q4edtG+e5DXepsLaBSqLnUrXu/DhX6TeYFv4JDEjLtiTQ9fsGY7RBVzLR/k4
nzY+p3l2nb+7qpeN+XuatVI3Y79f1W8ffdfnxnucR5c4d6FBxvZRrezZpFqGsX0fT5Pm/Xtst+bu96xN
p+yqF6GidevsrTc/furWqzgpXBVMP6Uhdg2qUFKXku4XVbhO3XqDylpPf/wklLbsc9LDCpWx+O4Ve/VV
6lWd0Gsfn7x1yb9xzfW4zkG5jApSj/HEOovf7N+T1iqodb1J/TB8421qT0FZi2pW9u47dv+n7TdXCbMr
23PgKnafd6CqRY0yapndum4tOItv2TfO8DXoWulZoRl2PvXG096+t/xzJ29dtv/aM7Adp5KmGvXP+Pmf
hR5bPBufxvuN6mJSLXtUuma4EpTU+GzooTf5PD+l5tdbaIv6FIpo9hoUwrwP7HlPUnvrcfvuKbZGCl34
3GX25CnrobfwROwHqsDZ+3waKYlRse0MtM3SKOBzl6gldgpKZlAdY9/jjk9JzwzqaP453O0N9YSPtLXU
78bWuLKZ971r0r2exvgVzAyoxoXKmV/lPMeS8+/Wa/68JzWKVFR709p+yp7/9VvvoIcxE601j3Hc3rHX
NcPU55rJb1Dp7G2Mu/rePvWmK+W9gxnT3Dk5VK5DFWlWpUaYIdzdghbm1+s1f1XnMoFvUeVaWLieO92d
NguWGGMw/iXyZaab8FO8WNU/Ug8HRKd4jo2wGIRktwDIqogr2uyWzcZiYpWDFuGpxqUFpcHpSSJm5ulu
T/4Haq0aMcjMyP4Gi2S32eg9Saars7yrBfhUEiGA5+AAHwFxwF316K7EeWqVw3G/e59HNAlrCmgIdYS3
3IusRl4veXY87M06/GITT8F0SCNMz05ILdMJYUoGZDWa/HbdHW0kq82zN/NfeejL36LG1reSlTSqlLxb
gph2m+lZXGqzJRtmKVl3we2ambk3aJOqFyOoJMJNe5BUXlwdJCSj6i8Xyrybiwqzfm9HohpsOsIy/1tV
wipPQiVVd2tjMHKRo1CQQdihN1psxluANirxA1zO5AGyo2jWhy6Tdd9meUz8vb2dxhrxiD5xVzvcSWWq
B/V+F5UplhaiZNPyaIMRvpV62B1WSe1K+DXOM4xU5Bk9glVXDQAjjWf8Uqy1mdmWPJ0WKdINxhv8W1ci
Q2jYderq0OkFnKD7v7RTro2BLzLYS1YyCM9RvoR9pjhpeP1ruKLChuZ/71tbZz5ipNCwO3P32+RCZeTB
cLYxpw4ePFExfXlsK5XKZLkgBgUVShasVu1au/FSCy1iZEWUx5olQxlCq/tH6Ghag3fMr2uKz+6gGU5P
q3dXhYpkjCt0Wu+wVpCZnXqsjHyrqiv5qwh8aJG1wQWFI+jkRkUQ0ncDltOspFhlgcryvsjuatdQ6FbZ
yppvAUACmgqhmXCAjacgmfJ2VBg7qj8pFAfqpjhTocJLij0OCA9AyuV+lokokDdaagGu7b5j12GZbFwi
GDLcQIoQcwOdoy80IiNJClSFM4eKcR5XAxMPSXn50klvsDdhbUGbaP3RZGeb7IP4ug+syrRydqD3bWPp
gRs7AJygj5lIMGXN2IDQiAQ5fdUmS424hm3bRcI5OSQM01O1JDyBTwiBj3G3EnmTkJRmuLq3s7DUwhs9
xREiLT5T3VNFZn1pISX4onwi9oeaalTiLZMcSDk4HFSrnjvwfEFVqEg1g4HzOtAeABd4fVir/l21r913
UgVLwJQZ+yb7UVE9BtoSb7aYbSHY6F9PurvIzu5du34bMRTXvFhqIQ+keWKU93Z2zCchobTmB/0H+5Gh
KqJgH3ITrkqEAPRQ+B3RDbPEgiJn1HrqlTEWAaZoDrTHeMDSOX/lsbMsZ8GdnSiflPFuN67dbfS/UKkc
XmHHoi1STfYkCIIah1B+Q2n3vgNIETEC0rmv7TOhwjvLLU6fwVcv34QvOL7ht1K8ZXHr2GLhZ2eUwUOk
0XMpjOduuj5Et80LFA6gUza/GXjIemnjf45h6VKuYlV95jICK5OWfdDyQbEFFZH8PyqBQcXjtgBJQ4St
XP1v49oPVsXDGNxlxaKxUIvCn9iv32RpDWDJ9sQBUACNhEg0EDFVy9XoclMAogeoli62NereJCB+cM44
gRJyfT5p4vUmB7LNfFSE5qMT5yaMnZKRD6ihlyXj0wPrWBKErmJ2juhWKIbQ0WHkzrDe7C+cIBgsT+5y
21SsEaFxV7QpKblD2yeKeSAWmlCRBQq9KDjdRLVQKWR4l6gmHKT5qMaRsmeVAM/U6yxT3DMS9GYQ2ZSG
ot8A1aFUbVQAoTWvLcQotoabPFyhK7T5s2qFNTXwOs2AN2XTlTIA5TiqdEIxh6hcUuij5g8hOyyWzn6Q
Aim6+sDBB6NOEsVvBkOA5Np0ViF1EaqJeMEuipTaR0NAjYxlTss9SepwFhOOXWK2sqPGYyeQhNDCw00U
2rCLBSEakXtgvXDnNi4MaUc3RtqjbsZj05hc22eiCM2Sw4IP6dzcqrXvALblibkomwn5mEAosFicK3jQ
IOoLfiixQuVAieYS6GpQNOWEg3B3a5SVRQIihUYqjroED21ci4O6PslkbaJqnF3hXhX6wmqKbDxTY5IE
rXsTKaII7hpyO71J1AVDmhT+QElc5Zrv75i/Dt+zr22I6iCwWUDCmqjcaustivfYwHL5yyhrNrB0RHEv
JVUKESAmyfhy1BTDkiZIkVmpTgszJqYAG2izhxJ6+prNdUn/bVQtertweVzkHwY88ZnvpcZBNJ0VX6WG
K9AqsrsuqWbN25A1CY0NO8oPeEG6Tth31qp+yvG2YElOGCdbzMxk9mSSTG3PniVxF+4+QsiaSnXZXTsF
EuiVHV/fQJnHWk/BsmwO51PRJywaZl5rvrO/PZ2CG2NPoUQVp+f942RE4pBCqsL+bA/LL2FH9w+49Yq/
NutjIeSxUo2OVhLPiEJvmBpJaLqXXNojMGICBBoJAqJt/cw6Ui3cdeiu4r9AFcDFWgnp4bLpr06EuqNW
oH3NIWJYv93WXm8T+kU4QdbQ+aQ2UFB4QqbEvtZ4wh7l9X8CYsVThKrUwJJx35Q+xVzr+gTVxdr50FRE
wMl5TaiB1i6WoRuXKys4G5SWXo+IQJNyREXrjRdRDTXsVOEzmZ+XuRhgbx5fcQbvjiLe9rV7200X2Sov
u6qNnhMFZYKpWzR0S4GbGAdAULUWY54BnRstSOpywEwi1G2lavl5dtcv339INeD2tdY2DGi3Vu5OIYM5
eoA0KFPdX9wL03CFGWHNEhDHNijWskFbLNhY7rxWQi3eT/NWgEjATryjEmqmL2E/msMtspJwQ8/Q22ok
1sKOoAOtPRloQsrwoD5iF7sctjBP+CW/+0jG5WuKllfKvU+nq2YUc6qjkLyhfU+hiyrnH1FRppCPxgdy
CNGGsuAUdENqt2ZZrY2EpliZpDEOwhlWuDn2o50QQk0l5My4cEsXi0Dp6xqcwEFrxeOcA0ig7CocYreU
GjHFA8A5EboAU641OOeWFtLJWsk/p1uddpjfPdD6Fy1DtKEPsJN5uvkiRUaiRNdog9qObrWJysTjK2pq
Q0EKgGQZcBnT0faf4OHwFlp6XgoT452E0UEldpE9a4Tz4ezSVLgTlj5EnmVM2+olDoBF24I6CcMmUE+K
cBQlMYb2v62tOinz91BTNSo4r5DzypZRUIgz46j4BOyAzcrMT1UtPhScEHMIEnS+OdS6RgGio0KPM1KR
Ek6zpOV3NkE+Qs67TN6inYiYWBTyUQ1llExtIaG/n7BxdT/p7lddx0HCUdFPzp3E+iOMjdoWdt37mUOm
jRJywhkWDEZ64xqMNmlbOmOoDpIOl0inQa97BDaXamdjX3ddTOIZu4UjjQha0zqBzF0jaIicE47bQ1So
YN1takc5L3OU7D4uaSwDILILmmjQHSRJj62jCqSEN0Mo1WyuA4kRNNdCEJsR5YzouNlMDSMkxeXKXgpq
lr2UIzY3itpJNp05jUBFP6w5SYfNRjJVmyjK4thmr9/sGazvNbsl0dwTF/7YaH/iGrqIOLsNKEXINALw
SToVQcktinsminBgT7XmuI/C7qQEbRmoDurfbla+DSqqxhOnJelBmAsWDHZ6xvDUvzSbGx5cOHAchtSG
KhZbKv+cHHVieKwNh6tqS2McTOcGG2DBGuiNZjJqgnT2uxNv4xV1Mm00GXAlCHPRMbhYUkKeMSrm4TSU
y7QGQTwQUyMqytKU4EQkx9r7ARBlwkeocRtVyP9bh3UORLIblIXQGgQaSZ2rWAB6S5CH3uTuNiexvaW/
+BDadJhbbg3OXS2nArd1GUSH7mOMgsngjq7L50T98SmgIxC0UJJ3AKFTOZo9fTsxFikRuEQHtICMOWVd
BRKV3Ye1NYAngJllHppgXDQoeLgLNuaUcUyYKJqALiFUc8CK84mXVhyI+P6IHFMnqCbtWrAMtFXYzq1n
Yyy9XtPZimC7bQprYhSVNvFHClhtn9kmt3v7DPrXT7I1gerzarnYXrkuaPA5R4drflAk21uhCPbZUXm/
OCSGCQhJn0aJiSFr43puRohw+N3ALzXyg6hiSJXAlpFRrLZnVsjmYaGE+7wji9MUFGgc9B2F5d7vEmsr
iMHRKmjsCWgodAhC+c3OYFQ6rFeG9XiTDHkddbUrpNqShqqo76ktAZbxB+DmUJ97WAX6lAaknjVKYmMT
gxCgb69w4hVxCcWMutU9RQC+u578IXOWWVUZk1YxLLu2j/rObjlJqv4gTuqABPpurDrw0PJoU2byybSO
G28MEOHAkAuunbTxvVYE1d25Ban6h7wAjB+Bt461H/Tvxwp4ECcRYGRiYEZdV+s+6EQhb2J+gSYtKxyH
Z6kTMk4ynbyMD5RF0s1G/3obks5oPXJyAfXPqZtHUwhT3adBoB8ZxqL0Rrt42bJUcUeHj6MWA9Btn32o
9ZpVs8NXS8K6H4Va6DrZ8SsTdY3D9h1+6spcjiLeAhHJHj74/l69YyTyDW9FMfBeG1Wb59ITcdAlp2GM
hC9WiKwC35QwP66fr80fDI2EKTQmxIF7kWlbawUB8B0/x1MZDsDtiw0ImBJRyqrtXWpvelSGmUYdgoM1
YVrd0PLYymiw27rgbttUgdaUiwrjNKmfIavsHNBCO5jmHdVTld7xy8PniwrCFImtQvTdjULuRt3uPVIZ
q2K336i3uC49lukBQWVSw+4V7pgShkp92292QrJ+NmcJu5RbVJEwuxvaaUU+jI0Jo9mLCFDSosGkdTfB
zi50KvxXFLNIxLjSoz8cIYeDKvaqCHLdD63qUXe575ZTLelpihdDRjGp+NADZPYlZZpWRn0UJfeOCgQ1
NokNGVRMgyk9zIi3rDds0JDlbWeJh8jus13QX000ShzCDZYlRGnvbkMnUYkci6EN9bQKM3Ne+2DoC8ct
LApoKlWUYvHKZ/HIqfvAYR7WlgULzwsXj6LMzh2ob1ogeEz2whrOYJA2vPA1xqJ18KD90/d+kK0iF63F
x7eaQVQPdQoHooY+uZbjhN22zXlX7DNPgpjR7IEwirmatyM9Prvbw7EbJbXM/qTVcpiLQixj1J3ZiogA
yE1eMwQKsz4EbtaFartYEBC2OewhRfD1EYLv1ctaVAVqjdMYYf21rsrjfh0GliOycbf72ohACuPixJGc
KpWDm9jBsSZ83GCHx5TTUcuRl63DuevxKkxWhU1IHFESgpOLs5CGFf8RI225dZNo/evXUVKsmovKNgUm
bRmlj0atk8kERyKbhn1Kjku1H9t/CtnasFTJhzzYWvytvtOcszSEiw6tp8ZF2OnlU4Cf+5kI+HyHpruT
V0Q+wwQN1gf6zItAmXmQYCI4/b02BhQcML+5YrnIjjG+lR6+ppHjdgmWk1srkqfhesMguEyBG/kQrW77
dAEfkEzkxD1UnGvSzmXWSziIJHnraXX44f7ELnQPi1g6E25ahpjZPFcsFRBkG03C/IpcBA0SGadaklAF
hqPb9+7jBwhN7iXpWTC5FD+zWQ7D2EfInwKmz+bnU8lpl/u6mnOojWipOgONp4Ot7x8aN18qvsV4VMEA
TJhATIZsRYBCMjPcBoMXQtcoES6iKpDsM5Qc6SlWDPeFIhRi//Qpgc8FYwYkNdn9SfqDIhJzrsjSKMGh
IKqdItwtUdm+Iu1hE9z9BTfr4LS7wwQHVuEQ9larfjZHQ1YuDT+rIAWnUV/V36K9qD6SdntxpzjtAYyK
pVck/e7NNoTvOzh8/1Zmbo7y9MizmbmVtu1514Fo8ohL3d+WQYRGLWvHxbqxGJrkMKWEF2I3KXXolfjY
dNvUPWfpq5BdonMFv27LhMJQVoEk3a7bGioWROuC9S24TyIm22C1eHQaT+w7EmzEgXYOj1iC1tgelvP7
naFh7pHfQlVxyp7LgzB8o4gL7mZbNQI+ZVteS6F5VYorx326BNxWjvi+48AarMnETJJn6TZXypYcHbji
BhMn8lZh4bWre4496jIafRp7Xp7B9+p5J/JiTiSY4+okXEVkPQcF5HqUBmO6V/mhFDTjuuj5cko6JMqj
I84ygDz5AYnTRE5tA5q0RezyjC9X0LRrtO8wWeyyg9zX19O5eahNnrORipM6KZflSZPpPufm+NdVCGni
dOimZ1O1/1fPQog+sWKaEIrrluo+UTxa0d5WJxIpl1UGiG6eKzV/nSbTDzZLSdiFCqarH1A7vOWfNEG4
AY+QRRR4LAIMUm7WFCSr7OpCh0QFKd7NTfcQZeQtWgZOIuNYI+GxIp7dLbtuWuITq1DO1S2ScK/tNmMv
L9/AHYVOL+V7EzemkdzPqnNOxt26FJGHcAG4htJ+5AdslXfNFnq4hPZ68IqagedK2b+eTIVMClPNa/Zs
YLkN1RxEjs0awhOHfiR7En4WB4DerUZIgFto8pCK5JgbRbb4a9+2gPU0FhS1sZtAXCzkvxnNkOzDnk6x
JymEZQjfBuHiqI8VpRawoywsJKGmmQdVE1ZYosA72u/QrfNUxZ5UuNNco24FdfWdDKdxxwwtswxgGj1I
PGCbBZlZyMKNLpwJAuJskeGDsvYvtACs1Wph4ejRo/Prg8F6zyvsqM0YgbCWsyy2Ys9D50XS4VOUUZnN
Sl0tHBLAtnt2/57ZlyquOIFwXjQoA/q12UviHNtsnlf8ERYV4hTett3/Obtm1CixEzHLf3e/tKv9zM4M
U8XjGVmvFRuv5RYEg1I7a95BdyT5jjt23DNmMg2ewhxxEUc8JJXyv3sRRRkM/QTqQujbfTChK2qvlyre
MIfbDixn1zcsa1Wg6Am4923A+qGq328mvSPWAeW+1iyeW8IouyYfkMMLDh2GSkrI/AMtYkunZz/LFiDT
m2SItBmHHwlondCeZc/ciH0h9pXhmJoUCK+liRVJvL1ZJNBLWqtO8Xx31EUlHWtwqyBZ9vYP2oG/Yy6D
4UQ1UqDWUhodZl3biAwU2WRRx91l0arKLLWU1c7ddnitstx1XQrdIaBlhrbryt8SSD/pg9oz3mWf8UY3
Wb8tpWJqNqapzDcOHRiia4q2tJphiKq0RkucyrNfO7gDfnS/S/9m1sFGyifOF5mDEWiB1aqToYyEZWea
YHE/Y4dH6WkAJBvRvWSd06Vx3wTF1jJvqcr6ZzFL9T88NjM4JBFHbojZ/MjTOwegGyDDYi5D5/+O60o6
fpw66gryNEUqpT3stNq8CYTuSHhQATCf/VWx5ROP1/oT+4MnHVr1YmAlN1EPW/fdKDe3fF8laWJvx75q
xmewbGn3O9qJEQkVPBqOq8WDZGsvLNz9gPU4xsWLrUhHSkk1hIljr8jQo0VSebP5sz9rQ9Iugbbdb/0R
Ssut/dedO5e/3cb/Z5LrwUruCTQ45yWl5Ck7l1xpZ6ZmOTiyLRUVnA35BBqK9KEJpB33W2VQrNtU1CQ0
F61PsnOkSKXMC2Zn+zHumZO/EFgJNEg6R64nJnkqto3nhVfbWcqyzF8e08KVW3qEgNEeQrsewI3Ug1xJ
W25zM/N95EPpm7SAfWoFOrp0Jsd2KrRkm8PWsSJLUexO1cnteTO+y+5NAODSmLbnI2Ez7ouvMxyouLN5
ATgLVFo3eD7W/q8kJe9O0ccypoPSNC3McLW6M6qo2+eXs2hidkzNZMNYJBWwIkq0aHfBZhbo/mwtmKPT
W4v9OTOGi7gVobihF5flPiZK7ARpwXzLEVygHmGvcNSl0mt70bHN3h6dQa2qBlRtkb5UyZYknkpHqkoD
loNnU9Fte8Kv2PHWuAP+ULbPg/8R4haIYe3kTfYMs6Njh7tCXF9waW27xRxGVjNJtKDcH4qSEybQFEkD
R/o89L4XsshDwSrKG3XXJsGiDaldf4U4XO11UsJK9bsxLgjgu0OK70dl320ZO8qr2fLBAojESp0ANyhK
3LCQfZ2qjqqaj62TBwaoDs6pNJcxvZqZba3Pa3t5CvVULXSOUowh8jtrLm/BGoY75jtFq1eyle0z+Hw8
Msfd8+Lb2nTOzEzm2COQ1gsNuRYoWdzrWY174PW2Z0STwey1r6atGINxB4Z5QXDOUJwtUiiZ09RDHd9s
YVB7soBikYW2Q8aE5zW5GE4OifrIVR6ftdf3FS24NYMGFxlaoSvUltq/nFNalKljfHWlzckTWS58TxXj
zvxqBJkZsul2qzaK0TLUWlpP2TuIEjOj4msolmJPHtZH18PSvHufZVuVC6GGTyS527BmkdEDmwN91sqc
Y862vW1Zb7b+DiRFOP0Jn0nBIchKD8Jf2MpyUdzkeneOV/Cd7IDMgnyFPH4upe6wjepKusaa36NASpFk
3Q5kthCNON/3MneqnbQFCvmm8RpujO0vlT6m7xbnl3+eOC8Ge4aaQFnctwhFMyom8TqEqTTsZ29zOaxS
AhC/B+C82WS5TZ0XhehKgMCzkKUjX4G+C5iyDWjClzv8gDAIrhFnfxL4X0n94yClKrHzl/3Wk9k+E9A8
h7Wk6tW44AOeCUqLdwvbK1wL7cOtYh2KGJYQ/B83nuYLvBQ0F+PMZa7WnzcyRggV6azRv23cr1NIF2mL
66g/KFLebVgFRbQ3iX0Pc3U5Q8wzmeY5OX4x6jBmNljkMJRFS0BAduYBbJu1AMSsy6AQHd5ibUhPW/GF
/ZnfkSUVnGuo1YzbcE+nHrMbhwx/CmBk+++x4KjiubLtqsjOMuXpXH0WdkbhuSOBeRQCpgab01VS3l1n
DWOnKizo+SumLomraZCQdb4Pt4lUq3TkYCFPOcxmftyBUSsWiIxonL/WLC5x2OHKPQlhvC/zwR1pyGmc
0faazIbpS1tM7UylhKEcRV/YU5klGVU8TMzaSBpBR7XWVwa97mLSlmNomMXoCRdKRCXsaS29rlatCUU8
WFq2+Ho5LA4cGHGFUFy1iXUs+1nznblKV9ljDr9FqHM+R+iS665h5LeINYi+bm3pFQZTI/q9P8VSVJgV
1kQ3fBM/C7L8ewGF6MIdmofagHO27w36niknQCaDb5IzE3uLvGXhXgKY6Kg6ojYTNHw48vPLq8wr7LsV
XAo/W9k3bm8TrZVx2YOLyk2TmSnfITLwg6tUixGWimNiHdnsi71xOTucEuPJ+ZVOkW0yOn3TyWI7Oh+J
F7B9tfVZog4EYw7MoRWcsANs8m5EuxpcZzTY6iRVcCJf2TXUkc1icdtDxxXJBrdbCFdQ9pp5g8YriIxU
hDoxexrVNIx+9sIjyAeoP50c1XL6uB86FZA+msc9RBWWn4UGBJAy8YXsatortF/xrK9CB0+1dsOOJYK4
HLKYZuwdPEN9EaSyv8wIJrJmwxyyr03zpyBi9uBq1fqRyAOE/hrmUvgxWJsCsmvmMKFwNPzZ4Pk6xtiv
n9G9fJ9UqQweOgm+1QatMrd7Bp+nBKm0ZlmlPUu8cEtqUCsOzs6uznKrOS8lOdWbJwFAFWnp/9oDuMyB
A7Mi+dQEAj+0svvY1UNVHRnCVVkbWFQpe4xzfFilJCzWW+Tt60wFPzBy/ryjWDuwV5EEgr+QAfRndHXF
EAZRLNl2ISAsPT64l55RQhN5lVL2VTpz50LRj+uoAX5OZSmaLM4T9P8Jc6N22HqaOcrTwhzpJAuG9Uko
Kqa90ZU0PWOWUDfZOZVUH7B1+JpFABqfl9+OYjq9NOdtfyO5GTHG1kogLHxTBznLpidEzlHWdNfaCIwG
0EWOtyURvd2HocY6TrlV71su/lTI2967l/bkV2mXBuNRMIgEQGyCeY35wOhwJepkyuKOHP7kTB8vTEub
AP1WMs/vdHC/vtYXynGs+xpXWzNXtRHaQzuYMo867LJteI3P48aH9ljt7SG/jSPPmRIeQWljkpmdOWR4
xg/2QKajPW21gc7yV2HRF3dvAtod+XjtLUVkF+eSXcRsfJEkktE/3EbqtWo2ozkvZw+cwQ+LKkH8zSYx
0yf288S80t7o5O3+gHsOFo1so9hxquTg2HgdaEFucytZ/Ed16rWeU11pWJUCNXE/2WTFCM+1al8S83A1
PJPeBMIqJPQhhoZRcTj3kXpVvWkdM5sFslv1ZuQp3M7Bhhtxm5L5mtQtXLP+ZMFBI27XOSqc50PN8aNg
fgw2E0sExIbwf53F5GdZ2kPmWe9sNArNb9jhjdAKyVedC7oPxmUkyDX50GE7Mc4TFcbF0S2oksB9QzMC
a0D7pHpSh/io53GAUeAswq6XtEbrI7RqFzXLSbe2XwL3qsy924ot36mp6BdECfK0lut+kotQ3D7BukTA
Gvl6dxCUdZk9nTiwjiVykMskzmpVXhB7+5AtIu1dOvuDber7zDjitCUBXW57ExVcEzydDoW2H8zOaqoE
b4MUNuLSA6/dHLkGO91lG0NzAf3T+k0HPYlNiDvxhLI/M+2f3Qv/x//e/M637P//YWG92vFNeAJHi+rb
i26T8CwHISvpZAeiBIW/NwaJTJPoLfCDbMfcSGeZbSGiEDbbMgJQYqcn+0d7UaajBJVoz+P8wY4qy+l8
+CL19S5Rae/lj45/+AHVCa9Soe5//P1G6ItBkev2uVd+8bPvf3L13O0XnlBVaP/92on0++0Xn/rFn30P
xZefu/rJ9eu3L/zx7e9/8On1F3/xww9+8cQzn77ztv3v56dvfPLejz65+u4n1566/afPfvL+iz+/9O7P
333JPvnzcy/cvvT8Z68/5uuOaXDriaFgBlFbBSCC1YHH65Qqty2ScbAua+MOAjTg+Th+JpQwyy44lLj+
zZdVlDleHzSqTMfoMioPrZQPlyyyLBR4qWT9BDWYdX0gA+wT99UrQ9rDrDpspraUGFx3cwzjNXASQRR3
Lc+mjlR/Qx1MKGy2z1gGMgPXUcEgNKM7UJw2ngt6K/rd9sX0Oy4WubMK5e42K4crRLxukKNEovSzwCEp
gg+0xUqUHy2p3AfNQCj0/ZjKhieg/NfqQobu5kfPSE0S6n+uxdjqdkJd8jhVH6nKKPVJu8Jl6m+GWmGo
cUKRMd3ro+cwhzk7L+bXcd1Oag1KjTLuzb/f//B9alW+zZl/BX8l5UKoFaZr2qdwxbeoU3ktu1emjUh9
xavUFNU9QxPzcrr+ZaojhrblVb5HZU3ru7+k6qZUDpNOpn267cNHoXNJzch37XnxLFA0fQqqoa7YeSnT
Cr3kPXwBCp1QF/U+gQZlq2552Z6e/WPjEn0D9caL6Fd7onddefECVUy/Y89+0V5zBdAPL/EqH9j3vpNp
SF7Onv0C+0nKne+6iii1J6li+q637m3psHLE9JmrfKa3XEcVMwBPRh1P6kFKLfN9u8N1tuCqX8fHEcqV
VJa0e9sT4u8n2ALMz9S2D3/SzlvpYHJuvWc/T/qsuZZ9F8/yAfU3b0D5kqN4BZqynIF8cvvuB9Q0vcD+
UXulzfqB5rqN19WkFIt3P3Ad2vf4HP6ZqWe5kY3FVd2Pc+5GO4d5Z82Aq7G+qM958sOXs7XznjRioSWa
VFQvcR69j+fj07br5TL62kaY6yvTAL3caoRaWx7lpy9aK56TjqqvKSncanzf5xrAvP2uzdz3uW6O22/v
uf7uk3n7uR4v+Aq8xvG/QJXYk7wO7vuO3audwxjHdh0lPVTNOvY39p8/dy1b65+sNvdJVmG+ELWkT3n9
cdVAR8npKC3tJaRVI9s+8Czfej5+uRHVse0zL7clyNvrqJD0a9k1z0b5cpaZxusn+cq5qKZ9OmvPcZZo
v9F+Hv9ebtuGot6pWrfue43Vvc/E9Z+Pz7wR9dBTiWoWEPfP6yle9ArmuqaXbn+pvVd7X5Xwfoq/PM/P
v5kVxb7K26m1eq53+O/jfK7noyr3B1Ga/AobpkLw0Wy8/kN2zkvTz3i8fS7Vzvaa46mXno8C6K9HqfdT
WX151Z3Xw57nff8ivqX+fyX6JD2vjex7vG96xpPxmZf4IFdYNf7ZKNKdxvrFGMEz0bdxzVefzAqan427
p7E+HgXBz0SN8pPx7GdjjI57jXjvqxhHvP4Gr/9jXjb1uVpyge18J0b8JF9Mn/lOlG6/ODUfvN+usetO
+y++LtIcOB5PrcLur8W9XuSTnkS9eG//1agFf7V95DRv/Qrsf3z+xayvLscKusrLnon+POMF7ts2q69+
GCXUL7bP5b16nO15Ij7P5uHKp9nmC+zJk+yli+3Y+Tq6EaXkH8/2jcvx+pl2DqvfMMfeiK9ci8/rM1dj
nV5j807zk5pvmv8vRZ+cjkG5EnNAbb7iDda4t3M19eETsd6f5NWuRJ+8lu0Px7NnzPYcf6LoUtw3tecC
q9WnfYb3xdXOZ/Mnzc/jMUsv8y0WsvfxeiGbY6dizrzKm6a1prXwwvT+eZzf0lo7z2f/IK6j+a9N/vnp
Pf9afOa1bM5oYl/M9oGfRZ+8ETv5ad+j8JXz0bAf8InS9S/ECnqv7Qe89Xi8dTZG/EyMAluibmnX+wtT
e0U7uLHWfJ5f9odN+4P/qbHQ3HuG1+e08V36QnvG+fOmfj7FP6/yM29EI5/zZ/TPXI0Bupg94xPx7wu8
wmW+/k52Vl7w72Lf0Hn3ahp3qkVDF/tpKiS/TT3pR5Pq86Vb74Ri88cnoC798Sm+foWKyK1Ws5SUT926
SDXvpAOeFJZfzzSW37QrvAldcOhphzI4Xp3SEH9Myti438cn/V7hAVNVmrrXev0NtMnVpi+46jh+P4fP
+jXPfXySV1J73qLudVzzdXvvFBSp7TpX/fNQ6H6cn4K+9ROhUU4V6VeSNvlbt37Cp4DW+Jnsvk9Sn5tt
c4VzKVJfomq3FL+hzX0Kz88+DWXst6hv/rj0xqVdTR3xS9Sf1uuPUsX8rPfb43zKM1KsvnUWz4/r8NUr
1Et/mq9Dxfws+iB9lxrdrtd9ht94068v3XK1B9d+x5/xvM2Dp29d4hXfSnrdP8v+vUwFbe/zVuvcZkbb
J+ehh+7j/oara7fa8U/E62lMoe99DXMvxiKe8dZraI36wa7qiuPWX49TuTzUvWNcMPPe8vnzpv32JK+M
+X/d/oJO+mW2IObGGSq+n/W2XcXrjCsi8ge3vS0nisj/3gxmJm1wx55SUmN9PPToZb99h3LTEVam+DDY
eIPN2R1MhkivZQIUDyJ7KqK1Wg9Xx5secZzPscE5Jr9Z+hwSs81tZ2JWwHlAB8Fztq2eUu1y1p1U5D20
NMlAP4KSuvP2TyeERIdKtYd8IsJh9yO/s7oxhuyJyBae+d3L5F9kZhhkjzDs1hBlrT2hkWEgvrgWIHQy
Be7JUK/FprJQZb+yRyHOPQGDo8C4C/5kwRTkSToCkXUYelZRpb0dRDaT0tnB8RbSg8V+1OTKocVFW9e0
N5l7gAFvh8luHVtsG95K/dVVc3c+d+ZHg/uQld1vXTbbIpCoLNDC61wm2YP+92QgkjmPZIs0iXFIct+O
UV6DCgd0whuqkKDy8/3gFyKK169KZBOHpWQxhlkurqZOXko+FqrY513F2HaIqY0kYkssissMbgh10vK2
AavIMUAph81UhOvBziOdwaxxpIIO2ty9Byp2gJvmeJNWUIY0R1yInE7AfJIyvDUnxGi4whzcoEh7Uut1
KIXDhuuQuhYOm0WrU2HZ2RxmfSiDwiDrxfSFTQ2RHSIwXrRadPbKl5FWpCov6Il50hT5lCPMUYM12sru
7+0sFhlx4eFx05JOnFziQmxjpgCU1nPonlAdIDu2IAHhjLUFZD1afJMpoEhHzuQB7iJHDYfOQCXtisAw
WV97hQIVtS9brJWUBVyP2rWqPKVh02WotAMF1oecly6fSVyCY0Qy/fKlBZVWiK0zZ2m42k/AIEnSWrHZ
dZiKSUOvzlok5jvuk1Gve5O2LLOtBeZepAUynAILLWbIUQiXJtm73kTotW/lUDZvN0c7YAFLOd5ikJMb
Wj1/1W2m7Il9Zn3PwrGdzYY9y1GbjTtbPgrXqTTqmU15IEOQzzkKQniSDF9UtXJ2jsr0Eouc9lnepcU4
ItmbI0Ziq1Z+B/RpiC9BfSjHuM21CU376IILYfO4SzJ5EvSI2uY9F+woV4UyaCWZAe+RLrznvPuZRmUi
UlCqBalOfAq6qhuDTcTVVQZcBP5SIN40o7Al5ejPRttZwtVIa4dAwcSQJAq+amueNzlU74u9EP5RQlIK
nTrpigwj3ClaPYvlqURqAg65/lAMXtVVisxhSAfsbNkZgJIj417fh1e1wYlYDHHohF8n5jvAYqka6H6A
JTQhBR8ITU/hU+zkS+V+2x22LvsusKKi7g5x0h/5wxUtGcy25fmcZiIN9tAVCZwWhj7jvWyfORCCGISn
E/JYcL5UOQ503gsbqwSwr586OtEVMjE7He/NrPShEArAHhVIUkH4kooqPpyVvEhI5MaRV1pZToPcGMR2
m+FJexPs8VtboSrsguE8Xbi/JUy+mVbEpOJjS1PoYwd+iwWvNKgyrIeQLA4RFclas3wrspBewpmX1OKV
kEDUOeWkSKQqIkLAiJhxSkSC/GD7btUxC4paueZlzWpxXsm3CIn9EM2wbSKVZ26pZPYxaWS7VDZSsymP
LW5QEBOCLLNJ/WmcjgHhbCkCnSKWmbTNErDGJsK+fPdvQXvWgm05cTZT+etNciZpE+ck9xDikZ3n2i2y
ejtFW0emluZlEvUpW+4bJXUIp2GPpo0uoNcyL6a5BNYcCdXhZLBTsWUKQPBu0kdNSHLRkn4D5k4Sk8QU
G1E32nX8ihwPT+pyXeo4bAsZF61kWwH7YDQYHC4C4xPaUZw7GWGoN1nyPZU/QixbWye0bGMqEGBVgIJq
n8gEBKEgGoRW23Ltda/nY//kBN253DxuQkd8Iq6CzwNXL2PBYAIg25qettrvcraiC362XK7mENVKHckF
AzDQtXv2Z3C8uQPT7oufp+wVDGeUmHE5Iz+DMdPsTjwPVwZmUof81WxOAc3QaJ0iE/cEILypm6RcleSc
HYoSlPEm5EcJgBO9KvQ5IDABTCD+yGmbTWsJ8YI+4cZmlOCQOIRVKGWGXouJy7CBFB7HLJObulb3NotQ
2N4pFqIIvlE1gZMiiJTaKVqjpG686H2I8XlNZuztDlgTkGwMHslqxUqegHC1im1tURG7iGPFCqLA6yi0
7Me72WKBD3RVJq7IthCvXW1bTkXEeZqwYtive7WTVu/NgPbFvnw5J5F9fMxlM3QyZRW5ipLMoipRvmJe
E38bujMw90NEgEyaUJCCuTpleybOaiPZDqlyAM335VY9a7DWCkUTe3WkSuCr6HgCAInAExXSOiTnqR2p
ofr0/0O2nxOEjehIFH2whRGUCOwh6bRlrZxUFaQpnE1vq4SOWZgePP42KX46WFvOmduZAwV6op8j4L+E
fh4JbbnQQMHKyEG9j3MOIMcmV7WvZvJDQpa7/5FoA85XbqFbSXyeyMJgMkjTPKab3WdmalYlVdF6kFCu
/EFtxNCCai0hgJCJON7p0zmnwpIOxJneVFKi3fLiA4lsi/Mnm7C2J1ZRE979eskIQVCDqD6P6eRblfbw
wBbP5ENS9rh1SYwWSyZRK1sxbJgREQsgmdTlsrkacgWHxsNJUDLrd6P8CHVhQGPzo63uZ8ShhWXBsYKu
nIs3ZPLsjU6FkPtyv127WB4923SyHop5c6tp1emdwqThx/6cZNN79RGxpHz2RgWQ3uSeQYYV/mpu+2fC
dpQ1ag804Th9sQeX2gGBAel2Yfgwi5ZbaasaqNooFFZIRwn4WjrD8ufou40awf8kMjQJ15eeNKzktKsJ
UemaMjmVpfTCVY9wBS/kDNsy5xcTpBW1SaJ+B3HHIHXIhbQ2eqWtsgvt8UMJQmwWo714pI7N28GV8jeJ
XgwfvZWfwobvhfwYFnGCshiPGZPZHjtBKR0vnQDZ9m7NlmHWS4mWao2EkyVXZE44yzRYRWA2bcaLiaNJ
kVs1dF9S9Ks3KLv7zYI0a5ja7W2cWRJe6qmcw1L2JHTpTBQJLuGQIcozUa5Q3TzzKJOVivFivDeqigQE
n9ot91Td9pCgFFYAUpPTRQ3jIiPwo88eCoIOQ0Duo3RRCb4Aj+coMG2y+QJzGRwbB9EnsGhpG0mCrS9m
nIylnPcwyapZ4bAggvZoNTSLMheHLL8W2h3YCNI2CEa3I4XV6vQOLDsiucMfss6te+Hwcoft9+1F0C3g
T4ZuTf7YzbKHfhhHHbnynYyzux4sHnjwULHvvkN3f9VF4mV5jliSaeH3G7veXh2hDlVtobY2BTfywEAA
b8esPNMqQfcmbUQGe1/SDBg0mYtguxL0uTZDC8+lBzX9c/2ZPo2FMCxa6LeouMEybqrFnL3Y7sg2cRaz
yhR75LmGAmvSdxlR+K/NEPj5orNcPevfWSmtF8riftuZJ+P+YNgcNovv8ObNV3v6oz/hT2l4/fXLVPHy
NAQhpz0s1bVWfEt5kAQJRcP5h5dkbCuelZsr9fqYq+OuAc5M1Ia9Y664o+yqNr0H1+pNUFSYozCTIyq2
u4ZE5k9EQkU+wh7HZrsfkyuC2CpYzo2IJGLlst1r4Dl4fycnX+FjFR/1OyzlwbnlvfANf/t39/32l+6x
/y1NpUbip00O804WptJA396RL8v5JpMGmt031RN7i755FfuGw3ICksFUrGfqxFn8GrDBozHLZUzmOsu5
JsXU3Zf33sGZYXtnNbqj8OpTbiPPFXnwfqlXZ6okLOyZKhdmkqLYq0csreRPpPSHCgh1ipmpAHoq26rs
GLpMzDYIcUZJCs8w5BpF82z0vD90MRWskJxE6PJnWvMIfrTCJd3J/FQcu9ifp/AajVQ0JjiSigLt3Jn3
/UMQdSpUCYMilX4wILkC46lIcj5Y8xttUa+p+ATea40YdXJi0pYtc1mKiq0dE97xqvdSO1uPkM3WHllT
K2BGMbbGrdOpfR07faYlWEylVnyTxAYVXMS0/nKFB9t58nTEzqwWnI37nW1NCbvalKs7szSVksiUesF7
8CoO+t6SpphnZkgzSwxynkfJZqjbWBIY0DsWi4eb+bpb7LUZ31ZX2LXrtztT22khPtR+czYHALEzeh7B
ybXcGC2mMiy7R3k4BNV1raEpmo05kqq4bHH2bPrsmX+4yZZOVugVj6XtLTLjZNvdrX1r9uh8Vn9sVib7
qIt/hsspboWpVB7Ic7lzxVTUZP8jlZ09UWvOU+d/gCJOg8026wQbBck/miR0rKWJF9zx2akQGJQH2wpZ
mT5eSo4EF65NzTHpxee6Qz1xh+sP2Q40swQVYVtAyV9dnrqM1010h2Z2KkW+bWoLW57KKLXsSrQ1q9iH
oz6nJy9L2DliQx6b871ntRyuUKLKtpVuNTPlBcdzMlOwc2EqYJzVtVMhyGwnWppKyIajqOoph+r/fv0D
u/Uf1v/93SdGCv80biT7wmOJyj1f3DWVWphK4yzRYHR1oqobuX1YH51i6nCamXJ2i2rVLN+mLiUNLGs2
IlWt2gX6c2nKn6FSC3VlwyCTCY7IaE2/NEpiTkUbCvfvPZGtmHLsbh5L91HpTDmuU+G3wkuA+Ug37Ruj
EKveiU0c2AtMxCJyC+5A+P4SoAqhNzKtndgVUWdLL3C6Jea1l2y1g7U/GLWOGSZq8gdoUZvXB2UTBw2o
omakyVszE7Muad4Tb9BmbNDQTOjOfbK24Pu+PPVUZHV+zJ1NJwn9v6Wpo7mYMmdUTy7aQ98hyR1wx3S6
dy3DNyW12x2FyifhB4gnp/WmytXLVIxKjhnDHXiF8TVIt9RQtuEiz6LVNj2m7JDtU6u4yCrNMoQSezUu
un1q3Xq1Zz9NppLN0k4bho4+a7ylxEQWkoArWeRaeFnRjxR7WImjxFe4Fm7upUH3I54UplnYVNrBYCXX
aXttSy0gwpIVxS5QXhJAoWDQVqkqCe9e5JbxFO6mmPIli8Up/FKm1MAVkIGemlYdiugBwANSIetMu92m
UatVRottamfPSvd9/uyoi6kJM2WXAxrlQtFoIXX7WYoSczDSwFJ7GlY8h30fYQ+mHPkfol5ccstV3TH6
DSoqnLiMmvJ7yZPNRPF2bx3LdDQ8Wuh63ggPSGLC1+226QfM46TYIG0v6nmkx4N8cgebKJ4gju2Uo5cC
xAraZTqfhVRAMj6tazN5tC9FYbgXTIVzp5o5mp1C4gm2QroteLZthI1zMFS9saqosZGCOPnqa6pI/alf
dmdqgp7nSX3tzHEPG7hsvrv9Wd1B7/k2LzszldLMyhIWKuDBjB1TLy2PFnuZh2BS3joJ5hMFotSw52J8
SSNQtGclq0gFvaW2LhMLkSCMhNq2WAHfgHnaAl3KrXpUxrrdPpPhjRpXpgxusdAcY6VJj91/3712+ny1
okQJ85AJptZgR+tG7XZaVqk/pxImTTMerqlCSrLkkpYakAO2ABm7W518w87O1qNPqeiQnM8MvQNTdnl4
WaluQVa5T9WEQp2ckWTv4qp7V1txPtZtFaHd/VP+kU5RHGYYNS6lVOptaiavZuo69skpp3V7vaYi1yx8
tQa9aNUdQMuAHKtTGj7h4jiablE/4P2pOeGyaoM2n4V43FaVjfu+VqnC7jIztb3Faa9dgP2SzpXZqeU/
Bdgja7+FAqmw9WhDxS6UVYsdemE5n2jFFESS62g8BOjTV1Wrm7Polufa2tq3Z+ZnpjeKjVRQhtHLVHsW
Kaqpic3ES9qXaEGkgJ17iuERtXXF7SpTqQKmuFvs7lRTVrLajdYjsu1H1D+xQ28QyUO8tDzlQk9F1HZ6
9bF2L4g8g2fgXGCMZ2PgthiRaAuC292TiBzvmWVj7ZOy1QPDyVqNyZLzowcLHgGGjarIrsvseqjU5FAD
+5HjJYrMWJrZPjMVI1c1r1QeJ8E7uStm7bQ104bcfUYiheJIh6NeXEEGv1cm8b2nvSaKsHWm8BZZ5doC
hy33rIjYe+nDvZ3+oFOo0FuUXj5wYM7sX2sXHXm0pS0FHGHYeojyTW3ylCOWoxUFZk3+ZskgQyA0rF+y
arFJxC2Uu7x0t6zDKkty5Wp6drR7yrt2BaZWKbAoUx0GooGTLMxg4AVo2t6X3yYvIPPx+GPqbMTmkVl5
rRfFfaItVG6WQiuTLfuMSTvPqtJXSwUeA5+aVahJ5xUjWK5varPAT+Ym+X+tGmgWVIRlHJ2uWnqDIhNM
c2iyr5UomurLrMhPdEVjAveR+TkbrPK6qtLZKkBfFUmffNKi2dMTYUtmiaepPWRLvnJUAt227fN3b8ub
Z8eW9e4ULDAStG6fedbCF8VU8Hw1dgEl5Kbw+XOtRhYgf1P++9IUhtxW2FZzeLABbbzmsE33PJbw4Y/B
/ZeaxofXwF1u/0rWfaazUG/pL7LTyUcnz/sGVQiCgZ+/d4088nedI389Z6Xbu38hLvr/+D0oALTX/OiZ
Dy9SY0AqCNkn7f3nXHuBegP867rY8c7yzu/wirUAfPCr5Kdnygv2V3tNqBGcmNICyDjwH32XqiPQc8A1
L1LvQBxzaCOcSNd4nzz0J1KvUE2CvfE++fB/Snb7RTLJn/NeuUGVgatT3H2oBlwmG/19akq8PPV8YOo/
m3QZTlAL4u2PHsXdWpUDfNKZ/RecGX+d/Hq0533eNd0Bo5T1xGX+vETuu38vvffehz/mp9+lqsEFZ6M9
fuvsrTc/fir99nQwhMjiukIml/OpWnabWHOJx/YWeUevkU0WjLvgGb1in7lif708xeISn+rsrcsZO+n1
/JNsjV3TWVWviE3lvCdw/N6w7z3m750kZ0pXuXLrOthd/gwnwAGzTz7p33uL7LEzU0y2aAsYbNGWV26d
J//tLedsncgYZK9M/XWWz/s0eIP46+OTLVcrOGB+v/NkjL2ja7Inz9q/15zJ9TRYcH4/8dHO2VWu2XfF
YXvMOWJnQzXH+/PJjM/2CniI7d3zZ7A7nQV/Lb13XXxAFEUze1CAmuFiKoSpkygqvfiB35mO6mYlhbGd
evmVIMFgu8OG5rlS5Fy+1RbMW/qt7mCVmlQMPrqyp22JFbJES9MB46nMnFm+01v5dHKnaQNh6xXSelMh
3RmCSFZRmHaVUNtIPcHPB3RR8cOUrMwTN01EdrxVHt1Q3rtTZNZeOlyg0ylQ4sz04ReXivh4G0ag8zwV
2qYvmvlrOxanXNUp07+zvGM6C7cyldNpn3d1MDhcfy6CuPBt9NU3ZTvv2bWY1xCxC0Qdc7/U/HSyA8ds
5h1Nob5mZvLksZ2dS9OjkqXfcOXOFLag0/I2+G5bS5B/ehI15pU8thSW7CxPRQ2nra8lc3T1+aODYbeZ
i2xtoXStF/COG+UVH+y1hWlrzVp1tOr12rIFRa7ivn06mOG94sWwZ7Kq7WHSePRX1o2Av14x1o29xFqZ
cnj2TKeqlorpVHwkA9x6+TJr3idJ3ukQ5xc982qz8SHr7kkrNKdmtGkL8IE8DRZBIE7ktpZ3p5haKy3c
TDMeTm1rUz44xOodHCv2b4yHqxtZ4WJ8eNrvJb4rWzwCsmwQamZG3Ld3zOaWlsY6HrdJOFZd2qdZbGe4
3APMChCml5am8MsZ1GM87M0yxty6pM3nvJ9Iy8kcnmJX9pNXmwWs2jQF75v5PZkkID7fei4KhBVTSRXG
jdr+C3aVez4toLcAYnJ6N1s+mmpac6pQCvUbEC/HpfdmNbwzoz+82dD+9ZLIZpiGpqT7nrmQexZNwru5
RrFwaKnsC6IpU3m2KA8+bt2BIlRyGXLKw5BF7tvZiOYIKsZher1yK22U5ES20ddUu1LvquiMI2ZXJlkd
eY0glrNuRLTzuqrTa2tgq1pqQFrHAjGU07zTe6c3RonAJ78wC5OFK5vFmb7WV6lFe0IM3vL0FpSDHBkK
HWw9NBxsleuOtkk1mHnlrFhAEYSdRMiQrJy58ut9QEKrPuI/BxEvtWds88660QHmpdKotFsVt8KMGHvE
5qz82COhOjmNZ5Fn2cb7pzjU1u5pdI/iuQlOl5NdfLFnWfCpTXT7jDn4eSmrNFe1yTAn4nhJrDLNULck
9tRNkYOM44gRp3OxmIbhYGlkNXekfFjMShNxR6oyqGKG7ZGq4oc5+AubW+KjYkVT7uMsZTok0JRUgJ4N
RY7zmd7UxdD/+Y4rw0Cu5EzICiVtE2mkXA0ZkNB1wYcvumLV6RdcxsQVfn4UGikfUAzknMvm+LtXXIXJ
VV/yViVVmR+EsFISFQmtLdw3Pu8aStbUp/iV86FC80EIy1zLtGWszY9CYwRf+TGv/BPKnpzOVKdeDKmc
5/3KfqmXQjNHSiwvZJf9GZVhngk1lTPRjKQPIwWk1+LdN6ZEh1z5JJR/klBYGhTvydMu6+SSXCf41hsh
+fJmfP1kaLy8lmnghCQUbvTn0SrdVxov70TjXwyZsqdC1+g035Ls1Une8UleWYph3wlBp7MhovUKf/9J
6BHl8i9SK/pZKMA8y57RlV+I+57iPHyW7byBf1+lnJerDF11CR38fjr68LlQptITnYv580M0BpeSGthr
vNTVGMTXfGL7I1yL542e9Mn2LL+SlK9eD7GjD0JG6XJ03el43tcoJfRSfPdMXOdKjJHmRtKRey0m7emQ
JHoxVIDOZipn78Rk1i2OxwpK8lNJRed0rKYTsRs8kY3CjVAEkr7Qyy49hA8/HyP+ZqgSnYm18KhfytfR
d+KCL7Gf035yst0ivDPVpB/FbA9dL7+ytH0uxodjxnpPJtGw6Dp87Hn/Ct6SZFNoeeHPN+NGL8bWBBWp
YdP8Tl5jY+doOsvDl3Mtd/fuYLAhAzltcM8sfQ6GUUzxynr18ue84pFzRudtL+el5lftEDrcZraK6fNk
5+dM2pm4fvKry2mXfcfi53JDQC93zdyRgbKn+Jyt2uKTaA7tCT12D8UWdwqXDLp2HyijqOsYVvUSI7Go
kQaJgGqvEHitt/A5z28GcIy83liSdYnas90u4XP30feohgk/LEJs0XxuABY+FytwDWSzTJuJXWGzM21C
7h5ROHxv5xvI3B/uLFOTpmiRlxnaG3C8xZnPRQzmiulsfkkTW9Ya+JKfc9aX0v09w7j4uQ4QTqE1VYnV
yemZxTTiKXN+xMvM6nDBCgpXM3zN5ONS/6Gz3PmcRzVTFFNpVVx493/KiB2eb7qrWivNDpsVoStJqBR3
Th5RVXDXq4dw0LdGG/b+t9B/3zoC+GrmGma/CujyOT8kw8AC59HkuuD4wkFlnVJJm7zesDg4Wj5uJ+5x
pEYyIKcoI7gme6E/kK3YWZar0mIlc4ojx7uYxoNOz65du3x97DTzsETBD5E0QXlRfCjzoyk6Quc/q62H
WqyrmMGrcsM70w7/zntIoGWGuWwG/bnPLYdtzZ2TQ+U6Mv6zzY4/2vVfP2faLs1/7oV2JihAdgeb9f/V
dXW/TZ5X/LqW+B/euqqSaHEMo5pW4rgKga5MbUFdUDvtYnJsJxicOPPrkETVpIUApe0orVRGhaaWrrSk
GdAUmuFQQqTtHpE7LuFm0v6LPefrec7zgZBCYr+fz+c5v/M7vzMwwH7DgIqPYQMyKGRBQMfvY177PPoe
WVahXwIfpMdwhh2/U8H6YjXGqaj10KPLj342/+492n609ej+o5u750ANGDFzioPcR6R7BxHwPiLwd1Dr
GBF28//nGKkAJB/1fv14B2v+3qNv8ewvUCEY9IS3MSbwJUYRNvFbiliQojJqPuP//vEagWc9ZdbA7e+e
xzgGRAc2OTqxyVGBh/gEl3bPsQ4vqUZDDGYH9YZXSc3WPD+/3+4n/H7bGC9BpWxzxqbfHnj0Nj4rtc9m
EB2RqICvice6ZArXPg9IN+PKCvGHnxa//lFFElZBqe3JGp9/98kWaObR9Z7cApUyvIPTJqOzPrJafRdQ
702+x/uj3t66xBE8nbNvzROcpU+CZ3Sad3y/bmeq09PFWmwsn2K5RUy99ATLKuEehWscktx4pQsnVcUK
QwFbpmM2V9T6UXM/p3VYAYrhRKroSiGY/E2IAZJe6FciwSNXZ46RNUZyxRstBsub485Zhv4ihESbbsHH
qvOdOZzCOJmlumd2GEpKds2KOOIpN+wpeEgL5CpX/Mgo7DqCOXMTemYLUOLtKdwxRSmPY//XIBItPdIv
wur1tZLMEYXQ+uC11NEBOXdBrJmx4jgUzRvO3mi2T2O+6zD2i46COAiDT3ZJ7Oj5m82GOf/mB0Aj1Ypn
oUHVp4CbDGXQAN20OUBRoGKgwmzoseJCb7r062K14FialpB4ullrK1gSYCzqzSxvIjoe7nZZaA4h0Udw
PeSY6HQqeHRgcExTySXaBvzMGyQkqKRxxNqEet+sdadbS8Vq0LV7CpBq0yw1oC47CWMQFgxvBhsqMBmn
M8JRJ4zFZTatWg5V5ZvZqVYbmDVdkBIMTEfiGtV7dsRYPSQB4Y6d6CCElY1zxVyp4GFfn2MCbfsuB5tz
J2tQuQTU3U6ZBzHfNktgYkGrzdRmm7x+uEwec/C7VACKK2hJDaVMjINj3Q6SsH5j/pibgoxhLYRDVB+W
nkB1JGS8KCkwokUhO0VXU2VlN4mNiMvh8HHB1ISCKeQQZ93bpQ8xxbwsqWm2PbisFNhYiD7mfioUMIPI
QnUwJkpILEBaHqRKtOq5p/yFmCmTval4U22mw/N4j0zkPaFZUAD+WKYLPZsxM5zpFcGThYK7vNUyrhAk
8mbvYiQzt0aJrIWOhsbjQBkztLR5+mHYHh2iw0GRJATPoawTdSILVYowhaIy+S7EiDHt6kgVk2JIrbzT
tlkxcKCX/C2A5lFjEVuxE85ydbXPW1B/UfgoCAFzro29qC6BjfnQs8jJa/VsWoEuxEtMq64ZJlxhk0iL
NmmlDBUcoe5a0w9KjYeLtHcC7Ip1KIoEvGcZ2r3FTsnYvF1bmPHQApfDA6YWVCVsyAdwuW6r0/ATGTJq
IN+xYn08jtu1lz1RQp77TnkStl0sTNhV64enXwen0OghvByb2tPchLiFdUxqUzkIJxifLFyELch9QPDw
UeWVkqM0erK2ZOb7VM54QnnfiAtRSbYRdYbCucs8rbX5gyYIrPIlFCIZK5r1/HStbtwvZBHD9tccLL68
f0Kl+Q1Ez1w9quq+YRHNYeUJkq30y4ojT8peqkQ3jFNc6x0wG5rZt4CPJpMwmvuFyCDL4wbS1hNp52TR
yHPsTKnwWMxCQ60YeZRK14xvD4/1SrndMesyZ0821AClAekyAcUqQDW79rIS45A6iS4PazQyAnWgnPhu
nrghHg85FLXGMoosUDaaHwqCfdjaF9ZUzbyACvm6KDlGJVTRY6+8eOjoxOTvjx3OpCu0aA/9LFZDTMrr
YERVfL4f3GwsMjSATydimwttyCoNFhezVvhZT9Cvb9S65nkbGtFxRhVnTZOpDPm1AgYcXYLSXnrbZqv8
VHMZuQJmxvBbqJGmPAXOz5xGpYm2yiHWI5zM8ywy2/2cDPioEm00I9Hu7edS4IrehnHSVsF1YK7iqLeq
H2AT+pmNohzl8k5kU0P6AO5sniIVPrPN2bHmhc5wowQ6b4qCwVj32aJwpM8whn6vZSHGNBk9c+TX9By/
GICoZrfTZREfsxG3F3IUkPCSLxF90dXZyNszQ41ShK32zcSRcYabXjdjZarTOWW5AU4pY45GTs3GbiXv
2i3KmPbanFXZ+3Cd8V4b8LM6VYyl4Ld5E4GPhqUvuLZwz3HVaRXImfF/tNdTVSOr0RI5PpcFoXYldpKJ
3Cc4MAtdZxJMdOZoSBszgZxhGC0zxspZyDkVLz8GZF/Q7ZhxAXHNqmbzBFV8FMGASAKzLjtHR0IzdAhq
jZM15NTYMYa4lwcIGyM/ZwGiTFRPlSYsKd2Y6+JCawPzJ0iYVBTKMZ+RmRIWbj0EyCPaUJKLbWWBM8pQ
FVkjnakkWaROkZiMSK2bAHhkp6tRNbgOX50SsOooG0ID2AyPLkr8gsCh0M48p8BOK4s2gnUDzdkhzo8Z
X5YGk0Vuss/v1isATv5F02p5oIVg5inznRRD5WAHVl4QhGH1vDzIITMunaIE8sgMcuHBMKccSujfTg+S
P3KptikSTKDPo3Tf0U/ws39xFY38THtvUBBYGpk/MR9w7czoixbaglPHFOmjGohzdXCJYF/XR2mhrKPP
MYezRAjK2fGTOsMB313odUW6eXFo1Mn4tEhftulR7bCJcVPNtEQcp2khJEPaantHsyAY5euT4DjEHRZ9
vfJSCRBhdRPuxyxy5/W3hKLZ8IP9hdZMfJ75Fmq6PP5s96PHPwN3GeuFUZ2y8JPrVAUMmeTnAd/lym73
gypsUtWOMU7/k91LjKre5QpvgKsCrruDfzMy/PhHPHOHWOXIp36AvxHKu2HuR2jsPWSVM8aMDG/mdfPd
CVH+Gev6UV0zujvwvu/zWwTPA5gyIrjbjBj/dfcTZJ6fQ958n7FeqGz3I6PJ28j+3sYabZt4f3pTOIZ4
+PLJfXoLrtIGd/8Uj7+PNeW2ocofxlsvCmFgQwKyFzCiuoKx6TsY7aX4siUwqLpjXMLpnJzynYRrtyS8
flGi1RTS/VrVuvpOMQEo3q0rcAk7Aj6XsyDufBV//4pZHFxLiBgXV1Xw94wKu6/hM6yo6j8P1XtZtox9
i75c5zM85Y7UPlsTcsiG8Ar+gtff4Lg5cwmIV0NlcW4JReSBvOYFPEWfRS2j2pnbcF1OUVV4HMfgosTT
NbliRzE31qWRP5SO2FL8HNWGjkBiuQSaCvJQul7YCI6N83dHIfBq3q0oFoqtNvUB8jGoxXakd+4JKUKR
izymx0WpgbWOv+wgw+Qh129yT3tGqukRe+SqT025IwffwBPPuDd191qXHrmMZ91mggoX46MBdkPa5LZU
4KKmuy5ltqSmG9/9tjd64ZjzyJ9Zx88vCY3hYyEFUZE7ep6/qfY/L4/3gYxn2843mZfiaEUPZPSuyfRZ
kxJUdowJ68Z9Qt20ptp5012HyCE8L9ZkxtnCW2v4hD+oYnBYMRD+vG2vE8eRvNwUl5Gyao5aw2yOdZvV
INWM4Jgt8/8PXnUe94nUaQrjQ99znsgFjFD9hFEqujLktKxhxSJ+HqlxpD65i9GuszYydROfawWyObiO
z43wXnjspvymHEqBYBb3j3S6M+V9r776ankJRXzARwhBIXR74dvRzIYCIhRGVJtUfY4iqLeI6vdYsTM9
XdSSdizjNwrlNiBUL6R/Y7FEgFL2UpAfAmagDllxDMdaWS9ZY6EYeyS6oAd/VKhE8Zhy+fDbxUzfcBFE
SxrN4+8cmYAU0zm0lviGJ43VTZc4EAaeQfsgjKnkdYvqZBaP03JWfNsstu5if9wzyPjGcddmYIUGiJYE
KrDdCYgqJ/o2Bp6wJbCTKSj0WrWwGIVBXgtCb4itYKzfu1YWeawHYrylgGihV92jV4khqSyNlQRkdgXM
yMn++MaX8kpIkKqDl3COemGZL2HgIHsP8Nfp2NLQ4TMBXO1TluFkJb4kQzSLYon7bJ4JInJmIsxMQT1v
BgWMLz0DjJZoIrRmhVSlXJjxeq3RnCVcgpgjuUKShNWjvUp+/BEzaNiJOLh8pDHYagyRktxJIWaDSyxu
hkh7DY2y4ozXt7GJXvD6mTCyaowYC1e56bJcmCaOhS9YA0PXdODQtRcBp5/xytHyqkEQrBhohWFouwNp
z17hBwjFgfc/N9MDYcVDIxMj8bgvkQ6DaEEAsDGsS5OJuofzChsq3TpIG1IBM4E6OUMM4n+CP2YxADnb
yv3ybJ3pSQHWhrMT7BTmMbo5YZax2alWTV2suWQGJIuicHLKQk7VCVS7MRDoRX8BrvFBu9r0NBRd6KkX
Qu45tzFPKwfeKYW4CAIXYAWOOwKXmGtoqiPPNBeFs962LhnAk/uoxC4Xm1PmnZuoLFKDYGO355IWabcD
DMgG3YBnJLiijbaKCIJVuXidkV31yExl0hWAWBVeD5O3jT/s+gub0EtxquG6U6/N16QgiWi7+MCtN+Qg
NYWG3PRCF8epWsdce1EVA8jvkHIWbikFCGzZtMEMCMCRsFncQRU/NPRe6fh4af7Eck5sB1ukBniAZkuF
JUxGn8Wm6vBFHdh2g/IaLjiKywA2PPJG6B1zVuWwOBfnnFmLBqryaPiHgEgoddVFjSmYJhjOwH6sQ23B
LghFQLu8vP/wy/sneIyZP4pDQ6MhIgU7pCdSKBi2GVZ/DPIeQ34t0CyDRRqpl3Gc7b0S6MgeMjNpcAgW
7cnWrPktiyGYoretsGXhLCRn8wQJuViVzr6DMo1QqlZmF6/nctyAagM/dZb5xpaOo6J4CZOJEXq9PvXE
QNJ3ZmlW3xSBynqLk6gxXIPtepmH3oRNjcQe0PXuZOHxyLd8I1+7g5N6Ap5zj2QrZrq1WeS/WAaELnAk
5CV7Pce28BJr5bjEjh1vn38qVhIGjdqOrI3qxS/4aGrloKd+Va3Ai+ohLIpyegSiURdkYod8a2gXsc90
JLmY2DcT1luR+rLn9WWesPz2FOLnq6YGPi8GUpAO6o+NJjYNpxjmCqbYylVSnaQFxQy4bIPmYBPn3yNY
BZHPCvz0qklwXIzex1c/VlPvdKfVGNw7NFr0FMdtqnPsqrmYg1u6qwmT2+cf0m9BhjqSS4gDhTVHSfMO
3lcpW8lkqMQgc52j2rBztFvT2LzDXh1EIaPES1jmNCjhODIPGq35NgmLWgWb3On6uPfFgRHw37JEG3Dw
OhcbB+OLCfPRq3alTDevXBdpfEUeHZVSw2i3/U2XbpKqFGYE98LIirFxT9FIdGOrIcUieP2ypDMpiMRt
amv1qOM4ruW5R0GCNFIJsE9PA48IZJCboI6Uk2U3D/FOq3Q1aB1k50OotrIRUaeC7eyjRBdVs4QDiRwc
IiUgcQiejcqX+XQIHJFYFsjxK1V1KrRXFls5cOkwmo7TUNKTYX0Jbu4nXtK8pPphTYwpthr0fvxC8IeN
OtqomtogoEM6s2bkKsPLK5fIPTCdWF+Qj8lloZgfhGL6CzML/1nPs0GKrS8MiR7O7pXH27srGO3YwBhC
8Nnjaxg1WEGNIIqNbIWxC2KYm3POYhTggcRTzPUkCuJiCNukGSTRB9DWic9lrnz42TWKopjrAoe9bzn6
FA/ZtKo88fU+oeeFJ3ZaO+b+pA60gZ+hHo7omyDmdxMrr59nfO0nRgpXFXf8DH325BZ85u9Rxydfh7Uk
J+vLLJQqF8ZP3eVyrN6qI6MJZU3GsgEca7LYR8sOWFQBkkXoULh7435dTG0GiiPuliRrjRSUOYLTLZx+
lZSRIl96Fo7LChElMGNxRTYjXDgDDfJW/ZS3yw2KZasM2z8rwVCxdIrZMTTdB3LtV2WRQQiNFRraaM1H
23QPU1K8rYv+C9d2dWTw8yXQ/YTp+L6ZyiVO2yqkbFwSran64jW0eQVwhBxa0McGJkWh8mKp9AdfwGO8
1YUnqRYSLZKyTBef9q897d952v8efm6dfdq/8rT/j2er3z5b/fTZ6rVnq1eerX7zbPXqs9Uv/nvrm//9
83Obcr61Yv4akrjYhgQvKMrwNeL2H3IIjAM9ErXhjMuLEm6zWaVBBMeGJ2xQwGahrksSaJ+jkHCWDfz1
Ve6wzSy2ybNXVPgmCAh+LEnQOxLD+lIe75zkk26oIKPNGrbxyjVJ+NWBm5UoNfsyZ5hyUEzHs4I07euS
zHuRk9a5TdYwf3ZHvlqXANllOXJHQn5fqdOpfc7gM+sP1yV718+C56fdUFHI6ypCZPudzvpGTrwtrWru
/rVXuNR6wTGbEPgHyoxQaWnRsIf/2DsJLQgQW1G3kfwbXLBC/zK16xer4RpI0yWByy/NttWxbjEL5KVk
9VSaNMqbMbtAwoZK2cPlaghpkFczkl65lcfpJr1eSN3qGvMvYfkM3FDOBlWru3LxSuXyu/snyuVDk4ey
996YfOvNbN/I3sx3ugSRCRwelsoyj8s6Tei6QY6EaaiCt3vKKQ7J+K1p9N9xo6faMT84k/L/sqCx2KPF
uwwEvTkQY1BIIPKvwP2aJbessYFfJCJQleSWWYBAz3DWA+VOePVhDL2prC+Vjubnkcs4Sy796Qngb2fW
QEghRabnu61aibrAvHl3wThK/75XobYP50F7bO8o5aEr8+h95fjj0D6QgTJScqCeeOGFFJ5W60EF+fBJ
YjwI3jj5Ful9tZlshrFu8nbNsZSxoq3xRic72DVGentIaS32UbeRuDx3kBMENvK/HH/H0528I9mYmHt5
l9QjFacpcQXzKVzhEulDAsOHck/91TM7dvzgm0cmsuJcrzQZCBlA98WYygR8D2gM0850fJVWYrMQzuW6
7dPLwaT5k9bOfaWed0Fl2k6+w4eUExaymY2jOgNSbS0IFfXeNpNshPJWDiL9Nbl+zNVO5vGYNVey7uzQ
CPLhefDGNiyegGM43mti1BG/TiFdxrtVu4I26ivp3SJGrfCh1B6iJfcSnACcJemVMkZHsJFrI0lnJdms
s6lwLLwmV4gKR4seJzhMXhnZuy+b9Hd/G3B8zj0TLgY+ZDEEUnkHS7w8hj3Hkm3YGxzI0vvCc9qr2Egb
MTkwg9sJOkT8/jQ3KmnzBOLJyS9wLo3ELR3NZZ75gRlhN8fndGHhOc1ZSa3T8F7PabYqsjMvqRWKVy/i
YEruPHv9jvnYZxalzUMH9iWulTvIaLTXEa5ZX8xVa61fFraX9QCIAKg5bh8rVRiy7m8o4pJl5O0ogZ8d
vmbCnCfH5TJKTBFva0O4Wl+l/Ix13xO6KCJPD5H51fete+aO/R8EyzZRoN8BAA==`;let Tx;function oAe(){if(!Tx){Tx=new Uint8Array(122784);const n=atob(rAe),e=new Uint8Array(n.length);for(let i=0;i<n.length;i++)e[i]=n.charCodeAt(i);QN(e,Tx)}return Tx}const Nt=0,H4=1,sAe=2,aAe=3,lAe=4,uAe=5,cAe=6,dAe=7,fAe=8,_7=9,Ji=10,ar=11,NR=12,hAe=13,pAe=14,gAe=15,mAe=16,vAe=17,yAe=18,bAe=20;function nt(n,e,i){this.prefix=new Uint8Array(n.length),this.transform=e,this.suffix=new Uint8Array(i.length);for(let r=0;r<n.length;r++)this.prefix[r]=n.charCodeAt(r);for(let r=0;r<i.length;r++)this.suffix[r]=i.charCodeAt(r)}const AS=[new nt("",Nt,""),new nt("",Nt," "),new nt(" ",Nt," "),new nt("",NR,""),new nt("",Ji," "),new nt("",Nt," the "),new nt(" ",Nt,""),new nt("s ",Nt," "),new nt("",Nt," of "),new nt("",Ji,""),new nt("",Nt," and "),new nt("",hAe,""),new nt("",H4,""),new nt(", ",Nt," "),new nt("",Nt,", "),new nt(" ",Ji," "),new nt("",Nt," in "),new nt("",Nt," to "),new nt("e ",Nt," "),new nt("",Nt,'"'),new nt("",Nt,"."),new nt("",Nt,'">'),new nt("",Nt,`
`),new nt("",aAe,""),new nt("",Nt,"]"),new nt("",Nt," for "),new nt("",pAe,""),new nt("",sAe,""),new nt("",Nt," a "),new nt("",Nt," that "),new nt(" ",Ji,""),new nt("",Nt,". "),new nt(".",Nt,""),new nt(" ",Nt,", "),new nt("",gAe,""),new nt("",Nt," with "),new nt("",Nt,"'"),new nt("",Nt," from "),new nt("",Nt," by "),new nt("",mAe,""),new nt("",vAe,""),new nt(" the ",Nt,""),new nt("",lAe,""),new nt("",Nt,". The "),new nt("",ar,""),new nt("",Nt," on "),new nt("",Nt," as "),new nt("",Nt," is "),new nt("",dAe,""),new nt("",H4,"ing "),new nt("",Nt,`
	`),new nt("",Nt,":"),new nt(" ",Nt,". "),new nt("",Nt,"ed "),new nt("",bAe,""),new nt("",yAe,""),new nt("",cAe,""),new nt("",Nt,"("),new nt("",Ji,", "),new nt("",fAe,""),new nt("",Nt," at "),new nt("",Nt,"ly "),new nt(" the ",Nt," of "),new nt("",uAe,""),new nt("",_7,""),new nt(" ",Ji,", "),new nt("",Ji,'"'),new nt(".",Nt,"("),new nt("",ar," "),new nt("",Ji,'">'),new nt("",Nt,'="'),new nt(" ",Nt,"."),new nt(".com/",Nt,""),new nt(" the ",Nt," of the "),new nt("",Ji,"'"),new nt("",Nt,". This "),new nt("",Nt,","),new nt(".",Nt," "),new nt("",Ji,"("),new nt("",Ji,"."),new nt("",Nt," not "),new nt(" ",Nt,'="'),new nt("",Nt,"er "),new nt(" ",ar," "),new nt("",Nt,"al "),new nt(" ",ar,""),new nt("",Nt,"='"),new nt("",ar,'"'),new nt("",Ji,". "),new nt(" ",Nt,"("),new nt("",Nt,"ful "),new nt(" ",Ji,". "),new nt("",Nt,"ive "),new nt("",Nt,"less "),new nt("",ar,"'"),new nt("",Nt,"est "),new nt(" ",Ji,"."),new nt("",ar,'">'),new nt(" ",Nt,"='"),new nt("",Ji,","),new nt("",Nt,"ize "),new nt("",ar,"."),new nt("",Nt,""),new nt(" ",Nt,","),new nt("",Ji,'="'),new nt("",ar,'="'),new nt("",Nt,"ous "),new nt("",ar,", "),new nt("",Ji,"='"),new nt(" ",Ji,","),new nt(" ",ar,'="'),new nt(" ",ar,", "),new nt("",ar,","),new nt("",ar,"("),new nt("",ar,". "),new nt(" ",ar,"."),new nt("",ar,"='"),new nt(" ",ar,". "),new nt(" ",Ji,'="'),new nt(" ",ar,"='"),new nt(" ",Ji,"='")],xAe=AS.length;function G4(n,e){return n[e]<192?(n[e]>=97&&n[e]<=122&&(n[e]^=32),1):n[e]<224?(n[e+1]^=32,2):(n[e+2]^=5,3)}function _Ae(n,e,i,r,o){const s=oAe(),{prefix:a}=AS[o],{suffix:l}=AS[o],u=AS[o].transform;let c=u<NR?0:u-(NR-1);const d=e;c>r&&(c=r);let f=0;for(;f<a.length;)n[e++]=a[f++];i+=c,r-=c,u<=_7&&(r-=u);for(let g=0;g<r;g++)n[e++]=s[i+g];let h=e-r;if(u===Ji)G4(n,h);else if(u===ar)for(;r>0;){const g=G4(n,h);h+=g,r-=g}let p=0;for(;p<l.length;)n[e++]=l[p++];return e-d}const SAe=256,wAe=704,CAe=26,V4=6,W4=2,md=1080,OR=16,AAe=new Uint8Array([3,2,1,0,3,3,3,3,3,3,2,2,2,2,2,2]),TAe=new Int8Array([0,0,0,0,-1,1,-2,2,-3,3,-1,1,-2,2,-3,3]),EAe=new Uint16Array([256,402,436,468,500,534,566,598,630,662,694,726,758,790,822,854,886,920,952,984,1016,1048,1080]),MAe=new Uint32Array([0,0,0,0,0,4096,9216,21504,35840,44032,53248,63488,74752,87040,93696,100864,104704,106752,108928,113536,115968,118528,119872,121280,122016]),RAe=new Uint8Array([0,0,0,0,10,10,11,11,10,10,10,10,10,9,9,8,7,7,8,7,7,6,6,5,5]),PAe=4,j4=24;function IAe(n,e){const i=new Uint8Array(e),r=new h7(n),o=new p7(i);return NAe(r,o),i}function NAe(n,e){let i=0,r=0,o=0,s=0;const a=[16,15,11,4];let l=0,u=0,c=0;const d=[new Nf(0,0),new Nf(0,0),new Nf(0,0)],f=128+Ja.READ_SIZE,h=new Ja(n);o=OAe(h);const p=(1<<o)-16,g=1<<o,b=g-1,y=new Uint8Array(g+f+j4),m=g,_=[],S=[];for(let w=0;w<3*md;w++)_[w]=new xi(0,0),S[w]=new xi(0,0);for(;!r;){let w=0;const A=[1<<28,1<<28,1<<28],T=[0],C=[1,1,1],R=[0,1,0,1,0,1],E=[0];let P=0;for(let Y=0;Y<3;Y++)d[Y].codes=[],d[Y].htrees=new Uint32Array;h.readMoreInput();const I=FAe(h);if(w=I.meta_block_length,i+w>e.buffer.length){const Y=new Uint8Array(i+w);Y.set(e.buffer),e.buffer=Y}if(r=I.input_end,I.is_metadata){for(kAe(h);w>0;--w)h.readMoreInput(),h.readBits(8);continue}if(w===0)continue;if(I.is_uncompressed){h.bit_pos_=h.bit_pos_+7&-8,LAe(e,w,i,y,b,h),i+=w;continue}for(let Y=0;Y<3;Y++)C[Y]=S7(h)+1,C[Y]>=2&&(Tw(C[Y]+2,_,Y*md,h),Tw(CAe,S,Y*md,h),A[Y]=Ex(S,Y*md,h),E[Y]=1);h.readMoreInput();const D=h.readBits(2),F=OR+(h.readBits(4)<<D),L=(1<<D)-1,$=F+(48<<D),U=new Uint8Array(C[0]);for(let Y=0;Y<C[0];Y++)h.readMoreInput(),U[Y]=h.readBits(2)<<1;const k=K4(C[0]<<V4,h),H=k.num_htrees,{context_map:z}=k,Q=K4(C[2]<<W4,h),Z=Q.num_htrees,ie=Q.context_map;d[0]=new Nf(SAe,H),d[1]=new Nf(wAe,C[1]),d[2]=new Nf($,Z);for(let Y=0;Y<3;++Y)d[Y].decode(h);let xe=0,J=0,se=U[T[0]],ee=Ax[se],ne=Ax[se+1],ue=d[1].htrees[0];for(;w>0;){let Y;h.readMoreInput(),A[1]===0&&(JT(C[1],_,1,T,R,E,h),A[1]=Ex(S,md,h),ue=d[1].htrees[T[1]]),A[1]--;const le=Rg(d[1].codes,ue,h);let fe=le>>6;fe>=2?(fe-=2,Y=-1):Y=0;const W=XCe[fe]+(le>>3&7),X=YCe[fe]+(le&7),V=k4[W].offset+h.readBits(k4[W].nbits),Se=z4[X].offset+h.readBits(z4[X].nbits);u=y[i-1&b],c=y[i-2&b];for(let he=0;he<V;he++){h.readMoreInput(),A[0]===0&&(JT(C[0],_,0,T,R,E,h),A[0]=Ex(S,0,h),P=T[0]<<V4,xe=P,se=U[T[0]],ee=Ax[se],ne=Ax[se+1]);const ge=L4[ee+u]|L4[ne+c],me=z[xe+ge];A[0]--,c=u,u=Rg(d[0].codes,d[0].htrees[me],h),y[i&b]=u,(i&b)===b&&e.write(y,g),i++}if(w-=V,w<=0)break;if(Y<0){h.readMoreInput(),A[2]===0&&(JT(C[2],_,2,T,R,E,h),A[2]=Ex(S,2*md,h),J=T[2]<<W4),A[2]--;const he=(Se>4?3:Se-2)&255,ge=ie[J+he];if(Y=Rg(d[2].codes,d[2].htrees[ge],h),Y>=F){Y-=F;const me=Y&L;Y>>=D;const j=(Y>>1)+1,G=(2+(Y&1)<<j)-4;Y=F+(G+h.readBits(j)<<D)+me}}const pe=DAe(Y,a,l);if(pe<0)throw new Error("[BrotliDecompress] invalid distance");i<p&&s!==p?s=i:s=p;let _e=i&b;if(pe>s)if(Se>=PAe&&Se<=j4){let he=MAe[Se];const ge=pe-s-1,me=RAe[Se],j=(1<<me)-1,G=ge&j,ce=ge>>me;if(he+=G*Se,ce<xAe){const Ee=_Ae(y,_e,he,Se,ce);if(_e+=Ee,i+=Ee,w-=Ee,_e>=m){e.write(y,g);for(let de=0;de<_e-m;de++)y[de]=y[m+de]}}else throw new Error("Invalid backward reference")}else throw new Error("Invalid backward reference");else{if(Y>0&&(a[l&3]=pe,l++),Se>w)throw new Error("Invalid backward reference");for(let he=0;he<Se;he++)y[i&b]=y[i-pe&b],(i&b)===b&&e.write(y,g),i++,w--}u=y[i-1&b],c=y[i-2&b]}i&=1073741823}e.write(y,i&b)}function OAe(n){if(n.readBits(1)===0)return 16;let e=n.readBits(3);return e>0?17+e:(e=n.readBits(3),e>0?8+e:17)}function JT(n,e,i,r,o,s,a){const l=i*2,u=i,c=Rg(e,i*md,a);let d;c===0?d=o[l+(s[u]&1)]:c===1?d=o[l+(s[u]-1&1)]+1:d=c-2,d>=n&&(d-=n),r[i]=d,o[l+(s[u]&1)]=d,++s[u]}function Nf(n,e){this.alphabet_size=n,this.num_htrees=e,this.codes=new Array(e+e*EAe[n+31>>>5]),this.htrees=new Uint32Array(e)}Nf.prototype.decode=function(n){let e=0;for(let i=0;i<this.num_htrees;i++)this.htrees[i]=e,e+=Tw(this.alphabet_size,this.codes,e,n)};function Ex(n,e,i){const r=Rg(n,e,i),{nbits:o}=U4[r];return U4[r].offset+i.readBits(o)}function DAe(n,e,i){return n<OR?(i+=AAe[n],i&=3,e[i]+TAe[n]):n-OR+1}function LAe(n,e,i,r,o,s){const a=o+1;let l=i&o,u=s.pos_&Ja.IBUF_MASK;if(e<8||s.bit_pos_+(e<<3)<s.bit_end_pos_){for(;e-- >0;)s.readMoreInput(),r[l++]=s.readBits(8),l===a&&(n.write(r,a),l=0);return}if(s.bit_end_pos_<32)throw new Error("[CopyUncompressedBlockToOutput] br.bit_end_pos_ < 32");for(;s.bit_pos_<32;)r[l]=s.val_>>>s.bit_pos_,s.bit_pos_+=8,l++,e--;let c=s.bit_end_pos_-s.bit_pos_>>3;if(u+c>Ja.IBUF_MASK){const d=Ja.IBUF_MASK+1-u;for(let f=0;f<d;f++)r[l+f]=s.buf_[u+f];c-=d,l+=d,e-=d,u=0}for(let d=0;d<c;d++)r[l+d]=s.buf_[u+d];if(l+=c,e-=c,l>=a){n.write(r,a),l-=a;for(let d=0;d<l;d++)r[d]=r[a+d]}for(;l+e>=a;){if(c=a-l,s.input_.read(r,l,c)<c)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");n.write(r,a),e-=c,l=0}if(s.input_.read(r,l,e)<e)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");s.reset()}function S7(n){if(n.readBits(1)){const e=n.readBits(3);return e===0?1:n.readBits(e)+(1<<e)}return 0}function BAe(){this.meta_block_length=0,this.input_end=0,this.is_uncompressed=0,this.is_metadata=!1}function FAe(n){const e=new BAe;if(e.input_end=n.readBits(1),e.input_end&&n.readBits(1))return e;const i=n.readBits(2)+4;if(i===7){if(e.is_metadata=!0,n.readBits(1)!==0)throw new Error("Invalid reserved bit");const r=n.readBits(2);if(r===0)return e;for(let o=0;o<r;o++){const s=n.readBits(8);if(o+1===r&&r>1&&s===0)throw new Error("Invalid size byte");e.meta_block_length|=s<<o*8}}else for(let r=0;r<i;r++){const o=n.readBits(4);if(r+1===i&&i>4&&o===0)throw new Error("Invalid size nibble");e.meta_block_length|=o<<r*4}return e.meta_block_length++,!e.input_end&&!e.is_metadata&&(e.is_uncompressed=n.readBits(1)),e}function K4(n,e){let i=0;e.readMoreInput();const r=S7(e)+1,o=new Uint8Array(n);if(r<=1)return{num_htrees:r,context_map:o};e.readBits(1)&&(i=e.readBits(4)+1);const a=[];for(let l=0;l<md;l++)a[l]=new xi(0,0);Tw(r+i,a,0,e);for(let l=0;l<n;){e.readMoreInput();const u=Rg(a,0,e);if(u===0)o[l]=0,l++;else if(u<=i){let c=1+(1<<u)+e.readBits(u);for(;--c;){if(l>=n)throw new Error("[DecodeContextMap] i >= context_map_size");o[l]=0,l++}}else o[l]=u-i,l++}return e.readBits(1)&&UAe(o,n),{num_htrees:r,context_map:o}}function $Ae(n,e){const i=n[e];for(let r=e;r;r--)n[r]=n[r-1];n[0]=i}function UAe(n,e){const i=new Uint8Array(256);for(let r=0;r<256;r++)i[r]=r;for(let r=0;r<e;r++){const o=n[r];n[r]=i[o],o&&$Ae(i,o)}}function kAe(n){const e=n.bit_pos_+7&-8;return!n.readBits(e-n.bit_pos_)}function zAe(n,e){const i=new Uint8Array(e);try{let r=0,o=0;for(;r<n.length-8;){const s=n[r++]<<24|n[r++]<<16|n[r++]<<8|n[r++],a=n[r++]<<24|n[r++]<<16|n[r++]<<8|n[r++];if(n.length-r<a)throw new Error("lz4 not hadoop");if(i.length<s)throw new Error("lz4 not hadoop");if(DR(n.subarray(r,r+a),i,o)!==s)throw new Error("lz4 not hadoop");if(r+=a,o+=s,r===n.length)return i}if(r<n.length)throw new Error("lz4 not hadoop")}catch(r){if(r instanceof Error&&r.message!=="lz4 not hadoop")throw r;DR(n,i,0)}return i}function HAe(n,e){const i=new Uint8Array(e);return DR(n,i,0),i}function DR(n,e,i){let r=i;for(let o=0;o<n.length;){const s=n[o++];let a=s>>4;if(a){let h=a+240;for(;h===255;)a+=h=n[o++];if(e.set(n.subarray(o,o+a),r),r+=a,o+=a,o>=n.length)return r-i}const l=n[o++]|n[o++]<<8;if(!l||l>r)throw new Error(`lz4 offset out of range ${l}`);let u=(s&15)+4,c=u+240;for(;c===255;)u+=c=n[o++];let d=r-l;const f=r+u;for(;r<f;)e[r++]=e[d++]}return r-i}const GAe={SNAPPY:UCe(),GZIP:(n,e)=>{const i=new Uint8Array(e);return QN(n,i),i},BROTLI:IAe,ZSTD:n=>$Ce(n),LZ4:zAe,LZ4_RAW:HAe};class VAe{constructor(e){tB(this,"buffer");this.buffer=e}async slice(e,i){return this.buffer.slice(e,i)}get byteLength(){return this.buffer.byteLength}}const kr=(n,e)=>typeof n=="string"&&n.endsWith("n")?BigInt(n.slice(0,-1)):Number(n),q4=async(n,e)=>{try{const i=await n.arrayBuffer(),r=new VAe(i);return new Promise((o,s)=>{_Ce({file:r,rowFormat:"object",compressors:GAe,onComplete:l=>{o(e==="entity"?l.map(u=>({id:u.id,human_readable_id:kr(u.human_readable_id,"number"),title:u.title,type:u.type,description:u.description,text_unit_ids:u.text_unit_ids})):e==="relationship"?l.map(u=>({id:u.id,human_readable_id:kr(u.human_readable_id,"number"),source:u.source,target:u.target,description:u.description,weight:u.weight,combined_degree:kr(u.combined_degree,"number"),text_unit_ids:u.text_unit_ids,type:"RELATED"})):e==="document"?l.map(u=>({id:u.id,human_readable_id:kr(u.human_readable_id,"number"),title:u.title,text:u.text,text_unit_ids:u.text_unit_ids})):e==="text_unit"?l.map(u=>({id:u.id,human_readable_id:kr(u.human_readable_id,"number"),text:u.text,n_tokens:kr(u.n_tokens,"number"),document_ids:u.document_ids,entity_ids:u.entity_ids,relationship_ids:u.relationship_ids})):e==="community"?l.map(u=>({id:u.id,human_readable_id:kr(u.human_readable_id,"number"),community:kr(u.community,"number"),parent:kr(u.parent,"number"),level:kr(u.level,"number"),title:u.title,entity_ids:u.entity_ids,relationship_ids:u.relationship_ids,text_unit_ids:u.text_unit_ids,period:u.period,size:kr(u.size,"number")})):e==="community_report"?l.map(u=>({id:u.id,human_readable_id:kr(u.human_readable_id,"number"),community:kr(u.community,"number"),parent:kr(u.parent,"number"),level:kr(u.level,"number"),title:u.title,summary:u.summary,full_content:u.full_content,rank:u.rank,rank_explanation:u.rank_explanation,findings:u.findings,full_content_json:u.full_content_json,period:u.period,size:kr(u.size,"number")})):e==="covariate"?l.map(u=>({id:u.id,human_readable_id:kr(u.human_readable_id,"number"),covariate_type:u.covariate_type,type:u.type,description:u.description,subject_id:u.subject_id,object_id:u.object_id,status:u.status,start_date:u.start_date,end_date:u.end_date,source_text:u.source_text,text_unit_id:u.text_unit_id})):l.map(u=>({...u})))}}).catch(s)})}catch(i){return console.error("Error reading Parquet file",i),[]}};/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let w7;const eC=n=>w7=n,C7=Symbol();function LR(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var My;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(My||(My={}));function WAe(){const n=H8(!0),e=n.run(()=>Ge({}));let i=[],r=[];const o=sI({install(s){eC(o),o._a=s,s.provide(C7,o),s.config.globalProperties.$pinia=o,r.forEach(a=>i.push(a)),r=[]},use(s){return this._a?i.push(s):r.push(s),this},_p:i,_a:null,_e:n,_s:new Map,state:e});return o}const A7=()=>{};function X4(n,e,i,r=A7){n.push(e);const o=()=>{const s=n.indexOf(e);s>-1&&(n.splice(s,1),r())};return!i&&G8()&&_ie(o),o}function cp(n,...e){n.slice().forEach(i=>{i(...e)})}const jAe=n=>n(),Y4=Symbol(),eE=Symbol();function BR(n,e){n instanceof Map&&e instanceof Map?e.forEach((i,r)=>n.set(r,i)):n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const i in e){if(!e.hasOwnProperty(i))continue;const r=e[i],o=n[i];LR(o)&&LR(r)&&n.hasOwnProperty(i)&&!Vi(r)&&!Td(r)?n[i]=BR(o,r):n[i]=r}return n}const KAe=Symbol();function qAe(n){return!LR(n)||!n.hasOwnProperty(KAe)}const{assign:dd}=Object;function XAe(n){return!!(Vi(n)&&n.effect)}function YAe(n,e,i,r){const{state:o,actions:s,getters:a}=e,l=i.state.value[n];let u;function c(){l||(i.state.value[n]=o?o():{});const d=gy(i.state.value[n]);return dd(d,s,Object.keys(a||{}).reduce((f,h)=>(f[h]=sI(K(()=>{eC(i);const p=i._s.get(n);return a[h].call(p,p)})),f),{}))}return u=T7(n,c,e,i,r,!0),u}function T7(n,e,i={},r,o,s){let a;const l=dd({actions:{}},i),u={deep:!0};let c,d,f=[],h=[],p;const g=r.state.value[n];!s&&!g&&(r.state.value[n]={}),Ge({});let b;function y(R){let E;c=d=!1,typeof R=="function"?(R(r.state.value[n]),E={type:My.patchFunction,storeId:n,events:p}):(BR(r.state.value[n],R),E={type:My.patchObject,payload:R,storeId:n,events:p});const P=b=Symbol();kn().then(()=>{b===P&&(c=!0)}),d=!0,cp(f,E,r.state.value[n])}const m=s?function(){const{state:E}=i,P=E?E():{};this.$patch(I=>{dd(I,P)})}:A7;function _(){a.stop(),f=[],h=[],r._s.delete(n)}const S=(R,E="")=>{if(Y4 in R)return R[eE]=E,R;const P=function(){eC(r);const I=Array.from(arguments),D=[],F=[];function L(k){D.push(k)}function $(k){F.push(k)}cp(h,{args:I,name:P[eE],store:A,after:L,onError:$});let U;try{U=R.apply(this&&this.$id===n?this:A,I)}catch(k){throw cp(F,k),k}return U instanceof Promise?U.then(k=>(cp(D,k),k)).catch(k=>(cp(F,k),Promise.reject(k))):(cp(D,U),U)};return P[Y4]=!0,P[eE]=E,P},w={_p:r,$id:n,$onAction:X4.bind(null,h),$patch:y,$reset:m,$subscribe(R,E={}){const P=X4(f,R,E.detached,()=>I()),I=a.run(()=>ct(()=>r.state.value[n],D=>{(E.flush==="sync"?d:c)&&R({storeId:n,type:My.direct,events:p},D)},dd({},u,E)));return P},$dispose:_},A=Ki(w);r._s.set(n,A);const C=(r._a&&r._a.runWithContext||jAe)(()=>r._e.run(()=>(a=H8()).run(()=>e({action:S}))));for(const R in C){const E=C[R];if(Vi(E)&&!XAe(E)||Td(E))s||(g&&qAe(E)&&(Vi(E)?E.value=g[R]:BR(E,g[R])),r.state.value[n][R]=E);else if(typeof E=="function"){const P=S(E,R);C[R]=P,l.actions[R]=E}}return dd(A,C),dd(pn(A),C),Object.defineProperty(A,"$state",{get:()=>r.state.value[n],set:R=>{y(E=>{dd(E,R)})}}),r._p.forEach(R=>{dd(A,a.run(()=>R({store:A,app:r._a,pinia:r,options:l})))}),g&&s&&i.hydrate&&i.hydrate(A.$state,g),c=!0,d=!0,A}/*! #__NO_SIDE_EFFECTS__ */function QAe(n,e,i){let r,o;const s=typeof e=="function";r=n,o=s?i:e;function a(l,u){const c=Sre();return l=l||(c?qt(C7,null):null),l&&eC(l),l=w7,l._s.has(r)||(s?T7(r,e,o,l):YAe(r,o,l)),l._s.get(r)}return a.$id=r,a}const ZAe=QAe("graphrag",{state:()=>({entities:[],relationships:[],documents:[],textUnits:[],communities:[],covariates:[],communityReports:[]}),actions:{setEntities(n){this.entities=n},setRelationships(n){this.relationships=n},setDocuments(n){this.documents=n},setTextUnits(n){this.textUnits=n},setCommunities(n){this.communities=n},setCovariates(n){this.covariates=n},setCommunityReports(n){this.communityReports=n}}});var iy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var JAe=iy.exports,Q4;function eTe(){return Q4||(Q4=1,function(n,e){(function(){var i,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",f=1,h=2,p=4,g=1,b=2,y=1,m=2,_=4,S=8,w=16,A=32,T=64,C=128,R=256,E=512,P=30,I="...",D=800,F=16,L=1,$=2,U=3,k=1/0,H=9007199254740991,z=17976931348623157e292,Q=NaN,Z=4294967295,ie=Z-1,xe=Z>>>1,J=[["ary",C],["bind",y],["bindKey",m],["curry",S],["curryRight",w],["flip",E],["partial",A],["partialRight",T],["rearg",R]],se="[object Arguments]",ee="[object Array]",ne="[object AsyncFunction]",ue="[object Boolean]",Y="[object Date]",le="[object DOMException]",fe="[object Error]",W="[object Function]",X="[object GeneratorFunction]",V="[object Map]",Se="[object Number]",pe="[object Null]",_e="[object Object]",he="[object Promise]",ge="[object Proxy]",me="[object RegExp]",j="[object Set]",G="[object String]",ce="[object Symbol]",Ee="[object Undefined]",de="[object WeakMap]",re="[object WeakSet]",Ce="[object ArrayBuffer]",Me="[object DataView]",Ve="[object Float32Array]",dt="[object Float64Array]",we="[object Int8Array]",Ie="[object Int16Array]",Ue="[object Int32Array]",Ye="[object Uint8Array]",Ke="[object Uint8ClampedArray]",ut="[object Uint16Array]",ot="[object Uint32Array]",Et=/\b__p \+= '';/g,Ae=/\b(__p \+=) '' \+/g,it=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$e=/&(?:amp|lt|gt|quot|#39);/g,We=/[&<>"']/g,gt=RegExp($e.source),yt=RegExp(We.source),Dt=/<%-([\s\S]+?)%>/g,Xt=/<%([\s\S]+?)%>/g,Un=/<%=([\s\S]+?)%>/g,nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ti=/^\w*$/,Xi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fr=/[\\^$.*+?()[\]{}|]/g,ul=RegExp(Fr.source),Mr=/^\s+/,gs=/\s/,Nc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Oc=/\{\n\/\* \[wrapped with (.+)\] \*/,Aa=/,? & /,Gs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vs=/[()=,{}\[\]\/\s]/,Jl=/\\(\\)?/g,eu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tu=/\w*$/,Dc=/^[-+]0x[0-9a-f]+$/i,Ta=/^0b[01]+$/i,Vm=/^\[object .+?Constructor\]$/,Wm=/^0o[0-7]+$/i,Wh=/^(?:0|[1-9]\d*)$/,oe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ne=/($^)/,ze=/['\n\r\u2028\u2029\\]/g,He="\\ud800-\\udfff",Fe="\\u0300-\\u036f",ht="\\ufe20-\\ufe2f",Ct="\\u20d0-\\u20ff",Mt=Fe+ht+Ct,Pt="\\u2700-\\u27bf",Wt="a-z\\xdf-\\xf6\\xf8-\\xff",Kt="\\xac\\xb1\\xd7\\xf7",kt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bn="\\u2000-\\u206f",Gn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fi="A-Z\\xc0-\\xd6\\xd8-\\xde",vi="\\ufe0e\\ufe0f",Fn=Kt+kt+Bn+Gn,$t="[']",mr="["+He+"]",zn="["+Fn+"]",qr="["+Mt+"]",nu="\\d+",yo="["+Pt+"]",Lc="["+Wt+"]",ai="[^"+He+Fn+nu+Pt+Wt+Fi+"]",Xr="\\ud83c[\\udffb-\\udfff]",Go="(?:"+qr+"|"+Xr+")",Rr="[^"+He+"]",Pr="(?:\\ud83c[\\udde6-\\uddff]){2}",nf="[\\ud800-\\udbff][\\udc00-\\udfff]",Vo="["+Fi+"]",zD="\\u200d",HD="(?:"+Lc+"|"+ai+")",lY="(?:"+Vo+"|"+ai+")",GD="(?:"+$t+"(?:d|ll|m|re|s|t|ve))?",VD="(?:"+$t+"(?:D|LL|M|RE|S|T|VE))?",WD=Go+"?",jD="["+vi+"]?",uY="(?:"+zD+"(?:"+[Rr,Pr,nf].join("|")+")"+jD+WD+")*",cY="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dY="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",KD=jD+WD+uY,fY="(?:"+[yo,Pr,nf].join("|")+")"+KD,hY="(?:"+[Rr+qr+"?",qr,Pr,nf,mr].join("|")+")",pY=RegExp($t,"g"),gY=RegExp(qr,"g"),BC=RegExp(Xr+"(?="+Xr+")|"+hY+KD,"g"),mY=RegExp([Vo+"?"+Lc+"+"+GD+"(?="+[zn,Vo,"$"].join("|")+")",lY+"+"+VD+"(?="+[zn,Vo+HD,"$"].join("|")+")",Vo+"?"+HD+"+"+GD,Vo+"+"+VD,dY,cY,nu,fY].join("|"),"g"),vY=RegExp("["+zD+He+Mt+vi+"]"),yY=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bY=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xY=-1,yi={};yi[Ve]=yi[dt]=yi[we]=yi[Ie]=yi[Ue]=yi[Ye]=yi[Ke]=yi[ut]=yi[ot]=!0,yi[se]=yi[ee]=yi[Ce]=yi[ue]=yi[Me]=yi[Y]=yi[fe]=yi[W]=yi[V]=yi[Se]=yi[_e]=yi[me]=yi[j]=yi[G]=yi[de]=!1;var hi={};hi[se]=hi[ee]=hi[Ce]=hi[Me]=hi[ue]=hi[Y]=hi[Ve]=hi[dt]=hi[we]=hi[Ie]=hi[Ue]=hi[V]=hi[Se]=hi[_e]=hi[me]=hi[j]=hi[G]=hi[ce]=hi[Ye]=hi[Ke]=hi[ut]=hi[ot]=!0,hi[fe]=hi[W]=hi[de]=!1;var _Y={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},SY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wY={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},CY={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},AY=parseFloat,TY=parseInt,qD=typeof bx=="object"&&bx&&bx.Object===Object&&bx,EY=typeof self=="object"&&self&&self.Object===Object&&self,$r=qD||EY||Function("return this")(),FC=e&&!e.nodeType&&e,rf=FC&&!0&&n&&!n.nodeType&&n,XD=rf&&rf.exports===FC,$C=XD&&qD.process,Ws=function(){try{var De=rf&&rf.require&&rf.require("util").types;return De||$C&&$C.binding&&$C.binding("util")}catch{}}(),YD=Ws&&Ws.isArrayBuffer,QD=Ws&&Ws.isDate,ZD=Ws&&Ws.isMap,JD=Ws&&Ws.isRegExp,e3=Ws&&Ws.isSet,t3=Ws&&Ws.isTypedArray;function ms(De,et,qe){switch(qe.length){case 0:return De.call(et);case 1:return De.call(et,qe[0]);case 2:return De.call(et,qe[0],qe[1]);case 3:return De.call(et,qe[0],qe[1],qe[2])}return De.apply(et,qe)}function MY(De,et,qe,Rt){for(var rn=-1,Kn=De==null?0:De.length;++rn<Kn;){var vr=De[rn];et(Rt,vr,qe(vr),De)}return Rt}function js(De,et){for(var qe=-1,Rt=De==null?0:De.length;++qe<Rt&&et(De[qe],qe,De)!==!1;);return De}function RY(De,et){for(var qe=De==null?0:De.length;qe--&&et(De[qe],qe,De)!==!1;);return De}function n3(De,et){for(var qe=-1,Rt=De==null?0:De.length;++qe<Rt;)if(!et(De[qe],qe,De))return!1;return!0}function Bc(De,et){for(var qe=-1,Rt=De==null?0:De.length,rn=0,Kn=[];++qe<Rt;){var vr=De[qe];et(vr,qe,De)&&(Kn[rn++]=vr)}return Kn}function pb(De,et){var qe=De==null?0:De.length;return!!qe&&jh(De,et,0)>-1}function UC(De,et,qe){for(var Rt=-1,rn=De==null?0:De.length;++Rt<rn;)if(qe(et,De[Rt]))return!0;return!1}function Ei(De,et){for(var qe=-1,Rt=De==null?0:De.length,rn=Array(Rt);++qe<Rt;)rn[qe]=et(De[qe],qe,De);return rn}function Fc(De,et){for(var qe=-1,Rt=et.length,rn=De.length;++qe<Rt;)De[rn+qe]=et[qe];return De}function kC(De,et,qe,Rt){var rn=-1,Kn=De==null?0:De.length;for(Rt&&Kn&&(qe=De[++rn]);++rn<Kn;)qe=et(qe,De[rn],rn,De);return qe}function PY(De,et,qe,Rt){var rn=De==null?0:De.length;for(Rt&&rn&&(qe=De[--rn]);rn--;)qe=et(qe,De[rn],rn,De);return qe}function zC(De,et){for(var qe=-1,Rt=De==null?0:De.length;++qe<Rt;)if(et(De[qe],qe,De))return!0;return!1}var IY=HC("length");function NY(De){return De.split("")}function OY(De){return De.match(Gs)||[]}function i3(De,et,qe){var Rt;return qe(De,function(rn,Kn,vr){if(et(rn,Kn,vr))return Rt=Kn,!1}),Rt}function gb(De,et,qe,Rt){for(var rn=De.length,Kn=qe+(Rt?1:-1);Rt?Kn--:++Kn<rn;)if(et(De[Kn],Kn,De))return Kn;return-1}function jh(De,et,qe){return et===et?WY(De,et,qe):gb(De,r3,qe)}function DY(De,et,qe,Rt){for(var rn=qe-1,Kn=De.length;++rn<Kn;)if(Rt(De[rn],et))return rn;return-1}function r3(De){return De!==De}function o3(De,et){var qe=De==null?0:De.length;return qe?VC(De,et)/qe:Q}function HC(De){return function(et){return et==null?i:et[De]}}function GC(De){return function(et){return De==null?i:De[et]}}function s3(De,et,qe,Rt,rn){return rn(De,function(Kn,vr,li){qe=Rt?(Rt=!1,Kn):et(qe,Kn,vr,li)}),qe}function LY(De,et){var qe=De.length;for(De.sort(et);qe--;)De[qe]=De[qe].value;return De}function VC(De,et){for(var qe,Rt=-1,rn=De.length;++Rt<rn;){var Kn=et(De[Rt]);Kn!==i&&(qe=qe===i?Kn:qe+Kn)}return qe}function WC(De,et){for(var qe=-1,Rt=Array(De);++qe<De;)Rt[qe]=et(qe);return Rt}function BY(De,et){return Ei(et,function(qe){return[qe,De[qe]]})}function a3(De){return De&&De.slice(0,d3(De)+1).replace(Mr,"")}function vs(De){return function(et){return De(et)}}function jC(De,et){return Ei(et,function(qe){return De[qe]})}function jm(De,et){return De.has(et)}function l3(De,et){for(var qe=-1,Rt=De.length;++qe<Rt&&jh(et,De[qe],0)>-1;);return qe}function u3(De,et){for(var qe=De.length;qe--&&jh(et,De[qe],0)>-1;);return qe}function FY(De,et){for(var qe=De.length,Rt=0;qe--;)De[qe]===et&&++Rt;return Rt}var $Y=GC(_Y),UY=GC(SY);function kY(De){return"\\"+CY[De]}function zY(De,et){return De==null?i:De[et]}function Kh(De){return vY.test(De)}function HY(De){return yY.test(De)}function GY(De){for(var et,qe=[];!(et=De.next()).done;)qe.push(et.value);return qe}function KC(De){var et=-1,qe=Array(De.size);return De.forEach(function(Rt,rn){qe[++et]=[rn,Rt]}),qe}function c3(De,et){return function(qe){return De(et(qe))}}function $c(De,et){for(var qe=-1,Rt=De.length,rn=0,Kn=[];++qe<Rt;){var vr=De[qe];(vr===et||vr===d)&&(De[qe]=d,Kn[rn++]=qe)}return Kn}function mb(De){var et=-1,qe=Array(De.size);return De.forEach(function(Rt){qe[++et]=Rt}),qe}function VY(De){var et=-1,qe=Array(De.size);return De.forEach(function(Rt){qe[++et]=[Rt,Rt]}),qe}function WY(De,et,qe){for(var Rt=qe-1,rn=De.length;++Rt<rn;)if(De[Rt]===et)return Rt;return-1}function jY(De,et,qe){for(var Rt=qe+1;Rt--;)if(De[Rt]===et)return Rt;return Rt}function qh(De){return Kh(De)?qY(De):IY(De)}function Ea(De){return Kh(De)?XY(De):NY(De)}function d3(De){for(var et=De.length;et--&&gs.test(De.charAt(et)););return et}var KY=GC(wY);function qY(De){for(var et=BC.lastIndex=0;BC.test(De);)++et;return et}function XY(De){return De.match(BC)||[]}function YY(De){return De.match(mY)||[]}var QY=function De(et){et=et==null?$r:Xh.defaults($r.Object(),et,Xh.pick($r,bY));var qe=et.Array,Rt=et.Date,rn=et.Error,Kn=et.Function,vr=et.Math,li=et.Object,qC=et.RegExp,ZY=et.String,Ks=et.TypeError,vb=qe.prototype,JY=Kn.prototype,Yh=li.prototype,yb=et["__core-js_shared__"],bb=JY.toString,ti=Yh.hasOwnProperty,eQ=0,f3=function(){var v=/[^.]+$/.exec(yb&&yb.keys&&yb.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),xb=Yh.toString,tQ=bb.call(li),nQ=$r._,iQ=qC("^"+bb.call(ti).replace(Fr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_b=XD?et.Buffer:i,Uc=et.Symbol,Sb=et.Uint8Array,h3=_b?_b.allocUnsafe:i,wb=c3(li.getPrototypeOf,li),p3=li.create,g3=Yh.propertyIsEnumerable,Cb=vb.splice,m3=Uc?Uc.isConcatSpreadable:i,Km=Uc?Uc.iterator:i,of=Uc?Uc.toStringTag:i,Ab=function(){try{var v=cf(li,"defineProperty");return v({},"",{}),v}catch{}}(),rQ=et.clearTimeout!==$r.clearTimeout&&et.clearTimeout,oQ=Rt&&Rt.now!==$r.Date.now&&Rt.now,sQ=et.setTimeout!==$r.setTimeout&&et.setTimeout,Tb=vr.ceil,Eb=vr.floor,XC=li.getOwnPropertySymbols,aQ=_b?_b.isBuffer:i,v3=et.isFinite,lQ=vb.join,uQ=c3(li.keys,li),yr=vr.max,Yr=vr.min,cQ=Rt.now,dQ=et.parseInt,y3=vr.random,fQ=vb.reverse,YC=cf(et,"DataView"),qm=cf(et,"Map"),QC=cf(et,"Promise"),Qh=cf(et,"Set"),Xm=cf(et,"WeakMap"),Ym=cf(li,"create"),Mb=Xm&&new Xm,Zh={},hQ=df(YC),pQ=df(qm),gQ=df(QC),mQ=df(Qh),vQ=df(Xm),Rb=Uc?Uc.prototype:i,Qm=Rb?Rb.valueOf:i,b3=Rb?Rb.toString:i;function te(v){if(Wi(v)&&!cn(v)&&!(v instanceof Ln)){if(v instanceof qs)return v;if(ti.call(v,"__wrapped__"))return xL(v)}return new qs(v)}var Jh=function(){function v(){}return function(x){if(!$i(x))return{};if(p3)return p3(x);v.prototype=x;var M=new v;return v.prototype=i,M}}();function Pb(){}function qs(v,x){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=i}te.templateSettings={escape:Dt,evaluate:Xt,interpolate:Un,variable:"",imports:{_:te}},te.prototype=Pb.prototype,te.prototype.constructor=te,qs.prototype=Jh(Pb.prototype),qs.prototype.constructor=qs;function Ln(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Z,this.__views__=[]}function yQ(){var v=new Ln(this.__wrapped__);return v.__actions__=Wo(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=Wo(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=Wo(this.__views__),v}function bQ(){if(this.__filtered__){var v=new Ln(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function xQ(){var v=this.__wrapped__.value(),x=this.__dir__,M=cn(v),B=x<0,q=M?v.length:0,ae=NZ(0,q,this.__views__),ye=ae.start,Pe=ae.end,Be=Pe-ye,rt=B?Pe:ye-1,st=this.__iteratees__,ft=st.length,St=0,Lt=Yr(Be,this.__takeCount__);if(!M||!B&&q==Be&&Lt==Be)return G3(v,this.__actions__);var Ht=[];e:for(;Be--&&St<Lt;){rt+=x;for(var _n=-1,Gt=v[rt];++_n<ft;){var In=st[_n],$n=In.iteratee,xs=In.type,_o=$n(Gt);if(xs==$)Gt=_o;else if(!_o){if(xs==L)continue e;break e}}Ht[St++]=Gt}return Ht}Ln.prototype=Jh(Pb.prototype),Ln.prototype.constructor=Ln;function sf(v){var x=-1,M=v==null?0:v.length;for(this.clear();++x<M;){var B=v[x];this.set(B[0],B[1])}}function _Q(){this.__data__=Ym?Ym(null):{},this.size=0}function SQ(v){var x=this.has(v)&&delete this.__data__[v];return this.size-=x?1:0,x}function wQ(v){var x=this.__data__;if(Ym){var M=x[v];return M===u?i:M}return ti.call(x,v)?x[v]:i}function CQ(v){var x=this.__data__;return Ym?x[v]!==i:ti.call(x,v)}function AQ(v,x){var M=this.__data__;return this.size+=this.has(v)?0:1,M[v]=Ym&&x===i?u:x,this}sf.prototype.clear=_Q,sf.prototype.delete=SQ,sf.prototype.get=wQ,sf.prototype.has=CQ,sf.prototype.set=AQ;function iu(v){var x=-1,M=v==null?0:v.length;for(this.clear();++x<M;){var B=v[x];this.set(B[0],B[1])}}function TQ(){this.__data__=[],this.size=0}function EQ(v){var x=this.__data__,M=Ib(x,v);if(M<0)return!1;var B=x.length-1;return M==B?x.pop():Cb.call(x,M,1),--this.size,!0}function MQ(v){var x=this.__data__,M=Ib(x,v);return M<0?i:x[M][1]}function RQ(v){return Ib(this.__data__,v)>-1}function PQ(v,x){var M=this.__data__,B=Ib(M,v);return B<0?(++this.size,M.push([v,x])):M[B][1]=x,this}iu.prototype.clear=TQ,iu.prototype.delete=EQ,iu.prototype.get=MQ,iu.prototype.has=RQ,iu.prototype.set=PQ;function ru(v){var x=-1,M=v==null?0:v.length;for(this.clear();++x<M;){var B=v[x];this.set(B[0],B[1])}}function IQ(){this.size=0,this.__data__={hash:new sf,map:new(qm||iu),string:new sf}}function NQ(v){var x=Gb(this,v).delete(v);return this.size-=x?1:0,x}function OQ(v){return Gb(this,v).get(v)}function DQ(v){return Gb(this,v).has(v)}function LQ(v,x){var M=Gb(this,v),B=M.size;return M.set(v,x),this.size+=M.size==B?0:1,this}ru.prototype.clear=IQ,ru.prototype.delete=NQ,ru.prototype.get=OQ,ru.prototype.has=DQ,ru.prototype.set=LQ;function af(v){var x=-1,M=v==null?0:v.length;for(this.__data__=new ru;++x<M;)this.add(v[x])}function BQ(v){return this.__data__.set(v,u),this}function FQ(v){return this.__data__.has(v)}af.prototype.add=af.prototype.push=BQ,af.prototype.has=FQ;function Ma(v){var x=this.__data__=new iu(v);this.size=x.size}function $Q(){this.__data__=new iu,this.size=0}function UQ(v){var x=this.__data__,M=x.delete(v);return this.size=x.size,M}function kQ(v){return this.__data__.get(v)}function zQ(v){return this.__data__.has(v)}function HQ(v,x){var M=this.__data__;if(M instanceof iu){var B=M.__data__;if(!qm||B.length<o-1)return B.push([v,x]),this.size=++M.size,this;M=this.__data__=new ru(B)}return M.set(v,x),this.size=M.size,this}Ma.prototype.clear=$Q,Ma.prototype.delete=UQ,Ma.prototype.get=kQ,Ma.prototype.has=zQ,Ma.prototype.set=HQ;function x3(v,x){var M=cn(v),B=!M&&ff(v),q=!M&&!B&&Vc(v),ae=!M&&!B&&!q&&ip(v),ye=M||B||q||ae,Pe=ye?WC(v.length,ZY):[],Be=Pe.length;for(var rt in v)(x||ti.call(v,rt))&&!(ye&&(rt=="length"||q&&(rt=="offset"||rt=="parent")||ae&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||lu(rt,Be)))&&Pe.push(rt);return Pe}function _3(v){var x=v.length;return x?v[lA(0,x-1)]:i}function GQ(v,x){return Vb(Wo(v),lf(x,0,v.length))}function VQ(v){return Vb(Wo(v))}function ZC(v,x,M){(M!==i&&!Ra(v[x],M)||M===i&&!(x in v))&&ou(v,x,M)}function Zm(v,x,M){var B=v[x];(!(ti.call(v,x)&&Ra(B,M))||M===i&&!(x in v))&&ou(v,x,M)}function Ib(v,x){for(var M=v.length;M--;)if(Ra(v[M][0],x))return M;return-1}function WQ(v,x,M,B){return kc(v,function(q,ae,ye){x(B,q,M(q),ye)}),B}function S3(v,x){return v&&dl(x,Ir(x),v)}function jQ(v,x){return v&&dl(x,Ko(x),v)}function ou(v,x,M){x=="__proto__"&&Ab?Ab(v,x,{configurable:!0,enumerable:!0,value:M,writable:!0}):v[x]=M}function JC(v,x){for(var M=-1,B=x.length,q=qe(B),ae=v==null;++M<B;)q[M]=ae?i:OA(v,x[M]);return q}function lf(v,x,M){return v===v&&(M!==i&&(v=v<=M?v:M),x!==i&&(v=v>=x?v:x)),v}function Xs(v,x,M,B,q,ae){var ye,Pe=x&f,Be=x&h,rt=x&p;if(M&&(ye=q?M(v,B,q,ae):M(v)),ye!==i)return ye;if(!$i(v))return v;var st=cn(v);if(st){if(ye=DZ(v),!Pe)return Wo(v,ye)}else{var ft=Qr(v),St=ft==W||ft==X;if(Vc(v))return j3(v,Pe);if(ft==_e||ft==se||St&&!q){if(ye=Be||St?{}:dL(v),!Pe)return Be?wZ(v,jQ(ye,v)):SZ(v,S3(ye,v))}else{if(!hi[ft])return q?v:{};ye=LZ(v,ft,Pe)}}ae||(ae=new Ma);var Lt=ae.get(v);if(Lt)return Lt;ae.set(v,ye),kL(v)?v.forEach(function(Gt){ye.add(Xs(Gt,x,M,Gt,v,ae))}):$L(v)&&v.forEach(function(Gt,In){ye.set(In,Xs(Gt,x,M,In,v,ae))});var Ht=rt?Be?bA:yA:Be?Ko:Ir,_n=st?i:Ht(v);return js(_n||v,function(Gt,In){_n&&(In=Gt,Gt=v[In]),Zm(ye,In,Xs(Gt,x,M,In,v,ae))}),ye}function KQ(v){var x=Ir(v);return function(M){return w3(M,v,x)}}function w3(v,x,M){var B=M.length;if(v==null)return!B;for(v=li(v);B--;){var q=M[B],ae=x[q],ye=v[q];if(ye===i&&!(q in v)||!ae(ye))return!1}return!0}function C3(v,x,M){if(typeof v!="function")throw new Ks(a);return ov(function(){v.apply(i,M)},x)}function Jm(v,x,M,B){var q=-1,ae=pb,ye=!0,Pe=v.length,Be=[],rt=x.length;if(!Pe)return Be;M&&(x=Ei(x,vs(M))),B?(ae=UC,ye=!1):x.length>=o&&(ae=jm,ye=!1,x=new af(x));e:for(;++q<Pe;){var st=v[q],ft=M==null?st:M(st);if(st=B||st!==0?st:0,ye&&ft===ft){for(var St=rt;St--;)if(x[St]===ft)continue e;Be.push(st)}else ae(x,ft,B)||Be.push(st)}return Be}var kc=Q3(cl),A3=Q3(tA,!0);function qQ(v,x){var M=!0;return kc(v,function(B,q,ae){return M=!!x(B,q,ae),M}),M}function Nb(v,x,M){for(var B=-1,q=v.length;++B<q;){var ae=v[B],ye=x(ae);if(ye!=null&&(Pe===i?ye===ye&&!bs(ye):M(ye,Pe)))var Pe=ye,Be=ae}return Be}function XQ(v,x,M,B){var q=v.length;for(M=bn(M),M<0&&(M=-M>q?0:q+M),B=B===i||B>q?q:bn(B),B<0&&(B+=q),B=M>B?0:HL(B);M<B;)v[M++]=x;return v}function T3(v,x){var M=[];return kc(v,function(B,q,ae){x(B,q,ae)&&M.push(B)}),M}function Ur(v,x,M,B,q){var ae=-1,ye=v.length;for(M||(M=FZ),q||(q=[]);++ae<ye;){var Pe=v[ae];x>0&&M(Pe)?x>1?Ur(Pe,x-1,M,B,q):Fc(q,Pe):B||(q[q.length]=Pe)}return q}var eA=Z3(),E3=Z3(!0);function cl(v,x){return v&&eA(v,x,Ir)}function tA(v,x){return v&&E3(v,x,Ir)}function Ob(v,x){return Bc(x,function(M){return uu(v[M])})}function uf(v,x){x=Hc(x,v);for(var M=0,B=x.length;v!=null&&M<B;)v=v[fl(x[M++])];return M&&M==B?v:i}function M3(v,x,M){var B=x(v);return cn(v)?B:Fc(B,M(v))}function bo(v){return v==null?v===i?Ee:pe:of&&of in li(v)?IZ(v):VZ(v)}function nA(v,x){return v>x}function YQ(v,x){return v!=null&&ti.call(v,x)}function QQ(v,x){return v!=null&&x in li(v)}function ZQ(v,x,M){return v>=Yr(x,M)&&v<yr(x,M)}function iA(v,x,M){for(var B=M?UC:pb,q=v[0].length,ae=v.length,ye=ae,Pe=qe(ae),Be=1/0,rt=[];ye--;){var st=v[ye];ye&&x&&(st=Ei(st,vs(x))),Be=Yr(st.length,Be),Pe[ye]=!M&&(x||q>=120&&st.length>=120)?new af(ye&&st):i}st=v[0];var ft=-1,St=Pe[0];e:for(;++ft<q&&rt.length<Be;){var Lt=st[ft],Ht=x?x(Lt):Lt;if(Lt=M||Lt!==0?Lt:0,!(St?jm(St,Ht):B(rt,Ht,M))){for(ye=ae;--ye;){var _n=Pe[ye];if(!(_n?jm(_n,Ht):B(v[ye],Ht,M)))continue e}St&&St.push(Ht),rt.push(Lt)}}return rt}function JQ(v,x,M,B){return cl(v,function(q,ae,ye){x(B,M(q),ae,ye)}),B}function ev(v,x,M){x=Hc(x,v),v=gL(v,x);var B=v==null?v:v[fl(Qs(x))];return B==null?i:ms(B,v,M)}function R3(v){return Wi(v)&&bo(v)==se}function eZ(v){return Wi(v)&&bo(v)==Ce}function tZ(v){return Wi(v)&&bo(v)==Y}function tv(v,x,M,B,q){return v===x?!0:v==null||x==null||!Wi(v)&&!Wi(x)?v!==v&&x!==x:nZ(v,x,M,B,tv,q)}function nZ(v,x,M,B,q,ae){var ye=cn(v),Pe=cn(x),Be=ye?ee:Qr(v),rt=Pe?ee:Qr(x);Be=Be==se?_e:Be,rt=rt==se?_e:rt;var st=Be==_e,ft=rt==_e,St=Be==rt;if(St&&Vc(v)){if(!Vc(x))return!1;ye=!0,st=!1}if(St&&!st)return ae||(ae=new Ma),ye||ip(v)?lL(v,x,M,B,q,ae):RZ(v,x,Be,M,B,q,ae);if(!(M&g)){var Lt=st&&ti.call(v,"__wrapped__"),Ht=ft&&ti.call(x,"__wrapped__");if(Lt||Ht){var _n=Lt?v.value():v,Gt=Ht?x.value():x;return ae||(ae=new Ma),q(_n,Gt,M,B,ae)}}return St?(ae||(ae=new Ma),PZ(v,x,M,B,q,ae)):!1}function iZ(v){return Wi(v)&&Qr(v)==V}function rA(v,x,M,B){var q=M.length,ae=q,ye=!B;if(v==null)return!ae;for(v=li(v);q--;){var Pe=M[q];if(ye&&Pe[2]?Pe[1]!==v[Pe[0]]:!(Pe[0]in v))return!1}for(;++q<ae;){Pe=M[q];var Be=Pe[0],rt=v[Be],st=Pe[1];if(ye&&Pe[2]){if(rt===i&&!(Be in v))return!1}else{var ft=new Ma;if(B)var St=B(rt,st,Be,v,x,ft);if(!(St===i?tv(st,rt,g|b,B,ft):St))return!1}}return!0}function P3(v){if(!$i(v)||UZ(v))return!1;var x=uu(v)?iQ:Vm;return x.test(df(v))}function rZ(v){return Wi(v)&&bo(v)==me}function oZ(v){return Wi(v)&&Qr(v)==j}function sZ(v){return Wi(v)&&Yb(v.length)&&!!yi[bo(v)]}function I3(v){return typeof v=="function"?v:v==null?qo:typeof v=="object"?cn(v)?D3(v[0],v[1]):O3(v):JL(v)}function oA(v){if(!rv(v))return uQ(v);var x=[];for(var M in li(v))ti.call(v,M)&&M!="constructor"&&x.push(M);return x}function aZ(v){if(!$i(v))return GZ(v);var x=rv(v),M=[];for(var B in v)B=="constructor"&&(x||!ti.call(v,B))||M.push(B);return M}function sA(v,x){return v<x}function N3(v,x){var M=-1,B=jo(v)?qe(v.length):[];return kc(v,function(q,ae,ye){B[++M]=x(q,ae,ye)}),B}function O3(v){var x=_A(v);return x.length==1&&x[0][2]?hL(x[0][0],x[0][1]):function(M){return M===v||rA(M,v,x)}}function D3(v,x){return wA(v)&&fL(x)?hL(fl(v),x):function(M){var B=OA(M,v);return B===i&&B===x?DA(M,v):tv(x,B,g|b)}}function Db(v,x,M,B,q){v!==x&&eA(x,function(ae,ye){if(q||(q=new Ma),$i(ae))lZ(v,x,ye,M,Db,B,q);else{var Pe=B?B(AA(v,ye),ae,ye+"",v,x,q):i;Pe===i&&(Pe=ae),ZC(v,ye,Pe)}},Ko)}function lZ(v,x,M,B,q,ae,ye){var Pe=AA(v,M),Be=AA(x,M),rt=ye.get(Be);if(rt){ZC(v,M,rt);return}var st=ae?ae(Pe,Be,M+"",v,x,ye):i,ft=st===i;if(ft){var St=cn(Be),Lt=!St&&Vc(Be),Ht=!St&&!Lt&&ip(Be);st=Be,St||Lt||Ht?cn(Pe)?st=Pe:Yi(Pe)?st=Wo(Pe):Lt?(ft=!1,st=j3(Be,!0)):Ht?(ft=!1,st=K3(Be,!0)):st=[]:sv(Be)||ff(Be)?(st=Pe,ff(Pe)?st=GL(Pe):(!$i(Pe)||uu(Pe))&&(st=dL(Be))):ft=!1}ft&&(ye.set(Be,st),q(st,Be,B,ae,ye),ye.delete(Be)),ZC(v,M,st)}function L3(v,x){var M=v.length;if(M)return x+=x<0?M:0,lu(x,M)?v[x]:i}function B3(v,x,M){x.length?x=Ei(x,function(ae){return cn(ae)?function(ye){return uf(ye,ae.length===1?ae[0]:ae)}:ae}):x=[qo];var B=-1;x=Ei(x,vs(zt()));var q=N3(v,function(ae,ye,Pe){var Be=Ei(x,function(rt){return rt(ae)});return{criteria:Be,index:++B,value:ae}});return LY(q,function(ae,ye){return _Z(ae,ye,M)})}function uZ(v,x){return F3(v,x,function(M,B){return DA(v,B)})}function F3(v,x,M){for(var B=-1,q=x.length,ae={};++B<q;){var ye=x[B],Pe=uf(v,ye);M(Pe,ye)&&nv(ae,Hc(ye,v),Pe)}return ae}function cZ(v){return function(x){return uf(x,v)}}function aA(v,x,M,B){var q=B?DY:jh,ae=-1,ye=x.length,Pe=v;for(v===x&&(x=Wo(x)),M&&(Pe=Ei(v,vs(M)));++ae<ye;)for(var Be=0,rt=x[ae],st=M?M(rt):rt;(Be=q(Pe,st,Be,B))>-1;)Pe!==v&&Cb.call(Pe,Be,1),Cb.call(v,Be,1);return v}function $3(v,x){for(var M=v?x.length:0,B=M-1;M--;){var q=x[M];if(M==B||q!==ae){var ae=q;lu(q)?Cb.call(v,q,1):dA(v,q)}}return v}function lA(v,x){return v+Eb(y3()*(x-v+1))}function dZ(v,x,M,B){for(var q=-1,ae=yr(Tb((x-v)/(M||1)),0),ye=qe(ae);ae--;)ye[B?ae:++q]=v,v+=M;return ye}function uA(v,x){var M="";if(!v||x<1||x>H)return M;do x%2&&(M+=v),x=Eb(x/2),x&&(v+=v);while(x);return M}function En(v,x){return TA(pL(v,x,qo),v+"")}function fZ(v){return _3(rp(v))}function hZ(v,x){var M=rp(v);return Vb(M,lf(x,0,M.length))}function nv(v,x,M,B){if(!$i(v))return v;x=Hc(x,v);for(var q=-1,ae=x.length,ye=ae-1,Pe=v;Pe!=null&&++q<ae;){var Be=fl(x[q]),rt=M;if(Be==="__proto__"||Be==="constructor"||Be==="prototype")return v;if(q!=ye){var st=Pe[Be];rt=B?B(st,Be,Pe):i,rt===i&&(rt=$i(st)?st:lu(x[q+1])?[]:{})}Zm(Pe,Be,rt),Pe=Pe[Be]}return v}var U3=Mb?function(v,x){return Mb.set(v,x),v}:qo,pZ=Ab?function(v,x){return Ab(v,"toString",{configurable:!0,enumerable:!1,value:BA(x),writable:!0})}:qo;function gZ(v){return Vb(rp(v))}function Ys(v,x,M){var B=-1,q=v.length;x<0&&(x=-x>q?0:q+x),M=M>q?q:M,M<0&&(M+=q),q=x>M?0:M-x>>>0,x>>>=0;for(var ae=qe(q);++B<q;)ae[B]=v[B+x];return ae}function mZ(v,x){var M;return kc(v,function(B,q,ae){return M=x(B,q,ae),!M}),!!M}function Lb(v,x,M){var B=0,q=v==null?B:v.length;if(typeof x=="number"&&x===x&&q<=xe){for(;B<q;){var ae=B+q>>>1,ye=v[ae];ye!==null&&!bs(ye)&&(M?ye<=x:ye<x)?B=ae+1:q=ae}return q}return cA(v,x,qo,M)}function cA(v,x,M,B){var q=0,ae=v==null?0:v.length;if(ae===0)return 0;x=M(x);for(var ye=x!==x,Pe=x===null,Be=bs(x),rt=x===i;q<ae;){var st=Eb((q+ae)/2),ft=M(v[st]),St=ft!==i,Lt=ft===null,Ht=ft===ft,_n=bs(ft);if(ye)var Gt=B||Ht;else rt?Gt=Ht&&(B||St):Pe?Gt=Ht&&St&&(B||!Lt):Be?Gt=Ht&&St&&!Lt&&(B||!_n):Lt||_n?Gt=!1:Gt=B?ft<=x:ft<x;Gt?q=st+1:ae=st}return Yr(ae,ie)}function k3(v,x){for(var M=-1,B=v.length,q=0,ae=[];++M<B;){var ye=v[M],Pe=x?x(ye):ye;if(!M||!Ra(Pe,Be)){var Be=Pe;ae[q++]=ye===0?0:ye}}return ae}function z3(v){return typeof v=="number"?v:bs(v)?Q:+v}function ys(v){if(typeof v=="string")return v;if(cn(v))return Ei(v,ys)+"";if(bs(v))return b3?b3.call(v):"";var x=v+"";return x=="0"&&1/v==-1/0?"-0":x}function zc(v,x,M){var B=-1,q=pb,ae=v.length,ye=!0,Pe=[],Be=Pe;if(M)ye=!1,q=UC;else if(ae>=o){var rt=x?null:EZ(v);if(rt)return mb(rt);ye=!1,q=jm,Be=new af}else Be=x?[]:Pe;e:for(;++B<ae;){var st=v[B],ft=x?x(st):st;if(st=M||st!==0?st:0,ye&&ft===ft){for(var St=Be.length;St--;)if(Be[St]===ft)continue e;x&&Be.push(ft),Pe.push(st)}else q(Be,ft,M)||(Be!==Pe&&Be.push(ft),Pe.push(st))}return Pe}function dA(v,x){return x=Hc(x,v),v=gL(v,x),v==null||delete v[fl(Qs(x))]}function H3(v,x,M,B){return nv(v,x,M(uf(v,x)),B)}function Bb(v,x,M,B){for(var q=v.length,ae=B?q:-1;(B?ae--:++ae<q)&&x(v[ae],ae,v););return M?Ys(v,B?0:ae,B?ae+1:q):Ys(v,B?ae+1:0,B?q:ae)}function G3(v,x){var M=v;return M instanceof Ln&&(M=M.value()),kC(x,function(B,q){return q.func.apply(q.thisArg,Fc([B],q.args))},M)}function fA(v,x,M){var B=v.length;if(B<2)return B?zc(v[0]):[];for(var q=-1,ae=qe(B);++q<B;)for(var ye=v[q],Pe=-1;++Pe<B;)Pe!=q&&(ae[q]=Jm(ae[q]||ye,v[Pe],x,M));return zc(Ur(ae,1),x,M)}function V3(v,x,M){for(var B=-1,q=v.length,ae=x.length,ye={};++B<q;){var Pe=B<ae?x[B]:i;M(ye,v[B],Pe)}return ye}function hA(v){return Yi(v)?v:[]}function pA(v){return typeof v=="function"?v:qo}function Hc(v,x){return cn(v)?v:wA(v,x)?[v]:bL(Yn(v))}var vZ=En;function Gc(v,x,M){var B=v.length;return M=M===i?B:M,!x&&M>=B?v:Ys(v,x,M)}var W3=rQ||function(v){return $r.clearTimeout(v)};function j3(v,x){if(x)return v.slice();var M=v.length,B=h3?h3(M):new v.constructor(M);return v.copy(B),B}function gA(v){var x=new v.constructor(v.byteLength);return new Sb(x).set(new Sb(v)),x}function yZ(v,x){var M=x?gA(v.buffer):v.buffer;return new v.constructor(M,v.byteOffset,v.byteLength)}function bZ(v){var x=new v.constructor(v.source,tu.exec(v));return x.lastIndex=v.lastIndex,x}function xZ(v){return Qm?li(Qm.call(v)):{}}function K3(v,x){var M=x?gA(v.buffer):v.buffer;return new v.constructor(M,v.byteOffset,v.length)}function q3(v,x){if(v!==x){var M=v!==i,B=v===null,q=v===v,ae=bs(v),ye=x!==i,Pe=x===null,Be=x===x,rt=bs(x);if(!Pe&&!rt&&!ae&&v>x||ae&&ye&&Be&&!Pe&&!rt||B&&ye&&Be||!M&&Be||!q)return 1;if(!B&&!ae&&!rt&&v<x||rt&&M&&q&&!B&&!ae||Pe&&M&&q||!ye&&q||!Be)return-1}return 0}function _Z(v,x,M){for(var B=-1,q=v.criteria,ae=x.criteria,ye=q.length,Pe=M.length;++B<ye;){var Be=q3(q[B],ae[B]);if(Be){if(B>=Pe)return Be;var rt=M[B];return Be*(rt=="desc"?-1:1)}}return v.index-x.index}function X3(v,x,M,B){for(var q=-1,ae=v.length,ye=M.length,Pe=-1,Be=x.length,rt=yr(ae-ye,0),st=qe(Be+rt),ft=!B;++Pe<Be;)st[Pe]=x[Pe];for(;++q<ye;)(ft||q<ae)&&(st[M[q]]=v[q]);for(;rt--;)st[Pe++]=v[q++];return st}function Y3(v,x,M,B){for(var q=-1,ae=v.length,ye=-1,Pe=M.length,Be=-1,rt=x.length,st=yr(ae-Pe,0),ft=qe(st+rt),St=!B;++q<st;)ft[q]=v[q];for(var Lt=q;++Be<rt;)ft[Lt+Be]=x[Be];for(;++ye<Pe;)(St||q<ae)&&(ft[Lt+M[ye]]=v[q++]);return ft}function Wo(v,x){var M=-1,B=v.length;for(x||(x=qe(B));++M<B;)x[M]=v[M];return x}function dl(v,x,M,B){var q=!M;M||(M={});for(var ae=-1,ye=x.length;++ae<ye;){var Pe=x[ae],Be=B?B(M[Pe],v[Pe],Pe,M,v):i;Be===i&&(Be=v[Pe]),q?ou(M,Pe,Be):Zm(M,Pe,Be)}return M}function SZ(v,x){return dl(v,SA(v),x)}function wZ(v,x){return dl(v,uL(v),x)}function Fb(v,x){return function(M,B){var q=cn(M)?MY:WQ,ae=x?x():{};return q(M,v,zt(B,2),ae)}}function ep(v){return En(function(x,M){var B=-1,q=M.length,ae=q>1?M[q-1]:i,ye=q>2?M[2]:i;for(ae=v.length>3&&typeof ae=="function"?(q--,ae):i,ye&&xo(M[0],M[1],ye)&&(ae=q<3?i:ae,q=1),x=li(x);++B<q;){var Pe=M[B];Pe&&v(x,Pe,B,ae)}return x})}function Q3(v,x){return function(M,B){if(M==null)return M;if(!jo(M))return v(M,B);for(var q=M.length,ae=x?q:-1,ye=li(M);(x?ae--:++ae<q)&&B(ye[ae],ae,ye)!==!1;);return M}}function Z3(v){return function(x,M,B){for(var q=-1,ae=li(x),ye=B(x),Pe=ye.length;Pe--;){var Be=ye[v?Pe:++q];if(M(ae[Be],Be,ae)===!1)break}return x}}function CZ(v,x,M){var B=x&y,q=iv(v);function ae(){var ye=this&&this!==$r&&this instanceof ae?q:v;return ye.apply(B?M:this,arguments)}return ae}function J3(v){return function(x){x=Yn(x);var M=Kh(x)?Ea(x):i,B=M?M[0]:x.charAt(0),q=M?Gc(M,1).join(""):x.slice(1);return B[v]()+q}}function tp(v){return function(x){return kC(QL(YL(x).replace(pY,"")),v,"")}}function iv(v){return function(){var x=arguments;switch(x.length){case 0:return new v;case 1:return new v(x[0]);case 2:return new v(x[0],x[1]);case 3:return new v(x[0],x[1],x[2]);case 4:return new v(x[0],x[1],x[2],x[3]);case 5:return new v(x[0],x[1],x[2],x[3],x[4]);case 6:return new v(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new v(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var M=Jh(v.prototype),B=v.apply(M,x);return $i(B)?B:M}}function AZ(v,x,M){var B=iv(v);function q(){for(var ae=arguments.length,ye=qe(ae),Pe=ae,Be=np(q);Pe--;)ye[Pe]=arguments[Pe];var rt=ae<3&&ye[0]!==Be&&ye[ae-1]!==Be?[]:$c(ye,Be);if(ae-=rt.length,ae<M)return rL(v,x,$b,q.placeholder,i,ye,rt,i,i,M-ae);var st=this&&this!==$r&&this instanceof q?B:v;return ms(st,this,ye)}return q}function eL(v){return function(x,M,B){var q=li(x);if(!jo(x)){var ae=zt(M,3);x=Ir(x),M=function(Pe){return ae(q[Pe],Pe,q)}}var ye=v(x,M,B);return ye>-1?q[ae?x[ye]:ye]:i}}function tL(v){return au(function(x){var M=x.length,B=M,q=qs.prototype.thru;for(v&&x.reverse();B--;){var ae=x[B];if(typeof ae!="function")throw new Ks(a);if(q&&!ye&&Hb(ae)=="wrapper")var ye=new qs([],!0)}for(B=ye?B:M;++B<M;){ae=x[B];var Pe=Hb(ae),Be=Pe=="wrapper"?xA(ae):i;Be&&CA(Be[0])&&Be[1]==(C|S|A|R)&&!Be[4].length&&Be[9]==1?ye=ye[Hb(Be[0])].apply(ye,Be[3]):ye=ae.length==1&&CA(ae)?ye[Pe]():ye.thru(ae)}return function(){var rt=arguments,st=rt[0];if(ye&&rt.length==1&&cn(st))return ye.plant(st).value();for(var ft=0,St=M?x[ft].apply(this,rt):st;++ft<M;)St=x[ft].call(this,St);return St}})}function $b(v,x,M,B,q,ae,ye,Pe,Be,rt){var st=x&C,ft=x&y,St=x&m,Lt=x&(S|w),Ht=x&E,_n=St?i:iv(v);function Gt(){for(var In=arguments.length,$n=qe(In),xs=In;xs--;)$n[xs]=arguments[xs];if(Lt)var _o=np(Gt),_s=FY($n,_o);if(B&&($n=X3($n,B,q,Lt)),ae&&($n=Y3($n,ae,ye,Lt)),In-=_s,Lt&&In<rt){var Qi=$c($n,_o);return rL(v,x,$b,Gt.placeholder,M,$n,Qi,Pe,Be,rt-In)}var Pa=ft?M:this,du=St?Pa[v]:v;return In=$n.length,Pe?$n=WZ($n,Pe):Ht&&In>1&&$n.reverse(),st&&Be<In&&($n.length=Be),this&&this!==$r&&this instanceof Gt&&(du=_n||iv(du)),du.apply(Pa,$n)}return Gt}function nL(v,x){return function(M,B){return JQ(M,v,x(B),{})}}function Ub(v,x){return function(M,B){var q;if(M===i&&B===i)return x;if(M!==i&&(q=M),B!==i){if(q===i)return B;typeof M=="string"||typeof B=="string"?(M=ys(M),B=ys(B)):(M=z3(M),B=z3(B)),q=v(M,B)}return q}}function mA(v){return au(function(x){return x=Ei(x,vs(zt())),En(function(M){var B=this;return v(x,function(q){return ms(q,B,M)})})})}function kb(v,x){x=x===i?" ":ys(x);var M=x.length;if(M<2)return M?uA(x,v):x;var B=uA(x,Tb(v/qh(x)));return Kh(x)?Gc(Ea(B),0,v).join(""):B.slice(0,v)}function TZ(v,x,M,B){var q=x&y,ae=iv(v);function ye(){for(var Pe=-1,Be=arguments.length,rt=-1,st=B.length,ft=qe(st+Be),St=this&&this!==$r&&this instanceof ye?ae:v;++rt<st;)ft[rt]=B[rt];for(;Be--;)ft[rt++]=arguments[++Pe];return ms(St,q?M:this,ft)}return ye}function iL(v){return function(x,M,B){return B&&typeof B!="number"&&xo(x,M,B)&&(M=B=i),x=cu(x),M===i?(M=x,x=0):M=cu(M),B=B===i?x<M?1:-1:cu(B),dZ(x,M,B,v)}}function zb(v){return function(x,M){return typeof x=="string"&&typeof M=="string"||(x=Zs(x),M=Zs(M)),v(x,M)}}function rL(v,x,M,B,q,ae,ye,Pe,Be,rt){var st=x&S,ft=st?ye:i,St=st?i:ye,Lt=st?ae:i,Ht=st?i:ae;x|=st?A:T,x&=~(st?T:A),x&_||(x&=-4);var _n=[v,x,q,Lt,ft,Ht,St,Pe,Be,rt],Gt=M.apply(i,_n);return CA(v)&&mL(Gt,_n),Gt.placeholder=B,vL(Gt,v,x)}function vA(v){var x=vr[v];return function(M,B){if(M=Zs(M),B=B==null?0:Yr(bn(B),292),B&&v3(M)){var q=(Yn(M)+"e").split("e"),ae=x(q[0]+"e"+(+q[1]+B));return q=(Yn(ae)+"e").split("e"),+(q[0]+"e"+(+q[1]-B))}return x(M)}}var EZ=Qh&&1/mb(new Qh([,-0]))[1]==k?function(v){return new Qh(v)}:UA;function oL(v){return function(x){var M=Qr(x);return M==V?KC(x):M==j?VY(x):BY(x,v(x))}}function su(v,x,M,B,q,ae,ye,Pe){var Be=x&m;if(!Be&&typeof v!="function")throw new Ks(a);var rt=B?B.length:0;if(rt||(x&=-97,B=q=i),ye=ye===i?ye:yr(bn(ye),0),Pe=Pe===i?Pe:bn(Pe),rt-=q?q.length:0,x&T){var st=B,ft=q;B=q=i}var St=Be?i:xA(v),Lt=[v,x,M,B,q,st,ft,ae,ye,Pe];if(St&&HZ(Lt,St),v=Lt[0],x=Lt[1],M=Lt[2],B=Lt[3],q=Lt[4],Pe=Lt[9]=Lt[9]===i?Be?0:v.length:yr(Lt[9]-rt,0),!Pe&&x&(S|w)&&(x&=-25),!x||x==y)var Ht=CZ(v,x,M);else x==S||x==w?Ht=AZ(v,x,Pe):(x==A||x==(y|A))&&!q.length?Ht=TZ(v,x,M,B):Ht=$b.apply(i,Lt);var _n=St?U3:mL;return vL(_n(Ht,Lt),v,x)}function sL(v,x,M,B){return v===i||Ra(v,Yh[M])&&!ti.call(B,M)?x:v}function aL(v,x,M,B,q,ae){return $i(v)&&$i(x)&&(ae.set(x,v),Db(v,x,i,aL,ae),ae.delete(x)),v}function MZ(v){return sv(v)?i:v}function lL(v,x,M,B,q,ae){var ye=M&g,Pe=v.length,Be=x.length;if(Pe!=Be&&!(ye&&Be>Pe))return!1;var rt=ae.get(v),st=ae.get(x);if(rt&&st)return rt==x&&st==v;var ft=-1,St=!0,Lt=M&b?new af:i;for(ae.set(v,x),ae.set(x,v);++ft<Pe;){var Ht=v[ft],_n=x[ft];if(B)var Gt=ye?B(_n,Ht,ft,x,v,ae):B(Ht,_n,ft,v,x,ae);if(Gt!==i){if(Gt)continue;St=!1;break}if(Lt){if(!zC(x,function(In,$n){if(!jm(Lt,$n)&&(Ht===In||q(Ht,In,M,B,ae)))return Lt.push($n)})){St=!1;break}}else if(!(Ht===_n||q(Ht,_n,M,B,ae))){St=!1;break}}return ae.delete(v),ae.delete(x),St}function RZ(v,x,M,B,q,ae,ye){switch(M){case Me:if(v.byteLength!=x.byteLength||v.byteOffset!=x.byteOffset)return!1;v=v.buffer,x=x.buffer;case Ce:return!(v.byteLength!=x.byteLength||!ae(new Sb(v),new Sb(x)));case ue:case Y:case Se:return Ra(+v,+x);case fe:return v.name==x.name&&v.message==x.message;case me:case G:return v==x+"";case V:var Pe=KC;case j:var Be=B&g;if(Pe||(Pe=mb),v.size!=x.size&&!Be)return!1;var rt=ye.get(v);if(rt)return rt==x;B|=b,ye.set(v,x);var st=lL(Pe(v),Pe(x),B,q,ae,ye);return ye.delete(v),st;case ce:if(Qm)return Qm.call(v)==Qm.call(x)}return!1}function PZ(v,x,M,B,q,ae){var ye=M&g,Pe=yA(v),Be=Pe.length,rt=yA(x),st=rt.length;if(Be!=st&&!ye)return!1;for(var ft=Be;ft--;){var St=Pe[ft];if(!(ye?St in x:ti.call(x,St)))return!1}var Lt=ae.get(v),Ht=ae.get(x);if(Lt&&Ht)return Lt==x&&Ht==v;var _n=!0;ae.set(v,x),ae.set(x,v);for(var Gt=ye;++ft<Be;){St=Pe[ft];var In=v[St],$n=x[St];if(B)var xs=ye?B($n,In,St,x,v,ae):B(In,$n,St,v,x,ae);if(!(xs===i?In===$n||q(In,$n,M,B,ae):xs)){_n=!1;break}Gt||(Gt=St=="constructor")}if(_n&&!Gt){var _o=v.constructor,_s=x.constructor;_o!=_s&&"constructor"in v&&"constructor"in x&&!(typeof _o=="function"&&_o instanceof _o&&typeof _s=="function"&&_s instanceof _s)&&(_n=!1)}return ae.delete(v),ae.delete(x),_n}function au(v){return TA(pL(v,i,wL),v+"")}function yA(v){return M3(v,Ir,SA)}function bA(v){return M3(v,Ko,uL)}var xA=Mb?function(v){return Mb.get(v)}:UA;function Hb(v){for(var x=v.name+"",M=Zh[x],B=ti.call(Zh,x)?M.length:0;B--;){var q=M[B],ae=q.func;if(ae==null||ae==v)return q.name}return x}function np(v){var x=ti.call(te,"placeholder")?te:v;return x.placeholder}function zt(){var v=te.iteratee||FA;return v=v===FA?I3:v,arguments.length?v(arguments[0],arguments[1]):v}function Gb(v,x){var M=v.__data__;return $Z(x)?M[typeof x=="string"?"string":"hash"]:M.map}function _A(v){for(var x=Ir(v),M=x.length;M--;){var B=x[M],q=v[B];x[M]=[B,q,fL(q)]}return x}function cf(v,x){var M=zY(v,x);return P3(M)?M:i}function IZ(v){var x=ti.call(v,of),M=v[of];try{v[of]=i;var B=!0}catch{}var q=xb.call(v);return B&&(x?v[of]=M:delete v[of]),q}var SA=XC?function(v){return v==null?[]:(v=li(v),Bc(XC(v),function(x){return g3.call(v,x)}))}:kA,uL=XC?function(v){for(var x=[];v;)Fc(x,SA(v)),v=wb(v);return x}:kA,Qr=bo;(YC&&Qr(new YC(new ArrayBuffer(1)))!=Me||qm&&Qr(new qm)!=V||QC&&Qr(QC.resolve())!=he||Qh&&Qr(new Qh)!=j||Xm&&Qr(new Xm)!=de)&&(Qr=function(v){var x=bo(v),M=x==_e?v.constructor:i,B=M?df(M):"";if(B)switch(B){case hQ:return Me;case pQ:return V;case gQ:return he;case mQ:return j;case vQ:return de}return x});function NZ(v,x,M){for(var B=-1,q=M.length;++B<q;){var ae=M[B],ye=ae.size;switch(ae.type){case"drop":v+=ye;break;case"dropRight":x-=ye;break;case"take":x=Yr(x,v+ye);break;case"takeRight":v=yr(v,x-ye);break}}return{start:v,end:x}}function OZ(v){var x=v.match(Oc);return x?x[1].split(Aa):[]}function cL(v,x,M){x=Hc(x,v);for(var B=-1,q=x.length,ae=!1;++B<q;){var ye=fl(x[B]);if(!(ae=v!=null&&M(v,ye)))break;v=v[ye]}return ae||++B!=q?ae:(q=v==null?0:v.length,!!q&&Yb(q)&&lu(ye,q)&&(cn(v)||ff(v)))}function DZ(v){var x=v.length,M=new v.constructor(x);return x&&typeof v[0]=="string"&&ti.call(v,"index")&&(M.index=v.index,M.input=v.input),M}function dL(v){return typeof v.constructor=="function"&&!rv(v)?Jh(wb(v)):{}}function LZ(v,x,M){var B=v.constructor;switch(x){case Ce:return gA(v);case ue:case Y:return new B(+v);case Me:return yZ(v,M);case Ve:case dt:case we:case Ie:case Ue:case Ye:case Ke:case ut:case ot:return K3(v,M);case V:return new B;case Se:case G:return new B(v);case me:return bZ(v);case j:return new B;case ce:return xZ(v)}}function BZ(v,x){var M=x.length;if(!M)return v;var B=M-1;return x[B]=(M>1?"& ":"")+x[B],x=x.join(M>2?", ":" "),v.replace(Nc,`{
/* [wrapped with `+x+`] */
`)}function FZ(v){return cn(v)||ff(v)||!!(m3&&v&&v[m3])}function lu(v,x){var M=typeof v;return x=x??H,!!x&&(M=="number"||M!="symbol"&&Wh.test(v))&&v>-1&&v%1==0&&v<x}function xo(v,x,M){if(!$i(M))return!1;var B=typeof x;return(B=="number"?jo(M)&&lu(x,M.length):B=="string"&&x in M)?Ra(M[x],v):!1}function wA(v,x){if(cn(v))return!1;var M=typeof v;return M=="number"||M=="symbol"||M=="boolean"||v==null||bs(v)?!0:Ti.test(v)||!nn.test(v)||x!=null&&v in li(x)}function $Z(v){var x=typeof v;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?v!=="__proto__":v===null}function CA(v){var x=Hb(v),M=te[x];if(typeof M!="function"||!(x in Ln.prototype))return!1;if(v===M)return!0;var B=xA(M);return!!B&&v===B[0]}function UZ(v){return!!f3&&f3 in v}var kZ=yb?uu:zA;function rv(v){var x=v&&v.constructor,M=typeof x=="function"&&x.prototype||Yh;return v===M}function fL(v){return v===v&&!$i(v)}function hL(v,x){return function(M){return M==null?!1:M[v]===x&&(x!==i||v in li(M))}}function zZ(v){var x=qb(v,function(B){return M.size===c&&M.clear(),B}),M=x.cache;return x}function HZ(v,x){var M=v[1],B=x[1],q=M|B,ae=q<(y|m|C),ye=B==C&&M==S||B==C&&M==R&&v[7].length<=x[8]||B==(C|R)&&x[7].length<=x[8]&&M==S;if(!(ae||ye))return v;B&y&&(v[2]=x[2],q|=M&y?0:_);var Pe=x[3];if(Pe){var Be=v[3];v[3]=Be?X3(Be,Pe,x[4]):Pe,v[4]=Be?$c(v[3],d):x[4]}return Pe=x[5],Pe&&(Be=v[5],v[5]=Be?Y3(Be,Pe,x[6]):Pe,v[6]=Be?$c(v[5],d):x[6]),Pe=x[7],Pe&&(v[7]=Pe),B&C&&(v[8]=v[8]==null?x[8]:Yr(v[8],x[8])),v[9]==null&&(v[9]=x[9]),v[0]=x[0],v[1]=q,v}function GZ(v){var x=[];if(v!=null)for(var M in li(v))x.push(M);return x}function VZ(v){return xb.call(v)}function pL(v,x,M){return x=yr(x===i?v.length-1:x,0),function(){for(var B=arguments,q=-1,ae=yr(B.length-x,0),ye=qe(ae);++q<ae;)ye[q]=B[x+q];q=-1;for(var Pe=qe(x+1);++q<x;)Pe[q]=B[q];return Pe[x]=M(ye),ms(v,this,Pe)}}function gL(v,x){return x.length<2?v:uf(v,Ys(x,0,-1))}function WZ(v,x){for(var M=v.length,B=Yr(x.length,M),q=Wo(v);B--;){var ae=x[B];v[B]=lu(ae,M)?q[ae]:i}return v}function AA(v,x){if(!(x==="constructor"&&typeof v[x]=="function")&&x!="__proto__")return v[x]}var mL=yL(U3),ov=sQ||function(v,x){return $r.setTimeout(v,x)},TA=yL(pZ);function vL(v,x,M){var B=x+"";return TA(v,BZ(B,jZ(OZ(B),M)))}function yL(v){var x=0,M=0;return function(){var B=cQ(),q=F-(B-M);if(M=B,q>0){if(++x>=D)return arguments[0]}else x=0;return v.apply(i,arguments)}}function Vb(v,x){var M=-1,B=v.length,q=B-1;for(x=x===i?B:x;++M<x;){var ae=lA(M,q),ye=v[ae];v[ae]=v[M],v[M]=ye}return v.length=x,v}var bL=zZ(function(v){var x=[];return v.charCodeAt(0)===46&&x.push(""),v.replace(Xi,function(M,B,q,ae){x.push(q?ae.replace(Jl,"$1"):B||M)}),x});function fl(v){if(typeof v=="string"||bs(v))return v;var x=v+"";return x=="0"&&1/v==-1/0?"-0":x}function df(v){if(v!=null){try{return bb.call(v)}catch{}try{return v+""}catch{}}return""}function jZ(v,x){return js(J,function(M){var B="_."+M[0];x&M[1]&&!pb(v,B)&&v.push(B)}),v.sort()}function xL(v){if(v instanceof Ln)return v.clone();var x=new qs(v.__wrapped__,v.__chain__);return x.__actions__=Wo(v.__actions__),x.__index__=v.__index__,x.__values__=v.__values__,x}function KZ(v,x,M){(M?xo(v,x,M):x===i)?x=1:x=yr(bn(x),0);var B=v==null?0:v.length;if(!B||x<1)return[];for(var q=0,ae=0,ye=qe(Tb(B/x));q<B;)ye[ae++]=Ys(v,q,q+=x);return ye}function qZ(v){for(var x=-1,M=v==null?0:v.length,B=0,q=[];++x<M;){var ae=v[x];ae&&(q[B++]=ae)}return q}function XZ(){var v=arguments.length;if(!v)return[];for(var x=qe(v-1),M=arguments[0],B=v;B--;)x[B-1]=arguments[B];return Fc(cn(M)?Wo(M):[M],Ur(x,1))}var YZ=En(function(v,x){return Yi(v)?Jm(v,Ur(x,1,Yi,!0)):[]}),QZ=En(function(v,x){var M=Qs(x);return Yi(M)&&(M=i),Yi(v)?Jm(v,Ur(x,1,Yi,!0),zt(M,2)):[]}),ZZ=En(function(v,x){var M=Qs(x);return Yi(M)&&(M=i),Yi(v)?Jm(v,Ur(x,1,Yi,!0),i,M):[]});function JZ(v,x,M){var B=v==null?0:v.length;return B?(x=M||x===i?1:bn(x),Ys(v,x<0?0:x,B)):[]}function eJ(v,x,M){var B=v==null?0:v.length;return B?(x=M||x===i?1:bn(x),x=B-x,Ys(v,0,x<0?0:x)):[]}function tJ(v,x){return v&&v.length?Bb(v,zt(x,3),!0,!0):[]}function nJ(v,x){return v&&v.length?Bb(v,zt(x,3),!0):[]}function iJ(v,x,M,B){var q=v==null?0:v.length;return q?(M&&typeof M!="number"&&xo(v,x,M)&&(M=0,B=q),XQ(v,x,M,B)):[]}function _L(v,x,M){var B=v==null?0:v.length;if(!B)return-1;var q=M==null?0:bn(M);return q<0&&(q=yr(B+q,0)),gb(v,zt(x,3),q)}function SL(v,x,M){var B=v==null?0:v.length;if(!B)return-1;var q=B-1;return M!==i&&(q=bn(M),q=M<0?yr(B+q,0):Yr(q,B-1)),gb(v,zt(x,3),q,!0)}function wL(v){var x=v==null?0:v.length;return x?Ur(v,1):[]}function rJ(v){var x=v==null?0:v.length;return x?Ur(v,k):[]}function oJ(v,x){var M=v==null?0:v.length;return M?(x=x===i?1:bn(x),Ur(v,x)):[]}function sJ(v){for(var x=-1,M=v==null?0:v.length,B={};++x<M;){var q=v[x];B[q[0]]=q[1]}return B}function CL(v){return v&&v.length?v[0]:i}function aJ(v,x,M){var B=v==null?0:v.length;if(!B)return-1;var q=M==null?0:bn(M);return q<0&&(q=yr(B+q,0)),jh(v,x,q)}function lJ(v){var x=v==null?0:v.length;return x?Ys(v,0,-1):[]}var uJ=En(function(v){var x=Ei(v,hA);return x.length&&x[0]===v[0]?iA(x):[]}),cJ=En(function(v){var x=Qs(v),M=Ei(v,hA);return x===Qs(M)?x=i:M.pop(),M.length&&M[0]===v[0]?iA(M,zt(x,2)):[]}),dJ=En(function(v){var x=Qs(v),M=Ei(v,hA);return x=typeof x=="function"?x:i,x&&M.pop(),M.length&&M[0]===v[0]?iA(M,i,x):[]});function fJ(v,x){return v==null?"":lQ.call(v,x)}function Qs(v){var x=v==null?0:v.length;return x?v[x-1]:i}function hJ(v,x,M){var B=v==null?0:v.length;if(!B)return-1;var q=B;return M!==i&&(q=bn(M),q=q<0?yr(B+q,0):Yr(q,B-1)),x===x?jY(v,x,q):gb(v,r3,q,!0)}function pJ(v,x){return v&&v.length?L3(v,bn(x)):i}var gJ=En(AL);function AL(v,x){return v&&v.length&&x&&x.length?aA(v,x):v}function mJ(v,x,M){return v&&v.length&&x&&x.length?aA(v,x,zt(M,2)):v}function vJ(v,x,M){return v&&v.length&&x&&x.length?aA(v,x,i,M):v}var yJ=au(function(v,x){var M=v==null?0:v.length,B=JC(v,x);return $3(v,Ei(x,function(q){return lu(q,M)?+q:q}).sort(q3)),B});function bJ(v,x){var M=[];if(!(v&&v.length))return M;var B=-1,q=[],ae=v.length;for(x=zt(x,3);++B<ae;){var ye=v[B];x(ye,B,v)&&(M.push(ye),q.push(B))}return $3(v,q),M}function EA(v){return v==null?v:fQ.call(v)}function xJ(v,x,M){var B=v==null?0:v.length;return B?(M&&typeof M!="number"&&xo(v,x,M)?(x=0,M=B):(x=x==null?0:bn(x),M=M===i?B:bn(M)),Ys(v,x,M)):[]}function _J(v,x){return Lb(v,x)}function SJ(v,x,M){return cA(v,x,zt(M,2))}function wJ(v,x){var M=v==null?0:v.length;if(M){var B=Lb(v,x);if(B<M&&Ra(v[B],x))return B}return-1}function CJ(v,x){return Lb(v,x,!0)}function AJ(v,x,M){return cA(v,x,zt(M,2),!0)}function TJ(v,x){var M=v==null?0:v.length;if(M){var B=Lb(v,x,!0)-1;if(Ra(v[B],x))return B}return-1}function EJ(v){return v&&v.length?k3(v):[]}function MJ(v,x){return v&&v.length?k3(v,zt(x,2)):[]}function RJ(v){var x=v==null?0:v.length;return x?Ys(v,1,x):[]}function PJ(v,x,M){return v&&v.length?(x=M||x===i?1:bn(x),Ys(v,0,x<0?0:x)):[]}function IJ(v,x,M){var B=v==null?0:v.length;return B?(x=M||x===i?1:bn(x),x=B-x,Ys(v,x<0?0:x,B)):[]}function NJ(v,x){return v&&v.length?Bb(v,zt(x,3),!1,!0):[]}function OJ(v,x){return v&&v.length?Bb(v,zt(x,3)):[]}var DJ=En(function(v){return zc(Ur(v,1,Yi,!0))}),LJ=En(function(v){var x=Qs(v);return Yi(x)&&(x=i),zc(Ur(v,1,Yi,!0),zt(x,2))}),BJ=En(function(v){var x=Qs(v);return x=typeof x=="function"?x:i,zc(Ur(v,1,Yi,!0),i,x)});function FJ(v){return v&&v.length?zc(v):[]}function $J(v,x){return v&&v.length?zc(v,zt(x,2)):[]}function UJ(v,x){return x=typeof x=="function"?x:i,v&&v.length?zc(v,i,x):[]}function MA(v){if(!(v&&v.length))return[];var x=0;return v=Bc(v,function(M){if(Yi(M))return x=yr(M.length,x),!0}),WC(x,function(M){return Ei(v,HC(M))})}function TL(v,x){if(!(v&&v.length))return[];var M=MA(v);return x==null?M:Ei(M,function(B){return ms(x,i,B)})}var kJ=En(function(v,x){return Yi(v)?Jm(v,x):[]}),zJ=En(function(v){return fA(Bc(v,Yi))}),HJ=En(function(v){var x=Qs(v);return Yi(x)&&(x=i),fA(Bc(v,Yi),zt(x,2))}),GJ=En(function(v){var x=Qs(v);return x=typeof x=="function"?x:i,fA(Bc(v,Yi),i,x)}),VJ=En(MA);function WJ(v,x){return V3(v||[],x||[],Zm)}function jJ(v,x){return V3(v||[],x||[],nv)}var KJ=En(function(v){var x=v.length,M=x>1?v[x-1]:i;return M=typeof M=="function"?(v.pop(),M):i,TL(v,M)});function EL(v){var x=te(v);return x.__chain__=!0,x}function qJ(v,x){return x(v),v}function Wb(v,x){return x(v)}var XJ=au(function(v){var x=v.length,M=x?v[0]:0,B=this.__wrapped__,q=function(ae){return JC(ae,v)};return x>1||this.__actions__.length||!(B instanceof Ln)||!lu(M)?this.thru(q):(B=B.slice(M,+M+(x?1:0)),B.__actions__.push({func:Wb,args:[q],thisArg:i}),new qs(B,this.__chain__).thru(function(ae){return x&&!ae.length&&ae.push(i),ae}))});function YJ(){return EL(this)}function QJ(){return new qs(this.value(),this.__chain__)}function ZJ(){this.__values__===i&&(this.__values__=zL(this.value()));var v=this.__index__>=this.__values__.length,x=v?i:this.__values__[this.__index__++];return{done:v,value:x}}function JJ(){return this}function eee(v){for(var x,M=this;M instanceof Pb;){var B=xL(M);B.__index__=0,B.__values__=i,x?q.__wrapped__=B:x=B;var q=B;M=M.__wrapped__}return q.__wrapped__=v,x}function tee(){var v=this.__wrapped__;if(v instanceof Ln){var x=v;return this.__actions__.length&&(x=new Ln(this)),x=x.reverse(),x.__actions__.push({func:Wb,args:[EA],thisArg:i}),new qs(x,this.__chain__)}return this.thru(EA)}function nee(){return G3(this.__wrapped__,this.__actions__)}var iee=Fb(function(v,x,M){ti.call(v,M)?++v[M]:ou(v,M,1)});function ree(v,x,M){var B=cn(v)?n3:qQ;return M&&xo(v,x,M)&&(x=i),B(v,zt(x,3))}function oee(v,x){var M=cn(v)?Bc:T3;return M(v,zt(x,3))}var see=eL(_L),aee=eL(SL);function lee(v,x){return Ur(jb(v,x),1)}function uee(v,x){return Ur(jb(v,x),k)}function cee(v,x,M){return M=M===i?1:bn(M),Ur(jb(v,x),M)}function ML(v,x){var M=cn(v)?js:kc;return M(v,zt(x,3))}function RL(v,x){var M=cn(v)?RY:A3;return M(v,zt(x,3))}var dee=Fb(function(v,x,M){ti.call(v,M)?v[M].push(x):ou(v,M,[x])});function fee(v,x,M,B){v=jo(v)?v:rp(v),M=M&&!B?bn(M):0;var q=v.length;return M<0&&(M=yr(q+M,0)),Qb(v)?M<=q&&v.indexOf(x,M)>-1:!!q&&jh(v,x,M)>-1}var hee=En(function(v,x,M){var B=-1,q=typeof x=="function",ae=jo(v)?qe(v.length):[];return kc(v,function(ye){ae[++B]=q?ms(x,ye,M):ev(ye,x,M)}),ae}),pee=Fb(function(v,x,M){ou(v,M,x)});function jb(v,x){var M=cn(v)?Ei:N3;return M(v,zt(x,3))}function gee(v,x,M,B){return v==null?[]:(cn(x)||(x=x==null?[]:[x]),M=B?i:M,cn(M)||(M=M==null?[]:[M]),B3(v,x,M))}var mee=Fb(function(v,x,M){v[M?0:1].push(x)},function(){return[[],[]]});function vee(v,x,M){var B=cn(v)?kC:s3,q=arguments.length<3;return B(v,zt(x,4),M,q,kc)}function yee(v,x,M){var B=cn(v)?PY:s3,q=arguments.length<3;return B(v,zt(x,4),M,q,A3)}function bee(v,x){var M=cn(v)?Bc:T3;return M(v,Xb(zt(x,3)))}function xee(v){var x=cn(v)?_3:fZ;return x(v)}function _ee(v,x,M){(M?xo(v,x,M):x===i)?x=1:x=bn(x);var B=cn(v)?GQ:hZ;return B(v,x)}function See(v){var x=cn(v)?VQ:gZ;return x(v)}function wee(v){if(v==null)return 0;if(jo(v))return Qb(v)?qh(v):v.length;var x=Qr(v);return x==V||x==j?v.size:oA(v).length}function Cee(v,x,M){var B=cn(v)?zC:mZ;return M&&xo(v,x,M)&&(x=i),B(v,zt(x,3))}var Aee=En(function(v,x){if(v==null)return[];var M=x.length;return M>1&&xo(v,x[0],x[1])?x=[]:M>2&&xo(x[0],x[1],x[2])&&(x=[x[0]]),B3(v,Ur(x,1),[])}),Kb=oQ||function(){return $r.Date.now()};function Tee(v,x){if(typeof x!="function")throw new Ks(a);return v=bn(v),function(){if(--v<1)return x.apply(this,arguments)}}function PL(v,x,M){return x=M?i:x,x=v&&x==null?v.length:x,su(v,C,i,i,i,i,x)}function IL(v,x){var M;if(typeof x!="function")throw new Ks(a);return v=bn(v),function(){return--v>0&&(M=x.apply(this,arguments)),v<=1&&(x=i),M}}var RA=En(function(v,x,M){var B=y;if(M.length){var q=$c(M,np(RA));B|=A}return su(v,B,x,M,q)}),NL=En(function(v,x,M){var B=y|m;if(M.length){var q=$c(M,np(NL));B|=A}return su(x,B,v,M,q)});function OL(v,x,M){x=M?i:x;var B=su(v,S,i,i,i,i,i,x);return B.placeholder=OL.placeholder,B}function DL(v,x,M){x=M?i:x;var B=su(v,w,i,i,i,i,i,x);return B.placeholder=DL.placeholder,B}function LL(v,x,M){var B,q,ae,ye,Pe,Be,rt=0,st=!1,ft=!1,St=!0;if(typeof v!="function")throw new Ks(a);x=Zs(x)||0,$i(M)&&(st=!!M.leading,ft="maxWait"in M,ae=ft?yr(Zs(M.maxWait)||0,x):ae,St="trailing"in M?!!M.trailing:St);function Lt(Qi){var Pa=B,du=q;return B=q=i,rt=Qi,ye=v.apply(du,Pa),ye}function Ht(Qi){return rt=Qi,Pe=ov(In,x),st?Lt(Qi):ye}function _n(Qi){var Pa=Qi-Be,du=Qi-rt,eB=x-Pa;return ft?Yr(eB,ae-du):eB}function Gt(Qi){var Pa=Qi-Be,du=Qi-rt;return Be===i||Pa>=x||Pa<0||ft&&du>=ae}function In(){var Qi=Kb();if(Gt(Qi))return $n(Qi);Pe=ov(In,_n(Qi))}function $n(Qi){return Pe=i,St&&B?Lt(Qi):(B=q=i,ye)}function xs(){Pe!==i&&W3(Pe),rt=0,B=Be=q=Pe=i}function _o(){return Pe===i?ye:$n(Kb())}function _s(){var Qi=Kb(),Pa=Gt(Qi);if(B=arguments,q=this,Be=Qi,Pa){if(Pe===i)return Ht(Be);if(ft)return W3(Pe),Pe=ov(In,x),Lt(Be)}return Pe===i&&(Pe=ov(In,x)),ye}return _s.cancel=xs,_s.flush=_o,_s}var Eee=En(function(v,x){return C3(v,1,x)}),Mee=En(function(v,x,M){return C3(v,Zs(x)||0,M)});function Ree(v){return su(v,E)}function qb(v,x){if(typeof v!="function"||x!=null&&typeof x!="function")throw new Ks(a);var M=function(){var B=arguments,q=x?x.apply(this,B):B[0],ae=M.cache;if(ae.has(q))return ae.get(q);var ye=v.apply(this,B);return M.cache=ae.set(q,ye)||ae,ye};return M.cache=new(qb.Cache||ru),M}qb.Cache=ru;function Xb(v){if(typeof v!="function")throw new Ks(a);return function(){var x=arguments;switch(x.length){case 0:return!v.call(this);case 1:return!v.call(this,x[0]);case 2:return!v.call(this,x[0],x[1]);case 3:return!v.call(this,x[0],x[1],x[2])}return!v.apply(this,x)}}function Pee(v){return IL(2,v)}var Iee=vZ(function(v,x){x=x.length==1&&cn(x[0])?Ei(x[0],vs(zt())):Ei(Ur(x,1),vs(zt()));var M=x.length;return En(function(B){for(var q=-1,ae=Yr(B.length,M);++q<ae;)B[q]=x[q].call(this,B[q]);return ms(v,this,B)})}),PA=En(function(v,x){var M=$c(x,np(PA));return su(v,A,i,x,M)}),BL=En(function(v,x){var M=$c(x,np(BL));return su(v,T,i,x,M)}),Nee=au(function(v,x){return su(v,R,i,i,i,x)});function Oee(v,x){if(typeof v!="function")throw new Ks(a);return x=x===i?x:bn(x),En(v,x)}function Dee(v,x){if(typeof v!="function")throw new Ks(a);return x=x==null?0:yr(bn(x),0),En(function(M){var B=M[x],q=Gc(M,0,x);return B&&Fc(q,B),ms(v,this,q)})}function Lee(v,x,M){var B=!0,q=!0;if(typeof v!="function")throw new Ks(a);return $i(M)&&(B="leading"in M?!!M.leading:B,q="trailing"in M?!!M.trailing:q),LL(v,x,{leading:B,maxWait:x,trailing:q})}function Bee(v){return PL(v,1)}function Fee(v,x){return PA(pA(x),v)}function $ee(){if(!arguments.length)return[];var v=arguments[0];return cn(v)?v:[v]}function Uee(v){return Xs(v,p)}function kee(v,x){return x=typeof x=="function"?x:i,Xs(v,p,x)}function zee(v){return Xs(v,f|p)}function Hee(v,x){return x=typeof x=="function"?x:i,Xs(v,f|p,x)}function Gee(v,x){return x==null||w3(v,x,Ir(x))}function Ra(v,x){return v===x||v!==v&&x!==x}var Vee=zb(nA),Wee=zb(function(v,x){return v>=x}),ff=R3(function(){return arguments}())?R3:function(v){return Wi(v)&&ti.call(v,"callee")&&!g3.call(v,"callee")},cn=qe.isArray,jee=YD?vs(YD):eZ;function jo(v){return v!=null&&Yb(v.length)&&!uu(v)}function Yi(v){return Wi(v)&&jo(v)}function Kee(v){return v===!0||v===!1||Wi(v)&&bo(v)==ue}var Vc=aQ||zA,qee=QD?vs(QD):tZ;function Xee(v){return Wi(v)&&v.nodeType===1&&!sv(v)}function Yee(v){if(v==null)return!0;if(jo(v)&&(cn(v)||typeof v=="string"||typeof v.splice=="function"||Vc(v)||ip(v)||ff(v)))return!v.length;var x=Qr(v);if(x==V||x==j)return!v.size;if(rv(v))return!oA(v).length;for(var M in v)if(ti.call(v,M))return!1;return!0}function Qee(v,x){return tv(v,x)}function Zee(v,x,M){M=typeof M=="function"?M:i;var B=M?M(v,x):i;return B===i?tv(v,x,i,M):!!B}function IA(v){if(!Wi(v))return!1;var x=bo(v);return x==fe||x==le||typeof v.message=="string"&&typeof v.name=="string"&&!sv(v)}function Jee(v){return typeof v=="number"&&v3(v)}function uu(v){if(!$i(v))return!1;var x=bo(v);return x==W||x==X||x==ne||x==ge}function FL(v){return typeof v=="number"&&v==bn(v)}function Yb(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=H}function $i(v){var x=typeof v;return v!=null&&(x=="object"||x=="function")}function Wi(v){return v!=null&&typeof v=="object"}var $L=ZD?vs(ZD):iZ;function ete(v,x){return v===x||rA(v,x,_A(x))}function tte(v,x,M){return M=typeof M=="function"?M:i,rA(v,x,_A(x),M)}function nte(v){return UL(v)&&v!=+v}function ite(v){if(kZ(v))throw new rn(s);return P3(v)}function rte(v){return v===null}function ote(v){return v==null}function UL(v){return typeof v=="number"||Wi(v)&&bo(v)==Se}function sv(v){if(!Wi(v)||bo(v)!=_e)return!1;var x=wb(v);if(x===null)return!0;var M=ti.call(x,"constructor")&&x.constructor;return typeof M=="function"&&M instanceof M&&bb.call(M)==tQ}var NA=JD?vs(JD):rZ;function ste(v){return FL(v)&&v>=-9007199254740991&&v<=H}var kL=e3?vs(e3):oZ;function Qb(v){return typeof v=="string"||!cn(v)&&Wi(v)&&bo(v)==G}function bs(v){return typeof v=="symbol"||Wi(v)&&bo(v)==ce}var ip=t3?vs(t3):sZ;function ate(v){return v===i}function lte(v){return Wi(v)&&Qr(v)==de}function ute(v){return Wi(v)&&bo(v)==re}var cte=zb(sA),dte=zb(function(v,x){return v<=x});function zL(v){if(!v)return[];if(jo(v))return Qb(v)?Ea(v):Wo(v);if(Km&&v[Km])return GY(v[Km]());var x=Qr(v),M=x==V?KC:x==j?mb:rp;return M(v)}function cu(v){if(!v)return v===0?v:0;if(v=Zs(v),v===k||v===-1/0){var x=v<0?-1:1;return x*z}return v===v?v:0}function bn(v){var x=cu(v),M=x%1;return x===x?M?x-M:x:0}function HL(v){return v?lf(bn(v),0,Z):0}function Zs(v){if(typeof v=="number")return v;if(bs(v))return Q;if($i(v)){var x=typeof v.valueOf=="function"?v.valueOf():v;v=$i(x)?x+"":x}if(typeof v!="string")return v===0?v:+v;v=a3(v);var M=Ta.test(v);return M||Wm.test(v)?TY(v.slice(2),M?2:8):Dc.test(v)?Q:+v}function GL(v){return dl(v,Ko(v))}function fte(v){return v?lf(bn(v),-9007199254740991,H):v===0?v:0}function Yn(v){return v==null?"":ys(v)}var hte=ep(function(v,x){if(rv(x)||jo(x)){dl(x,Ir(x),v);return}for(var M in x)ti.call(x,M)&&Zm(v,M,x[M])}),VL=ep(function(v,x){dl(x,Ko(x),v)}),Zb=ep(function(v,x,M,B){dl(x,Ko(x),v,B)}),pte=ep(function(v,x,M,B){dl(x,Ir(x),v,B)}),gte=au(JC);function mte(v,x){var M=Jh(v);return x==null?M:S3(M,x)}var vte=En(function(v,x){v=li(v);var M=-1,B=x.length,q=B>2?x[2]:i;for(q&&xo(x[0],x[1],q)&&(B=1);++M<B;)for(var ae=x[M],ye=Ko(ae),Pe=-1,Be=ye.length;++Pe<Be;){var rt=ye[Pe],st=v[rt];(st===i||Ra(st,Yh[rt])&&!ti.call(v,rt))&&(v[rt]=ae[rt])}return v}),yte=En(function(v){return v.push(i,aL),ms(WL,i,v)});function bte(v,x){return i3(v,zt(x,3),cl)}function xte(v,x){return i3(v,zt(x,3),tA)}function _te(v,x){return v==null?v:eA(v,zt(x,3),Ko)}function Ste(v,x){return v==null?v:E3(v,zt(x,3),Ko)}function wte(v,x){return v&&cl(v,zt(x,3))}function Cte(v,x){return v&&tA(v,zt(x,3))}function Ate(v){return v==null?[]:Ob(v,Ir(v))}function Tte(v){return v==null?[]:Ob(v,Ko(v))}function OA(v,x,M){var B=v==null?i:uf(v,x);return B===i?M:B}function Ete(v,x){return v!=null&&cL(v,x,YQ)}function DA(v,x){return v!=null&&cL(v,x,QQ)}var Mte=nL(function(v,x,M){x!=null&&typeof x.toString!="function"&&(x=xb.call(x)),v[x]=M},BA(qo)),Rte=nL(function(v,x,M){x!=null&&typeof x.toString!="function"&&(x=xb.call(x)),ti.call(v,x)?v[x].push(M):v[x]=[M]},zt),Pte=En(ev);function Ir(v){return jo(v)?x3(v):oA(v)}function Ko(v){return jo(v)?x3(v,!0):aZ(v)}function Ite(v,x){var M={};return x=zt(x,3),cl(v,function(B,q,ae){ou(M,x(B,q,ae),B)}),M}function Nte(v,x){var M={};return x=zt(x,3),cl(v,function(B,q,ae){ou(M,q,x(B,q,ae))}),M}var Ote=ep(function(v,x,M){Db(v,x,M)}),WL=ep(function(v,x,M,B){Db(v,x,M,B)}),Dte=au(function(v,x){var M={};if(v==null)return M;var B=!1;x=Ei(x,function(ae){return ae=Hc(ae,v),B||(B=ae.length>1),ae}),dl(v,bA(v),M),B&&(M=Xs(M,f|h|p,MZ));for(var q=x.length;q--;)dA(M,x[q]);return M});function Lte(v,x){return jL(v,Xb(zt(x)))}var Bte=au(function(v,x){return v==null?{}:uZ(v,x)});function jL(v,x){if(v==null)return{};var M=Ei(bA(v),function(B){return[B]});return x=zt(x),F3(v,M,function(B,q){return x(B,q[0])})}function Fte(v,x,M){x=Hc(x,v);var B=-1,q=x.length;for(q||(q=1,v=i);++B<q;){var ae=v==null?i:v[fl(x[B])];ae===i&&(B=q,ae=M),v=uu(ae)?ae.call(v):ae}return v}function $te(v,x,M){return v==null?v:nv(v,x,M)}function Ute(v,x,M,B){return B=typeof B=="function"?B:i,v==null?v:nv(v,x,M,B)}var KL=oL(Ir),qL=oL(Ko);function kte(v,x,M){var B=cn(v),q=B||Vc(v)||ip(v);if(x=zt(x,4),M==null){var ae=v&&v.constructor;q?M=B?new ae:[]:$i(v)?M=uu(ae)?Jh(wb(v)):{}:M={}}return(q?js:cl)(v,function(ye,Pe,Be){return x(M,ye,Pe,Be)}),M}function zte(v,x){return v==null?!0:dA(v,x)}function Hte(v,x,M){return v==null?v:H3(v,x,pA(M))}function Gte(v,x,M,B){return B=typeof B=="function"?B:i,v==null?v:H3(v,x,pA(M),B)}function rp(v){return v==null?[]:jC(v,Ir(v))}function Vte(v){return v==null?[]:jC(v,Ko(v))}function Wte(v,x,M){return M===i&&(M=x,x=i),M!==i&&(M=Zs(M),M=M===M?M:0),x!==i&&(x=Zs(x),x=x===x?x:0),lf(Zs(v),x,M)}function jte(v,x,M){return x=cu(x),M===i?(M=x,x=0):M=cu(M),v=Zs(v),ZQ(v,x,M)}function Kte(v,x,M){if(M&&typeof M!="boolean"&&xo(v,x,M)&&(x=M=i),M===i&&(typeof x=="boolean"?(M=x,x=i):typeof v=="boolean"&&(M=v,v=i)),v===i&&x===i?(v=0,x=1):(v=cu(v),x===i?(x=v,v=0):x=cu(x)),v>x){var B=v;v=x,x=B}if(M||v%1||x%1){var q=y3();return Yr(v+q*(x-v+AY("1e-"+((q+"").length-1))),x)}return lA(v,x)}var qte=tp(function(v,x,M){return x=x.toLowerCase(),v+(M?XL(x):x)});function XL(v){return LA(Yn(v).toLowerCase())}function YL(v){return v=Yn(v),v&&v.replace(oe,$Y).replace(gY,"")}function Xte(v,x,M){v=Yn(v),x=ys(x);var B=v.length;M=M===i?B:lf(bn(M),0,B);var q=M;return M-=x.length,M>=0&&v.slice(M,q)==x}function Yte(v){return v=Yn(v),v&&yt.test(v)?v.replace(We,UY):v}function Qte(v){return v=Yn(v),v&&ul.test(v)?v.replace(Fr,"\\$&"):v}var Zte=tp(function(v,x,M){return v+(M?"-":"")+x.toLowerCase()}),Jte=tp(function(v,x,M){return v+(M?" ":"")+x.toLowerCase()}),ene=J3("toLowerCase");function tne(v,x,M){v=Yn(v),x=bn(x);var B=x?qh(v):0;if(!x||B>=x)return v;var q=(x-B)/2;return kb(Eb(q),M)+v+kb(Tb(q),M)}function nne(v,x,M){v=Yn(v),x=bn(x);var B=x?qh(v):0;return x&&B<x?v+kb(x-B,M):v}function ine(v,x,M){v=Yn(v),x=bn(x);var B=x?qh(v):0;return x&&B<x?kb(x-B,M)+v:v}function rne(v,x,M){return M||x==null?x=0:x&&(x=+x),dQ(Yn(v).replace(Mr,""),x||0)}function one(v,x,M){return(M?xo(v,x,M):x===i)?x=1:x=bn(x),uA(Yn(v),x)}function sne(){var v=arguments,x=Yn(v[0]);return v.length<3?x:x.replace(v[1],v[2])}var ane=tp(function(v,x,M){return v+(M?"_":"")+x.toLowerCase()});function lne(v,x,M){return M&&typeof M!="number"&&xo(v,x,M)&&(x=M=i),M=M===i?Z:M>>>0,M?(v=Yn(v),v&&(typeof x=="string"||x!=null&&!NA(x))&&(x=ys(x),!x&&Kh(v))?Gc(Ea(v),0,M):v.split(x,M)):[]}var une=tp(function(v,x,M){return v+(M?" ":"")+LA(x)});function cne(v,x,M){return v=Yn(v),M=M==null?0:lf(bn(M),0,v.length),x=ys(x),v.slice(M,M+x.length)==x}function dne(v,x,M){var B=te.templateSettings;M&&xo(v,x,M)&&(x=i),v=Yn(v),x=Zb({},x,B,sL);var q=Zb({},x.imports,B.imports,sL),ae=Ir(q),ye=jC(q,ae),Pe,Be,rt=0,st=x.interpolate||Ne,ft="__p += '",St=qC((x.escape||Ne).source+"|"+st.source+"|"+(st===Un?eu:Ne).source+"|"+(x.evaluate||Ne).source+"|$","g"),Lt="//# sourceURL="+(ti.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xY+"]")+`
`;v.replace(St,function(Gt,In,$n,xs,_o,_s){return $n||($n=xs),ft+=v.slice(rt,_s).replace(ze,kY),In&&(Pe=!0,ft+=`' +
__e(`+In+`) +
'`),_o&&(Be=!0,ft+=`';
`+_o+`;
__p += '`),$n&&(ft+=`' +
((__t = (`+$n+`)) == null ? '' : __t) +
'`),rt=_s+Gt.length,Gt}),ft+=`';
`;var Ht=ti.call(x,"variable")&&x.variable;if(!Ht)ft=`with (obj) {
`+ft+`
}
`;else if(Vs.test(Ht))throw new rn(l);ft=(Be?ft.replace(Et,""):ft).replace(Ae,"$1").replace(it,"$1;"),ft="function("+(Ht||"obj")+`) {
`+(Ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Pe?", __e = _.escape":"")+(Be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ft+`return __p
}`;var _n=ZL(function(){return Kn(ae,Lt+"return "+ft).apply(i,ye)});if(_n.source=ft,IA(_n))throw _n;return _n}function fne(v){return Yn(v).toLowerCase()}function hne(v){return Yn(v).toUpperCase()}function pne(v,x,M){if(v=Yn(v),v&&(M||x===i))return a3(v);if(!v||!(x=ys(x)))return v;var B=Ea(v),q=Ea(x),ae=l3(B,q),ye=u3(B,q)+1;return Gc(B,ae,ye).join("")}function gne(v,x,M){if(v=Yn(v),v&&(M||x===i))return v.slice(0,d3(v)+1);if(!v||!(x=ys(x)))return v;var B=Ea(v),q=u3(B,Ea(x))+1;return Gc(B,0,q).join("")}function mne(v,x,M){if(v=Yn(v),v&&(M||x===i))return v.replace(Mr,"");if(!v||!(x=ys(x)))return v;var B=Ea(v),q=l3(B,Ea(x));return Gc(B,q).join("")}function vne(v,x){var M=P,B=I;if($i(x)){var q="separator"in x?x.separator:q;M="length"in x?bn(x.length):M,B="omission"in x?ys(x.omission):B}v=Yn(v);var ae=v.length;if(Kh(v)){var ye=Ea(v);ae=ye.length}if(M>=ae)return v;var Pe=M-qh(B);if(Pe<1)return B;var Be=ye?Gc(ye,0,Pe).join(""):v.slice(0,Pe);if(q===i)return Be+B;if(ye&&(Pe+=Be.length-Pe),NA(q)){if(v.slice(Pe).search(q)){var rt,st=Be;for(q.global||(q=qC(q.source,Yn(tu.exec(q))+"g")),q.lastIndex=0;rt=q.exec(st);)var ft=rt.index;Be=Be.slice(0,ft===i?Pe:ft)}}else if(v.indexOf(ys(q),Pe)!=Pe){var St=Be.lastIndexOf(q);St>-1&&(Be=Be.slice(0,St))}return Be+B}function yne(v){return v=Yn(v),v&&gt.test(v)?v.replace($e,KY):v}var bne=tp(function(v,x,M){return v+(M?" ":"")+x.toUpperCase()}),LA=J3("toUpperCase");function QL(v,x,M){return v=Yn(v),x=M?i:x,x===i?HY(v)?YY(v):OY(v):v.match(x)||[]}var ZL=En(function(v,x){try{return ms(v,i,x)}catch(M){return IA(M)?M:new rn(M)}}),xne=au(function(v,x){return js(x,function(M){M=fl(M),ou(v,M,RA(v[M],v))}),v});function _ne(v){var x=v==null?0:v.length,M=zt();return v=x?Ei(v,function(B){if(typeof B[1]!="function")throw new Ks(a);return[M(B[0]),B[1]]}):[],En(function(B){for(var q=-1;++q<x;){var ae=v[q];if(ms(ae[0],this,B))return ms(ae[1],this,B)}})}function Sne(v){return KQ(Xs(v,f))}function BA(v){return function(){return v}}function wne(v,x){return v==null||v!==v?x:v}var Cne=tL(),Ane=tL(!0);function qo(v){return v}function FA(v){return I3(typeof v=="function"?v:Xs(v,f))}function Tne(v){return O3(Xs(v,f))}function Ene(v,x){return D3(v,Xs(x,f))}var Mne=En(function(v,x){return function(M){return ev(M,v,x)}}),Rne=En(function(v,x){return function(M){return ev(v,M,x)}});function $A(v,x,M){var B=Ir(x),q=Ob(x,B);M==null&&!($i(x)&&(q.length||!B.length))&&(M=x,x=v,v=this,q=Ob(x,Ir(x)));var ae=!($i(M)&&"chain"in M)||!!M.chain,ye=uu(v);return js(q,function(Pe){var Be=x[Pe];v[Pe]=Be,ye&&(v.prototype[Pe]=function(){var rt=this.__chain__;if(ae||rt){var st=v(this.__wrapped__),ft=st.__actions__=Wo(this.__actions__);return ft.push({func:Be,args:arguments,thisArg:v}),st.__chain__=rt,st}return Be.apply(v,Fc([this.value()],arguments))})}),v}function Pne(){return $r._===this&&($r._=nQ),this}function UA(){}function Ine(v){return v=bn(v),En(function(x){return L3(x,v)})}var Nne=mA(Ei),One=mA(n3),Dne=mA(zC);function JL(v){return wA(v)?HC(fl(v)):cZ(v)}function Lne(v){return function(x){return v==null?i:uf(v,x)}}var Bne=iL(),Fne=iL(!0);function kA(){return[]}function zA(){return!1}function $ne(){return{}}function Une(){return""}function kne(){return!0}function zne(v,x){if(v=bn(v),v<1||v>H)return[];var M=Z,B=Yr(v,Z);x=zt(x),v-=Z;for(var q=WC(B,x);++M<v;)x(M);return q}function Hne(v){return cn(v)?Ei(v,fl):bs(v)?[v]:Wo(bL(Yn(v)))}function Gne(v){var x=++eQ;return Yn(v)+x}var Vne=Ub(function(v,x){return v+x},0),Wne=vA("ceil"),jne=Ub(function(v,x){return v/x},1),Kne=vA("floor");function qne(v){return v&&v.length?Nb(v,qo,nA):i}function Xne(v,x){return v&&v.length?Nb(v,zt(x,2),nA):i}function Yne(v){return o3(v,qo)}function Qne(v,x){return o3(v,zt(x,2))}function Zne(v){return v&&v.length?Nb(v,qo,sA):i}function Jne(v,x){return v&&v.length?Nb(v,zt(x,2),sA):i}var eie=Ub(function(v,x){return v*x},1),tie=vA("round"),nie=Ub(function(v,x){return v-x},0);function iie(v){return v&&v.length?VC(v,qo):0}function rie(v,x){return v&&v.length?VC(v,zt(x,2)):0}return te.after=Tee,te.ary=PL,te.assign=hte,te.assignIn=VL,te.assignInWith=Zb,te.assignWith=pte,te.at=gte,te.before=IL,te.bind=RA,te.bindAll=xne,te.bindKey=NL,te.castArray=$ee,te.chain=EL,te.chunk=KZ,te.compact=qZ,te.concat=XZ,te.cond=_ne,te.conforms=Sne,te.constant=BA,te.countBy=iee,te.create=mte,te.curry=OL,te.curryRight=DL,te.debounce=LL,te.defaults=vte,te.defaultsDeep=yte,te.defer=Eee,te.delay=Mee,te.difference=YZ,te.differenceBy=QZ,te.differenceWith=ZZ,te.drop=JZ,te.dropRight=eJ,te.dropRightWhile=tJ,te.dropWhile=nJ,te.fill=iJ,te.filter=oee,te.flatMap=lee,te.flatMapDeep=uee,te.flatMapDepth=cee,te.flatten=wL,te.flattenDeep=rJ,te.flattenDepth=oJ,te.flip=Ree,te.flow=Cne,te.flowRight=Ane,te.fromPairs=sJ,te.functions=Ate,te.functionsIn=Tte,te.groupBy=dee,te.initial=lJ,te.intersection=uJ,te.intersectionBy=cJ,te.intersectionWith=dJ,te.invert=Mte,te.invertBy=Rte,te.invokeMap=hee,te.iteratee=FA,te.keyBy=pee,te.keys=Ir,te.keysIn=Ko,te.map=jb,te.mapKeys=Ite,te.mapValues=Nte,te.matches=Tne,te.matchesProperty=Ene,te.memoize=qb,te.merge=Ote,te.mergeWith=WL,te.method=Mne,te.methodOf=Rne,te.mixin=$A,te.negate=Xb,te.nthArg=Ine,te.omit=Dte,te.omitBy=Lte,te.once=Pee,te.orderBy=gee,te.over=Nne,te.overArgs=Iee,te.overEvery=One,te.overSome=Dne,te.partial=PA,te.partialRight=BL,te.partition=mee,te.pick=Bte,te.pickBy=jL,te.property=JL,te.propertyOf=Lne,te.pull=gJ,te.pullAll=AL,te.pullAllBy=mJ,te.pullAllWith=vJ,te.pullAt=yJ,te.range=Bne,te.rangeRight=Fne,te.rearg=Nee,te.reject=bee,te.remove=bJ,te.rest=Oee,te.reverse=EA,te.sampleSize=_ee,te.set=$te,te.setWith=Ute,te.shuffle=See,te.slice=xJ,te.sortBy=Aee,te.sortedUniq=EJ,te.sortedUniqBy=MJ,te.split=lne,te.spread=Dee,te.tail=RJ,te.take=PJ,te.takeRight=IJ,te.takeRightWhile=NJ,te.takeWhile=OJ,te.tap=qJ,te.throttle=Lee,te.thru=Wb,te.toArray=zL,te.toPairs=KL,te.toPairsIn=qL,te.toPath=Hne,te.toPlainObject=GL,te.transform=kte,te.unary=Bee,te.union=DJ,te.unionBy=LJ,te.unionWith=BJ,te.uniq=FJ,te.uniqBy=$J,te.uniqWith=UJ,te.unset=zte,te.unzip=MA,te.unzipWith=TL,te.update=Hte,te.updateWith=Gte,te.values=rp,te.valuesIn=Vte,te.without=kJ,te.words=QL,te.wrap=Fee,te.xor=zJ,te.xorBy=HJ,te.xorWith=GJ,te.zip=VJ,te.zipObject=WJ,te.zipObjectDeep=jJ,te.zipWith=KJ,te.entries=KL,te.entriesIn=qL,te.extend=VL,te.extendWith=Zb,$A(te,te),te.add=Vne,te.attempt=ZL,te.camelCase=qte,te.capitalize=XL,te.ceil=Wne,te.clamp=Wte,te.clone=Uee,te.cloneDeep=zee,te.cloneDeepWith=Hee,te.cloneWith=kee,te.conformsTo=Gee,te.deburr=YL,te.defaultTo=wne,te.divide=jne,te.endsWith=Xte,te.eq=Ra,te.escape=Yte,te.escapeRegExp=Qte,te.every=ree,te.find=see,te.findIndex=_L,te.findKey=bte,te.findLast=aee,te.findLastIndex=SL,te.findLastKey=xte,te.floor=Kne,te.forEach=ML,te.forEachRight=RL,te.forIn=_te,te.forInRight=Ste,te.forOwn=wte,te.forOwnRight=Cte,te.get=OA,te.gt=Vee,te.gte=Wee,te.has=Ete,te.hasIn=DA,te.head=CL,te.identity=qo,te.includes=fee,te.indexOf=aJ,te.inRange=jte,te.invoke=Pte,te.isArguments=ff,te.isArray=cn,te.isArrayBuffer=jee,te.isArrayLike=jo,te.isArrayLikeObject=Yi,te.isBoolean=Kee,te.isBuffer=Vc,te.isDate=qee,te.isElement=Xee,te.isEmpty=Yee,te.isEqual=Qee,te.isEqualWith=Zee,te.isError=IA,te.isFinite=Jee,te.isFunction=uu,te.isInteger=FL,te.isLength=Yb,te.isMap=$L,te.isMatch=ete,te.isMatchWith=tte,te.isNaN=nte,te.isNative=ite,te.isNil=ote,te.isNull=rte,te.isNumber=UL,te.isObject=$i,te.isObjectLike=Wi,te.isPlainObject=sv,te.isRegExp=NA,te.isSafeInteger=ste,te.isSet=kL,te.isString=Qb,te.isSymbol=bs,te.isTypedArray=ip,te.isUndefined=ate,te.isWeakMap=lte,te.isWeakSet=ute,te.join=fJ,te.kebabCase=Zte,te.last=Qs,te.lastIndexOf=hJ,te.lowerCase=Jte,te.lowerFirst=ene,te.lt=cte,te.lte=dte,te.max=qne,te.maxBy=Xne,te.mean=Yne,te.meanBy=Qne,te.min=Zne,te.minBy=Jne,te.stubArray=kA,te.stubFalse=zA,te.stubObject=$ne,te.stubString=Une,te.stubTrue=kne,te.multiply=eie,te.nth=pJ,te.noConflict=Pne,te.noop=UA,te.now=Kb,te.pad=tne,te.padEnd=nne,te.padStart=ine,te.parseInt=rne,te.random=Kte,te.reduce=vee,te.reduceRight=yee,te.repeat=one,te.replace=sne,te.result=Fte,te.round=tie,te.runInContext=De,te.sample=xee,te.size=wee,te.snakeCase=ane,te.some=Cee,te.sortedIndex=_J,te.sortedIndexBy=SJ,te.sortedIndexOf=wJ,te.sortedLastIndex=CJ,te.sortedLastIndexBy=AJ,te.sortedLastIndexOf=TJ,te.startCase=une,te.startsWith=cne,te.subtract=nie,te.sum=iie,te.sumBy=rie,te.template=dne,te.times=zne,te.toFinite=cu,te.toInteger=bn,te.toLength=HL,te.toLower=fne,te.toNumber=Zs,te.toSafeInteger=fte,te.toString=Yn,te.toUpper=hne,te.trim=pne,te.trimEnd=gne,te.trimStart=mne,te.truncate=vne,te.unescape=yne,te.uniqueId=Gne,te.upperCase=bne,te.upperFirst=LA,te.each=ML,te.eachRight=RL,te.first=CL,$A(te,function(){var v={};return cl(te,function(x,M){ti.call(te.prototype,M)||(v[M]=x)}),v}(),{chain:!1}),te.VERSION=r,js(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){te[v].placeholder=te}),js(["drop","take"],function(v,x){Ln.prototype[v]=function(M){M=M===i?1:yr(bn(M),0);var B=this.__filtered__&&!x?new Ln(this):this.clone();return B.__filtered__?B.__takeCount__=Yr(M,B.__takeCount__):B.__views__.push({size:Yr(M,Z),type:v+(B.__dir__<0?"Right":"")}),B},Ln.prototype[v+"Right"]=function(M){return this.reverse()[v](M).reverse()}}),js(["filter","map","takeWhile"],function(v,x){var M=x+1,B=M==L||M==U;Ln.prototype[v]=function(q){var ae=this.clone();return ae.__iteratees__.push({iteratee:zt(q,3),type:M}),ae.__filtered__=ae.__filtered__||B,ae}}),js(["head","last"],function(v,x){var M="take"+(x?"Right":"");Ln.prototype[v]=function(){return this[M](1).value()[0]}}),js(["initial","tail"],function(v,x){var M="drop"+(x?"":"Right");Ln.prototype[v]=function(){return this.__filtered__?new Ln(this):this[M](1)}}),Ln.prototype.compact=function(){return this.filter(qo)},Ln.prototype.find=function(v){return this.filter(v).head()},Ln.prototype.findLast=function(v){return this.reverse().find(v)},Ln.prototype.invokeMap=En(function(v,x){return typeof v=="function"?new Ln(this):this.map(function(M){return ev(M,v,x)})}),Ln.prototype.reject=function(v){return this.filter(Xb(zt(v)))},Ln.prototype.slice=function(v,x){v=bn(v);var M=this;return M.__filtered__&&(v>0||x<0)?new Ln(M):(v<0?M=M.takeRight(-v):v&&(M=M.drop(v)),x!==i&&(x=bn(x),M=x<0?M.dropRight(-x):M.take(x-v)),M)},Ln.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},Ln.prototype.toArray=function(){return this.take(Z)},cl(Ln.prototype,function(v,x){var M=/^(?:filter|find|map|reject)|While$/.test(x),B=/^(?:head|last)$/.test(x),q=te[B?"take"+(x=="last"?"Right":""):x],ae=B||/^find/.test(x);q&&(te.prototype[x]=function(){var ye=this.__wrapped__,Pe=B?[1]:arguments,Be=ye instanceof Ln,rt=Pe[0],st=Be||cn(ye),ft=function(In){var $n=q.apply(te,Fc([In],Pe));return B&&St?$n[0]:$n};st&&M&&typeof rt=="function"&&rt.length!=1&&(Be=st=!1);var St=this.__chain__,Lt=!!this.__actions__.length,Ht=ae&&!St,_n=Be&&!Lt;if(!ae&&st){ye=_n?ye:new Ln(this);var Gt=v.apply(ye,Pe);return Gt.__actions__.push({func:Wb,args:[ft],thisArg:i}),new qs(Gt,St)}return Ht&&_n?v.apply(this,Pe):(Gt=this.thru(ft),Ht?B?Gt.value()[0]:Gt.value():Gt)})}),js(["pop","push","shift","sort","splice","unshift"],function(v){var x=vb[v],M=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",B=/^(?:pop|shift)$/.test(v);te.prototype[v]=function(){var q=arguments;if(B&&!this.__chain__){var ae=this.value();return x.apply(cn(ae)?ae:[],q)}return this[M](function(ye){return x.apply(cn(ye)?ye:[],q)})}}),cl(Ln.prototype,function(v,x){var M=te[x];if(M){var B=M.name+"";ti.call(Zh,B)||(Zh[B]=[]),Zh[B].push({name:x,func:M})}}),Zh[$b(i,m).name]=[{name:"wrapper",func:i}],Ln.prototype.clone=yQ,Ln.prototype.reverse=bQ,Ln.prototype.value=xQ,te.prototype.at=XJ,te.prototype.chain=YJ,te.prototype.commit=QJ,te.prototype.next=ZJ,te.prototype.plant=eee,te.prototype.reverse=tee,te.prototype.toJSON=te.prototype.valueOf=te.prototype.value=nee,te.prototype.first=te.prototype.head,Km&&(te.prototype[Km]=JJ),te},Xh=QY();rf?((rf.exports=Xh)._=Xh,FC._=Xh):$r._=Xh}).call(JAe)}(iy,iy.exports)),iy.exports}var tTe=eTe();const Kc=_N(tTe);function hc(n){return Array.isArray?Array.isArray(n):R7(n)==="[object Array]"}function nTe(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function iTe(n){return n==null?"":nTe(n)}function El(n){return typeof n=="string"}function E7(n){return typeof n=="number"}function rTe(n){return n===!0||n===!1||oTe(n)&&R7(n)=="[object Boolean]"}function M7(n){return typeof n=="object"}function oTe(n){return M7(n)&&n!==null}function Ls(n){return n!=null}function tE(n){return!n.trim().length}function R7(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const sTe="Incorrect 'index' type",aTe=n=>`Invalid value for key ${n}`,lTe=n=>`Pattern length exceeds max of ${n}.`,uTe=n=>`Missing ${n} property in key`,cTe=n=>`Property 'weight' in key '${n}' must be a positive integer`,Z4=Object.prototype.hasOwnProperty;class dTe{constructor(e){this._keys=[],this._keyMap={};let i=0;e.forEach(r=>{let o=P7(r);this._keys.push(o),this._keyMap[o.id]=o,i+=o.weight}),this._keys.forEach(r=>{r.weight/=i})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function P7(n){let e=null,i=null,r=null,o=1,s=null;if(El(n)||hc(n))r=n,e=J4(n),i=FR(n);else{if(!Z4.call(n,"name"))throw new Error(uTe("name"));const a=n.name;if(r=a,Z4.call(n,"weight")&&(o=n.weight,o<=0))throw new Error(cTe(a));e=J4(a),i=FR(a),s=n.getFn}return{path:e,id:i,weight:o,src:r,getFn:s}}function J4(n){return hc(n)?n:n.split(".")}function FR(n){return hc(n)?n.join("."):n}function fTe(n,e){let i=[],r=!1;const o=(s,a,l)=>{if(Ls(s))if(!a[l])i.push(s);else{let u=a[l];const c=s[u];if(!Ls(c))return;if(l===a.length-1&&(El(c)||E7(c)||rTe(c)))i.push(iTe(c));else if(hc(c)){r=!0;for(let d=0,f=c.length;d<f;d+=1)o(c[d],a,l+1)}else a.length&&o(c,a,l+1)}};return o(n,El(e)?e.split("."):e,0),r?i:i[0]}const hTe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},pTe={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},gTe={location:0,threshold:.6,distance:100},mTe={useExtendedSearch:!1,getFn:fTe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Qt={...pTe,...hTe,...gTe,...mTe};const vTe=/[^ ]+/g;function yTe(n=1,e=3){const i=new Map,r=Math.pow(10,e);return{get(o){const s=o.match(vTe).length;if(i.has(s))return i.get(s);const a=1/Math.pow(s,.5*n),l=parseFloat(Math.round(a*r)/r);return i.set(s,l),l},clear(){i.clear()}}}class ZN{constructor({getFn:e=Qt.getFn,fieldNormWeight:i=Qt.fieldNormWeight}={}){this.norm=yTe(i,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((i,r)=>{this._keysMap[i.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,El(this.docs[0])?this.docs.forEach((e,i)=>{this._addString(e,i)}):this.docs.forEach((e,i)=>{this._addObject(e,i)}),this.norm.clear())}add(e){const i=this.size();El(e)?this._addString(e,i):this._addObject(e,i)}removeAt(e){this.records.splice(e,1);for(let i=e,r=this.size();i<r;i+=1)this.records[i].i-=1}getValueForItemAtKeyId(e,i){return e[this._keysMap[i]]}size(){return this.records.length}_addString(e,i){if(!Ls(e)||tE(e))return;let r={v:e,i,n:this.norm.get(e)};this.records.push(r)}_addObject(e,i){let r={i,$:{}};this.keys.forEach((o,s)=>{let a=o.getFn?o.getFn(e):this.getFn(e,o.path);if(Ls(a)){if(hc(a)){let l=[];const u=[{nestedArrIndex:-1,value:a}];for(;u.length;){const{nestedArrIndex:c,value:d}=u.pop();if(Ls(d))if(El(d)&&!tE(d)){let f={v:d,i:c,n:this.norm.get(d)};l.push(f)}else hc(d)&&d.forEach((f,h)=>{u.push({nestedArrIndex:h,value:f})})}r.$[s]=l}else if(El(a)&&!tE(a)){let l={v:a,n:this.norm.get(a)};r.$[s]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function I7(n,e,{getFn:i=Qt.getFn,fieldNormWeight:r=Qt.fieldNormWeight}={}){const o=new ZN({getFn:i,fieldNormWeight:r});return o.setKeys(n.map(P7)),o.setSources(e),o.create(),o}function bTe(n,{getFn:e=Qt.getFn,fieldNormWeight:i=Qt.fieldNormWeight}={}){const{keys:r,records:o}=n,s=new ZN({getFn:e,fieldNormWeight:i});return s.setKeys(r),s.setIndexRecords(o),s}function Mx(n,{errors:e=0,currentLocation:i=0,expectedLocation:r=0,distance:o=Qt.distance,ignoreLocation:s=Qt.ignoreLocation}={}){const a=e/n.length;if(s)return a;const l=Math.abs(r-i);return o?a+l/o:l?1:a}function xTe(n=[],e=Qt.minMatchCharLength){let i=[],r=-1,o=-1,s=0;for(let a=n.length;s<a;s+=1){let l=n[s];l&&r===-1?r=s:!l&&r!==-1&&(o=s-1,o-r+1>=e&&i.push([r,o]),r=-1)}return n[s-1]&&s-r>=e&&i.push([r,s-1]),i}const Vf=32;function _Te(n,e,i,{location:r=Qt.location,distance:o=Qt.distance,threshold:s=Qt.threshold,findAllMatches:a=Qt.findAllMatches,minMatchCharLength:l=Qt.minMatchCharLength,includeMatches:u=Qt.includeMatches,ignoreLocation:c=Qt.ignoreLocation}={}){if(e.length>Vf)throw new Error(lTe(Vf));const d=e.length,f=n.length,h=Math.max(0,Math.min(r,f));let p=s,g=h;const b=l>1||u,y=b?Array(f):[];let m;for(;(m=n.indexOf(e,g))>-1;){let C=Mx(e,{currentLocation:m,expectedLocation:h,distance:o,ignoreLocation:c});if(p=Math.min(C,p),g=m+d,b){let R=0;for(;R<d;)y[m+R]=1,R+=1}}g=-1;let _=[],S=1,w=d+f;const A=1<<d-1;for(let C=0;C<d;C+=1){let R=0,E=w;for(;R<E;)Mx(e,{errors:C,currentLocation:h+E,expectedLocation:h,distance:o,ignoreLocation:c})<=p?R=E:w=E,E=Math.floor((w-R)/2+R);w=E;let P=Math.max(1,h-E+1),I=a?f:Math.min(h+E,f)+d,D=Array(I+2);D[I+1]=(1<<C)-1;for(let L=I;L>=P;L-=1){let $=L-1,U=i[n.charAt($)];if(b&&(y[$]=+!!U),D[L]=(D[L+1]<<1|1)&U,C&&(D[L]|=(_[L+1]|_[L])<<1|1|_[L+1]),D[L]&A&&(S=Mx(e,{errors:C,currentLocation:$,expectedLocation:h,distance:o,ignoreLocation:c}),S<=p)){if(p=S,g=$,g<=h)break;P=Math.max(1,2*h-g)}}if(Mx(e,{errors:C+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:c})>p)break;_=D}const T={isMatch:g>=0,score:Math.max(.001,S)};if(b){const C=xTe(y,l);C.length?u&&(T.indices=C):T.isMatch=!1}return T}function STe(n){let e={};for(let i=0,r=n.length;i<r;i+=1){const o=n.charAt(i);e[o]=(e[o]||0)|1<<r-i-1}return e}class N7{constructor(e,{location:i=Qt.location,threshold:r=Qt.threshold,distance:o=Qt.distance,includeMatches:s=Qt.includeMatches,findAllMatches:a=Qt.findAllMatches,minMatchCharLength:l=Qt.minMatchCharLength,isCaseSensitive:u=Qt.isCaseSensitive,ignoreLocation:c=Qt.ignoreLocation}={}){if(this.options={location:i,threshold:r,distance:o,includeMatches:s,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(h,p)=>{this.chunks.push({pattern:h,alphabet:STe(h),startIndex:p})},f=this.pattern.length;if(f>Vf){let h=0;const p=f%Vf,g=f-p;for(;h<g;)d(this.pattern.substr(h,Vf),h),h+=Vf;if(p){const b=f-Vf;d(this.pattern.substr(b),b)}}else d(this.pattern,0)}searchIn(e){const{isCaseSensitive:i,includeMatches:r}=this.options;if(i||(e=e.toLowerCase()),this.pattern===e){let g={isMatch:!0,score:0};return r&&(g.indices=[[0,e.length-1]]),g}const{location:o,distance:s,threshold:a,findAllMatches:l,minMatchCharLength:u,ignoreLocation:c}=this.options;let d=[],f=0,h=!1;this.chunks.forEach(({pattern:g,alphabet:b,startIndex:y})=>{const{isMatch:m,score:_,indices:S}=_Te(e,g,b,{location:o+y,distance:s,threshold:a,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:c});m&&(h=!0),f+=_,m&&S&&(d=[...d,...S])});let p={isMatch:h,score:h?f/this.chunks.length:1};return h&&r&&(p.indices=d),p}}class Xd{constructor(e){this.pattern=e}static isMultiMatch(e){return ek(e,this.multiRegex)}static isSingleMatch(e){return ek(e,this.singleRegex)}search(){}}function ek(n,e){const i=n.match(e);return i?i[1]:null}class wTe extends Xd{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const i=e===this.pattern;return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class CTe extends Xd{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class ATe extends Xd{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const i=e.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class TTe extends Xd{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const i=!e.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class ETe extends Xd{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const i=e.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class MTe extends Xd{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const i=!e.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class O7 extends Xd{constructor(e,{location:i=Qt.location,threshold:r=Qt.threshold,distance:o=Qt.distance,includeMatches:s=Qt.includeMatches,findAllMatches:a=Qt.findAllMatches,minMatchCharLength:l=Qt.minMatchCharLength,isCaseSensitive:u=Qt.isCaseSensitive,ignoreLocation:c=Qt.ignoreLocation}={}){super(e),this._bitapSearch=new N7(e,{location:i,threshold:r,distance:o,includeMatches:s,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class D7 extends Xd{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let i=0,r;const o=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,i))>-1;)i=r+s,o.push([r,i-1]);const a=!!o.length;return{isMatch:a,score:a?0:1,indices:o}}}const $R=[wTe,D7,ATe,TTe,MTe,ETe,CTe,O7],tk=$R.length,RTe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,PTe="|";function ITe(n,e={}){return n.split(PTe).map(i=>{let r=i.trim().split(RTe).filter(s=>s&&!!s.trim()),o=[];for(let s=0,a=r.length;s<a;s+=1){const l=r[s];let u=!1,c=-1;for(;!u&&++c<tk;){const d=$R[c];let f=d.isMultiMatch(l);f&&(o.push(new d(f,e)),u=!0)}if(!u)for(c=-1;++c<tk;){const d=$R[c];let f=d.isSingleMatch(l);if(f){o.push(new d(f,e));break}}}return o})}const NTe=new Set([O7.type,D7.type]);class OTe{constructor(e,{isCaseSensitive:i=Qt.isCaseSensitive,includeMatches:r=Qt.includeMatches,minMatchCharLength:o=Qt.minMatchCharLength,ignoreLocation:s=Qt.ignoreLocation,findAllMatches:a=Qt.findAllMatches,location:l=Qt.location,threshold:u=Qt.threshold,distance:c=Qt.distance}={}){this.query=null,this.options={isCaseSensitive:i,includeMatches:r,minMatchCharLength:o,findAllMatches:a,ignoreLocation:s,location:l,threshold:u,distance:c},this.pattern=i?e:e.toLowerCase(),this.query=ITe(this.pattern,this.options)}static condition(e,i){return i.useExtendedSearch}searchIn(e){const i=this.query;if(!i)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let s=0,a=[],l=0;for(let u=0,c=i.length;u<c;u+=1){const d=i[u];a.length=0,s=0;for(let f=0,h=d.length;f<h;f+=1){const p=d[f],{isMatch:g,indices:b,score:y}=p.search(e);if(g){if(s+=1,l+=y,r){const m=p.constructor.type;NTe.has(m)?a=[...a,...b]:a.push(b)}}else{l=0,s=0,a.length=0;break}}if(s){let f={isMatch:!0,score:l/s};return r&&(f.indices=a),f}}return{isMatch:!1,score:1}}}const UR=[];function DTe(...n){UR.push(...n)}function kR(n,e){for(let i=0,r=UR.length;i<r;i+=1){let o=UR[i];if(o.condition(n,e))return new o(n,e)}return new N7(n,e)}const Ew={AND:"$and",OR:"$or"},zR={PATH:"$path",PATTERN:"$val"},HR=n=>!!(n[Ew.AND]||n[Ew.OR]),LTe=n=>!!n[zR.PATH],BTe=n=>!hc(n)&&M7(n)&&!HR(n),nk=n=>({[Ew.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function L7(n,e,{auto:i=!0}={}){const r=o=>{let s=Object.keys(o);const a=LTe(o);if(!a&&s.length>1&&!HR(o))return r(nk(o));if(BTe(o)){const u=a?o[zR.PATH]:s[0],c=a?o[zR.PATTERN]:o[u];if(!El(c))throw new Error(aTe(u));const d={keyId:FR(u),pattern:c};return i&&(d.searcher=kR(c,e)),d}let l={children:[],operator:s[0]};return s.forEach(u=>{const c=o[u];hc(c)&&c.forEach(d=>{l.children.push(r(d))})}),l};return HR(n)||(n=nk(n)),r(n)}function FTe(n,{ignoreFieldNorm:e=Qt.ignoreFieldNorm}){n.forEach(i=>{let r=1;i.matches.forEach(({key:o,norm:s,score:a})=>{const l=o?o.weight:null;r*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(e?1:s))}),i.score=r})}function $Te(n,e){const i=n.matches;e.matches=[],Ls(i)&&i.forEach(r=>{if(!Ls(r.indices)||!r.indices.length)return;const{indices:o,value:s}=r;let a={indices:o,value:s};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}function UTe(n,e){e.score=n.score}function kTe(n,e,{includeMatches:i=Qt.includeMatches,includeScore:r=Qt.includeScore}={}){const o=[];return i&&o.push($Te),r&&o.push(UTe),n.map(s=>{const{idx:a}=s,l={item:e[a],refIndex:a};return o.length&&o.forEach(u=>{u(s,l)}),l})}class Rm{constructor(e,i={},r){this.options={...Qt,...i},this.options.useExtendedSearch,this._keyStore=new dTe(this.options.keys),this.setCollection(e,r)}setCollection(e,i){if(this._docs=e,i&&!(i instanceof ZN))throw new Error(sTe);this._myIndex=i||I7(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ls(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const i=[];for(let r=0,o=this._docs.length;r<o;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,o-=1,i.push(s))}return i}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:i=-1}={}){const{includeMatches:r,includeScore:o,shouldSort:s,sortFn:a,ignoreFieldNorm:l}=this.options;let u=El(e)?El(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return FTe(u,{ignoreFieldNorm:l}),s&&u.sort(a),E7(i)&&i>-1&&(u=u.slice(0,i)),kTe(u,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(e){const i=kR(e,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:s,i:a,n:l})=>{if(!Ls(s))return;const{isMatch:u,score:c,indices:d}=i.searchIn(s);u&&o.push({item:s,idx:a,matches:[{score:c,value:s,norm:l,indices:d}]})}),o}_searchLogical(e){const i=L7(e,this.options),r=(l,u,c)=>{if(!l.children){const{keyId:f,searcher:h}=l,p=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(u,f),searcher:h});return p&&p.length?[{idx:c,item:u,matches:p}]:[]}const d=[];for(let f=0,h=l.children.length;f<h;f+=1){const p=l.children[f],g=r(p,u,c);if(g.length)d.push(...g);else if(l.operator===Ew.AND)return[]}return d},o=this._myIndex.records,s={},a=[];return o.forEach(({$:l,i:u})=>{if(Ls(l)){let c=r(i,l,u);c.length&&(s[u]||(s[u]={idx:u,item:l,matches:[]},a.push(s[u])),c.forEach(({matches:d})=>{s[u].matches.push(...d)}))}}),a}_searchObjectList(e){const i=kR(e,this.options),{keys:r,records:o}=this._myIndex,s=[];return o.forEach(({$:a,i:l})=>{if(!Ls(a))return;let u=[];r.forEach((c,d)=>{u.push(...this._findMatches({key:c,value:a[d],searcher:i}))}),u.length&&s.push({idx:l,item:a,matches:u})}),s}_findMatches({key:e,value:i,searcher:r}){if(!Ls(i))return[];let o=[];if(hc(i))i.forEach(({v:s,i:a,n:l})=>{if(!Ls(s))return;const{isMatch:u,score:c,indices:d}=r.searchIn(s);u&&o.push({score:c,key:e,value:s,idx:a,norm:l,indices:d})});else{const{v:s,n:a}=i,{isMatch:l,score:u,indices:c}=r.searchIn(s);l&&o.push({score:u,key:e,value:s,norm:a,indices:c})}return o}}Rm.version="7.0.0";Rm.createIndex=I7;Rm.parseIndex=bTe;Rm.config=Qt;Rm.parseQuery=L7;DTe(OTe);const ik=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"title",title:"title"},{ellipsis:!0,dataIndex:"type",title:"type"},{ellipsis:!0,dataIndex:"description",title:"description"},{ellipsis:!0,dataIndex:"text_unit_ids",title:"text_unit_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n}],zTe=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"source",title:"source"},{ellipsis:!0,dataIndex:"target",title:"target"},{ellipsis:!0,dataIndex:"description",title:"description"},{ellipsis:!0,dataIndex:"weight",title:"weight"},{ellipsis:!0,dataIndex:"text_unit_ids",title:"text_unit_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"combined_degree",title:"combined_degree"},{ellipsis:!0,dataIndex:"type",title:"type"}],HTe=[{ellipsis:!0,dataIndex:"source",title:"source"},{ellipsis:!0,dataIndex:"target",title:"target"},{ellipsis:!0,dataIndex:"combined_degree",title:"combined_degree"},{ellipsis:!0,dataIndex:"type",title:"type"},{ellipsis:!0,dataIndex:"weight",title:"weight"},{ellipsis:!0,dataIndex:"description",title:"description"},{ellipsis:!0,dataIndex:"text_unit_ids",title:"text_unit_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"source_degree",title:"source_degree"},{ellipsis:!0,dataIndex:"target_degree",title:"target_degree"},{ellipsis:!0,dataIndex:"combined_degree",title:"combined_degree"},{ellipsis:!0,dataIndex:"rank",title:"rank"}],GTe=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"title",title:"title"},{ellipsis:!0,dataIndex:"text",title:"text"},{ellipsis:!0,dataIndex:"text_unit_ids",title:"text_unit_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n}],VTe=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"text",title:"text"},{ellipsis:!0,dataIndex:"n_tokens",title:"n_tokens"},{ellipsis:!0,dataIndex:"document_ids",title:"document_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"entity_ids",title:"entity_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"relationship_ids",title:"relationship_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n}],WTe=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"community",title:"community"},{ellipsis:!0,dataIndex:"parent",title:"parent"},{ellipsis:!0,dataIndex:"level",title:"level"},{ellipsis:!0,dataIndex:"title",title:"title"},{ellipsis:!0,dataIndex:"entity_ids",title:"entity_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"relationship_ids",title:"relationship_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"text_unit_ids",title:"text_unit_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"period",title:"period"},{ellipsis:!0,dataIndex:"size",title:"size"}],jTe=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"covariate_type",title:"covariate_type"},{ellipsis:!0,dataIndex:"type",title:"type"},{ellipsis:!0,dataIndex:"description",title:"description"},{ellipsis:!0,dataIndex:"subject_id",title:"subject_id"},{ellipsis:!0,dataIndex:"object_id",title:"object_id"},{ellipsis:!0,dataIndex:"status",title:"status"},{ellipsis:!0,dataIndex:"start_date",title:"start_date"},{ellipsis:!0,dataIndex:"end_date",title:"end_date"},{ellipsis:!0,dataIndex:"source_text",title:"source_text"},{ellipsis:!0,dataIndex:"text_unit_id",title:"text_unit_id"}],KTe=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"community",title:"community"},{ellipsis:!0,dataIndex:"parent",title:"parent"},{ellipsis:!0,dataIndex:"level",title:"level"},{ellipsis:!0,dataIndex:"title",title:"title"},{ellipsis:!0,dataIndex:"summary",title:"summary"},{ellipsis:!0,dataIndex:"full_content",title:"full_content"},{ellipsis:!0,dataIndex:"rank",title:"rank"},{ellipsis:!0,dataIndex:"rank_explanation",title:"rank_explanation"},{ellipsis:!0,dataIndex:"findings",title:"findings",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"full_content_json",title:"full_content_json"},{ellipsis:!0,dataIndex:"period",title:"period"},{ellipsis:!0,dataIndex:"size",title:"size"}];var GR="http://www.w3.org/1999/xhtml";const rk={svg:"http://www.w3.org/2000/svg",xhtml:GR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tC(n){var e=n+="",i=e.indexOf(":");return i>=0&&(e=n.slice(0,i))!=="xmlns"&&(n=n.slice(i+1)),rk.hasOwnProperty(e)?{space:rk[e],local:n}:n}function qTe(n){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===GR&&e.documentElement.namespaceURI===GR?e.createElement(n):e.createElementNS(i,n)}}function XTe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function B7(n){var e=tC(n);return(e.local?XTe:qTe)(e)}function YTe(){}function JN(n){return n==null?YTe:function(){return this.querySelector(n)}}function QTe(n){typeof n!="function"&&(n=JN(n));for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o)for(var s=e[o],a=s.length,l=r[o]=new Array(a),u,c,d=0;d<a;++d)(u=s[d])&&(c=n.call(u,u.__data__,d,s))&&("__data__"in u&&(c.__data__=u.__data__),l[d]=c);return new zs(r,this._parents)}function ZTe(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function JTe(){return[]}function F7(n){return n==null?JTe:function(){return this.querySelectorAll(n)}}function eEe(n){return function(){return ZTe(n.apply(this,arguments))}}function tEe(n){typeof n=="function"?n=eEe(n):n=F7(n);for(var e=this._groups,i=e.length,r=[],o=[],s=0;s<i;++s)for(var a=e[s],l=a.length,u,c=0;c<l;++c)(u=a[c])&&(r.push(n.call(u,u.__data__,c,a)),o.push(u));return new zs(r,o)}function $7(n){return function(){return this.matches(n)}}function U7(n){return function(e){return e.matches(n)}}var nEe=Array.prototype.find;function iEe(n){return function(){return nEe.call(this.children,n)}}function rEe(){return this.firstElementChild}function oEe(n){return this.select(n==null?rEe:iEe(typeof n=="function"?n:U7(n)))}var sEe=Array.prototype.filter;function aEe(){return Array.from(this.children)}function lEe(n){return function(){return sEe.call(this.children,n)}}function uEe(n){return this.selectAll(n==null?aEe:lEe(typeof n=="function"?n:U7(n)))}function cEe(n){typeof n!="function"&&(n=$7(n));for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o)for(var s=e[o],a=s.length,l=r[o]=[],u,c=0;c<a;++c)(u=s[c])&&n.call(u,u.__data__,c,s)&&l.push(u);return new zs(r,this._parents)}function k7(n){return new Array(n.length)}function dEe(){return new zs(this._enter||this._groups.map(k7),this._parents)}function Mw(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Mw.prototype={constructor:Mw,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function fEe(n){return function(){return n}}function hEe(n,e,i,r,o,s){for(var a=0,l,u=e.length,c=s.length;a<c;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):i[a]=new Mw(n,s[a]);for(;a<u;++a)(l=e[a])&&(o[a]=l)}function pEe(n,e,i,r,o,s,a){var l,u,c=new Map,d=e.length,f=s.length,h=new Array(d),p;for(l=0;l<d;++l)(u=e[l])&&(h[l]=p=a.call(u,u.__data__,l,e)+"",c.has(p)?o[l]=u:c.set(p,u));for(l=0;l<f;++l)p=a.call(n,s[l],l,s)+"",(u=c.get(p))?(r[l]=u,u.__data__=s[l],c.delete(p)):i[l]=new Mw(n,s[l]);for(l=0;l<d;++l)(u=e[l])&&c.get(h[l])===u&&(o[l]=u)}function gEe(n){return n.__data__}function mEe(n,e){if(!arguments.length)return Array.from(this,gEe);var i=e?pEe:hEe,r=this._parents,o=this._groups;typeof n!="function"&&(n=fEe(n));for(var s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var d=r[c],f=o[c],h=f.length,p=vEe(n.call(d,d&&d.__data__,c,r)),g=p.length,b=l[c]=new Array(g),y=a[c]=new Array(g),m=u[c]=new Array(h);i(d,f,b,y,m,p,e);for(var _=0,S=0,w,A;_<g;++_)if(w=b[_]){for(_>=S&&(S=_+1);!(A=y[S])&&++S<g;);w._next=A||null}}return a=new zs(a,r),a._enter=l,a._exit=u,a}function vEe(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function yEe(){return new zs(this._exit||this._groups.map(k7),this._parents)}function bEe(n,e,i){var r=this.enter(),o=this,s=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(o=e(o),o&&(o=o.selection())),i==null?s.remove():i(s),r&&o?r.merge(o).order():o}function xEe(n){for(var e=n.selection?n.selection():n,i=this._groups,r=e._groups,o=i.length,s=r.length,a=Math.min(o,s),l=new Array(o),u=0;u<a;++u)for(var c=i[u],d=r[u],f=c.length,h=l[u]=new Array(f),p,g=0;g<f;++g)(p=c[g]||d[g])&&(h[g]=p);for(;u<o;++u)l[u]=i[u];return new zs(l,this._parents)}function _Ee(){for(var n=this._groups,e=-1,i=n.length;++e<i;)for(var r=n[e],o=r.length-1,s=r[o],a;--o>=0;)(a=r[o])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function SEe(n){n||(n=wEe);function e(f,h){return f&&h?n(f.__data__,h.__data__):!f-!h}for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s){for(var a=i[s],l=a.length,u=o[s]=new Array(l),c,d=0;d<l;++d)(c=a[d])&&(u[d]=c);u.sort(e)}return new zs(o,this._parents).order()}function wEe(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function CEe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function AEe(){return Array.from(this)}function TEe(){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,s=r.length;o<s;++o){var a=r[o];if(a)return a}return null}function EEe(){let n=0;for(const e of this)++n;return n}function MEe(){return!this.node()}function REe(n){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var o=e[i],s=0,a=o.length,l;s<a;++s)(l=o[s])&&n.call(l,l.__data__,s,o);return this}function PEe(n){return function(){this.removeAttribute(n)}}function IEe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function NEe(n,e){return function(){this.setAttribute(n,e)}}function OEe(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function DEe(n,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}}function LEe(n,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}}function BEe(n,e){var i=tC(n);if(arguments.length<2){var r=this.node();return i.local?r.getAttributeNS(i.space,i.local):r.getAttribute(i)}return this.each((e==null?i.local?IEe:PEe:typeof e=="function"?i.local?LEe:DEe:i.local?OEe:NEe)(i,e))}function z7(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function FEe(n){return function(){this.style.removeProperty(n)}}function $Ee(n,e,i){return function(){this.style.setProperty(n,e,i)}}function UEe(n,e,i){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,i)}}function kEe(n,e,i){return arguments.length>1?this.each((e==null?FEe:typeof e=="function"?UEe:$Ee)(n,e,i??"")):Zg(this.node(),n)}function Zg(n,e){return n.style.getPropertyValue(e)||z7(n).getComputedStyle(n,null).getPropertyValue(e)}function zEe(n){return function(){delete this[n]}}function HEe(n,e){return function(){this[n]=e}}function GEe(n,e){return function(){var i=e.apply(this,arguments);i==null?delete this[n]:this[n]=i}}function VEe(n,e){return arguments.length>1?this.each((e==null?zEe:typeof e=="function"?GEe:HEe)(n,e)):this.node()[n]}function H7(n){return n.trim().split(/^|\s+/)}function eO(n){return n.classList||new G7(n)}function G7(n){this._node=n,this._names=H7(n.getAttribute("class")||"")}G7.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function V7(n,e){for(var i=eO(n),r=-1,o=e.length;++r<o;)i.add(e[r])}function W7(n,e){for(var i=eO(n),r=-1,o=e.length;++r<o;)i.remove(e[r])}function WEe(n){return function(){V7(this,n)}}function jEe(n){return function(){W7(this,n)}}function KEe(n,e){return function(){(e.apply(this,arguments)?V7:W7)(this,n)}}function qEe(n,e){var i=H7(n+"");if(arguments.length<2){for(var r=eO(this.node()),o=-1,s=i.length;++o<s;)if(!r.contains(i[o]))return!1;return!0}return this.each((typeof e=="function"?KEe:e?WEe:jEe)(i,e))}function XEe(){this.textContent=""}function YEe(n){return function(){this.textContent=n}}function QEe(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function ZEe(n){return arguments.length?this.each(n==null?XEe:(typeof n=="function"?QEe:YEe)(n)):this.node().textContent}function JEe(){this.innerHTML=""}function eMe(n){return function(){this.innerHTML=n}}function tMe(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function nMe(n){return arguments.length?this.each(n==null?JEe:(typeof n=="function"?tMe:eMe)(n)):this.node().innerHTML}function iMe(){this.nextSibling&&this.parentNode.appendChild(this)}function rMe(){return this.each(iMe)}function oMe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sMe(){return this.each(oMe)}function aMe(n){var e=typeof n=="function"?n:B7(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function lMe(){return null}function uMe(n,e){var i=typeof n=="function"?n:B7(n),r=e==null?lMe:typeof e=="function"?e:JN(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),r.apply(this,arguments)||null)})}function cMe(){var n=this.parentNode;n&&n.removeChild(this)}function dMe(){return this.each(cMe)}function fMe(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function hMe(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function pMe(n){return this.select(n?hMe:fMe)}function gMe(n){return arguments.length?this.property("__data__",n):this.node().__data__}function mMe(n){return function(e){n.call(this,e,this.__data__)}}function vMe(n){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");return r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),{type:e,name:i}})}function yMe(n){return function(){var e=this.__on;if(e){for(var i=0,r=-1,o=e.length,s;i<o;++i)s=e[i],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function bMe(n,e,i){return function(){var r=this.__on,o,s=mMe(e);if(r){for(var a=0,l=r.length;a<l;++a)if((o=r[a]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=i),o.value=e;return}}this.addEventListener(n.type,s,i),o={type:n.type,name:n.name,value:e,listener:s,options:i},r?r.push(o):this.__on=[o]}}function xMe(n,e,i){var r=vMe(n+""),o,s=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,d;u<c;++u)for(o=0,d=l[u];o<s;++o)if((a=r[o]).type===d.type&&a.name===d.name)return d.value}return}for(l=e?bMe:yMe,o=0;o<s;++o)this.each(l(r[o],e,i));return this}function j7(n,e,i){var r=z7(n),o=r.CustomEvent;typeof o=="function"?o=new o(e,i):(o=r.document.createEvent("Event"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),n.dispatchEvent(o)}function _Me(n,e){return function(){return j7(this,n,e)}}function SMe(n,e){return function(){return j7(this,n,e.apply(this,arguments))}}function wMe(n,e){return this.each((typeof e=="function"?SMe:_Me)(n,e))}function*CMe(){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,s=r.length,a;o<s;++o)(a=r[o])&&(yield a)}var K7=[null];function zs(n,e){this._groups=n,this._parents=e}function Z0(){return new zs([[document.documentElement]],K7)}function AMe(){return this}zs.prototype=Z0.prototype={constructor:zs,select:QTe,selectAll:tEe,selectChild:oEe,selectChildren:uEe,filter:cEe,data:mEe,enter:dEe,exit:yEe,join:bEe,merge:xEe,selection:AMe,order:_Ee,sort:SEe,call:CEe,nodes:AEe,node:TEe,size:EEe,empty:MEe,each:REe,attr:BEe,style:kEe,property:VEe,classed:qEe,text:ZEe,html:nMe,raise:rMe,lower:sMe,append:aMe,insert:uMe,remove:dMe,clone:pMe,datum:gMe,on:xMe,dispatch:wMe,[Symbol.iterator]:CMe};function ua(n){return typeof n=="string"?new zs([[document.querySelector(n)]],[document.documentElement]):new zs([[n]],K7)}function TMe(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Sl(n,e){if(n=TMe(n),e===void 0&&(e=n.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var r=i.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[n.clientX-o.left-e.clientLeft,n.clientY-o.top-e.clientTop]}}return[n.pageX,n.pageY]}var EMe={value:()=>{}};function J0(){for(var n=0,e=arguments.length,i={},r;n<e;++n){if(!(r=arguments[n]+"")||r in i||/[\s.]/.test(r))throw new Error("illegal type: "+r);i[r]=[]}return new TS(i)}function TS(n){this._=n}function MMe(n,e){return n.trim().split(/^|\s+/).map(function(i){var r="",o=i.indexOf(".");if(o>=0&&(r=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:r}})}TS.prototype=J0.prototype={constructor:TS,on:function(n,e){var i=this._,r=MMe(n+"",i),o,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((o=(n=r[s]).type)&&(o=RMe(i[o],n.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(o=(n=r[s]).type)i[o]=ok(i[o],n.name,e);else if(e==null)for(o in i)i[o]=ok(i[o],n.name,null);return this},copy:function(){var n={},e=this._;for(var i in e)n[i]=e[i].slice();return new TS(n)},call:function(n,e){if((o=arguments.length-2)>0)for(var i=new Array(o),r=0,o,s;r<o;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],r=0,o=s.length;r<o;++r)s[r].value.apply(e,i)},apply:function(n,e,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],o=0,s=r.length;o<s;++o)r[o].value.apply(e,i)}};function RMe(n,e){for(var i=0,r=n.length,o;i<r;++i)if((o=n[i]).name===e)return o.value}function ok(n,e,i){for(var r=0,o=n.length;r<o;++r)if(n[r].name===e){n[r]=EMe,n=n.slice(0,r).concat(n.slice(r+1));break}return i!=null&&n.push({name:e,value:i}),n}const PMe={passive:!1},i0={capture:!0,passive:!1};function nE(n){n.stopImmediatePropagation()}function Pg(n){n.preventDefault(),n.stopImmediatePropagation()}function q7(n){var e=n.document.documentElement,i=ua(n).on("dragstart.drag",Pg,i0);"onselectstart"in e?i.on("selectstart.drag",Pg,i0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function X7(n,e){var i=n.document.documentElement,r=ua(n).on("dragstart.drag",null);e&&(r.on("click.drag",Pg,i0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in i?r.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Rx=n=>()=>n;function VR(n,{sourceEvent:e,subject:i,target:r,identifier:o,active:s,x:a,y:l,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}VR.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function IMe(n){return!n.ctrlKey&&!n.button}function NMe(){return this.parentNode}function OMe(n,e){return e??{x:n.x,y:n.y}}function DMe(){return navigator.maxTouchPoints||"ontouchstart"in this}function LMe(){var n=IMe,e=NMe,i=OMe,r=DMe,o={},s=J0("start","drag","end"),a=0,l,u,c,d,f=0;function h(w){w.on("mousedown.drag",p).filter(r).on("touchstart.drag",y).on("touchmove.drag",m,PMe).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(w,A){if(!(d||!n.call(this,w,A))){var T=S(this,e.call(this,w,A),w,A,"mouse");T&&(ua(w.view).on("mousemove.drag",g,i0).on("mouseup.drag",b,i0),q7(w.view),nE(w),c=!1,l=w.clientX,u=w.clientY,T("start",w))}}function g(w){if(Pg(w),!c){var A=w.clientX-l,T=w.clientY-u;c=A*A+T*T>f}o.mouse("drag",w)}function b(w){ua(w.view).on("mousemove.drag mouseup.drag",null),X7(w.view,c),Pg(w),o.mouse("end",w)}function y(w,A){if(n.call(this,w,A)){var T=w.changedTouches,C=e.call(this,w,A),R=T.length,E,P;for(E=0;E<R;++E)(P=S(this,C,w,A,T[E].identifier,T[E]))&&(nE(w),P("start",w,T[E]))}}function m(w){var A=w.changedTouches,T=A.length,C,R;for(C=0;C<T;++C)(R=o[A[C].identifier])&&(Pg(w),R("drag",w,A[C]))}function _(w){var A=w.changedTouches,T=A.length,C,R;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<T;++C)(R=o[A[C].identifier])&&(nE(w),R("end",w,A[C]))}function S(w,A,T,C,R,E){var P=s.copy(),I=Sl(E||T,A),D,F,L;if((L=i.call(w,new VR("beforestart",{sourceEvent:T,target:h,identifier:R,active:a,x:I[0],y:I[1],dx:0,dy:0,dispatch:P}),C))!=null)return D=L.x-I[0]||0,F=L.y-I[1]||0,function $(U,k,H){var z=I,Q;switch(U){case"start":o[R]=$,Q=a++;break;case"end":delete o[R],--a;case"drag":I=Sl(H||k,A),Q=a;break}P.call(U,w,new VR(U,{sourceEvent:k,subject:L,target:h,identifier:R,active:Q,x:I[0]+D,y:I[1]+F,dx:I[0]-z[0],dy:I[1]-z[1],dispatch:P}),C)}}return h.filter=function(w){return arguments.length?(n=typeof w=="function"?w:Rx(!!w),h):n},h.container=function(w){return arguments.length?(e=typeof w=="function"?w:Rx(w),h):e},h.subject=function(w){return arguments.length?(i=typeof w=="function"?w:Rx(w),h):i},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Rx(!!w),h):r},h.on=function(){var w=s.on.apply(s,arguments);return w===s?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}function tO(n,e,i){n.prototype=e.prototype=i,i.constructor=n}function Y7(n,e){var i=Object.create(n.prototype);for(var r in e)i[r]=e[r];return i}function eb(){}var r0=.7,Rw=1/r0,Ig="\\s*([+-]?\\d+)\\s*",o0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BMe=/^#([0-9a-f]{3,8})$/,FMe=new RegExp(`^rgb\\(${Ig},${Ig},${Ig}\\)$`),$Me=new RegExp(`^rgb\\(${Dl},${Dl},${Dl}\\)$`),UMe=new RegExp(`^rgba\\(${Ig},${Ig},${Ig},${o0}\\)$`),kMe=new RegExp(`^rgba\\(${Dl},${Dl},${Dl},${o0}\\)$`),zMe=new RegExp(`^hsl\\(${o0},${Dl},${Dl}\\)$`),HMe=new RegExp(`^hsla\\(${o0},${Dl},${Dl},${o0}\\)$`),sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tO(eb,s0,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:ak,formatHex:ak,formatHex8:GMe,formatHsl:VMe,formatRgb:lk,toString:lk});function ak(){return this.rgb().formatHex()}function GMe(){return this.rgb().formatHex8()}function VMe(){return Q7(this).formatHsl()}function lk(){return this.rgb().formatRgb()}function s0(n){var e,i;return n=(n+"").trim().toLowerCase(),(e=BMe.exec(n))?(i=e[1].length,e=parseInt(e[1],16),i===6?uk(e):i===3?new ns(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?Px(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?Px(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=FMe.exec(n))?new ns(e[1],e[2],e[3],1):(e=$Me.exec(n))?new ns(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=UMe.exec(n))?Px(e[1],e[2],e[3],e[4]):(e=kMe.exec(n))?Px(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zMe.exec(n))?fk(e[1],e[2]/100,e[3]/100,1):(e=HMe.exec(n))?fk(e[1],e[2]/100,e[3]/100,e[4]):sk.hasOwnProperty(n)?uk(sk[n]):n==="transparent"?new ns(NaN,NaN,NaN,0):null}function uk(n){return new ns(n>>16&255,n>>8&255,n&255,1)}function Px(n,e,i,r){return r<=0&&(n=e=i=NaN),new ns(n,e,i,r)}function WMe(n){return n instanceof eb||(n=s0(n)),n?(n=n.rgb(),new ns(n.r,n.g,n.b,n.opacity)):new ns}function WR(n,e,i,r){return arguments.length===1?WMe(n):new ns(n,e,i,r??1)}function ns(n,e,i,r){this.r=+n,this.g=+e,this.b=+i,this.opacity=+r}tO(ns,WR,Y7(eb,{brighter(n){return n=n==null?Rw:Math.pow(Rw,n),new ns(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?r0:Math.pow(r0,n),new ns(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ns(uh(this.r),uh(this.g),uh(this.b),Pw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ck,formatHex:ck,formatHex8:jMe,formatRgb:dk,toString:dk}));function ck(){return`#${eh(this.r)}${eh(this.g)}${eh(this.b)}`}function jMe(){return`#${eh(this.r)}${eh(this.g)}${eh(this.b)}${eh((isNaN(this.opacity)?1:this.opacity)*255)}`}function dk(){const n=Pw(this.opacity);return`${n===1?"rgb(":"rgba("}${uh(this.r)}, ${uh(this.g)}, ${uh(this.b)}${n===1?")":`, ${n})`}`}function Pw(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function uh(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function eh(n){return n=uh(n),(n<16?"0":"")+n.toString(16)}function fk(n,e,i,r){return r<=0?n=e=i=NaN:i<=0||i>=1?n=e=NaN:e<=0&&(n=NaN),new ja(n,e,i,r)}function Q7(n){if(n instanceof ja)return new ja(n.h,n.s,n.l,n.opacity);if(n instanceof eb||(n=s0(n)),!n)return new ja;if(n instanceof ja)return n;n=n.rgb();var e=n.r/255,i=n.g/255,r=n.b/255,o=Math.min(e,i,r),s=Math.max(e,i,r),a=NaN,l=s-o,u=(s+o)/2;return l?(e===s?a=(i-r)/l+(i<r)*6:i===s?a=(r-e)/l+2:a=(e-i)/l+4,l/=u<.5?s+o:2-s-o,a*=60):l=u>0&&u<1?0:a,new ja(a,l,u,n.opacity)}function KMe(n,e,i,r){return arguments.length===1?Q7(n):new ja(n,e,i,r??1)}function ja(n,e,i,r){this.h=+n,this.s=+e,this.l=+i,this.opacity=+r}tO(ja,KMe,Y7(eb,{brighter(n){return n=n==null?Rw:Math.pow(Rw,n),new ja(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?r0:Math.pow(r0,n),new ja(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*e,o=2*i-r;return new ns(iE(n>=240?n-240:n+120,o,r),iE(n,o,r),iE(n<120?n+240:n-120,o,r),this.opacity)},clamp(){return new ja(hk(this.h),Ix(this.s),Ix(this.l),Pw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Pw(this.opacity);return`${n===1?"hsl(":"hsla("}${hk(this.h)}, ${Ix(this.s)*100}%, ${Ix(this.l)*100}%${n===1?")":`, ${n})`}`}}));function hk(n){return n=(n||0)%360,n<0?n+360:n}function Ix(n){return Math.max(0,Math.min(1,n||0))}function iE(n,e,i){return(n<60?e+(i-e)*n/60:n<180?i:n<240?e+(i-e)*(240-n)/60:e)*255}const Z7=n=>()=>n;function qMe(n,e){return function(i){return n+i*e}}function XMe(n,e,i){return n=Math.pow(n,i),e=Math.pow(e,i)-n,i=1/i,function(r){return Math.pow(n+r*e,i)}}function YMe(n){return(n=+n)==1?J7:function(e,i){return i-e?XMe(e,i,n):Z7(isNaN(e)?i:e)}}function J7(n,e){var i=e-n;return i?qMe(n,i):Z7(isNaN(n)?e:n)}const pk=function n(e){var i=YMe(e);function r(o,s){var a=i((o=WR(o)).r,(s=WR(s)).r),l=i(o.g,s.g),u=i(o.b,s.b),c=J7(o.opacity,s.opacity);return function(d){return o.r=a(d),o.g=l(d),o.b=u(d),o.opacity=c(d),o+""}}return r.gamma=n,r}(1);function vd(n,e){return n=+n,e=+e,function(i){return n*(1-i)+e*i}}var jR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rE=new RegExp(jR.source,"g");function QMe(n){return function(){return n}}function ZMe(n){return function(e){return n(e)+""}}function JMe(n,e){var i=jR.lastIndex=rE.lastIndex=0,r,o,s,a=-1,l=[],u=[];for(n=n+"",e=e+"";(r=jR.exec(n))&&(o=rE.exec(e));)(s=o.index)>i&&(s=e.slice(i,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:vd(r,o)})),i=rE.lastIndex;return i<e.length&&(s=e.slice(i),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?ZMe(u[0].x):QMe(e):(e=u.length,function(c){for(var d=0,f;d<e;++d)l[(f=u[d]).i]=f.x(c);return l.join("")})}var gk=180/Math.PI,KR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ej(n,e,i,r,o,s){var a,l,u;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(u=n*i+e*r)&&(i-=n*u,r-=e*u),(l=Math.sqrt(i*i+r*r))&&(i/=l,r/=l,u/=l),n*r<e*i&&(n=-n,e=-e,u=-u,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(e,n)*gk,skewX:Math.atan(u)*gk,scaleX:a,scaleY:l}}var Nx;function e2e(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?KR:ej(e.a,e.b,e.c,e.d,e.e,e.f)}function t2e(n){return n==null||(Nx||(Nx=document.createElementNS("http://www.w3.org/2000/svg","g")),Nx.setAttribute("transform",n),!(n=Nx.transform.baseVal.consolidate()))?KR:(n=n.matrix,ej(n.a,n.b,n.c,n.d,n.e,n.f))}function tj(n,e,i,r){function o(c){return c.length?c.pop()+" ":""}function s(c,d,f,h,p,g){if(c!==f||d!==h){var b=p.push("translate(",null,e,null,i);g.push({i:b-4,x:vd(c,f)},{i:b-2,x:vd(d,h)})}else(f||h)&&p.push("translate("+f+e+h+i)}function a(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(o(f)+"rotate(",null,r)-2,x:vd(c,d)})):d&&f.push(o(f)+"rotate("+d+r)}function l(c,d,f,h){c!==d?h.push({i:f.push(o(f)+"skewX(",null,r)-2,x:vd(c,d)}):d&&f.push(o(f)+"skewX("+d+r)}function u(c,d,f,h,p,g){if(c!==f||d!==h){var b=p.push(o(p)+"scale(",null,",",null,")");g.push({i:b-4,x:vd(c,f)},{i:b-2,x:vd(d,h)})}else(f!==1||h!==1)&&p.push(o(p)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=n(c),d=n(d),s(c.translateX,c.translateY,d.translateX,d.translateY,f,h),a(c.rotate,d.rotate,f,h),l(c.skewX,d.skewX,f,h),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(p){for(var g=-1,b=h.length,y;++g<b;)f[(y=h[g]).i]=y.x(p);return f.join("")}}}var n2e=tj(e2e,"px, ","px)","deg)"),i2e=tj(t2e,", ",")",")"),r2e=1e-12;function mk(n){return((n=Math.exp(n))+1/n)/2}function o2e(n){return((n=Math.exp(n))-1/n)/2}function s2e(n){return((n=Math.exp(2*n))-1)/(n+1)}const a2e=function n(e,i,r){function o(s,a){var l=s[0],u=s[1],c=s[2],d=a[0],f=a[1],h=a[2],p=d-l,g=f-u,b=p*p+g*g,y,m;if(b<r2e)m=Math.log(h/c)/e,y=function(C){return[l+C*p,u+C*g,c*Math.exp(e*C*m)]};else{var _=Math.sqrt(b),S=(h*h-c*c+r*b)/(2*c*i*_),w=(h*h-c*c-r*b)/(2*h*i*_),A=Math.log(Math.sqrt(S*S+1)-S),T=Math.log(Math.sqrt(w*w+1)-w);m=(T-A)/e,y=function(C){var R=C*m,E=mk(A),P=c/(i*_)*(E*s2e(e*R+A)-o2e(A));return[l+P*p,u+P*g,c*E/mk(e*R+A)]}}return y.duration=m*1e3*e/Math.SQRT2,y}return o.rho=function(s){var a=Math.max(.001,+s),l=a*a,u=l*l;return n(a,l,u)},o}(Math.SQRT2,2,4);var Jg=0,ry=0,gv=0,nj=1e3,Iw,oy,Nw=0,Th=0,nC=0,a0=typeof performance=="object"&&performance.now?performance:Date,ij=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function nO(){return Th||(ij(l2e),Th=a0.now()+nC)}function l2e(){Th=0}function Ow(){this._call=this._time=this._next=null}Ow.prototype=iO.prototype={constructor:Ow,restart:function(n,e,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?nO():+i)+(e==null?0:+e),!this._next&&oy!==this&&(oy?oy._next=this:Iw=this,oy=this),this._call=n,this._time=i,qR()},stop:function(){this._call&&(this._call=null,this._time=1/0,qR())}};function iO(n,e,i){var r=new Ow;return r.restart(n,e,i),r}function u2e(){nO(),++Jg;for(var n=Iw,e;n;)(e=Th-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Jg}function vk(){Th=(Nw=a0.now())+nC,Jg=ry=0;try{u2e()}finally{Jg=0,d2e(),Th=0}}function c2e(){var n=a0.now(),e=n-Nw;e>nj&&(nC-=e,Nw=n)}function d2e(){for(var n,e=Iw,i,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(i=e._next,e._next=null,e=n?n._next=i:Iw=i);oy=n,qR(r)}function qR(n){if(!Jg){ry&&(ry=clearTimeout(ry));var e=n-Th;e>24?(n<1/0&&(ry=setTimeout(vk,n-a0.now()-nC)),gv&&(gv=clearInterval(gv))):(gv||(Nw=a0.now(),gv=setInterval(c2e,nj)),Jg=1,ij(vk))}}function yk(n,e,i){var r=new Ow;return e=e==null?0:+e,r.restart(o=>{r.stop(),n(o+e)},e,i),r}var f2e=J0("start","end","cancel","interrupt"),h2e=[],rj=0,bk=1,XR=2,ES=3,xk=4,YR=5,MS=6;function iC(n,e,i,r,o,s){var a=n.__transition;if(!a)n.__transition={};else if(i in a)return;p2e(n,i,{name:e,index:r,group:o,on:f2e,tween:h2e,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:rj})}function rO(n,e){var i=ll(n,e);if(i.state>rj)throw new Error("too late; already scheduled");return i}function Ql(n,e){var i=ll(n,e);if(i.state>ES)throw new Error("too late; already running");return i}function ll(n,e){var i=n.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function p2e(n,e,i){var r=n.__transition,o;r[e]=i,i.timer=iO(s,0,i.time);function s(c){i.state=bk,i.timer.restart(a,i.delay,i.time),i.delay<=c&&a(c-i.delay)}function a(c){var d,f,h,p;if(i.state!==bk)return u();for(d in r)if(p=r[d],p.name===i.name){if(p.state===ES)return yk(a);p.state===xk?(p.state=MS,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete r[d]):+d<e&&(p.state=MS,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete r[d])}if(yk(function(){i.state===ES&&(i.state=xk,i.timer.restart(l,i.delay,i.time),l(c))}),i.state=XR,i.on.call("start",n,n.__data__,i.index,i.group),i.state===XR){for(i.state=ES,o=new Array(h=i.tween.length),d=0,f=-1;d<h;++d)(p=i.tween[d].value.call(n,n.__data__,i.index,i.group))&&(o[++f]=p);o.length=f+1}}function l(c){for(var d=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(u),i.state=YR,1),f=-1,h=o.length;++f<h;)o[f].call(n,d);i.state===YR&&(i.on.call("end",n,n.__data__,i.index,i.group),u())}function u(){i.state=MS,i.timer.stop(),delete r[e];for(var c in r)return;delete n.__transition}}function RS(n,e){var i=n.__transition,r,o,s=!0,a;if(i){e=e==null?null:e+"";for(a in i){if((r=i[a]).name!==e){s=!1;continue}o=r.state>XR&&r.state<YR,r.state=MS,r.timer.stop(),r.on.call(o?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete i[a]}s&&delete n.__transition}}function g2e(n){return this.each(function(){RS(this,n)})}function m2e(n,e){var i,r;return function(){var o=Ql(this,n),s=o.tween;if(s!==i){r=i=s;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function v2e(n,e,i){var r,o;if(typeof i!="function")throw new Error;return function(){var s=Ql(this,n),a=s.tween;if(a!==r){o=(r=a).slice();for(var l={name:e,value:i},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=l;break}u===c&&o.push(l)}s.tween=o}}function y2e(n,e){var i=this._id;if(n+="",arguments.length<2){for(var r=ll(this.node(),i).tween,o=0,s=r.length,a;o<s;++o)if((a=r[o]).name===n)return a.value;return null}return this.each((e==null?m2e:v2e)(i,n,e))}function oO(n,e,i){var r=n._id;return n.each(function(){var o=Ql(this,r);(o.value||(o.value={}))[e]=i.apply(this,arguments)}),function(o){return ll(o,r).value[e]}}function oj(n,e){var i;return(typeof e=="number"?vd:e instanceof s0?pk:(i=s0(e))?(e=i,pk):JMe)(n,e)}function b2e(n){return function(){this.removeAttribute(n)}}function x2e(n){return function(){this.removeAttributeNS(n.space,n.local)}}function _2e(n,e,i){var r,o=i+"",s;return function(){var a=this.getAttribute(n);return a===o?null:a===r?s:s=e(r=a,i)}}function S2e(n,e,i){var r,o=i+"",s;return function(){var a=this.getAttributeNS(n.space,n.local);return a===o?null:a===r?s:s=e(r=a,i)}}function w2e(n,e,i){var r,o,s;return function(){var a,l=i(this),u;return l==null?void this.removeAttribute(n):(a=this.getAttribute(n),u=l+"",a===u?null:a===r&&u===o?s:(o=u,s=e(r=a,l)))}}function C2e(n,e,i){var r,o,s;return function(){var a,l=i(this),u;return l==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),u=l+"",a===u?null:a===r&&u===o?s:(o=u,s=e(r=a,l)))}}function A2e(n,e){var i=tC(n),r=i==="transform"?i2e:oj;return this.attrTween(n,typeof e=="function"?(i.local?C2e:w2e)(i,r,oO(this,"attr."+n,e)):e==null?(i.local?x2e:b2e)(i):(i.local?S2e:_2e)(i,r,e))}function T2e(n,e){return function(i){this.setAttribute(n,e.call(this,i))}}function E2e(n,e){return function(i){this.setAttributeNS(n.space,n.local,e.call(this,i))}}function M2e(n,e){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&E2e(n,s)),i}return o._value=e,o}function R2e(n,e){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&T2e(n,s)),i}return o._value=e,o}function P2e(n,e){var i="attr."+n;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var r=tC(n);return this.tween(i,(r.local?M2e:R2e)(r,e))}function I2e(n,e){return function(){rO(this,n).delay=+e.apply(this,arguments)}}function N2e(n,e){return e=+e,function(){rO(this,n).delay=e}}function O2e(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?I2e:N2e)(e,n)):ll(this.node(),e).delay}function D2e(n,e){return function(){Ql(this,n).duration=+e.apply(this,arguments)}}function L2e(n,e){return e=+e,function(){Ql(this,n).duration=e}}function B2e(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?D2e:L2e)(e,n)):ll(this.node(),e).duration}function F2e(n,e){if(typeof e!="function")throw new Error;return function(){Ql(this,n).ease=e}}function $2e(n){var e=this._id;return arguments.length?this.each(F2e(e,n)):ll(this.node(),e).ease}function U2e(n,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;Ql(this,n).ease=i}}function k2e(n){if(typeof n!="function")throw new Error;return this.each(U2e(this._id,n))}function z2e(n){typeof n!="function"&&(n=$7(n));for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o)for(var s=e[o],a=s.length,l=r[o]=[],u,c=0;c<a;++c)(u=s[c])&&n.call(u,u.__data__,c,s)&&l.push(u);return new pc(r,this._parents,this._name,this._id)}function H2e(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,i=n._groups,r=e.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var u=e[l],c=i[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<r;++l)a[l]=e[l];return new pc(a,this._parents,this._name,this._id)}function G2e(n){return(n+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function V2e(n,e,i){var r,o,s=G2e(e)?rO:Ql;return function(){var a=s(this,n),l=a.on;l!==r&&(o=(r=l).copy()).on(e,i),a.on=o}}function W2e(n,e){var i=this._id;return arguments.length<2?ll(this.node(),i).on.on(n):this.each(V2e(i,n,e))}function j2e(n){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==n)return;e&&e.removeChild(this)}}function K2e(){return this.on("end.remove",j2e(this._id))}function q2e(n){var e=this._name,i=this._id;typeof n!="function"&&(n=JN(n));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var l=r[a],u=l.length,c=s[a]=new Array(u),d,f,h=0;h<u;++h)(d=l[h])&&(f=n.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,iC(c[h],e,i,h,c,ll(d,i)));return new pc(s,this._parents,e,i)}function X2e(n){var e=this._name,i=this._id;typeof n!="function"&&(n=F7(n));for(var r=this._groups,o=r.length,s=[],a=[],l=0;l<o;++l)for(var u=r[l],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var h=n.call(d,d.__data__,f,u),p,g=ll(d,i),b=0,y=h.length;b<y;++b)(p=h[b])&&iC(p,e,i,b,h,g);s.push(h),a.push(d)}return new pc(s,a,e,i)}var Y2e=Z0.prototype.constructor;function Q2e(){return new Y2e(this._groups,this._parents)}function Z2e(n,e){var i,r,o;return function(){var s=Zg(this,n),a=(this.style.removeProperty(n),Zg(this,n));return s===a?null:s===i&&a===r?o:o=e(i=s,r=a)}}function sj(n){return function(){this.style.removeProperty(n)}}function J2e(n,e,i){var r,o=i+"",s;return function(){var a=Zg(this,n);return a===o?null:a===r?s:s=e(r=a,i)}}function eRe(n,e,i){var r,o,s;return function(){var a=Zg(this,n),l=i(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(n),Zg(this,n))),a===u?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}function tRe(n,e){var i,r,o,s="style."+e,a="end."+s,l;return function(){var u=Ql(this,n),c=u.on,d=u.value[s]==null?l||(l=sj(e)):void 0;(c!==i||o!==d)&&(r=(i=c).copy()).on(a,o=d),u.on=r}}function nRe(n,e,i){var r=(n+="")=="transform"?n2e:oj;return e==null?this.styleTween(n,Z2e(n,r)).on("end.style."+n,sj(n)):typeof e=="function"?this.styleTween(n,eRe(n,r,oO(this,"style."+n,e))).each(tRe(this._id,n)):this.styleTween(n,J2e(n,r,e),i).on("end.style."+n,null)}function iRe(n,e,i){return function(r){this.style.setProperty(n,e.call(this,r),i)}}function rRe(n,e,i){var r,o;function s(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&iRe(n,a,i)),r}return s._value=e,s}function oRe(n,e,i){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,rRe(n,e,i??""))}function sRe(n){return function(){this.textContent=n}}function aRe(n){return function(){var e=n(this);this.textContent=e??""}}function lRe(n){return this.tween("text",typeof n=="function"?aRe(oO(this,"text",n)):sRe(n==null?"":n+""))}function uRe(n){return function(e){this.textContent=n.call(this,e)}}function cRe(n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&uRe(o)),e}return r._value=n,r}function dRe(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,cRe(n))}function fRe(){for(var n=this._name,e=this._id,i=aj(),r=this._groups,o=r.length,s=0;s<o;++s)for(var a=r[s],l=a.length,u,c=0;c<l;++c)if(u=a[c]){var d=ll(u,e);iC(u,n,i,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new pc(r,this._parents,n,i)}function hRe(){var n,e,i=this,r=i._id,o=i.size();return new Promise(function(s,a){var l={value:a},u={value:function(){--o===0&&s()}};i.each(function(){var c=Ql(this,r),d=c.on;d!==n&&(e=(n=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),c.on=e}),o===0&&s()})}var pRe=0;function pc(n,e,i,r){this._groups=n,this._parents=e,this._name=i,this._id=r}function aj(){return++pRe}var mu=Z0.prototype;pc.prototype={constructor:pc,select:q2e,selectAll:X2e,selectChild:mu.selectChild,selectChildren:mu.selectChildren,filter:z2e,merge:H2e,selection:Q2e,transition:fRe,call:mu.call,nodes:mu.nodes,node:mu.node,size:mu.size,empty:mu.empty,each:mu.each,on:W2e,attr:A2e,attrTween:P2e,style:nRe,styleTween:oRe,text:lRe,textTween:dRe,remove:K2e,tween:y2e,delay:O2e,duration:B2e,ease:$2e,easeVarying:k2e,end:hRe,[Symbol.iterator]:mu[Symbol.iterator]};function gRe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var mRe={time:null,delay:0,duration:250,ease:gRe};function vRe(n,e){for(var i;!(i=n.__transition)||!(i=i[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return i}function yRe(n){var e,i;n instanceof pc?(e=n._id,n=n._name):(e=aj(),(i=mRe).time=nO(),n=n==null?null:n+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var a=r[s],l=a.length,u,c=0;c<l;++c)(u=a[c])&&iC(u,n,e,c,a,i||vRe(u,e));return new pc(r,this._parents,n,e)}Z0.prototype.interrupt=g2e;Z0.prototype.transition=yRe;const Ox=n=>()=>n;function bRe(n,{sourceEvent:e,target:i,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function qu(n,e,i){this.k=n,this.x=e,this.y=i}qu.prototype={constructor:qu,scale:function(n){return n===1?this:new qu(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new qu(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sO=new qu(1,0,0);xl.prototype=qu.prototype;function xl(n){for(;!n.__zoom;)if(!(n=n.parentNode))return sO;return n.__zoom}function oE(n){n.stopImmediatePropagation()}function mv(n){n.preventDefault(),n.stopImmediatePropagation()}function xRe(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function _Re(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function _k(){return this.__zoom||sO}function SRe(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function wRe(){return navigator.maxTouchPoints||"ontouchstart"in this}function CRe(n,e,i){var r=n.invertX(e[0][0])-i[0][0],o=n.invertX(e[1][0])-i[1][0],s=n.invertY(e[0][1])-i[0][1],a=n.invertY(e[1][1])-i[1][1];return n.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function ARe(){var n=xRe,e=_Re,i=CRe,r=SRe,o=wRe,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,u=a2e,c=J0("start","zoom","end"),d,f,h,p=500,g=150,b=0,y=10;function m(L){L.property("__zoom",_k).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",P).filter(o).on("touchstart.zoom",I).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(L,$,U,k){var H=L.selection?L.selection():L;H.property("__zoom",_k),L!==H?A(L,$,U,k):H.interrupt().each(function(){T(this,arguments).event(k).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},m.scaleBy=function(L,$,U,k){m.scaleTo(L,function(){var H=this.__zoom.k,z=typeof $=="function"?$.apply(this,arguments):$;return H*z},U,k)},m.scaleTo=function(L,$,U,k){m.transform(L,function(){var H=e.apply(this,arguments),z=this.__zoom,Q=U==null?w(H):typeof U=="function"?U.apply(this,arguments):U,Z=z.invert(Q),ie=typeof $=="function"?$.apply(this,arguments):$;return i(S(_(z,ie),Q,Z),H,a)},U,k)},m.translateBy=function(L,$,U,k){m.transform(L,function(){return i(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),a)},null,k)},m.translateTo=function(L,$,U,k,H){m.transform(L,function(){var z=e.apply(this,arguments),Q=this.__zoom,Z=k==null?w(z):typeof k=="function"?k.apply(this,arguments):k;return i(sO.translate(Z[0],Z[1]).scale(Q.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof U=="function"?-U.apply(this,arguments):-U),z,a)},k,H)};function _(L,$){return $=Math.max(s[0],Math.min(s[1],$)),$===L.k?L:new qu($,L.x,L.y)}function S(L,$,U){var k=$[0]-U[0]*L.k,H=$[1]-U[1]*L.k;return k===L.x&&H===L.y?L:new qu(L.k,k,H)}function w(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function A(L,$,U,k){L.on("start.zoom",function(){T(this,arguments).event(k).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(k).end()}).tween("zoom",function(){var H=this,z=arguments,Q=T(H,z).event(k),Z=e.apply(H,z),ie=U==null?w(Z):typeof U=="function"?U.apply(H,z):U,xe=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),J=H.__zoom,se=typeof $=="function"?$.apply(H,z):$,ee=u(J.invert(ie).concat(xe/J.k),se.invert(ie).concat(xe/se.k));return function(ne){if(ne===1)ne=se;else{var ue=ee(ne),Y=xe/ue[2];ne=new qu(Y,ie[0]-ue[0]*Y,ie[1]-ue[1]*Y)}Q.zoom(null,ne)}})}function T(L,$,U){return!U&&L.__zooming||new C(L,$)}function C(L,$){this.that=L,this.args=$,this.active=0,this.sourceEvent=null,this.extent=e.apply(L,$),this.taps=0}C.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,$){return this.mouse&&L!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var $=ua(this.that).datum();c.call(L,this.that,new bRe(L,{sourceEvent:this.sourceEvent,target:m,type:L,transform:this.that.__zoom,dispatch:c}),$)}};function R(L,...$){if(!n.apply(this,arguments))return;var U=T(this,$).event(L),k=this.__zoom,H=Math.max(s[0],Math.min(s[1],k.k*Math.pow(2,r.apply(this,arguments)))),z=Sl(L);if(U.wheel)(U.mouse[0][0]!==z[0]||U.mouse[0][1]!==z[1])&&(U.mouse[1]=k.invert(U.mouse[0]=z)),clearTimeout(U.wheel);else{if(k.k===H)return;U.mouse=[z,k.invert(z)],RS(this),U.start()}mv(L),U.wheel=setTimeout(Q,g),U.zoom("mouse",i(S(_(k,H),U.mouse[0],U.mouse[1]),U.extent,a));function Q(){U.wheel=null,U.end()}}function E(L,...$){if(h||!n.apply(this,arguments))return;var U=L.currentTarget,k=T(this,$,!0).event(L),H=ua(L.view).on("mousemove.zoom",ie,!0).on("mouseup.zoom",xe,!0),z=Sl(L,U),Q=L.clientX,Z=L.clientY;q7(L.view),oE(L),k.mouse=[z,this.__zoom.invert(z)],RS(this),k.start();function ie(J){if(mv(J),!k.moved){var se=J.clientX-Q,ee=J.clientY-Z;k.moved=se*se+ee*ee>b}k.event(J).zoom("mouse",i(S(k.that.__zoom,k.mouse[0]=Sl(J,U),k.mouse[1]),k.extent,a))}function xe(J){H.on("mousemove.zoom mouseup.zoom",null),X7(J.view,k.moved),mv(J),k.event(J).end()}}function P(L,...$){if(n.apply(this,arguments)){var U=this.__zoom,k=Sl(L.changedTouches?L.changedTouches[0]:L,this),H=U.invert(k),z=U.k*(L.shiftKey?.5:2),Q=i(S(_(U,z),k,H),e.apply(this,$),a);mv(L),l>0?ua(this).transition().duration(l).call(A,Q,k,L):ua(this).call(m.transform,Q,k,L)}}function I(L,...$){if(n.apply(this,arguments)){var U=L.touches,k=U.length,H=T(this,$,L.changedTouches.length===k).event(L),z,Q,Z,ie;for(oE(L),Q=0;Q<k;++Q)Z=U[Q],ie=Sl(Z,this),ie=[ie,this.__zoom.invert(ie),Z.identifier],H.touch0?!H.touch1&&H.touch0[2]!==ie[2]&&(H.touch1=ie,H.taps=0):(H.touch0=ie,z=!0,H.taps=1+!!d);d&&(d=clearTimeout(d)),z&&(H.taps<2&&(f=ie[0],d=setTimeout(function(){d=null},p)),RS(this),H.start())}}function D(L,...$){if(this.__zooming){var U=T(this,$).event(L),k=L.changedTouches,H=k.length,z,Q,Z,ie;for(mv(L),z=0;z<H;++z)Q=k[z],Z=Sl(Q,this),U.touch0&&U.touch0[2]===Q.identifier?U.touch0[0]=Z:U.touch1&&U.touch1[2]===Q.identifier&&(U.touch1[0]=Z);if(Q=U.that.__zoom,U.touch1){var xe=U.touch0[0],J=U.touch0[1],se=U.touch1[0],ee=U.touch1[1],ne=(ne=se[0]-xe[0])*ne+(ne=se[1]-xe[1])*ne,ue=(ue=ee[0]-J[0])*ue+(ue=ee[1]-J[1])*ue;Q=_(Q,Math.sqrt(ne/ue)),Z=[(xe[0]+se[0])/2,(xe[1]+se[1])/2],ie=[(J[0]+ee[0])/2,(J[1]+ee[1])/2]}else if(U.touch0)Z=U.touch0[0],ie=U.touch0[1];else return;U.zoom("touch",i(S(Q,Z,ie),U.extent,a))}}function F(L,...$){if(this.__zooming){var U=T(this,$).event(L),k=L.changedTouches,H=k.length,z,Q;for(oE(L),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),z=0;z<H;++z)Q=k[z],U.touch0&&U.touch0[2]===Q.identifier?delete U.touch0:U.touch1&&U.touch1[2]===Q.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(Q=Sl(Q,this),Math.hypot(f[0]-Q[0],f[1]-Q[1])<y)){var Z=ua(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return m.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:Ox(+L),m):r},m.filter=function(L){return arguments.length?(n=typeof L=="function"?L:Ox(!!L),m):n},m.touchable=function(L){return arguments.length?(o=typeof L=="function"?L:Ox(!!L),m):o},m.extent=function(L){return arguments.length?(e=typeof L=="function"?L:Ox([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),m):e},m.scaleExtent=function(L){return arguments.length?(s[0]=+L[0],s[1]=+L[1],m):[s[0],s[1]]},m.translateExtent=function(L){return arguments.length?(a[0][0]=+L[0][0],a[1][0]=+L[1][0],a[0][1]=+L[0][1],a[1][1]=+L[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(L){return arguments.length?(i=L,m):i},m.duration=function(L){return arguments.length?(l=+L,m):l},m.interpolate=function(L){return arguments.length?(u=L,m):u},m.on=function(){var L=c.on.apply(c,arguments);return L===c?m:L},m.clickDistance=function(L){return arguments.length?(b=(L=+L)*L,m):Math.sqrt(b)},m.tapDistance=function(L){return arguments.length?(y=+L,m):y},m}class Sk extends Map{constructor(e,i=MRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),e!=null)for(const[r,o]of e)this.set(r,o)}get(e){return super.get(wk(this,e))}has(e){return super.has(wk(this,e))}set(e,i){return super.set(TRe(this,e),i)}delete(e){return super.delete(ERe(this,e))}}function wk({_intern:n,_key:e},i){const r=e(i);return n.has(r)?n.get(r):i}function TRe({_intern:n,_key:e},i){const r=e(i);return n.has(r)?n.get(r):(n.set(r,i),i)}function ERe({_intern:n,_key:e},i){const r=e(i);return n.has(r)&&(i=n.get(r),n.delete(r)),i}function MRe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function QR(n,e){let i;if(e===void 0)for(const r of n)r!=null&&(i<r||i===void 0&&r>=r)&&(i=r);else{let r=-1;for(let o of n)(o=e(o,++r,n))!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}return i}function ZR(n,e){let i;if(e===void 0)for(const r of n)r!=null&&(i>r||i===void 0&&r>=r)&&(i=r);else{let r=-1;for(let o of n)(o=e(o,++r,n))!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}return i}var ic=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-ic.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?ic.Bounce.In(n*2)*.5:ic.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),sy=function(){return performance.now()},aO=function(){function n(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(i){return e._tweens[i]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];for(var o=0,s=i;o<s.length;o++){var a=s[o];(e=a._group)===null||e===void 0||e.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},n.prototype.remove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var r=0,o=e;r<o.length;r++){var s=o[r];s._group=void 0,delete this._tweens[s.getId()],delete this._tweensAddedDuringUpdate[s.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,i){e===void 0&&(e=sy()),i===void 0&&(i=!0);var r=Object.keys(this._tweens);if(r.length!==0)for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<r.length;o++){var s=this._tweens[r[o]],a=!i;s&&s.update(e,a)===!1&&!i&&this.remove(s)}r=Object.keys(this._tweensAddedDuringUpdate)}},n}(),ug={Linear:function(n,e){var i=n.length-1,r=i*e,o=Math.floor(r),s=ug.Utils.Linear;return e<0?s(n[0],n[1],r):e>1?s(n[i],n[i-1],i-r):s(n[o],n[o+1>i?i:o+1],r-o)},Bezier:function(n,e){for(var i=0,r=n.length-1,o=Math.pow,s=ug.Utils.Bernstein,a=0;a<=r;a++)i+=o(1-e,r-a)*o(e,a)*n[a]*s(r,a);return i},CatmullRom:function(n,e){var i=n.length-1,r=i*e,o=Math.floor(r),s=ug.Utils.CatmullRom;return n[0]===n[i]?(e<0&&(o=Math.floor(r=i*(1+e))),s(n[(o-1+i)%i],n[o],n[(o+1)%i],n[(o+2)%i],r-o)):e<0?n[0]-(s(n[0],n[0],n[1],n[1],-r)-n[0]):e>1?n[i]-(s(n[i],n[i],n[i-1],n[i-1],r-i)-n[i]):s(n[o?o-1:0],n[o],n[i<o+1?i:o+1],n[i<o+2?i:o+2],r-o)},Utils:{Linear:function(n,e,i){return(e-n)*i+n},Bernstein:function(n,e){var i=ug.Utils.Factorial;return i(n)/i(e)/i(n-e)},Factorial:function(){var n=[1];return function(e){var i=1;if(n[e])return n[e];for(var r=e;r>1;r--)i*=r;return n[e]=i,i}}(),CatmullRom:function(n,e,i,r,o){var s=(i-n)*.5,a=(r-e)*.5,l=o*o,u=o*l;return(2*e-2*i+s+a)*u+(-3*e+3*i-2*s-a)*l+s*o+e}}},RRe=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),JR=new aO,Dw=function(){function n(e,i){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ic.Linear.None,this._interpolationFunction=ug.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=RRe.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof i=="object"?(this._group=i,i.add(this)):i===!0&&(this._group=JR,JR.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,i){if(i===void 0&&(i=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=i<0?0:i,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,i){if(e===void 0&&(e=sy()),i===void 0&&(i=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||i){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var s in this._valuesEnd)o[s]=this._valuesEnd[s];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,i)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,i,r,o,s){for(var a in r){var l=e[a],u=Array.isArray(l),c=u?"array":typeof l,d=!u&&Array.isArray(r[a]);if(!(c==="undefined"||c==="function")){if(d){var f=r[a];if(f.length===0)continue;for(var h=[l],p=0,g=f.length;p<g;p+=1){var b=this._handleRelativeValue(l,f[p]);if(isNaN(b)){d=!1,console.warn("Found invalid interpolation list. Skipping.");break}h.push(b)}d&&(r[a]=h)}if((c==="object"||u)&&l&&!d){i[a]=u?[]:{};var y=l;for(var m in y)i[a][m]=y[m];o[a]=u?[]:{};var f=r[a];if(!this._isDynamic){var _={};for(var m in f)_[m]=f[m];r[a]=f=_}this._setupProperties(y,i[a],f,o[a],s)}else(typeof i[a]>"u"||s)&&(i[a]=l),u||(i[a]*=1),d?o[a]=r[a].slice().reverse():o[a]=i[a]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=sy()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=sy()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,i=this._chainedTweens.length;e<i;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=ic.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=ug.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,i){var r=this,o;if(e===void 0&&(e=sy()),i===void 0&&(i=n.autoStartOnUpdate),this._isPaused)return!0;var s;if(!this._goToEnd&&!this._isPlaying)if(i)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,l=this._duration+((o=this._repeatDelayTime)!==null&&o!==void 0?o:this._delayTime),u=this._duration+this._repeat*l,c=function(){if(r._duration===0||a>u)return 1;var b=Math.trunc(a/l),y=a-b*l,m=Math.min(y/r._duration,1);return m===0&&a===r._duration?1:m},d=c(),f=this._easingFunction(d);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,d),this._duration===0||a>=this._duration)if(this._repeat>0){var h=Math.min(Math.trunc((a-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=h);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*h,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,g=this._chainedTweens.length;p<g;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,i,r,o){for(var s in r)if(i[s]!==void 0){var a=i[s]||0,l=r[s],u=Array.isArray(e[s]),c=Array.isArray(l),d=!u&&c;d?e[s]=this._interpolationFunction(l,o):typeof l=="object"&&l?this._updateProperties(e[s],a,l,o):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(e[s]=a+(l-a)*o))}},n.prototype._handleRelativeValue=function(e,i){return typeof i!="string"?i:i.charAt(0)==="+"||i.charAt(0)==="-"?e+parseFloat(i):parseFloat(i)},n.prototype._swapEndStartRepeatValues=function(e){var i=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=i},n.autoStartOnUpdate=!1,n}(),Hl=JR;Hl.getAll.bind(Hl);Hl.removeAll.bind(Hl);Hl.add.bind(Hl);Hl.remove.bind(Hl);Hl.update.bind(Hl);function Ck(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function PRe(n){if(Array.isArray(n))return n}function IRe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function NRe(n,e,i){return Object.defineProperty(n,"prototype",{writable:!1}),n}function ORe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function DRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LRe(n,e){return PRe(n)||ORe(n,e)||BRe(n,e)||DRe()}function BRe(n,e){if(n){if(typeof n=="string")return Ck(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ck(n,e):void 0}}var FRe=NRe(function n(e,i){var r=i.default,o=r===void 0?null:r,s=i.triggerUpdate,a=s===void 0?!0:s,l=i.onChange,u=l===void 0?function(c,d){}:l;IRe(this,n),this.name=e,this.defaultVal=o,this.triggerUpdate=a,this.onChange=u});function Pm(n){var e=n.stateInit,i=e===void 0?function(){return{}}:e,r=n.props,o=r===void 0?{}:r,s=n.methods,a=s===void 0?{}:s,l=n.aliases,u=l===void 0?{}:l,c=n.init,d=c===void 0?function(){}:c,f=n.update,h=f===void 0?function(){}:f,p=Object.keys(o).map(function(g){return new FRe(g,o[g])});return function g(){for(var b=arguments.length,y=new Array(b),m=0;m<b;m++)y[m]=arguments[m];var _=!!(this instanceof g&&this.constructor),S=_?y.shift():void 0,w=y[0],A=w===void 0?{}:w,T=Object.assign({},i instanceof Function?i(A):i,{initialised:!1}),C={};function R(I){return E(I,A),P(),R}var E=function(D,F){d.call(R,D,T,F),T.initialised=!0},P=QI(function(){T.initialised&&(h.call(R,T,C),C={})},1);return p.forEach(function(I){R[I.name]=D(I);function D(F){var L=F.name,$=F.triggerUpdate,U=$===void 0?!1:$,k=F.onChange,H=k===void 0?function(Z,ie){}:k,z=F.defaultVal,Q=z===void 0?null:z;return function(Z){var ie=T[L];if(!arguments.length)return ie;var xe=Z===void 0?Q:Z;return T[L]=xe,H.call(R,xe,T,ie),!C.hasOwnProperty(L)&&(C[L]=ie),U&&P(),R}}}),Object.keys(a).forEach(function(I){R[I]=function(){for(var D,F=arguments.length,L=new Array(F),$=0;$<F;$++)L[$]=arguments[$];return(D=a[I]).call.apply(D,[R,T].concat(L))}}),Object.entries(u).forEach(function(I){var D=LRe(I,2),F=D[0],L=D[1];return R[F]=R[L]}),R.resetProps=function(){return p.forEach(function(I){R[I.name](I.defaultVal)}),R},R.resetProps(),T._rerender=P,_&&S&&R(S),R}}var Ot=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function Lw(n){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lw(n)}var $Re=/^\s+/,URe=/\s+$/;function Bt(n,e){if(n=n||"",e=e||{},n instanceof Bt)return n;if(!(this instanceof Bt))return new Bt(n,e);var i=kRe(n);this._originalInput=n,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}Bt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),i,r,o,s,a,l;return i=e.r/255,r=e.g/255,o=e.b/255,i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),o<=.03928?l=o/12.92:l=Math.pow((o+.055)/1.055,2.4),.2126*s+.7152*a+.0722*l},setAlpha:function(e){return this._a=lj(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Tk(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Tk(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.v*100);return this._a==1?"hsv("+i+", "+r+"%, "+o+"%)":"hsva("+i+", "+r+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=Ak(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Ak(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.l*100);return this._a==1?"hsl("+i+", "+r+"%, "+o+"%)":"hsla("+i+", "+r+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return Ek(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return VRe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ri(this._r,255)*100)+"%",g:Math.round(Ri(this._g,255)*100)+"%",b:Math.round(Ri(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ri(this._r,255)*100)+"%, "+Math.round(Ri(this._g,255)*100)+"%, "+Math.round(Ri(this._b,255)*100)+"%)":"rgba("+Math.round(Ri(this._r,255)*100)+"%, "+Math.round(Ri(this._g,255)*100)+"%, "+Math.round(Ri(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:nPe[Ek(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var i="#"+Mk(this._r,this._g,this._b,this._a),r=i,o=this._gradientType?"GradientType = 1, ":"";if(e){var s=Bt(e);r="#"+Mk(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+i+",endColorstr="+r+")"},toString:function(e){var i=!!e;e=e||this._format;var r=!1,o=this._a<1&&this._a>=0,s=!i&&o&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Bt(this.toString())},_applyModification:function(e,i){var r=e.apply(null,[this].concat([].slice.call(i)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(qRe,arguments)},brighten:function(){return this._applyModification(XRe,arguments)},darken:function(){return this._applyModification(YRe,arguments)},desaturate:function(){return this._applyModification(WRe,arguments)},saturate:function(){return this._applyModification(jRe,arguments)},greyscale:function(){return this._applyModification(KRe,arguments)},spin:function(){return this._applyModification(QRe,arguments)},_applyCombination:function(e,i){return e.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(ePe,arguments)},complement:function(){return this._applyCombination(ZRe,arguments)},monochromatic:function(){return this._applyCombination(tPe,arguments)},splitcomplement:function(){return this._applyCombination(JRe,arguments)},triad:function(){return this._applyCombination(Rk,[3])},tetrad:function(){return this._applyCombination(Rk,[4])}};Bt.fromRatio=function(n,e){if(Lw(n)=="object"){var i={};for(var r in n)n.hasOwnProperty(r)&&(r==="a"?i[r]=n[r]:i[r]=ay(n[r]));n=i}return Bt(n,e)};function kRe(n){var e={r:0,g:0,b:0},i=1,r=null,o=null,s=null,a=!1,l=!1;return typeof n=="string"&&(n=sPe(n)),Lw(n)=="object"&&(vu(n.r)&&vu(n.g)&&vu(n.b)?(e=zRe(n.r,n.g,n.b),a=!0,l=String(n.r).substr(-1)==="%"?"prgb":"rgb"):vu(n.h)&&vu(n.s)&&vu(n.v)?(r=ay(n.s),o=ay(n.v),e=GRe(n.h,r,o),a=!0,l="hsv"):vu(n.h)&&vu(n.s)&&vu(n.l)&&(r=ay(n.s),s=ay(n.l),e=HRe(n.h,r,s),a=!0,l="hsl"),n.hasOwnProperty("a")&&(i=n.a)),i=lj(i),{ok:a,format:n.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}function zRe(n,e,i){return{r:Ri(n,255)*255,g:Ri(e,255)*255,b:Ri(i,255)*255}}function Ak(n,e,i){n=Ri(n,255),e=Ri(e,255),i=Ri(i,255);var r=Math.max(n,e,i),o=Math.min(n,e,i),s,a,l=(r+o)/2;if(r==o)s=a=0;else{var u=r-o;switch(a=l>.5?u/(2-r-o):u/(r+o),r){case n:s=(e-i)/u+(e<i?6:0);break;case e:s=(i-n)/u+2;break;case i:s=(n-e)/u+4;break}s/=6}return{h:s,s:a,l}}function HRe(n,e,i){var r,o,s;n=Ri(n,360),e=Ri(e,100),i=Ri(i,100);function a(c,d,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(d-c)*6*f:f<1/2?d:f<2/3?c+(d-c)*(2/3-f)*6:c}if(e===0)r=o=s=i;else{var l=i<.5?i*(1+e):i+e-i*e,u=2*i-l;r=a(u,l,n+1/3),o=a(u,l,n),s=a(u,l,n-1/3)}return{r:r*255,g:o*255,b:s*255}}function Tk(n,e,i){n=Ri(n,255),e=Ri(e,255),i=Ri(i,255);var r=Math.max(n,e,i),o=Math.min(n,e,i),s,a,l=r,u=r-o;if(a=r===0?0:u/r,r==o)s=0;else{switch(r){case n:s=(e-i)/u+(e<i?6:0);break;case e:s=(i-n)/u+2;break;case i:s=(n-e)/u+4;break}s/=6}return{h:s,s:a,v:l}}function GRe(n,e,i){n=Ri(n,360)*6,e=Ri(e,100),i=Ri(i,100);var r=Math.floor(n),o=n-r,s=i*(1-e),a=i*(1-o*e),l=i*(1-(1-o)*e),u=r%6,c=[i,a,s,s,l,i][u],d=[l,i,i,a,s,s][u],f=[s,s,l,i,i,a][u];return{r:c*255,g:d*255,b:f*255}}function Ek(n,e,i,r){var o=[Xa(Math.round(n).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(i).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function VRe(n,e,i,r,o){var s=[Xa(Math.round(n).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(i).toString(16)),Xa(uj(r))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Mk(n,e,i,r){var o=[Xa(uj(r)),Xa(Math.round(n).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(i).toString(16))];return o.join("")}Bt.equals=function(n,e){return!n||!e?!1:Bt(n).toRgbString()==Bt(e).toRgbString()};Bt.random=function(){return Bt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function WRe(n,e){e=e===0?0:e||10;var i=Bt(n).toHsl();return i.s-=e/100,i.s=rC(i.s),Bt(i)}function jRe(n,e){e=e===0?0:e||10;var i=Bt(n).toHsl();return i.s+=e/100,i.s=rC(i.s),Bt(i)}function KRe(n){return Bt(n).desaturate(100)}function qRe(n,e){e=e===0?0:e||10;var i=Bt(n).toHsl();return i.l+=e/100,i.l=rC(i.l),Bt(i)}function XRe(n,e){e=e===0?0:e||10;var i=Bt(n).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(e/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(e/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(e/100)))),Bt(i)}function YRe(n,e){e=e===0?0:e||10;var i=Bt(n).toHsl();return i.l-=e/100,i.l=rC(i.l),Bt(i)}function QRe(n,e){var i=Bt(n).toHsl(),r=(i.h+e)%360;return i.h=r<0?360+r:r,Bt(i)}function ZRe(n){var e=Bt(n).toHsl();return e.h=(e.h+180)%360,Bt(e)}function Rk(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var i=Bt(n).toHsl(),r=[Bt(n)],o=360/e,s=1;s<e;s++)r.push(Bt({h:(i.h+s*o)%360,s:i.s,l:i.l}));return r}function JRe(n){var e=Bt(n).toHsl(),i=e.h;return[Bt(n),Bt({h:(i+72)%360,s:e.s,l:e.l}),Bt({h:(i+216)%360,s:e.s,l:e.l})]}function ePe(n,e,i){e=e||6,i=i||30;var r=Bt(n).toHsl(),o=360/i,s=[Bt(n)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,s.push(Bt(r));return s}function tPe(n,e){e=e||6;for(var i=Bt(n).toHsv(),r=i.h,o=i.s,s=i.v,a=[],l=1/e;e--;)a.push(Bt({h:r,s:o,v:s})),s=(s+l)%1;return a}Bt.mix=function(n,e,i){i=i===0?0:i||50;var r=Bt(n).toRgb(),o=Bt(e).toRgb(),s=i/100,a={r:(o.r-r.r)*s+r.r,g:(o.g-r.g)*s+r.g,b:(o.b-r.b)*s+r.b,a:(o.a-r.a)*s+r.a};return Bt(a)};Bt.readability=function(n,e){var i=Bt(n),r=Bt(e);return(Math.max(i.getLuminance(),r.getLuminance())+.05)/(Math.min(i.getLuminance(),r.getLuminance())+.05)};Bt.isReadable=function(n,e,i){var r=Bt.readability(n,e),o,s;switch(s=!1,o=aPe(i),o.level+o.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Bt.mostReadable=function(n,e,i){var r=null,o=0,s,a,l,u;i=i||{},a=i.includeFallbackColors,l=i.level,u=i.size;for(var c=0;c<e.length;c++)s=Bt.readability(n,e[c]),s>o&&(o=s,r=Bt(e[c]));return Bt.isReadable(n,r,{level:l,size:u})||!a?r:(i.includeFallbackColors=!1,Bt.mostReadable(n,["#fff","#000"],i))};var eP=Bt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},nPe=Bt.hexNames=iPe(eP);function iPe(n){var e={};for(var i in n)n.hasOwnProperty(i)&&(e[n[i]]=i);return e}function lj(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Ri(n,e){rPe(n)&&(n="100%");var i=oPe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),i&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function rC(n){return Math.min(1,Math.max(0,n))}function Ps(n){return parseInt(n,16)}function rPe(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function oPe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Xa(n){return n.length==1?"0"+n:""+n}function ay(n){return n<=1&&(n=n*100+"%"),n}function uj(n){return Math.round(parseFloat(n)*255).toString(16)}function Pk(n){return Ps(n)/255}var za=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+n+")",r="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",o="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function vu(n){return!!za.CSS_UNIT.exec(n)}function sPe(n){n=n.replace($Re,"").replace(URe,"").toLowerCase();var e=!1;if(eP[n])n=eP[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=za.rgb.exec(n))?{r:i[1],g:i[2],b:i[3]}:(i=za.rgba.exec(n))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=za.hsl.exec(n))?{h:i[1],s:i[2],l:i[3]}:(i=za.hsla.exec(n))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=za.hsv.exec(n))?{h:i[1],s:i[2],v:i[3]}:(i=za.hsva.exec(n))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=za.hex8.exec(n))?{r:Ps(i[1]),g:Ps(i[2]),b:Ps(i[3]),a:Pk(i[4]),format:e?"name":"hex8"}:(i=za.hex6.exec(n))?{r:Ps(i[1]),g:Ps(i[2]),b:Ps(i[3]),format:e?"name":"hex"}:(i=za.hex4.exec(n))?{r:Ps(i[1]+""+i[1]),g:Ps(i[2]+""+i[2]),b:Ps(i[3]+""+i[3]),a:Pk(i[4]+""+i[4]),format:e?"name":"hex8"}:(i=za.hex3.exec(n))?{r:Ps(i[1]+""+i[1]),g:Ps(i[2]+""+i[2]),b:Ps(i[3]+""+i[3]),format:e?"name":"hex"}:!1}function aPe(n){var e,i;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),i=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:e,size:i}}function tP(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function lPe(n){if(Array.isArray(n))return tP(n)}function cj(n,e,i){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function uPe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ia(n,e){return n.get(cj(n,e))}function Ik(n,e,i){uPe(n,e),e.set(n,i)}function Nk(n,e,i){return n.set(cj(n,e),i),i}function dPe(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,vPe(r.key),r)}}function fPe(n,e,i){return dPe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function hPe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function pPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gPe(n){return lPe(n)||hPe(n)||yPe(n)||pPe()}function mPe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function vPe(n){var e=mPe(n,"string");return typeof e=="symbol"?e:e+""}function yPe(n,e){if(n){if(typeof n=="string")return tP(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?tP(n,e):void 0}}var bPe=123,xPe=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},dj=function(e,i,r){return(e<<16)+(i<<8)+r},_Pe=function(e){var i=Bt(e).toRgb(),r=i.r,o=i.g,s=i.b;return dj(r,o,s)},Ok=function(e,i){return e*bPe%Math.pow(2,i)},bf=new WeakMap,yu=new WeakMap,SPe=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;cPe(this,n),Ik(this,bf,void 0),Ik(this,yu,void 0),Nk(yu,this,e),this.reset()}return fPe(n,[{key:"reset",value:function(){Nk(bf,this,["__reserved for background__"])}},{key:"register",value:function(i){if(ia(bf,this).length>=Math.pow(2,24-ia(yu,this)))return null;var r=ia(bf,this).length,o=Ok(r,ia(yu,this)),s=xPe(r+(o<<24-ia(yu,this)));return ia(bf,this).push(i),s}},{key:"lookup",value:function(i){if(!i)return null;var r=typeof i=="string"?_Pe(i):dj.apply(void 0,gPe(i));if(!r)return null;var o=r&Math.pow(2,24-ia(yu,this))-1,s=r>>24-ia(yu,this)&Math.pow(2,ia(yu,this))-1;return Ok(o,ia(yu,this))!==s||o>=ia(bf,this).length?null:ia(bf,this)[o]}}])}(),tb,Ni,fj,hj,Wf,Dk,pj,nP,gj,lO,iP,rP,l0={},mj=[],wPe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,uO=Array.isArray;function Xu(n,e){for(var i in e)n[i]=e[i];return n}function cO(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function CPe(n,e,i){var r,o,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?o=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?tb.call(arguments,2):i),typeof n=="function"&&n.defaultProps!=null)for(s in n.defaultProps)a[s]===void 0&&(a[s]=n.defaultProps[s]);return Ry(n,a,r,o,null)}function Ry(n,e,i,r,o){var s={type:n,props:e,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++fj,__i:-1,__u:0};return o==null&&Ni.vnode!=null&&Ni.vnode(s),s}function oC(n){return n.children}function PS(n,e){this.props=n,this.context=e}function em(n,e){if(e==null)return n.__?em(n.__,n.__i+1):null;for(var i;e<n.__k.length;e++)if((i=n.__k[e])!=null&&i.__e!=null)return i.__e;return typeof n.type=="function"?em(n):null}function vj(n){var e,i;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((i=n.__k[e])!=null&&i.__e!=null){n.__e=n.__c.base=i.__e;break}return vj(n)}}function Lk(n){(!n.__d&&(n.__d=!0)&&Wf.push(n)&&!Bw.__r++||Dk!==Ni.debounceRendering)&&((Dk=Ni.debounceRendering)||pj)(Bw)}function Bw(){var n,e,i,r,o,s,a,l;for(Wf.sort(nP);n=Wf.shift();)n.__d&&(e=Wf.length,r=void 0,s=(o=(i=n).__v).__e,a=[],l=[],i.__P&&((r=Xu({},o)).__v=o.__v+1,Ni.vnode&&Ni.vnode(r),dO(i.__P,r,o,i.__n,i.__P.namespaceURI,32&o.__u?[s]:null,a,s??em(o),!!(32&o.__u),l),r.__v=o.__v,r.__.__k[r.__i]=r,xj(a,r,l),r.__e!=s&&vj(r)),Wf.length>e&&Wf.sort(nP));Bw.__r=0}function yj(n,e,i,r,o,s,a,l,u,c,d){var f,h,p,g,b,y,m=r&&r.__k||mj,_=e.length;for(u=APe(i,e,m,u,_),f=0;f<_;f++)(p=i.__k[f])!=null&&(h=p.__i===-1?l0:m[p.__i]||l0,p.__i=f,y=dO(n,p,h,o,s,a,l,u,c,d),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&fO(h.ref,null,p),d.push(p.ref,p.__c||g,p)),b==null&&g!=null&&(b=g),4&p.__u||h.__k===p.__k?u=bj(p,u,n):typeof p.type=="function"&&y!==void 0?u=y:g&&(u=g.nextSibling),p.__u&=-7);return i.__e=b,u}function APe(n,e,i,r,o){var s,a,l,u,c,d=i.length,f=d,h=0;for(n.__k=new Array(o),s=0;s<o;s++)(a=e[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(u=s+h,(a=n.__k[s]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Ry(null,a,null,null,null):uO(a)?Ry(oC,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?Ry(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=n,a.__b=n.__b+1,l=null,(c=a.__i=TPe(a,i,u,f))!==-1&&(f--,(l=i[c])&&(l.__u|=2)),l==null||l.__v===null?(c==-1&&h--,typeof a.type!="function"&&(a.__u|=4)):c!=u&&(c==u-1?h--:c==u+1?h++:(c>u?h--:h++,a.__u|=4))):n.__k[s]=null;if(f)for(s=0;s<d;s++)(l=i[s])!=null&&!(2&l.__u)&&(l.__e==r&&(r=em(l)),_j(l,l));return r}function bj(n,e,i){var r,o;if(typeof n.type=="function"){for(r=n.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=n,e=bj(r[o],e,i));return e}n.__e!=e&&(e&&n.type&&!i.contains(e)&&(e=em(n)),i.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function TPe(n,e,i,r){var o,s,a=n.key,l=n.type,u=e[i];if(u===null||u&&a==u.key&&l===u.type&&!(2&u.__u))return i;if(r>(u!=null&&!(2&u.__u)?1:0))for(o=i-1,s=i+1;o>=0||s<e.length;){if(o>=0){if((u=e[o])&&!(2&u.__u)&&a==u.key&&l===u.type)return o;o--}if(s<e.length){if((u=e[s])&&!(2&u.__u)&&a==u.key&&l===u.type)return s;s++}}return-1}function Bk(n,e,i){e[0]=="-"?n.setProperty(e,i??""):n[e]=i==null?"":typeof i!="number"||wPe.test(e)?i:i+"px"}function Dx(n,e,i,r,o){var s;e:if(e=="style")if(typeof i=="string")n.style.cssText=i;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)i&&e in i||Bk(n.style,e,"");if(i)for(e in i)r&&i[e]===r[e]||Bk(n.style,e,i[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(gj,"$1")),e=e.toLowerCase()in n||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+s]=i,i?r?i.u=r.u:(i.u=lO,n.addEventListener(e,s?rP:iP,s)):n.removeEventListener(e,s?rP:iP,s);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&i==1?"":i))}}function Fk(n){return function(e){if(this.l){var i=this.l[e.type+n];if(e.t==null)e.t=lO++;else if(e.t<i.u)return;return i(Ni.event?Ni.event(e):e)}}}function dO(n,e,i,r,o,s,a,l,u,c){var d,f,h,p,g,b,y,m,_,S,w,A,T,C,R,E,P,I=e.type;if(e.constructor!==void 0)return null;128&i.__u&&(u=!!(32&i.__u),s=[l=e.__e=i.__e]),(d=Ni.__b)&&d(e);e:if(typeof I=="function")try{if(m=e.props,_="prototype"in I&&I.prototype.render,S=(d=I.contextType)&&r[d.__c],w=d?S?S.props.value:d.__:r,i.__c?y=(f=e.__c=i.__c).__=f.__E:(_?e.__c=f=new I(m,w):(e.__c=f=new PS(m,w),f.constructor=I,f.render=MPe),S&&S.sub(f),f.props=m,f.state||(f.state={}),f.context=w,f.__n=r,h=f.__d=!0,f.__h=[],f._sb=[]),_&&f.__s==null&&(f.__s=f.state),_&&I.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Xu({},f.__s)),Xu(f.__s,I.getDerivedStateFromProps(m,f.__s))),p=f.props,g=f.state,f.__v=e,h)_&&I.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),_&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(_&&I.getDerivedStateFromProps==null&&m!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(m,w),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(m,f.__s,w)===!1||e.__v==i.__v)){for(e.__v!=i.__v&&(f.props=m,f.state=f.__s,f.__d=!1),e.__e=i.__e,e.__k=i.__k,e.__k.some(function(D){D&&(D.__=e)}),A=0;A<f._sb.length;A++)f.__h.push(f._sb[A]);f._sb=[],f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(m,f.__s,w),_&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,g,b)})}if(f.context=w,f.props=m,f.__P=n,f.__e=!1,T=Ni.__r,C=0,_){for(f.state=f.__s,f.__d=!1,T&&T(e),d=f.render(f.props,f.state,f.context),R=0;R<f._sb.length;R++)f.__h.push(f._sb[R]);f._sb=[]}else do f.__d=!1,T&&T(e),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++C<25);f.state=f.__s,f.getChildContext!=null&&(r=Xu(Xu({},r),f.getChildContext())),_&&!h&&f.getSnapshotBeforeUpdate!=null&&(b=f.getSnapshotBeforeUpdate(p,g)),l=yj(n,uO(E=d!=null&&d.type===oC&&d.key==null?d.props.children:d)?E:[E],e,i,r,o,s,a,l,u,c),f.base=e.__e,e.__u&=-161,f.__h.length&&a.push(f),y&&(f.__E=f.__=null)}catch(D){if(e.__v=null,u||s!=null)if(D.then){for(e.__u|=u?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,e.__e=l}else for(P=s.length;P--;)cO(s[P]);else e.__e=i.__e,e.__k=i.__k;Ni.__e(D,e,i)}else s==null&&e.__v==i.__v?(e.__k=i.__k,e.__e=i.__e):l=e.__e=EPe(i.__e,e,i,r,o,s,a,u,c);return(d=Ni.diffed)&&d(e),128&e.__u?void 0:l}function xj(n,e,i){for(var r=0;r<i.length;r++)fO(i[r],i[++r],i[++r]);Ni.__c&&Ni.__c(e,n),n.some(function(o){try{n=o.__h,o.__h=[],n.some(function(s){s.call(o)})}catch(s){Ni.__e(s,o.__v)}})}function EPe(n,e,i,r,o,s,a,l,u){var c,d,f,h,p,g,b,y=i.props,m=e.props,_=e.type;if(_=="svg"?o="http://www.w3.org/2000/svg":_=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!_&&(_?p.localName==_:p.nodeType==3)){n=p,s[c]=null;break}}if(n==null){if(_==null)return document.createTextNode(m);n=document.createElementNS(o,_,m.is&&m),l&&(Ni.__m&&Ni.__m(e,s),l=!1),s=null}if(_===null)y===m||l&&n.data===m||(n.data=m);else{if(s=s&&tb.call(n.childNodes),y=i.props||l0,!l&&s!=null)for(y={},c=0;c<n.attributes.length;c++)y[(p=n.attributes[c]).name]=p.value;for(c in y)if(p=y[c],c!="children"){if(c=="dangerouslySetInnerHTML")f=p;else if(!(c in m)){if(c=="value"&&"defaultValue"in m||c=="checked"&&"defaultChecked"in m)continue;Dx(n,c,null,p,o)}}for(c in m)p=m[c],c=="children"?h=p:c=="dangerouslySetInnerHTML"?d=p:c=="value"?g=p:c=="checked"?b=p:l&&typeof p!="function"||y[c]===p||Dx(n,c,p,y[c],o);if(d)l||f&&(d.__html===f.__html||d.__html===n.innerHTML)||(n.innerHTML=d.__html),e.__k=[];else if(f&&(n.innerHTML=""),yj(n,uO(h)?h:[h],e,i,r,_=="foreignObject"?"http://www.w3.org/1999/xhtml":o,s,a,s?s[0]:i.__k&&em(i,0),l,u),s!=null)for(c=s.length;c--;)cO(s[c]);l||(c="value",_=="progress"&&g==null?n.removeAttribute("value"):g!==void 0&&(g!==n[c]||_=="progress"&&!g||_=="option"&&g!==y[c])&&Dx(n,c,g,y[c],o),c="checked",b!==void 0&&b!==n[c]&&Dx(n,c,b,y[c],o))}return n}function fO(n,e,i){try{if(typeof n=="function"){var r=typeof n.__u=="function";r&&n.__u(),r&&e==null||(n.__u=n(e))}else n.current=e}catch(o){Ni.__e(o,i)}}function _j(n,e,i){var r,o;if(Ni.unmount&&Ni.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||fO(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Ni.__e(s,e)}r.base=r.__P=null}if(r=n.__k)for(o=0;o<r.length;o++)r[o]&&_j(r[o],e,i||typeof n.type!="function");i||cO(n.__e),n.__c=n.__=n.__e=void 0}function MPe(n,e,i){return this.constructor(n,i)}function RPe(n,e,i){var r,o,s,a;e==document&&(e=document.documentElement),Ni.__&&Ni.__(n,e),o=(r=!1)?null:e.__k,s=[],a=[],dO(e,n=e.__k=CPe(oC,null,[n]),o||l0,l0,e.namespaceURI,o?null:e.firstChild?tb.call(e.childNodes):null,s,o?o.__e:e.firstChild,r,a),xj(s,n,a)}function Sj(n,e,i){var r,o,s,a,l=Xu({},n.props);for(s in n.type&&n.type.defaultProps&&(a=n.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?o=e[s]:l[s]=e[s]===void 0&&a!==void 0?a[s]:e[s];return arguments.length>2&&(l.children=arguments.length>3?tb.call(arguments,2):i),Ry(n.type,l,r||n.key,o||n.ref,null)}tb=mj.slice,Ni={__e:function(n,e,i,r){for(var o,s,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(n)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(n,r||{}),a=o.__d),a)return o.__E=o}catch(l){n=l}throw n}},fj=0,hj=function(n){return n!=null&&n.constructor==null},PS.prototype.setState=function(n,e){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Xu({},this.state),typeof n=="function"&&(n=n(Xu({},i),this.props)),n&&Xu(i,n),n!=null&&this.__v&&(e&&this._sb.push(e),Lk(this))},PS.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Lk(this))},PS.prototype.render=oC,Wf=[],pj=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nP=function(n,e){return n.__v.__b-e.__v.__b},Bw.__r=0,gj=/(PointerCapture)$|Capture$/i,lO=0,iP=Fk(!1),rP=Fk(!0);function $k(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function PPe(n){if(Array.isArray(n))return n}function IPe(n,e,i){return(e=FPe(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function NPe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function OPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uk(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function DPe(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(i),!0).forEach(function(r){IPe(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Uk(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function LPe(n,e){return PPe(n)||NPe(n,e)||$Pe(n,e)||OPe()}function BPe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FPe(n){var e=BPe(n,"string");return typeof e=="symbol"?e:e+""}function Fw(n){"@babel/helpers - typeof";return Fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fw(n)}function $Pe(n,e){if(n){if(typeof n=="string")return $k(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?$k(n,e):void 0}}var oP=function(e){if(Fw(e)!=="object")return e;var i=Sj(e);if(i.props){var r;i.props=DPe({},i.props),i!=null&&(r=i.props)!==null&&r!==void 0&&r.children&&(i.props.children=Array.isArray(i.props.children)?i.props.children.map(oP):oP(i.props.children))}return i},UPe=function(e){return hj(Sj(e))},kPe=function(e,i){delete i.__k,RPe(oP(e),i)};function zPe(n,e){e===void 0&&(e={});var i=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",i==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var HPe=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;zPe(HPe);var wj=Pm({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.style,s=o===void 0?{}:o,a=!!e&&Fw(e)==="object"&&!!e.node&&typeof e.node=="function",l=ua(a?e.node():e);l.style("position")==="static"&&l.style("position","relative"),i.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(s).forEach(function(c){var d=LPe(c,2),f=d[0],h=d[1];return i.tooltipEl.style(f,h)}),i.tooltipEl.style("left","-10000px").style("display","none");var u="tooltip-".concat(Math.round(Math.random()*1e12));i.mouseInside=!1,l.on("mousemove.".concat(u),function(c){i.mouseInside=!0;var d=Sl(c),f=l.node(),h=f.offsetWidth,p=f.offsetHeight,g=[i.offsetX===null||i.offsetX===void 0?"-".concat(d[0]/h*100,"%"):typeof i.offsetX=="number"?"calc(-50% + ".concat(i.offsetX,"px)"):i.offsetX,i.offsetY===null||i.offsetY===void 0?p>130&&p-d[1]<100?"calc(-100% - 6px)":"21px":typeof i.offsetY=="number"?i.offsetY<0?"calc(-100% - ".concat(Math.abs(i.offsetY),"px)"):"".concat(i.offsetY,"px"):i.offsetY];i.tooltipEl.style("left",d[0]+"px").style("top",d[1]+"px").style("transform","translate(".concat(g.join(","),")")),i.content&&i.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(u),function(){i.mouseInside=!0,i.content&&i.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(u),function(){i.mouseInside=!1,i.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):UPe(e.content)?(e.tooltipEl.text(""),kPe(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function Cj(n,e,i){var r,o=1;n==null&&(n=0),e==null&&(e=0),i==null&&(i=0);function s(){var a,l=r.length,u,c=0,d=0,f=0;for(a=0;a<l;++a)u=r[a],c+=u.x||0,d+=u.y||0,f+=u.z||0;for(c=(c/l-n)*o,d=(d/l-e)*o,f=(f/l-i)*o,a=0;a<l;++a)u=r[a],c&&(u.x-=c),d&&(u.y-=d),f&&(u.z-=f)}return s.initialize=function(a){r=a},s.x=function(a){return arguments.length?(n=+a,s):n},s.y=function(a){return arguments.length?(e=+a,s):e},s.z=function(a){return arguments.length?(i=+a,s):i},s.strength=function(a){return arguments.length?(o=+a,s):o},s}function GPe(n){const e=+this._x.call(null,n);return Aj(this.cover(e),e,n)}function Aj(n,e,i){if(isNaN(e))return n;var r,o=n._root,s={data:i},a=n._x0,l=n._x1,u,c,d,f,h;if(!o)return n._root=s,n;for(;o.length;)if((d=e>=(u=(a+l)/2))?a=u:l=u,r=o,!(o=o[f=+d]))return r[f]=s,n;if(c=+n._x.call(null,o.data),e===c)return s.next=o,r?r[f]=s:n._root=s,n;do r=r?r[f]=new Array(2):n._root=new Array(2),(d=e>=(u=(a+l)/2))?a=u:l=u;while((f=+d)==(h=+(c>=u)));return r[h]=o,r[f]=s,n}function VPe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,i=new Float64Array(e);let r=1/0,o=-1/0;for(let s=0,a;s<e;++s)isNaN(a=+this._x.call(null,n[s]))||(i[s]=a,a<r&&(r=a),a>o&&(o=a));if(r>o)return this;this.cover(r).cover(o);for(let s=0;s<e;++s)Aj(this,i[s],n[s]);return this}function WPe(n){if(isNaN(n=+n))return this;var e=this._x0,i=this._x1;if(isNaN(e))i=(e=Math.floor(n))+1;else{for(var r=i-e||1,o=this._root,s,a;e>n||n>=i;)switch(a=+(n<e),s=new Array(2),s[a]=o,o=s,r*=2,a){case 0:i=e+r;break;case 1:e=i-r;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._x1=i,this}function jPe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function KPe(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function rc(n,e,i){this.node=n,this.x0=e,this.x1=i}function qPe(n,e){var i,r=this._x0,o,s,a=this._x1,l=[],u=this._root,c,d;for(u&&l.push(new rc(u,r,a)),e==null?e=1/0:(r=n-e,a=n+e);c=l.pop();)if(!(!(u=c.node)||(o=c.x0)>a||(s=c.x1)<r))if(u.length){var f=(o+s)/2;l.push(new rc(u[1],f,s),new rc(u[0],o,f)),(d=+(n>=f))&&(c=l[l.length-1],l[l.length-1]=l[l.length-1-d],l[l.length-1-d]=c)}else{var h=Math.abs(n-+this._x.call(null,u.data));h<e&&(e=h,r=n-h,a=n+h,i=u.data)}return i}function XPe(n){if(isNaN(u=+this._x.call(null,n)))return this;var e,i=this._root,r,o,s,a=this._x0,l=this._x1,u,c,d,f,h;if(!i)return this;if(i.length)for(;;){if((d=u>=(c=(a+l)/2))?a=c:l=c,e=i,!(i=i[f=+d]))return this;if(!i.length)break;e[f+1&1]&&(r=e,h=f)}for(;i.data!==n;)if(o=i,!(i=i.next))return this;return(s=i.next)&&delete i.next,o?(s?o.next=s:delete o.next,this):e?(s?e[f]=s:delete e[f],(i=e[0]||e[1])&&i===(e[1]||e[0])&&!i.length&&(r?r[h]=i:this._root=i),this):(this._root=s,this)}function YPe(n){for(var e=0,i=n.length;e<i;++e)this.remove(n[e]);return this}function QPe(){return this._root}function ZPe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function JPe(n){var e=[],i,r=this._root,o,s,a;for(r&&e.push(new rc(r,this._x0,this._x1));i=e.pop();)if(!n(r=i.node,s=i.x0,a=i.x1)&&r.length){var l=(s+a)/2;(o=r[1])&&e.push(new rc(o,l,a)),(o=r[0])&&e.push(new rc(o,s,l))}return this}function eIe(n){var e=[],i=[],r;for(this._root&&e.push(new rc(this._root,this._x0,this._x1));r=e.pop();){var o=r.node;if(o.length){var s,a=r.x0,l=r.x1,u=(a+l)/2;(s=o[0])&&e.push(new rc(s,a,u)),(s=o[1])&&e.push(new rc(s,u,l))}i.push(r)}for(;r=i.pop();)n(r.node,r.x0,r.x1);return this}function tIe(n){return n[0]}function nIe(n){return arguments.length?(this._x=n,this):this._x}function Tj(n,e){var i=new hO(e??tIe,NaN,NaN);return n==null?i:i.addAll(n)}function hO(n,e,i){this._x=n,this._x0=e,this._x1=i,this._root=void 0}function kk(n){for(var e={data:n.data},i=e;n=n.next;)i=i.next={data:n.data};return e}var ps=Tj.prototype=hO.prototype;ps.copy=function(){var n=new hO(this._x,this._x0,this._x1),e=this._root,i,r;if(!e)return n;if(!e.length)return n._root=kk(e),n;for(i=[{source:e,target:n._root=new Array(2)}];e=i.pop();)for(var o=0;o<2;++o)(r=e.source[o])&&(r.length?i.push({source:r,target:e.target[o]=new Array(2)}):e.target[o]=kk(r));return n};ps.add=GPe;ps.addAll=VPe;ps.cover=WPe;ps.data=jPe;ps.extent=KPe;ps.find=qPe;ps.remove=XPe;ps.removeAll=YPe;ps.root=QPe;ps.size=ZPe;ps.visit=JPe;ps.visitAfter=eIe;ps.x=nIe;function iIe(n){const e=+this._x.call(null,n),i=+this._y.call(null,n);return Ej(this.cover(e,i),e,i,n)}function Ej(n,e,i,r){if(isNaN(e)||isNaN(i))return n;var o,s=n._root,a={data:r},l=n._x0,u=n._y0,c=n._x1,d=n._y1,f,h,p,g,b,y,m,_;if(!s)return n._root=a,n;for(;s.length;)if((b=e>=(f=(l+c)/2))?l=f:c=f,(y=i>=(h=(u+d)/2))?u=h:d=h,o=s,!(s=s[m=y<<1|b]))return o[m]=a,n;if(p=+n._x.call(null,s.data),g=+n._y.call(null,s.data),e===p&&i===g)return a.next=s,o?o[m]=a:n._root=a,n;do o=o?o[m]=new Array(4):n._root=new Array(4),(b=e>=(f=(l+c)/2))?l=f:c=f,(y=i>=(h=(u+d)/2))?u=h:d=h;while((m=y<<1|b)===(_=(g>=h)<<1|p>=f));return o[_]=s,o[m]=a,n}function rIe(n){var e,i,r=n.length,o,s,a=new Array(r),l=new Array(r),u=1/0,c=1/0,d=-1/0,f=-1/0;for(i=0;i<r;++i)isNaN(o=+this._x.call(null,e=n[i]))||isNaN(s=+this._y.call(null,e))||(a[i]=o,l[i]=s,o<u&&(u=o),o>d&&(d=o),s<c&&(c=s),s>f&&(f=s));if(u>d||c>f)return this;for(this.cover(u,c).cover(d,f),i=0;i<r;++i)Ej(this,a[i],l[i],n[i]);return this}function oIe(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var i=this._x0,r=this._y0,o=this._x1,s=this._y1;if(isNaN(i))o=(i=Math.floor(n))+1,s=(r=Math.floor(e))+1;else{for(var a=o-i||1,l=this._root,u,c;i>n||n>=o||r>e||e>=s;)switch(c=(e<r)<<1|n<i,u=new Array(4),u[c]=l,l=u,a*=2,c){case 0:o=i+a,s=r+a;break;case 1:i=o-a,s=r+a;break;case 2:o=i+a,r=s-a;break;case 3:i=o-a,r=s-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=i,this._y0=r,this._x1=o,this._y1=s,this}function sIe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function aIe(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function No(n,e,i,r,o){this.node=n,this.x0=e,this.y0=i,this.x1=r,this.y1=o}function lIe(n,e,i){var r,o=this._x0,s=this._y0,a,l,u,c,d=this._x1,f=this._y1,h=[],p=this._root,g,b;for(p&&h.push(new No(p,o,s,d,f)),i==null?i=1/0:(o=n-i,s=e-i,d=n+i,f=e+i,i*=i);g=h.pop();)if(!(!(p=g.node)||(a=g.x0)>d||(l=g.y0)>f||(u=g.x1)<o||(c=g.y1)<s))if(p.length){var y=(a+u)/2,m=(l+c)/2;h.push(new No(p[3],y,m,u,c),new No(p[2],a,m,y,c),new No(p[1],y,l,u,m),new No(p[0],a,l,y,m)),(b=(e>=m)<<1|n>=y)&&(g=h[h.length-1],h[h.length-1]=h[h.length-1-b],h[h.length-1-b]=g)}else{var _=n-+this._x.call(null,p.data),S=e-+this._y.call(null,p.data),w=_*_+S*S;if(w<i){var A=Math.sqrt(i=w);o=n-A,s=e-A,d=n+A,f=e+A,r=p.data}}return r}function uIe(n){if(isNaN(d=+this._x.call(null,n))||isNaN(f=+this._y.call(null,n)))return this;var e,i=this._root,r,o,s,a=this._x0,l=this._y0,u=this._x1,c=this._y1,d,f,h,p,g,b,y,m;if(!i)return this;if(i.length)for(;;){if((g=d>=(h=(a+u)/2))?a=h:u=h,(b=f>=(p=(l+c)/2))?l=p:c=p,e=i,!(i=i[y=b<<1|g]))return this;if(!i.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(r=e,m=y)}for(;i.data!==n;)if(o=i,!(i=i.next))return this;return(s=i.next)&&delete i.next,o?(s?o.next=s:delete o.next,this):e?(s?e[y]=s:delete e[y],(i=e[0]||e[1]||e[2]||e[3])&&i===(e[3]||e[2]||e[1]||e[0])&&!i.length&&(r?r[m]=i:this._root=i),this):(this._root=s,this)}function cIe(n){for(var e=0,i=n.length;e<i;++e)this.remove(n[e]);return this}function dIe(){return this._root}function fIe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function hIe(n){var e=[],i,r=this._root,o,s,a,l,u;for(r&&e.push(new No(r,this._x0,this._y0,this._x1,this._y1));i=e.pop();)if(!n(r=i.node,s=i.x0,a=i.y0,l=i.x1,u=i.y1)&&r.length){var c=(s+l)/2,d=(a+u)/2;(o=r[3])&&e.push(new No(o,c,d,l,u)),(o=r[2])&&e.push(new No(o,s,d,c,u)),(o=r[1])&&e.push(new No(o,c,a,l,d)),(o=r[0])&&e.push(new No(o,s,a,c,d))}return this}function pIe(n){var e=[],i=[],r;for(this._root&&e.push(new No(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var o=r.node;if(o.length){var s,a=r.x0,l=r.y0,u=r.x1,c=r.y1,d=(a+u)/2,f=(l+c)/2;(s=o[0])&&e.push(new No(s,a,l,d,f)),(s=o[1])&&e.push(new No(s,d,l,u,f)),(s=o[2])&&e.push(new No(s,a,f,d,c)),(s=o[3])&&e.push(new No(s,d,f,u,c))}i.push(r)}for(;r=i.pop();)n(r.node,r.x0,r.y0,r.x1,r.y1);return this}function gIe(n){return n[0]}function mIe(n){return arguments.length?(this._x=n,this):this._x}function vIe(n){return n[1]}function yIe(n){return arguments.length?(this._y=n,this):this._y}function Mj(n,e,i){var r=new pO(e??gIe,i??vIe,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function pO(n,e,i,r,o,s){this._x=n,this._y=e,this._x0=i,this._y0=r,this._x1=o,this._y1=s,this._root=void 0}function zk(n){for(var e={data:n.data},i=e;n=n.next;)i=i.next={data:n.data};return e}var zo=Mj.prototype=pO.prototype;zo.copy=function(){var n=new pO(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,i,r;if(!e)return n;if(!e.length)return n._root=zk(e),n;for(i=[{source:e,target:n._root=new Array(4)}];e=i.pop();)for(var o=0;o<4;++o)(r=e.source[o])&&(r.length?i.push({source:r,target:e.target[o]=new Array(4)}):e.target[o]=zk(r));return n};zo.add=iIe;zo.addAll=rIe;zo.cover=oIe;zo.data=sIe;zo.extent=aIe;zo.find=lIe;zo.remove=uIe;zo.removeAll=cIe;zo.root=dIe;zo.size=fIe;zo.visit=hIe;zo.visitAfter=pIe;zo.x=mIe;zo.y=yIe;function bIe(n){const e=+this._x.call(null,n),i=+this._y.call(null,n),r=+this._z.call(null,n);return Rj(this.cover(e,i,r),e,i,r,n)}function Rj(n,e,i,r,o){if(isNaN(e)||isNaN(i)||isNaN(r))return n;var s,a=n._root,l={data:o},u=n._x0,c=n._y0,d=n._z0,f=n._x1,h=n._y1,p=n._z1,g,b,y,m,_,S,w,A,T,C,R;if(!a)return n._root=l,n;for(;a.length;)if((w=e>=(g=(u+f)/2))?u=g:f=g,(A=i>=(b=(c+h)/2))?c=b:h=b,(T=r>=(y=(d+p)/2))?d=y:p=y,s=a,!(a=a[C=T<<2|A<<1|w]))return s[C]=l,n;if(m=+n._x.call(null,a.data),_=+n._y.call(null,a.data),S=+n._z.call(null,a.data),e===m&&i===_&&r===S)return l.next=a,s?s[C]=l:n._root=l,n;do s=s?s[C]=new Array(8):n._root=new Array(8),(w=e>=(g=(u+f)/2))?u=g:f=g,(A=i>=(b=(c+h)/2))?c=b:h=b,(T=r>=(y=(d+p)/2))?d=y:p=y;while((C=T<<2|A<<1|w)===(R=(S>=y)<<2|(_>=b)<<1|m>=g));return s[R]=a,s[C]=l,n}function xIe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,i=new Float64Array(e),r=new Float64Array(e),o=new Float64Array(e);let s=1/0,a=1/0,l=1/0,u=-1/0,c=-1/0,d=-1/0;for(let f=0,h,p,g,b;f<e;++f)isNaN(p=+this._x.call(null,h=n[f]))||isNaN(g=+this._y.call(null,h))||isNaN(b=+this._z.call(null,h))||(i[f]=p,r[f]=g,o[f]=b,p<s&&(s=p),p>u&&(u=p),g<a&&(a=g),g>c&&(c=g),b<l&&(l=b),b>d&&(d=b));if(s>u||a>c||l>d)return this;this.cover(s,a,l).cover(u,c,d);for(let f=0;f<e;++f)Rj(this,i[f],r[f],o[f],n[f]);return this}function _Ie(n,e,i){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(i=+i))return this;var r=this._x0,o=this._y0,s=this._z0,a=this._x1,l=this._y1,u=this._z1;if(isNaN(r))a=(r=Math.floor(n))+1,l=(o=Math.floor(e))+1,u=(s=Math.floor(i))+1;else{for(var c=a-r||1,d=this._root,f,h;r>n||n>=a||o>e||e>=l||s>i||i>=u;)switch(h=(i<s)<<2|(e<o)<<1|n<r,f=new Array(8),f[h]=d,d=f,c*=2,h){case 0:a=r+c,l=o+c,u=s+c;break;case 1:r=a-c,l=o+c,u=s+c;break;case 2:a=r+c,o=l-c,u=s+c;break;case 3:r=a-c,o=l-c,u=s+c;break;case 4:a=r+c,l=o+c,s=u-c;break;case 5:r=a-c,l=o+c,s=u-c;break;case 6:a=r+c,o=l-c,s=u-c;break;case 7:r=a-c,o=l-c,s=u-c;break}this._root&&this._root.length&&(this._root=d)}return this._x0=r,this._y0=o,this._z0=s,this._x1=a,this._y1=l,this._z1=u,this}function SIe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function wIe(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function ui(n,e,i,r,o,s,a){this.node=n,this.x0=e,this.y0=i,this.z0=r,this.x1=o,this.y1=s,this.z1=a}function CIe(n,e,i,r){var o,s=this._x0,a=this._y0,l=this._z0,u,c,d,f,h,p,g=this._x1,b=this._y1,y=this._z1,m=[],_=this._root,S,w;for(_&&m.push(new ui(_,s,a,l,g,b,y)),r==null?r=1/0:(s=n-r,a=e-r,l=i-r,g=n+r,b=e+r,y=i+r,r*=r);S=m.pop();)if(!(!(_=S.node)||(u=S.x0)>g||(c=S.y0)>b||(d=S.z0)>y||(f=S.x1)<s||(h=S.y1)<a||(p=S.z1)<l))if(_.length){var A=(u+f)/2,T=(c+h)/2,C=(d+p)/2;m.push(new ui(_[7],A,T,C,f,h,p),new ui(_[6],u,T,C,A,h,p),new ui(_[5],A,c,C,f,T,p),new ui(_[4],u,c,C,A,T,p),new ui(_[3],A,T,d,f,h,C),new ui(_[2],u,T,d,A,h,C),new ui(_[1],A,c,d,f,T,C),new ui(_[0],u,c,d,A,T,C)),(w=(i>=C)<<2|(e>=T)<<1|n>=A)&&(S=m[m.length-1],m[m.length-1]=m[m.length-1-w],m[m.length-1-w]=S)}else{var R=n-+this._x.call(null,_.data),E=e-+this._y.call(null,_.data),P=i-+this._z.call(null,_.data),I=R*R+E*E+P*P;if(I<r){var D=Math.sqrt(r=I);s=n-D,a=e-D,l=i-D,g=n+D,b=e+D,y=i+D,o=_.data}}return o}const AIe=(n,e,i,r,o,s)=>Math.sqrt((n-r)**2+(e-o)**2+(i-s)**2);function TIe(n,e,i,r){const o=[],s=n-r,a=e-r,l=i-r,u=n+r,c=e+r,d=i+r;return this.visit((f,h,p,g,b,y,m)=>{if(!f.length)do{const _=f.data;AIe(n,e,i,this._x(_),this._y(_),this._z(_))<=r&&o.push(_)}while(f=f.next);return h>u||p>c||g>d||b<s||y<a||m<l}),o}function EIe(n){if(isNaN(h=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n))||isNaN(g=+this._z.call(null,n)))return this;var e,i=this._root,r,o,s,a=this._x0,l=this._y0,u=this._z0,c=this._x1,d=this._y1,f=this._z1,h,p,g,b,y,m,_,S,w,A,T;if(!i)return this;if(i.length)for(;;){if((_=h>=(b=(a+c)/2))?a=b:c=b,(S=p>=(y=(l+d)/2))?l=y:d=y,(w=g>=(m=(u+f)/2))?u=m:f=m,e=i,!(i=i[A=w<<2|S<<1|_]))return this;if(!i.length)break;(e[A+1&7]||e[A+2&7]||e[A+3&7]||e[A+4&7]||e[A+5&7]||e[A+6&7]||e[A+7&7])&&(r=e,T=A)}for(;i.data!==n;)if(o=i,!(i=i.next))return this;return(s=i.next)&&delete i.next,o?(s?o.next=s:delete o.next,this):e?(s?e[A]=s:delete e[A],(i=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&i===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!i.length&&(r?r[T]=i:this._root=i),this):(this._root=s,this)}function MIe(n){for(var e=0,i=n.length;e<i;++e)this.remove(n[e]);return this}function RIe(){return this._root}function PIe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function IIe(n){var e=[],i,r=this._root,o,s,a,l,u,c,d;for(r&&e.push(new ui(r,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();)if(!n(r=i.node,s=i.x0,a=i.y0,l=i.z0,u=i.x1,c=i.y1,d=i.z1)&&r.length){var f=(s+u)/2,h=(a+c)/2,p=(l+d)/2;(o=r[7])&&e.push(new ui(o,f,h,p,u,c,d)),(o=r[6])&&e.push(new ui(o,s,h,p,f,c,d)),(o=r[5])&&e.push(new ui(o,f,a,p,u,h,d)),(o=r[4])&&e.push(new ui(o,s,a,p,f,h,d)),(o=r[3])&&e.push(new ui(o,f,h,l,u,c,p)),(o=r[2])&&e.push(new ui(o,s,h,l,f,c,p)),(o=r[1])&&e.push(new ui(o,f,a,l,u,h,p)),(o=r[0])&&e.push(new ui(o,s,a,l,f,h,p))}return this}function NIe(n){var e=[],i=[],r;for(this._root&&e.push(new ui(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();){var o=r.node;if(o.length){var s,a=r.x0,l=r.y0,u=r.z0,c=r.x1,d=r.y1,f=r.z1,h=(a+c)/2,p=(l+d)/2,g=(u+f)/2;(s=o[0])&&e.push(new ui(s,a,l,u,h,p,g)),(s=o[1])&&e.push(new ui(s,h,l,u,c,p,g)),(s=o[2])&&e.push(new ui(s,a,p,u,h,d,g)),(s=o[3])&&e.push(new ui(s,h,p,u,c,d,g)),(s=o[4])&&e.push(new ui(s,a,l,g,h,p,f)),(s=o[5])&&e.push(new ui(s,h,l,g,c,p,f)),(s=o[6])&&e.push(new ui(s,a,p,g,h,d,f)),(s=o[7])&&e.push(new ui(s,h,p,g,c,d,f))}i.push(r)}for(;r=i.pop();)n(r.node,r.x0,r.y0,r.z0,r.x1,r.y1,r.z1);return this}function OIe(n){return n[0]}function DIe(n){return arguments.length?(this._x=n,this):this._x}function LIe(n){return n[1]}function BIe(n){return arguments.length?(this._y=n,this):this._y}function FIe(n){return n[2]}function $Ie(n){return arguments.length?(this._z=n,this):this._z}function Pj(n,e,i,r){var o=new gO(e??OIe,i??LIe,r??FIe,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?o:o.addAll(n)}function gO(n,e,i,r,o,s,a,l,u){this._x=n,this._y=e,this._z=i,this._x0=r,this._y0=o,this._z0=s,this._x1=a,this._y1=l,this._z1=u,this._root=void 0}function Hk(n){for(var e={data:n.data},i=e;n=n.next;)i=i.next={data:n.data};return e}var Kr=Pj.prototype=gO.prototype;Kr.copy=function(){var n=new gO(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,i,r;if(!e)return n;if(!e.length)return n._root=Hk(e),n;for(i=[{source:e,target:n._root=new Array(8)}];e=i.pop();)for(var o=0;o<8;++o)(r=e.source[o])&&(r.length?i.push({source:r,target:e.target[o]=new Array(8)}):e.target[o]=Hk(r));return n};Kr.add=bIe;Kr.addAll=xIe;Kr.cover=_Ie;Kr.data=SIe;Kr.extent=wIe;Kr.find=CIe;Kr.findAllWithinRadius=TIe;Kr.remove=EIe;Kr.removeAll=MIe;Kr.root=RIe;Kr.size=PIe;Kr.visit=IIe;Kr.visitAfter=NIe;Kr.x=DIe;Kr.y=BIe;Kr.z=$Ie;function Yu(n){return function(){return n}}function Uu(n){return(n()-.5)*1e-6}function UIe(n){return n.index}function Gk(n,e){var i=n.get(e);if(!i)throw new Error("node not found: "+e);return i}function Ij(n){var e=UIe,i=h,r,o=Yu(30),s,a,l,u,c,d,f=1;n==null&&(n=[]);function h(m){return 1/Math.min(u[m.source.index],u[m.target.index])}function p(m){for(var _=0,S=n.length;_<f;++_)for(var w=0,A,T,C,R=0,E=0,P=0,I,D;w<S;++w)A=n[w],T=A.source,C=A.target,R=C.x+C.vx-T.x-T.vx||Uu(d),l>1&&(E=C.y+C.vy-T.y-T.vy||Uu(d)),l>2&&(P=C.z+C.vz-T.z-T.vz||Uu(d)),I=Math.sqrt(R*R+E*E+P*P),I=(I-s[w])/I*m*r[w],R*=I,E*=I,P*=I,C.vx-=R*(D=c[w]),l>1&&(C.vy-=E*D),l>2&&(C.vz-=P*D),T.vx+=R*(D=1-D),l>1&&(T.vy+=E*D),l>2&&(T.vz+=P*D)}function g(){if(a){var m,_=a.length,S=n.length,w=new Map(a.map((T,C)=>[e(T,C,a),T])),A;for(m=0,u=new Array(_);m<S;++m)A=n[m],A.index=m,typeof A.source!="object"&&(A.source=Gk(w,A.source)),typeof A.target!="object"&&(A.target=Gk(w,A.target)),u[A.source.index]=(u[A.source.index]||0)+1,u[A.target.index]=(u[A.target.index]||0)+1;for(m=0,c=new Array(S);m<S;++m)A=n[m],c[m]=u[A.source.index]/(u[A.source.index]+u[A.target.index]);r=new Array(S),b(),s=new Array(S),y()}}function b(){if(a)for(var m=0,_=n.length;m<_;++m)r[m]=+i(n[m],m,n)}function y(){if(a)for(var m=0,_=n.length;m<_;++m)s[m]=+o(n[m],m,n)}return p.initialize=function(m,..._){a=m,d=_.find(S=>typeof S=="function")||Math.random,l=_.find(S=>[1,2,3].includes(S))||2,g()},p.links=function(m){return arguments.length?(n=m,g(),p):n},p.id=function(m){return arguments.length?(e=m,p):e},p.iterations=function(m){return arguments.length?(f=+m,p):f},p.strength=function(m){return arguments.length?(i=typeof m=="function"?m:Yu(+m),b(),p):i},p.distance=function(m){return arguments.length?(o=typeof m=="function"?m:Yu(+m),y(),p):o},p}const kIe=1664525,zIe=1013904223,Vk=4294967296;function HIe(){let n=1;return()=>(n=(kIe*n+zIe)%Vk)/Vk}var Wk=3;function sE(n){return n.x}function jk(n){return n.y}function GIe(n){return n.z}var VIe=10,WIe=Math.PI*(3-Math.sqrt(5)),jIe=Math.PI*20/(9+Math.sqrt(221));function Nj(n,e){e=e||2;var i=Math.min(Wk,Math.max(1,Math.round(e))),r,o=1,s=.001,a=1-Math.pow(s,1/300),l=0,u=.6,c=new Map,d=iO(p),f=J0("tick","end"),h=HIe();n==null&&(n=[]);function p(){g(),f.call("tick",r),o<s&&(d.stop(),f.call("end",r))}function g(m){var _,S=n.length,w;m===void 0&&(m=1);for(var A=0;A<m;++A)for(o+=(l-o)*a,c.forEach(function(T){T(o)}),_=0;_<S;++_)w=n[_],w.fx==null?w.x+=w.vx*=u:(w.x=w.fx,w.vx=0),i>1&&(w.fy==null?w.y+=w.vy*=u:(w.y=w.fy,w.vy=0)),i>2&&(w.fz==null?w.z+=w.vz*=u:(w.z=w.fz,w.vz=0));return r}function b(){for(var m=0,_=n.length,S;m<_;++m){if(S=n[m],S.index=m,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),S.fz!=null&&(S.z=S.fz),isNaN(S.x)||i>1&&isNaN(S.y)||i>2&&isNaN(S.z)){var w=VIe*(i>2?Math.cbrt(.5+m):i>1?Math.sqrt(.5+m):m),A=m*WIe,T=m*jIe;i===1?S.x=w:i===2?(S.x=w*Math.cos(A),S.y=w*Math.sin(A)):(S.x=w*Math.sin(A)*Math.cos(T),S.y=w*Math.cos(A),S.z=w*Math.sin(A)*Math.sin(T))}(isNaN(S.vx)||i>1&&isNaN(S.vy)||i>2&&isNaN(S.vz))&&(S.vx=0,i>1&&(S.vy=0),i>2&&(S.vz=0))}}function y(m){return m.initialize&&m.initialize(n,h,i),m}return b(),r={tick:g,restart:function(){return d.restart(p),r},stop:function(){return d.stop(),r},numDimensions:function(m){return arguments.length?(i=Math.min(Wk,Math.max(1,Math.round(m))),c.forEach(y),r):i},nodes:function(m){return arguments.length?(n=m,b(),c.forEach(y),r):n},alpha:function(m){return arguments.length?(o=+m,r):o},alphaMin:function(m){return arguments.length?(s=+m,r):s},alphaDecay:function(m){return arguments.length?(a=+m,r):+a},alphaTarget:function(m){return arguments.length?(l=+m,r):l},velocityDecay:function(m){return arguments.length?(u=1-m,r):1-u},randomSource:function(m){return arguments.length?(h=m,c.forEach(y),r):h},force:function(m,_){return arguments.length>1?(_==null?c.delete(m):c.set(m,y(_)),r):c.get(m)},find:function(){var m=Array.prototype.slice.call(arguments),_=m.shift()||0,S=(i>1?m.shift():null)||0,w=(i>2?m.shift():null)||0,A=m.shift()||1/0,T=0,C=n.length,R,E,P,I,D,F;for(A*=A,T=0;T<C;++T)D=n[T],R=_-D.x,E=S-(D.y||0),P=w-(D.z||0),I=R*R+E*E+P*P,I<A&&(F=D,A=I);return F},on:function(m,_){return arguments.length>1?(f.on(m,_),r):f.on(m)}}}function Oj(){var n,e,i,r,o,s=Yu(-30),a,l=1,u=1/0,c=.81;function d(g){var b,y=n.length,m=(e===1?Tj(n,sE):e===2?Mj(n,sE,jk):e===3?Pj(n,sE,jk,GIe):null).visitAfter(h);for(o=g,b=0;b<y;++b)i=n[b],m.visit(p)}function f(){if(n){var g,b=n.length,y;for(a=new Array(b),g=0;g<b;++g)y=n[g],a[y.index]=+s(y,g,n)}}function h(g){var b=0,y,m,_=0,S,w,A,T,C=g.length;if(C){for(S=w=A=T=0;T<C;++T)(y=g[T])&&(m=Math.abs(y.value))&&(b+=y.value,_+=m,S+=m*(y.x||0),w+=m*(y.y||0),A+=m*(y.z||0));b*=Math.sqrt(4/C),g.x=S/_,e>1&&(g.y=w/_),e>2&&(g.z=A/_)}else{y=g,y.x=y.data.x,e>1&&(y.y=y.data.y),e>2&&(y.z=y.data.z);do b+=a[y.data.index];while(y=y.next)}g.value=b}function p(g,b,y,m,_){if(!g.value)return!0;var S=[y,m,_][e-1],w=g.x-i.x,A=e>1?g.y-i.y:0,T=e>2?g.z-i.z:0,C=S-b,R=w*w+A*A+T*T;if(C*C/c<R)return R<u&&(w===0&&(w=Uu(r),R+=w*w),e>1&&A===0&&(A=Uu(r),R+=A*A),e>2&&T===0&&(T=Uu(r),R+=T*T),R<l&&(R=Math.sqrt(l*R)),i.vx+=w*g.value*o/R,e>1&&(i.vy+=A*g.value*o/R),e>2&&(i.vz+=T*g.value*o/R)),!0;if(g.length||R>=u)return;(g.data!==i||g.next)&&(w===0&&(w=Uu(r),R+=w*w),e>1&&A===0&&(A=Uu(r),R+=A*A),e>2&&T===0&&(T=Uu(r),R+=T*T),R<l&&(R=Math.sqrt(l*R)));do g.data!==i&&(C=a[g.data.index]*o/R,i.vx+=w*C,e>1&&(i.vy+=A*C),e>2&&(i.vz+=T*C));while(g=g.next)}return d.initialize=function(g,...b){n=g,r=b.find(y=>typeof y=="function")||Math.random,e=b.find(y=>[1,2,3].includes(y))||2,f()},d.strength=function(g){return arguments.length?(s=typeof g=="function"?g:Yu(+g),f(),d):s},d.distanceMin=function(g){return arguments.length?(l=g*g,d):Math.sqrt(l)},d.distanceMax=function(g){return arguments.length?(u=g*g,d):Math.sqrt(u)},d.theta=function(g){return arguments.length?(c=g*g,d):Math.sqrt(c)},d}function Dj(n,e,i,r){var o,s,a=Yu(.1),l,u;typeof n!="function"&&(n=Yu(+n)),e==null&&(e=0),i==null&&(i=0),r==null&&(r=0);function c(f){for(var h=0,p=o.length;h<p;++h){var g=o[h],b=g.x-e||1e-6,y=(g.y||0)-i||1e-6,m=(g.z||0)-r||1e-6,_=Math.sqrt(b*b+y*y+m*m),S=(u[h]-_)*l[h]*f/_;g.vx+=b*S,s>1&&(g.vy+=y*S),s>2&&(g.vz+=m*S)}}function d(){if(o){var f,h=o.length;for(l=new Array(h),u=new Array(h),f=0;f<h;++f)u[f]=+n(o[f],f,o),l[f]=isNaN(u[f])?0:+a(o[f],f,o)}}return c.initialize=function(f,...h){o=f,s=h.find(p=>[1,2,3].includes(p))||2,d()},c.strength=function(f){return arguments.length?(a=typeof f=="function"?f:Yu(+f),d(),c):a},c.radius=function(f){return arguments.length?(n=typeof f=="function"?f:Yu(+f),d(),c):n},c.x=function(f){return arguments.length?(e=+f,c):e},c.y=function(f){return arguments.length?(i=+f,c):i},c.z=function(f){return arguments.length?(r=+f,c):r},c}const{abs:vv,cos:bu,sin:dp,acos:KIe,atan2:yv,sqrt:qc,pow:sa}=Math;function bv(n){return n<0?-sa(-n,1/3):sa(n,1/3)}const Lj=Math.PI,Lx=2*Lj,Xc=Lj/2,qIe=1e-6,aE=Number.MAX_SAFE_INTEGER||9007199254740991,lE=Number.MIN_SAFE_INTEGER||-9007199254740991,XIe={x:0,y:0,z:0},bt={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const i=e(n);let r=i.x*i.x+i.y*i.y;return typeof i.z<"u"&&(r+=i.z*i.z),qc(r)},compute:function(n,e,i){if(n===0)return e[0].t=0,e[0];const r=e.length-1;if(n===1)return e[r].t=1,e[r];const o=1-n;let s=e;if(r===0)return e[0].t=n,e[0];if(r===1){const l={x:o*s[0].x+n*s[1].x,y:o*s[0].y+n*s[1].y,t:n};return i&&(l.z=o*s[0].z+n*s[1].z),l}if(r<4){let l=o*o,u=n*n,c,d,f,h=0;r===2?(s=[s[0],s[1],s[2],XIe],c=l,d=o*n*2,f=u):r===3&&(c=l*o,d=l*n*3,f=o*u*3,h=n*u);const p={x:c*s[0].x+d*s[1].x+f*s[2].x+h*s[3].x,y:c*s[0].y+d*s[1].y+f*s[2].y+h*s[3].y,t:n};return i&&(p.z=c*s[0].z+d*s[1].z+f*s[2].z+h*s[3].z),p}const a=JSON.parse(JSON.stringify(e));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*n,y:a[l].y+(a[l+1].y-a[l].y)*n},typeof a[l].z<"u"&&(a[l].z=a[l].z+(a[l+1].z-a[l].z)*n);a.splice(a.length-1,1)}return a[0].t=n,a[0]},computeWithRatios:function(n,e,i,r){const o=1-n,s=i,a=e;let l=s[0],u=s[1],c=s[2],d=s[3],f;if(l*=o,u*=n,a.length===2)return f=l+u,{x:(l*a[0].x+u*a[1].x)/f,y:(l*a[0].y+u*a[1].y)/f,z:r?(l*a[0].z+u*a[1].z)/f:!1,t:n};if(l*=o,u*=2*o,c*=n*n,a.length===3)return f=l+u+c,{x:(l*a[0].x+u*a[1].x+c*a[2].x)/f,y:(l*a[0].y+u*a[1].y+c*a[2].y)/f,z:r?(l*a[0].z+u*a[1].z+c*a[2].z)/f:!1,t:n};if(l*=o,u*=1.5*o,c*=3*o,d*=n*n*n,a.length===4)return f=l+u+c+d,{x:(l*a[0].x+u*a[1].x+c*a[2].x+d*a[3].x)/f,y:(l*a[0].y+u*a[1].y+c*a[2].y+d*a[3].y)/f,z:r?(l*a[0].z+u*a[1].z+c*a[2].z+d*a[3].z)/f:!1,t:n}},derive:function(n,e){const i=[];for(let r=n,o=r.length,s=o-1;o>1;o--,s--){const a=[];for(let l=0,u;l<s;l++)u={x:s*(r[l+1].x-r[l].x),y:s*(r[l+1].y-r[l].y)},e&&(u.z=s*(r[l+1].z-r[l].z)),a.push(u);i.push(a),r=a}return i},between:function(n,e,i){return e<=n&&n<=i||bt.approximately(n,e)||bt.approximately(n,i)},approximately:function(n,e,i){return vv(n-e)<=(i||qIe)},length:function(n){const i=bt.Tvalues.length;let r=0;for(let o=0,s;o<i;o++)s=.5*bt.Tvalues[o]+.5,r+=bt.Cvalues[o]*bt.arcfn(s,n);return .5*r},map:function(n,e,i,r,o){const s=i-e,a=o-r,l=n-e,u=l/s;return r+a*u},lerp:function(n,e,i){const r={x:e.x+n*(i.x-e.x),y:e.y+n*(i.y-e.y)};return e.z!==void 0&&i.z!==void 0&&(r.z=e.z+n*(i.z-e.z)),r},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(bt.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,i){const r=e.x-n.x,o=e.y-n.y,s=i.x-n.x,a=i.y-n.y,l=r*a-o*s,u=r*s+o*a;return yv(l,u)},round:function(n,e){const i=""+n,r=i.indexOf(".");return parseFloat(i.substring(0,r+1+e))},dist:function(n,e){const i=n.x-e.x,r=n.y-e.y;return qc(i*i+r*r)},closest:function(n,e){let i=sa(2,63),r,o;return n.forEach(function(s,a){o=bt.dist(e,s),o<i&&(i=o,r=a)}),{mdist:i,mpos:r}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const i=sa(n,e)+sa(1-n,e),r=i-1;return vv(r/i)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const i=sa(1-n,e),r=sa(n,e)+i;return i/r},lli8:function(n,e,i,r,o,s,a,l){const u=(n*r-e*i)*(o-a)-(n-i)*(o*l-s*a),c=(n*r-e*i)*(s-l)-(e-r)*(o*l-s*a),d=(n-i)*(s-l)-(e-r)*(o-a);return d==0?!1:{x:u/d,y:c/d}},lli4:function(n,e,i,r){const o=n.x,s=n.y,a=e.x,l=e.y,u=i.x,c=i.y,d=r.x,f=r.y;return bt.lli8(o,s,a,l,u,c,d,f)},lli:function(n,e){return bt.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new bi(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=aE,i=aE,r=lE,o=lE;return n.forEach(function(s){const a=s.bbox();e>a.x.min&&(e=a.x.min),i>a.y.min&&(i=a.y.min),r<a.x.max&&(r=a.x.max),o<a.y.max&&(o=a.y.max)}),{x:{min:e,mid:(e+r)/2,max:r,size:r-e},y:{min:i,mid:(i+o)/2,max:o,size:o-i}}},shapeintersections:function(n,e,i,r,o){if(!bt.bboxoverlap(e,r))return[];const s=[],a=[n.startcap,n.forward,n.back,n.endcap],l=[i.startcap,i.forward,i.back,i.endcap];return a.forEach(function(u){u.virtual||l.forEach(function(c){if(c.virtual)return;const d=u.intersects(c,o);d.length>0&&(d.c1=u,d.c2=c,d.s1=n,d.s2=i,s.push(d))})}),s},makeshape:function(n,e,i){const r=e.points.length,o=n.points.length,s=bt.makeline(e.points[r-1],n.points[0]),a=bt.makeline(n.points[o-1],e.points[0]),l={startcap:s,forward:n,back:e,endcap:a,bbox:bt.findbbox([s,n,e,a])};return l.intersections=function(u){return bt.shapeintersections(l,l.bbox,u,u.bbox,i)},l},getminmax:function(n,e,i){if(!i)return{min:0,max:0};let r=aE,o=lE,s,a;i.indexOf(0)===-1&&(i=[0].concat(i)),i.indexOf(1)===-1&&i.push(1);for(let l=0,u=i.length;l<u;l++)s=i[l],a=n.get(s),a[e]<r&&(r=a[e]),a[e]>o&&(o=a[e]);return{min:r,mid:(r+o)/2,max:o,size:o-r}},align:function(n,e){const i=e.p1.x,r=e.p1.y,o=-yv(e.p2.y-r,e.p2.x-i),s=function(a){return{x:(a.x-i)*bu(o)-(a.y-r)*dp(o),y:(a.x-i)*dp(o)+(a.y-r)*bu(o)}};return n.map(s)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const i=n.length-1,r=bt.align(n,e),o=function(C){return 0<=C&&C<=1};if(i===2){const C=r[0].y,R=r[1].y,E=r[2].y,P=C-2*R+E;if(P!==0){const I=-qc(R*R-C*E),D=-C+R,F=-(I+D)/P,L=-(-I+D)/P;return[F,L].filter(o)}else if(R!==E&&P===0)return[(2*R-E)/(2*R-2*E)].filter(o);return[]}const s=r[0].y,a=r[1].y,l=r[2].y,u=r[3].y;let c=-s+3*a-3*l+u,d=3*s-6*a+3*l,f=-3*s+3*a,h=s;if(bt.approximately(c,0)){if(bt.approximately(d,0))return bt.approximately(f,0)?[]:[-h/f].filter(o);const C=qc(f*f-4*d*h),R=2*d;return[(C-f)/R,(-f-C)/R].filter(o)}d/=c,f/=c,h/=c;const p=(3*f-d*d)/3,g=p/3,b=(2*d*d*d-9*d*f+27*h)/27,y=b/2,m=y*y+g*g*g;let _,S,w,A,T;if(m<0){const C=-p/3,R=C*C*C,E=qc(R),P=-b/(2*E),I=P<-1?-1:P>1?1:P,D=KIe(I),F=bv(E),L=2*F;return w=L*bu(D/3)-d/3,A=L*bu((D+Lx)/3)-d/3,T=L*bu((D+2*Lx)/3)-d/3,[w,A,T].filter(o)}else{if(m===0)return _=y<0?bv(-y):-bv(y),w=2*_-d/3,A=-_-d/3,[w,A].filter(o);{const C=qc(m);return _=bv(-y+C),S=bv(y+C),[_-S-d/3].filter(o)}}},droots:function(n){if(n.length===3){const e=n[0],i=n[1],r=n[2],o=e-2*i+r;if(o!==0){const s=-qc(i*i-e*r),a=-e+i,l=-(s+a)/o,u=-(-s+a)/o;return[l,u]}else if(i!==r&&o===0)return[(2*i-r)/(2*(i-r))];return[]}if(n.length===2){const e=n[0],i=n[1];return e!==i?[e/(e-i)]:[]}return[]},curvature:function(n,e,i,r,o){let s,a,l,u,c=0,d=0;const f=bt.compute(n,e),h=bt.compute(n,i),p=f.x*f.x+f.y*f.y;if(r?(s=qc(sa(f.y*h.z-h.y*f.z,2)+sa(f.z*h.x-h.z*f.x,2)+sa(f.x*h.y-h.x*f.y,2)),a=sa(p+f.z*f.z,3/2)):(s=f.x*h.y-f.y*h.x,a=sa(p,3/2)),s===0||a===0)return{k:0,r:0};if(c=s/a,d=a/s,!o){const g=bt.curvature(n-.001,e,i,r,!0).k,b=bt.curvature(n+.001,e,i,r,!0).k;u=(b-c+(c-g))/2,l=(vv(b-c)+vv(c-g))/2}return{k:c,r:d,dk:u,adk:l}},inflections:function(n){if(n.length<4)return[];const e=bt.align(n,{p1:n[0],p2:n.slice(-1)[0]}),i=e[2].x*e[1].y,r=e[3].x*e[1].y,o=e[1].x*e[2].y,s=e[3].x*e[2].y,a=18*(-3*i+2*r+3*o-s),l=18*(3*i-r-3*o),u=18*(o-i);if(bt.approximately(a,0)){if(!bt.approximately(l,0)){let h=-u/l;if(0<=h&&h<=1)return[h]}return[]}const c=2*a;if(bt.approximately(c,0))return[];const d=l*l-4*a*u;if(d<0)return[];const f=Math.sqrt(d);return[(f-l)/c,-(l+f)/c].filter(function(h){return 0<=h&&h<=1})},bboxoverlap:function(n,e){const i=["x","y"],r=i.length;for(let o=0,s,a,l,u;o<r;o++)if(s=i[o],a=n[s].mid,l=e[s].mid,u=(n[s].size+e[s].size)/2,vv(a-l)>=u)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,i){const r=n.bbox(),o=e.bbox(),s=1e5,a=i||.5;if(r.x.size+r.y.size<a&&o.x.size+o.y.size<a)return[(s*(n._t1+n._t2)/2|0)/s+"/"+(s*(e._t1+e._t2)/2|0)/s];let l=n.split(.5),u=e.split(.5),c=[{left:l.left,right:u.left},{left:l.left,right:u.right},{left:l.right,right:u.right},{left:l.right,right:u.left}];c=c.filter(function(f){return bt.bboxoverlap(f.left.bbox(),f.right.bbox())});let d=[];return c.length===0||(c.forEach(function(f){d=d.concat(bt.pairiteration(f.left,f.right,a))}),d=d.filter(function(f,h){return d.indexOf(f)===h})),d},getccenter:function(n,e,i){const r=e.x-n.x,o=e.y-n.y,s=i.x-e.x,a=i.y-e.y,l=r*bu(Xc)-o*dp(Xc),u=r*dp(Xc)+o*bu(Xc),c=s*bu(Xc)-a*dp(Xc),d=s*dp(Xc)+a*bu(Xc),f=(n.x+e.x)/2,h=(n.y+e.y)/2,p=(e.x+i.x)/2,g=(e.y+i.y)/2,b=f+l,y=h+u,m=p+c,_=g+d,S=bt.lli8(f,h,b,y,p,g,m,_),w=bt.dist(S,n);let A=yv(n.y-S.y,n.x-S.x),T=yv(e.y-S.y,e.x-S.x),C=yv(i.y-S.y,i.x-S.x),R;return A<C?((A>T||T>C)&&(A+=Lx),A>C&&(R=C,C=A,A=R)):C<T&&T<A?(R=C,C=A,A=R):C+=Lx,S.s=A,S.e=C,S.r=w,S},numberSort:function(n,e){return n-e}};class Py{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return bt.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,i){return e+i})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var i=e[0].bbox(),r=1;r<e.length;r++)bt.expandbox(i,e[r].bbox());return i}offset(e){const i=[];return this.curves.forEach(function(r){i.push(...r.offset(e))}),new Py(i)}}const{abs:xv,min:Kk,max:qk,cos:YIe,sin:QIe,acos:ZIe,sqrt:_v}=Math,JIe=Math.PI;class bi{constructor(e){let i=e&&e.forEach?e:Array.from(arguments).slice(),r=!1;if(typeof i[0]=="object"){r=i.length;const p=[];i.forEach(function(g){["x","y","z"].forEach(function(b){typeof g[b]<"u"&&p.push(g[b])})}),i=p}let o=!1;const s=i.length;if(r){if(r>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(s!==6&&s!==8&&s!==9&&s!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!o&&(s===9||s===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let p=0,g=a?3:2;p<s;p+=g){var u={x:i[p],y:i[p+1]};a&&(u.z=i[p+2]),l.push(u)}const c=this.order=l.length-1,d=this.dims=["x","y"];a&&d.push("z"),this.dimlen=d.length;const f=bt.align(l,{p1:l[0],p2:l[c]}),h=bt.dist(l[0],l[c]);this._linear=f.reduce((p,g)=>p+xv(g.y),0)<h/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,i,r,o){if(typeof o>"u"&&(o=.5),o===0)return new bi(i,i,r);if(o===1)return new bi(e,i,i);const s=bi.getABC(2,e,i,r,o);return new bi(e,s.A,r)}static cubicFromPoints(e,i,r,o,s){typeof o>"u"&&(o=.5);const a=bi.getABC(3,e,i,r,o);typeof s>"u"&&(s=bt.dist(i,a.C));const l=s*(1-o)/o,u=bt.dist(e,r),c=(r.x-e.x)/u,d=(r.y-e.y)/u,f=s*c,h=s*d,p=l*c,g=l*d,b={x:i.x-f,y:i.y-h},y={x:i.x+p,y:i.y+g},m=a.A,_={x:m.x+(b.x-m.x)/(1-o),y:m.y+(b.y-m.y)/(1-o)},S={x:m.x+(y.x-m.x)/o,y:m.y+(y.y-m.y)/o},w={x:e.x+(_.x-e.x)/o,y:e.y+(_.y-e.y)/o},A={x:r.x+(S.x-r.x)/(1-o),y:r.y+(S.y-r.y)/(1-o)};return new bi(e,w,A,r)}static getUtils(){return bt}getUtils(){return bi.getUtils()}static get PolyBezier(){return Py}valueOf(){return this.toString()}toString(){return bt.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,i=e[0].x,r=e[0].y,o=["M",i,r,this.order===2?"Q":"C"];for(let s=1,a=e.length;s<a;s++)o.push(e[s].x),o.push(e[s].y);return o.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,i){return""+i+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=bt.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,i=bt.angle(e[0],e[this.order],e[1]);this.clockwise=i>0}length(){return bt.length(this.derivative.bind(this))}static getABC(e=2,i,r,o,s=.5){const a=bt.projectionratio(s,e),l=1-a,u={x:a*i.x+l*o.x,y:a*i.y+l*o.y},c=bt.abcratio(s,e);return{A:{x:r.x+(r.x-u.x)/c,y:r.y+(r.y-u.y)/c},B:r,C:u,S:i,E:o}}getABC(e,i){i=i||this.get(e);let r=this.points[0],o=this.points[this.order];return bi.getABC(this.order,r,i,o,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let i=0,r,o;i<e;i++)o=i/(e-1),r=this.compute(o),r.t=o,this._lut.push(r);return this._lut}on(e,i){i=i||5;const r=this.getLUT(),o=[];for(let s=0,a,l=0;s<r.length;s++)a=r[s],bt.dist(a,e)<i&&(o.push(a),l+=s/r.length);return o.length?t/=o.length:!1}project(e){const i=this.getLUT(),r=i.length-1,o=bt.closest(i,e),s=o.mpos,a=(s-1)/r,l=(s+1)/r,u=.1/r;let c=o.mdist,d=a,f=d,h;c+=1;for(let p;d<l+u;d+=u)h=this.compute(d),p=bt.dist(e,h),p<c&&(c=p,f=d);return f=f<0?0:f>1?1:f,h=this.compute(f),h.t=f,h.d=c,h}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?bt.computeWithRatios(e,this.points,this.ratios,this._3d):bt.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,i=[e[0]],r=e.length;for(let o=1,s,a;o<r;o++)s=e[o],a=e[o-1],i[o]={x:(r-o)/r*s.x+o/r*a.x,y:(r-o)/r*s.y+o/r*a.y};return i[r]=e[r-1],new bi(i)}derivative(e){return bt.compute(e,this.dpoints[0],this._3d)}dderivative(e){return bt.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new bi(bt.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return bt.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return bt.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const i=this.derivative(e),r=_v(i.x*i.x+i.y*i.y);return{t:e,x:-i.y/r,y:i.x/r}}__normal3(e){const i=this.derivative(e),r=this.derivative(e+.01),o=_v(i.x*i.x+i.y*i.y+i.z*i.z),s=_v(r.x*r.x+r.y*r.y+r.z*r.z);i.x/=o,i.y/=o,i.z/=o,r.x/=s,r.y/=s,r.z/=s;const a={x:r.y*i.z-r.z*i.y,y:r.z*i.x-r.x*i.z,z:r.x*i.y-r.y*i.x},l=_v(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const u=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:e,x:u[0]*i.x+u[1]*i.y+u[2]*i.z,y:u[3]*i.x+u[4]*i.y+u[5]*i.z,z:u[6]*i.x+u[7]*i.y+u[8]*i.z}}hull(e){let i=this.points,r=[],o=[],s=0;for(o[s++]=i[0],o[s++]=i[1],o[s++]=i[2],this.order===3&&(o[s++]=i[3]);i.length>1;){r=[];for(let a=0,l,u=i.length-1;a<u;a++)l=bt.lerp(e,i[a],i[a+1]),o[s++]=l,r.push(l);i=r}return o}split(e,i){if(e===0&&i)return this.split(i).left;if(i===1)return this.split(e).right;const r=this.hull(e),o={left:this.order===2?new bi([r[0],r[3],r[5]]):new bi([r[0],r[4],r[7],r[9]]),right:this.order===2?new bi([r[5],r[4],r[2]]):new bi([r[9],r[8],r[6],r[3]]),span:r};return o.left._t1=bt.map(0,0,1,this._t1,this._t2),o.left._t2=bt.map(e,0,1,this._t1,this._t2),o.right._t1=bt.map(e,0,1,this._t1,this._t2),o.right._t2=bt.map(1,0,1,this._t1,this._t2),i?(i=bt.map(i,e,1,0,1),o.right.split(i).left):o}extrema(){const e={};let i=[];return this.dims.forEach((function(r){let o=function(a){return a[r]},s=this.dpoints[0].map(o);e[r]=bt.droots(s),this.order===3&&(s=this.dpoints[1].map(o),e[r]=e[r].concat(bt.droots(s))),e[r]=e[r].filter(function(a){return a>=0&&a<=1}),i=i.concat(e[r].sort(bt.numberSort))}).bind(this)),e.values=i.sort(bt.numberSort).filter(function(r,o){return i.indexOf(r)===o}),e}bbox(){const e=this.extrema(),i={};return this.dims.forEach((function(r){i[r]=bt.getminmax(this,r,e[r])}).bind(this)),i}overlaps(e){const i=this.bbox(),r=e.bbox();return bt.bboxoverlap(i,r)}offset(e,i){if(typeof i<"u"){const r=this.get(e),o=this.normal(e),s={c:r,n:o,x:r.x+o.x*i,y:r.y+o.y*i};return this._3d&&(s.z=r.z+o.z*i),s}if(this._linear){const r=this.normal(0),o=this.points.map(function(s){const a={x:s.x+e*r.x,y:s.y+e*r.y};return s.z&&r.z&&(a.z=s.z+e*r.z),a});return[new bi(o)]}return this.reduce().map(function(r){return r._linear?r.offset(e)[0]:r.scale(e)})}simple(){if(this.order===3){const o=bt.angle(this.points[0],this.points[3],this.points[1]),s=bt.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&s<0||o<0&&s>0)return!1}const e=this.normal(0),i=this.normal(1);let r=e.x*i.x+e.y*i.y;return this._3d&&(r+=e.z*i.z),xv(ZIe(r))<JIe/3}reduce(){let e,i=0,r=0,o=.01,s,a=[],l=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),i=u[0],e=1;e<u.length;e++)r=u[e],s=this.split(i,r),s._t1=i,s._t2=r,a.push(s),i=r;return a.forEach(function(c){for(i=0,r=0;r<=1;)for(r=i+o;r<=1+o;r+=o)if(s=c.split(i,r),!s.simple()){if(r-=o,xv(i-r)<o)return[];s=c.split(i,r),s._t1=bt.map(i,0,1,c._t1,c._t2),s._t2=bt.map(r,0,1,c._t1,c._t2),l.push(s),i=r;break}i<1&&(s=c.split(i,1),s._t1=bt.map(i,0,1,c._t1,c._t2),s._t2=c._t2,l.push(s))}),l}translate(e,i,r){r=typeof r=="number"?r:i;const o=this.order;let s=this.points.map((a,l)=>(1-l/o)*i+l/o*r);return new bi(this.points.map((a,l)=>({x:a.x+e.x*s[l],y:a.y+e.y*s[l]})))}scale(e){const i=this.order;let r=!1;if(typeof e=="function"&&(r=e),r&&i===2)return this.raise().scale(r);const o=this.clockwise,s=this.points;if(this._linear)return this.translate(this.normal(0),r?r(0):e,r?r(1):e);const a=r?r(0):e,l=r?r(1):e,u=[this.offset(0,10),this.offset(1,10)],c=[],d=bt.lli4(u[0],u[0].c,u[1],u[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(f){const h=c[f*i]=bt.copy(s[f*i]);h.x+=(f?l:a)*u[f].n.x,h.y+=(f?l:a)*u[f].n.y}),r?([0,1].forEach(function(f){if(!(i===2&&f)){var h=s[f+1],p={x:h.x-d.x,y:h.y-d.y},g=r?r((f+1)/i):e;r&&!o&&(g=-g);var b=_v(p.x*p.x+p.y*p.y);p.x/=b,p.y/=b,c[f+1]={x:h.x+g*p.x,y:h.y+g*p.y}}}),new bi(c)):([0,1].forEach(f=>{if(i===2&&f)return;const h=c[f*i],p=this.derivative(f),g={x:h.x+p.x,y:h.y+p.y};c[f+1]=bt.lli4(h,g,d,s[f+1])}),new bi(c))}outline(e,i,r,o){if(i=i===void 0?e:i,this._linear){const A=this.normal(0),T=this.points[0],C=this.points[this.points.length-1];let R,E,P;r===void 0&&(r=e,o=i),R={x:T.x+A.x*e,y:T.y+A.y*e},P={x:C.x+A.x*r,y:C.y+A.y*r},E={x:(R.x+P.x)/2,y:(R.y+P.y)/2};const I=[R,E,P];R={x:T.x-A.x*i,y:T.y-A.y*i},P={x:C.x-A.x*o,y:C.y-A.y*o},E={x:(R.x+P.x)/2,y:(R.y+P.y)/2};const D=[P,E,R],F=bt.makeline(D[2],I[0]),L=bt.makeline(I[2],D[0]),$=[F,new bi(I),L,new bi(D)];return new Py($)}const s=this.reduce(),a=s.length,l=[];let u=[],c,d=0,f=this.length();const h=typeof r<"u"&&typeof o<"u";function p(A,T,C,R,E){return function(P){const I=R/C,D=(R+E)/C,F=T-A;return bt.map(P,0,1,A+I*F,A+D*F)}}s.forEach(function(A){const T=A.length();h?(l.push(A.scale(p(e,r,f,d,T))),u.push(A.scale(p(-i,-o,f,d,T)))):(l.push(A.scale(e)),u.push(A.scale(-i))),d+=T}),u=u.map(function(A){return c=A.points,c[3]?A.points=[c[3],c[2],c[1],c[0]]:A.points=[c[2],c[1],c[0]],A}).reverse();const g=l[0].points[0],b=l[a-1].points[l[a-1].points.length-1],y=u[a-1].points[u[a-1].points.length-1],m=u[0].points[0],_=bt.makeline(y,g),S=bt.makeline(b,m),w=[_].concat(l).concat([S]).concat(u);return new Py(w)}outlineshapes(e,i,r){i=i||e;const o=this.outline(e,i).curves,s=[];for(let a=1,l=o.length;a<l/2;a++){const u=bt.makeshape(o[a],o[l-a],r);u.startcap.virtual=a>1,u.endcap.virtual=a<l/2-1,s.push(u)}return s}intersects(e,i){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof bi&&(e=e.reduce()),this.curveintersects(this.reduce(),e,i)):this.selfintersects(i)}lineIntersects(e){const i=Kk(e.p1.x,e.p2.x),r=Kk(e.p1.y,e.p2.y),o=qk(e.p1.x,e.p2.x),s=qk(e.p1.y,e.p2.y);return bt.roots(this.points,e).filter(a=>{var l=this.get(a);return bt.between(l.x,i,o)&&bt.between(l.y,r,s)})}selfintersects(e){const i=this.reduce(),r=i.length-2,o=[];for(let s=0,a,l,u;s<r;s++)l=i.slice(s,s+1),u=i.slice(s+2),a=this.curveintersects(l,u,e),o.push(...a);return o}curveintersects(e,i,r){const o=[];e.forEach(function(a){i.forEach(function(l){a.overlaps(l)&&o.push({left:a,right:l})})});let s=[];return o.forEach(function(a){const l=bt.pairiteration(a.left,a.right,r);l.length>0&&(s=s.concat(l))}),s}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,i,r,o){const s=(o-r)/4,a=this.get(r+s),l=this.get(o-s),u=bt.dist(e,i),c=bt.dist(e,a),d=bt.dist(e,l);return xv(c-u)+xv(d-u)}_iterate(e,i){let r=0,o=1,s;do{s=0,o=1;let a=this.get(r),l,u,c,d,f=!1,h=!1,p,g=o,b=1;do if(h=f,d=c,g=(r+o)/2,l=this.get(g),u=this.get(o),c=bt.getccenter(a,l,u),c.interval={start:r,end:o},f=this._error(c,a,r,o)<=e,p=h&&!f,p||(b=o),f){if(o>=1){if(c.interval.end=b=1,d=c,o>1){let m={x:c.x+c.r*YIe(c.e),y:c.y+c.r*QIe(c.e)};c.e+=bt.angle({x:c.x,y:c.y},m,this.get(1))}break}o=o+(o-r)/2}else o=g;while(!p&&s++<100);if(s>=100)break;d=d||c,i.push(d),r=b}while(o<1);return i}}function sP(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function eNe(n){if(Array.isArray(n))return n}function tNe(n){if(Array.isArray(n))return sP(n)}function nNe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function iNe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function rNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sNe(n,e){if(n==null)return{};var i,r,o=aNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],e.includes(i)||{}.propertyIsEnumerable.call(n,i)&&(o[i]=n[i])}return o}function aNe(n,e){if(n==null)return{};var i={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;i[r]=n[r]}return i}function lNe(n,e){return eNe(n)||iNe(n,e)||Bj(n,e)||rNe()}function uNe(n){return tNe(n)||nNe(n)||Bj(n)||oNe()}function cNe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function dNe(n){var e=cNe(n,"string");return typeof e=="symbol"?e:e+""}function Bj(n,e){if(n){if(typeof n=="string")return sP(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?sP(n,e):void 0}}var fNe=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),s=n.reduce(function(l,u){var c=l,d=u;return o.forEach(function(f,h){var p=f.keyAccessor,g=f.isProp,b;if(g){var y=d,m=y[p],_=sNe(y,[p].map(dNe));b=m,d=_}else b=p(d,h);h+1<o.length?(c.hasOwnProperty(b)||(c[b]={}),c=c[b]):i?(c.hasOwnProperty(b)||(c[b]=[]),c[b].push(d)):c[b]=d}),l},{});i instanceof Function&&function l(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;c===o.length?Object.keys(u).forEach(function(d){return u[d]=i(u[d])}):Object.values(u).forEach(function(d){return l(d,c+1)})}(s);var a=s;return r&&(a=[],function l(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c.length===o.length?a.push({keys:c,vals:u}):Object.entries(u).forEach(function(d){var f=lNe(d,2),h=f[0],p=f[1];return l(p,[].concat(uNe(c),[h]))})}(s),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a};function hNe(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const Xk=Symbol("implicit");function mO(){var n=new Sk,e=[],i=[],r=Xk;function o(s){let a=n.get(s);if(a===void 0){if(r!==Xk)return r;n.set(s,a=e.push(s)-1)}return i[a%i.length]}return o.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new Sk;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return o},o.range=function(s){return arguments.length?(i=Array.from(s),o):i.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.copy=function(){return mO(e,i).unknown(r)},hNe.apply(o,arguments),o}function pNe(n){for(var e=n.length/6|0,i=new Array(e),r=0;r<e;)i[r]="#"+n.slice(r*6,++r*6);return i}const Fj=pNe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function gNe(n,e){e===void 0&&(e={});var i=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",i==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var mNe=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;gNe(mNe);function aP(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function vNe(n){if(Array.isArray(n))return n}function yNe(n){if(Array.isArray(n))return aP(n)}function Yk(n,e,i){if($j())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(n.bind.apply(n,r));return o}function u0(n,e,i){return(e=CNe(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function $j(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($j=function(){return!!n})()}function bNe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function xNe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function _Ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qk(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function fp(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(i),!0).forEach(function(r){u0(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Qk(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function Iy(n,e){return vNe(n)||xNe(n,e)||Uj(n,e)||_Ne()}function ca(n){return yNe(n)||bNe(n)||Uj(n)||SNe()}function wNe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CNe(n){var e=wNe(n,"string");return typeof e=="symbol"?e:e+""}function lP(n){"@babel/helpers - typeof";return lP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lP(n)}function Uj(n,e){if(n){if(typeof n=="string")return aP(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?aP(n,e):void 0}}var ANe=mO(Fj);function Zk(n,e,i){!e||typeof i!="string"||n.filter(function(r){return!r[i]}).forEach(function(r){r[i]=ANe(e(r))})}function TNe(n,e){var i=n.nodes,r=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.nodeFilter,a=s===void 0?function(){return!0}:s,l=o.onLoopError,u=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,c={};i.forEach(function(p){return c[e(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),r.forEach(function(p){var g=p.source,b=p.target,y=w(g),m=w(b);if(!c.hasOwnProperty(y))throw"Missing source node with id: ".concat(y);if(!c.hasOwnProperty(m))throw"Missing target node with id: ".concat(m);var _=c[y],S=c[m];_.out.push(S);function w(A){return lP(A)==="object"?e(A):A}});var d=[];h(Object.values(c));var f=Object.assign.apply(Object,[{}].concat(ca(Object.entries(c).filter(function(p){var g=Iy(p,2),b=g[1];return!b.skip}).map(function(p){var g=Iy(p,2),b=g[0],y=g[1];return u0({},b,y.depth)}))));return f;function h(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=function(){var w=p[m];if(g.indexOf(w)!==-1){var A=[].concat(ca(g.slice(g.indexOf(w))),[w]).map(function(T){return e(T.data)});return d.some(function(T){return T.length===A.length&&T.every(function(C,R){return C===A[R]})})||(d.push(A),u(A)),1}b>w.depth&&(w.depth=b,h(w.out,[].concat(ca(g),[w]),b+(w.skip?0:1)))},m=0,_=p.length;m<_;m++)y()}}var ENe=2,Zr=function(e,i){return i.onNeedsRedraw&&i.onNeedsRedraw()},Jk=function(e,i){if(!i.isShadow){var r=Ot(i.linkDirectionalParticles);i.graphData.links.forEach(function(o){var s=Math.round(Math.abs(r(o)));s?o.__photons=ca(Array(s)).map(function(){return{}}):delete o.__photons})}},$w=Pm({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,i){i.engineRunning=!1,Jk(e,i)}},dagMode:{onChange:function(e,i){!e&&(i.graphData.nodes||[]).forEach(function(r){return r.fx=r.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Zr},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Zr},nodeColor:{default:"color",triggerUpdate:!1,onChange:Zr},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Zr},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Zr},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Zr},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Zr},linkColor:{default:"color",triggerUpdate:!1,onChange:Zr},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Zr},linkWidth:{default:1,triggerUpdate:!1,onChange:Zr},linkCurvature:{default:0,triggerUpdate:!1,onChange:Zr},linkCanvasObject:{triggerUpdate:!1,onChange:Zr},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Zr},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Zr},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Zr},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Zr},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:Jk},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,i){i.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,i){i.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,i){i.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,i,r){return r===void 0?e.forceLayout.force(i):(e.forceLayout.force(i,r),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&i(),o(),!e.isShadow&&s(),!e.isShadow&&a(),r(),this;function i(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function r(){var l=Ot(e.nodeVisibility),u=Ot(e.nodeVal),c=Ot(e.nodeColor),d=Ot(e.nodeCanvasObjectMode),f=e.ctx,h=e.isShadow/e.globalScale,p=e.graphData.nodes.filter(l);f.save(),p.forEach(function(g){var b=d(g);if(e.nodeCanvasObject&&(b==="before"||b==="replace")&&(e.nodeCanvasObject(g,f,e.globalScale),b==="replace")){f.restore();return}var y=Math.sqrt(Math.max(0,u(g)||1))*e.nodeRelSize+h;f.beginPath(),f.arc(g.x,g.y,y,0,2*Math.PI,!1),f.fillStyle=c(g)||"rgba(31, 120, 180, 0.92)",f.fill(),e.nodeCanvasObject&&b==="after"&&e.nodeCanvasObject(g,e.ctx,e.globalScale)}),f.restore()}function o(){var l=Ot(e.linkVisibility),u=Ot(e.linkColor),c=Ot(e.linkWidth),d=Ot(e.linkLineDash),f=Ot(e.linkCurvature),h=Ot(e.linkCanvasObjectMode),p=e.ctx,g=e.isShadow*2,b=e.graphData.links.filter(l);b.forEach(T);var y=[],m=[],_=b;if(e.linkCanvasObject){var S=[],w=[];b.forEach(function(C){return({before:y,after:m,replace:S}[h(C)]||w).push(C)}),_=[].concat(ca(y),m,w),y=y.concat(S)}p.save(),y.forEach(function(C){return e.linkCanvasObject(C,p,e.globalScale)}),p.restore();var A=fNe(_,[u,c,d]);p.save(),Object.entries(A).forEach(function(C){var R=Iy(C,2),E=R[0],P=R[1],I=!E||E==="undefined"?"rgba(0,0,0,0.15)":E;Object.entries(P).forEach(function(D){var F=Iy(D,2),L=F[0],$=F[1],U=(L||1)/e.globalScale+g;Object.entries($).forEach(function(k){var H=Iy(k,2);H[0];var z=H[1],Q=d(z[0]);p.beginPath(),z.forEach(function(Z){var ie=Z.source,xe=Z.target;if(!(!ie||!xe||!ie.hasOwnProperty("x")||!xe.hasOwnProperty("x"))){p.moveTo(ie.x,ie.y);var J=Z.__controlPoints;J?p[J.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,ca(J).concat([xe.x,xe.y])):p.lineTo(xe.x,xe.y)}}),p.strokeStyle=I,p.lineWidth=U,p.setLineDash(Q||[]),p.stroke()})})}),p.restore(),p.save(),m.forEach(function(C){return e.linkCanvasObject(C,p,e.globalScale)}),p.restore();function T(C){var R=f(C);if(!R){C.__controlPoints=null;return}var E=C.source,P=C.target;if(!(!E||!P||!E.hasOwnProperty("x")||!P.hasOwnProperty("x"))){var I=Math.sqrt(Math.pow(P.x-E.x,2)+Math.pow(P.y-E.y,2));if(I>0){var D=Math.atan2(P.y-E.y,P.x-E.x),F=I*R,L={x:(E.x+P.x)/2+F*Math.cos(D-Math.PI/2),y:(E.y+P.y)/2+F*Math.sin(D-Math.PI/2)};C.__controlPoints=[L.x,L.y]}else{var $=R*70;C.__controlPoints=[P.x,P.y-$,P.x+$,P.y]}}}}function s(){var l=1.6,u=.2,c=Ot(e.linkDirectionalArrowLength),d=Ot(e.linkDirectionalArrowRelPos),f=Ot(e.linkVisibility),h=Ot(e.linkDirectionalArrowColor||e.linkColor),p=Ot(e.nodeVal),g=e.ctx;g.save(),e.graphData.links.filter(f).forEach(function(b){var y=c(b);if(!(!y||y<0)){var m=b.source,_=b.target;if(!(!m||!_||!m.hasOwnProperty("x")||!_.hasOwnProperty("x"))){var S=Math.sqrt(Math.max(0,p(m)||1))*e.nodeRelSize,w=Math.sqrt(Math.max(0,p(_)||1))*e.nodeRelSize,A=Math.min(1,Math.max(0,d(b))),T=h(b)||"rgba(0,0,0,0.28)",C=y/l/2,R=b.__controlPoints&&Yk(bi,[m.x,m.y].concat(ca(b.__controlPoints),[_.x,_.y])),E=R?function(U){return R.get(U)}:function(U){return{x:m.x+(_.x-m.x)*U||0,y:m.y+(_.y-m.y)*U||0}},P=R?R.length():Math.sqrt(Math.pow(_.x-m.x,2)+Math.pow(_.y-m.y,2)),I=S+y+(P-S-w-y)*A,D=E(I/P),F=E((I-y)/P),L=E((I-y*(1-u))/P),$=Math.atan2(D.y-F.y,D.x-F.x)-Math.PI/2;g.beginPath(),g.moveTo(D.x,D.y),g.lineTo(F.x+C*Math.cos($),F.y+C*Math.sin($)),g.lineTo(L.x,L.y),g.lineTo(F.x-C*Math.cos($),F.y-C*Math.sin($)),g.fillStyle=T,g.fill()}}}),g.restore()}function a(){var l=Ot(e.linkDirectionalParticles),u=Ot(e.linkDirectionalParticleSpeed),c=Ot(e.linkDirectionalParticleWidth),d=Ot(e.linkVisibility),f=Ot(e.linkDirectionalParticleColor||e.linkColor),h=e.ctx;h.save(),e.graphData.links.filter(d).forEach(function(p){var g=l(p);if(!(!p.hasOwnProperty("__photons")||!p.__photons.length)){var b=p.source,y=p.target;if(!(!b||!y||!b.hasOwnProperty("x")||!y.hasOwnProperty("x"))){var m=u(p),_=p.__photons||[],S=Math.max(0,c(p)/2)/Math.sqrt(e.globalScale),w=f(p)||"rgba(0,0,0,0.28)";h.fillStyle=w;var A=p.__controlPoints?Yk(bi,[b.x,b.y].concat(ca(p.__controlPoints),[y.x,y.y])):null,T=0,C=!1;_.forEach(function(R){var E=!!R.__singleHop;if(R.hasOwnProperty("__progressRatio")||(R.__progressRatio=E?0:T/g),!E&&T++,R.__progressRatio+=m,R.__progressRatio>=1)if(!E)R.__progressRatio=R.__progressRatio%1;else{C=!0;return}var P=R.__progressRatio,I=A?A.get(P):{x:b.x+(y.x-b.x)*P||0,y:b.y+(y.y-b.y)*P||0};h.beginPath(),h.arc(I.x,I.y,S,0,2*Math.PI,!1),h.fill()}),C&&(p.__photons=p.__photons.filter(function(R){return!R.__singleHop||R.__progressRatio<=1}))}}}),h.restore()}},emitParticle:function(e,i){return i&&(!i.__photons&&(i.__photons=[]),i.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Nj().force("link",Ij()).force("charge",Oj()).force("center",Cj()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,i){i.ctx=e},update:function(e,i){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&Zk(e.graphData.nodes,Ot(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&Zk(e.graphData.links,Ot(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(h){h.source=h[e.linkSource],h.target=h[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var r=e.forceLayout.force("link");r&&r.id(function(h){return h[e.nodeId]}).links(e.graphData.links);var o=e.dagMode&&TNe(e.graphData,function(h){return h[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),s=Math.max.apply(Math,ca(Object.values(o||[]))),a=e.dagLevelDistance||e.graphData.nodes.length/(s||1)*ENe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(i.dagMode)){var l=["lr","rl"].includes(i.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(h){return delete h[l]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var u=["rl","bu"].includes(e.dagMode),c=function(p){return(o[p[e.nodeId]]-s/2)*a*(u?-1:1)},d=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(h){return h[d]=c(h)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?Dj(function(h){var p=o[h[e.nodeId]]||-1;return(e.dagMode==="radialin"?s-p:p)*a}).strength(function(h){return e.dagNodeFilter(h)?1:0}):null);for(var f=0;f<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);f++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function kj(n,e){var i=n instanceof Array?n:[n],r=new e;return r._destructor&&r._destructor(),{linkProp:function(s){return{default:r[s](),onChange:function(l,u){i.forEach(function(c){return u[c][s](l)})},triggerUpdate:!1}},linkMethod:function(s){return function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];var d=[];return i.forEach(function(f){var h=a[f],p=h[s].apply(h,u);p!==h&&d.push(p)}),d.length?d[0]:this}}}}var MNe=800,RNe=4,zj=kj("forceGraph",$w),PNe=kj(["forceGraph","shadowGraph"],$w),INe=Object.assign.apply(Object,ca(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return u0({},n,zj.linkProp(n))})).concat(ca(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return u0({},n,PNe.linkProp(n))})))),NNe=Object.assign.apply(Object,ca(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return u0({},n,zj.linkMethod(n))})));function uE(n){if(n.canvas){var e=n.canvas.width,i=n.canvas.height;e===300&&i===150&&(e=i=0);var r=window.devicePixelRatio;e/=r,i/=r,[n.canvas,n.shadowCanvas].forEach(function(s){s.style.width="".concat(n.width,"px"),s.style.height="".concat(n.height,"px"),s.width=n.width*r,s.height=n.height*r,!e&&!i&&s.getContext("2d").scale(r,r)});var o=xl(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/o,(n.height-i)/2/o),n.needsRedraw=!0}}function Hj(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function ez(n,e,i){n.save(),Hj(n),n.clearRect(0,0,e,i),n.restore()}var ONe=Pm({props:fp({width:{default:window.innerWidth,onChange:function(e,i){return uE(i)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,i){return uE(i)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,i){[e.nodes,e.links].every(function(o){return(o||[]).every(function(s){return!s.hasOwnProperty("__indexColor")})})&&i.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(r),i.forceGraph.graphData(e),i.shadowGraph.graphData(e);function r(o){var s=o.type,a=o.objs;a.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var u=i.colorTracker.lookup(l.__indexColor);return!u||!u.hasOwnProperty("d")||u.d!==l}).forEach(function(l){l.__indexColor=i.colorTracker.register({type:s,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,i){i.canvas&&e&&(i.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,i){i.shadowGraph.nodeCanvasObject(e?function(r,o,s){return e(r,r.__indexColor,o,s)}:null),i.flushShadowCanvas&&i.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,i){i.shadowGraph.linkCanvasObject(e?function(r,o,s){return e(r,r.__indexColor,o,s)}:null),i.flushShadowCanvas&&i.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,i){i.zoom.scaleExtent([e,i.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,i){i.zoom.scaleExtent([i.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,i){i.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},INe),aliases:{stopAnimation:"pauseAnimation"},methods:fp({graph2ScreenCoords:function(e,i,r){var o=xl(e.canvas);return{x:i*o.k+o.x,y:r*o.k+o.y}},screen2GraphCoords:function(e,i,r){var o=xl(e.canvas);return{x:(i-o.x)/o.k,y:(r-o.y)/o.k}},centerAt:function(e,i,r,o){if(!e.canvas)return null;if(i!==void 0||r!==void 0){var s=Object.assign({},i!==void 0?{x:i}:{},r!==void 0?{y:r}:{});return o?e.tweenGroup.add(new Dw(a()).to(s,o).easing(ic.Quadratic.Out).onUpdate(l).start()):l(s),this}return a();function a(){var u=xl(e.canvas);return{x:(e.width/2-u.x)/u.k,y:(e.height/2-u.y)/u.k}}function l(u){var c=u.x,d=u.y;e.zoom.translateTo(e.zoom.__baseElem,c===void 0?a().x:c,d===void 0?a().y:d),e.needsRedraw=!0}},zoom:function(e,i,r){if(!e.canvas)return null;if(i!==void 0)return r?e.tweenGroup.add(new Dw({k:o()}).to({k:i},r).easing(ic.Quadratic.Out).onUpdate(function(a){var l=a.k;return s(l)}).start()):s(i),this;return o();function o(){return xl(e.canvas).k}function s(a){e.zoom.scaleTo(e.zoom.__baseElem,a),e.needsRedraw=!0}},zoomToFit:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];var l=this.getGraphBbox.apply(this,s);if(l){var u={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},c=Math.max(1e-12,Math.min(1e12,(e.width-r*2)/(l.x[1]-l.x[0]),(e.height-r*2)/(l.y[1]-l.y[0])));this.centerAt(u.x,u.y,i),this.zoom(c,i)}return this},getGraphBbox:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=Ot(e.nodeVal),o=function(l){return Math.sqrt(Math.max(0,r(l)||1))*e.nodeRelSize},s=e.graphData.nodes.filter(i).map(function(a){return{x:a.x,y:a.y,r:o(a)}});return s.length?{x:[ZR(s,function(a){return a.x-a.r}),QR(s,function(a){return a.x+a.r})],y:[ZR(s,function(a){return a.y-a.r}),QR(s,function(a){return a.y+a.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},NNe),stateInit:function(){return{lastSetZoom:1,zoom:ARe(),forceGraph:new $w,shadowGraph:new $w().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new SPe,tweenGroup:new aO}},init:function(e,i){var r=this;e.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",e.appendChild(o),i.canvas=document.createElement("canvas"),i.backgroundColor&&(i.canvas.style.background=i.backgroundColor),o.appendChild(i.canvas),i.shadowCanvas=document.createElement("canvas");var s=i.canvas.getContext("2d"),a=i.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},u=function(){var f=null,h=window.devicePixelRatio,p=l.x>0&&l.y>0?a.getImageData(l.x*h,l.y*h,1,1):null;return p&&(f=i.colorTracker.lookup(p.data)),f};ua(i.canvas).call(LMe().subject(function(){if(!i.enableNodeDrag)return null;var d=u();return d&&d.type==="Node"?d.d:null}).on("start",function(d){var f=d.subject;f.__initialDragPos={x:f.x,y:f.y,fx:f.fx,fy:f.fy},d.active||(f.fx=f.x,f.fy=f.y),i.canvas.classList.add("grabbable")}).on("drag",function(d){var f=d.subject,h=f.__initialDragPos,p=d,g=xl(i.canvas).k,b={x:h.x+(p.x-h.x)/g-f.x,y:h.y+(p.y-h.y)/g-f.y};["x","y"].forEach(function(y){return f["f".concat(y)]=f[y]=h[y]+(p[y]-h[y])/g}),i.forceGraph.d3AlphaTarget(.3).resetCountdown(),i.isPointerDragging=!0,f.__dragged=!0,i.onNodeDrag(f,b)}).on("end",function(d){var f=d.subject,h=f.__initialDragPos,p={x:f.x-h.x,y:f.y-h.y};h.fx===void 0&&(f.fx=void 0),h.fy===void 0&&(f.fy=void 0),delete f.__initialDragPos,i.forceGraph.d3AlphaTarget()&&i.forceGraph.d3AlphaTarget(0).resetCountdown(),i.canvas.classList.remove("grabbable"),i.isPointerDragging=!1,f.__dragged&&(delete f.__dragged,i.onNodeDragEnd(f,p))})),i.zoom(i.zoom.__baseElem=ua(i.canvas)),i.zoom.__baseElem.on("dblclick.zoom",null),i.zoom.filter(function(d){return!d.button&&i.enableZoomPanInteraction&&(d.type!=="wheel"||Ot(i.enableZoomInteraction)(d))&&(d.type==="wheel"||Ot(i.enablePanInteraction)(d))}).on("zoom",function(d){var f=d.transform;[s,a].forEach(function(h){Hj(h),h.translate(f.x,f.y),h.scale(f.k,f.k)}),i.onZoom&&i.onZoom(fp(fp({},f),r.centerAt())),i.needsRedraw=!0}).on("end",function(d){return i.onZoomEnd&&i.onZoomEnd(fp(fp({},d.transform),r.centerAt()))}),uE(i),i.forceGraph.onNeedsRedraw(function(){return i.needsRedraw=!0}).onFinishUpdate(function(){xl(i.canvas).k===i.lastSetZoom&&i.graphData.nodes.length&&(i.zoom.scaleTo(i.zoom.__baseElem,i.lastSetZoom=RNe/Math.cbrt(i.graphData.nodes.length)),i.needsRedraw=!0)}),i.tooltip=new wj(o),["pointermove","pointerdown"].forEach(function(d){return o.addEventListener(d,function(f){d==="pointerdown"&&(i.isPointerPressed=!0,i.pointerDownEvent=f),!i.isPointerDragging&&f.type==="pointermove"&&i.onBackgroundClick&&(f.pressure>0||i.isPointerPressed)&&(f.pointerType!=="touch"||f.movementX===void 0||[f.movementX,f.movementY].some(function(g){return Math.abs(g)>1}))&&(i.isPointerDragging=!0);var h=p(o);l.x=f.pageX-h.left,l.y=f.pageY-h.top;function p(g){var b=g.getBoundingClientRect(),y=window.pageXOffset||document.documentElement.scrollLeft,m=window.pageYOffset||document.documentElement.scrollTop;return{top:b.top+m,left:b.left+y}}},{passive:!0})}),o.addEventListener("pointerup",function(d){if(i.isPointerPressed=!1,i.isPointerDragging){i.isPointerDragging=!1;return}var f=[d,i.pointerDownEvent];requestAnimationFrame(function(){if(d.button===0)if(i.hoverObj){var h=i["on".concat(i.hoverObj.type,"Click")];h&&h.apply(void 0,[i.hoverObj.d].concat(f))}else i.onBackgroundClick&&i.onBackgroundClick.apply(i,f);if(d.button===2)if(i.hoverObj){var p=i["on".concat(i.hoverObj.type,"RightClick")];p&&p.apply(void 0,[i.hoverObj.d].concat(f))}else i.onBackgroundRightClick&&i.onBackgroundRightClick.apply(i,f)})},{passive:!0}),o.addEventListener("contextmenu",function(d){return!i.onBackgroundRightClick&&!i.onNodeRightClick&&!i.onLinkRightClick?!0:(d.preventDefault(),!1)}),i.forceGraph(s),i.shadowGraph(a);var c=Wge(function(){ez(a,i.width,i.height),i.shadowGraph.linkWidth(function(f){return Ot(i.linkWidth)(f)+i.linkHoverPrecision});var d=xl(i.canvas);i.shadowGraph.globalScale(d.k).tickFrame()},MNe);i.flushShadowCanvas=c.flush,(this._animationCycle=function d(){var f=!i.autoPauseRedraw||!!i.needsRedraw||i.forceGraph.isEngineRunning()||i.graphData.links.some(function(S){return S.__photons&&S.__photons.length});if(i.needsRedraw=!1,i.enablePointerInteraction){var h=i.isPointerDragging?null:u();if(h!==i.hoverObj){var p=i.hoverObj,g=p?p.type:null,b=h?h.type:null;if(g&&g!==b){var y=i["on".concat(g,"Hover")];y&&y(null,p.d)}if(b){var m=i["on".concat(b,"Hover")];m&&m(h.d,g===b?p.d:null)}i.tooltip.content(h&&Ot(i["".concat(h.type.toLowerCase(),"Label")])(h.d)||null),i.canvas.classList[h&&i["on".concat(b,"Click")]||!h&&i.onBackgroundClick?"add":"remove"]("clickable"),i.hoverObj=h}f&&c()}if(f){ez(s,i.width,i.height);var _=xl(i.canvas).k;i.onRenderFramePre&&i.onRenderFramePre(s,_),i.forceGraph.globalScale(_).tickFrame(),i.onRenderFramePost&&i.onRenderFramePost(s,_)}i.tweenGroup.update(),i.animationFrameRequestId=requestAnimationFrame(d)})()},update:function(e){}});const DNe=je({__name:"graph-2d",props:["graphData","showHighlight","showLabels","showLinkLabels"],emits:["selectNode","selectLink"],setup(n,{emit:e}){const i=n,r=e,o=Ge();let s,a;en(()=>{s=new ONe(o.value).nodeAutoColorBy("type").nodeId("id").nodeLabel("id").autoPauseRedraw(!0).onNodeClick(y=>{r("selectNode",y)}).onLinkClick(y=>{r("selectLink",y)}),d(),u()}),Pn(()=>{c()});let l=!1;function u(){i.graphData&&s&&!l&&(c(),l=!0,s.resumeAnimation(),s.linkAutoColorBy(y=>{var m;return(m=i.graphData.nodes.find(_=>_.id===y.source))==null?void 0:m.type}),s.graphData(i.graphData),setTimeout(()=>{l=!1},1e3))}function c(){s&&(s.pauseAnimation(),s.graphData({nodes:[],links:[]}))}function d(){s&&(s.nodeCanvasObjectMode(y=>i.showHighlight&&a&&a.has(y)?"before":i.showLabels?"after":void 0),s.nodeCanvasObject((y,m)=>{i.showHighlight&&a&&a.has(y)&&g(y,m),i.showLabels&&b(y,m)}),s.linkCanvasObjectMode(()=>i.showLinkLabels?"after":void 0),s.linkCanvasObject((y,m)=>{if(i.showLinkLabels){const _=y.type||"",S=4;m.font=`${S}px Sans-Serif`,m.fillStyle="darkgray";const w=typeof y.source!="string"?y.source:null,A=typeof y.target!="string"?y.target:null;if(w&&A&&w.x!==void 0&&A.x!==void 0&&w.y!==void 0&&A.y!==void 0){const T=m.measureText(_).width,C=(w.x+A.x)/2-T/2,R=(w.y+A.y)/2;m.fillText(_,C,R)}}}),i.showHighlight?(s.onNodeHover(h),s.onLinkHover(f)):(s.onNodeHover(void 0),s.onLinkHover(void 0)))}const f=y=>{const m=new Set;y&&(new Set().add(y),typeof y.source!="string"&&m.add(y.source),typeof y.target!="string"&&m.add(y.target)),a=m},h=y=>{var S,w;const m=new Set,_=new Set;y&&(m.add(y),(S=y.neighbors)==null||S.forEach(A=>m.add(A)),(w=y.links)==null||w.forEach(A=>_.add(A))),a=m,p=y};let p;const g=(y,m)=>{m.beginPath(),m.arc(y.x,y.y,5*1.4,0,2*Math.PI,!1),a&&a.has(y)?(m.fillStyle=y===p?"red":"orange",m.globalAlpha=1):(m.fillStyle="gray",m.globalAlpha=.3),m.fill(),m.globalAlpha=1},b=(y,m)=>{if(!i.showLabels)return;const _=y.name||"",S=4,w=2;m.font=`${S}px Sans-Serif`;const A="rgba(255, 255, 255, 0.6)",C=m.measureText(_).width+w*2,R=S+w*2;y.x&&y.y&&(m.fillStyle=A,m.beginPath(),m.moveTo(y.x-C/2+5,y.y-R/2),m.lineTo(y.x+C/2-5,y.y-R/2),m.quadraticCurveTo(y.x+C/2,y.y-R/2,y.x+C/2,y.y-R/2+5),m.lineTo(y.x+C/2,y.y+R/2-5),m.quadraticCurveTo(y.x+C/2,y.y+R/2,y.x+C/2-5,y.y+R/2),m.lineTo(y.x-C/2+5,y.y+R/2),m.quadraticCurveTo(y.x-C/2,y.y+R/2,y.x-C/2,y.y+R/2-5),m.lineTo(y.x-C/2,y.y-R/2+5),m.quadraticCurveTo(y.x-C/2,y.y-R/2,y.x-C/2+5,y.y-R/2),m.closePath(),m.fill(),m.fillStyle=y.color,m.textAlign="center",m.textBaseline="middle",m.fillText(_,y.x,y.y))};return ct(()=>i.showHighlight,()=>{d()},{immediate:!0,deep:!0}),ct(()=>i.showLabels,()=>{d()},{immediate:!0,deep:!0}),ct(()=>i.showLinkLabels,()=>{d()},{immediate:!0,deep:!0}),ct(()=>i.graphData,()=>{u()},{immediate:!0,deep:!1}),(y,m)=>(ni(),ki("div",{id:"graph-2d",ref_key:"stage",ref:o},null,512))}}),sC=(n,e)=>{const i=n.__vccOpts||n;for(const[r,o]of e)i[r]=o;return i},LNe=sC(DNe,[["__scopeId","data-v-edac5a8e"]]);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Im="172",Br={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Qu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Gj=0,uP=1,Vj=2,BNe=0,vO=1,FNe=2,Ns=3,il=0,Di=1,Oo=2,ls=0,ga=1,tm=2,nm=3,im=4,yO=5,Bs=100,bO=101,xO=102,Wj=103,jj=104,_O=200,SO=201,wO=202,CO=203,c0=204,d0=205,AO=206,TO=207,EO=208,MO=209,RO=210,$Ne=211,UNe=212,kNe=213,zNe=214,f0=0,h0=1,p0=2,$d=3,g0=4,m0=5,v0=6,y0=7,nb=0,Kj=1,qj=2,us=0,Xj=1,Yj=2,Qj=3,Zj=4,HNe=5,Jj=6,eK=7,PO=300,Sa=301,wa=302,Ud=303,kd=304,Eh=306,Mh=1e3,Ml=1001,Rh=1002,Ci=1003,Uw=1004,Rl=1005,Sr=1006,Ng=1007,is=1008,ho=1009,ch=1010,dh=1011,Ya=1012,Dr=1013,zi=1014,nr=1015,Bo=1016,aC=1017,lC=1018,Gl=1020,uC=35902,IO=1021,ib=1022,Gr=1023,NO=1024,OO=1025,Ll=1026,Vl=1027,rb=1028,Nm=1029,Ph=1030,Om=1031,GNe=1032,Dm=1033,fh=33776,Md=33777,Rd=33778,Pd=33779,b0=35840,x0=35841,_0=35842,S0=35843,w0=36196,rm=37492,om=37496,sm=37808,am=37809,lm=37810,um=37811,cm=37812,dm=37813,fm=37814,hm=37815,pm=37816,gm=37817,mm=37818,vm=37819,ym=37820,bm=37821,hh=36492,cP=36494,dP=36495,DO=36283,C0=36284,A0=36285,T0=36286,VNe=3200,WNe=3201,gc=0,tK=1,Fs="",Ut="srgb",ma="srgb-linear",kw="linear",Qn="srgb",jNe=0,Of=7680,KNe=7681,qNe=7682,XNe=7683,YNe=34055,QNe=34056,ZNe=5386,JNe=512,eOe=513,tOe=514,nOe=515,iOe=516,rOe=517,oOe=518,fP=519,LO=512,cC=513,BO=514,dC=515,FO=516,$O=517,UO=518,kO=519,zw=35044,cg=35048,tz="300 es",rs=2e3,zd=2001;let Ac=class{addEventListener(e,i){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(i)===-1&&r[e].push(i)}hasEventListener(e,i){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(i)!==-1}removeEventListener(e,i){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const s=o.indexOf(i);s!==-1&&o.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const o=r.slice(0);for(let s=0,a=o.length;s<a;s++)o[s].call(this,e);e.target=null}}};const Jr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let nz=1234567;const Ny=Math.PI/180,xm=180/Math.PI;function oc(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Jr[n&255]+Jr[n>>8&255]+Jr[n>>16&255]+Jr[n>>24&255]+"-"+Jr[e&255]+Jr[e>>8&255]+"-"+Jr[e>>16&15|64]+Jr[e>>24&255]+"-"+Jr[i&63|128]+Jr[i>>8&255]+"-"+Jr[i>>16&255]+Jr[i>>24&255]+Jr[r&255]+Jr[r>>8&255]+Jr[r>>16&255]+Jr[r>>24&255]).toLowerCase()}function Cn(n,e,i){return Math.max(e,Math.min(i,n))}function zO(n,e){return(n%e+e)%e}function sOe(n,e,i,r,o){return r+(n-e)*(o-r)/(i-e)}function aOe(n,e,i){return n!==e?(i-n)/(e-n):0}function Oy(n,e,i){return(1-i)*n+i*e}function lOe(n,e,i,r){return Oy(n,e,1-Math.exp(-i*r))}function uOe(n,e=1){return e-Math.abs(zO(n,e*2)-e)}function cOe(n,e,i){return n<=e?0:n>=i?1:(n=(n-e)/(i-e),n*n*(3-2*n))}function dOe(n,e,i){return n<=e?0:n>=i?1:(n=(n-e)/(i-e),n*n*n*(n*(n*6-15)+10))}function fOe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function hOe(n,e){return n+Math.random()*(e-n)}function pOe(n){return n*(.5-Math.random())}function gOe(n){n!==void 0&&(nz=n);let e=nz+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function mOe(n){return n*Ny}function vOe(n){return n*xm}function yOe(n){return(n&n-1)===0&&n!==0}function bOe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function xOe(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function _Oe(n,e,i,r,o){const s=Math.cos,a=Math.sin,l=s(i/2),u=a(i/2),c=s((e+r)/2),d=a((e+r)/2),f=s((e-r)/2),h=a((e-r)/2),p=s((r-e)/2),g=a((r-e)/2);switch(o){case"XYX":n.set(l*d,u*f,u*h,l*c);break;case"YZY":n.set(u*h,l*d,u*f,l*c);break;case"ZXZ":n.set(u*f,u*h,l*d,l*c);break;case"XZX":n.set(l*d,u*g,u*p,l*c);break;case"YXY":n.set(u*p,l*d,u*g,l*c);break;case"ZYZ":n.set(u*g,u*p,l*d,l*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}function Do(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function gn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Hw={DEG2RAD:Ny,RAD2DEG:xm,generateUUID:oc,clamp:Cn,euclideanModulo:zO,mapLinear:sOe,inverseLerp:aOe,lerp:Oy,damp:lOe,pingpong:uOe,smoothstep:cOe,smootherstep:dOe,randInt:fOe,randFloat:hOe,randFloatSpread:pOe,seededRandom:gOe,degToRad:mOe,radToDeg:vOe,isPowerOfTwo:yOe,ceilPowerOfTwo:bOe,floorPowerOfTwo:xOe,setQuaternionFromProperEuler:_Oe,normalize:gn,denormalize:Do};let Tt=class nK{constructor(e=0,i=0){nK.prototype.isVector2=!0,this.x=e,this.y=i}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,i){return this.x=e,this.y=i,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const i=this.x,r=this.y,o=e.elements;return this.x=o[0]*i+o[3]*r+o[6],this.y=o[1]*i+o[4]*r+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,i){return this.x=Cn(this.x,e.x,i.x),this.y=Cn(this.y,e.y,i.y),this}clampScalar(e,i){return this.x=Cn(this.x,e,i),this.y=Cn(this.y,e,i),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Cn(r,e,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const r=this.dot(e)/i;return Math.acos(Cn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,r=this.y-e.y;return i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this}rotateAround(e,i){const r=Math.cos(i),o=Math.sin(i),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*o+e.x,this.y=s*o+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},on=class iK{constructor(e,i,r,o,s,a,l,u,c){iK.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,i,r,o,s,a,l,u,c)}set(e,i,r,o,s,a,l,u,c){const d=this.elements;return d[0]=e,d[1]=o,d[2]=l,d[3]=i,d[4]=s,d[5]=u,d[6]=r,d[7]=a,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const i=this.elements,r=e.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],this}extractBasis(e,i,r){return e.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const i=e.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const r=e.elements,o=i.elements,s=this.elements,a=r[0],l=r[3],u=r[6],c=r[1],d=r[4],f=r[7],h=r[2],p=r[5],g=r[8],b=o[0],y=o[3],m=o[6],_=o[1],S=o[4],w=o[7],A=o[2],T=o[5],C=o[8];return s[0]=a*b+l*_+u*A,s[3]=a*y+l*S+u*T,s[6]=a*m+l*w+u*C,s[1]=c*b+d*_+f*A,s[4]=c*y+d*S+f*T,s[7]=c*m+d*w+f*C,s[2]=h*b+p*_+g*A,s[5]=h*y+p*S+g*T,s[8]=h*m+p*w+g*C,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=e,i[4]*=e,i[7]*=e,i[2]*=e,i[5]*=e,i[8]*=e,this}determinant(){const e=this.elements,i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],d=e[8];return i*a*d-i*l*c-r*s*d+r*l*u+o*s*c-o*a*u}invert(){const e=this.elements,i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=d*a-l*c,h=l*u-d*s,p=c*s-a*u,g=i*f+r*h+o*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/g;return e[0]=f*b,e[1]=(o*c-d*r)*b,e[2]=(l*r-o*a)*b,e[3]=h*b,e[4]=(d*i-o*u)*b,e[5]=(o*s-l*i)*b,e[6]=p*b,e[7]=(r*u-c*i)*b,e[8]=(a*i-r*s)*b,this}transpose(){let e;const i=this.elements;return e=i[1],i[1]=i[3],i[3]=e,e=i[2],i[2]=i[6],i[6]=e,e=i[5],i[5]=i[7],i[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const i=this.elements;return e[0]=i[0],e[1]=i[3],e[2]=i[6],e[3]=i[1],e[4]=i[4],e[5]=i[7],e[6]=i[2],e[7]=i[5],e[8]=i[8],this}setUvTransform(e,i,r,o,s,a,l){const u=Math.cos(s),c=Math.sin(s);return this.set(r*u,r*c,-r*(u*a+c*l)+a+e,-o*c,o*u,-o*(-c*a+u*l)+l+i,0,0,1),this}scale(e,i){return this.premultiply(cE.makeScale(e,i)),this}rotate(e){return this.premultiply(cE.makeRotation(-e)),this}translate(e,i){return this.premultiply(cE.makeTranslation(e,i)),this}makeTranslation(e,i){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,i,0,0,1),this}makeRotation(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,-r,0,r,i,0,0,0,1),this}makeScale(e,i){return this.set(e,0,0,0,i,0,0,0,1),this}equals(e){const i=this.elements,r=e.elements;for(let o=0;o<9;o++)if(i[o]!==r[o])return!1;return!0}fromArray(e,i=0){for(let r=0;r<9;r++)this.elements[r]=e[r+i];return this}toArray(e=[],i=0){const r=this.elements;return e[i]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3],e[i+4]=r[4],e[i+5]=r[5],e[i+6]=r[6],e[i+7]=r[7],e[i+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};const cE=new on;function rK(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function E0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function oK(){const n=E0("canvas");return n.style.display="block",n}const iz={};function jf(n){n in iz||(iz[n]=!0,console.warn(n))}function SOe(n,e,i){return new Promise(function(r,o){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:o();break;case n.TIMEOUT_EXPIRED:setTimeout(s,i);break;default:r()}}setTimeout(s,i)})}function wOe(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function COe(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const rz=new on().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),oz=new on().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function AOe(){const n={enabled:!0,workingColorSpace:ma,spaces:{},convert:function(o,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Qn&&(o.r=sc(o.r),o.g=sc(o.g),o.b=sc(o.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(o.applyMatrix3(this.spaces[s].toXYZ),o.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Qn&&(o.r=Og(o.r),o.g=Og(o.g),o.b=Og(o.b))),o},fromWorkingColorSpace:function(o,s){return this.convert(o,this.workingColorSpace,s)},toWorkingColorSpace:function(o,s){return this.convert(o,s,this.workingColorSpace)},getPrimaries:function(o){return this.spaces[o].primaries},getTransfer:function(o){return o===Fs?kw:this.spaces[o].transfer},getLuminanceCoefficients:function(o,s=this.workingColorSpace){return o.fromArray(this.spaces[s].luminanceCoefficients)},define:function(o){Object.assign(this.spaces,o)},_getMatrix:function(o,s,a){return o.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(o){return this.spaces[o].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(o=this.workingColorSpace){return this.spaces[o].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],i=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[ma]:{primaries:e,whitePoint:r,transfer:kw,toXYZ:rz,fromXYZ:oz,luminanceCoefficients:i,workingColorSpaceConfig:{unpackColorSpace:Ut},outputColorSpaceConfig:{drawingBufferColorSpace:Ut}},[Ut]:{primaries:e,whitePoint:r,transfer:Qn,toXYZ:rz,fromXYZ:oz,luminanceCoefficients:i,outputColorSpaceConfig:{drawingBufferColorSpace:Ut}}}),n}const wn=AOe();function sc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Og(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let hp,TOe=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{hp===void 0&&(hp=E0("canvas")),hp.width=e.width,hp.height=e.height;const r=hp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=hp}return i.width>2048||i.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),i.toDataURL("image/jpeg",.6)):i.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const i=E0("canvas");i.width=e.width,i.height=e.height;const r=i.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),s=o.data;for(let a=0;a<s.length;a++)s[a]=sc(s[a]/255)*255;return r.putImageData(o,0,0),i}else if(e.data){const i=e.data.slice(0);for(let r=0;r<i.length;r++)i instanceof Uint8Array||i instanceof Uint8ClampedArray?i[r]=Math.floor(sc(i[r]/255)*255):i[r]=sc(i[r]);return{data:i,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},EOe=0,sK=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:EOe++}),this.uuid=oc(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const i=e===void 0||typeof e=="string";if(!i&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},o=this.data;if(o!==null){let s;if(Array.isArray(o)){s=[];for(let a=0,l=o.length;a<l;a++)o[a].isDataTexture?s.push(dE(o[a].image)):s.push(dE(o[a]))}else s=dE(o);r.url=s}return i||(e.images[this.uuid]=r),r}};function dE(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?TOe.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let MOe=0,Ho=class IS extends Ac{constructor(e=IS.DEFAULT_IMAGE,i=IS.DEFAULT_MAPPING,r=Ml,o=Ml,s=Sr,a=is,l=Gr,u=ho,c=IS.DEFAULT_ANISOTROPY,d=Fs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:MOe++}),this.uuid=oc(),this.name="",this.source=new sK(e),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=l,this.internalFormat=null,this.type=u,this.offset=new Tt(0,0),this.repeat=new Tt(1,1),this.center=new Tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new on,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const i=e===void 0||typeof e=="string";if(!i&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==PO)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mh:e.x=e.x-Math.floor(e.x);break;case Ml:e.x=e.x<0?0:1;break;case Rh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Mh:e.y=e.y-Math.floor(e.y);break;case Ml:e.y=e.y<0?0:1;break;case Rh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}};Ho.DEFAULT_IMAGE=null;Ho.DEFAULT_MAPPING=PO;Ho.DEFAULT_ANISOTROPY=1;class fn{constructor(e=0,i=0,r=0,o=1){fn.prototype.isVector4=!0,this.x=e,this.y=i,this.z=r,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,i,r,o){return this.x=e,this.y=i,this.z=r,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this.w=e.w+i.w,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this.w+=e.w*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this.w=e.w-i.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const i=this.x,r=this.y,o=this.z,s=this.w,a=e.elements;return this.x=a[0]*i+a[4]*r+a[8]*o+a[12]*s,this.y=a[1]*i+a[5]*r+a[9]*o+a[13]*s,this.z=a[2]*i+a[6]*r+a[10]*o+a[14]*s,this.w=a[3]*i+a[7]*r+a[11]*o+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const i=Math.sqrt(1-e.w*e.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/i,this.y=e.y/i,this.z=e.z/i),this}setAxisAngleFromRotationMatrix(e){let i,r,o,s;const u=e.elements,c=u[0],d=u[4],f=u[8],h=u[1],p=u[5],g=u[9],b=u[2],y=u[6],m=u[10];if(Math.abs(d-h)<.01&&Math.abs(f-b)<.01&&Math.abs(g-y)<.01){if(Math.abs(d+h)<.1&&Math.abs(f+b)<.1&&Math.abs(g+y)<.1&&Math.abs(c+p+m-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;const S=(c+1)/2,w=(p+1)/2,A=(m+1)/2,T=(d+h)/4,C=(f+b)/4,R=(g+y)/4;return S>w&&S>A?S<.01?(r=0,o=.707106781,s=.707106781):(r=Math.sqrt(S),o=T/r,s=C/r):w>A?w<.01?(r=.707106781,o=0,s=.707106781):(o=Math.sqrt(w),r=T/o,s=R/o):A<.01?(r=.707106781,o=.707106781,s=0):(s=Math.sqrt(A),r=C/s,o=R/s),this.set(r,o,s,i),this}let _=Math.sqrt((y-g)*(y-g)+(f-b)*(f-b)+(h-d)*(h-d));return Math.abs(_)<.001&&(_=1),this.x=(y-g)/_,this.y=(f-b)/_,this.z=(h-d)/_,this.w=Math.acos((c+p+m-1)/2),this}setFromMatrixPosition(e){const i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this.w=i[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,i){return this.x=Cn(this.x,e.x,i.x),this.y=Cn(this.y,e.y,i.y),this.z=Cn(this.z,e.z,i.z),this.w=Cn(this.w,e.w,i.w),this}clampScalar(e,i){return this.x=Cn(this.x,e,i),this.y=Cn(this.y,e,i),this.z=Cn(this.z,e,i),this.w=Cn(this.w,e,i),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Cn(r,e,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this.w+=(e.w-this.w)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this.z=e.z+(i.z-e.z)*r,this.w=e.w+(i.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this.w=e[i+3],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e[i+3]=this.w,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this.w=e.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Lm extends Ac{constructor(e=1,i=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=i,this.depth=1,this.scissor=new fn(0,0,e,i),this.scissorTest=!1,this.viewport=new fn(0,0,e,i);const o={width:e,height:i,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Sr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Ho(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let l=0;l<a;l++)this.textures[l]=s.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,i,r=1){if(this.width!==e||this.height!==i||this.depth!==r){this.width=e,this.height=i,this.depth=r;for(let o=0,s=this.textures.length;o<s;o++)this.textures[o].image.width=e,this.textures[o].image.height=i,this.textures[o].image.depth=r;this.dispose()}this.viewport.set(0,0,e,i),this.scissor.set(0,0,e,i)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,o=e.textures.length;r<o;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0,this.textures[r].renderTarget=this;const i=Object.assign({},e.texture.image);return this.texture.source=new sK(i),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Hd extends Lm{constructor(e=1,i=1,r={}){super(e,i,r),this.isWebGLRenderTarget=!0}}class HO extends Ho{constructor(e=null,i=1,r=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:i,height:r,depth:o},this.magFilter=Ci,this.minFilter=Ci,this.wrapR=Ml,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ROe extends Ho{constructor(e=null,i=1,r=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:i,height:r,depth:o},this.magFilter=Ci,this.minFilter=Ci,this.wrapR=Ml,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}let rl=class{constructor(e=0,i=0,r=0,o=1){this.isQuaternion=!0,this._x=e,this._y=i,this._z=r,this._w=o}static slerpFlat(e,i,r,o,s,a,l){let u=r[o+0],c=r[o+1],d=r[o+2],f=r[o+3];const h=s[a+0],p=s[a+1],g=s[a+2],b=s[a+3];if(l===0){e[i+0]=u,e[i+1]=c,e[i+2]=d,e[i+3]=f;return}if(l===1){e[i+0]=h,e[i+1]=p,e[i+2]=g,e[i+3]=b;return}if(f!==b||u!==h||c!==p||d!==g){let y=1-l;const m=u*h+c*p+d*g+f*b,_=m>=0?1:-1,S=1-m*m;if(S>Number.EPSILON){const A=Math.sqrt(S),T=Math.atan2(A,m*_);y=Math.sin(y*T)/A,l=Math.sin(l*T)/A}const w=l*_;if(u=u*y+h*w,c=c*y+p*w,d=d*y+g*w,f=f*y+b*w,y===1-l){const A=1/Math.sqrt(u*u+c*c+d*d+f*f);u*=A,c*=A,d*=A,f*=A}}e[i]=u,e[i+1]=c,e[i+2]=d,e[i+3]=f}static multiplyQuaternionsFlat(e,i,r,o,s,a){const l=r[o],u=r[o+1],c=r[o+2],d=r[o+3],f=s[a],h=s[a+1],p=s[a+2],g=s[a+3];return e[i]=l*g+d*f+u*p-c*h,e[i+1]=u*g+d*h+c*f-l*p,e[i+2]=c*g+d*p+l*h-u*f,e[i+3]=d*g-l*f-u*h-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,i,r,o){return this._x=e,this._y=i,this._z=r,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,i=!0){const r=e._x,o=e._y,s=e._z,a=e._order,l=Math.cos,u=Math.sin,c=l(r/2),d=l(o/2),f=l(s/2),h=u(r/2),p=u(o/2),g=u(s/2);switch(a){case"XYZ":this._x=h*d*f+c*p*g,this._y=c*p*f-h*d*g,this._z=c*d*g+h*p*f,this._w=c*d*f-h*p*g;break;case"YXZ":this._x=h*d*f+c*p*g,this._y=c*p*f-h*d*g,this._z=c*d*g-h*p*f,this._w=c*d*f+h*p*g;break;case"ZXY":this._x=h*d*f-c*p*g,this._y=c*p*f+h*d*g,this._z=c*d*g+h*p*f,this._w=c*d*f-h*p*g;break;case"ZYX":this._x=h*d*f-c*p*g,this._y=c*p*f+h*d*g,this._z=c*d*g-h*p*f,this._w=c*d*f+h*p*g;break;case"YZX":this._x=h*d*f+c*p*g,this._y=c*p*f+h*d*g,this._z=c*d*g-h*p*f,this._w=c*d*f-h*p*g;break;case"XZY":this._x=h*d*f-c*p*g,this._y=c*p*f-h*d*g,this._z=c*d*g+h*p*f,this._w=c*d*f+h*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return i===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,i){const r=i/2,o=Math.sin(r);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const i=e.elements,r=i[0],o=i[4],s=i[8],a=i[1],l=i[5],u=i[9],c=i[2],d=i[6],f=i[10],h=r+l+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(d-u)*p,this._y=(s-c)*p,this._z=(a-o)*p}else if(r>l&&r>f){const p=2*Math.sqrt(1+r-l-f);this._w=(d-u)/p,this._x=.25*p,this._y=(o+a)/p,this._z=(s+c)/p}else if(l>f){const p=2*Math.sqrt(1+l-r-f);this._w=(s-c)/p,this._x=(o+a)/p,this._y=.25*p,this._z=(u+d)/p}else{const p=2*Math.sqrt(1+f-r-l);this._w=(a-o)/p,this._x=(s+c)/p,this._y=(u+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,i){let r=e.dot(i)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*i.z-e.z*i.y,this._y=e.z*i.x-e.x*i.z,this._z=e.x*i.y-e.y*i.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Cn(this.dot(e),-1,1)))}rotateTowards(e,i){const r=this.angleTo(e);if(r===0)return this;const o=Math.min(1,i/r);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,i){const r=e._x,o=e._y,s=e._z,a=e._w,l=i._x,u=i._y,c=i._z,d=i._w;return this._x=r*d+a*l+o*c-s*u,this._y=o*d+a*u+s*l-r*c,this._z=s*d+a*c+r*u-o*l,this._w=a*d-r*l-o*u-s*c,this._onChangeCallback(),this}slerp(e,i){if(i===0)return this;if(i===1)return this.copy(e);const r=this._x,o=this._y,s=this._z,a=this._w;let l=a*e._w+r*e._x+o*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=r,this._y=o,this._z=s,this;const u=1-l*l;if(u<=Number.EPSILON){const p=1-i;return this._w=p*a+i*this._w,this._x=p*r+i*this._x,this._y=p*o+i*this._y,this._z=p*s+i*this._z,this.normalize(),this}const c=Math.sqrt(u),d=Math.atan2(c,l),f=Math.sin((1-i)*d)/c,h=Math.sin(i*d)/c;return this._w=a*f+this._w*h,this._x=r*f+this._x*h,this._y=o*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,i,r){return this.copy(e).slerp(i,r)}random(){const e=2*Math.PI*Math.random(),i=2*Math.PI*Math.random(),r=Math.random(),o=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(o*Math.sin(e),o*Math.cos(e),s*Math.sin(i),s*Math.cos(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,i=0){return this._x=e[i],this._y=e[i+1],this._z=e[i+2],this._w=e[i+3],this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._w,e}fromBufferAttribute(e,i){return this._x=e.getX(i),this._y=e.getY(i),this._z=e.getZ(i),this._w=e.getW(i),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},Te=class aK{constructor(e=0,i=0,r=0){aK.prototype.isVector3=!0,this.x=e,this.y=i,this.z=r}set(e,i,r){return r===void 0&&(r=this.z),this.x=e,this.y=i,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,i){return this.x=e.x*i.x,this.y=e.y*i.y,this.z=e.z*i.z,this}applyEuler(e){return this.applyQuaternion(sz.setFromEuler(e))}applyAxisAngle(e,i){return this.applyQuaternion(sz.setFromAxisAngle(e,i))}applyMatrix3(e){const i=this.x,r=this.y,o=this.z,s=e.elements;return this.x=s[0]*i+s[3]*r+s[6]*o,this.y=s[1]*i+s[4]*r+s[7]*o,this.z=s[2]*i+s[5]*r+s[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const i=this.x,r=this.y,o=this.z,s=e.elements,a=1/(s[3]*i+s[7]*r+s[11]*o+s[15]);return this.x=(s[0]*i+s[4]*r+s[8]*o+s[12])*a,this.y=(s[1]*i+s[5]*r+s[9]*o+s[13])*a,this.z=(s[2]*i+s[6]*r+s[10]*o+s[14])*a,this}applyQuaternion(e){const i=this.x,r=this.y,o=this.z,s=e.x,a=e.y,l=e.z,u=e.w,c=2*(a*o-l*r),d=2*(l*i-s*o),f=2*(s*r-a*i);return this.x=i+u*c+a*f-l*d,this.y=r+u*d+l*c-s*f,this.z=o+u*f+s*d-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const i=this.x,r=this.y,o=this.z,s=e.elements;return this.x=s[0]*i+s[4]*r+s[8]*o,this.y=s[1]*i+s[5]*r+s[9]*o,this.z=s[2]*i+s[6]*r+s[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,i){return this.x=Cn(this.x,e.x,i.x),this.y=Cn(this.y,e.y,i.y),this.z=Cn(this.z,e.z,i.z),this}clampScalar(e,i){return this.x=Cn(this.x,e,i),this.y=Cn(this.y,e,i),this.z=Cn(this.z,e,i),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Cn(r,e,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this.z=e.z+(i.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,i){const r=e.x,o=e.y,s=e.z,a=i.x,l=i.y,u=i.z;return this.x=o*u-s*l,this.y=s*a-r*u,this.z=r*l-o*a,this}projectOnVector(e){const i=e.lengthSq();if(i===0)return this.set(0,0,0);const r=e.dot(this)/i;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return fE.copy(this).projectOnVector(e),this.sub(fE)}reflect(e){return this.sub(fE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const r=this.dot(e)/i;return Math.acos(Cn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,r=this.y-e.y,o=this.z-e.z;return i*i+r*r+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,i,r){const o=Math.sin(i)*e;return this.x=o*Math.sin(r),this.y=Math.cos(i)*e,this.z=o*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,i,r){return this.x=e*Math.sin(i),this.y=r,this.z=e*Math.cos(i),this}setFromMatrixPosition(e){const i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(e){const i=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=i,this.y=r,this.z=o,this}setFromMatrixColumn(e,i){return this.fromArray(e.elements,i*4)}setFromMatrix3Column(e,i){return this.fromArray(e.elements,i*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,i=Math.random()*2-1,r=Math.sqrt(1-i*i);return this.x=r*Math.cos(e),this.y=i,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const fE=new Te,sz=new rl;let Bm=class{constructor(e=new Te(1/0,1/0,1/0),i=new Te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=i}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromArray(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i+=3)this.expandByPoint(Na.fromArray(e,i));return this}setFromBufferAttribute(e){this.makeEmpty();for(let i=0,r=e.count;i<r;i++)this.expandByPoint(Na.fromBufferAttribute(e,i));return this}setFromPoints(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){const r=Na.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,i=!1){return this.makeEmpty(),this.expandByObject(e,i)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,i=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(i===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=s.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,Na):Na.fromBufferAttribute(s,a),Na.applyMatrix4(e.matrixWorld),this.expandByPoint(Na);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Bx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Bx.copy(r.boundingBox)),Bx.applyMatrix4(e.matrixWorld),this.union(Bx)}const o=e.children;for(let s=0,a=o.length;s<a;s++)this.expandByObject(o[s],i);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,i){return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Na),Na.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let i,r;return e.normal.x>0?(i=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(i=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(i+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(i+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(i+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(i+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),i<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Sv),Fx.subVectors(this.max,Sv),pp.subVectors(e.a,Sv),gp.subVectors(e.b,Sv),mp.subVectors(e.c,Sv),Yc.subVectors(gp,pp),Qc.subVectors(mp,gp),xf.subVectors(pp,mp);let i=[0,-Yc.z,Yc.y,0,-Qc.z,Qc.y,0,-xf.z,xf.y,Yc.z,0,-Yc.x,Qc.z,0,-Qc.x,xf.z,0,-xf.x,-Yc.y,Yc.x,0,-Qc.y,Qc.x,0,-xf.y,xf.x,0];return!hE(i,pp,gp,mp,Fx)||(i=[1,0,0,0,1,0,0,0,1],!hE(i,pp,gp,mp,Fx))?!1:($x.crossVectors(Yc,Qc),i=[$x.x,$x.y,$x.z],hE(i,pp,gp,mp,Fx))}clampPoint(e,i){return i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Na).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Na).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(xu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const xu=[new Te,new Te,new Te,new Te,new Te,new Te,new Te,new Te],Na=new Te,Bx=new Bm,pp=new Te,gp=new Te,mp=new Te,Yc=new Te,Qc=new Te,xf=new Te,Sv=new Te,Fx=new Te,$x=new Te,_f=new Te;function hE(n,e,i,r,o){for(let s=0,a=n.length-3;s<=a;s+=3){_f.fromArray(n,s);const l=o.x*Math.abs(_f.x)+o.y*Math.abs(_f.y)+o.z*Math.abs(_f.z),u=e.dot(_f),c=i.dot(_f),d=r.dot(_f);if(Math.max(-Math.max(u,c,d),Math.min(u,c,d))>l)return!1}return!0}const POe=new Bm,wv=new Te,pE=new Te;let GO=class{constructor(e=new Te,i=-1){this.isSphere=!0,this.center=e,this.radius=i}set(e,i){return this.center.copy(e),this.radius=i,this}setFromPoints(e,i){const r=this.center;i!==void 0?r.copy(i):POe.setFromPoints(e).getCenter(r);let o=0;for(let s=0,a=e.length;s<a;s++)o=Math.max(o,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const i=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=i*i}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,i){const r=this.center.distanceToSquared(e);return i.copy(e),r>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wv.subVectors(e,this.center);const i=wv.lengthSq();if(i>this.radius*this.radius){const r=Math.sqrt(i),o=(r-this.radius)*.5;this.center.addScaledVector(wv,o/r),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(pE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wv.copy(e.center).add(pE)),this.expandByPoint(wv.copy(e.center).sub(pE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const _u=new Te,gE=new Te,Ux=new Te,Zc=new Te,mE=new Te,kx=new Te,vE=new Te;let VO=class{constructor(e=new Te,i=new Te(0,0,-1)){this.origin=e,this.direction=i}set(e,i){return this.origin.copy(e),this.direction.copy(i),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,i){return i.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_u)),this}closestPointToPoint(e,i){i.subVectors(e,this.origin);const r=i.dot(this.direction);return r<0?i.copy(this.origin):i.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const i=_u.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(_u.copy(this.origin).addScaledVector(this.direction,i),_u.distanceToSquared(e))}distanceSqToSegment(e,i,r,o){gE.copy(e).add(i).multiplyScalar(.5),Ux.copy(i).sub(e).normalize(),Zc.copy(this.origin).sub(gE);const s=e.distanceTo(i)*.5,a=-this.direction.dot(Ux),l=Zc.dot(this.direction),u=-Zc.dot(Ux),c=Zc.lengthSq(),d=Math.abs(1-a*a);let f,h,p,g;if(d>0)if(f=a*u-l,h=a*l-u,g=s*d,f>=0)if(h>=-g)if(h<=g){const b=1/d;f*=b,h*=b,p=f*(f+a*h+2*l)+h*(a*f+h+2*u)+c}else h=s,f=Math.max(0,-(a*h+l)),p=-f*f+h*(h+2*u)+c;else h=-s,f=Math.max(0,-(a*h+l)),p=-f*f+h*(h+2*u)+c;else h<=-g?(f=Math.max(0,-(-a*s+l)),h=f>0?-s:Math.min(Math.max(-s,-u),s),p=-f*f+h*(h+2*u)+c):h<=g?(f=0,h=Math.min(Math.max(-s,-u),s),p=h*(h+2*u)+c):(f=Math.max(0,-(a*s+l)),h=f>0?s:Math.min(Math.max(-s,-u),s),p=-f*f+h*(h+2*u)+c);else h=a>0?-s:s,f=Math.max(0,-(a*h+l)),p=-f*f+h*(h+2*u)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),o&&o.copy(gE).addScaledVector(Ux,h),p}intersectSphere(e,i){_u.subVectors(e.center,this.origin);const r=_u.dot(this.direction),o=_u.dot(_u)-r*r,s=e.radius*e.radius;if(o>s)return null;const a=Math.sqrt(s-o),l=r-a,u=r+a;return u<0?null:l<0?this.at(u,i):this.at(l,i)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const i=e.normal.dot(this.direction);if(i===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/i;return r>=0?r:null}intersectPlane(e,i){const r=this.distanceToPlane(e);return r===null?null:this.at(r,i)}intersectsPlane(e){const i=e.distanceToPoint(this.origin);return i===0||e.normal.dot(this.direction)*i<0}intersectBox(e,i){let r,o,s,a,l,u;const c=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,o=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,o=(e.min.x-h.x)*c),d>=0?(s=(e.min.y-h.y)*d,a=(e.max.y-h.y)*d):(s=(e.max.y-h.y)*d,a=(e.min.y-h.y)*d),r>a||s>o||((s>r||isNaN(r))&&(r=s),(a<o||isNaN(o))&&(o=a),f>=0?(l=(e.min.z-h.z)*f,u=(e.max.z-h.z)*f):(l=(e.max.z-h.z)*f,u=(e.min.z-h.z)*f),r>u||l>o)||((l>r||r!==r)&&(r=l),(u<o||o!==o)&&(o=u),o<0)?null:this.at(r>=0?r:o,i)}intersectsBox(e){return this.intersectBox(e,_u)!==null}intersectTriangle(e,i,r,o,s){mE.subVectors(i,e),kx.subVectors(r,e),vE.crossVectors(mE,kx);let a=this.direction.dot(vE),l;if(a>0){if(o)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Zc.subVectors(this.origin,e);const u=l*this.direction.dot(kx.crossVectors(Zc,kx));if(u<0)return null;const c=l*this.direction.dot(mE.cross(Zc));if(c<0||u+c>a)return null;const d=-l*Zc.dot(vE);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},ri=class hP{constructor(e,i,r,o,s,a,l,u,c,d,f,h,p,g,b,y){hP.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,i,r,o,s,a,l,u,c,d,f,h,p,g,b,y)}set(e,i,r,o,s,a,l,u,c,d,f,h,p,g,b,y){const m=this.elements;return m[0]=e,m[4]=i,m[8]=r,m[12]=o,m[1]=s,m[5]=a,m[9]=l,m[13]=u,m[2]=c,m[6]=d,m[10]=f,m[14]=h,m[3]=p,m[7]=g,m[11]=b,m[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new hP().fromArray(this.elements)}copy(e){const i=this.elements,r=e.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this}copyPosition(e){const i=this.elements,r=e.elements;return i[12]=r[12],i[13]=r[13],i[14]=r[14],this}setFromMatrix3(e){const i=e.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(e,i,r){return e.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,i,r){return this.set(e.x,i.x,r.x,0,e.y,i.y,r.y,0,e.z,i.z,r.z,0,0,0,0,1),this}extractRotation(e){const i=this.elements,r=e.elements,o=1/vp.setFromMatrixColumn(e,0).length(),s=1/vp.setFromMatrixColumn(e,1).length(),a=1/vp.setFromMatrixColumn(e,2).length();return i[0]=r[0]*o,i[1]=r[1]*o,i[2]=r[2]*o,i[3]=0,i[4]=r[4]*s,i[5]=r[5]*s,i[6]=r[6]*s,i[7]=0,i[8]=r[8]*a,i[9]=r[9]*a,i[10]=r[10]*a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(e){const i=this.elements,r=e.x,o=e.y,s=e.z,a=Math.cos(r),l=Math.sin(r),u=Math.cos(o),c=Math.sin(o),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=a*d,p=a*f,g=l*d,b=l*f;i[0]=u*d,i[4]=-u*f,i[8]=c,i[1]=p+g*c,i[5]=h-b*c,i[9]=-l*u,i[2]=b-h*c,i[6]=g+p*c,i[10]=a*u}else if(e.order==="YXZ"){const h=u*d,p=u*f,g=c*d,b=c*f;i[0]=h+b*l,i[4]=g*l-p,i[8]=a*c,i[1]=a*f,i[5]=a*d,i[9]=-l,i[2]=p*l-g,i[6]=b+h*l,i[10]=a*u}else if(e.order==="ZXY"){const h=u*d,p=u*f,g=c*d,b=c*f;i[0]=h-b*l,i[4]=-a*f,i[8]=g+p*l,i[1]=p+g*l,i[5]=a*d,i[9]=b-h*l,i[2]=-a*c,i[6]=l,i[10]=a*u}else if(e.order==="ZYX"){const h=a*d,p=a*f,g=l*d,b=l*f;i[0]=u*d,i[4]=g*c-p,i[8]=h*c+b,i[1]=u*f,i[5]=b*c+h,i[9]=p*c-g,i[2]=-c,i[6]=l*u,i[10]=a*u}else if(e.order==="YZX"){const h=a*u,p=a*c,g=l*u,b=l*c;i[0]=u*d,i[4]=b-h*f,i[8]=g*f+p,i[1]=f,i[5]=a*d,i[9]=-l*d,i[2]=-c*d,i[6]=p*f+g,i[10]=h-b*f}else if(e.order==="XZY"){const h=a*u,p=a*c,g=l*u,b=l*c;i[0]=u*d,i[4]=-f,i[8]=c*d,i[1]=h*f+b,i[5]=a*d,i[9]=p*f-g,i[2]=g*f-p,i[6]=l*d,i[10]=b*f+h}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(e){return this.compose(IOe,e,NOe)}lookAt(e,i,r){const o=this.elements;return ws.subVectors(e,i),ws.lengthSq()===0&&(ws.z=1),ws.normalize(),Jc.crossVectors(r,ws),Jc.lengthSq()===0&&(Math.abs(r.z)===1?ws.x+=1e-4:ws.z+=1e-4,ws.normalize(),Jc.crossVectors(r,ws)),Jc.normalize(),zx.crossVectors(ws,Jc),o[0]=Jc.x,o[4]=zx.x,o[8]=ws.x,o[1]=Jc.y,o[5]=zx.y,o[9]=ws.y,o[2]=Jc.z,o[6]=zx.z,o[10]=ws.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const r=e.elements,o=i.elements,s=this.elements,a=r[0],l=r[4],u=r[8],c=r[12],d=r[1],f=r[5],h=r[9],p=r[13],g=r[2],b=r[6],y=r[10],m=r[14],_=r[3],S=r[7],w=r[11],A=r[15],T=o[0],C=o[4],R=o[8],E=o[12],P=o[1],I=o[5],D=o[9],F=o[13],L=o[2],$=o[6],U=o[10],k=o[14],H=o[3],z=o[7],Q=o[11],Z=o[15];return s[0]=a*T+l*P+u*L+c*H,s[4]=a*C+l*I+u*$+c*z,s[8]=a*R+l*D+u*U+c*Q,s[12]=a*E+l*F+u*k+c*Z,s[1]=d*T+f*P+h*L+p*H,s[5]=d*C+f*I+h*$+p*z,s[9]=d*R+f*D+h*U+p*Q,s[13]=d*E+f*F+h*k+p*Z,s[2]=g*T+b*P+y*L+m*H,s[6]=g*C+b*I+y*$+m*z,s[10]=g*R+b*D+y*U+m*Q,s[14]=g*E+b*F+y*k+m*Z,s[3]=_*T+S*P+w*L+A*H,s[7]=_*C+S*I+w*$+A*z,s[11]=_*R+S*D+w*U+A*Q,s[15]=_*E+S*F+w*k+A*Z,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[4]*=e,i[8]*=e,i[12]*=e,i[1]*=e,i[5]*=e,i[9]*=e,i[13]*=e,i[2]*=e,i[6]*=e,i[10]*=e,i[14]*=e,i[3]*=e,i[7]*=e,i[11]*=e,i[15]*=e,this}determinant(){const e=this.elements,i=e[0],r=e[4],o=e[8],s=e[12],a=e[1],l=e[5],u=e[9],c=e[13],d=e[2],f=e[6],h=e[10],p=e[14],g=e[3],b=e[7],y=e[11],m=e[15];return g*(+s*u*f-o*c*f-s*l*h+r*c*h+o*l*p-r*u*p)+b*(+i*u*p-i*c*h+s*a*h-o*a*p+o*c*d-s*u*d)+y*(+i*c*f-i*l*p-s*a*f+r*a*p+s*l*d-r*c*d)+m*(-o*l*d-i*u*f+i*l*h+o*a*f-r*a*h+r*u*d)}transpose(){const e=this.elements;let i;return i=e[1],e[1]=e[4],e[4]=i,i=e[2],e[2]=e[8],e[8]=i,i=e[6],e[6]=e[9],e[9]=i,i=e[3],e[3]=e[12],e[12]=i,i=e[7],e[7]=e[13],e[13]=i,i=e[11],e[11]=e[14],e[14]=i,this}setPosition(e,i,r){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=i,o[14]=r),this}invert(){const e=this.elements,i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=e[9],h=e[10],p=e[11],g=e[12],b=e[13],y=e[14],m=e[15],_=f*y*c-b*h*c+b*u*p-l*y*p-f*u*m+l*h*m,S=g*h*c-d*y*c-g*u*p+a*y*p+d*u*m-a*h*m,w=d*b*c-g*f*c+g*l*p-a*b*p-d*l*m+a*f*m,A=g*f*u-d*b*u-g*l*h+a*b*h+d*l*y-a*f*y,T=i*_+r*S+o*w+s*A;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/T;return e[0]=_*C,e[1]=(b*h*s-f*y*s-b*o*p+r*y*p+f*o*m-r*h*m)*C,e[2]=(l*y*s-b*u*s+b*o*c-r*y*c-l*o*m+r*u*m)*C,e[3]=(f*u*s-l*h*s-f*o*c+r*h*c+l*o*p-r*u*p)*C,e[4]=S*C,e[5]=(d*y*s-g*h*s+g*o*p-i*y*p-d*o*m+i*h*m)*C,e[6]=(g*u*s-a*y*s-g*o*c+i*y*c+a*o*m-i*u*m)*C,e[7]=(a*h*s-d*u*s+d*o*c-i*h*c-a*o*p+i*u*p)*C,e[8]=w*C,e[9]=(g*f*s-d*b*s-g*r*p+i*b*p+d*r*m-i*f*m)*C,e[10]=(a*b*s-g*l*s+g*r*c-i*b*c-a*r*m+i*l*m)*C,e[11]=(d*l*s-a*f*s-d*r*c+i*f*c+a*r*p-i*l*p)*C,e[12]=A*C,e[13]=(d*b*o-g*f*o+g*r*h-i*b*h-d*r*y+i*f*y)*C,e[14]=(g*l*o-a*b*o-g*r*u+i*b*u+a*r*y-i*l*y)*C,e[15]=(a*f*o-d*l*o+d*r*u-i*f*u-a*r*h+i*l*h)*C,this}scale(e){const i=this.elements,r=e.x,o=e.y,s=e.z;return i[0]*=r,i[4]*=o,i[8]*=s,i[1]*=r,i[5]*=o,i[9]*=s,i[2]*=r,i[6]*=o,i[10]*=s,i[3]*=r,i[7]*=o,i[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(i,r,o))}makeTranslation(e,i,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,i,0,0,1,r,0,0,0,1),this}makeRotationX(e){const i=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,i,-r,0,0,r,i,0,0,0,0,1),this}makeRotationY(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,0,r,0,0,1,0,0,-r,0,i,0,0,0,0,1),this}makeRotationZ(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,i){const r=Math.cos(i),o=Math.sin(i),s=1-r,a=e.x,l=e.y,u=e.z,c=s*a,d=s*l;return this.set(c*a+r,c*l-o*u,c*u+o*l,0,c*l+o*u,d*l+r,d*u-o*a,0,c*u-o*l,d*u+o*a,s*u*u+r,0,0,0,0,1),this}makeScale(e,i,r){return this.set(e,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,i,r,o,s,a){return this.set(1,r,s,0,e,1,a,0,i,o,1,0,0,0,0,1),this}compose(e,i,r){const o=this.elements,s=i._x,a=i._y,l=i._z,u=i._w,c=s+s,d=a+a,f=l+l,h=s*c,p=s*d,g=s*f,b=a*d,y=a*f,m=l*f,_=u*c,S=u*d,w=u*f,A=r.x,T=r.y,C=r.z;return o[0]=(1-(b+m))*A,o[1]=(p+w)*A,o[2]=(g-S)*A,o[3]=0,o[4]=(p-w)*T,o[5]=(1-(h+m))*T,o[6]=(y+_)*T,o[7]=0,o[8]=(g+S)*C,o[9]=(y-_)*C,o[10]=(1-(h+b))*C,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,i,r){const o=this.elements;let s=vp.set(o[0],o[1],o[2]).length();const a=vp.set(o[4],o[5],o[6]).length(),l=vp.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),e.x=o[12],e.y=o[13],e.z=o[14],Oa.copy(this);const c=1/s,d=1/a,f=1/l;return Oa.elements[0]*=c,Oa.elements[1]*=c,Oa.elements[2]*=c,Oa.elements[4]*=d,Oa.elements[5]*=d,Oa.elements[6]*=d,Oa.elements[8]*=f,Oa.elements[9]*=f,Oa.elements[10]*=f,i.setFromRotationMatrix(Oa),r.x=s,r.y=a,r.z=l,this}makePerspective(e,i,r,o,s,a,l=rs){const u=this.elements,c=2*s/(i-e),d=2*s/(r-o),f=(i+e)/(i-e),h=(r+o)/(r-o);let p,g;if(l===rs)p=-(a+s)/(a-s),g=-2*a*s/(a-s);else if(l===zd)p=-a/(a-s),g=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=d,u[9]=h,u[13]=0,u[2]=0,u[6]=0,u[10]=p,u[14]=g,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,i,r,o,s,a,l=rs){const u=this.elements,c=1/(i-e),d=1/(r-o),f=1/(a-s),h=(i+e)*c,p=(r+o)*d;let g,b;if(l===rs)g=(a+s)*f,b=-2*f;else if(l===zd)g=s*f,b=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-h,u[1]=0,u[5]=2*d,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=b,u[14]=-g,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const i=this.elements,r=e.elements;for(let o=0;o<16;o++)if(i[o]!==r[o])return!1;return!0}fromArray(e,i=0){for(let r=0;r<16;r++)this.elements[r]=e[r+i];return this}toArray(e=[],i=0){const r=this.elements;return e[i]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3],e[i+4]=r[4],e[i+5]=r[5],e[i+6]=r[6],e[i+7]=r[7],e[i+8]=r[8],e[i+9]=r[9],e[i+10]=r[10],e[i+11]=r[11],e[i+12]=r[12],e[i+13]=r[13],e[i+14]=r[14],e[i+15]=r[15],e}};const vp=new Te,Oa=new ri,IOe=new Te(0,0,0),NOe=new Te(1,1,1),Jc=new Te,zx=new Te,ws=new Te,az=new ri,lz=new rl;let ol=class lK{constructor(e=0,i=0,r=0,o=lK.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=r,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,r,o=this._order){return this._x=e,this._y=i,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,r=!0){const o=e.elements,s=o[0],a=o[4],l=o[8],u=o[1],c=o[5],d=o[9],f=o[2],h=o[6],p=o[10];switch(i){case"XYZ":this._y=Math.asin(Cn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Cn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Cn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-Cn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Cn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-Cn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,i,r){return az.makeRotationFromQuaternion(e),this.setFromRotationMatrix(az,i,r)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return lz.setFromEuler(this),this.setFromQuaternion(lz,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};ol.DEFAULT_ORDER="XYZ";let WO=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},OOe=0;const uz=new Te,yp=new rl,Su=new ri,Hx=new Te,Cv=new Te,DOe=new Te,LOe=new rl,cz=new Te(1,0,0),dz=new Te(0,1,0),fz=new Te(0,0,1),hz={type:"added"},BOe={type:"removed"},bp={type:"childadded",child:null},yE={type:"childremoved",child:null};let $o=class NS extends Ac{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:OOe++}),this.uuid=oc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=NS.DEFAULT_UP.clone();const e=new Te,i=new ol,r=new rl,o=new Te(1,1,1);function s(){r.setFromEuler(i,!1)}function a(){i.setFromQuaternion(r,void 0,!1)}i._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new ri},normalMatrix:{value:new on}}),this.matrix=new ri,this.matrixWorld=new ri,this.matrixAutoUpdate=NS.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=NS.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new WO,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,i){this.quaternion.setFromAxisAngle(e,i)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,i){return yp.setFromAxisAngle(e,i),this.quaternion.multiply(yp),this}rotateOnWorldAxis(e,i){return yp.setFromAxisAngle(e,i),this.quaternion.premultiply(yp),this}rotateX(e){return this.rotateOnAxis(cz,e)}rotateY(e){return this.rotateOnAxis(dz,e)}rotateZ(e){return this.rotateOnAxis(fz,e)}translateOnAxis(e,i){return uz.copy(e).applyQuaternion(this.quaternion),this.position.add(uz.multiplyScalar(i)),this}translateX(e){return this.translateOnAxis(cz,e)}translateY(e){return this.translateOnAxis(dz,e)}translateZ(e){return this.translateOnAxis(fz,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Su.copy(this.matrixWorld).invert())}lookAt(e,i,r){e.isVector3?Hx.copy(e):Hx.set(e,i,r);const o=this.parent;this.updateWorldMatrix(!0,!1),Cv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Su.lookAt(Cv,Hx,this.up):Su.lookAt(Hx,Cv,this.up),this.quaternion.setFromRotationMatrix(Su),o&&(Su.extractRotation(o.matrixWorld),yp.setFromRotationMatrix(Su),this.quaternion.premultiply(yp.invert()))}add(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(hz),bp.child=e,this.dispatchEvent(bp),bp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(e);return i!==-1&&(e.parent=null,this.children.splice(i,1),e.dispatchEvent(BOe),yE.child=e,this.dispatchEvent(yE),yE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Su.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Su.multiply(e.parent.matrixWorld)),e.applyMatrix4(Su),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(hz),bp.child=e,this.dispatchEvent(bp),bp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,i){if(this[e]===i)return this;for(let r=0,o=this.children.length;r<o;r++){const a=this.children[r].getObjectByProperty(e,i);if(a!==void 0)return a}}getObjectsByProperty(e,i,r=[]){this[e]===i&&r.push(this);const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].getObjectsByProperty(e,i,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cv,e,DOe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cv,LOe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return e.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(e){e(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverseVisible(e)}traverseAncestors(e){const i=this.parent;i!==null&&(e(i),i.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateMatrixWorld(e)}updateWorldMatrix(e,i){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),i===!0){const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(e){const i=e===void 0||typeof e=="string",r={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.visibility=this._visibility,o.active=this._active,o.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),o.maxInstanceCount=this._maxInstanceCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.geometryCount=this._geometryCount,o.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(o.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(o.boundingSphere={center:o.boundingSphere.center.toArray(),radius:o.boundingSphere.radius}),this.boundingBox!==null&&(o.boundingBox={min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}));function s(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let c=0,d=u.length;c<d;c++){const f=u[c];s(e.shapes,f)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,c=this.material.length;u<c;u++)l.push(s(e.materials,this.material[u]));o.material=l}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let l=0;l<this.children.length;l++)o.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];o.animations.push(s(e.animations,u))}}if(i){const l=a(e.geometries),u=a(e.materials),c=a(e.textures),d=a(e.images),f=a(e.shapes),h=a(e.skeletons),p=a(e.animations),g=a(e.nodes);l.length>0&&(r.geometries=l),u.length>0&&(r.materials=u),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=o,r;function a(l){const u=[];for(const c in l){const d=l[c];delete d.metadata,u.push(d)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,i=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),i===!0)for(let r=0;r<e.children.length;r++){const o=e.children[r];this.add(o.clone())}return this}};$o.DEFAULT_UP=new Te(0,1,0);$o.DEFAULT_MATRIX_AUTO_UPDATE=!0;$o.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Da=new Te,wu=new Te,bE=new Te,Cu=new Te,xp=new Te,_p=new Te,pz=new Te,xE=new Te,_E=new Te,SE=new Te,wE=new fn,CE=new fn,AE=new fn;let Av=class ag{constructor(e=new Te,i=new Te,r=new Te){this.a=e,this.b=i,this.c=r}static getNormal(e,i,r,o){o.subVectors(r,i),Da.subVectors(e,i),o.cross(Da);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(e,i,r,o,s){Da.subVectors(o,i),wu.subVectors(r,i),bE.subVectors(e,i);const a=Da.dot(Da),l=Da.dot(wu),u=Da.dot(bE),c=wu.dot(wu),d=wu.dot(bE),f=a*c-l*l;if(f===0)return s.set(0,0,0),null;const h=1/f,p=(c*u-l*d)*h,g=(a*d-l*u)*h;return s.set(1-p-g,g,p)}static containsPoint(e,i,r,o){return this.getBarycoord(e,i,r,o,Cu)===null?!1:Cu.x>=0&&Cu.y>=0&&Cu.x+Cu.y<=1}static getInterpolation(e,i,r,o,s,a,l,u){return this.getBarycoord(e,i,r,o,Cu)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(s,Cu.x),u.addScaledVector(a,Cu.y),u.addScaledVector(l,Cu.z),u)}static getInterpolatedAttribute(e,i,r,o,s,a){return wE.setScalar(0),CE.setScalar(0),AE.setScalar(0),wE.fromBufferAttribute(e,i),CE.fromBufferAttribute(e,r),AE.fromBufferAttribute(e,o),a.setScalar(0),a.addScaledVector(wE,s.x),a.addScaledVector(CE,s.y),a.addScaledVector(AE,s.z),a}static isFrontFacing(e,i,r,o){return Da.subVectors(r,i),wu.subVectors(e,i),Da.cross(wu).dot(o)<0}set(e,i,r){return this.a.copy(e),this.b.copy(i),this.c.copy(r),this}setFromPointsAndIndices(e,i,r,o){return this.a.copy(e[i]),this.b.copy(e[r]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,i,r,o){return this.a.fromBufferAttribute(e,i),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Da.subVectors(this.c,this.b),wu.subVectors(this.a,this.b),Da.cross(wu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ag.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,i){return ag.getBarycoord(e,this.a,this.b,this.c,i)}getInterpolation(e,i,r,o,s){return ag.getInterpolation(e,this.a,this.b,this.c,i,r,o,s)}containsPoint(e){return ag.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ag.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,i){const r=this.a,o=this.b,s=this.c;let a,l;xp.subVectors(o,r),_p.subVectors(s,r),xE.subVectors(e,r);const u=xp.dot(xE),c=_p.dot(xE);if(u<=0&&c<=0)return i.copy(r);_E.subVectors(e,o);const d=xp.dot(_E),f=_p.dot(_E);if(d>=0&&f<=d)return i.copy(o);const h=u*f-d*c;if(h<=0&&u>=0&&d<=0)return a=u/(u-d),i.copy(r).addScaledVector(xp,a);SE.subVectors(e,s);const p=xp.dot(SE),g=_p.dot(SE);if(g>=0&&p<=g)return i.copy(s);const b=p*c-u*g;if(b<=0&&c>=0&&g<=0)return l=c/(c-g),i.copy(r).addScaledVector(_p,l);const y=d*g-p*f;if(y<=0&&f-d>=0&&p-g>=0)return pz.subVectors(s,o),l=(f-d)/(f-d+(p-g)),i.copy(o).addScaledVector(pz,l);const m=1/(y+b+h);return a=b*m,l=h*m,i.copy(r).addScaledVector(xp,a).addScaledVector(_p,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}};const uK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ed={h:0,s:0,l:0},Gx={h:0,s:0,l:0};function TE(n,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(e-n)*6*i:i<1/2?e:i<2/3?n+(e-n)*6*(2/3-i):n}let Ft=class{constructor(e,i,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,i,r)}set(e,i,r){if(i===void 0&&r===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,i,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,i=Ut){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wn.toWorkingColorSpace(this,i),this}setRGB(e,i,r,o=wn.workingColorSpace){return this.r=e,this.g=i,this.b=r,wn.toWorkingColorSpace(this,o),this}setHSL(e,i,r,o=wn.workingColorSpace){if(e=zO(e,1),i=Cn(i,0,1),r=Cn(r,0,1),i===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+i):r+i-r*i,a=2*r-s;this.r=TE(a,s,e+1/3),this.g=TE(a,s,e),this.b=TE(a,s,e-1/3)}return wn.toWorkingColorSpace(this,o),this}setStyle(e,i=Ut){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=o[1],l=o[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,i);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,i);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,i);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=o[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,i);if(a===6)return this.setHex(parseInt(s,16),i);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,i);return this}setColorName(e,i=Ut){const r=uK[e.toLowerCase()];return r!==void 0?this.setHex(r,i):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=sc(e.r),this.g=sc(e.g),this.b=sc(e.b),this}copyLinearToSRGB(e){return this.r=Og(e.r),this.g=Og(e.g),this.b=Og(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ut){return wn.fromWorkingColorSpace(eo.copy(this),e),Math.round(Cn(eo.r*255,0,255))*65536+Math.round(Cn(eo.g*255,0,255))*256+Math.round(Cn(eo.b*255,0,255))}getHexString(e=Ut){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,i=wn.workingColorSpace){wn.fromWorkingColorSpace(eo.copy(this),i);const r=eo.r,o=eo.g,s=eo.b,a=Math.max(r,o,s),l=Math.min(r,o,s);let u,c;const d=(l+a)/2;if(l===a)u=0,c=0;else{const f=a-l;switch(c=d<=.5?f/(a+l):f/(2-a-l),a){case r:u=(o-s)/f+(o<s?6:0);break;case o:u=(s-r)/f+2;break;case s:u=(r-o)/f+4;break}u/=6}return e.h=u,e.s=c,e.l=d,e}getRGB(e,i=wn.workingColorSpace){return wn.fromWorkingColorSpace(eo.copy(this),i),e.r=eo.r,e.g=eo.g,e.b=eo.b,e}getStyle(e=Ut){wn.fromWorkingColorSpace(eo.copy(this),e);const i=eo.r,r=eo.g,o=eo.b;return e!==Ut?`color(${e} ${i.toFixed(3)} ${r.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(i*255)},${Math.round(r*255)},${Math.round(o*255)})`}offsetHSL(e,i,r){return this.getHSL(ed),this.setHSL(ed.h+e,ed.s+i,ed.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,i){return this.r=e.r+i.r,this.g=e.g+i.g,this.b=e.b+i.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,i){return this.r+=(e.r-this.r)*i,this.g+=(e.g-this.g)*i,this.b+=(e.b-this.b)*i,this}lerpColors(e,i,r){return this.r=e.r+(i.r-e.r)*r,this.g=e.g+(i.g-e.g)*r,this.b=e.b+(i.b-e.b)*r,this}lerpHSL(e,i){this.getHSL(ed),e.getHSL(Gx);const r=Oy(ed.h,Gx.h,i),o=Oy(ed.s,Gx.s,i),s=Oy(ed.l,Gx.l,i);return this.setHSL(r,o,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const i=this.r,r=this.g,o=this.b,s=e.elements;return this.r=s[0]*i+s[3]*r+s[6]*o,this.g=s[1]*i+s[4]*r+s[7]*o,this.b=s[2]*i+s[5]*r+s[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,i=0){return this.r=e[i],this.g=e[i+1],this.b=e[i+2],this}toArray(e=[],i=0){return e[i]=this.r,e[i+1]=this.g,e[i+2]=this.b,e}fromBufferAttribute(e,i){return this.r=e.getX(i),this.g=e.getY(i),this.b=e.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const eo=new Ft;Ft.NAMES=uK;let FOe=0,vo=class extends Ac{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:FOe++}),this.uuid=oc(),this.name="",this.type="Material",this.blending=ga,this.side=il,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=c0,this.blendDst=d0,this.blendEquation=Bs,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ft(0,0,0),this.blendAlpha=0,this.depthFunc=$d,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=fP,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Of,this.stencilZFail=Of,this.stencilZPass=Of,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const i in e){const r=e[i];if(r===void 0){console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);continue}const o=this[i];if(o===void 0){console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(r):o&&o.isVector3&&r&&r.isVector3?o.copy(r):this[i]=r}}toJSON(e){const i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ga&&(r.blending=this.blending),this.side!==il&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==c0&&(r.blendSrc=this.blendSrc),this.blendDst!==d0&&(r.blendDst=this.blendDst),this.blendEquation!==Bs&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==$d&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==fP&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Of&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Of&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Of&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function o(s){const a=[];for(const l in s){const u=s[l];delete u.metadata,a.push(u)}return a}if(i){const s=o(e.textures),a=o(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const i=e.clippingPlanes;let r=null;if(i!==null){const o=i.length;r=new Array(o);for(let s=0;s!==o;++s)r[s]=i[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}},ob=class extends vo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ol,this.combine=nb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}};const Gu=$Oe();function $Oe(){const n=new ArrayBuffer(4),e=new Float32Array(n),i=new Uint32Array(n),r=new Uint32Array(512),o=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(r[u]=0,r[u|256]=32768,o[u]=24,o[u|256]=24):c<-14?(r[u]=1024>>-c-14,r[u|256]=1024>>-c-14|32768,o[u]=-c-1,o[u|256]=-c-1):c<=15?(r[u]=c+15<<10,r[u|256]=c+15<<10|32768,o[u]=13,o[u|256]=13):c<128?(r[u]=31744,r[u|256]=64512,o[u]=24,o[u|256]=24):(r[u]=31744,r[u|256]=64512,o[u]=13,o[u|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[u]=c|d}for(let u=1024;u<2048;++u)s[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)a[u]=u<<23;a[31]=1199570944,a[32]=2147483648;for(let u=33;u<63;++u)a[u]=2147483648+(u-32<<23);a[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:i,baseTable:r,shiftTable:o,mantissaTable:s,exponentTable:a,offsetTable:l}}function Cs(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Cn(n,-65504,65504),Gu.floatView[0]=n;const e=Gu.uint32View[0],i=e>>23&511;return Gu.baseTable[i]+((e&8388607)>>Gu.shiftTable[i])}function Vx(n){const e=n>>10;return Gu.uint32View[0]=Gu.mantissaTable[Gu.offsetTable[e]+(n&1023)]+Gu.exponentTable[e],Gu.floatView[0]}const or=new Te,Wx=new Tt;let po=class{constructor(e,i,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=i,this.count=e!==void 0?e.length/i:0,this.normalized=r,this.usage=zw,this.updateRanges=[],this.gpuType=nr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,i){this.updateRanges.push({start:e,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,i,r){e*=this.itemSize,r*=i.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[e+o]=i.array[r+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let i=0,r=this.count;i<r;i++)Wx.fromBufferAttribute(this,i),Wx.applyMatrix3(e),this.setXY(i,Wx.x,Wx.y);else if(this.itemSize===3)for(let i=0,r=this.count;i<r;i++)or.fromBufferAttribute(this,i),or.applyMatrix3(e),this.setXYZ(i,or.x,or.y,or.z);return this}applyMatrix4(e){for(let i=0,r=this.count;i<r;i++)or.fromBufferAttribute(this,i),or.applyMatrix4(e),this.setXYZ(i,or.x,or.y,or.z);return this}applyNormalMatrix(e){for(let i=0,r=this.count;i<r;i++)or.fromBufferAttribute(this,i),or.applyNormalMatrix(e),this.setXYZ(i,or.x,or.y,or.z);return this}transformDirection(e){for(let i=0,r=this.count;i<r;i++)or.fromBufferAttribute(this,i),or.transformDirection(e),this.setXYZ(i,or.x,or.y,or.z);return this}set(e,i=0){return this.array.set(e,i),this}getComponent(e,i){let r=this.array[e*this.itemSize+i];return this.normalized&&(r=Do(r,this.array)),r}setComponent(e,i,r){return this.normalized&&(r=gn(r,this.array)),this.array[e*this.itemSize+i]=r,this}getX(e){let i=this.array[e*this.itemSize];return this.normalized&&(i=Do(i,this.array)),i}setX(e,i){return this.normalized&&(i=gn(i,this.array)),this.array[e*this.itemSize]=i,this}getY(e){let i=this.array[e*this.itemSize+1];return this.normalized&&(i=Do(i,this.array)),i}setY(e,i){return this.normalized&&(i=gn(i,this.array)),this.array[e*this.itemSize+1]=i,this}getZ(e){let i=this.array[e*this.itemSize+2];return this.normalized&&(i=Do(i,this.array)),i}setZ(e,i){return this.normalized&&(i=gn(i,this.array)),this.array[e*this.itemSize+2]=i,this}getW(e){let i=this.array[e*this.itemSize+3];return this.normalized&&(i=Do(i,this.array)),i}setW(e,i){return this.normalized&&(i=gn(i,this.array)),this.array[e*this.itemSize+3]=i,this}setXY(e,i,r){return e*=this.itemSize,this.normalized&&(i=gn(i,this.array),r=gn(r,this.array)),this.array[e+0]=i,this.array[e+1]=r,this}setXYZ(e,i,r,o){return e*=this.itemSize,this.normalized&&(i=gn(i,this.array),r=gn(r,this.array),o=gn(o,this.array)),this.array[e+0]=i,this.array[e+1]=r,this.array[e+2]=o,this}setXYZW(e,i,r,o,s){return e*=this.itemSize,this.normalized&&(i=gn(i,this.array),r=gn(r,this.array),o=gn(o,this.array),s=gn(s,this.array)),this.array[e+0]=i,this.array[e+1]=r,this.array[e+2]=o,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==zw&&(e.usage=this.usage),e}},jO=class extends po{constructor(e,i,r){super(new Uint16Array(e),i,r)}},KO=class extends po{constructor(e,i,r){super(new Uint32Array(e),i,r)}};class cK extends po{constructor(e,i,r){super(new Uint16Array(e),i,r),this.isFloat16BufferAttribute=!0}getX(e){let i=Vx(this.array[e*this.itemSize]);return this.normalized&&(i=Do(i,this.array)),i}setX(e,i){return this.normalized&&(i=gn(i,this.array)),this.array[e*this.itemSize]=Cs(i),this}getY(e){let i=Vx(this.array[e*this.itemSize+1]);return this.normalized&&(i=Do(i,this.array)),i}setY(e,i){return this.normalized&&(i=gn(i,this.array)),this.array[e*this.itemSize+1]=Cs(i),this}getZ(e){let i=Vx(this.array[e*this.itemSize+2]);return this.normalized&&(i=Do(i,this.array)),i}setZ(e,i){return this.normalized&&(i=gn(i,this.array)),this.array[e*this.itemSize+2]=Cs(i),this}getW(e){let i=Vx(this.array[e*this.itemSize+3]);return this.normalized&&(i=Do(i,this.array)),i}setW(e,i){return this.normalized&&(i=gn(i,this.array)),this.array[e*this.itemSize+3]=Cs(i),this}setXY(e,i,r){return e*=this.itemSize,this.normalized&&(i=gn(i,this.array),r=gn(r,this.array)),this.array[e+0]=Cs(i),this.array[e+1]=Cs(r),this}setXYZ(e,i,r,o){return e*=this.itemSize,this.normalized&&(i=gn(i,this.array),r=gn(r,this.array),o=gn(o,this.array)),this.array[e+0]=Cs(i),this.array[e+1]=Cs(r),this.array[e+2]=Cs(o),this}setXYZW(e,i,r,o,s){return e*=this.itemSize,this.normalized&&(i=gn(i,this.array),r=gn(r,this.array),o=gn(o,this.array),s=gn(s,this.array)),this.array[e+0]=Cs(i),this.array[e+1]=Cs(r),this.array[e+2]=Cs(o),this.array[e+3]=Cs(s),this}}let cs=class extends po{constructor(e,i,r){super(new Float32Array(e),i,r)}},UOe=0;const ra=new ri,EE=new $o,Sp=new Te,As=new Bm,Tv=new Bm,Nr=new Te;let Tc=class dK extends Ac{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:UOe++}),this.uuid=oc(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(rK(e)?KO:jO)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,i){return this.attributes[e]=i,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,i,r=0){this.groups.push({start:e,count:i,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,i){this.drawRange.start=e,this.drawRange.count=i}applyMatrix4(e){const i=this.attributes.position;i!==void 0&&(i.applyMatrix4(e),i.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new on().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ra.makeRotationFromQuaternion(e),this.applyMatrix4(ra),this}rotateX(e){return ra.makeRotationX(e),this.applyMatrix4(ra),this}rotateY(e){return ra.makeRotationY(e),this.applyMatrix4(ra),this}rotateZ(e){return ra.makeRotationZ(e),this.applyMatrix4(ra),this}translate(e,i,r){return ra.makeTranslation(e,i,r),this.applyMatrix4(ra),this}scale(e,i,r){return ra.makeScale(e,i,r),this.applyMatrix4(ra),this}lookAt(e){return EE.lookAt(e),EE.updateMatrix(),this.applyMatrix4(EE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sp).negate(),this.translate(Sp.x,Sp.y,Sp.z),this}setFromPoints(e){const i=this.getAttribute("position");if(i===void 0){const r=[];for(let o=0,s=e.length;o<s;o++){const a=e[o];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new cs(r,3))}else{const r=Math.min(e.length,i.count);for(let o=0;o<r;o++){const s=e[o];i.setXYZ(o,s.x,s.y,s.z||0)}e.length>i.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),i.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Bm);const e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Te(-1/0,-1/0,-1/0),new Te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),i)for(let r=0,o=i.length;r<o;r++){const s=i[r];As.setFromBufferAttribute(s),this.morphTargetsRelative?(Nr.addVectors(this.boundingBox.min,As.min),this.boundingBox.expandByPoint(Nr),Nr.addVectors(this.boundingBox.max,As.max),this.boundingBox.expandByPoint(Nr)):(this.boundingBox.expandByPoint(As.min),this.boundingBox.expandByPoint(As.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new GO);const e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Te,1/0);return}if(e){const r=this.boundingSphere.center;if(As.setFromBufferAttribute(e),i)for(let s=0,a=i.length;s<a;s++){const l=i[s];Tv.setFromBufferAttribute(l),this.morphTargetsRelative?(Nr.addVectors(As.min,Tv.min),As.expandByPoint(Nr),Nr.addVectors(As.max,Tv.max),As.expandByPoint(Nr)):(As.expandByPoint(Tv.min),As.expandByPoint(Tv.max))}As.getCenter(r);let o=0;for(let s=0,a=e.count;s<a;s++)Nr.fromBufferAttribute(e,s),o=Math.max(o,r.distanceToSquared(Nr));if(i)for(let s=0,a=i.length;s<a;s++){const l=i[s],u=this.morphTargetsRelative;for(let c=0,d=l.count;c<d;c++)Nr.fromBufferAttribute(l,c),u&&(Sp.fromBufferAttribute(e,c),Nr.add(Sp)),o=Math.max(o,r.distanceToSquared(Nr))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,i=this.attributes;if(e===null||i.position===void 0||i.normal===void 0||i.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=i.position,o=i.normal,s=i.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new po(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),l=[],u=[];for(let R=0;R<r.count;R++)l[R]=new Te,u[R]=new Te;const c=new Te,d=new Te,f=new Te,h=new Tt,p=new Tt,g=new Tt,b=new Te,y=new Te;function m(R,E,P){c.fromBufferAttribute(r,R),d.fromBufferAttribute(r,E),f.fromBufferAttribute(r,P),h.fromBufferAttribute(s,R),p.fromBufferAttribute(s,E),g.fromBufferAttribute(s,P),d.sub(c),f.sub(c),p.sub(h),g.sub(h);const I=1/(p.x*g.y-g.x*p.y);isFinite(I)&&(b.copy(d).multiplyScalar(g.y).addScaledVector(f,-p.y).multiplyScalar(I),y.copy(f).multiplyScalar(p.x).addScaledVector(d,-g.x).multiplyScalar(I),l[R].add(b),l[E].add(b),l[P].add(b),u[R].add(y),u[E].add(y),u[P].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let R=0,E=_.length;R<E;++R){const P=_[R],I=P.start,D=P.count;for(let F=I,L=I+D;F<L;F+=3)m(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const S=new Te,w=new Te,A=new Te,T=new Te;function C(R){A.fromBufferAttribute(o,R),T.copy(A);const E=l[R];S.copy(E),S.sub(A.multiplyScalar(A.dot(E))).normalize(),w.crossVectors(T,E);const I=w.dot(u[R])<0?-1:1;a.setXYZW(R,S.x,S.y,S.z,I)}for(let R=0,E=_.length;R<E;++R){const P=_[R],I=P.start,D=P.count;for(let F=I,L=I+D;F<L;F+=3)C(e.getX(F+0)),C(e.getX(F+1)),C(e.getX(F+2))}}computeVertexNormals(){const e=this.index,i=this.getAttribute("position");if(i!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new po(new Float32Array(i.count*3),3),this.setAttribute("normal",r);else for(let h=0,p=r.count;h<p;h++)r.setXYZ(h,0,0,0);const o=new Te,s=new Te,a=new Te,l=new Te,u=new Te,c=new Te,d=new Te,f=new Te;if(e)for(let h=0,p=e.count;h<p;h+=3){const g=e.getX(h+0),b=e.getX(h+1),y=e.getX(h+2);o.fromBufferAttribute(i,g),s.fromBufferAttribute(i,b),a.fromBufferAttribute(i,y),d.subVectors(a,s),f.subVectors(o,s),d.cross(f),l.fromBufferAttribute(r,g),u.fromBufferAttribute(r,b),c.fromBufferAttribute(r,y),l.add(d),u.add(d),c.add(d),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(b,u.x,u.y,u.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let h=0,p=i.count;h<p;h+=3)o.fromBufferAttribute(i,h+0),s.fromBufferAttribute(i,h+1),a.fromBufferAttribute(i,h+2),d.subVectors(a,s),f.subVectors(o,s),d.cross(f),r.setXYZ(h+0,d.x,d.y,d.z),r.setXYZ(h+1,d.x,d.y,d.z),r.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let i=0,r=e.count;i<r;i++)Nr.fromBufferAttribute(e,i),Nr.normalize(),e.setXYZ(i,Nr.x,Nr.y,Nr.z)}toNonIndexed(){function e(l,u){const c=l.array,d=l.itemSize,f=l.normalized,h=new c.constructor(u.length*d);let p=0,g=0;for(let b=0,y=u.length;b<y;b++){l.isInterleavedBufferAttribute?p=u[b]*l.data.stride+l.offset:p=u[b]*d;for(let m=0;m<d;m++)h[g++]=c[p++]}return new po(h,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const i=new dK,r=this.index.array,o=this.attributes;for(const l in o){const u=o[l],c=e(u,r);i.setAttribute(l,c)}const s=this.morphAttributes;for(const l in s){const u=[],c=s[l];for(let d=0,f=c.length;d<f;d++){const h=c[d],p=e(h,r);u.push(p)}i.morphAttributes[l]=u}i.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,u=a.length;l<u;l++){const c=a[l];i.addGroup(c.start,c.count,c.materialIndex)}return i}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const i=this.index;i!==null&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});const r=this.attributes;for(const u in r){const c=r[u];e.data.attributes[u]=c.toJSON(e.data)}const o={};let s=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],d=[];for(let f=0,h=c.length;f<h;f++){const p=c[f];d.push(p.toJSON(e.data))}d.length>0&&(o[u]=d,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const i={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(i));const o=e.attributes;for(const c in o){const d=o[c];this.setAttribute(c,d.clone(i))}const s=e.morphAttributes;for(const c in s){const d=[],f=s[c];for(let h=0,p=f.length;h<p;h++)d.push(f[h].clone(i));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,d=a.length;c<d;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}};const gz=new ri,Sf=new VO,jx=new GO,mz=new Te,Kx=new Te,qx=new Te,Xx=new Te,ME=new Te,Yx=new Te,vz=new Te,Qx=new Te;let Vr=class extends $o{constructor(e=new Tc,i=new ob){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const o=i[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,i){const r=this.geometry,o=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;i.fromBufferAttribute(o,e);const l=this.morphTargetInfluences;if(s&&l){Yx.set(0,0,0);for(let u=0,c=s.length;u<c;u++){const d=l[u],f=s[u];d!==0&&(ME.fromBufferAttribute(f,e),a?Yx.addScaledVector(ME,d):Yx.addScaledVector(ME.sub(i),d))}i.add(Yx)}return i}raycast(e,i){const r=this.geometry,o=this.material,s=this.matrixWorld;o!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),jx.copy(r.boundingSphere),jx.applyMatrix4(s),Sf.copy(e.ray).recast(e.near),!(jx.containsPoint(Sf.origin)===!1&&(Sf.intersectSphere(jx,mz)===null||Sf.origin.distanceToSquared(mz)>(e.far-e.near)**2))&&(gz.copy(s).invert(),Sf.copy(e.ray).applyMatrix4(gz),!(r.boundingBox!==null&&Sf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,i,Sf)))}_computeIntersections(e,i,r){let o;const s=this.geometry,a=this.material,l=s.index,u=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,h=s.groups,p=s.drawRange;if(l!==null)if(Array.isArray(a))for(let g=0,b=h.length;g<b;g++){const y=h[g],m=a[y.materialIndex],_=Math.max(y.start,p.start),S=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let w=_,A=S;w<A;w+=3){const T=l.getX(w),C=l.getX(w+1),R=l.getX(w+2);o=Zx(this,m,e,r,c,d,f,T,C,R),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,i.push(o))}}else{const g=Math.max(0,p.start),b=Math.min(l.count,p.start+p.count);for(let y=g,m=b;y<m;y+=3){const _=l.getX(y),S=l.getX(y+1),w=l.getX(y+2);o=Zx(this,a,e,r,c,d,f,_,S,w),o&&(o.faceIndex=Math.floor(y/3),i.push(o))}}else if(u!==void 0)if(Array.isArray(a))for(let g=0,b=h.length;g<b;g++){const y=h[g],m=a[y.materialIndex],_=Math.max(y.start,p.start),S=Math.min(u.count,Math.min(y.start+y.count,p.start+p.count));for(let w=_,A=S;w<A;w+=3){const T=w,C=w+1,R=w+2;o=Zx(this,m,e,r,c,d,f,T,C,R),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,i.push(o))}}else{const g=Math.max(0,p.start),b=Math.min(u.count,p.start+p.count);for(let y=g,m=b;y<m;y+=3){const _=y,S=y+1,w=y+2;o=Zx(this,a,e,r,c,d,f,_,S,w),o&&(o.faceIndex=Math.floor(y/3),i.push(o))}}}};function kOe(n,e,i,r,o,s,a,l){let u;if(e.side===Di?u=r.intersectTriangle(a,s,o,!0,l):u=r.intersectTriangle(o,s,a,e.side===il,l),u===null)return null;Qx.copy(l),Qx.applyMatrix4(n.matrixWorld);const c=i.ray.origin.distanceTo(Qx);return c<i.near||c>i.far?null:{distance:c,point:Qx.clone(),object:n}}function Zx(n,e,i,r,o,s,a,l,u,c){n.getVertexPosition(l,Kx),n.getVertexPosition(u,qx),n.getVertexPosition(c,Xx);const d=kOe(n,e,i,r,Kx,qx,Xx,vz);if(d){const f=new Te;Av.getBarycoord(vz,Kx,qx,Xx,f),o&&(d.uv=Av.getInterpolatedAttribute(o,l,u,c,f,new Tt)),s&&(d.uv1=Av.getInterpolatedAttribute(s,l,u,c,f,new Tt)),a&&(d.normal=Av.getInterpolatedAttribute(a,l,u,c,f,new Te),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const h={a:l,b:u,c,normal:new Te,materialIndex:0};Av.getNormal(Kx,qx,Xx,h.normal),d.face=h,d.barycoord=f}return d}class zh extends Tc{constructor(e=1,i=1,r=1,o=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:i,depth:r,widthSegments:o,heightSegments:s,depthSegments:a};const l=this;o=Math.floor(o),s=Math.floor(s),a=Math.floor(a);const u=[],c=[],d=[],f=[];let h=0,p=0;g("z","y","x",-1,-1,r,i,e,a,s,0),g("z","y","x",1,-1,r,i,-e,a,s,1),g("x","z","y",1,1,e,r,i,o,a,2),g("x","z","y",1,-1,e,r,-i,o,a,3),g("x","y","z",1,-1,e,i,r,o,s,4),g("x","y","z",-1,-1,e,i,-r,o,s,5),this.setIndex(u),this.setAttribute("position",new cs(c,3)),this.setAttribute("normal",new cs(d,3)),this.setAttribute("uv",new cs(f,2));function g(b,y,m,_,S,w,A,T,C,R,E){const P=w/C,I=A/R,D=w/2,F=A/2,L=T/2,$=C+1,U=R+1;let k=0,H=0;const z=new Te;for(let Q=0;Q<U;Q++){const Z=Q*I-F;for(let ie=0;ie<$;ie++){const xe=ie*P-D;z[b]=xe*_,z[y]=Z*S,z[m]=L,c.push(z.x,z.y,z.z),z[b]=0,z[y]=0,z[m]=T>0?1:-1,d.push(z.x,z.y,z.z),f.push(ie/C),f.push(1-Q/R),k+=1}}for(let Q=0;Q<R;Q++)for(let Z=0;Z<C;Z++){const ie=h+Z+$*Q,xe=h+Z+$*(Q+1),J=h+(Z+1)+$*(Q+1),se=h+(Z+1)+$*Q;u.push(ie,xe,se),u.push(xe,J,se),H+=6}l.addGroup(p,H,E),p+=H,h+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function _m(n){const e={};for(const i in n){e[i]={};for(const r in n[i]){const o=n[i][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[i][r]=null):e[i][r]=o.clone():Array.isArray(o)?e[i][r]=o.slice():e[i][r]=o}}return e}function Ao(n){const e={};for(let i=0;i<n.length;i++){const r=_m(n[i]);for(const o in r)e[o]=r[o]}return e}function zOe(n){const e=[];for(let i=0;i<n.length;i++)e.push(n[i].clone());return e}function fK(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:wn.workingColorSpace}const hK={clone:_m,merge:Ao};var HOe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,GOe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Wl extends vo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=HOe,this.fragmentShader=GOe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_m(e.uniforms),this.uniformsGroups=zOe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const i=super.toJSON(e);i.glslVersion=this.glslVersion,i.uniforms={};for(const o in this.uniforms){const a=this.uniforms[o].value;a&&a.isTexture?i.uniforms[o]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?i.uniforms[o]={type:"c",value:a.getHex()}:a&&a.isVector2?i.uniforms[o]={type:"v2",value:a.toArray()}:a&&a.isVector3?i.uniforms[o]={type:"v3",value:a.toArray()}:a&&a.isVector4?i.uniforms[o]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?i.uniforms[o]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?i.uniforms[o]={type:"m4",value:a.toArray()}:i.uniforms[o]={value:a}}Object.keys(this.defines).length>0&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader,i.lights=this.lights,i.clipping=this.clipping;const r={};for(const o in this.extensions)this.extensions[o]===!0&&(r[o]=!0);return Object.keys(r).length>0&&(i.extensions=r),i}}class pK extends $o{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ri,this.projectionMatrix=new ri,this.projectionMatrixInverse=new ri,this.coordinateSystem=rs}copy(e,i){return super.copy(e,i),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,i){super.updateWorldMatrix(e,i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const td=new Te,yz=new Tt,bz=new Tt;class Po extends pK{constructor(e=50,i=1,r=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=o,this.focus=10,this.aspect=i,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,i){return super.copy(e,i),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const i=.5*this.getFilmHeight()/e;this.fov=xm*2*Math.atan(i),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ny*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return xm*2*Math.atan(Math.tan(Ny*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,i,r){td.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(td.x,td.y).multiplyScalar(-e/td.z),td.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(td.x,td.y).multiplyScalar(-e/td.z)}getViewSize(e,i){return this.getViewBounds(e,yz,bz),i.subVectors(bz,yz)}setViewOffset(e,i,r,o,s,a){this.aspect=e/i,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=i,this.view.offsetX=r,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let i=e*Math.tan(Ny*.5*this.fov)/this.zoom,r=2*i,o=this.aspect*r,s=-.5*o;const a=this.view;if(this.view!==null&&this.view.enabled){const u=a.fullWidth,c=a.fullHeight;s+=a.offsetX*o/u,i-=a.offsetY*r/c,o*=a.width/u,r*=a.height/c}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+o,i,i-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const i=super.toJSON(e);return i.object.fov=this.fov,i.object.zoom=this.zoom,i.object.near=this.near,i.object.far=this.far,i.object.focus=this.focus,i.object.aspect=this.aspect,this.view!==null&&(i.object.view=Object.assign({},this.view)),i.object.filmGauge=this.filmGauge,i.object.filmOffset=this.filmOffset,i}}const wp=-90,Cp=1;class gK extends $o{constructor(e,i,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const o=new Po(wp,Cp,e,i);o.layers=this.layers,this.add(o);const s=new Po(wp,Cp,e,i);s.layers=this.layers,this.add(s);const a=new Po(wp,Cp,e,i);a.layers=this.layers,this.add(a);const l=new Po(wp,Cp,e,i);l.layers=this.layers,this.add(l);const u=new Po(wp,Cp,e,i);u.layers=this.layers,this.add(u);const c=new Po(wp,Cp,e,i);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,i=this.children.concat(),[r,o,s,a,l,u]=i;for(const c of i)this.remove(c);if(e===rs)r.up.set(0,1,0),r.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===zd)r.up.set(0,-1,0),r.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of i)this.add(c),c.updateMatrixWorld()}update(e,i){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:o}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,l,u,c,d]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,o),e.render(i,s),e.setRenderTarget(r,1,o),e.render(i,a),e.setRenderTarget(r,2,o),e.render(i,l),e.setRenderTarget(r,3,o),e.render(i,u),e.setRenderTarget(r,4,o),e.render(i,c),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,o),e.render(i,d),e.setRenderTarget(f,h,p),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class fC extends Ho{constructor(e,i,r,o,s,a,l,u,c,d){e=e!==void 0?e:[],i=i!==void 0?i:Sa,super(e,i,r,o,s,a,l,u,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class mK extends Hd{constructor(e=1,i={}){super(e,e,i),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},o=[r,r,r,r,r,r];this.texture=new fC(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Sr}fromEquirectangularTexture(e,i){this.texture.type=i.type,this.texture.colorSpace=i.colorSpace,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new zh(5,5,5),s=new Wl({name:"CubemapFromEquirect",uniforms:_m(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Di,blending:ls});s.uniforms.tEquirect.value=i;const a=new Vr(o,s),l=i.minFilter;return i.minFilter===is&&(i.minFilter=Sr),new gK(1,10,this).update(e,a),i.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,i,r,o){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(i,r,o);e.setRenderTarget(s)}}class qO extends $o{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ol,this.environmentIntensity=1,this.environmentRotation=new ol,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,i){return super.copy(e,i),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const i=super.toJSON(e);return this.fog!==null&&(i.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(i.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(i.object.backgroundIntensity=this.backgroundIntensity),i.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(i.object.environmentIntensity=this.environmentIntensity),i.object.environmentRotation=this.environmentRotation.toArray(),i}}let vK=class{constructor(e,i){this.isInterleavedBuffer=!0,this.array=e,this.stride=i,this.count=e!==void 0?e.length/i:0,this.usage=zw,this.updateRanges=[],this.version=0,this.uuid=oc()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,i){this.updateRanges.push({start:e,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,i,r){e*=this.stride,r*=i.stride;for(let o=0,s=this.stride;o<s;o++)this.array[e+o]=i.array[r+o];return this}set(e,i=0){return this.array.set(e,i),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=oc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const i=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(i,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=oc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};const So=new Te;let VOe=class yK{constructor(e,i,r,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=i,this.offset=r,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let i=0,r=this.data.count;i<r;i++)So.fromBufferAttribute(this,i),So.applyMatrix4(e),this.setXYZ(i,So.x,So.y,So.z);return this}applyNormalMatrix(e){for(let i=0,r=this.count;i<r;i++)So.fromBufferAttribute(this,i),So.applyNormalMatrix(e),this.setXYZ(i,So.x,So.y,So.z);return this}transformDirection(e){for(let i=0,r=this.count;i<r;i++)So.fromBufferAttribute(this,i),So.transformDirection(e),this.setXYZ(i,So.x,So.y,So.z);return this}getComponent(e,i){let r=this.array[e*this.data.stride+this.offset+i];return this.normalized&&(r=Do(r,this.array)),r}setComponent(e,i,r){return this.normalized&&(r=gn(r,this.array)),this.data.array[e*this.data.stride+this.offset+i]=r,this}setX(e,i){return this.normalized&&(i=gn(i,this.array)),this.data.array[e*this.data.stride+this.offset]=i,this}setY(e,i){return this.normalized&&(i=gn(i,this.array)),this.data.array[e*this.data.stride+this.offset+1]=i,this}setZ(e,i){return this.normalized&&(i=gn(i,this.array)),this.data.array[e*this.data.stride+this.offset+2]=i,this}setW(e,i){return this.normalized&&(i=gn(i,this.array)),this.data.array[e*this.data.stride+this.offset+3]=i,this}getX(e){let i=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(i=Do(i,this.array)),i}getY(e){let i=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(i=Do(i,this.array)),i}getZ(e){let i=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(i=Do(i,this.array)),i}getW(e){let i=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(i=Do(i,this.array)),i}setXY(e,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(i=gn(i,this.array),r=gn(r,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this}setXYZ(e,i,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(i=gn(i,this.array),r=gn(r,this.array),o=gn(o,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this.data.array[e+2]=o,this}setXYZW(e,i,r,o,s){return e=e*this.data.stride+this.offset,this.normalized&&(i=gn(i,this.array),r=gn(r,this.array),o=gn(o,this.array),s=gn(s,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this.data.array[e+2]=o,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)i.push(this.data.array[o+s])}return new po(new this.array.constructor(i),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new yK(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)i.push(this.data.array[o+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:i,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},WOe=class extends vo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ft(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}};class jOe extends Ho{constructor(e=null,i=1,r=1,o,s,a,l,u,c=Ci,d=Ci,f,h){super(null,a,l,u,c,d,o,s,f,h),this.isDataTexture=!0,this.image={data:e,width:i,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class KOe extends po{constructor(e,i,r,o=1){super(e,i,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const RE=new Te,qOe=new Te,XOe=new on;class Va{constructor(e=new Te(1,0,0),i=0){this.isPlane=!0,this.normal=e,this.constant=i}set(e,i){return this.normal.copy(e),this.constant=i,this}setComponents(e,i,r,o){return this.normal.set(e,i,r),this.constant=o,this}setFromNormalAndCoplanarPoint(e,i){return this.normal.copy(e),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(e,i,r){const o=RE.subVectors(r,i).cross(qOe.subVectors(e,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,i){return i.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,i){const r=e.delta(RE),o=this.normal.dot(r);if(o===0)return this.distanceToPoint(e.start)===0?i.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/o;return s<0||s>1?null:i.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const i=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return i<0&&r>0||r<0&&i>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,i){const r=i||XOe.getNormalMatrix(e),o=this.coplanarPoint(RE).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wf=new GO,Jx=new Te;class hC{constructor(e=new Va,i=new Va,r=new Va,o=new Va,s=new Va,a=new Va){this.planes=[e,i,r,o,s,a]}set(e,i,r,o,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(i),l[2].copy(r),l[3].copy(o),l[4].copy(s),l[5].copy(a),this}copy(e){const i=this.planes;for(let r=0;r<6;r++)i[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,i=rs){const r=this.planes,o=e.elements,s=o[0],a=o[1],l=o[2],u=o[3],c=o[4],d=o[5],f=o[6],h=o[7],p=o[8],g=o[9],b=o[10],y=o[11],m=o[12],_=o[13],S=o[14],w=o[15];if(r[0].setComponents(u-s,h-c,y-p,w-m).normalize(),r[1].setComponents(u+s,h+c,y+p,w+m).normalize(),r[2].setComponents(u+a,h+d,y+g,w+_).normalize(),r[3].setComponents(u-a,h-d,y-g,w-_).normalize(),r[4].setComponents(u-l,h-f,y-b,w-S).normalize(),i===rs)r[5].setComponents(u+l,h+f,y+b,w+S).normalize();else if(i===zd)r[5].setComponents(l,f,b,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+i);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const i=e.geometry;i.boundingSphere===null&&i.computeBoundingSphere(),wf.copy(i.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wf)}intersectsSprite(e){return wf.center.set(0,0,0),wf.radius=.7071067811865476,wf.applyMatrix4(e.matrixWorld),this.intersectsSphere(wf)}intersectsSphere(e){const i=this.planes,r=e.center,o=-e.radius;for(let s=0;s<6;s++)if(i[s].distanceToPoint(r)<o)return!1;return!0}intersectsBox(e){const i=this.planes;for(let r=0;r<6;r++){const o=i[r];if(Jx.x=o.normal.x>0?e.max.x:e.min.x,Jx.y=o.normal.y>0?e.max.y:e.min.y,Jx.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(Jx)<0)return!1}return!0}containsPoint(e){const i=this.planes;for(let r=0;r<6;r++)if(i[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}let bK=class extends vo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ft(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}};class YOe extends vo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ft(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let e_=class extends $o{constructor(){super(),this.isGroup=!0,this.type="Group"}};class QOe extends Ho{constructor(e,i){super({width:e,height:i}),this.isFramebufferTexture=!0,this.magFilter=Ci,this.minFilter=Ci,this.generateMipmaps=!1,this.needsUpdate=!0}}class Yd extends Ho{constructor(e,i,r,o,s,a,l,u,c,d=Ll){if(d!==Ll&&d!==Vl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Ll&&(r=zi),r===void 0&&d===Vl&&(r=Gl),super(null,o,s,a,l,u,d,r,c),this.isDepthTexture=!0,this.image={width:e,height:i},this.magFilter=l!==void 0?l:Ci,this.minFilter=u!==void 0?u:Ci,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const i=super.toJSON(e);return this.compareFunction!==null&&(i.compareFunction=this.compareFunction),i}}class pC extends Tc{constructor(e=1,i=1,r=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:i,widthSegments:r,heightSegments:o};const s=e/2,a=i/2,l=Math.floor(r),u=Math.floor(o),c=l+1,d=u+1,f=e/l,h=i/u,p=[],g=[],b=[],y=[];for(let m=0;m<d;m++){const _=m*h-a;for(let S=0;S<c;S++){const w=S*f-s;g.push(w,-_,0),b.push(0,0,1),y.push(S/l),y.push(1-m/u)}}for(let m=0;m<u;m++)for(let _=0;_<l;_++){const S=_+c*m,w=_+c*(m+1),A=_+1+c*(m+1),T=_+1+c*m;p.push(S,w,T),p.push(w,A,T)}this.setIndex(p),this.setAttribute("position",new cs(g,3)),this.setAttribute("normal",new cs(b,3)),this.setAttribute("uv",new cs(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pC(e.width,e.height,e.widthSegments,e.heightSegments)}}let xK=class _K extends Tc{constructor(e=1,i=32,r=16,o=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:i,heightSegments:r,phiStart:o,phiLength:s,thetaStart:a,thetaLength:l},i=Math.max(3,Math.floor(i)),r=Math.max(2,Math.floor(r));const u=Math.min(a+l,Math.PI);let c=0;const d=[],f=new Te,h=new Te,p=[],g=[],b=[],y=[];for(let m=0;m<=r;m++){const _=[],S=m/r;let w=0;m===0&&a===0?w=.5/i:m===r&&u===Math.PI&&(w=-.5/i);for(let A=0;A<=i;A++){const T=A/i;f.x=-e*Math.cos(o+T*s)*Math.sin(a+S*l),f.y=e*Math.cos(a+S*l),f.z=e*Math.sin(o+T*s)*Math.sin(a+S*l),g.push(f.x,f.y,f.z),h.copy(f).normalize(),b.push(h.x,h.y,h.z),y.push(T+w,1-S),_.push(c++)}d.push(_)}for(let m=0;m<r;m++)for(let _=0;_<i;_++){const S=d[m][_+1],w=d[m][_],A=d[m+1][_],T=d[m+1][_+1];(m!==0||a>0)&&p.push(S,w,T),(m!==r-1||u<Math.PI)&&p.push(w,A,T)}this.setIndex(p),this.setAttribute("position",new cs(g,3)),this.setAttribute("normal",new cs(b,3)),this.setAttribute("uv",new cs(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _K(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}};class ZOe extends vo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ft(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class SK extends vo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ft(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ol,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JOe extends SK{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Tt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Cn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(i){this.ior=(1+.4*i)/(1-.4*i)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ft(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ft(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ft(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class eDe extends vo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ft(16777215),this.specular=new Ft(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ol,this.combine=nb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tDe extends vo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ft(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class nDe extends vo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}let iDe=class extends vo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ol,this.combine=nb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}};class rDe extends vo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=VNe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class oDe extends vo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class sDe extends vo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ft(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aDe extends bK{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const xz={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class lDe{constructor(e,i,r){const o=this;let s=!1,a=0,l=0,u;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=i,this.onError=r,this.itemStart=function(d){l++,s===!1&&o.onStart!==void 0&&o.onStart(d,a,l),s=!0},this.itemEnd=function(d){a++,o.onProgress!==void 0&&o.onProgress(d,a,l),a===l&&(s=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(d){o.onError!==void 0&&o.onError(d)},this.resolveURL=function(d){return u?u(d):d},this.setURLModifier=function(d){return u=d,this},this.addHandler=function(d,f){return c.push(d,f),this},this.removeHandler=function(d){const f=c.indexOf(d);return f!==-1&&c.splice(f,2),this},this.getHandler=function(d){for(let f=0,h=c.length;f<h;f+=2){const p=c[f],g=c[f+1];if(p.global&&(p.lastIndex=0),p.test(d))return g}return null}}}const uDe=new lDe;class XO{constructor(e){this.manager=e!==void 0?e:uDe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,i){const r=this;return new Promise(function(o,s){r.load(e,o,i,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}XO.DEFAULT_MATERIAL_NAME="__DEFAULT";class cDe extends XO{constructor(e){super(e)}load(e,i,r,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=xz.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){i&&i(a),s.manager.itemEnd(e)},0),a;const l=E0("img");function u(){d(),xz.add(e,this),i&&i(this),s.manager.itemEnd(e)}function c(f){d(),o&&o(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){l.removeEventListener("load",u,!1),l.removeEventListener("error",c,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class dDe extends XO{constructor(e){super(e)}load(e,i,r,o){const s=new Ho,a=new cDe(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,i!==void 0&&i(s)},r,o),s}}class Hh extends $o{constructor(e,i=1){super(),this.isLight=!0,this.type="Light",this.color=new Ft(e),this.intensity=i}dispose(){}copy(e,i){return super.copy(e,i),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const i=super.toJSON(e);return i.object.color=this.color.getHex(),i.object.intensity=this.intensity,this.groundColor!==void 0&&(i.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(i.object.distance=this.distance),this.angle!==void 0&&(i.object.angle=this.angle),this.decay!==void 0&&(i.object.decay=this.decay),this.penumbra!==void 0&&(i.object.penumbra=this.penumbra),this.shadow!==void 0&&(i.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(i.object.target=this.target.uuid),i}}class fDe extends Hh{constructor(e,i,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy($o.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ft(i)}copy(e,i){return super.copy(e,i),this.groundColor.copy(e.groundColor),this}}const PE=new ri,_z=new Te,Sz=new Te;class YO{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Tt(512,512),this.map=null,this.mapPass=null,this.matrix=new ri,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new hC,this._frameExtents=new Tt(1,1),this._viewportCount=1,this._viewports=[new fn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const i=this.camera,r=this.matrix;_z.setFromMatrixPosition(e.matrixWorld),i.position.copy(_z),Sz.setFromMatrixPosition(e.target.matrixWorld),i.lookAt(Sz),i.updateMatrixWorld(),PE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(PE),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(PE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class hDe extends YO{constructor(){super(new Po(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const i=this.camera,r=xm*2*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,s=e.distance||i.far;(r!==i.fov||o!==i.aspect||s!==i.far)&&(i.fov=r,i.aspect=o,i.far=s,i.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class wK extends Hh{constructor(e,i,r=0,o=Math.PI/3,s=0,a=2){super(e,i),this.isSpotLight=!0,this.type="SpotLight",this.position.copy($o.DEFAULT_UP),this.updateMatrix(),this.target=new $o,this.distance=r,this.angle=o,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new hDe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,i){return super.copy(e,i),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const wz=new ri,Ev=new Te,IE=new Te;class pDe extends YO{constructor(){super(new Po(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Tt(4,2),this._viewportCount=6,this._viewports=[new fn(2,1,1,1),new fn(0,1,1,1),new fn(3,1,1,1),new fn(1,1,1,1),new fn(3,0,1,1),new fn(1,0,1,1)],this._cubeDirections=[new Te(1,0,0),new Te(-1,0,0),new Te(0,0,1),new Te(0,0,-1),new Te(0,1,0),new Te(0,-1,0)],this._cubeUps=[new Te(0,1,0),new Te(0,1,0),new Te(0,1,0),new Te(0,1,0),new Te(0,0,1),new Te(0,0,-1)]}updateMatrices(e,i=0){const r=this.camera,o=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Ev.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ev),IE.copy(r.position),IE.add(this._cubeDirections[i]),r.up.copy(this._cubeUps[i]),r.lookAt(IE),r.updateMatrixWorld(),o.makeTranslation(-Ev.x,-Ev.y,-Ev.z),wz.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wz)}}class gDe extends Hh{constructor(e,i,r=0,o=2){super(e,i),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=o,this.shadow=new pDe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,i){return super.copy(e,i),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class sb extends pK{constructor(e=-1,i=1,r=1,o=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=i,this.top=r,this.bottom=o,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,i){return super.copy(e,i),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,i,r,o,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=i,this.view.offsetX=r,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let s=r-e,a=r+e,l=o+i,u=o-i;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,l-=d*this.view.offsetY,u=l-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const i=super.toJSON(e);return i.object.zoom=this.zoom,i.object.left=this.left,i.object.right=this.right,i.object.top=this.top,i.object.bottom=this.bottom,i.object.near=this.near,i.object.far=this.far,this.view!==null&&(i.object.view=Object.assign({},this.view)),i}}class mDe extends YO{constructor(){super(new sb(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class CK extends Hh{constructor(e,i){super(e,i),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy($o.DEFAULT_UP),this.updateMatrix(),this.target=new $o,this.shadow=new mDe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AK extends Hh{constructor(e,i){super(e,i),this.isAmbientLight=!0,this.type="AmbientLight"}}class vDe extends Hh{constructor(e,i,r=10,o=10){super(e,i),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=o}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const i=super.toJSON(e);return i.object.width=this.width,i.object.height=this.height,i}}class yDe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Te)}set(e){for(let i=0;i<9;i++)this.coefficients[i].copy(e[i]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,i){const r=e.x,o=e.y,s=e.z,a=this.coefficients;return i.copy(a[0]).multiplyScalar(.282095),i.addScaledVector(a[1],.488603*o),i.addScaledVector(a[2],.488603*s),i.addScaledVector(a[3],.488603*r),i.addScaledVector(a[4],1.092548*(r*o)),i.addScaledVector(a[5],1.092548*(o*s)),i.addScaledVector(a[6],.315392*(3*s*s-1)),i.addScaledVector(a[7],1.092548*(r*s)),i.addScaledVector(a[8],.546274*(r*r-o*o)),i}getIrradianceAt(e,i){const r=e.x,o=e.y,s=e.z,a=this.coefficients;return i.copy(a[0]).multiplyScalar(.886227),i.addScaledVector(a[1],2*.511664*o),i.addScaledVector(a[2],2*.511664*s),i.addScaledVector(a[3],2*.511664*r),i.addScaledVector(a[4],2*.429043*r*o),i.addScaledVector(a[5],2*.429043*o*s),i.addScaledVector(a[6],.743125*s*s-.247708),i.addScaledVector(a[7],2*.429043*r*s),i.addScaledVector(a[8],.429043*(r*r-o*o)),i}add(e){for(let i=0;i<9;i++)this.coefficients[i].add(e.coefficients[i]);return this}addScaledSH(e,i){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],i);return this}scale(e){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(e);return this}lerp(e,i){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],i);return this}equals(e){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(e.coefficients[i]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,i=0){const r=this.coefficients;for(let o=0;o<9;o++)r[o].fromArray(e,i+o*3);return this}toArray(e=[],i=0){const r=this.coefficients;for(let o=0;o<9;o++)r[o].toArray(e,i+o*3);return e}static getBasisAt(e,i){const r=e.x,o=e.y,s=e.z;i[0]=.282095,i[1]=.488603*o,i[2]=.488603*s,i[3]=.488603*r,i[4]=1.092548*r*o,i[5]=1.092548*o*s,i[6]=.315392*(3*s*s-1),i[7]=1.092548*r*s,i[8]=.546274*(r*r-o*o)}}class bDe extends Hh{constructor(e=new yDe,i=1){super(void 0,i),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const i=super.toJSON(e);return i.object.sh=this.sh.toArray(),i}}class xDe extends Po{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class TK{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Cz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const i=Cz();e=(i-this.oldTime)/1e3,this.oldTime=i,this.elapsedTime+=e}return e}}function Cz(){return performance.now()}class _De extends vK{constructor(e,i,r=1){super(e,i),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const i=super.clone(e);return i.meshPerAttribute=this.meshPerAttribute,i}toJSON(e){const i=super.toJSON(e);return i.isInstancedInterleavedBuffer=!0,i.meshPerAttribute=this.meshPerAttribute,i}}const Az=new ri;class EK{constructor(e,i,r=0,o=1/0){this.ray=new VO(e,i),this.near=r,this.far=o,this.camera=null,this.layers=new WO,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,i){this.ray.set(e,i)}setFromCamera(e,i){i.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(i).sub(this.ray.origin).normalize(),this.camera=i):i.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld),this.camera=i):console.error("THREE.Raycaster: Unsupported camera type: "+i.type)}setFromXRController(e){return Az.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Az),this}intersectObject(e,i=!0,r=[]){return pP(e,this,r,i),r.sort(Tz),r}intersectObjects(e,i=!0,r=[]){for(let o=0,s=e.length;o<s;o++)pP(e[o],this,r,i);return r.sort(Tz),r}}function Tz(n,e){return n.distance-e.distance}function pP(n,e,i,r){let o=!0;if(n.layers.test(e.layers)&&n.raycast(e,i)===!1&&(o=!1),o===!0&&r===!0){const s=n.children;for(let a=0,l=s.length;a<l;a++)pP(s[a],e,i,!0)}}class gP{constructor(e=1,i=0,r=0){return this.radius=e,this.phi=i,this.theta=r,this}set(e,i,r){return this.radius=e,this.phi=i,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Cn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,r){return this.radius=Math.sqrt(e*e+i*i+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Cn(i/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class gC extends Ac{constructor(e,i=null){super(),this.object=e,this.domElement=i,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function Ez(n,e,i,r){const o=SDe(r);switch(i){case IO:return n*e;case NO:return n*e;case OO:return n*e*2;case rb:return n*e/o.components*o.byteLength;case Nm:return n*e/o.components*o.byteLength;case Ph:return n*e*2/o.components*o.byteLength;case Om:return n*e*2/o.components*o.byteLength;case ib:return n*e*3/o.components*o.byteLength;case Gr:return n*e*4/o.components*o.byteLength;case Dm:return n*e*4/o.components*o.byteLength;case fh:case Md:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Rd:case Pd:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case x0:case S0:return Math.max(n,16)*Math.max(e,8)/4;case b0:case _0:return Math.max(n,8)*Math.max(e,8)/2;case w0:case rm:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case om:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case sm:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case am:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case lm:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case um:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case cm:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case dm:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case fm:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case hm:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case pm:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case gm:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case mm:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case vm:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case ym:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case bm:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case hh:case cP:case dP:return Math.ceil(n/4)*Math.ceil(e/4)*16;case DO:case C0:return Math.ceil(n/4)*Math.ceil(e/4)*8;case A0:case T0:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${i} format.`)}function SDe(n){switch(n){case ho:case ch:return{byteLength:1,components:1};case Ya:case dh:case Bo:return{byteLength:2,components:1};case aC:case lC:return{byteLength:2,components:4};case zi:case Dr:case nr:return{byteLength:4,components:1};case uC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Im}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Im);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function MK(){let n=null,e=!1,i=null,r=null;function o(s,a){i(s,a),r=n.requestAnimationFrame(o)}return{start:function(){e!==!0&&i!==null&&(r=n.requestAnimationFrame(o),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){i=s},setContext:function(s){n=s}}}function wDe(n){const e=new WeakMap;function i(l,u){const c=l.array,d=l.usage,f=c.byteLength,h=n.createBuffer();n.bindBuffer(u,h),n.bufferData(u,c,d),l.onUploadCallback();let p;if(c instanceof Float32Array)p=n.FLOAT;else if(c instanceof Uint16Array)l.isFloat16BufferAttribute?p=n.HALF_FLOAT:p=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=n.SHORT;else if(c instanceof Uint32Array)p=n.UNSIGNED_INT;else if(c instanceof Int32Array)p=n.INT;else if(c instanceof Int8Array)p=n.BYTE;else if(c instanceof Uint8Array)p=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:l.version,size:f}}function r(l,u,c){const d=u.array,f=u.updateRanges;if(n.bindBuffer(c,l),f.length===0)n.bufferSubData(c,0,d);else{f.sort((p,g)=>p.start-g.start);let h=0;for(let p=1;p<f.length;p++){const g=f[h],b=f[p];b.start<=g.start+g.count+1?g.count=Math.max(g.count,b.start+b.count-g.start):(++h,f[h]=b)}f.length=h+1;for(let p=0,g=f.length;p<g;p++){const b=f[p];n.bufferSubData(c,b.start*d.BYTES_PER_ELEMENT,d,b.start,b.count)}u.clearUpdateRanges()}u.onUploadCallback()}function o(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function s(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(n.deleteBuffer(u.buffer),e.delete(l))}function a(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const d=e.get(l);(!d||d.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const c=e.get(l);if(c===void 0)e.set(l,i(l,u));else if(c.version<l.version){if(c.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,l,u),c.version=l.version}}return{get:o,remove:s,update:a}}var CDe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ADe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,TDe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,EDe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,MDe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,RDe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,PDe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,IDe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,NDe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,ODe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,DDe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,LDe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,BDe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,FDe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,$De=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,UDe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,kDe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,zDe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,HDe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,GDe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,VDe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,WDe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,jDe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,KDe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,qDe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,XDe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,YDe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,QDe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,ZDe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,JDe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,e3e="gl_FragColor = linearToOutputTexel( gl_FragColor );",t3e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,n3e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,i3e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,r3e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,o3e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,s3e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,a3e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,l3e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,u3e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,c3e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,d3e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,f3e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,h3e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,p3e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,g3e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,m3e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,v3e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,y3e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,b3e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,x3e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_3e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,S3e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,w3e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,C3e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,A3e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,T3e=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,E3e=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,M3e=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,R3e=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,P3e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,I3e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,N3e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,O3e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,D3e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,L3e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,B3e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,F3e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,$3e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,U3e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,k3e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,z3e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,H3e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,G3e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,V3e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,W3e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,j3e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,K3e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,q3e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,X3e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Y3e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Q3e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Z3e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,J3e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,eLe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,tLe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,nLe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,iLe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,rLe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,oLe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,sLe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,aLe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,lLe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,uLe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,cLe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,dLe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,fLe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,hLe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,pLe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,gLe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mLe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,vLe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,yLe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,bLe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,xLe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_Le=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,SLe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const wLe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,CLe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ALe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,TLe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ELe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,MLe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,RLe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,PLe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ILe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,NLe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,OLe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,DLe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,LLe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,BLe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,FLe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,$Le=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ULe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kLe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zLe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,HLe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GLe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,VLe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,WLe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jLe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KLe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,qLe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XLe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,YLe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QLe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ZLe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,JLe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eBe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,tBe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nBe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Sn={alphahash_fragment:CDe,alphahash_pars_fragment:ADe,alphamap_fragment:TDe,alphamap_pars_fragment:EDe,alphatest_fragment:MDe,alphatest_pars_fragment:RDe,aomap_fragment:PDe,aomap_pars_fragment:IDe,batching_pars_vertex:NDe,batching_vertex:ODe,begin_vertex:DDe,beginnormal_vertex:LDe,bsdfs:BDe,iridescence_fragment:FDe,bumpmap_pars_fragment:$De,clipping_planes_fragment:UDe,clipping_planes_pars_fragment:kDe,clipping_planes_pars_vertex:zDe,clipping_planes_vertex:HDe,color_fragment:GDe,color_pars_fragment:VDe,color_pars_vertex:WDe,color_vertex:jDe,common:KDe,cube_uv_reflection_fragment:qDe,defaultnormal_vertex:XDe,displacementmap_pars_vertex:YDe,displacementmap_vertex:QDe,emissivemap_fragment:ZDe,emissivemap_pars_fragment:JDe,colorspace_fragment:e3e,colorspace_pars_fragment:t3e,envmap_fragment:n3e,envmap_common_pars_fragment:i3e,envmap_pars_fragment:r3e,envmap_pars_vertex:o3e,envmap_physical_pars_fragment:m3e,envmap_vertex:s3e,fog_vertex:a3e,fog_pars_vertex:l3e,fog_fragment:u3e,fog_pars_fragment:c3e,gradientmap_pars_fragment:d3e,lightmap_pars_fragment:f3e,lights_lambert_fragment:h3e,lights_lambert_pars_fragment:p3e,lights_pars_begin:g3e,lights_toon_fragment:v3e,lights_toon_pars_fragment:y3e,lights_phong_fragment:b3e,lights_phong_pars_fragment:x3e,lights_physical_fragment:_3e,lights_physical_pars_fragment:S3e,lights_fragment_begin:w3e,lights_fragment_maps:C3e,lights_fragment_end:A3e,logdepthbuf_fragment:T3e,logdepthbuf_pars_fragment:E3e,logdepthbuf_pars_vertex:M3e,logdepthbuf_vertex:R3e,map_fragment:P3e,map_pars_fragment:I3e,map_particle_fragment:N3e,map_particle_pars_fragment:O3e,metalnessmap_fragment:D3e,metalnessmap_pars_fragment:L3e,morphinstance_vertex:B3e,morphcolor_vertex:F3e,morphnormal_vertex:$3e,morphtarget_pars_vertex:U3e,morphtarget_vertex:k3e,normal_fragment_begin:z3e,normal_fragment_maps:H3e,normal_pars_fragment:G3e,normal_pars_vertex:V3e,normal_vertex:W3e,normalmap_pars_fragment:j3e,clearcoat_normal_fragment_begin:K3e,clearcoat_normal_fragment_maps:q3e,clearcoat_pars_fragment:X3e,iridescence_pars_fragment:Y3e,opaque_fragment:Q3e,packing:Z3e,premultiplied_alpha_fragment:J3e,project_vertex:eLe,dithering_fragment:tLe,dithering_pars_fragment:nLe,roughnessmap_fragment:iLe,roughnessmap_pars_fragment:rLe,shadowmap_pars_fragment:oLe,shadowmap_pars_vertex:sLe,shadowmap_vertex:aLe,shadowmask_pars_fragment:lLe,skinbase_vertex:uLe,skinning_pars_vertex:cLe,skinning_vertex:dLe,skinnormal_vertex:fLe,specularmap_fragment:hLe,specularmap_pars_fragment:pLe,tonemapping_fragment:gLe,tonemapping_pars_fragment:mLe,transmission_fragment:vLe,transmission_pars_fragment:yLe,uv_pars_fragment:bLe,uv_pars_vertex:xLe,uv_vertex:_Le,worldpos_vertex:SLe,background_vert:wLe,background_frag:CLe,backgroundCube_vert:ALe,backgroundCube_frag:TLe,cube_vert:ELe,cube_frag:MLe,depth_vert:RLe,depth_frag:PLe,distanceRGBA_vert:ILe,distanceRGBA_frag:NLe,equirect_vert:OLe,equirect_frag:DLe,linedashed_vert:LLe,linedashed_frag:BLe,meshbasic_vert:FLe,meshbasic_frag:$Le,meshlambert_vert:ULe,meshlambert_frag:kLe,meshmatcap_vert:zLe,meshmatcap_frag:HLe,meshnormal_vert:GLe,meshnormal_frag:VLe,meshphong_vert:WLe,meshphong_frag:jLe,meshphysical_vert:KLe,meshphysical_frag:qLe,meshtoon_vert:XLe,meshtoon_frag:YLe,points_vert:QLe,points_frag:ZLe,shadow_vert:JLe,shadow_frag:eBe,sprite_vert:tBe,sprite_frag:nBe},wt={common:{diffuse:{value:new Ft(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new on},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new on}},envmap:{envMap:{value:null},envMapRotation:{value:new on},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new on}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new on}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new on},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new on},normalScale:{value:new Tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new on},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new on}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new on}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new on}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ft(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ft(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0},uvTransform:{value:new on}},sprite:{diffuse:{value:new Ft(16777215)},opacity:{value:1},center:{value:new Tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new on},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0}}},Cl={basic:{uniforms:Ao([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.fog]),vertexShader:Sn.meshbasic_vert,fragmentShader:Sn.meshbasic_frag},lambert:{uniforms:Ao([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Ft(0)}}]),vertexShader:Sn.meshlambert_vert,fragmentShader:Sn.meshlambert_frag},phong:{uniforms:Ao([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Ft(0)},specular:{value:new Ft(1118481)},shininess:{value:30}}]),vertexShader:Sn.meshphong_vert,fragmentShader:Sn.meshphong_frag},standard:{uniforms:Ao([wt.common,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.roughnessmap,wt.metalnessmap,wt.fog,wt.lights,{emissive:{value:new Ft(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Sn.meshphysical_vert,fragmentShader:Sn.meshphysical_frag},toon:{uniforms:Ao([wt.common,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.gradientmap,wt.fog,wt.lights,{emissive:{value:new Ft(0)}}]),vertexShader:Sn.meshtoon_vert,fragmentShader:Sn.meshtoon_frag},matcap:{uniforms:Ao([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,{matcap:{value:null}}]),vertexShader:Sn.meshmatcap_vert,fragmentShader:Sn.meshmatcap_frag},points:{uniforms:Ao([wt.points,wt.fog]),vertexShader:Sn.points_vert,fragmentShader:Sn.points_frag},dashed:{uniforms:Ao([wt.common,wt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Sn.linedashed_vert,fragmentShader:Sn.linedashed_frag},depth:{uniforms:Ao([wt.common,wt.displacementmap]),vertexShader:Sn.depth_vert,fragmentShader:Sn.depth_frag},normal:{uniforms:Ao([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,{opacity:{value:1}}]),vertexShader:Sn.meshnormal_vert,fragmentShader:Sn.meshnormal_frag},sprite:{uniforms:Ao([wt.sprite,wt.fog]),vertexShader:Sn.sprite_vert,fragmentShader:Sn.sprite_frag},background:{uniforms:{uvTransform:{value:new on},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Sn.background_vert,fragmentShader:Sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new on}},vertexShader:Sn.backgroundCube_vert,fragmentShader:Sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Sn.cube_vert,fragmentShader:Sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Sn.equirect_vert,fragmentShader:Sn.equirect_frag},distanceRGBA:{uniforms:Ao([wt.common,wt.displacementmap,{referencePosition:{value:new Te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Sn.distanceRGBA_vert,fragmentShader:Sn.distanceRGBA_frag},shadow:{uniforms:Ao([wt.lights,wt.fog,{color:{value:new Ft(0)},opacity:{value:1}}]),vertexShader:Sn.shadow_vert,fragmentShader:Sn.shadow_frag}};Cl.physical={uniforms:Ao([Cl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new on},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new on},clearcoatNormalScale:{value:new Tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new on},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new on},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new on},sheen:{value:0},sheenColor:{value:new Ft(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new on},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new on},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new on},transmissionSamplerSize:{value:new Tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new on},attenuationDistance:{value:0},attenuationColor:{value:new Ft(0)},specularColor:{value:new Ft(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new on},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new on},anisotropyVector:{value:new Tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new on}}]),vertexShader:Sn.meshphysical_vert,fragmentShader:Sn.meshphysical_frag};const t_={r:0,b:0,g:0},Cf=new ol,iBe=new ri;function rBe(n,e,i,r,o,s,a){const l=new Ft(0);let u=s===!0?0:1,c,d,f=null,h=0,p=null;function g(S){let w=S.isScene===!0?S.background:null;return w&&w.isTexture&&(w=(S.backgroundBlurriness>0?i:e).get(w)),w}function b(S){let w=!1;const A=g(S);A===null?m(l,u):A&&A.isColor&&(m(A,1),w=!0);const T=n.xr.getEnvironmentBlendMode();T==="additive"?r.buffers.color.setClear(0,0,0,1,a):T==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(n.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(S,w){const A=g(w);A&&(A.isCubeTexture||A.mapping===Eh)?(d===void 0&&(d=new Vr(new zh(1,1,1),new Wl({name:"BackgroundCubeMaterial",uniforms:_m(Cl.backgroundCube.uniforms),vertexShader:Cl.backgroundCube.vertexShader,fragmentShader:Cl.backgroundCube.fragmentShader,side:Di,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(T,C,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(d)),Cf.copy(w.backgroundRotation),Cf.x*=-1,Cf.y*=-1,Cf.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Cf.y*=-1,Cf.z*=-1),d.material.uniforms.envMap.value=A,d.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(iBe.makeRotationFromEuler(Cf)),d.material.toneMapped=wn.getTransfer(A.colorSpace)!==Qn,(f!==A||h!==A.version||p!==n.toneMapping)&&(d.material.needsUpdate=!0,f=A,h=A.version,p=n.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null)):A&&A.isTexture&&(c===void 0&&(c=new Vr(new pC(2,2),new Wl({name:"BackgroundMaterial",uniforms:_m(Cl.background.uniforms),vertexShader:Cl.background.vertexShader,fragmentShader:Cl.background.fragmentShader,side:il,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(c)),c.material.uniforms.t2D.value=A,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=wn.getTransfer(A.colorSpace)!==Qn,A.matrixAutoUpdate===!0&&A.updateMatrix(),c.material.uniforms.uvTransform.value.copy(A.matrix),(f!==A||h!==A.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=A,h=A.version,p=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function m(S,w){S.getRGB(t_,fK(n)),r.buffers.color.setClear(t_.r,t_.g,t_.b,w,a)}function _(){d!==void 0&&(d.geometry.dispose(),d.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return l},setClearColor:function(S,w=1){l.set(S),u=w,m(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(S){u=S,m(l,u)},render:b,addToRenderList:y,dispose:_}}function oBe(n,e){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},o=h(null);let s=o,a=!1;function l(P,I,D,F,L){let $=!1;const U=f(F,D,I);s!==U&&(s=U,c(s.object)),$=p(P,F,D,L),$&&g(P,F,D,L),L!==null&&e.update(L,n.ELEMENT_ARRAY_BUFFER),($||a)&&(a=!1,w(P,I,D,F),L!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(L).buffer))}function u(){return n.createVertexArray()}function c(P){return n.bindVertexArray(P)}function d(P){return n.deleteVertexArray(P)}function f(P,I,D){const F=D.wireframe===!0;let L=r[P.id];L===void 0&&(L={},r[P.id]=L);let $=L[I.id];$===void 0&&($={},L[I.id]=$);let U=$[F];return U===void 0&&(U=h(u()),$[F]=U),U}function h(P){const I=[],D=[],F=[];for(let L=0;L<i;L++)I[L]=0,D[L]=0,F[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:D,attributeDivisors:F,object:P,attributes:{},index:null}}function p(P,I,D,F){const L=s.attributes,$=I.attributes;let U=0;const k=D.getAttributes();for(const H in k)if(k[H].location>=0){const Q=L[H];let Z=$[H];if(Z===void 0&&(H==="instanceMatrix"&&P.instanceMatrix&&(Z=P.instanceMatrix),H==="instanceColor"&&P.instanceColor&&(Z=P.instanceColor)),Q===void 0||Q.attribute!==Z||Z&&Q.data!==Z.data)return!0;U++}return s.attributesNum!==U||s.index!==F}function g(P,I,D,F){const L={},$=I.attributes;let U=0;const k=D.getAttributes();for(const H in k)if(k[H].location>=0){let Q=$[H];Q===void 0&&(H==="instanceMatrix"&&P.instanceMatrix&&(Q=P.instanceMatrix),H==="instanceColor"&&P.instanceColor&&(Q=P.instanceColor));const Z={};Z.attribute=Q,Q&&Q.data&&(Z.data=Q.data),L[H]=Z,U++}s.attributes=L,s.attributesNum=U,s.index=F}function b(){const P=s.newAttributes;for(let I=0,D=P.length;I<D;I++)P[I]=0}function y(P){m(P,0)}function m(P,I){const D=s.newAttributes,F=s.enabledAttributes,L=s.attributeDivisors;D[P]=1,F[P]===0&&(n.enableVertexAttribArray(P),F[P]=1),L[P]!==I&&(n.vertexAttribDivisor(P,I),L[P]=I)}function _(){const P=s.newAttributes,I=s.enabledAttributes;for(let D=0,F=I.length;D<F;D++)I[D]!==P[D]&&(n.disableVertexAttribArray(D),I[D]=0)}function S(P,I,D,F,L,$,U){U===!0?n.vertexAttribIPointer(P,I,D,L,$):n.vertexAttribPointer(P,I,D,F,L,$)}function w(P,I,D,F){b();const L=F.attributes,$=D.getAttributes(),U=I.defaultAttributeValues;for(const k in $){const H=$[k];if(H.location>=0){let z=L[k];if(z===void 0&&(k==="instanceMatrix"&&P.instanceMatrix&&(z=P.instanceMatrix),k==="instanceColor"&&P.instanceColor&&(z=P.instanceColor)),z!==void 0){const Q=z.normalized,Z=z.itemSize,ie=e.get(z);if(ie===void 0)continue;const xe=ie.buffer,J=ie.type,se=ie.bytesPerElement,ee=J===n.INT||J===n.UNSIGNED_INT||z.gpuType===Dr;if(z.isInterleavedBufferAttribute){const ne=z.data,ue=ne.stride,Y=z.offset;if(ne.isInstancedInterleavedBuffer){for(let le=0;le<H.locationSize;le++)m(H.location+le,ne.meshPerAttribute);P.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let le=0;le<H.locationSize;le++)y(H.location+le);n.bindBuffer(n.ARRAY_BUFFER,xe);for(let le=0;le<H.locationSize;le++)S(H.location+le,Z/H.locationSize,J,Q,ue*se,(Y+Z/H.locationSize*le)*se,ee)}else{if(z.isInstancedBufferAttribute){for(let ne=0;ne<H.locationSize;ne++)m(H.location+ne,z.meshPerAttribute);P.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let ne=0;ne<H.locationSize;ne++)y(H.location+ne);n.bindBuffer(n.ARRAY_BUFFER,xe);for(let ne=0;ne<H.locationSize;ne++)S(H.location+ne,Z/H.locationSize,J,Q,Z*se,Z/H.locationSize*ne*se,ee)}}else if(U!==void 0){const Q=U[k];if(Q!==void 0)switch(Q.length){case 2:n.vertexAttrib2fv(H.location,Q);break;case 3:n.vertexAttrib3fv(H.location,Q);break;case 4:n.vertexAttrib4fv(H.location,Q);break;default:n.vertexAttrib1fv(H.location,Q)}}}}_()}function A(){R();for(const P in r){const I=r[P];for(const D in I){const F=I[D];for(const L in F)d(F[L].object),delete F[L];delete I[D]}delete r[P]}}function T(P){if(r[P.id]===void 0)return;const I=r[P.id];for(const D in I){const F=I[D];for(const L in F)d(F[L].object),delete F[L];delete I[D]}delete r[P.id]}function C(P){for(const I in r){const D=r[I];if(D[P.id]===void 0)continue;const F=D[P.id];for(const L in F)d(F[L].object),delete F[L];delete D[P.id]}}function R(){E(),a=!0,s!==o&&(s=o,c(s.object))}function E(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:l,reset:R,resetDefaultState:E,dispose:A,releaseStatesOfGeometry:T,releaseStatesOfProgram:C,initAttributes:b,enableAttribute:y,disableUnusedAttributes:_}}function sBe(n,e,i){let r;function o(c){r=c}function s(c,d){n.drawArrays(r,c,d),i.update(d,r,1)}function a(c,d,f){f!==0&&(n.drawArraysInstanced(r,c,d,f),i.update(d,r,f))}function l(c,d,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,d,0,f);let p=0;for(let g=0;g<f;g++)p+=d[g];i.update(p,r,1)}function u(c,d,f,h){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<c.length;g++)a(c[g],d[g],h[g]);else{p.multiDrawArraysInstancedWEBGL(r,c,0,d,0,h,0,f);let g=0;for(let b=0;b<f;b++)g+=d[b]*h[b];i.update(g,r,1)}}this.setMode=o,this.render=s,this.renderInstances=a,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function aBe(n,e,i,r){let o;function s(){if(o!==void 0)return o;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");o=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o}function a(C){return!(C!==Gr&&r.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(C){const R=C===Bo&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(C!==ho&&r.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==nr&&!R)}function u(C){if(C==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=i.precision!==void 0?i.precision:"highp";const d=u(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const f=i.logarithmicDepthBuffer===!0,h=i.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),b=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),A=g>0,T=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:u,textureFormatReadable:a,textureTypeReadable:l,precision:c,logarithmicDepthBuffer:f,reverseDepthBuffer:h,maxTextures:p,maxVertexTextures:g,maxTextureSize:b,maxCubemapSize:y,maxAttributes:m,maxVertexUniforms:_,maxVaryings:S,maxFragmentUniforms:w,vertexTextures:A,maxSamples:T}}function lBe(n){const e=this;let i=null,r=0,o=!1,s=!1;const a=new Va,l=new on,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||r!==0||o;return o=h,r=f.length,p},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){i=d(f,h,0)},this.setState=function(f,h,p){const g=f.clippingPlanes,b=f.clipIntersection,y=f.clipShadows,m=n.get(f);if(!o||g===null||g.length===0||s&&!y)s?d(null):c();else{const _=s?0:r,S=_*4;let w=m.clippingState||null;u.value=w,w=d(g,h,S,p);for(let A=0;A!==S;++A)w[A]=i[A];m.clippingState=w,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=_}};function c(){u.value!==i&&(u.value=i,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,h,p,g){const b=f!==null?f.length:0;let y=null;if(b!==0){if(y=u.value,g!==!0||y===null){const m=p+b*4,_=h.matrixWorldInverse;l.getNormalMatrix(_),(y===null||y.length<m)&&(y=new Float32Array(m));for(let S=0,w=p;S!==b;++S,w+=4)a.copy(f[S]).applyMatrix4(_,l),a.normal.toArray(y,w),y[w+3]=a.constant}u.value=y,u.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,y}}function uBe(n){let e=new WeakMap;function i(a,l){return l===Ud?a.mapping=Sa:l===kd&&(a.mapping=wa),a}function r(a){if(a&&a.isTexture){const l=a.mapping;if(l===Ud||l===kd)if(e.has(a)){const u=e.get(a).texture;return i(u,a.mapping)}else{const u=a.image;if(u&&u.height>0){const c=new mK(u.height);return c.fromEquirectangularTexture(n,a),e.set(a,c),a.addEventListener("dispose",o),i(c.texture,a.mapping)}else return null}}return a}function o(a){const l=a.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const dg=4,Mz=[.125,.215,.35,.446,.526,.582],Kf=20,NE=new sb,Rz=new Ft;let OE=null,DE=0,LE=0,BE=!1;const Df=(1+Math.sqrt(5))/2,Ap=1/Df,Pz=[new Te(-Df,Ap,0),new Te(Df,Ap,0),new Te(-Ap,0,Df),new Te(Ap,0,Df),new Te(0,Df,-Ap),new Te(0,Df,Ap),new Te(-1,1,-1),new Te(1,1,-1),new Te(-1,1,1),new Te(1,1,1)];let Iz=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,i=0,r=.1,o=100){OE=this._renderer.getRenderTarget(),DE=this._renderer.getActiveCubeFace(),LE=this._renderer.getActiveMipmapLevel(),BE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,o,s),i>0&&this._blur(s,0,0,i),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,i=null){return this._fromTexture(e,i)}fromCubemap(e,i=null){return this._fromTexture(e,i)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Dz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Oz(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(OE,DE,LE),this._renderer.xr.enabled=BE,e.scissorTest=!1,n_(e,0,0,e.width,e.height)}_fromTexture(e,i){e.mapping===Sa||e.mapping===wa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),OE=this._renderer.getRenderTarget(),DE=this._renderer.getActiveCubeFace(),LE=this._renderer.getActiveMipmapLevel(),BE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=i||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,r={magFilter:Sr,minFilter:Sr,generateMipmaps:!1,type:Bo,format:Gr,colorSpace:ma,depthBuffer:!1},o=Nz(e,i,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Nz(e,i,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=cBe(s)),this._blurMaterial=dBe(s,e,i)}return o}_compileMaterial(e){const i=new Vr(this._lodPlanes[0],e);this._renderer.compile(i,NE)}_sceneToCubeUV(e,i,r,o){const l=new Po(90,1,i,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,h=d.toneMapping;d.getClearColor(Rz),d.toneMapping=us,d.autoClear=!1;const p=new ob({name:"PMREM.Background",side:Di,depthWrite:!1,depthTest:!1}),g=new Vr(new zh,p);let b=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,b=!0):(p.color.copy(Rz),b=!0);for(let m=0;m<6;m++){const _=m%3;_===0?(l.up.set(0,u[m],0),l.lookAt(c[m],0,0)):_===1?(l.up.set(0,0,u[m]),l.lookAt(0,c[m],0)):(l.up.set(0,u[m],0),l.lookAt(0,0,c[m]));const S=this._cubeSize;n_(o,_*S,m>2?S:0,S,S),d.setRenderTarget(o),b&&d.render(g,l),d.render(e,l)}g.geometry.dispose(),g.material.dispose(),d.toneMapping=h,d.autoClear=f,e.background=y}_textureToCubeUV(e,i){const r=this._renderer,o=e.mapping===Sa||e.mapping===wa;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=Dz()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Oz());const s=o?this._cubemapMaterial:this._equirectMaterial,a=new Vr(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const u=this._cubeSize;n_(i,0,0,3*u,2*u),r.setRenderTarget(i),r.render(a,NE)}_applyPMREM(e){const i=this._renderer,r=i.autoClear;i.autoClear=!1;const o=this._lodPlanes.length;for(let s=1;s<o;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=Pz[(o-s-1)%Pz.length];this._blur(e,s-1,s,a,l)}i.autoClear=r}_blur(e,i,r,o,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,i,r,o,"latitudinal",s),this._halfBlur(a,e,r,r,o,"longitudinal",s)}_halfBlur(e,i,r,o,s,a,l){const u=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new Vr(this._lodPlanes[o],c),h=c.uniforms,p=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*Kf-1),b=s/g,y=isFinite(s)?1+Math.floor(d*b):Kf;y>Kf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Kf}`);const m=[];let _=0;for(let C=0;C<Kf;++C){const R=C/b,E=Math.exp(-R*R/2);m.push(E),C===0?_+=E:C<y&&(_+=2*E)}for(let C=0;C<m.length;C++)m[C]=m[C]/_;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=m,h.latitudinal.value=a==="latitudinal",l&&(h.poleAxis.value=l);const{_lodMax:S}=this;h.dTheta.value=g,h.mipInt.value=S-r;const w=this._sizeLods[o],A=3*w*(o>S-dg?o-S+dg:0),T=4*(this._cubeSize-w);n_(i,A,T,3*w,2*w),u.setRenderTarget(i),u.render(f,NE)}};function cBe(n){const e=[],i=[],r=[];let o=n;const s=n-dg+1+Mz.length;for(let a=0;a<s;a++){const l=Math.pow(2,o);i.push(l);let u=1/l;a>n-dg?u=Mz[a-n+dg-1]:a===0&&(u=0),r.push(u);const c=1/(l-2),d=-c,f=1+c,h=[d,d,f,d,f,f,d,d,f,f,d,f],p=6,g=6,b=3,y=2,m=1,_=new Float32Array(b*g*p),S=new Float32Array(y*g*p),w=new Float32Array(m*g*p);for(let T=0;T<p;T++){const C=T%3*2/3-1,R=T>2?0:-1,E=[C,R,0,C+2/3,R,0,C+2/3,R+1,0,C,R,0,C+2/3,R+1,0,C,R+1,0];_.set(E,b*g*T),S.set(h,y*g*T);const P=[T,T,T,T,T,T];w.set(P,m*g*T)}const A=new Tc;A.setAttribute("position",new po(_,b)),A.setAttribute("uv",new po(S,y)),A.setAttribute("faceIndex",new po(w,m)),e.push(A),o>dg&&o--}return{lodPlanes:e,sizeLods:i,sigmas:r}}function Nz(n,e,i){const r=new Hd(n,e,i);return r.texture.mapping=Eh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function n_(n,e,i,r,o){n.viewport.set(e,i,r,o),n.scissor.set(e,i,r,o)}function dBe(n,e,i){const r=new Float32Array(Kf),o=new Te(0,1,0);return new Wl({name:"SphericalGaussianBlur",defines:{n:Kf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:QO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ls,depthTest:!1,depthWrite:!1})}function Oz(){return new Wl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:QO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ls,depthTest:!1,depthWrite:!1})}function Dz(){return new Wl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:QO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ls,depthTest:!1,depthWrite:!1})}function QO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function fBe(n){let e=new WeakMap,i=null;function r(l){if(l&&l.isTexture){const u=l.mapping,c=u===Ud||u===kd,d=u===Sa||u===wa;if(c||d){let f=e.get(l);const h=f!==void 0?f.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==h)return i===null&&(i=new Iz(n)),f=c?i.fromEquirectangular(l,f):i.fromCubemap(l,f),f.texture.pmremVersion=l.pmremVersion,e.set(l,f),f.texture;if(f!==void 0)return f.texture;{const p=l.image;return c&&p&&p.height>0||d&&p&&o(p)?(i===null&&(i=new Iz(n)),f=c?i.fromEquirectangular(l):i.fromCubemap(l),f.texture.pmremVersion=l.pmremVersion,e.set(l,f),l.addEventListener("dispose",s),f.texture):null}}}return l}function o(l){let u=0;const c=6;for(let d=0;d<c;d++)l[d]!==void 0&&u++;return u===c}function s(l){const u=l.target;u.removeEventListener("dispose",s);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function a(){e=new WeakMap,i!==null&&(i.dispose(),i=null)}return{get:r,dispose:a}}function hBe(n){const e={};function i(r){if(e[r]!==void 0)return e[r];let o;switch(r){case"WEBGL_depth_texture":o=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=n.getExtension(r)}return e[r]=o,o}return{has:function(r){return i(r)!==null},init:function(){i("EXT_color_buffer_float"),i("WEBGL_clip_cull_distance"),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture"),i("WEBGL_render_shared_exponent")},get:function(r){const o=i(r);return o===null&&jf("THREE.WebGLRenderer: "+r+" extension not supported."),o}}}function pBe(n,e,i,r){const o={},s=new WeakMap;function a(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",a),delete o[h.id];const p=s.get(h);p&&(e.remove(p),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,i.memory.geometries--}function l(f,h){return o[h.id]===!0||(h.addEventListener("dispose",a),o[h.id]=!0,i.memory.geometries++),h}function u(f){const h=f.attributes;for(const p in h)e.update(h[p],n.ARRAY_BUFFER)}function c(f){const h=[],p=f.index,g=f.attributes.position;let b=0;if(p!==null){const _=p.array;b=p.version;for(let S=0,w=_.length;S<w;S+=3){const A=_[S+0],T=_[S+1],C=_[S+2];h.push(A,T,T,C,C,A)}}else if(g!==void 0){const _=g.array;b=g.version;for(let S=0,w=_.length/3-1;S<w;S+=3){const A=S+0,T=S+1,C=S+2;h.push(A,T,T,C,C,A)}}else return;const y=new(rK(h)?KO:jO)(h,1);y.version=b;const m=s.get(f);m&&e.remove(m),s.set(f,y)}function d(f){const h=s.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&c(f)}else c(f);return s.get(f)}return{get:l,update:u,getWireframeAttribute:d}}function gBe(n,e,i){let r;function o(h){r=h}let s,a;function l(h){s=h.type,a=h.bytesPerElement}function u(h,p){n.drawElements(r,p,s,h*a),i.update(p,r,1)}function c(h,p,g){g!==0&&(n.drawElementsInstanced(r,p,s,h*a,g),i.update(p,r,g))}function d(h,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,s,h,0,g);let y=0;for(let m=0;m<g;m++)y+=p[m];i.update(y,r,1)}function f(h,p,g,b){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let m=0;m<h.length;m++)c(h[m]/a,p[m],b[m]);else{y.multiDrawElementsInstancedWEBGL(r,p,0,s,h,0,b,0,g);let m=0;for(let _=0;_<g;_++)m+=p[_]*b[_];i.update(m,r,1)}}this.setMode=o,this.setIndex=l,this.render=u,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function mBe(n){const e={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,l){switch(i.calls++,a){case n.TRIANGLES:i.triangles+=l*(s/3);break;case n.LINES:i.lines+=l*(s/2);break;case n.LINE_STRIP:i.lines+=l*(s-1);break;case n.LINE_LOOP:i.lines+=l*s;break;case n.POINTS:i.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function o(){i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:e,render:i,programs:null,autoReset:!0,reset:o,update:r}}function vBe(n,e,i){const r=new WeakMap,o=new fn;function s(a,l,u){const c=a.morphTargetInfluences,d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,f=d!==void 0?d.length:0;let h=r.get(l);if(h===void 0||h.count!==f){let P=function(){R.dispose(),r.delete(l),l.removeEventListener("dispose",P)};var p=P;h!==void 0&&h.texture.dispose();const g=l.morphAttributes.position!==void 0,b=l.morphAttributes.normal!==void 0,y=l.morphAttributes.color!==void 0,m=l.morphAttributes.position||[],_=l.morphAttributes.normal||[],S=l.morphAttributes.color||[];let w=0;g===!0&&(w=1),b===!0&&(w=2),y===!0&&(w=3);let A=l.attributes.position.count*w,T=1;A>e.maxTextureSize&&(T=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const C=new Float32Array(A*T*4*f),R=new HO(C,A,T,f);R.type=nr,R.needsUpdate=!0;const E=w*4;for(let I=0;I<f;I++){const D=m[I],F=_[I],L=S[I],$=A*T*4*I;for(let U=0;U<D.count;U++){const k=U*E;g===!0&&(o.fromBufferAttribute(D,U),C[$+k+0]=o.x,C[$+k+1]=o.y,C[$+k+2]=o.z,C[$+k+3]=0),b===!0&&(o.fromBufferAttribute(F,U),C[$+k+4]=o.x,C[$+k+5]=o.y,C[$+k+6]=o.z,C[$+k+7]=0),y===!0&&(o.fromBufferAttribute(L,U),C[$+k+8]=o.x,C[$+k+9]=o.y,C[$+k+10]=o.z,C[$+k+11]=L.itemSize===4?o.w:1)}}h={count:f,texture:R,size:new Tt(A,T)},r.set(l,h),l.addEventListener("dispose",P)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",a.morphTexture,i);else{let g=0;for(let y=0;y<c.length;y++)g+=c[y];const b=l.morphTargetsRelative?1:1-g;u.getUniforms().setValue(n,"morphTargetBaseInfluence",b),u.getUniforms().setValue(n,"morphTargetInfluences",c)}u.getUniforms().setValue(n,"morphTargetsTexture",h.texture,i),u.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}return{update:s}}function yBe(n,e,i,r){let o=new WeakMap;function s(u){const c=r.render.frame,d=u.geometry,f=e.get(u,d);if(o.get(f)!==c&&(e.update(f),o.set(f,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),o.get(u)!==c&&(i.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&i.update(u.instanceColor,n.ARRAY_BUFFER),o.set(u,c))),u.isSkinnedMesh){const h=u.skeleton;o.get(h)!==c&&(h.update(),o.set(h,c))}return f}function a(){o=new WeakMap}function l(u){const c=u.target;c.removeEventListener("dispose",l),i.remove(c.instanceMatrix),c.instanceColor!==null&&i.remove(c.instanceColor)}return{update:s,dispose:a}}const RK=new Ho,Lz=new Yd(1,1),PK=new HO,IK=new ROe,NK=new fC,Bz=[],Fz=[],$z=new Float32Array(16),Uz=new Float32Array(9),kz=new Float32Array(4);function Fm(n,e,i){const r=n[0];if(r<=0||r>0)return n;const o=e*i;let s=Bz[o];if(s===void 0&&(s=new Float32Array(o),Bz[o]=s),e!==0){r.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=i,n[a].toArray(s,l)}return s}function Ar(n,e){if(n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(n[i]!==e[i])return!1;return!0}function Tr(n,e){for(let i=0,r=e.length;i<r;i++)n[i]=e[i]}function mC(n,e){let i=Fz[e];i===void 0&&(i=new Int32Array(e),Fz[e]=i);for(let r=0;r!==e;++r)i[r]=n.allocateTextureUnit();return i}function bBe(n,e){const i=this.cache;i[0]!==e&&(n.uniform1f(this.addr,e),i[0]=e)}function xBe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Ar(i,e))return;n.uniform2fv(this.addr,e),Tr(i,e)}}function _Be(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(e.r!==void 0)(i[0]!==e.r||i[1]!==e.g||i[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(Ar(i,e))return;n.uniform3fv(this.addr,e),Tr(i,e)}}function SBe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Ar(i,e))return;n.uniform4fv(this.addr,e),Tr(i,e)}}function wBe(n,e){const i=this.cache,r=e.elements;if(r===void 0){if(Ar(i,e))return;n.uniformMatrix2fv(this.addr,!1,e),Tr(i,e)}else{if(Ar(i,r))return;kz.set(r),n.uniformMatrix2fv(this.addr,!1,kz),Tr(i,r)}}function CBe(n,e){const i=this.cache,r=e.elements;if(r===void 0){if(Ar(i,e))return;n.uniformMatrix3fv(this.addr,!1,e),Tr(i,e)}else{if(Ar(i,r))return;Uz.set(r),n.uniformMatrix3fv(this.addr,!1,Uz),Tr(i,r)}}function ABe(n,e){const i=this.cache,r=e.elements;if(r===void 0){if(Ar(i,e))return;n.uniformMatrix4fv(this.addr,!1,e),Tr(i,e)}else{if(Ar(i,r))return;$z.set(r),n.uniformMatrix4fv(this.addr,!1,$z),Tr(i,r)}}function TBe(n,e){const i=this.cache;i[0]!==e&&(n.uniform1i(this.addr,e),i[0]=e)}function EBe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Ar(i,e))return;n.uniform2iv(this.addr,e),Tr(i,e)}}function MBe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else{if(Ar(i,e))return;n.uniform3iv(this.addr,e),Tr(i,e)}}function RBe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Ar(i,e))return;n.uniform4iv(this.addr,e),Tr(i,e)}}function PBe(n,e){const i=this.cache;i[0]!==e&&(n.uniform1ui(this.addr,e),i[0]=e)}function IBe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Ar(i,e))return;n.uniform2uiv(this.addr,e),Tr(i,e)}}function NBe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else{if(Ar(i,e))return;n.uniform3uiv(this.addr,e),Tr(i,e)}}function OBe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Ar(i,e))return;n.uniform4uiv(this.addr,e),Tr(i,e)}}function DBe(n,e,i){const r=this.cache,o=i.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o);let s;this.type===n.SAMPLER_2D_SHADOW?(Lz.compareFunction=dC,s=Lz):s=RK,i.setTexture2D(e||s,o)}function LBe(n,e,i){const r=this.cache,o=i.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),i.setTexture3D(e||IK,o)}function BBe(n,e,i){const r=this.cache,o=i.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),i.setTextureCube(e||NK,o)}function FBe(n,e,i){const r=this.cache,o=i.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),i.setTexture2DArray(e||PK,o)}function $Be(n){switch(n){case 5126:return bBe;case 35664:return xBe;case 35665:return _Be;case 35666:return SBe;case 35674:return wBe;case 35675:return CBe;case 35676:return ABe;case 5124:case 35670:return TBe;case 35667:case 35671:return EBe;case 35668:case 35672:return MBe;case 35669:case 35673:return RBe;case 5125:return PBe;case 36294:return IBe;case 36295:return NBe;case 36296:return OBe;case 35678:case 36198:case 36298:case 36306:case 35682:return DBe;case 35679:case 36299:case 36307:return LBe;case 35680:case 36300:case 36308:case 36293:return BBe;case 36289:case 36303:case 36311:case 36292:return FBe}}function UBe(n,e){n.uniform1fv(this.addr,e)}function kBe(n,e){const i=Fm(e,this.size,2);n.uniform2fv(this.addr,i)}function zBe(n,e){const i=Fm(e,this.size,3);n.uniform3fv(this.addr,i)}function HBe(n,e){const i=Fm(e,this.size,4);n.uniform4fv(this.addr,i)}function GBe(n,e){const i=Fm(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,i)}function VBe(n,e){const i=Fm(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,i)}function WBe(n,e){const i=Fm(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,i)}function jBe(n,e){n.uniform1iv(this.addr,e)}function KBe(n,e){n.uniform2iv(this.addr,e)}function qBe(n,e){n.uniform3iv(this.addr,e)}function XBe(n,e){n.uniform4iv(this.addr,e)}function YBe(n,e){n.uniform1uiv(this.addr,e)}function QBe(n,e){n.uniform2uiv(this.addr,e)}function ZBe(n,e){n.uniform3uiv(this.addr,e)}function JBe(n,e){n.uniform4uiv(this.addr,e)}function eFe(n,e,i){const r=this.cache,o=e.length,s=mC(i,o);Ar(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let a=0;a!==o;++a)i.setTexture2D(e[a]||RK,s[a])}function tFe(n,e,i){const r=this.cache,o=e.length,s=mC(i,o);Ar(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let a=0;a!==o;++a)i.setTexture3D(e[a]||IK,s[a])}function nFe(n,e,i){const r=this.cache,o=e.length,s=mC(i,o);Ar(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let a=0;a!==o;++a)i.setTextureCube(e[a]||NK,s[a])}function iFe(n,e,i){const r=this.cache,o=e.length,s=mC(i,o);Ar(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let a=0;a!==o;++a)i.setTexture2DArray(e[a]||PK,s[a])}function rFe(n){switch(n){case 5126:return UBe;case 35664:return kBe;case 35665:return zBe;case 35666:return HBe;case 35674:return GBe;case 35675:return VBe;case 35676:return WBe;case 5124:case 35670:return jBe;case 35667:case 35671:return KBe;case 35668:case 35672:return qBe;case 35669:case 35673:return XBe;case 5125:return YBe;case 36294:return QBe;case 36295:return ZBe;case 36296:return JBe;case 35678:case 36198:case 36298:case 36306:case 35682:return eFe;case 35679:case 36299:case 36307:return tFe;case 35680:case 36300:case 36308:case 36293:return nFe;case 36289:case 36303:case 36311:case 36292:return iFe}}class oFe{constructor(e,i,r){this.id=e,this.addr=r,this.cache=[],this.type=i.type,this.setValue=$Be(i.type)}}class sFe{constructor(e,i,r){this.id=e,this.addr=r,this.cache=[],this.type=i.type,this.size=i.size,this.setValue=rFe(i.type)}}class aFe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,i,r){const o=this.seq;for(let s=0,a=o.length;s!==a;++s){const l=o[s];l.setValue(e,i[l.id],r)}}}const FE=/(\w+)(\])?(\[|\.)?/g;function zz(n,e){n.seq.push(e),n.map[e.id]=e}function lFe(n,e,i){const r=n.name,o=r.length;for(FE.lastIndex=0;;){const s=FE.exec(r),a=FE.lastIndex;let l=s[1];const u=s[2]==="]",c=s[3];if(u&&(l=l|0),c===void 0||c==="["&&a+2===o){zz(i,c===void 0?new oFe(l,n,e):new sFe(l,n,e));break}else{let f=i.map[l];f===void 0&&(f=new aFe(l),zz(i,f)),i=f}}}class OS{constructor(e,i){this.seq=[],this.map={};const r=e.getProgramParameter(i,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const s=e.getActiveUniform(i,o),a=e.getUniformLocation(i,s.name);lFe(s,a,this)}}setValue(e,i,r,o){const s=this.map[i];s!==void 0&&s.setValue(e,r,o)}setOptional(e,i,r){const o=i[r];o!==void 0&&this.setValue(e,r,o)}static upload(e,i,r,o){for(let s=0,a=i.length;s!==a;++s){const l=i[s],u=r[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,o)}}static seqWithValue(e,i){const r=[];for(let o=0,s=e.length;o!==s;++o){const a=e[o];a.id in i&&r.push(a)}return r}}function Hz(n,e,i){const r=n.createShader(e);return n.shaderSource(r,i),n.compileShader(r),r}const uFe=37297;let cFe=0;function dFe(n,e){const i=n.split(`
`),r=[],o=Math.max(e-6,0),s=Math.min(e+6,i.length);for(let a=o;a<s;a++){const l=a+1;r.push(`${l===e?">":" "} ${l}: ${i[a]}`)}return r.join(`
`)}const Gz=new on;function fFe(n){wn._getMatrix(Gz,wn.workingColorSpace,n);const e=`mat3( ${Gz.elements.map(i=>i.toFixed(4))} )`;switch(wn.getTransfer(n)){case kw:return[e,"LinearTransferOETF"];case Qn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function Vz(n,e,i){const r=n.getShaderParameter(e,n.COMPILE_STATUS),o=n.getShaderInfoLog(e).trim();if(r&&o==="")return"";const s=/ERROR: 0:(\d+)/.exec(o);if(s){const a=parseInt(s[1]);return i.toUpperCase()+`

`+o+`

`+dFe(n.getShaderSource(e),a)}else return o}function hFe(n,e){const i=fFe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${i[1]}( vec4( value.rgb * ${i[0]}, value.a ) );`,"}"].join(`
`)}function pFe(n,e){let i;switch(e){case Xj:i="Linear";break;case Yj:i="Reinhard";break;case Qj:i="Cineon";break;case Zj:i="ACESFilmic";break;case Jj:i="AgX";break;case eK:i="Neutral";break;case HNe:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),i="Linear"}return"vec3 "+n+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}const i_=new Te;function gFe(){wn.getLuminanceCoefficients(i_);const n=i_.x.toFixed(4),e=i_.y.toFixed(4),i=i_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${i} );`,"	return dot( weights, rgb );","}"].join(`
`)}function mFe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(ly).join(`
`)}function vFe(n){const e=[];for(const i in n){const r=n[i];r!==!1&&e.push("#define "+i+" "+r)}return e.join(`
`)}function yFe(n,e){const i={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let o=0;o<r;o++){const s=n.getActiveAttrib(e,o),a=s.name;let l=1;s.type===n.FLOAT_MAT2&&(l=2),s.type===n.FLOAT_MAT3&&(l=3),s.type===n.FLOAT_MAT4&&(l=4),i[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:l}}return i}function ly(n){return n!==""}function Wz(n,e){const i=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function jz(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const bFe=/^[ \t]*#include +<([\w\d./]+)>/gm;function mP(n){return n.replace(bFe,_Fe)}const xFe=new Map;function _Fe(n,e){let i=Sn[e];if(i===void 0){const r=xFe.get(e);if(r!==void 0)i=Sn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return mP(i)}const SFe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Kz(n){return n.replace(SFe,wFe)}function wFe(n,e,i,r){let o="";for(let s=parseInt(e);s<parseInt(i);s++)o+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return o}function qz(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function CFe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===vO?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===FNe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ns&&(e="SHADOWMAP_TYPE_VSM"),e}function AFe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Sa:case wa:e="ENVMAP_TYPE_CUBE";break;case Eh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function TFe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case wa:e="ENVMAP_MODE_REFRACTION";break}return e}function EFe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case nb:e="ENVMAP_BLENDING_MULTIPLY";break;case Kj:e="ENVMAP_BLENDING_MIX";break;case qj:e="ENVMAP_BLENDING_ADD";break}return e}function MFe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const i=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,i),7*16)),texelHeight:r,maxMip:i}}function RFe(n,e,i,r){const o=n.getContext(),s=i.defines;let a=i.vertexShader,l=i.fragmentShader;const u=CFe(i),c=AFe(i),d=TFe(i),f=EFe(i),h=MFe(i),p=mFe(i),g=vFe(s),b=o.createProgram();let y,m,_=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(y=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,g].filter(ly).join(`
`),y.length>0&&(y+=`
`),m=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,g].filter(ly).join(`
`),m.length>0&&(m+=`
`)):(y=[qz(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,g,i.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",i.batching?"#define USE_BATCHING":"",i.batchingColor?"#define USE_BATCHING_COLOR":"",i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.instancingMorph?"#define USE_INSTANCING_MORPH":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+d:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.displacementMap?"#define USE_DISPLACEMENTMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.mapUv?"#define MAP_UV "+i.mapUv:"",i.alphaMapUv?"#define ALPHAMAP_UV "+i.alphaMapUv:"",i.lightMapUv?"#define LIGHTMAP_UV "+i.lightMapUv:"",i.aoMapUv?"#define AOMAP_UV "+i.aoMapUv:"",i.emissiveMapUv?"#define EMISSIVEMAP_UV "+i.emissiveMapUv:"",i.bumpMapUv?"#define BUMPMAP_UV "+i.bumpMapUv:"",i.normalMapUv?"#define NORMALMAP_UV "+i.normalMapUv:"",i.displacementMapUv?"#define DISPLACEMENTMAP_UV "+i.displacementMapUv:"",i.metalnessMapUv?"#define METALNESSMAP_UV "+i.metalnessMapUv:"",i.roughnessMapUv?"#define ROUGHNESSMAP_UV "+i.roughnessMapUv:"",i.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+i.anisotropyMapUv:"",i.clearcoatMapUv?"#define CLEARCOATMAP_UV "+i.clearcoatMapUv:"",i.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+i.clearcoatNormalMapUv:"",i.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+i.clearcoatRoughnessMapUv:"",i.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+i.iridescenceMapUv:"",i.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+i.iridescenceThicknessMapUv:"",i.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+i.sheenColorMapUv:"",i.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+i.sheenRoughnessMapUv:"",i.specularMapUv?"#define SPECULARMAP_UV "+i.specularMapUv:"",i.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+i.specularColorMapUv:"",i.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+i.specularIntensityMapUv:"",i.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+i.transmissionMapUv:"",i.thicknessMapUv?"#define THICKNESSMAP_UV "+i.thicknessMapUv:"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.morphColors?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+u:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ly).join(`
`),m=[qz(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,g,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+c:"",i.envMap?"#define "+d:"",i.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.dispersion?"#define USE_DISPERSION":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor||i.batchingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+u:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==us?"#define TONE_MAPPING":"",i.toneMapping!==us?Sn.tonemapping_pars_fragment:"",i.toneMapping!==us?pFe("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",Sn.colorspace_pars_fragment,hFe("linearToOutputTexel",i.outputColorSpace),gFe(),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(ly).join(`
`)),a=mP(a),a=Wz(a,i),a=jz(a,i),l=mP(l),l=Wz(l,i),l=jz(l,i),a=Kz(a),l=Kz(l),i.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,m=["#define varying in",i.glslVersion===tz?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===tz?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const S=_+y+a,w=_+m+l,A=Hz(o,o.VERTEX_SHADER,S),T=Hz(o,o.FRAGMENT_SHADER,w);o.attachShader(b,A),o.attachShader(b,T),i.index0AttributeName!==void 0?o.bindAttribLocation(b,0,i.index0AttributeName):i.morphTargets===!0&&o.bindAttribLocation(b,0,"position"),o.linkProgram(b);function C(I){if(n.debug.checkShaderErrors){const D=o.getProgramInfoLog(b).trim(),F=o.getShaderInfoLog(A).trim(),L=o.getShaderInfoLog(T).trim();let $=!0,U=!0;if(o.getProgramParameter(b,o.LINK_STATUS)===!1)if($=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(o,b,A,T);else{const k=Vz(o,A,"vertex"),H=Vz(o,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(b,o.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+D+`
`+k+`
`+H)}else D!==""?console.warn("THREE.WebGLProgram: Program Info Log:",D):(F===""||L==="")&&(U=!1);U&&(I.diagnostics={runnable:$,programLog:D,vertexShader:{log:F,prefix:y},fragmentShader:{log:L,prefix:m}})}o.deleteShader(A),o.deleteShader(T),R=new OS(o,b),E=yFe(o,b)}let R;this.getUniforms=function(){return R===void 0&&C(this),R};let E;this.getAttributes=function(){return E===void 0&&C(this),E};let P=i.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=o.getProgramParameter(b,uFe)),P},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(b),this.program=void 0},this.type=i.shaderType,this.name=i.shaderName,this.id=cFe++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=A,this.fragmentShader=T,this}let PFe=0;class IFe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.vertexShader,r=e.fragmentShader,o=this._getShaderStage(i),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(o)===!1&&(a.add(o),o.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const i=this.materialCache.get(e);for(const r of i)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const i=this.materialCache;let r=i.get(e);return r===void 0&&(r=new Set,i.set(e,r)),r}_getShaderStage(e){const i=this.shaderCache;let r=i.get(e);return r===void 0&&(r=new NFe(e),i.set(e,r)),r}}class NFe{constructor(e){this.id=PFe++,this.code=e,this.usedTimes=0}}function OFe(n,e,i,r,o,s,a){const l=new WO,u=new IFe,c=new Set,d=[],f=o.logarithmicDepthBuffer,h=o.vertexTextures;let p=o.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(E){return c.add(E),E===0?"uv":`uv${E}`}function y(E,P,I,D,F){const L=D.fog,$=F.geometry,U=E.isMeshStandardMaterial?D.environment:null,k=(E.isMeshStandardMaterial?i:e).get(E.envMap||U),H=k&&k.mapping===Eh?k.image.height:null,z=g[E.type];E.precision!==null&&(p=o.getMaxPrecision(E.precision),p!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",p,"instead."));const Q=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,Z=Q!==void 0?Q.length:0;let ie=0;$.morphAttributes.position!==void 0&&(ie=1),$.morphAttributes.normal!==void 0&&(ie=2),$.morphAttributes.color!==void 0&&(ie=3);let xe,J,se,ee;if(z){const nn=Cl[z];xe=nn.vertexShader,J=nn.fragmentShader}else xe=E.vertexShader,J=E.fragmentShader,u.update(E),se=u.getVertexShaderID(E),ee=u.getFragmentShaderID(E);const ne=n.getRenderTarget(),ue=n.state.buffers.depth.getReversed(),Y=F.isInstancedMesh===!0,le=F.isBatchedMesh===!0,fe=!!E.map,W=!!E.matcap,X=!!k,V=!!E.aoMap,Se=!!E.lightMap,pe=!!E.bumpMap,_e=!!E.normalMap,he=!!E.displacementMap,ge=!!E.emissiveMap,me=!!E.metalnessMap,j=!!E.roughnessMap,G=E.anisotropy>0,ce=E.clearcoat>0,Ee=E.dispersion>0,de=E.iridescence>0,re=E.sheen>0,Ce=E.transmission>0,Me=G&&!!E.anisotropyMap,Ve=ce&&!!E.clearcoatMap,dt=ce&&!!E.clearcoatNormalMap,we=ce&&!!E.clearcoatRoughnessMap,Ie=de&&!!E.iridescenceMap,Ue=de&&!!E.iridescenceThicknessMap,Ye=re&&!!E.sheenColorMap,Ke=re&&!!E.sheenRoughnessMap,ut=!!E.specularMap,ot=!!E.specularColorMap,Et=!!E.specularIntensityMap,Ae=Ce&&!!E.transmissionMap,it=Ce&&!!E.thicknessMap,$e=!!E.gradientMap,We=!!E.alphaMap,gt=E.alphaTest>0,yt=!!E.alphaHash,Dt=!!E.extensions;let Xt=us;E.toneMapped&&(ne===null||ne.isXRRenderTarget===!0)&&(Xt=n.toneMapping);const Un={shaderID:z,shaderType:E.type,shaderName:E.name,vertexShader:xe,fragmentShader:J,defines:E.defines,customVertexShaderID:se,customFragmentShaderID:ee,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:p,batching:le,batchingColor:le&&F._colorsTexture!==null,instancing:Y,instancingColor:Y&&F.instanceColor!==null,instancingMorph:Y&&F.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:ne===null?n.outputColorSpace:ne.isXRRenderTarget===!0?ne.texture.colorSpace:ma,alphaToCoverage:!!E.alphaToCoverage,map:fe,matcap:W,envMap:X,envMapMode:X&&k.mapping,envMapCubeUVHeight:H,aoMap:V,lightMap:Se,bumpMap:pe,normalMap:_e,displacementMap:h&&he,emissiveMap:ge,normalMapObjectSpace:_e&&E.normalMapType===tK,normalMapTangentSpace:_e&&E.normalMapType===gc,metalnessMap:me,roughnessMap:j,anisotropy:G,anisotropyMap:Me,clearcoat:ce,clearcoatMap:Ve,clearcoatNormalMap:dt,clearcoatRoughnessMap:we,dispersion:Ee,iridescence:de,iridescenceMap:Ie,iridescenceThicknessMap:Ue,sheen:re,sheenColorMap:Ye,sheenRoughnessMap:Ke,specularMap:ut,specularColorMap:ot,specularIntensityMap:Et,transmission:Ce,transmissionMap:Ae,thicknessMap:it,gradientMap:$e,opaque:E.transparent===!1&&E.blending===ga&&E.alphaToCoverage===!1,alphaMap:We,alphaTest:gt,alphaHash:yt,combine:E.combine,mapUv:fe&&b(E.map.channel),aoMapUv:V&&b(E.aoMap.channel),lightMapUv:Se&&b(E.lightMap.channel),bumpMapUv:pe&&b(E.bumpMap.channel),normalMapUv:_e&&b(E.normalMap.channel),displacementMapUv:he&&b(E.displacementMap.channel),emissiveMapUv:ge&&b(E.emissiveMap.channel),metalnessMapUv:me&&b(E.metalnessMap.channel),roughnessMapUv:j&&b(E.roughnessMap.channel),anisotropyMapUv:Me&&b(E.anisotropyMap.channel),clearcoatMapUv:Ve&&b(E.clearcoatMap.channel),clearcoatNormalMapUv:dt&&b(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:we&&b(E.clearcoatRoughnessMap.channel),iridescenceMapUv:Ie&&b(E.iridescenceMap.channel),iridescenceThicknessMapUv:Ue&&b(E.iridescenceThicknessMap.channel),sheenColorMapUv:Ye&&b(E.sheenColorMap.channel),sheenRoughnessMapUv:Ke&&b(E.sheenRoughnessMap.channel),specularMapUv:ut&&b(E.specularMap.channel),specularColorMapUv:ot&&b(E.specularColorMap.channel),specularIntensityMapUv:Et&&b(E.specularIntensityMap.channel),transmissionMapUv:Ae&&b(E.transmissionMap.channel),thicknessMapUv:it&&b(E.thicknessMap.channel),alphaMapUv:We&&b(E.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(_e||G),vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!$.attributes.uv&&(fe||We),fog:!!L,useFog:E.fog===!0,fogExp2:!!L&&L.isFogExp2,flatShading:E.flatShading===!0,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:ue,skinning:F.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:ie,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:Xt,decodeVideoTexture:fe&&E.map.isVideoTexture===!0&&wn.getTransfer(E.map.colorSpace)===Qn,decodeVideoTextureEmissive:ge&&E.emissiveMap.isVideoTexture===!0&&wn.getTransfer(E.emissiveMap.colorSpace)===Qn,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Oo,flipSided:E.side===Di,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:Dt&&E.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Dt&&E.extensions.multiDraw===!0||le)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return Un.vertexUv1s=c.has(1),Un.vertexUv2s=c.has(2),Un.vertexUv3s=c.has(3),c.clear(),Un}function m(E){const P=[];if(E.shaderID?P.push(E.shaderID):(P.push(E.customVertexShaderID),P.push(E.customFragmentShaderID)),E.defines!==void 0)for(const I in E.defines)P.push(I),P.push(E.defines[I]);return E.isRawShaderMaterial===!1&&(_(P,E),S(P,E),P.push(n.outputColorSpace)),P.push(E.customProgramCacheKey),P.join()}function _(E,P){E.push(P.precision),E.push(P.outputColorSpace),E.push(P.envMapMode),E.push(P.envMapCubeUVHeight),E.push(P.mapUv),E.push(P.alphaMapUv),E.push(P.lightMapUv),E.push(P.aoMapUv),E.push(P.bumpMapUv),E.push(P.normalMapUv),E.push(P.displacementMapUv),E.push(P.emissiveMapUv),E.push(P.metalnessMapUv),E.push(P.roughnessMapUv),E.push(P.anisotropyMapUv),E.push(P.clearcoatMapUv),E.push(P.clearcoatNormalMapUv),E.push(P.clearcoatRoughnessMapUv),E.push(P.iridescenceMapUv),E.push(P.iridescenceThicknessMapUv),E.push(P.sheenColorMapUv),E.push(P.sheenRoughnessMapUv),E.push(P.specularMapUv),E.push(P.specularColorMapUv),E.push(P.specularIntensityMapUv),E.push(P.transmissionMapUv),E.push(P.thicknessMapUv),E.push(P.combine),E.push(P.fogExp2),E.push(P.sizeAttenuation),E.push(P.morphTargetsCount),E.push(P.morphAttributeCount),E.push(P.numDirLights),E.push(P.numPointLights),E.push(P.numSpotLights),E.push(P.numSpotLightMaps),E.push(P.numHemiLights),E.push(P.numRectAreaLights),E.push(P.numDirLightShadows),E.push(P.numPointLightShadows),E.push(P.numSpotLightShadows),E.push(P.numSpotLightShadowsWithMaps),E.push(P.numLightProbes),E.push(P.shadowMapType),E.push(P.toneMapping),E.push(P.numClippingPlanes),E.push(P.numClipIntersection),E.push(P.depthPacking)}function S(E,P){l.disableAll(),P.supportsVertexTextures&&l.enable(0),P.instancing&&l.enable(1),P.instancingColor&&l.enable(2),P.instancingMorph&&l.enable(3),P.matcap&&l.enable(4),P.envMap&&l.enable(5),P.normalMapObjectSpace&&l.enable(6),P.normalMapTangentSpace&&l.enable(7),P.clearcoat&&l.enable(8),P.iridescence&&l.enable(9),P.alphaTest&&l.enable(10),P.vertexColors&&l.enable(11),P.vertexAlphas&&l.enable(12),P.vertexUv1s&&l.enable(13),P.vertexUv2s&&l.enable(14),P.vertexUv3s&&l.enable(15),P.vertexTangents&&l.enable(16),P.anisotropy&&l.enable(17),P.alphaHash&&l.enable(18),P.batching&&l.enable(19),P.dispersion&&l.enable(20),P.batchingColor&&l.enable(21),E.push(l.mask),l.disableAll(),P.fog&&l.enable(0),P.useFog&&l.enable(1),P.flatShading&&l.enable(2),P.logarithmicDepthBuffer&&l.enable(3),P.reverseDepthBuffer&&l.enable(4),P.skinning&&l.enable(5),P.morphTargets&&l.enable(6),P.morphNormals&&l.enable(7),P.morphColors&&l.enable(8),P.premultipliedAlpha&&l.enable(9),P.shadowMapEnabled&&l.enable(10),P.doubleSided&&l.enable(11),P.flipSided&&l.enable(12),P.useDepthPacking&&l.enable(13),P.dithering&&l.enable(14),P.transmission&&l.enable(15),P.sheen&&l.enable(16),P.opaque&&l.enable(17),P.pointsUvs&&l.enable(18),P.decodeVideoTexture&&l.enable(19),P.decodeVideoTextureEmissive&&l.enable(20),P.alphaToCoverage&&l.enable(21),E.push(l.mask)}function w(E){const P=g[E.type];let I;if(P){const D=Cl[P];I=hK.clone(D.uniforms)}else I=E.uniforms;return I}function A(E,P){let I;for(let D=0,F=d.length;D<F;D++){const L=d[D];if(L.cacheKey===P){I=L,++I.usedTimes;break}}return I===void 0&&(I=new RFe(n,P,E,s),d.push(I)),I}function T(E){if(--E.usedTimes===0){const P=d.indexOf(E);d[P]=d[d.length-1],d.pop(),E.destroy()}}function C(E){u.remove(E)}function R(){u.dispose()}return{getParameters:y,getProgramCacheKey:m,getUniforms:w,acquireProgram:A,releaseProgram:T,releaseShaderCache:C,programs:d,dispose:R}}function DFe(){let n=new WeakMap;function e(a){return n.has(a)}function i(a){let l=n.get(a);return l===void 0&&(l={},n.set(a,l)),l}function r(a){n.delete(a)}function o(a,l,u){n.get(a)[l]=u}function s(){n=new WeakMap}return{has:e,get:i,remove:r,update:o,dispose:s}}function LFe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Xz(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Yz(){const n=[];let e=0;const i=[],r=[],o=[];function s(){e=0,i.length=0,r.length=0,o.length=0}function a(f,h,p,g,b,y){let m=n[e];return m===void 0?(m={id:f.id,object:f,geometry:h,material:p,groupOrder:g,renderOrder:f.renderOrder,z:b,group:y},n[e]=m):(m.id=f.id,m.object=f,m.geometry=h,m.material=p,m.groupOrder=g,m.renderOrder=f.renderOrder,m.z=b,m.group=y),e++,m}function l(f,h,p,g,b,y){const m=a(f,h,p,g,b,y);p.transmission>0?r.push(m):p.transparent===!0?o.push(m):i.push(m)}function u(f,h,p,g,b,y){const m=a(f,h,p,g,b,y);p.transmission>0?r.unshift(m):p.transparent===!0?o.unshift(m):i.unshift(m)}function c(f,h){i.length>1&&i.sort(f||LFe),r.length>1&&r.sort(h||Xz),o.length>1&&o.sort(h||Xz)}function d(){for(let f=e,h=n.length;f<h;f++){const p=n[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:i,transmissive:r,transparent:o,init:s,push:l,unshift:u,finish:d,sort:c}}function BFe(){let n=new WeakMap;function e(r,o){const s=n.get(r);let a;return s===void 0?(a=new Yz,n.set(r,[a])):o>=s.length?(a=new Yz,s.push(a)):a=s[o],a}function i(){n=new WeakMap}return{get:e,dispose:i}}function FFe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let i;switch(e.type){case"DirectionalLight":i={direction:new Te,color:new Ft};break;case"SpotLight":i={position:new Te,direction:new Te,color:new Ft,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new Te,color:new Ft,distance:0,decay:0};break;case"HemisphereLight":i={direction:new Te,skyColor:new Ft,groundColor:new Ft};break;case"RectAreaLight":i={color:new Ft,position:new Te,halfWidth:new Te,halfHeight:new Te};break}return n[e.id]=i,i}}}function $Fe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let i;switch(e.type){case"DirectionalLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt};break;case"SpotLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt};break;case"PointLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=i,i}}}let UFe=0;function kFe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function zFe(n){const e=new FFe,i=$Fe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Te);const o=new Te,s=new ri,a=new ri;function l(c){let d=0,f=0,h=0;for(let E=0;E<9;E++)r.probe[E].set(0,0,0);let p=0,g=0,b=0,y=0,m=0,_=0,S=0,w=0,A=0,T=0,C=0;c.sort(kFe);for(let E=0,P=c.length;E<P;E++){const I=c[E],D=I.color,F=I.intensity,L=I.distance,$=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)d+=D.r*F,f+=D.g*F,h+=D.b*F;else if(I.isLightProbe){for(let U=0;U<9;U++)r.probe[U].addScaledVector(I.sh.coefficients[U],F);C++}else if(I.isDirectionalLight){const U=e.get(I);if(U.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const k=I.shadow,H=i.get(I);H.shadowIntensity=k.intensity,H.shadowBias=k.bias,H.shadowNormalBias=k.normalBias,H.shadowRadius=k.radius,H.shadowMapSize=k.mapSize,r.directionalShadow[p]=H,r.directionalShadowMap[p]=$,r.directionalShadowMatrix[p]=I.shadow.matrix,_++}r.directional[p]=U,p++}else if(I.isSpotLight){const U=e.get(I);U.position.setFromMatrixPosition(I.matrixWorld),U.color.copy(D).multiplyScalar(F),U.distance=L,U.coneCos=Math.cos(I.angle),U.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),U.decay=I.decay,r.spot[b]=U;const k=I.shadow;if(I.map&&(r.spotLightMap[A]=I.map,A++,k.updateMatrices(I),I.castShadow&&T++),r.spotLightMatrix[b]=k.matrix,I.castShadow){const H=i.get(I);H.shadowIntensity=k.intensity,H.shadowBias=k.bias,H.shadowNormalBias=k.normalBias,H.shadowRadius=k.radius,H.shadowMapSize=k.mapSize,r.spotShadow[b]=H,r.spotShadowMap[b]=$,w++}b++}else if(I.isRectAreaLight){const U=e.get(I);U.color.copy(D).multiplyScalar(F),U.halfWidth.set(I.width*.5,0,0),U.halfHeight.set(0,I.height*.5,0),r.rectArea[y]=U,y++}else if(I.isPointLight){const U=e.get(I);if(U.color.copy(I.color).multiplyScalar(I.intensity),U.distance=I.distance,U.decay=I.decay,I.castShadow){const k=I.shadow,H=i.get(I);H.shadowIntensity=k.intensity,H.shadowBias=k.bias,H.shadowNormalBias=k.normalBias,H.shadowRadius=k.radius,H.shadowMapSize=k.mapSize,H.shadowCameraNear=k.camera.near,H.shadowCameraFar=k.camera.far,r.pointShadow[g]=H,r.pointShadowMap[g]=$,r.pointShadowMatrix[g]=I.shadow.matrix,S++}r.point[g]=U,g++}else if(I.isHemisphereLight){const U=e.get(I);U.skyColor.copy(I.color).multiplyScalar(F),U.groundColor.copy(I.groundColor).multiplyScalar(F),r.hemi[m]=U,m++}}y>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=wt.LTC_FLOAT_1,r.rectAreaLTC2=wt.LTC_FLOAT_2):(r.rectAreaLTC1=wt.LTC_HALF_1,r.rectAreaLTC2=wt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=h;const R=r.hash;(R.directionalLength!==p||R.pointLength!==g||R.spotLength!==b||R.rectAreaLength!==y||R.hemiLength!==m||R.numDirectionalShadows!==_||R.numPointShadows!==S||R.numSpotShadows!==w||R.numSpotMaps!==A||R.numLightProbes!==C)&&(r.directional.length=p,r.spot.length=b,r.rectArea.length=y,r.point.length=g,r.hemi.length=m,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=w,r.spotShadowMap.length=w,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=w+A-T,r.spotLightMap.length=A,r.numSpotLightShadowsWithMaps=T,r.numLightProbes=C,R.directionalLength=p,R.pointLength=g,R.spotLength=b,R.rectAreaLength=y,R.hemiLength=m,R.numDirectionalShadows=_,R.numPointShadows=S,R.numSpotShadows=w,R.numSpotMaps=A,R.numLightProbes=C,r.version=UFe++)}function u(c,d){let f=0,h=0,p=0,g=0,b=0;const y=d.matrixWorldInverse;for(let m=0,_=c.length;m<_;m++){const S=c[m];if(S.isDirectionalLight){const w=r.directional[f];w.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(o),w.direction.transformDirection(y),f++}else if(S.isSpotLight){const w=r.spot[p];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(y),w.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(o),w.direction.transformDirection(y),p++}else if(S.isRectAreaLight){const w=r.rectArea[g];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(y),a.identity(),s.copy(S.matrixWorld),s.premultiply(y),a.extractRotation(s),w.halfWidth.set(S.width*.5,0,0),w.halfHeight.set(0,S.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),g++}else if(S.isPointLight){const w=r.point[h];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(y),h++}else if(S.isHemisphereLight){const w=r.hemi[b];w.direction.setFromMatrixPosition(S.matrixWorld),w.direction.transformDirection(y),b++}}}return{setup:l,setupView:u,state:r}}function Qz(n){const e=new zFe(n),i=[],r=[];function o(d){c.camera=d,i.length=0,r.length=0}function s(d){i.push(d)}function a(d){r.push(d)}function l(){e.setup(i)}function u(d){e.setupView(i,d)}const c={lightsArray:i,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:o,state:c,setupLights:l,setupLightsView:u,pushLight:s,pushShadow:a}}function HFe(n){let e=new WeakMap;function i(o,s=0){const a=e.get(o);let l;return a===void 0?(l=new Qz(n),e.set(o,[l])):s>=a.length?(l=new Qz(n),a.push(l)):l=a[s],l}function r(){e=new WeakMap}return{get:i,dispose:r}}const GFe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,VFe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WFe(n,e,i){let r=new hC;const o=new Tt,s=new Tt,a=new fn,l=new rDe({depthPacking:WNe}),u=new oDe,c={},d=i.maxTextureSize,f={[il]:Di,[Di]:il,[Oo]:Oo},h=new Wl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Tt},radius:{value:4}},vertexShader:GFe,fragmentShader:VFe}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const g=new Tc;g.setAttribute("position",new po(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Vr(g,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vO;let m=this.type;this.render=function(T,C,R){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||T.length===0)return;const E=n.getRenderTarget(),P=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),D=n.state;D.setBlending(ls),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const F=m!==Ns&&this.type===Ns,L=m===Ns&&this.type!==Ns;for(let $=0,U=T.length;$<U;$++){const k=T[$],H=k.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;o.copy(H.mapSize);const z=H.getFrameExtents();if(o.multiply(z),s.copy(H.mapSize),(o.x>d||o.y>d)&&(o.x>d&&(s.x=Math.floor(d/z.x),o.x=s.x*z.x,H.mapSize.x=s.x),o.y>d&&(s.y=Math.floor(d/z.y),o.y=s.y*z.y,H.mapSize.y=s.y)),H.map===null||F===!0||L===!0){const Z=this.type!==Ns?{minFilter:Ci,magFilter:Ci}:{};H.map!==null&&H.map.dispose(),H.map=new Hd(o.x,o.y,Z),H.map.texture.name=k.name+".shadowMap",H.camera.updateProjectionMatrix()}n.setRenderTarget(H.map),n.clear();const Q=H.getViewportCount();for(let Z=0;Z<Q;Z++){const ie=H.getViewport(Z);a.set(s.x*ie.x,s.y*ie.y,s.x*ie.z,s.y*ie.w),D.viewport(a),H.updateMatrices(k,Z),r=H.getFrustum(),w(C,R,H.camera,k,this.type)}H.isPointLightShadow!==!0&&this.type===Ns&&_(H,R),H.needsUpdate=!1}m=this.type,y.needsUpdate=!1,n.setRenderTarget(E,P,I)};function _(T,C){const R=e.update(b);h.defines.VSM_SAMPLES!==T.blurSamples&&(h.defines.VSM_SAMPLES=T.blurSamples,p.defines.VSM_SAMPLES=T.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Hd(o.x,o.y)),h.uniforms.shadow_pass.value=T.map.texture,h.uniforms.resolution.value=T.mapSize,h.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(C,null,R,h,b,null),p.uniforms.shadow_pass.value=T.mapPass.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(C,null,R,p,b,null)}function S(T,C,R,E){let P=null;const I=R.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(I!==void 0)P=I;else if(P=R.isPointLight===!0?u:l,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const D=P.uuid,F=C.uuid;let L=c[D];L===void 0&&(L={},c[D]=L);let $=L[F];$===void 0&&($=P.clone(),L[F]=$,C.addEventListener("dispose",A)),P=$}if(P.visible=C.visible,P.wireframe=C.wireframe,E===Ns?P.side=C.shadowSide!==null?C.shadowSide:C.side:P.side=C.shadowSide!==null?C.shadowSide:f[C.side],P.alphaMap=C.alphaMap,P.alphaTest=C.alphaTest,P.map=C.map,P.clipShadows=C.clipShadows,P.clippingPlanes=C.clippingPlanes,P.clipIntersection=C.clipIntersection,P.displacementMap=C.displacementMap,P.displacementScale=C.displacementScale,P.displacementBias=C.displacementBias,P.wireframeLinewidth=C.wireframeLinewidth,P.linewidth=C.linewidth,R.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const D=n.properties.get(P);D.light=R}return P}function w(T,C,R,E,P){if(T.visible===!1)return;if(T.layers.test(C.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&P===Ns)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,T.matrixWorld);const F=e.update(T),L=T.material;if(Array.isArray(L)){const $=F.groups;for(let U=0,k=$.length;U<k;U++){const H=$[U],z=L[H.materialIndex];if(z&&z.visible){const Q=S(T,z,E,P);T.onBeforeShadow(n,T,C,R,F,Q,H),n.renderBufferDirect(R,null,F,Q,T,H),T.onAfterShadow(n,T,C,R,F,Q,H)}}}else if(L.visible){const $=S(T,L,E,P);T.onBeforeShadow(n,T,C,R,F,$,null),n.renderBufferDirect(R,null,F,$,T,null),T.onAfterShadow(n,T,C,R,F,$,null)}}const D=T.children;for(let F=0,L=D.length;F<L;F++)w(D[F],C,R,E,P)}function A(T){T.target.removeEventListener("dispose",A);for(const R in c){const E=c[R],P=T.target.uuid;P in E&&(E[P].dispose(),delete E[P])}}}const jFe={[f0]:h0,[p0]:v0,[g0]:y0,[$d]:m0,[h0]:f0,[v0]:p0,[y0]:g0,[m0]:$d};function KFe(n,e){function i(){let Ae=!1;const it=new fn;let $e=null;const We=new fn(0,0,0,0);return{setMask:function(gt){$e!==gt&&!Ae&&(n.colorMask(gt,gt,gt,gt),$e=gt)},setLocked:function(gt){Ae=gt},setClear:function(gt,yt,Dt,Xt,Un){Un===!0&&(gt*=Xt,yt*=Xt,Dt*=Xt),it.set(gt,yt,Dt,Xt),We.equals(it)===!1&&(n.clearColor(gt,yt,Dt,Xt),We.copy(it))},reset:function(){Ae=!1,$e=null,We.set(-1,0,0,0)}}}function r(){let Ae=!1,it=!1,$e=null,We=null,gt=null;return{setReversed:function(yt){if(it!==yt){const Dt=e.get("EXT_clip_control");it?Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.ZERO_TO_ONE_EXT):Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.NEGATIVE_ONE_TO_ONE_EXT);const Xt=gt;gt=null,this.setClear(Xt)}it=yt},getReversed:function(){return it},setTest:function(yt){yt?ne(n.DEPTH_TEST):ue(n.DEPTH_TEST)},setMask:function(yt){$e!==yt&&!Ae&&(n.depthMask(yt),$e=yt)},setFunc:function(yt){if(it&&(yt=jFe[yt]),We!==yt){switch(yt){case f0:n.depthFunc(n.NEVER);break;case h0:n.depthFunc(n.ALWAYS);break;case p0:n.depthFunc(n.LESS);break;case $d:n.depthFunc(n.LEQUAL);break;case g0:n.depthFunc(n.EQUAL);break;case m0:n.depthFunc(n.GEQUAL);break;case v0:n.depthFunc(n.GREATER);break;case y0:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}We=yt}},setLocked:function(yt){Ae=yt},setClear:function(yt){gt!==yt&&(it&&(yt=1-yt),n.clearDepth(yt),gt=yt)},reset:function(){Ae=!1,$e=null,We=null,gt=null,it=!1}}}function o(){let Ae=!1,it=null,$e=null,We=null,gt=null,yt=null,Dt=null,Xt=null,Un=null;return{setTest:function(nn){Ae||(nn?ne(n.STENCIL_TEST):ue(n.STENCIL_TEST))},setMask:function(nn){it!==nn&&!Ae&&(n.stencilMask(nn),it=nn)},setFunc:function(nn,Ti,Xi){($e!==nn||We!==Ti||gt!==Xi)&&(n.stencilFunc(nn,Ti,Xi),$e=nn,We=Ti,gt=Xi)},setOp:function(nn,Ti,Xi){(yt!==nn||Dt!==Ti||Xt!==Xi)&&(n.stencilOp(nn,Ti,Xi),yt=nn,Dt=Ti,Xt=Xi)},setLocked:function(nn){Ae=nn},setClear:function(nn){Un!==nn&&(n.clearStencil(nn),Un=nn)},reset:function(){Ae=!1,it=null,$e=null,We=null,gt=null,yt=null,Dt=null,Xt=null,Un=null}}}const s=new i,a=new r,l=new o,u=new WeakMap,c=new WeakMap;let d={},f={},h=new WeakMap,p=[],g=null,b=!1,y=null,m=null,_=null,S=null,w=null,A=null,T=null,C=new Ft(0,0,0),R=0,E=!1,P=null,I=null,D=null,F=null,L=null;const $=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,k=0;const H=n.getParameter(n.VERSION);H.indexOf("WebGL")!==-1?(k=parseFloat(/^WebGL (\d)/.exec(H)[1]),U=k>=1):H.indexOf("OpenGL ES")!==-1&&(k=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),U=k>=2);let z=null,Q={};const Z=n.getParameter(n.SCISSOR_BOX),ie=n.getParameter(n.VIEWPORT),xe=new fn().fromArray(Z),J=new fn().fromArray(ie);function se(Ae,it,$e,We){const gt=new Uint8Array(4),yt=n.createTexture();n.bindTexture(Ae,yt),n.texParameteri(Ae,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ae,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Dt=0;Dt<$e;Dt++)Ae===n.TEXTURE_3D||Ae===n.TEXTURE_2D_ARRAY?n.texImage3D(it,0,n.RGBA,1,1,We,0,n.RGBA,n.UNSIGNED_BYTE,gt):n.texImage2D(it+Dt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,gt);return yt}const ee={};ee[n.TEXTURE_2D]=se(n.TEXTURE_2D,n.TEXTURE_2D,1),ee[n.TEXTURE_CUBE_MAP]=se(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ee[n.TEXTURE_2D_ARRAY]=se(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ee[n.TEXTURE_3D]=se(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),l.setClear(0),ne(n.DEPTH_TEST),a.setFunc($d),pe(!1),_e(uP),ne(n.CULL_FACE),V(ls);function ne(Ae){d[Ae]!==!0&&(n.enable(Ae),d[Ae]=!0)}function ue(Ae){d[Ae]!==!1&&(n.disable(Ae),d[Ae]=!1)}function Y(Ae,it){return f[Ae]!==it?(n.bindFramebuffer(Ae,it),f[Ae]=it,Ae===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=it),Ae===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=it),!0):!1}function le(Ae,it){let $e=p,We=!1;if(Ae){$e=h.get(it),$e===void 0&&($e=[],h.set(it,$e));const gt=Ae.textures;if($e.length!==gt.length||$e[0]!==n.COLOR_ATTACHMENT0){for(let yt=0,Dt=gt.length;yt<Dt;yt++)$e[yt]=n.COLOR_ATTACHMENT0+yt;$e.length=gt.length,We=!0}}else $e[0]!==n.BACK&&($e[0]=n.BACK,We=!0);We&&n.drawBuffers($e)}function fe(Ae){return g!==Ae?(n.useProgram(Ae),g=Ae,!0):!1}const W={[Bs]:n.FUNC_ADD,[bO]:n.FUNC_SUBTRACT,[xO]:n.FUNC_REVERSE_SUBTRACT};W[Wj]=n.MIN,W[jj]=n.MAX;const X={[_O]:n.ZERO,[SO]:n.ONE,[wO]:n.SRC_COLOR,[c0]:n.SRC_ALPHA,[RO]:n.SRC_ALPHA_SATURATE,[EO]:n.DST_COLOR,[AO]:n.DST_ALPHA,[CO]:n.ONE_MINUS_SRC_COLOR,[d0]:n.ONE_MINUS_SRC_ALPHA,[MO]:n.ONE_MINUS_DST_COLOR,[TO]:n.ONE_MINUS_DST_ALPHA,[$Ne]:n.CONSTANT_COLOR,[UNe]:n.ONE_MINUS_CONSTANT_COLOR,[kNe]:n.CONSTANT_ALPHA,[zNe]:n.ONE_MINUS_CONSTANT_ALPHA};function V(Ae,it,$e,We,gt,yt,Dt,Xt,Un,nn){if(Ae===ls){b===!0&&(ue(n.BLEND),b=!1);return}if(b===!1&&(ne(n.BLEND),b=!0),Ae!==yO){if(Ae!==y||nn!==E){if((m!==Bs||w!==Bs)&&(n.blendEquation(n.FUNC_ADD),m=Bs,w=Bs),nn)switch(Ae){case ga:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case tm:n.blendFunc(n.ONE,n.ONE);break;case nm:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case im:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}else switch(Ae){case ga:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case tm:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case nm:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case im:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}_=null,S=null,A=null,T=null,C.set(0,0,0),R=0,y=Ae,E=nn}return}gt=gt||it,yt=yt||$e,Dt=Dt||We,(it!==m||gt!==w)&&(n.blendEquationSeparate(W[it],W[gt]),m=it,w=gt),($e!==_||We!==S||yt!==A||Dt!==T)&&(n.blendFuncSeparate(X[$e],X[We],X[yt],X[Dt]),_=$e,S=We,A=yt,T=Dt),(Xt.equals(C)===!1||Un!==R)&&(n.blendColor(Xt.r,Xt.g,Xt.b,Un),C.copy(Xt),R=Un),y=Ae,E=!1}function Se(Ae,it){Ae.side===Oo?ue(n.CULL_FACE):ne(n.CULL_FACE);let $e=Ae.side===Di;it&&($e=!$e),pe($e),Ae.blending===ga&&Ae.transparent===!1?V(ls):V(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.blendColor,Ae.blendAlpha,Ae.premultipliedAlpha),a.setFunc(Ae.depthFunc),a.setTest(Ae.depthTest),a.setMask(Ae.depthWrite),s.setMask(Ae.colorWrite);const We=Ae.stencilWrite;l.setTest(We),We&&(l.setMask(Ae.stencilWriteMask),l.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),l.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),ge(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),Ae.alphaToCoverage===!0?ne(n.SAMPLE_ALPHA_TO_COVERAGE):ue(n.SAMPLE_ALPHA_TO_COVERAGE)}function pe(Ae){P!==Ae&&(Ae?n.frontFace(n.CW):n.frontFace(n.CCW),P=Ae)}function _e(Ae){Ae!==Gj?(ne(n.CULL_FACE),Ae!==I&&(Ae===uP?n.cullFace(n.BACK):Ae===Vj?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ue(n.CULL_FACE),I=Ae}function he(Ae){Ae!==D&&(U&&n.lineWidth(Ae),D=Ae)}function ge(Ae,it,$e){Ae?(ne(n.POLYGON_OFFSET_FILL),(F!==it||L!==$e)&&(n.polygonOffset(it,$e),F=it,L=$e)):ue(n.POLYGON_OFFSET_FILL)}function me(Ae){Ae?ne(n.SCISSOR_TEST):ue(n.SCISSOR_TEST)}function j(Ae){Ae===void 0&&(Ae=n.TEXTURE0+$-1),z!==Ae&&(n.activeTexture(Ae),z=Ae)}function G(Ae,it,$e){$e===void 0&&(z===null?$e=n.TEXTURE0+$-1:$e=z);let We=Q[$e];We===void 0&&(We={type:void 0,texture:void 0},Q[$e]=We),(We.type!==Ae||We.texture!==it)&&(z!==$e&&(n.activeTexture($e),z=$e),n.bindTexture(Ae,it||ee[Ae]),We.type=Ae,We.texture=it)}function ce(){const Ae=Q[z];Ae!==void 0&&Ae.type!==void 0&&(n.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)}function Ee(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function de(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function re(){try{n.texSubImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ce(){try{n.texSubImage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Me(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ve(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function dt(){try{n.texStorage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function we(){try{n.texStorage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ie(){try{n.texImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ue(){try{n.texImage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ye(Ae){xe.equals(Ae)===!1&&(n.scissor(Ae.x,Ae.y,Ae.z,Ae.w),xe.copy(Ae))}function Ke(Ae){J.equals(Ae)===!1&&(n.viewport(Ae.x,Ae.y,Ae.z,Ae.w),J.copy(Ae))}function ut(Ae,it){let $e=c.get(it);$e===void 0&&($e=new WeakMap,c.set(it,$e));let We=$e.get(Ae);We===void 0&&(We=n.getUniformBlockIndex(it,Ae.name),$e.set(Ae,We))}function ot(Ae,it){const We=c.get(it).get(Ae);u.get(it)!==We&&(n.uniformBlockBinding(it,We,Ae.__bindingPointIndex),u.set(it,We))}function Et(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},z=null,Q={},f={},h=new WeakMap,p=[],g=null,b=!1,y=null,m=null,_=null,S=null,w=null,A=null,T=null,C=new Ft(0,0,0),R=0,E=!1,P=null,I=null,D=null,F=null,L=null,xe.set(0,0,n.canvas.width,n.canvas.height),J.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),l.reset()}return{buffers:{color:s,depth:a,stencil:l},enable:ne,disable:ue,bindFramebuffer:Y,drawBuffers:le,useProgram:fe,setBlending:V,setMaterial:Se,setFlipSided:pe,setCullFace:_e,setLineWidth:he,setPolygonOffset:ge,setScissorTest:me,activeTexture:j,bindTexture:G,unbindTexture:ce,compressedTexImage2D:Ee,compressedTexImage3D:de,texImage2D:Ie,texImage3D:Ue,updateUBOMapping:ut,uniformBlockBinding:ot,texStorage2D:dt,texStorage3D:we,texSubImage2D:re,texSubImage3D:Ce,compressedTexSubImage2D:Me,compressedTexSubImage3D:Ve,scissor:Ye,viewport:Ke,reset:Et}}function qFe(n,e,i,r,o,s,a){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Tt,d=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(j,G){return p?new OffscreenCanvas(j,G):E0("canvas")}function b(j,G,ce){let Ee=1;const de=me(j);if((de.width>ce||de.height>ce)&&(Ee=ce/Math.max(de.width,de.height)),Ee<1)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap||typeof VideoFrame<"u"&&j instanceof VideoFrame){const re=Math.floor(Ee*de.width),Ce=Math.floor(Ee*de.height);f===void 0&&(f=g(re,Ce));const Me=G?g(re,Ce):f;return Me.width=re,Me.height=Ce,Me.getContext("2d").drawImage(j,0,0,re,Ce),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+de.width+"x"+de.height+") to ("+re+"x"+Ce+")."),Me}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+de.width+"x"+de.height+")."),j;return j}function y(j){return j.generateMipmaps}function m(j){n.generateMipmap(j)}function _(j){return j.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:j.isWebGL3DRenderTarget?n.TEXTURE_3D:j.isWebGLArrayRenderTarget||j.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function S(j,G,ce,Ee,de=!1){if(j!==null){if(n[j]!==void 0)return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let re=G;if(G===n.RED&&(ce===n.FLOAT&&(re=n.R32F),ce===n.HALF_FLOAT&&(re=n.R16F),ce===n.UNSIGNED_BYTE&&(re=n.R8)),G===n.RED_INTEGER&&(ce===n.UNSIGNED_BYTE&&(re=n.R8UI),ce===n.UNSIGNED_SHORT&&(re=n.R16UI),ce===n.UNSIGNED_INT&&(re=n.R32UI),ce===n.BYTE&&(re=n.R8I),ce===n.SHORT&&(re=n.R16I),ce===n.INT&&(re=n.R32I)),G===n.RG&&(ce===n.FLOAT&&(re=n.RG32F),ce===n.HALF_FLOAT&&(re=n.RG16F),ce===n.UNSIGNED_BYTE&&(re=n.RG8)),G===n.RG_INTEGER&&(ce===n.UNSIGNED_BYTE&&(re=n.RG8UI),ce===n.UNSIGNED_SHORT&&(re=n.RG16UI),ce===n.UNSIGNED_INT&&(re=n.RG32UI),ce===n.BYTE&&(re=n.RG8I),ce===n.SHORT&&(re=n.RG16I),ce===n.INT&&(re=n.RG32I)),G===n.RGB_INTEGER&&(ce===n.UNSIGNED_BYTE&&(re=n.RGB8UI),ce===n.UNSIGNED_SHORT&&(re=n.RGB16UI),ce===n.UNSIGNED_INT&&(re=n.RGB32UI),ce===n.BYTE&&(re=n.RGB8I),ce===n.SHORT&&(re=n.RGB16I),ce===n.INT&&(re=n.RGB32I)),G===n.RGBA_INTEGER&&(ce===n.UNSIGNED_BYTE&&(re=n.RGBA8UI),ce===n.UNSIGNED_SHORT&&(re=n.RGBA16UI),ce===n.UNSIGNED_INT&&(re=n.RGBA32UI),ce===n.BYTE&&(re=n.RGBA8I),ce===n.SHORT&&(re=n.RGBA16I),ce===n.INT&&(re=n.RGBA32I)),G===n.RGB&&ce===n.UNSIGNED_INT_5_9_9_9_REV&&(re=n.RGB9_E5),G===n.RGBA){const Ce=de?kw:wn.getTransfer(Ee);ce===n.FLOAT&&(re=n.RGBA32F),ce===n.HALF_FLOAT&&(re=n.RGBA16F),ce===n.UNSIGNED_BYTE&&(re=Ce===Qn?n.SRGB8_ALPHA8:n.RGBA8),ce===n.UNSIGNED_SHORT_4_4_4_4&&(re=n.RGBA4),ce===n.UNSIGNED_SHORT_5_5_5_1&&(re=n.RGB5_A1)}return(re===n.R16F||re===n.R32F||re===n.RG16F||re===n.RG32F||re===n.RGBA16F||re===n.RGBA32F)&&e.get("EXT_color_buffer_float"),re}function w(j,G){let ce;return j?G===null||G===zi||G===Gl?ce=n.DEPTH24_STENCIL8:G===nr?ce=n.DEPTH32F_STENCIL8:G===Ya&&(ce=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):G===null||G===zi||G===Gl?ce=n.DEPTH_COMPONENT24:G===nr?ce=n.DEPTH_COMPONENT32F:G===Ya&&(ce=n.DEPTH_COMPONENT16),ce}function A(j,G){return y(j)===!0||j.isFramebufferTexture&&j.minFilter!==Ci&&j.minFilter!==Sr?Math.log2(Math.max(G.width,G.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?G.mipmaps.length:1}function T(j){const G=j.target;G.removeEventListener("dispose",T),R(G),G.isVideoTexture&&d.delete(G)}function C(j){const G=j.target;G.removeEventListener("dispose",C),P(G)}function R(j){const G=r.get(j);if(G.__webglInit===void 0)return;const ce=j.source,Ee=h.get(ce);if(Ee){const de=Ee[G.__cacheKey];de.usedTimes--,de.usedTimes===0&&E(j),Object.keys(Ee).length===0&&h.delete(ce)}r.remove(j)}function E(j){const G=r.get(j);n.deleteTexture(G.__webglTexture);const ce=j.source,Ee=h.get(ce);delete Ee[G.__cacheKey],a.memory.textures--}function P(j){const G=r.get(j);if(j.depthTexture&&(j.depthTexture.dispose(),r.remove(j.depthTexture)),j.isWebGLCubeRenderTarget)for(let Ee=0;Ee<6;Ee++){if(Array.isArray(G.__webglFramebuffer[Ee]))for(let de=0;de<G.__webglFramebuffer[Ee].length;de++)n.deleteFramebuffer(G.__webglFramebuffer[Ee][de]);else n.deleteFramebuffer(G.__webglFramebuffer[Ee]);G.__webglDepthbuffer&&n.deleteRenderbuffer(G.__webglDepthbuffer[Ee])}else{if(Array.isArray(G.__webglFramebuffer))for(let Ee=0;Ee<G.__webglFramebuffer.length;Ee++)n.deleteFramebuffer(G.__webglFramebuffer[Ee]);else n.deleteFramebuffer(G.__webglFramebuffer);if(G.__webglDepthbuffer&&n.deleteRenderbuffer(G.__webglDepthbuffer),G.__webglMultisampledFramebuffer&&n.deleteFramebuffer(G.__webglMultisampledFramebuffer),G.__webglColorRenderbuffer)for(let Ee=0;Ee<G.__webglColorRenderbuffer.length;Ee++)G.__webglColorRenderbuffer[Ee]&&n.deleteRenderbuffer(G.__webglColorRenderbuffer[Ee]);G.__webglDepthRenderbuffer&&n.deleteRenderbuffer(G.__webglDepthRenderbuffer)}const ce=j.textures;for(let Ee=0,de=ce.length;Ee<de;Ee++){const re=r.get(ce[Ee]);re.__webglTexture&&(n.deleteTexture(re.__webglTexture),a.memory.textures--),r.remove(ce[Ee])}r.remove(j)}let I=0;function D(){I=0}function F(){const j=I;return j>=o.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+o.maxTextures),I+=1,j}function L(j){const G=[];return G.push(j.wrapS),G.push(j.wrapT),G.push(j.wrapR||0),G.push(j.magFilter),G.push(j.minFilter),G.push(j.anisotropy),G.push(j.internalFormat),G.push(j.format),G.push(j.type),G.push(j.generateMipmaps),G.push(j.premultiplyAlpha),G.push(j.flipY),G.push(j.unpackAlignment),G.push(j.colorSpace),G.join()}function $(j,G){const ce=r.get(j);if(j.isVideoTexture&&he(j),j.isRenderTargetTexture===!1&&j.version>0&&ce.__version!==j.version){const Ee=j.image;if(Ee===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(ce,j,G);return}}i.bindTexture(n.TEXTURE_2D,ce.__webglTexture,n.TEXTURE0+G)}function U(j,G){const ce=r.get(j);if(j.version>0&&ce.__version!==j.version){J(ce,j,G);return}i.bindTexture(n.TEXTURE_2D_ARRAY,ce.__webglTexture,n.TEXTURE0+G)}function k(j,G){const ce=r.get(j);if(j.version>0&&ce.__version!==j.version){J(ce,j,G);return}i.bindTexture(n.TEXTURE_3D,ce.__webglTexture,n.TEXTURE0+G)}function H(j,G){const ce=r.get(j);if(j.version>0&&ce.__version!==j.version){se(ce,j,G);return}i.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+G)}const z={[Mh]:n.REPEAT,[Ml]:n.CLAMP_TO_EDGE,[Rh]:n.MIRRORED_REPEAT},Q={[Ci]:n.NEAREST,[Uw]:n.NEAREST_MIPMAP_NEAREST,[Rl]:n.NEAREST_MIPMAP_LINEAR,[Sr]:n.LINEAR,[Ng]:n.LINEAR_MIPMAP_NEAREST,[is]:n.LINEAR_MIPMAP_LINEAR},Z={[LO]:n.NEVER,[kO]:n.ALWAYS,[cC]:n.LESS,[dC]:n.LEQUAL,[BO]:n.EQUAL,[UO]:n.GEQUAL,[FO]:n.GREATER,[$O]:n.NOTEQUAL};function ie(j,G){if(G.type===nr&&e.has("OES_texture_float_linear")===!1&&(G.magFilter===Sr||G.magFilter===Ng||G.magFilter===Rl||G.magFilter===is||G.minFilter===Sr||G.minFilter===Ng||G.minFilter===Rl||G.minFilter===is)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(j,n.TEXTURE_WRAP_S,z[G.wrapS]),n.texParameteri(j,n.TEXTURE_WRAP_T,z[G.wrapT]),(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)&&n.texParameteri(j,n.TEXTURE_WRAP_R,z[G.wrapR]),n.texParameteri(j,n.TEXTURE_MAG_FILTER,Q[G.magFilter]),n.texParameteri(j,n.TEXTURE_MIN_FILTER,Q[G.minFilter]),G.compareFunction&&(n.texParameteri(j,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(j,n.TEXTURE_COMPARE_FUNC,Z[G.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(G.magFilter===Ci||G.minFilter!==Rl&&G.minFilter!==is||G.type===nr&&e.has("OES_texture_float_linear")===!1)return;if(G.anisotropy>1||r.get(G).__currentAnisotropy){const ce=e.get("EXT_texture_filter_anisotropic");n.texParameterf(j,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,o.getMaxAnisotropy())),r.get(G).__currentAnisotropy=G.anisotropy}}}function xe(j,G){let ce=!1;j.__webglInit===void 0&&(j.__webglInit=!0,G.addEventListener("dispose",T));const Ee=G.source;let de=h.get(Ee);de===void 0&&(de={},h.set(Ee,de));const re=L(G);if(re!==j.__cacheKey){de[re]===void 0&&(de[re]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,ce=!0),de[re].usedTimes++;const Ce=de[j.__cacheKey];Ce!==void 0&&(de[j.__cacheKey].usedTimes--,Ce.usedTimes===0&&E(G)),j.__cacheKey=re,j.__webglTexture=de[re].texture}return ce}function J(j,G,ce){let Ee=n.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Ee=n.TEXTURE_2D_ARRAY),G.isData3DTexture&&(Ee=n.TEXTURE_3D);const de=xe(j,G),re=G.source;i.bindTexture(Ee,j.__webglTexture,n.TEXTURE0+ce);const Ce=r.get(re);if(re.version!==Ce.__version||de===!0){i.activeTexture(n.TEXTURE0+ce);const Me=wn.getPrimaries(wn.workingColorSpace),Ve=G.colorSpace===Fs?null:wn.getPrimaries(G.colorSpace),dt=G.colorSpace===Fs||Me===Ve?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,G.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,G.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);let we=b(G.image,!1,o.maxTextureSize);we=ge(G,we);const Ie=s.convert(G.format,G.colorSpace),Ue=s.convert(G.type);let Ye=S(G.internalFormat,Ie,Ue,G.colorSpace,G.isVideoTexture);ie(Ee,G);let Ke;const ut=G.mipmaps,ot=G.isVideoTexture!==!0,Et=Ce.__version===void 0||de===!0,Ae=re.dataReady,it=A(G,we);if(G.isDepthTexture)Ye=w(G.format===Vl,G.type),Et&&(ot?i.texStorage2D(n.TEXTURE_2D,1,Ye,we.width,we.height):i.texImage2D(n.TEXTURE_2D,0,Ye,we.width,we.height,0,Ie,Ue,null));else if(G.isDataTexture)if(ut.length>0){ot&&Et&&i.texStorage2D(n.TEXTURE_2D,it,Ye,ut[0].width,ut[0].height);for(let $e=0,We=ut.length;$e<We;$e++)Ke=ut[$e],ot?Ae&&i.texSubImage2D(n.TEXTURE_2D,$e,0,0,Ke.width,Ke.height,Ie,Ue,Ke.data):i.texImage2D(n.TEXTURE_2D,$e,Ye,Ke.width,Ke.height,0,Ie,Ue,Ke.data);G.generateMipmaps=!1}else ot?(Et&&i.texStorage2D(n.TEXTURE_2D,it,Ye,we.width,we.height),Ae&&i.texSubImage2D(n.TEXTURE_2D,0,0,0,we.width,we.height,Ie,Ue,we.data)):i.texImage2D(n.TEXTURE_2D,0,Ye,we.width,we.height,0,Ie,Ue,we.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){ot&&Et&&i.texStorage3D(n.TEXTURE_2D_ARRAY,it,Ye,ut[0].width,ut[0].height,we.depth);for(let $e=0,We=ut.length;$e<We;$e++)if(Ke=ut[$e],G.format!==Gr)if(Ie!==null)if(ot){if(Ae)if(G.layerUpdates.size>0){const gt=Ez(Ke.width,Ke.height,G.format,G.type);for(const yt of G.layerUpdates){const Dt=Ke.data.subarray(yt*gt/Ke.data.BYTES_PER_ELEMENT,(yt+1)*gt/Ke.data.BYTES_PER_ELEMENT);i.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,yt,Ke.width,Ke.height,1,Ie,Dt)}G.clearLayerUpdates()}else i.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,0,Ke.width,Ke.height,we.depth,Ie,Ke.data)}else i.compressedTexImage3D(n.TEXTURE_2D_ARRAY,$e,Ye,Ke.width,Ke.height,we.depth,0,Ke.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ot?Ae&&i.texSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,0,Ke.width,Ke.height,we.depth,Ie,Ue,Ke.data):i.texImage3D(n.TEXTURE_2D_ARRAY,$e,Ye,Ke.width,Ke.height,we.depth,0,Ie,Ue,Ke.data)}else{ot&&Et&&i.texStorage2D(n.TEXTURE_2D,it,Ye,ut[0].width,ut[0].height);for(let $e=0,We=ut.length;$e<We;$e++)Ke=ut[$e],G.format!==Gr?Ie!==null?ot?Ae&&i.compressedTexSubImage2D(n.TEXTURE_2D,$e,0,0,Ke.width,Ke.height,Ie,Ke.data):i.compressedTexImage2D(n.TEXTURE_2D,$e,Ye,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ot?Ae&&i.texSubImage2D(n.TEXTURE_2D,$e,0,0,Ke.width,Ke.height,Ie,Ue,Ke.data):i.texImage2D(n.TEXTURE_2D,$e,Ye,Ke.width,Ke.height,0,Ie,Ue,Ke.data)}else if(G.isDataArrayTexture)if(ot){if(Et&&i.texStorage3D(n.TEXTURE_2D_ARRAY,it,Ye,we.width,we.height,we.depth),Ae)if(G.layerUpdates.size>0){const $e=Ez(we.width,we.height,G.format,G.type);for(const We of G.layerUpdates){const gt=we.data.subarray(We*$e/we.data.BYTES_PER_ELEMENT,(We+1)*$e/we.data.BYTES_PER_ELEMENT);i.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,We,we.width,we.height,1,Ie,Ue,gt)}G.clearLayerUpdates()}else i.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,we.width,we.height,we.depth,Ie,Ue,we.data)}else i.texImage3D(n.TEXTURE_2D_ARRAY,0,Ye,we.width,we.height,we.depth,0,Ie,Ue,we.data);else if(G.isData3DTexture)ot?(Et&&i.texStorage3D(n.TEXTURE_3D,it,Ye,we.width,we.height,we.depth),Ae&&i.texSubImage3D(n.TEXTURE_3D,0,0,0,0,we.width,we.height,we.depth,Ie,Ue,we.data)):i.texImage3D(n.TEXTURE_3D,0,Ye,we.width,we.height,we.depth,0,Ie,Ue,we.data);else if(G.isFramebufferTexture){if(Et)if(ot)i.texStorage2D(n.TEXTURE_2D,it,Ye,we.width,we.height);else{let $e=we.width,We=we.height;for(let gt=0;gt<it;gt++)i.texImage2D(n.TEXTURE_2D,gt,Ye,$e,We,0,Ie,Ue,null),$e>>=1,We>>=1}}else if(ut.length>0){if(ot&&Et){const $e=me(ut[0]);i.texStorage2D(n.TEXTURE_2D,it,Ye,$e.width,$e.height)}for(let $e=0,We=ut.length;$e<We;$e++)Ke=ut[$e],ot?Ae&&i.texSubImage2D(n.TEXTURE_2D,$e,0,0,Ie,Ue,Ke):i.texImage2D(n.TEXTURE_2D,$e,Ye,Ie,Ue,Ke);G.generateMipmaps=!1}else if(ot){if(Et){const $e=me(we);i.texStorage2D(n.TEXTURE_2D,it,Ye,$e.width,$e.height)}Ae&&i.texSubImage2D(n.TEXTURE_2D,0,0,0,Ie,Ue,we)}else i.texImage2D(n.TEXTURE_2D,0,Ye,Ie,Ue,we);y(G)&&m(Ee),Ce.__version=re.version,G.onUpdate&&G.onUpdate(G)}j.__version=G.version}function se(j,G,ce){if(G.image.length!==6)return;const Ee=xe(j,G),de=G.source;i.bindTexture(n.TEXTURE_CUBE_MAP,j.__webglTexture,n.TEXTURE0+ce);const re=r.get(de);if(de.version!==re.__version||Ee===!0){i.activeTexture(n.TEXTURE0+ce);const Ce=wn.getPrimaries(wn.workingColorSpace),Me=G.colorSpace===Fs?null:wn.getPrimaries(G.colorSpace),Ve=G.colorSpace===Fs||Ce===Me?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,G.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,G.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ve);const dt=G.isCompressedTexture||G.image[0].isCompressedTexture,we=G.image[0]&&G.image[0].isDataTexture,Ie=[];for(let We=0;We<6;We++)!dt&&!we?Ie[We]=b(G.image[We],!0,o.maxCubemapSize):Ie[We]=we?G.image[We].image:G.image[We],Ie[We]=ge(G,Ie[We]);const Ue=Ie[0],Ye=s.convert(G.format,G.colorSpace),Ke=s.convert(G.type),ut=S(G.internalFormat,Ye,Ke,G.colorSpace),ot=G.isVideoTexture!==!0,Et=re.__version===void 0||Ee===!0,Ae=de.dataReady;let it=A(G,Ue);ie(n.TEXTURE_CUBE_MAP,G);let $e;if(dt){ot&&Et&&i.texStorage2D(n.TEXTURE_CUBE_MAP,it,ut,Ue.width,Ue.height);for(let We=0;We<6;We++){$e=Ie[We].mipmaps;for(let gt=0;gt<$e.length;gt++){const yt=$e[gt];G.format!==Gr?Ye!==null?ot?Ae&&i.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,gt,0,0,yt.width,yt.height,Ye,yt.data):i.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,gt,ut,yt.width,yt.height,0,yt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ot?Ae&&i.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,gt,0,0,yt.width,yt.height,Ye,Ke,yt.data):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,gt,ut,yt.width,yt.height,0,Ye,Ke,yt.data)}}}else{if($e=G.mipmaps,ot&&Et){$e.length>0&&it++;const We=me(Ie[0]);i.texStorage2D(n.TEXTURE_CUBE_MAP,it,ut,We.width,We.height)}for(let We=0;We<6;We++)if(we){ot?Ae&&i.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,Ie[We].width,Ie[We].height,Ye,Ke,Ie[We].data):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,ut,Ie[We].width,Ie[We].height,0,Ye,Ke,Ie[We].data);for(let gt=0;gt<$e.length;gt++){const Dt=$e[gt].image[We].image;ot?Ae&&i.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,gt+1,0,0,Dt.width,Dt.height,Ye,Ke,Dt.data):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,gt+1,ut,Dt.width,Dt.height,0,Ye,Ke,Dt.data)}}else{ot?Ae&&i.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,Ye,Ke,Ie[We]):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,ut,Ye,Ke,Ie[We]);for(let gt=0;gt<$e.length;gt++){const yt=$e[gt];ot?Ae&&i.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,gt+1,0,0,Ye,Ke,yt.image[We]):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,gt+1,ut,Ye,Ke,yt.image[We])}}}y(G)&&m(n.TEXTURE_CUBE_MAP),re.__version=de.version,G.onUpdate&&G.onUpdate(G)}j.__version=G.version}function ee(j,G,ce,Ee,de,re){const Ce=s.convert(ce.format,ce.colorSpace),Me=s.convert(ce.type),Ve=S(ce.internalFormat,Ce,Me,ce.colorSpace),dt=r.get(G),we=r.get(ce);if(we.__renderTarget=G,!dt.__hasExternalTextures){const Ie=Math.max(1,G.width>>re),Ue=Math.max(1,G.height>>re);de===n.TEXTURE_3D||de===n.TEXTURE_2D_ARRAY?i.texImage3D(de,re,Ve,Ie,Ue,G.depth,0,Ce,Me,null):i.texImage2D(de,re,Ve,Ie,Ue,0,Ce,Me,null)}i.bindFramebuffer(n.FRAMEBUFFER,j),_e(G)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ee,de,we.__webglTexture,0,pe(G)):(de===n.TEXTURE_2D||de>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&de<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ee,de,we.__webglTexture,re),i.bindFramebuffer(n.FRAMEBUFFER,null)}function ne(j,G,ce){if(n.bindRenderbuffer(n.RENDERBUFFER,j),G.depthBuffer){const Ee=G.depthTexture,de=Ee&&Ee.isDepthTexture?Ee.type:null,re=w(G.stencilBuffer,de),Ce=G.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Me=pe(G);_e(G)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Me,re,G.width,G.height):ce?n.renderbufferStorageMultisample(n.RENDERBUFFER,Me,re,G.width,G.height):n.renderbufferStorage(n.RENDERBUFFER,re,G.width,G.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ce,n.RENDERBUFFER,j)}else{const Ee=G.textures;for(let de=0;de<Ee.length;de++){const re=Ee[de],Ce=s.convert(re.format,re.colorSpace),Me=s.convert(re.type),Ve=S(re.internalFormat,Ce,Me,re.colorSpace),dt=pe(G);ce&&_e(G)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,dt,Ve,G.width,G.height):_e(G)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,dt,Ve,G.width,G.height):n.renderbufferStorage(n.RENDERBUFFER,Ve,G.width,G.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ue(j,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(n.FRAMEBUFFER,j),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ee=r.get(G.depthTexture);Ee.__renderTarget=G,(!Ee.__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),$(G.depthTexture,0);const de=Ee.__webglTexture,re=pe(G);if(G.depthTexture.format===Ll)_e(G)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,de,0,re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,de,0);else if(G.depthTexture.format===Vl)_e(G)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,de,0,re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,de,0);else throw new Error("Unknown depthTexture format")}function Y(j){const G=r.get(j),ce=j.isWebGLCubeRenderTarget===!0;if(G.__boundDepthTexture!==j.depthTexture){const Ee=j.depthTexture;if(G.__depthDisposeCallback&&G.__depthDisposeCallback(),Ee){const de=()=>{delete G.__boundDepthTexture,delete G.__depthDisposeCallback,Ee.removeEventListener("dispose",de)};Ee.addEventListener("dispose",de),G.__depthDisposeCallback=de}G.__boundDepthTexture=Ee}if(j.depthTexture&&!G.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");ue(G.__webglFramebuffer,j)}else if(ce){G.__webglDepthbuffer=[];for(let Ee=0;Ee<6;Ee++)if(i.bindFramebuffer(n.FRAMEBUFFER,G.__webglFramebuffer[Ee]),G.__webglDepthbuffer[Ee]===void 0)G.__webglDepthbuffer[Ee]=n.createRenderbuffer(),ne(G.__webglDepthbuffer[Ee],j,!1);else{const de=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,re=G.__webglDepthbuffer[Ee];n.bindRenderbuffer(n.RENDERBUFFER,re),n.framebufferRenderbuffer(n.FRAMEBUFFER,de,n.RENDERBUFFER,re)}}else if(i.bindFramebuffer(n.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer===void 0)G.__webglDepthbuffer=n.createRenderbuffer(),ne(G.__webglDepthbuffer,j,!1);else{const Ee=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,de=G.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,de),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ee,n.RENDERBUFFER,de)}i.bindFramebuffer(n.FRAMEBUFFER,null)}function le(j,G,ce){const Ee=r.get(j);G!==void 0&&ee(Ee.__webglFramebuffer,j,j.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ce!==void 0&&Y(j)}function fe(j){const G=j.texture,ce=r.get(j),Ee=r.get(G);j.addEventListener("dispose",C);const de=j.textures,re=j.isWebGLCubeRenderTarget===!0,Ce=de.length>1;if(Ce||(Ee.__webglTexture===void 0&&(Ee.__webglTexture=n.createTexture()),Ee.__version=G.version,a.memory.textures++),re){ce.__webglFramebuffer=[];for(let Me=0;Me<6;Me++)if(G.mipmaps&&G.mipmaps.length>0){ce.__webglFramebuffer[Me]=[];for(let Ve=0;Ve<G.mipmaps.length;Ve++)ce.__webglFramebuffer[Me][Ve]=n.createFramebuffer()}else ce.__webglFramebuffer[Me]=n.createFramebuffer()}else{if(G.mipmaps&&G.mipmaps.length>0){ce.__webglFramebuffer=[];for(let Me=0;Me<G.mipmaps.length;Me++)ce.__webglFramebuffer[Me]=n.createFramebuffer()}else ce.__webglFramebuffer=n.createFramebuffer();if(Ce)for(let Me=0,Ve=de.length;Me<Ve;Me++){const dt=r.get(de[Me]);dt.__webglTexture===void 0&&(dt.__webglTexture=n.createTexture(),a.memory.textures++)}if(j.samples>0&&_e(j)===!1){ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=[],i.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let Me=0;Me<de.length;Me++){const Ve=de[Me];ce.__webglColorRenderbuffer[Me]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ce.__webglColorRenderbuffer[Me]);const dt=s.convert(Ve.format,Ve.colorSpace),we=s.convert(Ve.type),Ie=S(Ve.internalFormat,dt,we,Ve.colorSpace,j.isXRRenderTarget===!0),Ue=pe(j);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ue,Ie,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Me,n.RENDERBUFFER,ce.__webglColorRenderbuffer[Me])}n.bindRenderbuffer(n.RENDERBUFFER,null),j.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),ne(ce.__webglDepthRenderbuffer,j,!0)),i.bindFramebuffer(n.FRAMEBUFFER,null)}}if(re){i.bindTexture(n.TEXTURE_CUBE_MAP,Ee.__webglTexture),ie(n.TEXTURE_CUBE_MAP,G);for(let Me=0;Me<6;Me++)if(G.mipmaps&&G.mipmaps.length>0)for(let Ve=0;Ve<G.mipmaps.length;Ve++)ee(ce.__webglFramebuffer[Me][Ve],j,G,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Ve);else ee(ce.__webglFramebuffer[Me],j,G,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0);y(G)&&m(n.TEXTURE_CUBE_MAP),i.unbindTexture()}else if(Ce){for(let Me=0,Ve=de.length;Me<Ve;Me++){const dt=de[Me],we=r.get(dt);i.bindTexture(n.TEXTURE_2D,we.__webglTexture),ie(n.TEXTURE_2D,dt),ee(ce.__webglFramebuffer,j,dt,n.COLOR_ATTACHMENT0+Me,n.TEXTURE_2D,0),y(dt)&&m(n.TEXTURE_2D)}i.unbindTexture()}else{let Me=n.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(Me=j.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),i.bindTexture(Me,Ee.__webglTexture),ie(Me,G),G.mipmaps&&G.mipmaps.length>0)for(let Ve=0;Ve<G.mipmaps.length;Ve++)ee(ce.__webglFramebuffer[Ve],j,G,n.COLOR_ATTACHMENT0,Me,Ve);else ee(ce.__webglFramebuffer,j,G,n.COLOR_ATTACHMENT0,Me,0);y(G)&&m(Me),i.unbindTexture()}j.depthBuffer&&Y(j)}function W(j){const G=j.textures;for(let ce=0,Ee=G.length;ce<Ee;ce++){const de=G[ce];if(y(de)){const re=_(j),Ce=r.get(de).__webglTexture;i.bindTexture(re,Ce),m(re),i.unbindTexture()}}}const X=[],V=[];function Se(j){if(j.samples>0){if(_e(j)===!1){const G=j.textures,ce=j.width,Ee=j.height;let de=n.COLOR_BUFFER_BIT;const re=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ce=r.get(j),Me=G.length>1;if(Me)for(let Ve=0;Ve<G.length;Ve++)i.bindFramebuffer(n.FRAMEBUFFER,Ce.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ve,n.RENDERBUFFER,null),i.bindFramebuffer(n.FRAMEBUFFER,Ce.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ve,n.TEXTURE_2D,null,0);i.bindFramebuffer(n.READ_FRAMEBUFFER,Ce.__webglMultisampledFramebuffer),i.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ce.__webglFramebuffer);for(let Ve=0;Ve<G.length;Ve++){if(j.resolveDepthBuffer&&(j.depthBuffer&&(de|=n.DEPTH_BUFFER_BIT),j.stencilBuffer&&j.resolveStencilBuffer&&(de|=n.STENCIL_BUFFER_BIT)),Me){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ce.__webglColorRenderbuffer[Ve]);const dt=r.get(G[Ve]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,dt,0)}n.blitFramebuffer(0,0,ce,Ee,0,0,ce,Ee,de,n.NEAREST),u===!0&&(X.length=0,V.length=0,X.push(n.COLOR_ATTACHMENT0+Ve),j.depthBuffer&&j.resolveDepthBuffer===!1&&(X.push(re),V.push(re),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,V)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,X))}if(i.bindFramebuffer(n.READ_FRAMEBUFFER,null),i.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Me)for(let Ve=0;Ve<G.length;Ve++){i.bindFramebuffer(n.FRAMEBUFFER,Ce.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ve,n.RENDERBUFFER,Ce.__webglColorRenderbuffer[Ve]);const dt=r.get(G[Ve]).__webglTexture;i.bindFramebuffer(n.FRAMEBUFFER,Ce.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ve,n.TEXTURE_2D,dt,0)}i.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ce.__webglMultisampledFramebuffer)}else if(j.depthBuffer&&j.resolveDepthBuffer===!1&&u){const G=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[G])}}}function pe(j){return Math.min(o.maxSamples,j.samples)}function _e(j){const G=r.get(j);return j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function he(j){const G=a.render.frame;d.get(j)!==G&&(d.set(j,G),j.update())}function ge(j,G){const ce=j.colorSpace,Ee=j.format,de=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||ce!==ma&&ce!==Fs&&(wn.getTransfer(ce)===Qn?(Ee!==Gr||de!==ho)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),G}function me(j){return typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement?(c.width=j.naturalWidth||j.width,c.height=j.naturalHeight||j.height):typeof VideoFrame<"u"&&j instanceof VideoFrame?(c.width=j.displayWidth,c.height=j.displayHeight):(c.width=j.width,c.height=j.height),c}this.allocateTextureUnit=F,this.resetTextureUnits=D,this.setTexture2D=$,this.setTexture2DArray=U,this.setTexture3D=k,this.setTextureCube=H,this.rebindTextures=le,this.setupRenderTarget=fe,this.updateRenderTargetMipmap=W,this.updateMultisampleRenderTarget=Se,this.setupDepthRenderbuffer=Y,this.setupFrameBufferTexture=ee,this.useMultisampledRTT=_e}function XFe(n,e){function i(r,o=Fs){let s;const a=wn.getTransfer(o);if(r===ho)return n.UNSIGNED_BYTE;if(r===aC)return n.UNSIGNED_SHORT_4_4_4_4;if(r===lC)return n.UNSIGNED_SHORT_5_5_5_1;if(r===uC)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===ch)return n.BYTE;if(r===dh)return n.SHORT;if(r===Ya)return n.UNSIGNED_SHORT;if(r===Dr)return n.INT;if(r===zi)return n.UNSIGNED_INT;if(r===nr)return n.FLOAT;if(r===Bo)return n.HALF_FLOAT;if(r===IO)return n.ALPHA;if(r===ib)return n.RGB;if(r===Gr)return n.RGBA;if(r===NO)return n.LUMINANCE;if(r===OO)return n.LUMINANCE_ALPHA;if(r===Ll)return n.DEPTH_COMPONENT;if(r===Vl)return n.DEPTH_STENCIL;if(r===rb)return n.RED;if(r===Nm)return n.RED_INTEGER;if(r===Ph)return n.RG;if(r===Om)return n.RG_INTEGER;if(r===Dm)return n.RGBA_INTEGER;if(r===fh||r===Md||r===Rd||r===Pd)if(a===Qn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===fh)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Md)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Rd)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Pd)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===fh)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Md)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Rd)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Pd)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===b0||r===x0||r===_0||r===S0)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===b0)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===x0)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===_0)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===S0)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===w0||r===rm||r===om)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===w0||r===rm)return a===Qn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===om)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===sm||r===am||r===lm||r===um||r===cm||r===dm||r===fm||r===hm||r===pm||r===gm||r===mm||r===vm||r===ym||r===bm)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===sm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===am)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===lm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===um)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===cm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===dm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===fm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===hm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===pm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===gm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===mm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===vm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===ym)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===bm)return a===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===hh||r===cP||r===dP)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===hh)return a===Qn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===cP)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===dP)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===DO||r===C0||r===A0||r===T0)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===hh)return s.COMPRESSED_RED_RGTC1_EXT;if(r===C0)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===A0)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===T0)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Gl?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:i}}const YFe={type:"move"};class $E{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new e_,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new e_,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new e_,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const i=this._hand;if(i)for(const r of e.hand.values())this._getHandJoint(i,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,i,r){let o=null,s=null,a=null;const l=this._targetRay,u=this._grip,c=this._hand;if(e&&i.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const b of e.hand.values()){const y=i.getJointPose(b,r),m=this._getHandJoint(c,b);y!==null&&(m.matrix.fromArray(y.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=y.radius),m.visible=y!==null}const d=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=d.position.distanceTo(f.position),p=.02,g=.005;c.inputState.pinching&&h>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=i.getPose(e.gripSpace,r),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(o=i.getPose(e.targetRaySpace,r),o===null&&s!==null&&(o=s),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(YFe)))}return l!==null&&(l.visible=o!==null),u!==null&&(u.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,i){if(e.joints[i.jointName]===void 0){const r=new e_;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[i.jointName]=r,e.add(r)}return e.joints[i.jointName]}}const QFe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,ZFe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class JFe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,i,r){if(this.texture===null){const o=new Ho,s=e.properties.get(o);s.__webglTexture=i.texture,(i.depthNear!==r.depthNear||i.depthFar!==r.depthFar)&&(this.depthNear=i.depthNear,this.depthFar=i.depthFar),this.texture=o}}getMesh(e){if(this.texture!==null&&this.mesh===null){const i=e.cameras[0].viewport,r=new Wl({vertexShader:QFe,fragmentShader:ZFe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new Vr(new pC(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class e$e extends Ac{constructor(e,i){super();const r=this;let o=null,s=1,a=null,l="local-floor",u=1,c=null,d=null,f=null,h=null,p=null,g=null;const b=new JFe,y=i.getContextAttributes();let m=null,_=null;const S=[],w=[],A=new Tt;let T=null;const C=new Po;C.viewport=new fn;const R=new Po;R.viewport=new fn;const E=[C,R],P=new xDe;let I=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let se=S[J];return se===void 0&&(se=new $E,S[J]=se),se.getTargetRaySpace()},this.getControllerGrip=function(J){let se=S[J];return se===void 0&&(se=new $E,S[J]=se),se.getGripSpace()},this.getHand=function(J){let se=S[J];return se===void 0&&(se=new $E,S[J]=se),se.getHandSpace()};function F(J){const se=w.indexOf(J.inputSource);if(se===-1)return;const ee=S[se];ee!==void 0&&(ee.update(J.inputSource,J.frame,c||a),ee.dispatchEvent({type:J.type,data:J.inputSource}))}function L(){o.removeEventListener("select",F),o.removeEventListener("selectstart",F),o.removeEventListener("selectend",F),o.removeEventListener("squeeze",F),o.removeEventListener("squeezestart",F),o.removeEventListener("squeezeend",F),o.removeEventListener("end",L),o.removeEventListener("inputsourceschange",$);for(let J=0;J<S.length;J++){const se=w[J];se!==null&&(w[J]=null,S[J].disconnect(se))}I=null,D=null,b.reset(),e.setRenderTarget(m),p=null,h=null,f=null,o=null,_=null,xe.stop(),r.isPresenting=!1,e.setPixelRatio(T),e.setSize(A.width,A.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){s=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){l=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return o},this.setSession=async function(J){if(o=J,o!==null){if(m=e.getRenderTarget(),o.addEventListener("select",F),o.addEventListener("selectstart",F),o.addEventListener("selectend",F),o.addEventListener("squeeze",F),o.addEventListener("squeezestart",F),o.addEventListener("squeezeend",F),o.addEventListener("end",L),o.addEventListener("inputsourceschange",$),y.xrCompatible!==!0&&await i.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(A),o.enabledFeatures!==void 0&&o.enabledFeatures.includes("layers")){let ee=null,ne=null,ue=null;y.depth&&(ue=y.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,ee=y.stencil?Vl:Ll,ne=y.stencil?Gl:zi);const Y={colorFormat:i.RGBA8,depthFormat:ue,scaleFactor:s};f=new XRWebGLBinding(o,i),h=f.createProjectionLayer(Y),o.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),_=new Hd(h.textureWidth,h.textureHeight,{format:Gr,type:ho,depthTexture:new Yd(h.textureWidth,h.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,ee),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}else{const ee={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(o,i,ee),o.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),_=new Hd(p.framebufferWidth,p.framebufferHeight,{format:Gr,type:ho,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}_.isXRRenderTarget=!0,this.setFoveation(u),c=null,a=await o.requestReferenceSpace(l),xe.setContext(o),xe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function $(J){for(let se=0;se<J.removed.length;se++){const ee=J.removed[se],ne=w.indexOf(ee);ne>=0&&(w[ne]=null,S[ne].disconnect(ee))}for(let se=0;se<J.added.length;se++){const ee=J.added[se];let ne=w.indexOf(ee);if(ne===-1){for(let Y=0;Y<S.length;Y++)if(Y>=w.length){w.push(ee),ne=Y;break}else if(w[Y]===null){w[Y]=ee,ne=Y;break}if(ne===-1)break}const ue=S[ne];ue&&ue.connect(ee)}}const U=new Te,k=new Te;function H(J,se,ee){U.setFromMatrixPosition(se.matrixWorld),k.setFromMatrixPosition(ee.matrixWorld);const ne=U.distanceTo(k),ue=se.projectionMatrix.elements,Y=ee.projectionMatrix.elements,le=ue[14]/(ue[10]-1),fe=ue[14]/(ue[10]+1),W=(ue[9]+1)/ue[5],X=(ue[9]-1)/ue[5],V=(ue[8]-1)/ue[0],Se=(Y[8]+1)/Y[0],pe=le*V,_e=le*Se,he=ne/(-V+Se),ge=he*-V;if(se.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(ge),J.translateZ(he),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),ue[10]===-1)J.projectionMatrix.copy(se.projectionMatrix),J.projectionMatrixInverse.copy(se.projectionMatrixInverse);else{const me=le+he,j=fe+he,G=pe-ge,ce=_e+(ne-ge),Ee=W*fe/j*me,de=X*fe/j*me;J.projectionMatrix.makePerspective(G,ce,Ee,de,me,j),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function z(J,se){se===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(se.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(o===null)return;let se=J.near,ee=J.far;b.texture!==null&&(b.depthNear>0&&(se=b.depthNear),b.depthFar>0&&(ee=b.depthFar)),P.near=R.near=C.near=se,P.far=R.far=C.far=ee,(I!==P.near||D!==P.far)&&(o.updateRenderState({depthNear:P.near,depthFar:P.far}),I=P.near,D=P.far),C.layers.mask=J.layers.mask|2,R.layers.mask=J.layers.mask|4,P.layers.mask=C.layers.mask|R.layers.mask;const ne=J.parent,ue=P.cameras;z(P,ne);for(let Y=0;Y<ue.length;Y++)z(ue[Y],ne);ue.length===2?H(P,C,R):P.projectionMatrix.copy(C.projectionMatrix),Q(J,P,ne)};function Q(J,se,ee){ee===null?J.matrix.copy(se.matrixWorld):(J.matrix.copy(ee.matrixWorld),J.matrix.invert(),J.matrix.multiply(se.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(se.projectionMatrix),J.projectionMatrixInverse.copy(se.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=xm*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(h===null&&p===null))return u},this.setFoveation=function(J){u=J,h!==null&&(h.fixedFoveation=J),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=J)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh(P)};let Z=null;function ie(J,se){if(d=se.getViewerPose(c||a),g=se,d!==null){const ee=d.views;p!==null&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let ne=!1;ee.length!==P.cameras.length&&(P.cameras.length=0,ne=!0);for(let Y=0;Y<ee.length;Y++){const le=ee[Y];let fe=null;if(p!==null)fe=p.getViewport(le);else{const X=f.getViewSubImage(h,le);fe=X.viewport,Y===0&&(e.setRenderTargetTextures(_,X.colorTexture,h.ignoreDepthValues?void 0:X.depthStencilTexture),e.setRenderTarget(_))}let W=E[Y];W===void 0&&(W=new Po,W.layers.enable(Y),W.viewport=new fn,E[Y]=W),W.matrix.fromArray(le.transform.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale),W.projectionMatrix.fromArray(le.projectionMatrix),W.projectionMatrixInverse.copy(W.projectionMatrix).invert(),W.viewport.set(fe.x,fe.y,fe.width,fe.height),Y===0&&(P.matrix.copy(W.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),ne===!0&&P.cameras.push(W)}const ue=o.enabledFeatures;if(ue&&ue.includes("depth-sensing")){const Y=f.getDepthInformation(ee[0]);Y&&Y.isValid&&Y.texture&&b.init(e,Y,o.renderState)}}for(let ee=0;ee<S.length;ee++){const ne=w[ee],ue=S[ee];ne!==null&&ue!==void 0&&ue.update(ne,se,c||a)}Z&&Z(J,se),se.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:se}),g=null}const xe=new MK;xe.setAnimationLoop(ie),this.setAnimationLoop=function(J){Z=J},this.dispose=function(){}}}const Af=new ol,t$e=new ri;function n$e(n,e){function i(y,m){y.matrixAutoUpdate===!0&&y.updateMatrix(),m.value.copy(y.matrix)}function r(y,m){m.color.getRGB(y.fogColor.value,fK(n)),m.isFog?(y.fogNear.value=m.near,y.fogFar.value=m.far):m.isFogExp2&&(y.fogDensity.value=m.density)}function o(y,m,_,S,w){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(y,m):m.isMeshToonMaterial?(s(y,m),f(y,m)):m.isMeshPhongMaterial?(s(y,m),d(y,m)):m.isMeshStandardMaterial?(s(y,m),h(y,m),m.isMeshPhysicalMaterial&&p(y,m,w)):m.isMeshMatcapMaterial?(s(y,m),g(y,m)):m.isMeshDepthMaterial?s(y,m):m.isMeshDistanceMaterial?(s(y,m),b(y,m)):m.isMeshNormalMaterial?s(y,m):m.isLineBasicMaterial?(a(y,m),m.isLineDashedMaterial&&l(y,m)):m.isPointsMaterial?u(y,m,_,S):m.isSpriteMaterial?c(y,m):m.isShadowMaterial?(y.color.value.copy(m.color),y.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function s(y,m){y.opacity.value=m.opacity,m.color&&y.diffuse.value.copy(m.color),m.emissive&&y.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(y.map.value=m.map,i(m.map,y.mapTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,i(m.alphaMap,y.alphaMapTransform)),m.bumpMap&&(y.bumpMap.value=m.bumpMap,i(m.bumpMap,y.bumpMapTransform),y.bumpScale.value=m.bumpScale,m.side===Di&&(y.bumpScale.value*=-1)),m.normalMap&&(y.normalMap.value=m.normalMap,i(m.normalMap,y.normalMapTransform),y.normalScale.value.copy(m.normalScale),m.side===Di&&y.normalScale.value.negate()),m.displacementMap&&(y.displacementMap.value=m.displacementMap,i(m.displacementMap,y.displacementMapTransform),y.displacementScale.value=m.displacementScale,y.displacementBias.value=m.displacementBias),m.emissiveMap&&(y.emissiveMap.value=m.emissiveMap,i(m.emissiveMap,y.emissiveMapTransform)),m.specularMap&&(y.specularMap.value=m.specularMap,i(m.specularMap,y.specularMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest);const _=e.get(m),S=_.envMap,w=_.envMapRotation;S&&(y.envMap.value=S,Af.copy(w),Af.x*=-1,Af.y*=-1,Af.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(Af.y*=-1,Af.z*=-1),y.envMapRotation.value.setFromMatrix4(t$e.makeRotationFromEuler(Af)),y.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=m.reflectivity,y.ior.value=m.ior,y.refractionRatio.value=m.refractionRatio),m.lightMap&&(y.lightMap.value=m.lightMap,y.lightMapIntensity.value=m.lightMapIntensity,i(m.lightMap,y.lightMapTransform)),m.aoMap&&(y.aoMap.value=m.aoMap,y.aoMapIntensity.value=m.aoMapIntensity,i(m.aoMap,y.aoMapTransform))}function a(y,m){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,m.map&&(y.map.value=m.map,i(m.map,y.mapTransform))}function l(y,m){y.dashSize.value=m.dashSize,y.totalSize.value=m.dashSize+m.gapSize,y.scale.value=m.scale}function u(y,m,_,S){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,y.size.value=m.size*_,y.scale.value=S*.5,m.map&&(y.map.value=m.map,i(m.map,y.uvTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,i(m.alphaMap,y.alphaMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest)}function c(y,m){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,y.rotation.value=m.rotation,m.map&&(y.map.value=m.map,i(m.map,y.mapTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,i(m.alphaMap,y.alphaMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest)}function d(y,m){y.specular.value.copy(m.specular),y.shininess.value=Math.max(m.shininess,1e-4)}function f(y,m){m.gradientMap&&(y.gradientMap.value=m.gradientMap)}function h(y,m){y.metalness.value=m.metalness,m.metalnessMap&&(y.metalnessMap.value=m.metalnessMap,i(m.metalnessMap,y.metalnessMapTransform)),y.roughness.value=m.roughness,m.roughnessMap&&(y.roughnessMap.value=m.roughnessMap,i(m.roughnessMap,y.roughnessMapTransform)),m.envMap&&(y.envMapIntensity.value=m.envMapIntensity)}function p(y,m,_){y.ior.value=m.ior,m.sheen>0&&(y.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),y.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(y.sheenColorMap.value=m.sheenColorMap,i(m.sheenColorMap,y.sheenColorMapTransform)),m.sheenRoughnessMap&&(y.sheenRoughnessMap.value=m.sheenRoughnessMap,i(m.sheenRoughnessMap,y.sheenRoughnessMapTransform))),m.clearcoat>0&&(y.clearcoat.value=m.clearcoat,y.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(y.clearcoatMap.value=m.clearcoatMap,i(m.clearcoatMap,y.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,i(m.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(y.clearcoatNormalMap.value=m.clearcoatNormalMap,i(m.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===Di&&y.clearcoatNormalScale.value.negate())),m.dispersion>0&&(y.dispersion.value=m.dispersion),m.iridescence>0&&(y.iridescence.value=m.iridescence,y.iridescenceIOR.value=m.iridescenceIOR,y.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(y.iridescenceMap.value=m.iridescenceMap,i(m.iridescenceMap,y.iridescenceMapTransform)),m.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=m.iridescenceThicknessMap,i(m.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),m.transmission>0&&(y.transmission.value=m.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),m.transmissionMap&&(y.transmissionMap.value=m.transmissionMap,i(m.transmissionMap,y.transmissionMapTransform)),y.thickness.value=m.thickness,m.thicknessMap&&(y.thicknessMap.value=m.thicknessMap,i(m.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=m.attenuationDistance,y.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(y.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(y.anisotropyMap.value=m.anisotropyMap,i(m.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=m.specularIntensity,y.specularColor.value.copy(m.specularColor),m.specularColorMap&&(y.specularColorMap.value=m.specularColorMap,i(m.specularColorMap,y.specularColorMapTransform)),m.specularIntensityMap&&(y.specularIntensityMap.value=m.specularIntensityMap,i(m.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,m){m.matcap&&(y.matcap.value=m.matcap)}function b(y,m){const _=e.get(m).light;y.referencePosition.value.setFromMatrixPosition(_.matrixWorld),y.nearDistance.value=_.shadow.camera.near,y.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:o}}function i$e(n,e,i,r){let o={},s={},a=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(_,S){const w=S.program;r.uniformBlockBinding(_,w)}function c(_,S){let w=o[_.id];w===void 0&&(g(_),w=d(_),o[_.id]=w,_.addEventListener("dispose",y));const A=S.program;r.updateUBOMapping(_,A);const T=e.render.frame;s[_.id]!==T&&(h(_),s[_.id]=T)}function d(_){const S=f();_.__bindingPointIndex=S;const w=n.createBuffer(),A=_.__size,T=_.usage;return n.bindBuffer(n.UNIFORM_BUFFER,w),n.bufferData(n.UNIFORM_BUFFER,A,T),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,w),w}function f(){for(let _=0;_<l;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const S=o[_.id],w=_.uniforms,A=_.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let T=0,C=w.length;T<C;T++){const R=Array.isArray(w[T])?w[T]:[w[T]];for(let E=0,P=R.length;E<P;E++){const I=R[E];if(p(I,T,E,A)===!0){const D=I.__offset,F=Array.isArray(I.value)?I.value:[I.value];let L=0;for(let $=0;$<F.length;$++){const U=F[$],k=b(U);typeof U=="number"||typeof U=="boolean"?(I.__data[0]=U,n.bufferSubData(n.UNIFORM_BUFFER,D+L,I.__data)):U.isMatrix3?(I.__data[0]=U.elements[0],I.__data[1]=U.elements[1],I.__data[2]=U.elements[2],I.__data[3]=0,I.__data[4]=U.elements[3],I.__data[5]=U.elements[4],I.__data[6]=U.elements[5],I.__data[7]=0,I.__data[8]=U.elements[6],I.__data[9]=U.elements[7],I.__data[10]=U.elements[8],I.__data[11]=0):(U.toArray(I.__data,L),L+=k.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,D,I.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function p(_,S,w,A){const T=_.value,C=S+"_"+w;if(A[C]===void 0)return typeof T=="number"||typeof T=="boolean"?A[C]=T:A[C]=T.clone(),!0;{const R=A[C];if(typeof T=="number"||typeof T=="boolean"){if(R!==T)return A[C]=T,!0}else if(R.equals(T)===!1)return R.copy(T),!0}return!1}function g(_){const S=_.uniforms;let w=0;const A=16;for(let C=0,R=S.length;C<R;C++){const E=Array.isArray(S[C])?S[C]:[S[C]];for(let P=0,I=E.length;P<I;P++){const D=E[P],F=Array.isArray(D.value)?D.value:[D.value];for(let L=0,$=F.length;L<$;L++){const U=F[L],k=b(U),H=w%A,z=H%k.boundary,Q=H+z;w+=z,Q!==0&&A-Q<k.storage&&(w+=A-Q),D.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=w,w+=k.storage}}}const T=w%A;return T>0&&(w+=A-T),_.__size=w,_.__cache={},this}function b(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function y(_){const S=_.target;S.removeEventListener("dispose",y);const w=a.indexOf(S.__bindingPointIndex);a.splice(w,1),n.deleteBuffer(o[S.id]),delete o[S.id],delete s[S.id]}function m(){for(const _ in o)n.deleteBuffer(o[_]);a=[],o={},s={}}return{bind:u,update:c,dispose:m}}class r$e{constructor(e={}){const{canvas:i=oK(),context:r=null,depth:o=!0,stencil:s=!1,alpha:a=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=a;const g=new Uint32Array(4),b=new Int32Array(4);let y=null,m=null;const _=[],S=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ut,this.toneMapping=us,this.toneMappingExposure=1;const w=this;let A=!1,T=0,C=0,R=null,E=-1,P=null;const I=new fn,D=new fn;let F=null;const L=new Ft(0);let $=0,U=i.width,k=i.height,H=1,z=null,Q=null;const Z=new fn(0,0,U,k),ie=new fn(0,0,U,k);let xe=!1;const J=new hC;let se=!1,ee=!1;this.transmissionResolutionScale=1;const ne=new ri,ue=new ri,Y=new Te,le=new fn,fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let W=!1;function X(){return R===null?H:1}let V=r;function Se(oe,Ne){return i.getContext(oe,Ne)}try{const oe={alpha:!0,depth:o,stencil:s,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in i&&i.setAttribute("data-engine",`three.js r${Im}`),i.addEventListener("webglcontextlost",We,!1),i.addEventListener("webglcontextrestored",gt,!1),i.addEventListener("webglcontextcreationerror",yt,!1),V===null){const Ne="webgl2";if(V=Se(Ne,oe),V===null)throw Se(Ne)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let pe,_e,he,ge,me,j,G,ce,Ee,de,re,Ce,Me,Ve,dt,we,Ie,Ue,Ye,Ke,ut,ot,Et,Ae;function it(){pe=new hBe(V),pe.init(),ot=new XFe(V,pe),_e=new aBe(V,pe,e,ot),he=new KFe(V,pe),_e.reverseDepthBuffer&&h&&he.buffers.depth.setReversed(!0),ge=new mBe(V),me=new DFe,j=new qFe(V,pe,he,me,_e,ot,ge),G=new uBe(w),ce=new fBe(w),Ee=new wDe(V),Et=new oBe(V,Ee),de=new pBe(V,Ee,ge,Et),re=new yBe(V,de,Ee,ge),Ye=new vBe(V,_e,j),we=new lBe(me),Ce=new OFe(w,G,ce,pe,_e,Et,we),Me=new n$e(w,me),Ve=new BFe,dt=new HFe(pe),Ue=new rBe(w,G,ce,he,re,p,u),Ie=new WFe(w,re,_e),Ae=new i$e(V,ge,_e,he),Ke=new sBe(V,pe,ge),ut=new gBe(V,pe,ge),ge.programs=Ce.programs,w.capabilities=_e,w.extensions=pe,w.properties=me,w.renderLists=Ve,w.shadowMap=Ie,w.state=he,w.info=ge}it();const $e=new e$e(w,V);this.xr=$e,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const oe=pe.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=pe.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(oe){oe!==void 0&&(H=oe,this.setSize(U,k,!1))},this.getSize=function(oe){return oe.set(U,k)},this.setSize=function(oe,Ne,ze=!0){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=oe,k=Ne,i.width=Math.floor(oe*H),i.height=Math.floor(Ne*H),ze===!0&&(i.style.width=oe+"px",i.style.height=Ne+"px"),this.setViewport(0,0,oe,Ne)},this.getDrawingBufferSize=function(oe){return oe.set(U*H,k*H).floor()},this.setDrawingBufferSize=function(oe,Ne,ze){U=oe,k=Ne,H=ze,i.width=Math.floor(oe*ze),i.height=Math.floor(Ne*ze),this.setViewport(0,0,oe,Ne)},this.getCurrentViewport=function(oe){return oe.copy(I)},this.getViewport=function(oe){return oe.copy(Z)},this.setViewport=function(oe,Ne,ze,He){oe.isVector4?Z.set(oe.x,oe.y,oe.z,oe.w):Z.set(oe,Ne,ze,He),he.viewport(I.copy(Z).multiplyScalar(H).round())},this.getScissor=function(oe){return oe.copy(ie)},this.setScissor=function(oe,Ne,ze,He){oe.isVector4?ie.set(oe.x,oe.y,oe.z,oe.w):ie.set(oe,Ne,ze,He),he.scissor(D.copy(ie).multiplyScalar(H).round())},this.getScissorTest=function(){return xe},this.setScissorTest=function(oe){he.setScissorTest(xe=oe)},this.setOpaqueSort=function(oe){z=oe},this.setTransparentSort=function(oe){Q=oe},this.getClearColor=function(oe){return oe.copy(Ue.getClearColor())},this.setClearColor=function(){Ue.setClearColor.apply(Ue,arguments)},this.getClearAlpha=function(){return Ue.getClearAlpha()},this.setClearAlpha=function(){Ue.setClearAlpha.apply(Ue,arguments)},this.clear=function(oe=!0,Ne=!0,ze=!0){let He=0;if(oe){let Fe=!1;if(R!==null){const ht=R.texture.format;Fe=ht===Dm||ht===Om||ht===Nm}if(Fe){const ht=R.texture.type,Ct=ht===ho||ht===zi||ht===Ya||ht===Gl||ht===aC||ht===lC,Mt=Ue.getClearColor(),Pt=Ue.getClearAlpha(),Wt=Mt.r,Kt=Mt.g,kt=Mt.b;Ct?(g[0]=Wt,g[1]=Kt,g[2]=kt,g[3]=Pt,V.clearBufferuiv(V.COLOR,0,g)):(b[0]=Wt,b[1]=Kt,b[2]=kt,b[3]=Pt,V.clearBufferiv(V.COLOR,0,b))}else He|=V.COLOR_BUFFER_BIT}Ne&&(He|=V.DEPTH_BUFFER_BIT),ze&&(He|=V.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),V.clear(He)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",We,!1),i.removeEventListener("webglcontextrestored",gt,!1),i.removeEventListener("webglcontextcreationerror",yt,!1),Ue.dispose(),Ve.dispose(),dt.dispose(),me.dispose(),G.dispose(),ce.dispose(),re.dispose(),Et.dispose(),Ae.dispose(),Ce.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",Fr),$e.removeEventListener("sessionend",ul),Mr.stop()};function We(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function gt(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const oe=ge.autoReset,Ne=Ie.enabled,ze=Ie.autoUpdate,He=Ie.needsUpdate,Fe=Ie.type;it(),ge.autoReset=oe,Ie.enabled=Ne,Ie.autoUpdate=ze,Ie.needsUpdate=He,Ie.type=Fe}function yt(oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",oe.statusMessage)}function Dt(oe){const Ne=oe.target;Ne.removeEventListener("dispose",Dt),Xt(Ne)}function Xt(oe){Un(oe),me.remove(oe)}function Un(oe){const Ne=me.get(oe).programs;Ne!==void 0&&(Ne.forEach(function(ze){Ce.releaseProgram(ze)}),oe.isShaderMaterial&&Ce.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,Ne,ze,He,Fe,ht){Ne===null&&(Ne=fe);const Ct=Fe.isMesh&&Fe.matrixWorld.determinant()<0,Mt=tu(oe,Ne,ze,He,Fe);he.setMaterial(He,Ct);let Pt=ze.index,Wt=1;if(He.wireframe===!0){if(Pt=de.getWireframeAttribute(ze),Pt===void 0)return;Wt=2}const Kt=ze.drawRange,kt=ze.attributes.position;let Bn=Kt.start*Wt,Gn=(Kt.start+Kt.count)*Wt;ht!==null&&(Bn=Math.max(Bn,ht.start*Wt),Gn=Math.min(Gn,(ht.start+ht.count)*Wt)),Pt!==null?(Bn=Math.max(Bn,0),Gn=Math.min(Gn,Pt.count)):kt!=null&&(Bn=Math.max(Bn,0),Gn=Math.min(Gn,kt.count));const Fi=Gn-Bn;if(Fi<0||Fi===1/0)return;Et.setup(Fe,He,Mt,ze,Pt);let vi,Fn=Ke;if(Pt!==null&&(vi=Ee.get(Pt),Fn=ut,Fn.setIndex(vi)),Fe.isMesh)He.wireframe===!0?(he.setLineWidth(He.wireframeLinewidth*X()),Fn.setMode(V.LINES)):Fn.setMode(V.TRIANGLES);else if(Fe.isLine){let $t=He.linewidth;$t===void 0&&($t=1),he.setLineWidth($t*X()),Fe.isLineSegments?Fn.setMode(V.LINES):Fe.isLineLoop?Fn.setMode(V.LINE_LOOP):Fn.setMode(V.LINE_STRIP)}else Fe.isPoints?Fn.setMode(V.POINTS):Fe.isSprite&&Fn.setMode(V.TRIANGLES);if(Fe.isBatchedMesh)if(Fe._multiDrawInstances!==null)Fn.renderMultiDrawInstances(Fe._multiDrawStarts,Fe._multiDrawCounts,Fe._multiDrawCount,Fe._multiDrawInstances);else if(pe.get("WEBGL_multi_draw"))Fn.renderMultiDraw(Fe._multiDrawStarts,Fe._multiDrawCounts,Fe._multiDrawCount);else{const $t=Fe._multiDrawStarts,mr=Fe._multiDrawCounts,zn=Fe._multiDrawCount,qr=Pt?Ee.get(Pt).bytesPerElement:1,nu=me.get(He).currentProgram.getUniforms();for(let yo=0;yo<zn;yo++)nu.setValue(V,"_gl_DrawID",yo),Fn.render($t[yo]/qr,mr[yo])}else if(Fe.isInstancedMesh)Fn.renderInstances(Bn,Fi,Fe.count);else if(ze.isInstancedBufferGeometry){const $t=ze._maxInstanceCount!==void 0?ze._maxInstanceCount:1/0,mr=Math.min(ze.instanceCount,$t);Fn.renderInstances(Bn,Fi,mr)}else Fn.render(Bn,Fi)};function nn(oe,Ne,ze){oe.transparent===!0&&oe.side===Oo&&oe.forceSinglePass===!1?(oe.side=Di,oe.needsUpdate=!0,Vs(oe,Ne,ze),oe.side=il,oe.needsUpdate=!0,Vs(oe,Ne,ze),oe.side=Oo):Vs(oe,Ne,ze)}this.compile=function(oe,Ne,ze=null){ze===null&&(ze=oe),m=dt.get(ze),m.init(Ne),S.push(m),ze.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(Ne.layers)&&(m.pushLight(Fe),Fe.castShadow&&m.pushShadow(Fe))}),oe!==ze&&oe.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(Ne.layers)&&(m.pushLight(Fe),Fe.castShadow&&m.pushShadow(Fe))}),m.setupLights();const He=new Set;return oe.traverse(function(Fe){if(!(Fe.isMesh||Fe.isPoints||Fe.isLine||Fe.isSprite))return;const ht=Fe.material;if(ht)if(Array.isArray(ht))for(let Ct=0;Ct<ht.length;Ct++){const Mt=ht[Ct];nn(Mt,ze,Fe),He.add(Mt)}else nn(ht,ze,Fe),He.add(ht)}),S.pop(),m=null,He},this.compileAsync=function(oe,Ne,ze=null){const He=this.compile(oe,Ne,ze);return new Promise(Fe=>{function ht(){if(He.forEach(function(Ct){me.get(Ct).currentProgram.isReady()&&He.delete(Ct)}),He.size===0){Fe(oe);return}setTimeout(ht,10)}pe.get("KHR_parallel_shader_compile")!==null?ht():setTimeout(ht,10)})};let Ti=null;function Xi(oe){Ti&&Ti(oe)}function Fr(){Mr.stop()}function ul(){Mr.start()}const Mr=new MK;Mr.setAnimationLoop(Xi),typeof self<"u"&&Mr.setContext(self),this.setAnimationLoop=function(oe){Ti=oe,$e.setAnimationLoop(oe),oe===null?Mr.stop():Mr.start()},$e.addEventListener("sessionstart",Fr),$e.addEventListener("sessionend",ul),this.render=function(oe,Ne){if(Ne!==void 0&&Ne.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;if(oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),Ne.parent===null&&Ne.matrixWorldAutoUpdate===!0&&Ne.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(Ne),Ne=$e.getCamera()),oe.isScene===!0&&oe.onBeforeRender(w,oe,Ne,R),m=dt.get(oe,S.length),m.init(Ne),S.push(m),ue.multiplyMatrices(Ne.projectionMatrix,Ne.matrixWorldInverse),J.setFromProjectionMatrix(ue),ee=this.localClippingEnabled,se=we.init(this.clippingPlanes,ee),y=Ve.get(oe,_.length),y.init(),_.push(y),$e.enabled===!0&&$e.isPresenting===!0){const ht=w.xr.getDepthSensingMesh();ht!==null&&gs(ht,Ne,-1/0,w.sortObjects)}gs(oe,Ne,0,w.sortObjects),y.finish(),w.sortObjects===!0&&y.sort(z,Q),W=$e.enabled===!1||$e.isPresenting===!1||$e.hasDepthSensing()===!1,W&&Ue.addToRenderList(y,oe),this.info.render.frame++,se===!0&&we.beginShadows();const ze=m.state.shadowsArray;Ie.render(ze,oe,Ne),se===!0&&we.endShadows(),this.info.autoReset===!0&&this.info.reset();const He=y.opaque,Fe=y.transmissive;if(m.setupLights(),Ne.isArrayCamera){const ht=Ne.cameras;if(Fe.length>0)for(let Ct=0,Mt=ht.length;Ct<Mt;Ct++){const Pt=ht[Ct];Oc(He,Fe,oe,Pt)}W&&Ue.render(oe);for(let Ct=0,Mt=ht.length;Ct<Mt;Ct++){const Pt=ht[Ct];Nc(y,oe,Pt,Pt.viewport)}}else Fe.length>0&&Oc(He,Fe,oe,Ne),W&&Ue.render(oe),Nc(y,oe,Ne);R!==null&&C===0&&(j.updateMultisampleRenderTarget(R),j.updateRenderTargetMipmap(R)),oe.isScene===!0&&oe.onAfterRender(w,oe,Ne),Et.resetDefaultState(),E=-1,P=null,S.pop(),S.length>0?(m=S[S.length-1],se===!0&&we.setGlobalState(w.clippingPlanes,m.state.camera)):m=null,_.pop(),_.length>0?y=_[_.length-1]:y=null};function gs(oe,Ne,ze,He){if(oe.visible===!1)return;if(oe.layers.test(Ne.layers)){if(oe.isGroup)ze=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(Ne);else if(oe.isLight)m.pushLight(oe),oe.castShadow&&m.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||J.intersectsSprite(oe)){He&&le.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(ue);const Ct=re.update(oe),Mt=oe.material;Mt.visible&&y.push(oe,Ct,Mt,ze,le.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(!oe.frustumCulled||J.intersectsObject(oe))){const Ct=re.update(oe),Mt=oe.material;if(He&&(oe.boundingSphere!==void 0?(oe.boundingSphere===null&&oe.computeBoundingSphere(),le.copy(oe.boundingSphere.center)):(Ct.boundingSphere===null&&Ct.computeBoundingSphere(),le.copy(Ct.boundingSphere.center)),le.applyMatrix4(oe.matrixWorld).applyMatrix4(ue)),Array.isArray(Mt)){const Pt=Ct.groups;for(let Wt=0,Kt=Pt.length;Wt<Kt;Wt++){const kt=Pt[Wt],Bn=Mt[kt.materialIndex];Bn&&Bn.visible&&y.push(oe,Ct,Bn,ze,le.z,kt)}}else Mt.visible&&y.push(oe,Ct,Mt,ze,le.z,null)}}const ht=oe.children;for(let Ct=0,Mt=ht.length;Ct<Mt;Ct++)gs(ht[Ct],Ne,ze,He)}function Nc(oe,Ne,ze,He){const Fe=oe.opaque,ht=oe.transmissive,Ct=oe.transparent;m.setupLightsView(ze),se===!0&&we.setGlobalState(w.clippingPlanes,ze),He&&he.viewport(I.copy(He)),Fe.length>0&&Aa(Fe,Ne,ze),ht.length>0&&Aa(ht,Ne,ze),Ct.length>0&&Aa(Ct,Ne,ze),he.buffers.depth.setTest(!0),he.buffers.depth.setMask(!0),he.buffers.color.setMask(!0),he.setPolygonOffset(!1)}function Oc(oe,Ne,ze,He){if((ze.isScene===!0?ze.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[He.id]===void 0&&(m.state.transmissionRenderTarget[He.id]=new Hd(1,1,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")||pe.has("EXT_color_buffer_float")?Bo:ho,minFilter:is,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:wn.workingColorSpace}));const ht=m.state.transmissionRenderTarget[He.id],Ct=He.viewport||I;ht.setSize(Ct.z*w.transmissionResolutionScale,Ct.w*w.transmissionResolutionScale);const Mt=w.getRenderTarget();w.setRenderTarget(ht),w.getClearColor(L),$=w.getClearAlpha(),$<1&&w.setClearColor(16777215,.5),w.clear(),W&&Ue.render(ze);const Pt=w.toneMapping;w.toneMapping=us;const Wt=He.viewport;if(He.viewport!==void 0&&(He.viewport=void 0),m.setupLightsView(He),se===!0&&we.setGlobalState(w.clippingPlanes,He),Aa(oe,ze,He),j.updateMultisampleRenderTarget(ht),j.updateRenderTargetMipmap(ht),pe.has("WEBGL_multisampled_render_to_texture")===!1){let Kt=!1;for(let kt=0,Bn=Ne.length;kt<Bn;kt++){const Gn=Ne[kt],Fi=Gn.object,vi=Gn.geometry,Fn=Gn.material,$t=Gn.group;if(Fn.side===Oo&&Fi.layers.test(He.layers)){const mr=Fn.side;Fn.side=Di,Fn.needsUpdate=!0,Gs(Fi,ze,He,vi,Fn,$t),Fn.side=mr,Fn.needsUpdate=!0,Kt=!0}}Kt===!0&&(j.updateMultisampleRenderTarget(ht),j.updateRenderTargetMipmap(ht))}w.setRenderTarget(Mt),w.setClearColor(L,$),Wt!==void 0&&(He.viewport=Wt),w.toneMapping=Pt}function Aa(oe,Ne,ze){const He=Ne.isScene===!0?Ne.overrideMaterial:null;for(let Fe=0,ht=oe.length;Fe<ht;Fe++){const Ct=oe[Fe],Mt=Ct.object,Pt=Ct.geometry,Wt=He===null?Ct.material:He,Kt=Ct.group;Mt.layers.test(ze.layers)&&Gs(Mt,Ne,ze,Pt,Wt,Kt)}}function Gs(oe,Ne,ze,He,Fe,ht){oe.onBeforeRender(w,Ne,ze,He,Fe,ht),oe.modelViewMatrix.multiplyMatrices(ze.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),Fe.onBeforeRender(w,Ne,ze,He,oe,ht),Fe.transparent===!0&&Fe.side===Oo&&Fe.forceSinglePass===!1?(Fe.side=Di,Fe.needsUpdate=!0,w.renderBufferDirect(ze,Ne,He,Fe,oe,ht),Fe.side=il,Fe.needsUpdate=!0,w.renderBufferDirect(ze,Ne,He,Fe,oe,ht),Fe.side=Oo):w.renderBufferDirect(ze,Ne,He,Fe,oe,ht),oe.onAfterRender(w,Ne,ze,He,Fe,ht)}function Vs(oe,Ne,ze){Ne.isScene!==!0&&(Ne=fe);const He=me.get(oe),Fe=m.state.lights,ht=m.state.shadowsArray,Ct=Fe.state.version,Mt=Ce.getParameters(oe,Fe.state,ht,Ne,ze),Pt=Ce.getProgramCacheKey(Mt);let Wt=He.programs;He.environment=oe.isMeshStandardMaterial?Ne.environment:null,He.fog=Ne.fog,He.envMap=(oe.isMeshStandardMaterial?ce:G).get(oe.envMap||He.environment),He.envMapRotation=He.environment!==null&&oe.envMap===null?Ne.environmentRotation:oe.envMapRotation,Wt===void 0&&(oe.addEventListener("dispose",Dt),Wt=new Map,He.programs=Wt);let Kt=Wt.get(Pt);if(Kt!==void 0){if(He.currentProgram===Kt&&He.lightsStateVersion===Ct)return eu(oe,Mt),Kt}else Mt.uniforms=Ce.getUniforms(oe),oe.onBeforeCompile(Mt,w),Kt=Ce.acquireProgram(Mt,Pt),Wt.set(Pt,Kt),He.uniforms=Mt.uniforms;const kt=He.uniforms;return(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(kt.clippingPlanes=we.uniform),eu(oe,Mt),He.needsLights=Ta(oe),He.lightsStateVersion=Ct,He.needsLights&&(kt.ambientLightColor.value=Fe.state.ambient,kt.lightProbe.value=Fe.state.probe,kt.directionalLights.value=Fe.state.directional,kt.directionalLightShadows.value=Fe.state.directionalShadow,kt.spotLights.value=Fe.state.spot,kt.spotLightShadows.value=Fe.state.spotShadow,kt.rectAreaLights.value=Fe.state.rectArea,kt.ltc_1.value=Fe.state.rectAreaLTC1,kt.ltc_2.value=Fe.state.rectAreaLTC2,kt.pointLights.value=Fe.state.point,kt.pointLightShadows.value=Fe.state.pointShadow,kt.hemisphereLights.value=Fe.state.hemi,kt.directionalShadowMap.value=Fe.state.directionalShadowMap,kt.directionalShadowMatrix.value=Fe.state.directionalShadowMatrix,kt.spotShadowMap.value=Fe.state.spotShadowMap,kt.spotLightMatrix.value=Fe.state.spotLightMatrix,kt.spotLightMap.value=Fe.state.spotLightMap,kt.pointShadowMap.value=Fe.state.pointShadowMap,kt.pointShadowMatrix.value=Fe.state.pointShadowMatrix),He.currentProgram=Kt,He.uniformsList=null,Kt}function Jl(oe){if(oe.uniformsList===null){const Ne=oe.currentProgram.getUniforms();oe.uniformsList=OS.seqWithValue(Ne.seq,oe.uniforms)}return oe.uniformsList}function eu(oe,Ne){const ze=me.get(oe);ze.outputColorSpace=Ne.outputColorSpace,ze.batching=Ne.batching,ze.batchingColor=Ne.batchingColor,ze.instancing=Ne.instancing,ze.instancingColor=Ne.instancingColor,ze.instancingMorph=Ne.instancingMorph,ze.skinning=Ne.skinning,ze.morphTargets=Ne.morphTargets,ze.morphNormals=Ne.morphNormals,ze.morphColors=Ne.morphColors,ze.morphTargetsCount=Ne.morphTargetsCount,ze.numClippingPlanes=Ne.numClippingPlanes,ze.numIntersection=Ne.numClipIntersection,ze.vertexAlphas=Ne.vertexAlphas,ze.vertexTangents=Ne.vertexTangents,ze.toneMapping=Ne.toneMapping}function tu(oe,Ne,ze,He,Fe){Ne.isScene!==!0&&(Ne=fe),j.resetTextureUnits();const ht=Ne.fog,Ct=He.isMeshStandardMaterial?Ne.environment:null,Mt=R===null?w.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:ma,Pt=(He.isMeshStandardMaterial?ce:G).get(He.envMap||Ct),Wt=He.vertexColors===!0&&!!ze.attributes.color&&ze.attributes.color.itemSize===4,Kt=!!ze.attributes.tangent&&(!!He.normalMap||He.anisotropy>0),kt=!!ze.morphAttributes.position,Bn=!!ze.morphAttributes.normal,Gn=!!ze.morphAttributes.color;let Fi=us;He.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Fi=w.toneMapping);const vi=ze.morphAttributes.position||ze.morphAttributes.normal||ze.morphAttributes.color,Fn=vi!==void 0?vi.length:0,$t=me.get(He),mr=m.state.lights;if(se===!0&&(ee===!0||oe!==P)){const Rr=oe===P&&He.id===E;we.setState(He,oe,Rr)}let zn=!1;He.version===$t.__version?($t.needsLights&&$t.lightsStateVersion!==mr.state.version||$t.outputColorSpace!==Mt||Fe.isBatchedMesh&&$t.batching===!1||!Fe.isBatchedMesh&&$t.batching===!0||Fe.isBatchedMesh&&$t.batchingColor===!0&&Fe.colorTexture===null||Fe.isBatchedMesh&&$t.batchingColor===!1&&Fe.colorTexture!==null||Fe.isInstancedMesh&&$t.instancing===!1||!Fe.isInstancedMesh&&$t.instancing===!0||Fe.isSkinnedMesh&&$t.skinning===!1||!Fe.isSkinnedMesh&&$t.skinning===!0||Fe.isInstancedMesh&&$t.instancingColor===!0&&Fe.instanceColor===null||Fe.isInstancedMesh&&$t.instancingColor===!1&&Fe.instanceColor!==null||Fe.isInstancedMesh&&$t.instancingMorph===!0&&Fe.morphTexture===null||Fe.isInstancedMesh&&$t.instancingMorph===!1&&Fe.morphTexture!==null||$t.envMap!==Pt||He.fog===!0&&$t.fog!==ht||$t.numClippingPlanes!==void 0&&($t.numClippingPlanes!==we.numPlanes||$t.numIntersection!==we.numIntersection)||$t.vertexAlphas!==Wt||$t.vertexTangents!==Kt||$t.morphTargets!==kt||$t.morphNormals!==Bn||$t.morphColors!==Gn||$t.toneMapping!==Fi||$t.morphTargetsCount!==Fn)&&(zn=!0):(zn=!0,$t.__version=He.version);let qr=$t.currentProgram;zn===!0&&(qr=Vs(He,Ne,Fe));let nu=!1,yo=!1,Lc=!1;const ai=qr.getUniforms(),Xr=$t.uniforms;if(he.useProgram(qr.program)&&(nu=!0,yo=!0,Lc=!0),He.id!==E&&(E=He.id,yo=!0),nu||P!==oe){he.buffers.depth.getReversed()?(ne.copy(oe.projectionMatrix),wOe(ne),COe(ne),ai.setValue(V,"projectionMatrix",ne)):ai.setValue(V,"projectionMatrix",oe.projectionMatrix),ai.setValue(V,"viewMatrix",oe.matrixWorldInverse);const Pr=ai.map.cameraPosition;Pr!==void 0&&Pr.setValue(V,Y.setFromMatrixPosition(oe.matrixWorld)),_e.logarithmicDepthBuffer&&ai.setValue(V,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),(He.isMeshPhongMaterial||He.isMeshToonMaterial||He.isMeshLambertMaterial||He.isMeshBasicMaterial||He.isMeshStandardMaterial||He.isShaderMaterial)&&ai.setValue(V,"isOrthographic",oe.isOrthographicCamera===!0),P!==oe&&(P=oe,yo=!0,Lc=!0)}if(Fe.isSkinnedMesh){ai.setOptional(V,Fe,"bindMatrix"),ai.setOptional(V,Fe,"bindMatrixInverse");const Rr=Fe.skeleton;Rr&&(Rr.boneTexture===null&&Rr.computeBoneTexture(),ai.setValue(V,"boneTexture",Rr.boneTexture,j))}Fe.isBatchedMesh&&(ai.setOptional(V,Fe,"batchingTexture"),ai.setValue(V,"batchingTexture",Fe._matricesTexture,j),ai.setOptional(V,Fe,"batchingIdTexture"),ai.setValue(V,"batchingIdTexture",Fe._indirectTexture,j),ai.setOptional(V,Fe,"batchingColorTexture"),Fe._colorsTexture!==null&&ai.setValue(V,"batchingColorTexture",Fe._colorsTexture,j));const Go=ze.morphAttributes;if((Go.position!==void 0||Go.normal!==void 0||Go.color!==void 0)&&Ye.update(Fe,ze,qr),(yo||$t.receiveShadow!==Fe.receiveShadow)&&($t.receiveShadow=Fe.receiveShadow,ai.setValue(V,"receiveShadow",Fe.receiveShadow)),He.isMeshGouraudMaterial&&He.envMap!==null&&(Xr.envMap.value=Pt,Xr.flipEnvMap.value=Pt.isCubeTexture&&Pt.isRenderTargetTexture===!1?-1:1),He.isMeshStandardMaterial&&He.envMap===null&&Ne.environment!==null&&(Xr.envMapIntensity.value=Ne.environmentIntensity),yo&&(ai.setValue(V,"toneMappingExposure",w.toneMappingExposure),$t.needsLights&&Dc(Xr,Lc),ht&&He.fog===!0&&Me.refreshFogUniforms(Xr,ht),Me.refreshMaterialUniforms(Xr,He,H,k,m.state.transmissionRenderTarget[oe.id]),OS.upload(V,Jl($t),Xr,j)),He.isShaderMaterial&&He.uniformsNeedUpdate===!0&&(OS.upload(V,Jl($t),Xr,j),He.uniformsNeedUpdate=!1),He.isSpriteMaterial&&ai.setValue(V,"center",Fe.center),ai.setValue(V,"modelViewMatrix",Fe.modelViewMatrix),ai.setValue(V,"normalMatrix",Fe.normalMatrix),ai.setValue(V,"modelMatrix",Fe.matrixWorld),He.isShaderMaterial||He.isRawShaderMaterial){const Rr=He.uniformsGroups;for(let Pr=0,nf=Rr.length;Pr<nf;Pr++){const Vo=Rr[Pr];Ae.update(Vo,qr),Ae.bind(Vo,qr)}}return qr}function Dc(oe,Ne){oe.ambientLightColor.needsUpdate=Ne,oe.lightProbe.needsUpdate=Ne,oe.directionalLights.needsUpdate=Ne,oe.directionalLightShadows.needsUpdate=Ne,oe.pointLights.needsUpdate=Ne,oe.pointLightShadows.needsUpdate=Ne,oe.spotLights.needsUpdate=Ne,oe.spotLightShadows.needsUpdate=Ne,oe.rectAreaLights.needsUpdate=Ne,oe.hemisphereLights.needsUpdate=Ne}function Ta(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(oe,Ne,ze){me.get(oe.texture).__webglTexture=Ne,me.get(oe.depthTexture).__webglTexture=ze;const He=me.get(oe);He.__hasExternalTextures=!0,He.__autoAllocateDepthBuffer=ze===void 0,He.__autoAllocateDepthBuffer||pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),He.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(oe,Ne){const ze=me.get(oe);ze.__webglFramebuffer=Ne,ze.__useDefaultFramebuffer=Ne===void 0};const Vm=V.createFramebuffer();this.setRenderTarget=function(oe,Ne=0,ze=0){R=oe,T=Ne,C=ze;let He=!0,Fe=null,ht=!1,Ct=!1;if(oe){const Pt=me.get(oe);if(Pt.__useDefaultFramebuffer!==void 0)he.bindFramebuffer(V.FRAMEBUFFER,null),He=!1;else if(Pt.__webglFramebuffer===void 0)j.setupRenderTarget(oe);else if(Pt.__hasExternalTextures)j.rebindTextures(oe,me.get(oe.texture).__webglTexture,me.get(oe.depthTexture).__webglTexture);else if(oe.depthBuffer){const kt=oe.depthTexture;if(Pt.__boundDepthTexture!==kt){if(kt!==null&&me.has(kt)&&(oe.width!==kt.image.width||oe.height!==kt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");j.setupDepthRenderbuffer(oe)}}const Wt=oe.texture;(Wt.isData3DTexture||Wt.isDataArrayTexture||Wt.isCompressedArrayTexture)&&(Ct=!0);const Kt=me.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(Array.isArray(Kt[Ne])?Fe=Kt[Ne][ze]:Fe=Kt[Ne],ht=!0):oe.samples>0&&j.useMultisampledRTT(oe)===!1?Fe=me.get(oe).__webglMultisampledFramebuffer:Array.isArray(Kt)?Fe=Kt[ze]:Fe=Kt,I.copy(oe.viewport),D.copy(oe.scissor),F=oe.scissorTest}else I.copy(Z).multiplyScalar(H).floor(),D.copy(ie).multiplyScalar(H).floor(),F=xe;if(ze!==0&&(Fe=Vm),he.bindFramebuffer(V.FRAMEBUFFER,Fe)&&He&&he.drawBuffers(oe,Fe),he.viewport(I),he.scissor(D),he.setScissorTest(F),ht){const Pt=me.get(oe.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,Pt.__webglTexture,ze)}else if(Ct){const Pt=me.get(oe.texture),Wt=Ne;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,Pt.__webglTexture,ze,Wt)}else if(oe!==null&&ze!==0){const Pt=me.get(oe.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Pt.__webglTexture,ze)}E=-1},this.readRenderTargetPixels=function(oe,Ne,ze,He,Fe,ht,Ct){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Mt=me.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Ct!==void 0&&(Mt=Mt[Ct]),Mt){he.bindFramebuffer(V.FRAMEBUFFER,Mt);try{const Pt=oe.texture,Wt=Pt.format,Kt=Pt.type;if(!_e.textureFormatReadable(Wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!_e.textureTypeReadable(Kt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ne>=0&&Ne<=oe.width-He&&ze>=0&&ze<=oe.height-Fe&&V.readPixels(Ne,ze,He,Fe,ot.convert(Wt),ot.convert(Kt),ht)}finally{const Pt=R!==null?me.get(R).__webglFramebuffer:null;he.bindFramebuffer(V.FRAMEBUFFER,Pt)}}},this.readRenderTargetPixelsAsync=async function(oe,Ne,ze,He,Fe,ht,Ct){if(!(oe&&oe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Mt=me.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Ct!==void 0&&(Mt=Mt[Ct]),Mt){const Pt=oe.texture,Wt=Pt.format,Kt=Pt.type;if(!_e.textureFormatReadable(Wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!_e.textureTypeReadable(Kt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Ne>=0&&Ne<=oe.width-He&&ze>=0&&ze<=oe.height-Fe){he.bindFramebuffer(V.FRAMEBUFFER,Mt);const kt=V.createBuffer();V.bindBuffer(V.PIXEL_PACK_BUFFER,kt),V.bufferData(V.PIXEL_PACK_BUFFER,ht.byteLength,V.STREAM_READ),V.readPixels(Ne,ze,He,Fe,ot.convert(Wt),ot.convert(Kt),0);const Bn=R!==null?me.get(R).__webglFramebuffer:null;he.bindFramebuffer(V.FRAMEBUFFER,Bn);const Gn=V.fenceSync(V.SYNC_GPU_COMMANDS_COMPLETE,0);return V.flush(),await SOe(V,Gn,4),V.bindBuffer(V.PIXEL_PACK_BUFFER,kt),V.getBufferSubData(V.PIXEL_PACK_BUFFER,0,ht),V.deleteBuffer(kt),V.deleteSync(Gn),ht}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(oe,Ne=null,ze=0){oe.isTexture!==!0&&(jf("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Ne=arguments[0]||null,oe=arguments[1]);const He=Math.pow(2,-ze),Fe=Math.floor(oe.image.width*He),ht=Math.floor(oe.image.height*He),Ct=Ne!==null?Ne.x:0,Mt=Ne!==null?Ne.y:0;j.setTexture2D(oe,0),V.copyTexSubImage2D(V.TEXTURE_2D,ze,0,0,Ct,Mt,Fe,ht),he.unbindTexture()};const Wm=V.createFramebuffer(),Wh=V.createFramebuffer();this.copyTextureToTexture=function(oe,Ne,ze=null,He=null,Fe=0,ht=null){oe.isTexture!==!0&&(jf("WebGLRenderer: copyTextureToTexture function signature has changed."),He=arguments[0]||null,oe=arguments[1],Ne=arguments[2],ht=arguments[3]||0,ze=null),ht===null&&(Fe!==0?(jf("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ht=Fe,Fe=0):ht=0);let Ct,Mt,Pt,Wt,Kt,kt,Bn,Gn,Fi;const vi=oe.isCompressedTexture?oe.mipmaps[ht]:oe.image;if(ze!==null)Ct=ze.max.x-ze.min.x,Mt=ze.max.y-ze.min.y,Pt=ze.isBox3?ze.max.z-ze.min.z:1,Wt=ze.min.x,Kt=ze.min.y,kt=ze.isBox3?ze.min.z:0;else{const Go=Math.pow(2,-Fe);Ct=Math.floor(vi.width*Go),Mt=Math.floor(vi.height*Go),oe.isDataArrayTexture?Pt=vi.depth:oe.isData3DTexture?Pt=Math.floor(vi.depth*Go):Pt=1,Wt=0,Kt=0,kt=0}He!==null?(Bn=He.x,Gn=He.y,Fi=He.z):(Bn=0,Gn=0,Fi=0);const Fn=ot.convert(Ne.format),$t=ot.convert(Ne.type);let mr;Ne.isData3DTexture?(j.setTexture3D(Ne,0),mr=V.TEXTURE_3D):Ne.isDataArrayTexture||Ne.isCompressedArrayTexture?(j.setTexture2DArray(Ne,0),mr=V.TEXTURE_2D_ARRAY):(j.setTexture2D(Ne,0),mr=V.TEXTURE_2D),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,Ne.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ne.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,Ne.unpackAlignment);const zn=V.getParameter(V.UNPACK_ROW_LENGTH),qr=V.getParameter(V.UNPACK_IMAGE_HEIGHT),nu=V.getParameter(V.UNPACK_SKIP_PIXELS),yo=V.getParameter(V.UNPACK_SKIP_ROWS),Lc=V.getParameter(V.UNPACK_SKIP_IMAGES);V.pixelStorei(V.UNPACK_ROW_LENGTH,vi.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,vi.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Wt),V.pixelStorei(V.UNPACK_SKIP_ROWS,Kt),V.pixelStorei(V.UNPACK_SKIP_IMAGES,kt);const ai=oe.isDataArrayTexture||oe.isData3DTexture,Xr=Ne.isDataArrayTexture||Ne.isData3DTexture;if(oe.isDepthTexture){const Go=me.get(oe),Rr=me.get(Ne),Pr=me.get(Go.__renderTarget),nf=me.get(Rr.__renderTarget);he.bindFramebuffer(V.READ_FRAMEBUFFER,Pr.__webglFramebuffer),he.bindFramebuffer(V.DRAW_FRAMEBUFFER,nf.__webglFramebuffer);for(let Vo=0;Vo<Pt;Vo++)ai&&(V.framebufferTextureLayer(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,me.get(oe).__webglTexture,Fe,kt+Vo),V.framebufferTextureLayer(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,me.get(Ne).__webglTexture,ht,Fi+Vo)),V.blitFramebuffer(Wt,Kt,Ct,Mt,Bn,Gn,Ct,Mt,V.DEPTH_BUFFER_BIT,V.NEAREST);he.bindFramebuffer(V.READ_FRAMEBUFFER,null),he.bindFramebuffer(V.DRAW_FRAMEBUFFER,null)}else if(Fe!==0||oe.isRenderTargetTexture||me.has(oe)){const Go=me.get(oe),Rr=me.get(Ne);he.bindFramebuffer(V.READ_FRAMEBUFFER,Wm),he.bindFramebuffer(V.DRAW_FRAMEBUFFER,Wh);for(let Pr=0;Pr<Pt;Pr++)ai?V.framebufferTextureLayer(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,Go.__webglTexture,Fe,kt+Pr):V.framebufferTexture2D(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Go.__webglTexture,Fe),Xr?V.framebufferTextureLayer(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,Rr.__webglTexture,ht,Fi+Pr):V.framebufferTexture2D(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Rr.__webglTexture,ht),Fe!==0?V.blitFramebuffer(Wt,Kt,Ct,Mt,Bn,Gn,Ct,Mt,V.COLOR_BUFFER_BIT,V.NEAREST):Xr?V.copyTexSubImage3D(mr,ht,Bn,Gn,Fi+Pr,Wt,Kt,Ct,Mt):V.copyTexSubImage2D(mr,ht,Bn,Gn,Wt,Kt,Ct,Mt);he.bindFramebuffer(V.READ_FRAMEBUFFER,null),he.bindFramebuffer(V.DRAW_FRAMEBUFFER,null)}else Xr?oe.isDataTexture||oe.isData3DTexture?V.texSubImage3D(mr,ht,Bn,Gn,Fi,Ct,Mt,Pt,Fn,$t,vi.data):Ne.isCompressedArrayTexture?V.compressedTexSubImage3D(mr,ht,Bn,Gn,Fi,Ct,Mt,Pt,Fn,vi.data):V.texSubImage3D(mr,ht,Bn,Gn,Fi,Ct,Mt,Pt,Fn,$t,vi):oe.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,ht,Bn,Gn,Ct,Mt,Fn,$t,vi.data):oe.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,ht,Bn,Gn,vi.width,vi.height,Fn,vi.data):V.texSubImage2D(V.TEXTURE_2D,ht,Bn,Gn,Ct,Mt,Fn,$t,vi);V.pixelStorei(V.UNPACK_ROW_LENGTH,zn),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,qr),V.pixelStorei(V.UNPACK_SKIP_PIXELS,nu),V.pixelStorei(V.UNPACK_SKIP_ROWS,yo),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Lc),ht===0&&Ne.generateMipmaps&&V.generateMipmap(mr),he.unbindTexture()},this.copyTextureToTexture3D=function(oe,Ne,ze=null,He=null,Fe=0){return oe.isTexture!==!0&&(jf("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ze=arguments[0]||null,He=arguments[1]||null,oe=arguments[2],Ne=arguments[3],Fe=arguments[4]||0),jf('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(oe,Ne,ze,He,Fe)},this.initRenderTarget=function(oe){me.get(oe).__webglFramebuffer===void 0&&j.setupRenderTarget(oe)},this.initTexture=function(oe){oe.isCubeTexture?j.setTextureCube(oe,0):oe.isData3DTexture?j.setTexture3D(oe,0):oe.isDataArrayTexture||oe.isCompressedArrayTexture?j.setTexture2DArray(oe,0):j.setTexture2D(oe,0),he.unbindTexture()},this.resetState=function(){T=0,C=0,R=null,he.reset(),Et.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return rs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const i=this.getContext();i.drawingBufferColorspace=wn._getDrawingBufferColorSpace(e),i.unpackColorSpace=wn._getUnpackColorSpace()}}const Dg=new Va,Vu=new Tt,OK=new Te,UE=new Tt,DS=new Tt,Gw=new Te,vP=new Te,DK=new ri,LK=new Te,BK=new Te;let es=null,vl=null;const Wu=[],Id={NONE:-1,PAN:0,ROTATE:1};class o$e extends gC{constructor(e,i,r=null){super(i,r),this.objects=e,this.recursive=!0,this.transformGroup=!1,this.rotateSpeed=1,this.raycaster=new EK,this.mouseButtons={LEFT:Br.PAN,MIDDLE:Br.PAN,RIGHT:Br.ROTATE},this.touches={ONE:Qu.PAN},this._onPointerMove=s$e.bind(this),this._onPointerDown=a$e.bind(this),this._onPointerCancel=l$e.bind(this),this._onContextMenu=u$e.bind(this),r!==null&&this.connect()}connect(){this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointerup",this._onPointerCancel),this.domElement.addEventListener("pointerleave",this._onPointerCancel),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointerup",this._onPointerCancel),this.domElement.removeEventListener("pointerleave",this._onPointerCancel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto",this.domElement.style.cursor=""}dispose(){this.disconnect()}_updatePointer(e){const i=this.domElement.getBoundingClientRect();Vu.x=(e.clientX-i.left)/i.width*2-1,Vu.y=-(e.clientY-i.top)/i.height*2+1}_updateState(e){let i;if(e.pointerType==="touch")i=this.touches.ONE;else switch(e.button){case 0:i=this.mouseButtons.LEFT;break;case 1:i=this.mouseButtons.MIDDLE;break;case 2:i=this.mouseButtons.RIGHT;break;default:i=null}switch(i){case Br.PAN:case Qu.PAN:this.state=Id.PAN;break;case Br.ROTATE:case Qu.ROTATE:this.state=Id.ROTATE;break;default:this.state=Id.NONE}}getRaycaster(){return console.warn("THREE.DragControls: getRaycaster() has been deprecated. Use controls.raycaster instead."),this.raycaster}setObjects(e){console.warn("THREE.DragControls: setObjects() has been deprecated. Use controls.objects instead."),this.objects=e}getObjects(){return console.warn("THREE.DragControls: getObjects() has been deprecated. Use controls.objects instead."),this.objects}activate(){console.warn("THREE.DragControls: activate() has been renamed to connect()."),this.connect()}deactivate(){console.warn("THREE.DragControls: deactivate() has been renamed to disconnect()."),this.disconnect()}set mode(e){console.warn("THREE.DragControls: The .mode property has been removed. Define the type of transformation via the .mouseButtons or .touches properties.")}get mode(){console.warn("THREE.DragControls: The .mode property has been removed. Define the type of transformation via the .mouseButtons or .touches properties.")}}function s$e(n){const e=this.object,i=this.domElement,r=this.raycaster;if(this.enabled!==!1){if(this._updatePointer(n),r.setFromCamera(Vu,e),es)this.state===Id.PAN?r.ray.intersectPlane(Dg,Gw)&&es.position.copy(Gw.sub(OK).applyMatrix4(DK)):this.state===Id.ROTATE&&(UE.subVectors(Vu,DS).multiplyScalar(this.rotateSpeed),es.rotateOnWorldAxis(LK,UE.x),es.rotateOnWorldAxis(BK.normalize(),-UE.y)),this.dispatchEvent({type:"drag",object:es}),DS.copy(Vu);else if(n.pointerType==="mouse"||n.pointerType==="pen")if(Wu.length=0,r.setFromCamera(Vu,e),r.intersectObjects(this.objects,this.recursive,Wu),Wu.length>0){const o=Wu[0].object;Dg.setFromNormalAndCoplanarPoint(e.getWorldDirection(Dg.normal),vP.setFromMatrixPosition(o.matrixWorld)),vl!==o&&vl!==null&&(this.dispatchEvent({type:"hoveroff",object:vl}),i.style.cursor="auto",vl=null),vl!==o&&(this.dispatchEvent({type:"hoveron",object:o}),i.style.cursor="pointer",vl=o)}else vl!==null&&(this.dispatchEvent({type:"hoveroff",object:vl}),i.style.cursor="auto",vl=null);DS.copy(Vu)}}function a$e(n){const e=this.object,i=this.domElement,r=this.raycaster;this.enabled!==!1&&(this._updatePointer(n),this._updateState(n),Wu.length=0,r.setFromCamera(Vu,e),r.intersectObjects(this.objects,this.recursive,Wu),Wu.length>0&&(this.transformGroup===!0?es=FK(Wu[0].object):es=Wu[0].object,Dg.setFromNormalAndCoplanarPoint(e.getWorldDirection(Dg.normal),vP.setFromMatrixPosition(es.matrixWorld)),r.ray.intersectPlane(Dg,Gw)&&(this.state===Id.PAN?(DK.copy(es.parent.matrixWorld).invert(),OK.copy(Gw).sub(vP.setFromMatrixPosition(es.matrixWorld))):this.state===Id.ROTATE&&(LK.set(0,1,0).applyQuaternion(e.quaternion).normalize(),BK.set(1,0,0).applyQuaternion(e.quaternion).normalize())),i.style.cursor="move",this.dispatchEvent({type:"dragstart",object:es})),DS.copy(Vu))}function l$e(){this.enabled!==!1&&(es&&(this.dispatchEvent({type:"dragend",object:es}),es=null),this.domElement.style.cursor=vl?"pointer":"auto",this.state=Id.NONE)}function u$e(n){this.enabled!==!1&&n.preventDefault()}function FK(n,e=null){return n.isGroup&&(e=n),n.parent===null?e:FK(n.parent,e)}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const $K="167",yP=0,c$e=1,Zz=1,Jz=100,e5=204,t5=205,n5=3,UK=0,kK=300,i5=1e3,r_=1001,r5=1002,d$e=1006,f$e=1008,h$e=1009,p$e=1015,g$e=1023,m$e=0,zK="",Fu="srgb",ZO="srgb-linear",v$e="display-p3",HK="display-p3-linear",bP="linear",o5="srgb",s5="rec709",a5="p3",Tp=7680,l5=519,xP=35044,o_=2e3,u5=2001;class vC{addEventListener(e,i){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(i)===-1&&r[e].push(i)}hasEventListener(e,i){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(i)!==-1}removeEventListener(e,i){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const s=o.indexOf(i);s!==-1&&o.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const o=r.slice(0);for(let s=0,a=o.length;s<a;s++)o[s].call(this,e);e.target=null}}}const to=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function Nd(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(to[n&255]+to[n>>8&255]+to[n>>16&255]+to[n>>24&255]+"-"+to[e&255]+to[e>>8&255]+"-"+to[e>>16&15|64]+to[e>>24&255]+"-"+to[i&63|128]+to[i>>8&255]+"-"+to[i>>16&255]+to[i>>24&255]+to[r&255]+to[r>>8&255]+to[r>>16&255]+to[r>>24&255]).toLowerCase()}function uo(n,e,i){return Math.max(e,Math.min(i,n))}function y$e(n,e){return(n%e+e)%e}function kE(n,e,i){return(1-i)*n+i*e}function Al(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function oi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}class yn{constructor(e=0,i=0){yn.prototype.isVector2=!0,this.x=e,this.y=i}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,i){return this.x=e,this.y=i,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const i=this.x,r=this.y,o=e.elements;return this.x=o[0]*i+o[3]*r+o[6],this.y=o[1]*i+o[4]*r+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(i,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const r=this.dot(e)/i;return Math.acos(uo(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,r=this.y-e.y;return i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this}rotateAround(e,i){const r=Math.cos(i),o=Math.sin(i),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*o+e.x,this.y=s*o+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Qd{constructor(e,i,r,o,s,a,l,u,c){Qd.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,i,r,o,s,a,l,u,c)}set(e,i,r,o,s,a,l,u,c){const d=this.elements;return d[0]=e,d[1]=o,d[2]=l,d[3]=i,d[4]=s,d[5]=u,d[6]=r,d[7]=a,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const i=this.elements,r=e.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],this}extractBasis(e,i,r){return e.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const i=e.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const r=e.elements,o=i.elements,s=this.elements,a=r[0],l=r[3],u=r[6],c=r[1],d=r[4],f=r[7],h=r[2],p=r[5],g=r[8],b=o[0],y=o[3],m=o[6],_=o[1],S=o[4],w=o[7],A=o[2],T=o[5],C=o[8];return s[0]=a*b+l*_+u*A,s[3]=a*y+l*S+u*T,s[6]=a*m+l*w+u*C,s[1]=c*b+d*_+f*A,s[4]=c*y+d*S+f*T,s[7]=c*m+d*w+f*C,s[2]=h*b+p*_+g*A,s[5]=h*y+p*S+g*T,s[8]=h*m+p*w+g*C,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=e,i[4]*=e,i[7]*=e,i[2]*=e,i[5]*=e,i[8]*=e,this}determinant(){const e=this.elements,i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],d=e[8];return i*a*d-i*l*c-r*s*d+r*l*u+o*s*c-o*a*u}invert(){const e=this.elements,i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=d*a-l*c,h=l*u-d*s,p=c*s-a*u,g=i*f+r*h+o*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/g;return e[0]=f*b,e[1]=(o*c-d*r)*b,e[2]=(l*r-o*a)*b,e[3]=h*b,e[4]=(d*i-o*u)*b,e[5]=(o*s-l*i)*b,e[6]=p*b,e[7]=(r*u-c*i)*b,e[8]=(a*i-r*s)*b,this}transpose(){let e;const i=this.elements;return e=i[1],i[1]=i[3],i[3]=e,e=i[2],i[2]=i[6],i[6]=e,e=i[5],i[5]=i[7],i[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const i=this.elements;return e[0]=i[0],e[1]=i[3],e[2]=i[6],e[3]=i[1],e[4]=i[4],e[5]=i[7],e[6]=i[2],e[7]=i[5],e[8]=i[8],this}setUvTransform(e,i,r,o,s,a,l){const u=Math.cos(s),c=Math.sin(s);return this.set(r*u,r*c,-r*(u*a+c*l)+a+e,-o*c,o*u,-o*(-c*a+u*l)+l+i,0,0,1),this}scale(e,i){return this.premultiply(zE.makeScale(e,i)),this}rotate(e){return this.premultiply(zE.makeRotation(-e)),this}translate(e,i){return this.premultiply(zE.makeTranslation(e,i)),this}makeTranslation(e,i){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,i,0,0,1),this}makeRotation(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,-r,0,r,i,0,0,0,1),this}makeScale(e,i){return this.set(e,0,0,0,i,0,0,0,1),this}equals(e){const i=this.elements,r=e.elements;for(let o=0;o<9;o++)if(i[o]!==r[o])return!1;return!0}fromArray(e,i=0){for(let r=0;r<9;r++)this.elements[r]=e[r+i];return this}toArray(e=[],i=0){const r=this.elements;return e[i]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3],e[i+4]=r[4],e[i+5]=r[5],e[i+6]=r[6],e[i+7]=r[7],e[i+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const zE=new Qd;function b$e(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function c5(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const d5={};function GK(n){n in d5||(d5[n]=!0,console.warn(n))}const f5=new Qd().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),h5=new Qd().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Mv={[ZO]:{transfer:bP,primaries:s5,luminanceCoefficients:[.2126,.7152,.0722],toReference:n=>n,fromReference:n=>n},[Fu]:{transfer:o5,primaries:s5,luminanceCoefficients:[.2126,.7152,.0722],toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[HK]:{transfer:bP,primaries:a5,luminanceCoefficients:[.2289,.6917,.0793],toReference:n=>n.applyMatrix3(h5),fromReference:n=>n.applyMatrix3(f5)},[v$e]:{transfer:o5,primaries:a5,luminanceCoefficients:[.2289,.6917,.0793],toReference:n=>n.convertSRGBToLinear().applyMatrix3(h5),fromReference:n=>n.applyMatrix3(f5).convertLinearToSRGB()}},x$e=new Set([ZO,HK]),La={enabled:!0,_workingColorSpace:ZO,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!x$e.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,i){if(this.enabled===!1||e===i||!e||!i)return n;const r=Mv[e].toReference,o=Mv[i].fromReference;return o(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Mv[n].primaries},getTransfer:function(n){return n===zK?bP:Mv[n].transfer},getLuminanceCoefficients:function(n,e=this._workingColorSpace){return n.fromArray(Mv[e].luminanceCoefficients)}};function Lg(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function HE(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Ep;class _$e{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Ep===void 0&&(Ep=c5("canvas")),Ep.width=e.width,Ep.height=e.height;const r=Ep.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Ep}return i.width>2048||i.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),i.toDataURL("image/jpeg",.6)):i.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const i=c5("canvas");i.width=e.width,i.height=e.height;const r=i.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),s=o.data;for(let a=0;a<s.length;a++)s[a]=Lg(s[a]/255)*255;return r.putImageData(o,0,0),i}else if(e.data){const i=e.data.slice(0);for(let r=0;r<i.length;r++)i instanceof Uint8Array||i instanceof Uint8ClampedArray?i[r]=Math.floor(Lg(i[r]/255)*255):i[r]=Lg(i[r]);return{data:i,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let S$e=0;class w$e{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:S$e++}),this.uuid=Nd(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const i=e===void 0||typeof e=="string";if(!i&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},o=this.data;if(o!==null){let s;if(Array.isArray(o)){s=[];for(let a=0,l=o.length;a<l;a++)o[a].isDataTexture?s.push(GE(o[a].image)):s.push(GE(o[a]))}else s=GE(o);r.url=s}return i||(e.images[this.uuid]=r),r}}function GE(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?_$e.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let C$e=0;class Od extends vC{constructor(e=Od.DEFAULT_IMAGE,i=Od.DEFAULT_MAPPING,r=r_,o=r_,s=d$e,a=f$e,l=g$e,u=h$e,c=Od.DEFAULT_ANISOTROPY,d=zK){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:C$e++}),this.uuid=Nd(),this.name="",this.source=new w$e(e),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=l,this.internalFormat=null,this.type=u,this.offset=new yn(0,0),this.repeat=new yn(1,1),this.center=new yn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Qd,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const i=e===void 0||typeof e=="string";if(!i&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==kK)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case i5:e.x=e.x-Math.floor(e.x);break;case r_:e.x=e.x<0?0:1;break;case r5:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case i5:e.y=e.y-Math.floor(e.y);break;case r_:e.y=e.y<0?0:1;break;case r5:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Od.DEFAULT_IMAGE=null;Od.DEFAULT_MAPPING=kK;Od.DEFAULT_ANISOTROPY=1;class ab{constructor(e=0,i=0,r=0,o=1){this.isQuaternion=!0,this._x=e,this._y=i,this._z=r,this._w=o}static slerpFlat(e,i,r,o,s,a,l){let u=r[o+0],c=r[o+1],d=r[o+2],f=r[o+3];const h=s[a+0],p=s[a+1],g=s[a+2],b=s[a+3];if(l===0){e[i+0]=u,e[i+1]=c,e[i+2]=d,e[i+3]=f;return}if(l===1){e[i+0]=h,e[i+1]=p,e[i+2]=g,e[i+3]=b;return}if(f!==b||u!==h||c!==p||d!==g){let y=1-l;const m=u*h+c*p+d*g+f*b,_=m>=0?1:-1,S=1-m*m;if(S>Number.EPSILON){const A=Math.sqrt(S),T=Math.atan2(A,m*_);y=Math.sin(y*T)/A,l=Math.sin(l*T)/A}const w=l*_;if(u=u*y+h*w,c=c*y+p*w,d=d*y+g*w,f=f*y+b*w,y===1-l){const A=1/Math.sqrt(u*u+c*c+d*d+f*f);u*=A,c*=A,d*=A,f*=A}}e[i]=u,e[i+1]=c,e[i+2]=d,e[i+3]=f}static multiplyQuaternionsFlat(e,i,r,o,s,a){const l=r[o],u=r[o+1],c=r[o+2],d=r[o+3],f=s[a],h=s[a+1],p=s[a+2],g=s[a+3];return e[i]=l*g+d*f+u*p-c*h,e[i+1]=u*g+d*h+c*f-l*p,e[i+2]=c*g+d*p+l*h-u*f,e[i+3]=d*g-l*f-u*h-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,i,r,o){return this._x=e,this._y=i,this._z=r,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,i=!0){const r=e._x,o=e._y,s=e._z,a=e._order,l=Math.cos,u=Math.sin,c=l(r/2),d=l(o/2),f=l(s/2),h=u(r/2),p=u(o/2),g=u(s/2);switch(a){case"XYZ":this._x=h*d*f+c*p*g,this._y=c*p*f-h*d*g,this._z=c*d*g+h*p*f,this._w=c*d*f-h*p*g;break;case"YXZ":this._x=h*d*f+c*p*g,this._y=c*p*f-h*d*g,this._z=c*d*g-h*p*f,this._w=c*d*f+h*p*g;break;case"ZXY":this._x=h*d*f-c*p*g,this._y=c*p*f+h*d*g,this._z=c*d*g+h*p*f,this._w=c*d*f-h*p*g;break;case"ZYX":this._x=h*d*f-c*p*g,this._y=c*p*f+h*d*g,this._z=c*d*g-h*p*f,this._w=c*d*f+h*p*g;break;case"YZX":this._x=h*d*f+c*p*g,this._y=c*p*f+h*d*g,this._z=c*d*g-h*p*f,this._w=c*d*f-h*p*g;break;case"XZY":this._x=h*d*f-c*p*g,this._y=c*p*f-h*d*g,this._z=c*d*g+h*p*f,this._w=c*d*f+h*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return i===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,i){const r=i/2,o=Math.sin(r);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const i=e.elements,r=i[0],o=i[4],s=i[8],a=i[1],l=i[5],u=i[9],c=i[2],d=i[6],f=i[10],h=r+l+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(d-u)*p,this._y=(s-c)*p,this._z=(a-o)*p}else if(r>l&&r>f){const p=2*Math.sqrt(1+r-l-f);this._w=(d-u)/p,this._x=.25*p,this._y=(o+a)/p,this._z=(s+c)/p}else if(l>f){const p=2*Math.sqrt(1+l-r-f);this._w=(s-c)/p,this._x=(o+a)/p,this._y=.25*p,this._z=(u+d)/p}else{const p=2*Math.sqrt(1+f-r-l);this._w=(a-o)/p,this._x=(s+c)/p,this._y=(u+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,i){let r=e.dot(i)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*i.z-e.z*i.y,this._y=e.z*i.x-e.x*i.z,this._z=e.x*i.y-e.y*i.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(uo(this.dot(e),-1,1)))}rotateTowards(e,i){const r=this.angleTo(e);if(r===0)return this;const o=Math.min(1,i/r);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,i){const r=e._x,o=e._y,s=e._z,a=e._w,l=i._x,u=i._y,c=i._z,d=i._w;return this._x=r*d+a*l+o*c-s*u,this._y=o*d+a*u+s*l-r*c,this._z=s*d+a*c+r*u-o*l,this._w=a*d-r*l-o*u-s*c,this._onChangeCallback(),this}slerp(e,i){if(i===0)return this;if(i===1)return this.copy(e);const r=this._x,o=this._y,s=this._z,a=this._w;let l=a*e._w+r*e._x+o*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=r,this._y=o,this._z=s,this;const u=1-l*l;if(u<=Number.EPSILON){const p=1-i;return this._w=p*a+i*this._w,this._x=p*r+i*this._x,this._y=p*o+i*this._y,this._z=p*s+i*this._z,this.normalize(),this}const c=Math.sqrt(u),d=Math.atan2(c,l),f=Math.sin((1-i)*d)/c,h=Math.sin(i*d)/c;return this._w=a*f+this._w*h,this._x=r*f+this._x*h,this._y=o*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,i,r){return this.copy(e).slerp(i,r)}random(){const e=2*Math.PI*Math.random(),i=2*Math.PI*Math.random(),r=Math.random(),o=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(o*Math.sin(e),o*Math.cos(e),s*Math.sin(i),s*Math.cos(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,i=0){return this._x=e[i],this._y=e[i+1],this._z=e[i+2],this._w=e[i+3],this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._w,e}fromBufferAttribute(e,i){return this._x=e.getX(i),this._y=e.getY(i),this._z=e.getZ(i),this._w=e.getW(i),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ke{constructor(e=0,i=0,r=0){ke.prototype.isVector3=!0,this.x=e,this.y=i,this.z=r}set(e,i,r){return r===void 0&&(r=this.z),this.x=e,this.y=i,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,i){return this.x=e.x*i.x,this.y=e.y*i.y,this.z=e.z*i.z,this}applyEuler(e){return this.applyQuaternion(p5.setFromEuler(e))}applyAxisAngle(e,i){return this.applyQuaternion(p5.setFromAxisAngle(e,i))}applyMatrix3(e){const i=this.x,r=this.y,o=this.z,s=e.elements;return this.x=s[0]*i+s[3]*r+s[6]*o,this.y=s[1]*i+s[4]*r+s[7]*o,this.z=s[2]*i+s[5]*r+s[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const i=this.x,r=this.y,o=this.z,s=e.elements,a=1/(s[3]*i+s[7]*r+s[11]*o+s[15]);return this.x=(s[0]*i+s[4]*r+s[8]*o+s[12])*a,this.y=(s[1]*i+s[5]*r+s[9]*o+s[13])*a,this.z=(s[2]*i+s[6]*r+s[10]*o+s[14])*a,this}applyQuaternion(e){const i=this.x,r=this.y,o=this.z,s=e.x,a=e.y,l=e.z,u=e.w,c=2*(a*o-l*r),d=2*(l*i-s*o),f=2*(s*r-a*i);return this.x=i+u*c+a*f-l*d,this.y=r+u*d+l*c-s*f,this.z=o+u*f+s*d-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const i=this.x,r=this.y,o=this.z,s=e.elements;return this.x=s[0]*i+s[4]*r+s[8]*o,this.y=s[1]*i+s[5]*r+s[9]*o,this.z=s[2]*i+s[6]*r+s[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this.z=Math.max(e.z,Math.min(i.z,this.z)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this.z=Math.max(e,Math.min(i,this.z)),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(i,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this.z=e.z+(i.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,i){const r=e.x,o=e.y,s=e.z,a=i.x,l=i.y,u=i.z;return this.x=o*u-s*l,this.y=s*a-r*u,this.z=r*l-o*a,this}projectOnVector(e){const i=e.lengthSq();if(i===0)return this.set(0,0,0);const r=e.dot(this)/i;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return VE.copy(this).projectOnVector(e),this.sub(VE)}reflect(e){return this.sub(VE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const r=this.dot(e)/i;return Math.acos(uo(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,r=this.y-e.y,o=this.z-e.z;return i*i+r*r+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,i,r){const o=Math.sin(i)*e;return this.x=o*Math.sin(r),this.y=Math.cos(i)*e,this.z=o*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,i,r){return this.x=e*Math.sin(i),this.y=r,this.z=e*Math.cos(i),this}setFromMatrixPosition(e){const i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(e){const i=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=i,this.y=r,this.z=o,this}setFromMatrixColumn(e,i){return this.fromArray(e.elements,i*4)}setFromMatrix3Column(e,i){return this.fromArray(e.elements,i*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,i=Math.random()*2-1,r=Math.sqrt(1-i*i);return this.x=r*Math.cos(e),this.y=i,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const VE=new ke,p5=new ab;class $m{constructor(e=new ke(1/0,1/0,1/0),i=new ke(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=i}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromArray(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i+=3)this.expandByPoint(Ba.fromArray(e,i));return this}setFromBufferAttribute(e){this.makeEmpty();for(let i=0,r=e.count;i<r;i++)this.expandByPoint(Ba.fromBufferAttribute(e,i));return this}setFromPoints(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){const r=Ba.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,i=!1){return this.makeEmpty(),this.expandByObject(e,i)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,i=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(i===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=s.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,Ba):Ba.fromBufferAttribute(s,a),Ba.applyMatrix4(e.matrixWorld),this.expandByPoint(Ba);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),s_.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),s_.copy(r.boundingBox)),s_.applyMatrix4(e.matrixWorld),this.union(s_)}const o=e.children;for(let s=0,a=o.length;s<a;s++)this.expandByObject(o[s],i);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,i){return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ba),Ba.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let i,r;return e.normal.x>0?(i=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(i=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(i+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(i+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(i+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(i+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),i<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Rv),a_.subVectors(this.max,Rv),Mp.subVectors(e.a,Rv),Rp.subVectors(e.b,Rv),Pp.subVectors(e.c,Rv),nd.subVectors(Rp,Mp),id.subVectors(Pp,Rp),Tf.subVectors(Mp,Pp);let i=[0,-nd.z,nd.y,0,-id.z,id.y,0,-Tf.z,Tf.y,nd.z,0,-nd.x,id.z,0,-id.x,Tf.z,0,-Tf.x,-nd.y,nd.x,0,-id.y,id.x,0,-Tf.y,Tf.x,0];return!WE(i,Mp,Rp,Pp,a_)||(i=[1,0,0,0,1,0,0,0,1],!WE(i,Mp,Rp,Pp,a_))?!1:(l_.crossVectors(nd,id),i=[l_.x,l_.y,l_.z],WE(i,Mp,Rp,Pp,a_))}clampPoint(e,i){return i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ba).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ba).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Au[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Au[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Au[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Au[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Au[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Au[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Au[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Au[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Au),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Au=[new ke,new ke,new ke,new ke,new ke,new ke,new ke,new ke],Ba=new ke,s_=new $m,Mp=new ke,Rp=new ke,Pp=new ke,nd=new ke,id=new ke,Tf=new ke,Rv=new ke,a_=new ke,l_=new ke,Ef=new ke;function WE(n,e,i,r,o){for(let s=0,a=n.length-3;s<=a;s+=3){Ef.fromArray(n,s);const l=o.x*Math.abs(Ef.x)+o.y*Math.abs(Ef.y)+o.z*Math.abs(Ef.z),u=e.dot(Ef),c=i.dot(Ef),d=r.dot(Ef);if(Math.max(-Math.max(u,c,d),Math.min(u,c,d))>l)return!1}return!0}const A$e=new $m,Pv=new ke,jE=new ke;class JO{constructor(e=new ke,i=-1){this.isSphere=!0,this.center=e,this.radius=i}set(e,i){return this.center.copy(e),this.radius=i,this}setFromPoints(e,i){const r=this.center;i!==void 0?r.copy(i):A$e.setFromPoints(e).getCenter(r);let o=0;for(let s=0,a=e.length;s<a;s++)o=Math.max(o,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const i=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=i*i}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,i){const r=this.center.distanceToSquared(e);return i.copy(e),r>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Pv.subVectors(e,this.center);const i=Pv.lengthSq();if(i>this.radius*this.radius){const r=Math.sqrt(i),o=(r-this.radius)*.5;this.center.addScaledVector(Pv,o/r),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(jE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Pv.copy(e.center).add(jE)),this.expandByPoint(Pv.copy(e.center).sub(jE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Tu=new ke,KE=new ke,u_=new ke,rd=new ke,qE=new ke,c_=new ke,XE=new ke;class VK{constructor(e=new ke,i=new ke(0,0,-1)){this.origin=e,this.direction=i}set(e,i){return this.origin.copy(e),this.direction.copy(i),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,i){return i.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Tu)),this}closestPointToPoint(e,i){i.subVectors(e,this.origin);const r=i.dot(this.direction);return r<0?i.copy(this.origin):i.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const i=Tu.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(Tu.copy(this.origin).addScaledVector(this.direction,i),Tu.distanceToSquared(e))}distanceSqToSegment(e,i,r,o){KE.copy(e).add(i).multiplyScalar(.5),u_.copy(i).sub(e).normalize(),rd.copy(this.origin).sub(KE);const s=e.distanceTo(i)*.5,a=-this.direction.dot(u_),l=rd.dot(this.direction),u=-rd.dot(u_),c=rd.lengthSq(),d=Math.abs(1-a*a);let f,h,p,g;if(d>0)if(f=a*u-l,h=a*l-u,g=s*d,f>=0)if(h>=-g)if(h<=g){const b=1/d;f*=b,h*=b,p=f*(f+a*h+2*l)+h*(a*f+h+2*u)+c}else h=s,f=Math.max(0,-(a*h+l)),p=-f*f+h*(h+2*u)+c;else h=-s,f=Math.max(0,-(a*h+l)),p=-f*f+h*(h+2*u)+c;else h<=-g?(f=Math.max(0,-(-a*s+l)),h=f>0?-s:Math.min(Math.max(-s,-u),s),p=-f*f+h*(h+2*u)+c):h<=g?(f=0,h=Math.min(Math.max(-s,-u),s),p=h*(h+2*u)+c):(f=Math.max(0,-(a*s+l)),h=f>0?s:Math.min(Math.max(-s,-u),s),p=-f*f+h*(h+2*u)+c);else h=a>0?-s:s,f=Math.max(0,-(a*h+l)),p=-f*f+h*(h+2*u)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),o&&o.copy(KE).addScaledVector(u_,h),p}intersectSphere(e,i){Tu.subVectors(e.center,this.origin);const r=Tu.dot(this.direction),o=Tu.dot(Tu)-r*r,s=e.radius*e.radius;if(o>s)return null;const a=Math.sqrt(s-o),l=r-a,u=r+a;return u<0?null:l<0?this.at(u,i):this.at(l,i)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const i=e.normal.dot(this.direction);if(i===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/i;return r>=0?r:null}intersectPlane(e,i){const r=this.distanceToPlane(e);return r===null?null:this.at(r,i)}intersectsPlane(e){const i=e.distanceToPoint(this.origin);return i===0||e.normal.dot(this.direction)*i<0}intersectBox(e,i){let r,o,s,a,l,u;const c=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,o=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,o=(e.min.x-h.x)*c),d>=0?(s=(e.min.y-h.y)*d,a=(e.max.y-h.y)*d):(s=(e.max.y-h.y)*d,a=(e.min.y-h.y)*d),r>a||s>o||((s>r||isNaN(r))&&(r=s),(a<o||isNaN(o))&&(o=a),f>=0?(l=(e.min.z-h.z)*f,u=(e.max.z-h.z)*f):(l=(e.max.z-h.z)*f,u=(e.min.z-h.z)*f),r>u||l>o)||((l>r||r!==r)&&(r=l),(u<o||o!==o)&&(o=u),o<0)?null:this.at(r>=0?r:o,i)}intersectsBox(e){return this.intersectBox(e,Tu)!==null}intersectTriangle(e,i,r,o,s){qE.subVectors(i,e),c_.subVectors(r,e),XE.crossVectors(qE,c_);let a=this.direction.dot(XE),l;if(a>0){if(o)return null;l=1}else if(a<0)l=-1,a=-a;else return null;rd.subVectors(this.origin,e);const u=l*this.direction.dot(c_.crossVectors(rd,c_));if(u<0)return null;const c=l*this.direction.dot(qE.cross(rd));if(c<0||u+c>a)return null;const d=-l*rd.dot(XE);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class jr{constructor(e,i,r,o,s,a,l,u,c,d,f,h,p,g,b,y){jr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,i,r,o,s,a,l,u,c,d,f,h,p,g,b,y)}set(e,i,r,o,s,a,l,u,c,d,f,h,p,g,b,y){const m=this.elements;return m[0]=e,m[4]=i,m[8]=r,m[12]=o,m[1]=s,m[5]=a,m[9]=l,m[13]=u,m[2]=c,m[6]=d,m[10]=f,m[14]=h,m[3]=p,m[7]=g,m[11]=b,m[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new jr().fromArray(this.elements)}copy(e){const i=this.elements,r=e.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this}copyPosition(e){const i=this.elements,r=e.elements;return i[12]=r[12],i[13]=r[13],i[14]=r[14],this}setFromMatrix3(e){const i=e.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(e,i,r){return e.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,i,r){return this.set(e.x,i.x,r.x,0,e.y,i.y,r.y,0,e.z,i.z,r.z,0,0,0,0,1),this}extractRotation(e){const i=this.elements,r=e.elements,o=1/Ip.setFromMatrixColumn(e,0).length(),s=1/Ip.setFromMatrixColumn(e,1).length(),a=1/Ip.setFromMatrixColumn(e,2).length();return i[0]=r[0]*o,i[1]=r[1]*o,i[2]=r[2]*o,i[3]=0,i[4]=r[4]*s,i[5]=r[5]*s,i[6]=r[6]*s,i[7]=0,i[8]=r[8]*a,i[9]=r[9]*a,i[10]=r[10]*a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(e){const i=this.elements,r=e.x,o=e.y,s=e.z,a=Math.cos(r),l=Math.sin(r),u=Math.cos(o),c=Math.sin(o),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=a*d,p=a*f,g=l*d,b=l*f;i[0]=u*d,i[4]=-u*f,i[8]=c,i[1]=p+g*c,i[5]=h-b*c,i[9]=-l*u,i[2]=b-h*c,i[6]=g+p*c,i[10]=a*u}else if(e.order==="YXZ"){const h=u*d,p=u*f,g=c*d,b=c*f;i[0]=h+b*l,i[4]=g*l-p,i[8]=a*c,i[1]=a*f,i[5]=a*d,i[9]=-l,i[2]=p*l-g,i[6]=b+h*l,i[10]=a*u}else if(e.order==="ZXY"){const h=u*d,p=u*f,g=c*d,b=c*f;i[0]=h-b*l,i[4]=-a*f,i[8]=g+p*l,i[1]=p+g*l,i[5]=a*d,i[9]=b-h*l,i[2]=-a*c,i[6]=l,i[10]=a*u}else if(e.order==="ZYX"){const h=a*d,p=a*f,g=l*d,b=l*f;i[0]=u*d,i[4]=g*c-p,i[8]=h*c+b,i[1]=u*f,i[5]=b*c+h,i[9]=p*c-g,i[2]=-c,i[6]=l*u,i[10]=a*u}else if(e.order==="YZX"){const h=a*u,p=a*c,g=l*u,b=l*c;i[0]=u*d,i[4]=b-h*f,i[8]=g*f+p,i[1]=f,i[5]=a*d,i[9]=-l*d,i[2]=-c*d,i[6]=p*f+g,i[10]=h-b*f}else if(e.order==="XZY"){const h=a*u,p=a*c,g=l*u,b=l*c;i[0]=u*d,i[4]=-f,i[8]=c*d,i[1]=h*f+b,i[5]=a*d,i[9]=p*f-g,i[2]=g*f-p,i[6]=l*d,i[10]=b*f+h}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(e){return this.compose(T$e,e,E$e)}lookAt(e,i,r){const o=this.elements;return Ts.subVectors(e,i),Ts.lengthSq()===0&&(Ts.z=1),Ts.normalize(),od.crossVectors(r,Ts),od.lengthSq()===0&&(Math.abs(r.z)===1?Ts.x+=1e-4:Ts.z+=1e-4,Ts.normalize(),od.crossVectors(r,Ts)),od.normalize(),d_.crossVectors(Ts,od),o[0]=od.x,o[4]=d_.x,o[8]=Ts.x,o[1]=od.y,o[5]=d_.y,o[9]=Ts.y,o[2]=od.z,o[6]=d_.z,o[10]=Ts.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const r=e.elements,o=i.elements,s=this.elements,a=r[0],l=r[4],u=r[8],c=r[12],d=r[1],f=r[5],h=r[9],p=r[13],g=r[2],b=r[6],y=r[10],m=r[14],_=r[3],S=r[7],w=r[11],A=r[15],T=o[0],C=o[4],R=o[8],E=o[12],P=o[1],I=o[5],D=o[9],F=o[13],L=o[2],$=o[6],U=o[10],k=o[14],H=o[3],z=o[7],Q=o[11],Z=o[15];return s[0]=a*T+l*P+u*L+c*H,s[4]=a*C+l*I+u*$+c*z,s[8]=a*R+l*D+u*U+c*Q,s[12]=a*E+l*F+u*k+c*Z,s[1]=d*T+f*P+h*L+p*H,s[5]=d*C+f*I+h*$+p*z,s[9]=d*R+f*D+h*U+p*Q,s[13]=d*E+f*F+h*k+p*Z,s[2]=g*T+b*P+y*L+m*H,s[6]=g*C+b*I+y*$+m*z,s[10]=g*R+b*D+y*U+m*Q,s[14]=g*E+b*F+y*k+m*Z,s[3]=_*T+S*P+w*L+A*H,s[7]=_*C+S*I+w*$+A*z,s[11]=_*R+S*D+w*U+A*Q,s[15]=_*E+S*F+w*k+A*Z,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[4]*=e,i[8]*=e,i[12]*=e,i[1]*=e,i[5]*=e,i[9]*=e,i[13]*=e,i[2]*=e,i[6]*=e,i[10]*=e,i[14]*=e,i[3]*=e,i[7]*=e,i[11]*=e,i[15]*=e,this}determinant(){const e=this.elements,i=e[0],r=e[4],o=e[8],s=e[12],a=e[1],l=e[5],u=e[9],c=e[13],d=e[2],f=e[6],h=e[10],p=e[14],g=e[3],b=e[7],y=e[11],m=e[15];return g*(+s*u*f-o*c*f-s*l*h+r*c*h+o*l*p-r*u*p)+b*(+i*u*p-i*c*h+s*a*h-o*a*p+o*c*d-s*u*d)+y*(+i*c*f-i*l*p-s*a*f+r*a*p+s*l*d-r*c*d)+m*(-o*l*d-i*u*f+i*l*h+o*a*f-r*a*h+r*u*d)}transpose(){const e=this.elements;let i;return i=e[1],e[1]=e[4],e[4]=i,i=e[2],e[2]=e[8],e[8]=i,i=e[6],e[6]=e[9],e[9]=i,i=e[3],e[3]=e[12],e[12]=i,i=e[7],e[7]=e[13],e[13]=i,i=e[11],e[11]=e[14],e[14]=i,this}setPosition(e,i,r){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=i,o[14]=r),this}invert(){const e=this.elements,i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=e[9],h=e[10],p=e[11],g=e[12],b=e[13],y=e[14],m=e[15],_=f*y*c-b*h*c+b*u*p-l*y*p-f*u*m+l*h*m,S=g*h*c-d*y*c-g*u*p+a*y*p+d*u*m-a*h*m,w=d*b*c-g*f*c+g*l*p-a*b*p-d*l*m+a*f*m,A=g*f*u-d*b*u-g*l*h+a*b*h+d*l*y-a*f*y,T=i*_+r*S+o*w+s*A;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/T;return e[0]=_*C,e[1]=(b*h*s-f*y*s-b*o*p+r*y*p+f*o*m-r*h*m)*C,e[2]=(l*y*s-b*u*s+b*o*c-r*y*c-l*o*m+r*u*m)*C,e[3]=(f*u*s-l*h*s-f*o*c+r*h*c+l*o*p-r*u*p)*C,e[4]=S*C,e[5]=(d*y*s-g*h*s+g*o*p-i*y*p-d*o*m+i*h*m)*C,e[6]=(g*u*s-a*y*s-g*o*c+i*y*c+a*o*m-i*u*m)*C,e[7]=(a*h*s-d*u*s+d*o*c-i*h*c-a*o*p+i*u*p)*C,e[8]=w*C,e[9]=(g*f*s-d*b*s-g*r*p+i*b*p+d*r*m-i*f*m)*C,e[10]=(a*b*s-g*l*s+g*r*c-i*b*c-a*r*m+i*l*m)*C,e[11]=(d*l*s-a*f*s-d*r*c+i*f*c+a*r*p-i*l*p)*C,e[12]=A*C,e[13]=(d*b*o-g*f*o+g*r*h-i*b*h-d*r*y+i*f*y)*C,e[14]=(g*l*o-a*b*o-g*r*u+i*b*u+a*r*y-i*l*y)*C,e[15]=(a*f*o-d*l*o+d*r*u-i*f*u-a*r*h+i*l*h)*C,this}scale(e){const i=this.elements,r=e.x,o=e.y,s=e.z;return i[0]*=r,i[4]*=o,i[8]*=s,i[1]*=r,i[5]*=o,i[9]*=s,i[2]*=r,i[6]*=o,i[10]*=s,i[3]*=r,i[7]*=o,i[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(i,r,o))}makeTranslation(e,i,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,i,0,0,1,r,0,0,0,1),this}makeRotationX(e){const i=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,i,-r,0,0,r,i,0,0,0,0,1),this}makeRotationY(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,0,r,0,0,1,0,0,-r,0,i,0,0,0,0,1),this}makeRotationZ(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,i){const r=Math.cos(i),o=Math.sin(i),s=1-r,a=e.x,l=e.y,u=e.z,c=s*a,d=s*l;return this.set(c*a+r,c*l-o*u,c*u+o*l,0,c*l+o*u,d*l+r,d*u-o*a,0,c*u-o*l,d*u+o*a,s*u*u+r,0,0,0,0,1),this}makeScale(e,i,r){return this.set(e,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,i,r,o,s,a){return this.set(1,r,s,0,e,1,a,0,i,o,1,0,0,0,0,1),this}compose(e,i,r){const o=this.elements,s=i._x,a=i._y,l=i._z,u=i._w,c=s+s,d=a+a,f=l+l,h=s*c,p=s*d,g=s*f,b=a*d,y=a*f,m=l*f,_=u*c,S=u*d,w=u*f,A=r.x,T=r.y,C=r.z;return o[0]=(1-(b+m))*A,o[1]=(p+w)*A,o[2]=(g-S)*A,o[3]=0,o[4]=(p-w)*T,o[5]=(1-(h+m))*T,o[6]=(y+_)*T,o[7]=0,o[8]=(g+S)*C,o[9]=(y-_)*C,o[10]=(1-(h+b))*C,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,i,r){const o=this.elements;let s=Ip.set(o[0],o[1],o[2]).length();const a=Ip.set(o[4],o[5],o[6]).length(),l=Ip.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),e.x=o[12],e.y=o[13],e.z=o[14],Fa.copy(this);const c=1/s,d=1/a,f=1/l;return Fa.elements[0]*=c,Fa.elements[1]*=c,Fa.elements[2]*=c,Fa.elements[4]*=d,Fa.elements[5]*=d,Fa.elements[6]*=d,Fa.elements[8]*=f,Fa.elements[9]*=f,Fa.elements[10]*=f,i.setFromRotationMatrix(Fa),r.x=s,r.y=a,r.z=l,this}makePerspective(e,i,r,o,s,a,l=o_){const u=this.elements,c=2*s/(i-e),d=2*s/(r-o),f=(i+e)/(i-e),h=(r+o)/(r-o);let p,g;if(l===o_)p=-(a+s)/(a-s),g=-2*a*s/(a-s);else if(l===u5)p=-a/(a-s),g=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=d,u[9]=h,u[13]=0,u[2]=0,u[6]=0,u[10]=p,u[14]=g,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,i,r,o,s,a,l=o_){const u=this.elements,c=1/(i-e),d=1/(r-o),f=1/(a-s),h=(i+e)*c,p=(r+o)*d;let g,b;if(l===o_)g=(a+s)*f,b=-2*f;else if(l===u5)g=s*f,b=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-h,u[1]=0,u[5]=2*d,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=b,u[14]=-g,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const i=this.elements,r=e.elements;for(let o=0;o<16;o++)if(i[o]!==r[o])return!1;return!0}fromArray(e,i=0){for(let r=0;r<16;r++)this.elements[r]=e[r+i];return this}toArray(e=[],i=0){const r=this.elements;return e[i]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3],e[i+4]=r[4],e[i+5]=r[5],e[i+6]=r[6],e[i+7]=r[7],e[i+8]=r[8],e[i+9]=r[9],e[i+10]=r[10],e[i+11]=r[11],e[i+12]=r[12],e[i+13]=r[13],e[i+14]=r[14],e[i+15]=r[15],e}}const Ip=new ke,Fa=new jr,T$e=new ke(0,0,0),E$e=new ke(1,1,1),od=new ke,d_=new ke,Ts=new ke,g5=new jr,m5=new ab;class Um{constructor(e=0,i=0,r=0,o=Um.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=r,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,r,o=this._order){return this._x=e,this._y=i,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,r=!0){const o=e.elements,s=o[0],a=o[4],l=o[8],u=o[1],c=o[5],d=o[9],f=o[2],h=o[6],p=o[10];switch(i){case"XYZ":this._y=Math.asin(uo(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-uo(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(uo(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-uo(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(uo(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-uo(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,i,r){return g5.makeRotationFromQuaternion(e),this.setFromRotationMatrix(g5,i,r)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return m5.setFromEuler(this),this.setFromQuaternion(m5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Um.DEFAULT_ORDER="XYZ";class M$e{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let R$e=0;const v5=new ke,Np=new ab,Eu=new jr,f_=new ke,Iv=new ke,P$e=new ke,I$e=new ab,y5=new ke(1,0,0),b5=new ke(0,1,0),x5=new ke(0,0,1),_5={type:"added"},N$e={type:"removed"},Op={type:"childadded",child:null},YE={type:"childremoved",child:null};class go extends vC{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:R$e++}),this.uuid=Nd(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=go.DEFAULT_UP.clone();const e=new ke,i=new Um,r=new ab,o=new ke(1,1,1);function s(){r.setFromEuler(i,!1)}function a(){i.setFromQuaternion(r,void 0,!1)}i._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new jr},normalMatrix:{value:new Qd}}),this.matrix=new jr,this.matrixWorld=new jr,this.matrixAutoUpdate=go.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=go.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new M$e,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,i){this.quaternion.setFromAxisAngle(e,i)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,i){return Np.setFromAxisAngle(e,i),this.quaternion.multiply(Np),this}rotateOnWorldAxis(e,i){return Np.setFromAxisAngle(e,i),this.quaternion.premultiply(Np),this}rotateX(e){return this.rotateOnAxis(y5,e)}rotateY(e){return this.rotateOnAxis(b5,e)}rotateZ(e){return this.rotateOnAxis(x5,e)}translateOnAxis(e,i){return v5.copy(e).applyQuaternion(this.quaternion),this.position.add(v5.multiplyScalar(i)),this}translateX(e){return this.translateOnAxis(y5,e)}translateY(e){return this.translateOnAxis(b5,e)}translateZ(e){return this.translateOnAxis(x5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Eu.copy(this.matrixWorld).invert())}lookAt(e,i,r){e.isVector3?f_.copy(e):f_.set(e,i,r);const o=this.parent;this.updateWorldMatrix(!0,!1),Iv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Eu.lookAt(Iv,f_,this.up):Eu.lookAt(f_,Iv,this.up),this.quaternion.setFromRotationMatrix(Eu),o&&(Eu.extractRotation(o.matrixWorld),Np.setFromRotationMatrix(Eu),this.quaternion.premultiply(Np.invert()))}add(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_5),Op.child=e,this.dispatchEvent(Op),Op.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(e);return i!==-1&&(e.parent=null,this.children.splice(i,1),e.dispatchEvent(N$e),YE.child=e,this.dispatchEvent(YE),YE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Eu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Eu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Eu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_5),Op.child=e,this.dispatchEvent(Op),Op.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,i){if(this[e]===i)return this;for(let r=0,o=this.children.length;r<o;r++){const a=this.children[r].getObjectByProperty(e,i);if(a!==void 0)return a}}getObjectsByProperty(e,i,r=[]){this[e]===i&&r.push(this);const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].getObjectsByProperty(e,i,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Iv,e,P$e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Iv,I$e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return e.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(e){e(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverseVisible(e)}traverseAncestors(e){const i=this.parent;i!==null&&(e(i),i.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateMatrixWorld(e)}updateWorldMatrix(e,i){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),i===!0){const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(e){const i=e===void 0||typeof e=="string",r={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.visibility=this._visibility,o.active=this._active,o.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),o.maxInstanceCount=this._maxInstanceCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.geometryCount=this._geometryCount,o.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(o.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(o.boundingSphere={center:o.boundingSphere.center.toArray(),radius:o.boundingSphere.radius}),this.boundingBox!==null&&(o.boundingBox={min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}));function s(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let c=0,d=u.length;c<d;c++){const f=u[c];s(e.shapes,f)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,c=this.material.length;u<c;u++)l.push(s(e.materials,this.material[u]));o.material=l}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let l=0;l<this.children.length;l++)o.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];o.animations.push(s(e.animations,u))}}if(i){const l=a(e.geometries),u=a(e.materials),c=a(e.textures),d=a(e.images),f=a(e.shapes),h=a(e.skeletons),p=a(e.animations),g=a(e.nodes);l.length>0&&(r.geometries=l),u.length>0&&(r.materials=u),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=o,r;function a(l){const u=[];for(const c in l){const d=l[c];delete d.metadata,u.push(d)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,i=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),i===!0)for(let r=0;r<e.children.length;r++){const o=e.children[r];this.add(o.clone())}return this}}go.DEFAULT_UP=new ke(0,1,0);go.DEFAULT_MATRIX_AUTO_UPDATE=!0;go.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const $a=new ke,Mu=new ke,QE=new ke,Ru=new ke,Dp=new ke,Lp=new ke,S5=new ke,ZE=new ke,JE=new ke,eM=new ke;class Ka{constructor(e=new ke,i=new ke,r=new ke){this.a=e,this.b=i,this.c=r}static getNormal(e,i,r,o){o.subVectors(r,i),$a.subVectors(e,i),o.cross($a);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(e,i,r,o,s){$a.subVectors(o,i),Mu.subVectors(r,i),QE.subVectors(e,i);const a=$a.dot($a),l=$a.dot(Mu),u=$a.dot(QE),c=Mu.dot(Mu),d=Mu.dot(QE),f=a*c-l*l;if(f===0)return s.set(0,0,0),null;const h=1/f,p=(c*u-l*d)*h,g=(a*d-l*u)*h;return s.set(1-p-g,g,p)}static containsPoint(e,i,r,o){return this.getBarycoord(e,i,r,o,Ru)===null?!1:Ru.x>=0&&Ru.y>=0&&Ru.x+Ru.y<=1}static getInterpolation(e,i,r,o,s,a,l,u){return this.getBarycoord(e,i,r,o,Ru)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(s,Ru.x),u.addScaledVector(a,Ru.y),u.addScaledVector(l,Ru.z),u)}static isFrontFacing(e,i,r,o){return $a.subVectors(r,i),Mu.subVectors(e,i),$a.cross(Mu).dot(o)<0}set(e,i,r){return this.a.copy(e),this.b.copy(i),this.c.copy(r),this}setFromPointsAndIndices(e,i,r,o){return this.a.copy(e[i]),this.b.copy(e[r]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,i,r,o){return this.a.fromBufferAttribute(e,i),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return $a.subVectors(this.c,this.b),Mu.subVectors(this.a,this.b),$a.cross(Mu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ka.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,i){return Ka.getBarycoord(e,this.a,this.b,this.c,i)}getInterpolation(e,i,r,o,s){return Ka.getInterpolation(e,this.a,this.b,this.c,i,r,o,s)}containsPoint(e){return Ka.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ka.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,i){const r=this.a,o=this.b,s=this.c;let a,l;Dp.subVectors(o,r),Lp.subVectors(s,r),ZE.subVectors(e,r);const u=Dp.dot(ZE),c=Lp.dot(ZE);if(u<=0&&c<=0)return i.copy(r);JE.subVectors(e,o);const d=Dp.dot(JE),f=Lp.dot(JE);if(d>=0&&f<=d)return i.copy(o);const h=u*f-d*c;if(h<=0&&u>=0&&d<=0)return a=u/(u-d),i.copy(r).addScaledVector(Dp,a);eM.subVectors(e,s);const p=Dp.dot(eM),g=Lp.dot(eM);if(g>=0&&p<=g)return i.copy(s);const b=p*c-u*g;if(b<=0&&c>=0&&g<=0)return l=c/(c-g),i.copy(r).addScaledVector(Lp,l);const y=d*g-p*f;if(y<=0&&f-d>=0&&p-g>=0)return S5.subVectors(s,o),l=(f-d)/(f-d+(p-g)),i.copy(o).addScaledVector(S5,l);const m=1/(y+b+h);return a=b*m,l=h*m,i.copy(r).addScaledVector(Dp,a).addScaledVector(Lp,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const WK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sd={h:0,s:0,l:0},h_={h:0,s:0,l:0};function tM(n,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(e-n)*6*i:i<1/2?e:i<2/3?n+(e-n)*6*(2/3-i):n}class mc{constructor(e,i,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,i,r)}set(e,i,r){if(i===void 0&&r===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,i,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,i=Fu){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,La.toWorkingColorSpace(this,i),this}setRGB(e,i,r,o=La.workingColorSpace){return this.r=e,this.g=i,this.b=r,La.toWorkingColorSpace(this,o),this}setHSL(e,i,r,o=La.workingColorSpace){if(e=y$e(e,1),i=uo(i,0,1),r=uo(r,0,1),i===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+i):r+i-r*i,a=2*r-s;this.r=tM(a,s,e+1/3),this.g=tM(a,s,e),this.b=tM(a,s,e-1/3)}return La.toWorkingColorSpace(this,o),this}setStyle(e,i=Fu){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=o[1],l=o[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,i);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,i);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,i);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=o[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,i);if(a===6)return this.setHex(parseInt(s,16),i);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,i);return this}setColorName(e,i=Fu){const r=WK[e.toLowerCase()];return r!==void 0?this.setHex(r,i):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Lg(e.r),this.g=Lg(e.g),this.b=Lg(e.b),this}copyLinearToSRGB(e){return this.r=HE(e.r),this.g=HE(e.g),this.b=HE(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Fu){return La.fromWorkingColorSpace(no.copy(this),e),Math.round(uo(no.r*255,0,255))*65536+Math.round(uo(no.g*255,0,255))*256+Math.round(uo(no.b*255,0,255))}getHexString(e=Fu){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,i=La.workingColorSpace){La.fromWorkingColorSpace(no.copy(this),i);const r=no.r,o=no.g,s=no.b,a=Math.max(r,o,s),l=Math.min(r,o,s);let u,c;const d=(l+a)/2;if(l===a)u=0,c=0;else{const f=a-l;switch(c=d<=.5?f/(a+l):f/(2-a-l),a){case r:u=(o-s)/f+(o<s?6:0);break;case o:u=(s-r)/f+2;break;case s:u=(r-o)/f+4;break}u/=6}return e.h=u,e.s=c,e.l=d,e}getRGB(e,i=La.workingColorSpace){return La.fromWorkingColorSpace(no.copy(this),i),e.r=no.r,e.g=no.g,e.b=no.b,e}getStyle(e=Fu){La.fromWorkingColorSpace(no.copy(this),e);const i=no.r,r=no.g,o=no.b;return e!==Fu?`color(${e} ${i.toFixed(3)} ${r.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(i*255)},${Math.round(r*255)},${Math.round(o*255)})`}offsetHSL(e,i,r){return this.getHSL(sd),this.setHSL(sd.h+e,sd.s+i,sd.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,i){return this.r=e.r+i.r,this.g=e.g+i.g,this.b=e.b+i.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,i){return this.r+=(e.r-this.r)*i,this.g+=(e.g-this.g)*i,this.b+=(e.b-this.b)*i,this}lerpColors(e,i,r){return this.r=e.r+(i.r-e.r)*r,this.g=e.g+(i.g-e.g)*r,this.b=e.b+(i.b-e.b)*r,this}lerpHSL(e,i){this.getHSL(sd),e.getHSL(h_);const r=kE(sd.h,h_.h,i),o=kE(sd.s,h_.s,i),s=kE(sd.l,h_.l,i);return this.setHSL(r,o,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const i=this.r,r=this.g,o=this.b,s=e.elements;return this.r=s[0]*i+s[3]*r+s[6]*o,this.g=s[1]*i+s[4]*r+s[7]*o,this.b=s[2]*i+s[5]*r+s[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,i=0){return this.r=e[i],this.g=e[i+1],this.b=e[i+2],this}toArray(e=[],i=0){return e[i]=this.r,e[i+1]=this.g,e[i+2]=this.b,e}fromBufferAttribute(e,i){return this.r=e.getX(i),this.g=e.getY(i),this.b=e.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const no=new mc;mc.NAMES=WK;let O$e=0;class yC extends vC{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:O$e++}),this.uuid=Nd(),this.name="",this.type="Material",this.blending=Zz,this.side=yP,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=e5,this.blendDst=t5,this.blendEquation=Jz,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new mc(0,0,0),this.blendAlpha=0,this.depthFunc=n5,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=l5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Tp,this.stencilZFail=Tp,this.stencilZPass=Tp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const i in e){const r=e[i];if(r===void 0){console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);continue}const o=this[i];if(o===void 0){console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(r):o&&o.isVector3&&r&&r.isVector3?o.copy(r):this[i]=r}}toJSON(e){const i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Zz&&(r.blending=this.blending),this.side!==yP&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==e5&&(r.blendSrc=this.blendSrc),this.blendDst!==t5&&(r.blendDst=this.blendDst),this.blendEquation!==Jz&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==n5&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==l5&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Tp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Tp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Tp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function o(s){const a=[];for(const l in s){const u=s[l];delete u.metadata,a.push(u)}return a}if(i){const s=o(e.textures),a=o(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const i=e.clippingPlanes;let r=null;if(i!==null){const o=i.length;r=new Array(o);for(let s=0;s!==o;++s)r[s]=i[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class D$e extends yC{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new mc(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Um,this.combine=UK,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const sr=new ke,p_=new yn;class Dd{constructor(e,i,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=i,this.count=e!==void 0?e.length/i:0,this.normalized=r,this.usage=xP,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=p$e,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return GK("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,i){this.updateRanges.push({start:e,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,i,r){e*=this.itemSize,r*=i.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[e+o]=i.array[r+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let i=0,r=this.count;i<r;i++)p_.fromBufferAttribute(this,i),p_.applyMatrix3(e),this.setXY(i,p_.x,p_.y);else if(this.itemSize===3)for(let i=0,r=this.count;i<r;i++)sr.fromBufferAttribute(this,i),sr.applyMatrix3(e),this.setXYZ(i,sr.x,sr.y,sr.z);return this}applyMatrix4(e){for(let i=0,r=this.count;i<r;i++)sr.fromBufferAttribute(this,i),sr.applyMatrix4(e),this.setXYZ(i,sr.x,sr.y,sr.z);return this}applyNormalMatrix(e){for(let i=0,r=this.count;i<r;i++)sr.fromBufferAttribute(this,i),sr.applyNormalMatrix(e),this.setXYZ(i,sr.x,sr.y,sr.z);return this}transformDirection(e){for(let i=0,r=this.count;i<r;i++)sr.fromBufferAttribute(this,i),sr.transformDirection(e),this.setXYZ(i,sr.x,sr.y,sr.z);return this}set(e,i=0){return this.array.set(e,i),this}getComponent(e,i){let r=this.array[e*this.itemSize+i];return this.normalized&&(r=Al(r,this.array)),r}setComponent(e,i,r){return this.normalized&&(r=oi(r,this.array)),this.array[e*this.itemSize+i]=r,this}getX(e){let i=this.array[e*this.itemSize];return this.normalized&&(i=Al(i,this.array)),i}setX(e,i){return this.normalized&&(i=oi(i,this.array)),this.array[e*this.itemSize]=i,this}getY(e){let i=this.array[e*this.itemSize+1];return this.normalized&&(i=Al(i,this.array)),i}setY(e,i){return this.normalized&&(i=oi(i,this.array)),this.array[e*this.itemSize+1]=i,this}getZ(e){let i=this.array[e*this.itemSize+2];return this.normalized&&(i=Al(i,this.array)),i}setZ(e,i){return this.normalized&&(i=oi(i,this.array)),this.array[e*this.itemSize+2]=i,this}getW(e){let i=this.array[e*this.itemSize+3];return this.normalized&&(i=Al(i,this.array)),i}setW(e,i){return this.normalized&&(i=oi(i,this.array)),this.array[e*this.itemSize+3]=i,this}setXY(e,i,r){return e*=this.itemSize,this.normalized&&(i=oi(i,this.array),r=oi(r,this.array)),this.array[e+0]=i,this.array[e+1]=r,this}setXYZ(e,i,r,o){return e*=this.itemSize,this.normalized&&(i=oi(i,this.array),r=oi(r,this.array),o=oi(o,this.array)),this.array[e+0]=i,this.array[e+1]=r,this.array[e+2]=o,this}setXYZW(e,i,r,o,s){return e*=this.itemSize,this.normalized&&(i=oi(i,this.array),r=oi(r,this.array),o=oi(o,this.array),s=oi(s,this.array)),this.array[e+0]=i,this.array[e+1]=r,this.array[e+2]=o,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==xP&&(e.usage=this.usage),e}}class L$e extends Dd{constructor(e,i,r){super(new Uint16Array(e),i,r)}}class B$e extends Dd{constructor(e,i,r){super(new Uint32Array(e),i,r)}}class el extends Dd{constructor(e,i,r){super(new Float32Array(e),i,r)}}let F$e=0;const oa=new jr,nM=new go,Bp=new ke,Es=new $m,Nv=new $m,Or=new ke;class Ec extends vC{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:F$e++}),this.uuid=Nd(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(b$e(e)?B$e:L$e)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,i){return this.attributes[e]=i,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,i,r=0){this.groups.push({start:e,count:i,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,i){this.drawRange.start=e,this.drawRange.count=i}applyMatrix4(e){const i=this.attributes.position;i!==void 0&&(i.applyMatrix4(e),i.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Qd().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return oa.makeRotationFromQuaternion(e),this.applyMatrix4(oa),this}rotateX(e){return oa.makeRotationX(e),this.applyMatrix4(oa),this}rotateY(e){return oa.makeRotationY(e),this.applyMatrix4(oa),this}rotateZ(e){return oa.makeRotationZ(e),this.applyMatrix4(oa),this}translate(e,i,r){return oa.makeTranslation(e,i,r),this.applyMatrix4(oa),this}scale(e,i,r){return oa.makeScale(e,i,r),this.applyMatrix4(oa),this}lookAt(e){return nM.lookAt(e),nM.updateMatrix(),this.applyMatrix4(nM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Bp).negate(),this.translate(Bp.x,Bp.y,Bp.z),this}setFromPoints(e){const i=[];for(let r=0,o=e.length;r<o;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new el(i,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $m);const e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ke(-1/0,-1/0,-1/0),new ke(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),i)for(let r=0,o=i.length;r<o;r++){const s=i[r];Es.setFromBufferAttribute(s),this.morphTargetsRelative?(Or.addVectors(this.boundingBox.min,Es.min),this.boundingBox.expandByPoint(Or),Or.addVectors(this.boundingBox.max,Es.max),this.boundingBox.expandByPoint(Or)):(this.boundingBox.expandByPoint(Es.min),this.boundingBox.expandByPoint(Es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new JO);const e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ke,1/0);return}if(e){const r=this.boundingSphere.center;if(Es.setFromBufferAttribute(e),i)for(let s=0,a=i.length;s<a;s++){const l=i[s];Nv.setFromBufferAttribute(l),this.morphTargetsRelative?(Or.addVectors(Es.min,Nv.min),Es.expandByPoint(Or),Or.addVectors(Es.max,Nv.max),Es.expandByPoint(Or)):(Es.expandByPoint(Nv.min),Es.expandByPoint(Nv.max))}Es.getCenter(r);let o=0;for(let s=0,a=e.count;s<a;s++)Or.fromBufferAttribute(e,s),o=Math.max(o,r.distanceToSquared(Or));if(i)for(let s=0,a=i.length;s<a;s++){const l=i[s],u=this.morphTargetsRelative;for(let c=0,d=l.count;c<d;c++)Or.fromBufferAttribute(l,c),u&&(Bp.fromBufferAttribute(e,c),Or.add(Bp)),o=Math.max(o,r.distanceToSquared(Or))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,i=this.attributes;if(e===null||i.position===void 0||i.normal===void 0||i.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=i.position,o=i.normal,s=i.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Dd(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),l=[],u=[];for(let R=0;R<r.count;R++)l[R]=new ke,u[R]=new ke;const c=new ke,d=new ke,f=new ke,h=new yn,p=new yn,g=new yn,b=new ke,y=new ke;function m(R,E,P){c.fromBufferAttribute(r,R),d.fromBufferAttribute(r,E),f.fromBufferAttribute(r,P),h.fromBufferAttribute(s,R),p.fromBufferAttribute(s,E),g.fromBufferAttribute(s,P),d.sub(c),f.sub(c),p.sub(h),g.sub(h);const I=1/(p.x*g.y-g.x*p.y);isFinite(I)&&(b.copy(d).multiplyScalar(g.y).addScaledVector(f,-p.y).multiplyScalar(I),y.copy(f).multiplyScalar(p.x).addScaledVector(d,-g.x).multiplyScalar(I),l[R].add(b),l[E].add(b),l[P].add(b),u[R].add(y),u[E].add(y),u[P].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let R=0,E=_.length;R<E;++R){const P=_[R],I=P.start,D=P.count;for(let F=I,L=I+D;F<L;F+=3)m(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const S=new ke,w=new ke,A=new ke,T=new ke;function C(R){A.fromBufferAttribute(o,R),T.copy(A);const E=l[R];S.copy(E),S.sub(A.multiplyScalar(A.dot(E))).normalize(),w.crossVectors(T,E);const I=w.dot(u[R])<0?-1:1;a.setXYZW(R,S.x,S.y,S.z,I)}for(let R=0,E=_.length;R<E;++R){const P=_[R],I=P.start,D=P.count;for(let F=I,L=I+D;F<L;F+=3)C(e.getX(F+0)),C(e.getX(F+1)),C(e.getX(F+2))}}computeVertexNormals(){const e=this.index,i=this.getAttribute("position");if(i!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Dd(new Float32Array(i.count*3),3),this.setAttribute("normal",r);else for(let h=0,p=r.count;h<p;h++)r.setXYZ(h,0,0,0);const o=new ke,s=new ke,a=new ke,l=new ke,u=new ke,c=new ke,d=new ke,f=new ke;if(e)for(let h=0,p=e.count;h<p;h+=3){const g=e.getX(h+0),b=e.getX(h+1),y=e.getX(h+2);o.fromBufferAttribute(i,g),s.fromBufferAttribute(i,b),a.fromBufferAttribute(i,y),d.subVectors(a,s),f.subVectors(o,s),d.cross(f),l.fromBufferAttribute(r,g),u.fromBufferAttribute(r,b),c.fromBufferAttribute(r,y),l.add(d),u.add(d),c.add(d),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(b,u.x,u.y,u.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let h=0,p=i.count;h<p;h+=3)o.fromBufferAttribute(i,h+0),s.fromBufferAttribute(i,h+1),a.fromBufferAttribute(i,h+2),d.subVectors(a,s),f.subVectors(o,s),d.cross(f),r.setXYZ(h+0,d.x,d.y,d.z),r.setXYZ(h+1,d.x,d.y,d.z),r.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let i=0,r=e.count;i<r;i++)Or.fromBufferAttribute(e,i),Or.normalize(),e.setXYZ(i,Or.x,Or.y,Or.z)}toNonIndexed(){function e(l,u){const c=l.array,d=l.itemSize,f=l.normalized,h=new c.constructor(u.length*d);let p=0,g=0;for(let b=0,y=u.length;b<y;b++){l.isInterleavedBufferAttribute?p=u[b]*l.data.stride+l.offset:p=u[b]*d;for(let m=0;m<d;m++)h[g++]=c[p++]}return new Dd(h,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const i=new Ec,r=this.index.array,o=this.attributes;for(const l in o){const u=o[l],c=e(u,r);i.setAttribute(l,c)}const s=this.morphAttributes;for(const l in s){const u=[],c=s[l];for(let d=0,f=c.length;d<f;d++){const h=c[d],p=e(h,r);u.push(p)}i.morphAttributes[l]=u}i.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,u=a.length;l<u;l++){const c=a[l];i.addGroup(c.start,c.count,c.materialIndex)}return i}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const i=this.index;i!==null&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});const r=this.attributes;for(const u in r){const c=r[u];e.data.attributes[u]=c.toJSON(e.data)}const o={};let s=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],d=[];for(let f=0,h=c.length;f<h;f++){const p=c[f];d.push(p.toJSON(e.data))}d.length>0&&(o[u]=d,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const i={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(i));const o=e.attributes;for(const c in o){const d=o[c];this.setAttribute(c,d.clone(i))}const s=e.morphAttributes;for(const c in s){const d=[],f=s[c];for(let h=0,p=f.length;h<p;h++)d.push(f[h].clone(i));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,d=a.length;c<d;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const w5=new jr,Mf=new VK,g_=new JO,C5=new ke,Fp=new ke,$p=new ke,Up=new ke,iM=new ke,m_=new ke,v_=new yn,y_=new yn,b_=new yn,A5=new ke,T5=new ke,E5=new ke,x_=new ke,__=new ke;class $$e extends go{constructor(e=new Ec,i=new D$e){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const o=i[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,i){const r=this.geometry,o=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;i.fromBufferAttribute(o,e);const l=this.morphTargetInfluences;if(s&&l){m_.set(0,0,0);for(let u=0,c=s.length;u<c;u++){const d=l[u],f=s[u];d!==0&&(iM.fromBufferAttribute(f,e),a?m_.addScaledVector(iM,d):m_.addScaledVector(iM.sub(i),d))}i.add(m_)}return i}raycast(e,i){const r=this.geometry,o=this.material,s=this.matrixWorld;o!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),g_.copy(r.boundingSphere),g_.applyMatrix4(s),Mf.copy(e.ray).recast(e.near),!(g_.containsPoint(Mf.origin)===!1&&(Mf.intersectSphere(g_,C5)===null||Mf.origin.distanceToSquared(C5)>(e.far-e.near)**2))&&(w5.copy(s).invert(),Mf.copy(e.ray).applyMatrix4(w5),!(r.boundingBox!==null&&Mf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,i,Mf)))}_computeIntersections(e,i,r){let o;const s=this.geometry,a=this.material,l=s.index,u=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,h=s.groups,p=s.drawRange;if(l!==null)if(Array.isArray(a))for(let g=0,b=h.length;g<b;g++){const y=h[g],m=a[y.materialIndex],_=Math.max(y.start,p.start),S=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let w=_,A=S;w<A;w+=3){const T=l.getX(w),C=l.getX(w+1),R=l.getX(w+2);o=S_(this,m,e,r,c,d,f,T,C,R),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,i.push(o))}}else{const g=Math.max(0,p.start),b=Math.min(l.count,p.start+p.count);for(let y=g,m=b;y<m;y+=3){const _=l.getX(y),S=l.getX(y+1),w=l.getX(y+2);o=S_(this,a,e,r,c,d,f,_,S,w),o&&(o.faceIndex=Math.floor(y/3),i.push(o))}}else if(u!==void 0)if(Array.isArray(a))for(let g=0,b=h.length;g<b;g++){const y=h[g],m=a[y.materialIndex],_=Math.max(y.start,p.start),S=Math.min(u.count,Math.min(y.start+y.count,p.start+p.count));for(let w=_,A=S;w<A;w+=3){const T=w,C=w+1,R=w+2;o=S_(this,m,e,r,c,d,f,T,C,R),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,i.push(o))}}else{const g=Math.max(0,p.start),b=Math.min(u.count,p.start+p.count);for(let y=g,m=b;y<m;y+=3){const _=y,S=y+1,w=y+2;o=S_(this,a,e,r,c,d,f,_,S,w),o&&(o.faceIndex=Math.floor(y/3),i.push(o))}}}}function U$e(n,e,i,r,o,s,a,l){let u;if(e.side===c$e?u=r.intersectTriangle(a,s,o,!0,l):u=r.intersectTriangle(o,s,a,e.side===yP,l),u===null)return null;__.copy(l),__.applyMatrix4(n.matrixWorld);const c=i.ray.origin.distanceTo(__);return c<i.near||c>i.far?null:{distance:c,point:__.clone(),object:n}}function S_(n,e,i,r,o,s,a,l,u,c){n.getVertexPosition(l,Fp),n.getVertexPosition(u,$p),n.getVertexPosition(c,Up);const d=U$e(n,e,i,r,Fp,$p,Up,x_);if(d){o&&(v_.fromBufferAttribute(o,l),y_.fromBufferAttribute(o,u),b_.fromBufferAttribute(o,c),d.uv=Ka.getInterpolation(x_,Fp,$p,Up,v_,y_,b_,new yn)),s&&(v_.fromBufferAttribute(s,l),y_.fromBufferAttribute(s,u),b_.fromBufferAttribute(s,c),d.uv1=Ka.getInterpolation(x_,Fp,$p,Up,v_,y_,b_,new yn)),a&&(A5.fromBufferAttribute(a,l),T5.fromBufferAttribute(a,u),E5.fromBufferAttribute(a,c),d.normal=Ka.getInterpolation(x_,Fp,$p,Up,A5,T5,E5,new ke),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a:l,b:u,c,normal:new ke,materialIndex:0};Ka.getNormal(Fp,$p,Up,f.normal),d.face=f}return d}class jK extends go{constructor(){super(),this.isGroup=!0,this.type="Group"}}class k$e{constructor(e,i){this.isInterleavedBuffer=!0,this.array=e,this.stride=i,this.count=e!==void 0?e.length/i:0,this.usage=xP,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Nd()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return GK("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,i){this.updateRanges.push({start:e,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,i,r){e*=this.stride,r*=i.stride;for(let o=0,s=this.stride;o<s;o++)this.array[e+o]=i.array[r+o];return this}set(e,i=0){return this.array.set(e,i),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Nd()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const i=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(i,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Nd()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const wo=new ke;class Vw{constructor(e,i,r,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=i,this.offset=r,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let i=0,r=this.data.count;i<r;i++)wo.fromBufferAttribute(this,i),wo.applyMatrix4(e),this.setXYZ(i,wo.x,wo.y,wo.z);return this}applyNormalMatrix(e){for(let i=0,r=this.count;i<r;i++)wo.fromBufferAttribute(this,i),wo.applyNormalMatrix(e),this.setXYZ(i,wo.x,wo.y,wo.z);return this}transformDirection(e){for(let i=0,r=this.count;i<r;i++)wo.fromBufferAttribute(this,i),wo.transformDirection(e),this.setXYZ(i,wo.x,wo.y,wo.z);return this}getComponent(e,i){let r=this.array[e*this.data.stride+this.offset+i];return this.normalized&&(r=Al(r,this.array)),r}setComponent(e,i,r){return this.normalized&&(r=oi(r,this.array)),this.data.array[e*this.data.stride+this.offset+i]=r,this}setX(e,i){return this.normalized&&(i=oi(i,this.array)),this.data.array[e*this.data.stride+this.offset]=i,this}setY(e,i){return this.normalized&&(i=oi(i,this.array)),this.data.array[e*this.data.stride+this.offset+1]=i,this}setZ(e,i){return this.normalized&&(i=oi(i,this.array)),this.data.array[e*this.data.stride+this.offset+2]=i,this}setW(e,i){return this.normalized&&(i=oi(i,this.array)),this.data.array[e*this.data.stride+this.offset+3]=i,this}getX(e){let i=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(i=Al(i,this.array)),i}getY(e){let i=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(i=Al(i,this.array)),i}getZ(e){let i=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(i=Al(i,this.array)),i}getW(e){let i=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(i=Al(i,this.array)),i}setXY(e,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(i=oi(i,this.array),r=oi(r,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this}setXYZ(e,i,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(i=oi(i,this.array),r=oi(r,this.array),o=oi(o,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this.data.array[e+2]=o,this}setXYZW(e,i,r,o,s){return e=e*this.data.stride+this.offset,this.normalized&&(i=oi(i,this.array),r=oi(r,this.array),o=oi(o,this.array),s=oi(s,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this.data.array[e+2]=o,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)i.push(this.data.array[o+s])}return new Dd(new this.array.constructor(i),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Vw(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)i.push(this.data.array[o+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:i,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class KK extends yC{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new mc(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let kp;const Ov=new ke,zp=new ke,Hp=new ke,Gp=new yn,Dv=new yn,qK=new jr,w_=new ke,Lv=new ke,C_=new ke,M5=new yn,rM=new yn,R5=new yn;class z$e extends go{constructor(e=new KK){if(super(),this.isSprite=!0,this.type="Sprite",kp===void 0){kp=new Ec;const i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new k$e(i,5);kp.setIndex([0,1,2,0,2,3]),kp.setAttribute("position",new Vw(r,3,0,!1)),kp.setAttribute("uv",new Vw(r,2,3,!1))}this.geometry=kp,this.material=e,this.center=new yn(.5,.5)}raycast(e,i){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),zp.setFromMatrixScale(this.matrixWorld),qK.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Hp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&zp.multiplyScalar(-Hp.z);const r=this.material.rotation;let o,s;r!==0&&(s=Math.cos(r),o=Math.sin(r));const a=this.center;A_(w_.set(-.5,-.5,0),Hp,a,zp,o,s),A_(Lv.set(.5,-.5,0),Hp,a,zp,o,s),A_(C_.set(.5,.5,0),Hp,a,zp,o,s),M5.set(0,0),rM.set(1,0),R5.set(1,1);let l=e.ray.intersectTriangle(w_,Lv,C_,!1,Ov);if(l===null&&(A_(Lv.set(-.5,.5,0),Hp,a,zp,o,s),rM.set(0,1),l=e.ray.intersectTriangle(w_,C_,Lv,!1,Ov),l===null))return;const u=e.ray.origin.distanceTo(Ov);u<e.near||u>e.far||i.push({distance:u,point:Ov.clone(),uv:Ka.getInterpolation(Ov,w_,Lv,C_,M5,rM,R5,new yn),face:null,object:this})}copy(e,i){return super.copy(e,i),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function A_(n,e,i,r,o,s){Gp.subVectors(n,i).addScalar(.5).multiply(r),o!==void 0?(Dv.x=s*Gp.x-o*Gp.y,Dv.y=o*Gp.x+s*Gp.y):Dv.copy(Gp),n.copy(e),n.x+=Dv.x,n.y+=Dv.y,n.applyMatrix4(qK)}class XK extends yC{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new mc(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ww=new ke,jw=new ke,P5=new jr,Bv=new VK,T_=new JO,oM=new ke,I5=new ke;class H$e extends go{constructor(e=new Ec,i=new XK){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const i=e.attributes.position,r=[0];for(let o=1,s=i.count;o<s;o++)Ww.fromBufferAttribute(i,o-1),jw.fromBufferAttribute(i,o),r[o]=r[o-1],r[o]+=Ww.distanceTo(jw);e.setAttribute("lineDistance",new el(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,i){const r=this.geometry,o=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),T_.copy(r.boundingSphere),T_.applyMatrix4(o),T_.radius+=s,e.ray.intersectsSphere(T_)===!1)return;P5.copy(o).invert(),Bv.copy(e.ray).applyMatrix4(P5);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,c=this.isLineSegments?2:1,d=r.index,h=r.attributes.position;if(d!==null){const p=Math.max(0,a.start),g=Math.min(d.count,a.start+a.count);for(let b=p,y=g-1;b<y;b+=c){const m=d.getX(b),_=d.getX(b+1),S=E_(this,e,Bv,u,m,_);S&&i.push(S)}if(this.isLineLoop){const b=d.getX(g-1),y=d.getX(p),m=E_(this,e,Bv,u,b,y);m&&i.push(m)}}else{const p=Math.max(0,a.start),g=Math.min(h.count,a.start+a.count);for(let b=p,y=g-1;b<y;b+=c){const m=E_(this,e,Bv,u,b,b+1);m&&i.push(m)}if(this.isLineLoop){const b=E_(this,e,Bv,u,g-1,p);b&&i.push(b)}}}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const o=i[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function E_(n,e,i,r,o,s){const a=n.geometry.attributes.position;if(Ww.fromBufferAttribute(a,o),jw.fromBufferAttribute(a,s),i.distanceSqToSegment(Ww,jw,oM,I5)>r)return;oM.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(oM);if(!(u<e.near||u>e.far))return{distance:u,point:I5.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,object:n}}class G$e extends Od{constructor(e,i,r,o,s,a,l,u,c){super(e,i,r,o,s,a,l,u,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Mc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,i){const r=this.getUtoTmapping(e);return this.getPoint(r,i)}getPoints(e=5){const i=[];for(let r=0;r<=e;r++)i.push(this.getPoint(r/e));return i}getSpacedPoints(e=5){const i=[];for(let r=0;r<=e;r++)i.push(this.getPointAt(r/e));return i}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const i=[];let r,o=this.getPoint(0),s=0;i.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(o),i.push(s),o=r;return this.cacheArcLengths=i,i}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,i){const r=this.getLengths();let o=0;const s=r.length;let a;i?a=i:a=e*r[s-1];let l=0,u=s-1,c;for(;l<=u;)if(o=Math.floor(l+(u-l)/2),c=r[o]-a,c<0)l=o+1;else if(c>0)u=o-1;else{u=o;break}if(o=u,r[o]===a)return o/(s-1);const d=r[o],h=r[o+1]-d,p=(a-d)/h;return(o+p)/(s-1)}getTangent(e,i){let o=e-1e-4,s=e+1e-4;o<0&&(o=0),s>1&&(s=1);const a=this.getPoint(o),l=this.getPoint(s),u=i||(a.isVector2?new yn:new ke);return u.copy(l).sub(a).normalize(),u}getTangentAt(e,i){const r=this.getUtoTmapping(e);return this.getTangent(r,i)}computeFrenetFrames(e,i){const r=new ke,o=[],s=[],a=[],l=new ke,u=new jr;for(let p=0;p<=e;p++){const g=p/e;o[p]=this.getTangentAt(g,new ke)}s[0]=new ke,a[0]=new ke;let c=Number.MAX_VALUE;const d=Math.abs(o[0].x),f=Math.abs(o[0].y),h=Math.abs(o[0].z);d<=c&&(c=d,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),h<=c&&r.set(0,0,1),l.crossVectors(o[0],r).normalize(),s[0].crossVectors(o[0],l),a[0].crossVectors(o[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),a[p]=a[p-1].clone(),l.crossVectors(o[p-1],o[p]),l.length()>Number.EPSILON){l.normalize();const g=Math.acos(uo(o[p-1].dot(o[p]),-1,1));s[p].applyMatrix4(u.makeRotationAxis(l,g))}a[p].crossVectors(o[p],s[p])}if(i===!0){let p=Math.acos(uo(s[0].dot(s[e]),-1,1));p/=e,o[0].dot(l.crossVectors(s[0],s[e]))>0&&(p=-p);for(let g=1;g<=e;g++)s[g].applyMatrix4(u.makeRotationAxis(o[g],p*g)),a[g].crossVectors(o[g],s[g])}return{tangents:o,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class YK extends Mc{constructor(e=0,i=0,r=1,o=1,s=0,a=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=i,this.xRadius=r,this.yRadius=o,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=u}getPoint(e,i=new yn){const r=i,o=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=o;for(;s>o;)s-=o;s<Number.EPSILON&&(a?s=0:s=o),this.aClockwise===!0&&!a&&(s===o?s=-o:s=s-o);const l=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(l),c=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=u-this.aX,p=c-this.aY;u=h*d-p*f+this.aX,c=h*f+p*d+this.aY}return r.set(u,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class V$e extends YK{constructor(e,i,r,o,s,a){super(e,i,r,r,o,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function eD(){let n=0,e=0,i=0,r=0;function o(s,a,l,u){n=s,e=l,i=-3*s+3*a-2*l-u,r=2*s-2*a+l+u}return{initCatmullRom:function(s,a,l,u,c){o(a,l,c*(l-s),c*(u-a))},initNonuniformCatmullRom:function(s,a,l,u,c,d,f){let h=(a-s)/c-(l-s)/(c+d)+(l-a)/d,p=(l-a)/d-(u-a)/(d+f)+(u-l)/f;h*=d,p*=d,o(a,l,h,p)},calc:function(s){const a=s*s,l=a*s;return n+e*s+i*a+r*l}}}const M_=new ke,sM=new eD,aM=new eD,lM=new eD;class W$e extends Mc{constructor(e=[],i=!1,r="centripetal",o=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=i,this.curveType=r,this.tension=o}getPoint(e,i=new ke){const r=i,o=this.points,s=o.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),u=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:u===0&&l===s-1&&(l=s-2,u=1);let c,d;this.closed||l>0?c=o[(l-1)%s]:(M_.subVectors(o[0],o[1]).add(o[0]),c=M_);const f=o[l%s],h=o[(l+1)%s];if(this.closed||l+2<s?d=o[(l+2)%s]:(M_.subVectors(o[s-1],o[s-2]).add(o[s-1]),d=M_),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),p),b=Math.pow(f.distanceToSquared(h),p),y=Math.pow(h.distanceToSquared(d),p);b<1e-4&&(b=1),g<1e-4&&(g=b),y<1e-4&&(y=b),sM.initNonuniformCatmullRom(c.x,f.x,h.x,d.x,g,b,y),aM.initNonuniformCatmullRom(c.y,f.y,h.y,d.y,g,b,y),lM.initNonuniformCatmullRom(c.z,f.z,h.z,d.z,g,b,y)}else this.curveType==="catmullrom"&&(sM.initCatmullRom(c.x,f.x,h.x,d.x,this.tension),aM.initCatmullRom(c.y,f.y,h.y,d.y,this.tension),lM.initCatmullRom(c.z,f.z,h.z,d.z,this.tension));return r.set(sM.calc(u),aM.calc(u),lM.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const o=e.points[i];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let i=0,r=this.points.length;i<r;i++){const o=this.points[i];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const o=e.points[i];this.points.push(new ke().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function N5(n,e,i,r,o){const s=(r-e)*.5,a=(o-i)*.5,l=n*n,u=n*l;return(2*i-2*r+s+a)*u+(-3*i+3*r-2*s-a)*l+s*n+i}function j$e(n,e){const i=1-n;return i*i*e}function K$e(n,e){return 2*(1-n)*n*e}function q$e(n,e){return n*n*e}function Dy(n,e,i,r){return j$e(n,e)+K$e(n,i)+q$e(n,r)}function X$e(n,e){const i=1-n;return i*i*i*e}function Y$e(n,e){const i=1-n;return 3*i*i*n*e}function Q$e(n,e){return 3*(1-n)*n*n*e}function Z$e(n,e){return n*n*n*e}function Ly(n,e,i,r,o){return X$e(n,e)+Y$e(n,i)+Q$e(n,r)+Z$e(n,o)}class J$e extends Mc{constructor(e=new yn,i=new yn,r=new yn,o=new yn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=i,this.v2=r,this.v3=o}getPoint(e,i=new yn){const r=i,o=this.v0,s=this.v1,a=this.v2,l=this.v3;return r.set(Ly(e,o.x,s.x,a.x,l.x),Ly(e,o.y,s.y,a.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class QK extends Mc{constructor(e=new ke,i=new ke,r=new ke,o=new ke){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=i,this.v2=r,this.v3=o}getPoint(e,i=new ke){const r=i,o=this.v0,s=this.v1,a=this.v2,l=this.v3;return r.set(Ly(e,o.x,s.x,a.x,l.x),Ly(e,o.y,s.y,a.y,l.y),Ly(e,o.z,s.z,a.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eUe extends Mc{constructor(e=new yn,i=new yn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=i}getPoint(e,i=new yn){const r=i;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,i){return this.getPoint(e,i)}getTangent(e,i=new yn){return i.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,i){return this.getTangent(e,i)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tUe extends Mc{constructor(e=new ke,i=new ke){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=i}getPoint(e,i=new ke){const r=i;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,i){return this.getPoint(e,i)}getTangent(e,i=new ke){return i.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,i){return this.getTangent(e,i)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nUe extends Mc{constructor(e=new yn,i=new yn,r=new yn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=i,this.v2=r}getPoint(e,i=new yn){const r=i,o=this.v0,s=this.v1,a=this.v2;return r.set(Dy(e,o.x,s.x,a.x),Dy(e,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tD extends Mc{constructor(e=new ke,i=new ke,r=new ke){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=i,this.v2=r}getPoint(e,i=new ke){const r=i,o=this.v0,s=this.v1,a=this.v2;return r.set(Dy(e,o.x,s.x,a.x),Dy(e,o.y,s.y,a.y),Dy(e,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iUe extends Mc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,i=new yn){const r=i,o=this.points,s=(o.length-1)*e,a=Math.floor(s),l=s-a,u=o[a===0?a:a-1],c=o[a],d=o[a>o.length-2?o.length-1:a+1],f=o[a>o.length-3?o.length-1:a+2];return r.set(N5(l,u.x,c.x,d.x,f.x),N5(l,u.y,c.y,d.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const o=e.points[i];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let i=0,r=this.points.length;i<r;i++){const o=this.points[i];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const o=e.points[i];this.points.push(new yn().fromArray(o))}return this}}var rUe=Object.freeze({__proto__:null,ArcCurve:V$e,CatmullRomCurve3:W$e,CubicBezierCurve:J$e,CubicBezierCurve3:QK,EllipseCurve:YK,LineCurve:eUe,LineCurve3:tUe,QuadraticBezierCurve:nUe,QuadraticBezierCurve3:tD,SplineCurve:iUe});class bC extends Ec{constructor(e=1,i=1,r=1,o=32,s=1,a=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:i,height:r,radialSegments:o,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:u};const c=this;o=Math.floor(o),s=Math.floor(s);const d=[],f=[],h=[],p=[];let g=0;const b=[],y=r/2;let m=0;_(),a===!1&&(e>0&&S(!0),i>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new el(f,3)),this.setAttribute("normal",new el(h,3)),this.setAttribute("uv",new el(p,2));function _(){const w=new ke,A=new ke;let T=0;const C=(i-e)/r;for(let R=0;R<=s;R++){const E=[],P=R/s,I=P*(i-e)+e;for(let D=0;D<=o;D++){const F=D/o,L=F*u+l,$=Math.sin(L),U=Math.cos(L);A.x=I*$,A.y=-P*r+y,A.z=I*U,f.push(A.x,A.y,A.z),w.set($,C,U).normalize(),h.push(w.x,w.y,w.z),p.push(F,1-P),E.push(g++)}b.push(E)}for(let R=0;R<o;R++)for(let E=0;E<s;E++){const P=b[E][R],I=b[E+1][R],D=b[E+1][R+1],F=b[E][R+1];d.push(P,I,F),d.push(I,D,F),T+=6}c.addGroup(m,T,0),m+=T}function S(w){const A=g,T=new yn,C=new ke;let R=0;const E=w===!0?e:i,P=w===!0?1:-1;for(let D=1;D<=o;D++)f.push(0,y*P,0),h.push(0,P,0),p.push(.5,.5),g++;const I=g;for(let D=0;D<=o;D++){const L=D/o*u+l,$=Math.cos(L),U=Math.sin(L);C.x=E*U,C.y=y*P,C.z=E*$,f.push(C.x,C.y,C.z),h.push(0,P,0),T.x=$*.5+.5,T.y=U*.5*P+.5,p.push(T.x,T.y),g++}for(let D=0;D<o;D++){const F=A+D,L=I+D;w===!0?d.push(L,L+1,F):d.push(L+1,L,F),R+=3}c.addGroup(m,R,w===!0?1:2),m+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bC(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nD extends bC{constructor(e=1,i=1,r=32,o=1,s=!1,a=0,l=Math.PI*2){super(0,e,i,r,o,s,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l}}static fromJSON(e){return new nD(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class iD extends Ec{constructor(e=1,i=32,r=16,o=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:i,heightSegments:r,phiStart:o,phiLength:s,thetaStart:a,thetaLength:l},i=Math.max(3,Math.floor(i)),r=Math.max(2,Math.floor(r));const u=Math.min(a+l,Math.PI);let c=0;const d=[],f=new ke,h=new ke,p=[],g=[],b=[],y=[];for(let m=0;m<=r;m++){const _=[],S=m/r;let w=0;m===0&&a===0?w=.5/i:m===r&&u===Math.PI&&(w=-.5/i);for(let A=0;A<=i;A++){const T=A/i;f.x=-e*Math.cos(o+T*s)*Math.sin(a+S*l),f.y=e*Math.cos(a+S*l),f.z=e*Math.sin(o+T*s)*Math.sin(a+S*l),g.push(f.x,f.y,f.z),h.copy(f).normalize(),b.push(h.x,h.y,h.z),y.push(T+w,1-S),_.push(c++)}d.push(_)}for(let m=0;m<r;m++)for(let _=0;_<i;_++){const S=d[m][_+1],w=d[m][_],A=d[m+1][_],T=d[m+1][_+1];(m!==0||a>0)&&p.push(S,w,T),(m!==r-1||u<Math.PI)&&p.push(w,A,T)}this.setIndex(p),this.setAttribute("position",new el(g,3)),this.setAttribute("normal",new el(b,3)),this.setAttribute("uv",new el(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iD(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class rD extends Ec{constructor(e=new tD(new ke(-1,-1,0),new ke(-1,1,0),new ke(1,1,0)),i=64,r=1,o=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:i,radius:r,radialSegments:o,closed:s};const a=e.computeFrenetFrames(i,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new ke,u=new ke,c=new yn;let d=new ke;const f=[],h=[],p=[],g=[];b(),this.setIndex(g),this.setAttribute("position",new el(f,3)),this.setAttribute("normal",new el(h,3)),this.setAttribute("uv",new el(p,2));function b(){for(let S=0;S<i;S++)y(S);y(s===!1?i:0),_(),m()}function y(S){d=e.getPointAt(S/i,d);const w=a.normals[S],A=a.binormals[S];for(let T=0;T<=o;T++){const C=T/o*Math.PI*2,R=Math.sin(C),E=-Math.cos(C);u.x=E*w.x+R*A.x,u.y=E*w.y+R*A.y,u.z=E*w.z+R*A.z,u.normalize(),h.push(u.x,u.y,u.z),l.x=d.x+r*u.x,l.y=d.y+r*u.y,l.z=d.z+r*u.z,f.push(l.x,l.y,l.z)}}function m(){for(let S=1;S<=i;S++)for(let w=1;w<=o;w++){const A=(o+1)*(S-1)+(w-1),T=(o+1)*S+(w-1),C=(o+1)*S+w,R=(o+1)*(S-1)+w;g.push(A,T,R),g.push(T,C,R)}}function _(){for(let S=0;S<=i;S++)for(let w=0;w<=o;w++)c.x=S/i,c.y=w/o,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new rD(new rUe[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class oUe extends yC{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new mc(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mc(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=m$e,this.normalScale=new yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Um,this.combine=UK,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:$K}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=$K);var uM,O5;function oD(){if(O5)return uM;O5=1,uM=function(r){e(r);var o=n(r);return r.on=o.on,r.off=o.off,r.fire=o.fire,r};function n(i){var r=Object.create(null);return{on:function(o,s,a){if(typeof s!="function")throw new Error("callback is expected to be a function");var l=r[o];return l||(l=r[o]=[]),l.push({callback:s,ctx:a}),i},off:function(o,s){var a=typeof o>"u";if(a)return r=Object.create(null),i;if(r[o]){var l=typeof s!="function";if(l)delete r[o];else for(var u=r[o],c=0;c<u.length;++c)u[c].callback===s&&u.splice(c,1)}return i},fire:function(o){var s=r[o];if(!s)return i;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var l=0;l<s.length;++l){var u=s[l];u.callback.apply(u.ctx,a)}return i}}}function e(i){if(!i)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],o=0;o<r.length;++o)if(i.hasOwnProperty(r[o]))throw new Error("Subject cannot be eventified, since it already has property '"+r[o]+"'")}return uM}var cM,D5;function sUe(){if(D5)return cM;D5=1,cM=e;var n=oD();function e(a){if(a=a||{},"uniqueLinkId"in a&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),a.multigraph=a.uniqueLinkId),a.multigraph===void 0&&(a.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var l=new Map,u=new Map,c={},d=0,f=a.multigraph?P:E,h=[],p=ie,g=ie,b=ie,y=ie,m={version:20,addNode:A,addLink:R,removeLink:L,removeNode:C,getNode:T,getNodeCount:I,getLinkCount:D,getEdgeCount:D,getLinksCount:D,getNodesCount:I,getLinks:F,forEachNode:se,forEachLinkedNode:z,forEachLink:H,beginUpdate:b,endUpdate:y,clear:k,hasLink:U,hasNode:T,getLink:U};return n(m),_(),m;function _(){var ee=m.on;m.on=ne;function ne(){return m.beginUpdate=b=xe,m.endUpdate=y=J,p=S,g=w,m.on=ee,ee.apply(m,arguments)}}function S(ee,ne){h.push({link:ee,changeType:ne})}function w(ee,ne){h.push({node:ee,changeType:ne})}function A(ee,ne){if(ee===void 0)throw new Error("Invalid node identifier");b();var ue=T(ee);return ue?(ue.data=ne,g(ue,"update")):(ue=new i(ee,ne),g(ue,"add")),l.set(ee,ue),y(),ue}function T(ee){return l.get(ee)}function C(ee){var ne=T(ee);if(!ne)return!1;b();var ue=ne.links;return ue&&(ue.forEach($),ne.links=null),l.delete(ee),g(ne,"remove"),y(),!0}function R(ee,ne,ue){b();var Y=T(ee)||A(ee),le=T(ne)||A(ne),fe=f(ee,ne,ue),W=u.has(fe.id);return u.set(fe.id,fe),r(Y,fe),ee!==ne&&r(le,fe),p(fe,W?"update":"add"),y(),fe}function E(ee,ne,ue){var Y=s(ee,ne),le=u.get(Y);return le?(le.data=ue,le):new o(ee,ne,ue,Y)}function P(ee,ne,ue){var Y=s(ee,ne),le=c.hasOwnProperty(Y);if(le||U(ee,ne)){le||(c[Y]=0);var fe="@"+ ++c[Y];Y=s(ee+fe,ne+fe)}return new o(ee,ne,ue,Y)}function I(){return l.size}function D(){return u.size}function F(ee){var ne=T(ee);return ne?ne.links:null}function L(ee,ne){return ne!==void 0&&(ee=U(ee,ne)),$(ee)}function $(ee){if(!ee||!u.get(ee.id))return!1;b(),u.delete(ee.id);var ne=T(ee.fromId),ue=T(ee.toId);return ne&&ne.links.delete(ee),ue&&ue.links.delete(ee),p(ee,"remove"),y(),!0}function U(ee,ne){if(!(ee===void 0||ne===void 0))return u.get(s(ee,ne))}function k(){b(),se(function(ee){C(ee.id)}),y()}function H(ee){if(typeof ee=="function")for(var ne=u.values(),ue=ne.next();!ue.done;){if(ee(ue.value))return!0;ue=ne.next()}}function z(ee,ne,ue){var Y=T(ee);if(Y&&Y.links&&typeof ne=="function")return ue?Z(Y.links,ee,ne):Q(Y.links,ee,ne)}function Q(ee,ne,ue){for(var Y,le=ee.values(),fe=le.next();!fe.done;){var W=fe.value,X=W.fromId===ne?W.toId:W.fromId;if(Y=ue(l.get(X),W),Y)return!0;fe=le.next()}}function Z(ee,ne,ue){for(var Y,le=ee.values(),fe=le.next();!fe.done;){var W=fe.value;if(W.fromId===ne&&(Y=ue(l.get(W.toId),W),Y))return!0;fe=le.next()}}function ie(){}function xe(){d+=1}function J(){d-=1,d===0&&h.length>0&&(m.fire("changed",h),h.length=0)}function se(ee){if(typeof ee!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+ee);for(var ne=l.values(),ue=ne.next();!ue.done;){if(ee(ue.value))return!0;ue=ne.next()}}}function i(a,l){this.id=a,this.links=null,this.data=l}function r(a,l){a.links?a.links.add(l):a.links=new Set([l])}function o(a,l,u,c){this.fromId=a,this.toId=l,this.data=u,this.id=c}function s(a,l){return a.toString()+" "+l.toString()}return cM}var aUe=sUe();const lUe=_N(aUe);var R_={exports:{}},Vp={exports:{}},dM,L5;function ZK(){return L5||(L5=1,dM=function(e){return e===0?"x":e===1?"y":e===2?"z":"c"+(e+1)}),dM}var fM,B5;function km(){if(B5)return fM;B5=1;const n=ZK();return fM=function(i){return r;function r(o,s){let a=s&&s.indent||0,l=s&&s.join!==void 0?s.join:`
`,u=Array(a+1).join(" "),c=[];for(let d=0;d<i;++d){let f=n(d),h=d===0?"":u;c.push(h+o.replace(/{var}/g,f))}return c.join(l)}},fM}var F5;function uUe(){if(F5)return Vp.exports;F5=1;const n=km();Vp.exports=e,Vp.exports.generateCreateBodyFunctionBody=i,Vp.exports.getVectorCode=o,Vp.exports.getBodyCode=r;function e(s,a){let l=i(s,a),{Body:u}=new Function(l)();return u}function i(s,a){return`
${o(s,a)}
${r(s)}
return {Body: Body, Vector: Vector};
`}function r(s){let a=n(s),l=a("{var}",{join:", "});return`
function Body(${l}) {
  this.isPinned = false;
  this.pos = new Vector(${l});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${l}) {
  ${a("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function o(s,a){let l=n(s),u="";return a&&(u=`${l(`
	   var v{var};
	Object.defineProperty(this, '{var}', {
	  set: function(v) { 
	    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
	    v{var} = v; 
	  },
	  get: function() { return v{var}; }
	});`)}`),`function Vector(${l("{var}",{join:", "})}) {
  ${u}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${l('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${l("this.{var} = v.{var};",{indent:4})}
    } else {
      ${l('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${l("this.{var} = ",{join:""})}0;
  };`}return Vp.exports}var Pu={exports:{}},$5;function cUe(){if($5)return Pu.exports;$5=1;const n=km(),e=ZK();Pu.exports=i,Pu.exports.generateQuadTreeFunctionBody=r,Pu.exports.getInsertStackCode=u,Pu.exports.getQuadNodeCode=l,Pu.exports.isSamePosition=o,Pu.exports.getChildBodyCode=a,Pu.exports.setChildBodyCode=s;function i(c){let d=r(c);return new Function(d)()}function r(c){let d=n(c),f=Math.pow(2,c);return`
${u()}
${l(c)}
${o(c)}
${a(c)}
${s(c)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${b("      node.")}
      node.body = null;
      node.mass = ${d("node.mass_{var} = ",{join:""})}0;
      ${d("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${d("var d{var};",{indent:4})}
    var r; 
    ${d("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${d("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${d("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${d("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${d("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${d("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < , treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${e(0)} - node.min_${e(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${d("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${g()}
        }
      }
    }

    ${d("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${d("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${d("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${d("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${d("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${d("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${d("root.min_{var} = {var}min;",{indent:4})}
    ${d("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${d("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${d("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${d("var min_{var} = node.min_{var};",{indent:8})}
        ${d("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${p(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${d("child.min_{var} = min_{var};",{indent:10})}
          ${d("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${d("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${d("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function p(y){let m=[],_=Array(y+1).join(" ");for(let S=0;S<c;++S)m.push(_+`if (${e(S)} > max_${e(S)}) {`),m.push(_+`  quadIdx = quadIdx + ${Math.pow(2,S)};`),m.push(_+`  min_${e(S)} = max_${e(S)};`),m.push(_+`  max_${e(S)} = node.max_${e(S)};`),m.push(_+"}");return m.join(`
`)}function g(){let y=Array(11).join(" "),m=[];for(let _=0;_<f;++_)m.push(y+`if (node.quad${_}) {`),m.push(y+`  queue[pushIdx] = node.quad${_};`),m.push(y+"  queueLength += 1;"),m.push(y+"  pushIdx += 1;"),m.push(y+"}");return m.join(`
`)}function b(y){let m=[];for(let _=0;_<f;++_)m.push(`${y}quad${_} = null;`);return m.join(`
`)}}function o(c){let d=n(c);return`
  function isSamePosition(point1, point2) {
    ${d("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${d("d{var} < 1e-8",{join:" && "})};
  }  
`}function s(c){var d=Math.pow(2,c);return`
function setChild(node, idx, child) {
  ${f()}
}`;function f(){let h=[];for(let p=0;p<d;++p){let g=p===0?"  ":"  else ";h.push(`${g}if (idx === ${p}) node.quad${p} = child;`)}return h.join(`
`)}}function a(c){return`function getChild(node, idx) {
${d()}
  return null;
}`;function d(){let f=[],h=Math.pow(2,c);for(let p=0;p<h;++p)f.push(`  if (idx === ${p}) return node.quad${p};`);return f.join(`
`)}}function l(c){let d=n(c),f=Math.pow(2,c);var h=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${p("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${d("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${d("this.min_{var} = 0;",{indent:2})}
  ${d("this.max_{var} = 0;",{indent:2})}
}
`;return h;function p(g){let b=[];for(let y=0;y<f;++y)b.push(`${g}quad${y} = null;`);return b.join(`
`)}}function u(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}return Pu.exports}var P_={exports:{}},U5;function dUe(){if(U5)return P_.exports;U5=1,P_.exports=e,P_.exports.generateFunctionBody=i;const n=km();function e(r){let o=i(r);return new Function("bodies","settings","random",o)}function i(r){let o=n(r);return`
  var boundingBox = {
    ${o("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${o("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${o("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${o("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${o("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${o("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${o("var max_{var} = -Infinity;",{indent:4})}
    ${o("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${o("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${o("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${o("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${o("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${o("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}return P_.exports}var I_={exports:{}},k5;function fUe(){if(k5)return I_.exports;k5=1;const n=km();I_.exports=e,I_.exports.generateCreateDragForceFunctionBody=i;function e(r){let o=i(r);return new Function("options",o)}function i(r){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${n(r)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}return I_.exports}var N_={exports:{}},z5;function hUe(){if(z5)return N_.exports;z5=1;const n=km();N_.exports=e,N_.exports.generateCreateSpringForceFunctionBody=i;function e(r){let o=i(r);return new Function("options","random",o)}function i(r){let o=n(r);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${o("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${o("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${o("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${o("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${o("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${o("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}return N_.exports}var O_={exports:{}},H5;function pUe(){if(H5)return O_.exports;H5=1;const n=km();O_.exports=e,O_.exports.generateIntegratorFunctionBody=i;function e(r){let o=i(r);return new Function("bodies","timeStep","adaptiveTimeStepWeight",o)}function i(r){let o=n(r);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${o("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${o("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${o("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${o("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${o("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${o("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${o("body.pos.{var} += d{var};",{indent:4})}

    ${o("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${o("t{var} * t{var}",{join:" + "})})/length;
`}return O_.exports}var hM,G5;function gUe(){if(G5)return hM;G5=1,hM=n;function n(e,i,r,o){this.from=e,this.to=i,this.length=r,this.coefficient=o}return hM}var pM,V5;function mUe(){if(V5)return pM;V5=1,pM=n;function n(e,i){var r;if(e||(e={}),i){for(r in i)if(i.hasOwnProperty(r)){var o=e.hasOwnProperty(r),s=typeof i[r],a=!o||typeof e[r]!==s;a?e[r]=i[r]:s==="object"&&(e[r]=n(e[r],i[r]))}}return e}return pM}var Fv={exports:{}},W5;function vUe(){if(W5)return Fv.exports;W5=1,Fv.exports=n,Fv.exports.random=n,Fv.exports.randomIterator=l;function n(u){var c=typeof u=="number"?u:+new Date;return new e(c)}function e(u){this.seed=u}e.prototype.next=a,e.prototype.nextDouble=s,e.prototype.uniform=s,e.prototype.gaussian=i;function i(){var u,c,d;do c=this.nextDouble()*2-1,d=this.nextDouble()*2-1,u=c*c+d*d;while(u>=1||u===0);return c*Math.sqrt(-2*Math.log(u)/u)}e.prototype.levy=r;function r(){var u=1.5,c=Math.pow(o(1+u)*Math.sin(Math.PI*u/2)/(o((1+u)/2)*u*Math.pow(2,(u-1)/2)),1/u);return this.gaussian()*c/Math.pow(Math.abs(this.gaussian()),1/u)}function o(u){return Math.sqrt(2*Math.PI/u)*Math.pow(1/Math.E*(u+1/(12*u-1/(10*u))),u)}function s(){var u=this.seed;return u=u+2127912214+(u<<12)&4294967295,u=(u^3345072700^u>>>19)&4294967295,u=u+374761393+(u<<5)&4294967295,u=(u+3550635116^u<<9)&4294967295,u=u+4251993797+(u<<3)&4294967295,u=(u^3042594569^u>>>16)&4294967295,this.seed=u,(u&268435455)/268435456}function a(u){return Math.floor(this.nextDouble()*u)}function l(u,c){var d=c||n();if(typeof d.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:h,shuffle:f};function f(){var p,g,b;for(p=u.length-1;p>0;--p)g=d.next(p+1),b=u[g],u[g]=u[p],u[p]=b;return u}function h(p){var g,b,y;for(g=u.length-1;g>0;--g)b=d.next(g+1),y=u[b],u[b]=u[g],u[g]=y,p(y);u.length&&p(u[0])}}return Fv.exports}var gM,j5;function K5(){if(j5)return gM;j5=1,gM=l;var n=uUe(),e=cUe(),i=dUe(),r=fUe(),o=hUe(),s=pUe(),a={};function l(d){var f=gUe(),h=mUe(),p=oD();if(d){if(d.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(d.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}d=h(d,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var g=a[d.dimensions];if(!g){var b=d.dimensions;g={Body:n(b,d.debug),createQuadTree:e(b),createBounds:i(b),createDragForce:r(b),createSpringForce:o(b),integrate:s(b)},a[b]=g}var y=g.Body,m=g.createQuadTree,_=g.createBounds,S=g.createDragForce,w=g.createSpringForce,A=g.integrate,T=se=>new y(se),C=vUe().random(42),R=[],E=[],P=m(d,C),I=_(R,d,C),D=w(d,C),F=S(d),L=0,$=[],U=new Map,k=0;Q("nbody",xe),Q("spring",J);var H={bodies:R,quadTree:P,springs:E,settings:d,addForce:Q,removeForce:Z,getForces:ie,step:function(){for(var se=0;se<$.length;++se)$[se](k);var ee=A(R,d.timeStep,d.adaptiveTimeStepWeight);return k+=1,ee},addBody:function(se){if(!se)throw new Error("Body is required");return R.push(se),se},addBodyAt:function(se){if(!se)throw new Error("Body position is required");var ee=T(se);return R.push(ee),ee},removeBody:function(se){if(se){var ee=R.indexOf(se);if(!(ee<0))return R.splice(ee,1),R.length===0&&I.reset(),!0}},addSpring:function(se,ee,ne,ue){if(!se||!ee)throw new Error("Cannot add null spring to force simulator");typeof ne!="number"&&(ne=-1);var Y=new f(se,ee,ne,ue>=0?ue:-1);return E.push(Y),Y},getTotalMovement:function(){return L},removeSpring:function(se){if(se){var ee=E.indexOf(se);if(ee>-1)return E.splice(ee,1),!0}},getBestNewBodyPosition:function(se){return I.getBestNewPosition(se)},getBBox:z,getBoundingBox:z,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(se){return se!==void 0?(d.gravity=se,P.options({gravity:se}),this):d.gravity},theta:function(se){return se!==void 0?(d.theta=se,P.options({theta:se}),this):d.theta},random:C};return u(d,H),p(H),H;function z(){return I.update(),I.box}function Q(se,ee){if(U.has(se))throw new Error("Force "+se+" is already added");U.set(se,ee),$.push(ee)}function Z(se){var ee=$.indexOf(U.get(se));ee<0||($.splice(ee,1),U.delete(se))}function ie(){return U}function xe(){if(R.length!==0){P.insertBodies(R);for(var se=R.length;se--;){var ee=R[se];ee.isPinned||(ee.reset(),P.updateBodyForce(ee),F.update(ee))}}}function J(){for(var se=E.length;se--;)D.update(E[se])}}function u(d,f){for(var h in d)c(d,f,h)}function c(d,f,h){if(d.hasOwnProperty(h)&&typeof f[h]!="function"){var p=Number.isFinite(d[h]);p?f[h]=function(g){if(g!==void 0){if(!Number.isFinite(g))throw new Error("Value of "+h+" should be a valid number.");return d[h]=g,f}return d[h]}:f[h]=function(g){return g!==void 0?(d[h]=g,f):d[h]}}}return gM}var q5;function yUe(){if(q5)return R_.exports;q5=1,R_.exports=e,R_.exports.simulator=K5();var n=oD();function e(r,o){if(!r)throw new Error("Graph structure cannot be undefined");var s=o&&o.createSimulator||K5(),a=s(o);if(Array.isArray(o))throw new Error("Physics settings is expected to be an object");var l=r.version>19?U:$;o&&typeof o.nodeMass=="function"&&(l=o.nodeMass);var u=new Map,c={},d=0,f=a.settings.springTransform||i;T(),S();var h=!1,p={step:function(){if(d===0)return g(!0),!0;var k=a.step();p.lastMove=k,p.fire("step");var H=k/d,z=H<=.01;return g(z),z},getNodePosition:function(k){return L(k).pos},setNodePosition:function(k){var H=L(k);H.setPosition.apply(H,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(k){var H=c[k];if(H)return{from:H.from.pos,to:H.to.pos}},getGraphRect:function(){return a.getBBox()},forEachBody:b,pinNode:function(k,H){var z=L(k.id);z.isPinned=!!H},isNodePinned:function(k){return L(k.id).isPinned},dispose:function(){r.off("changed",A),p.fire("disposed")},getBody:_,getSpring:m,getForceVectorLength:y,simulator:a,graph:r,lastMove:0};return n(p),p;function g(k){h!==k&&(h=k,w(k))}function b(k){u.forEach(k)}function y(){var k=0,H=0;return b(function(z){k+=Math.abs(z.force.x),H+=Math.abs(z.force.y)}),Math.sqrt(k*k+H*H)}function m(k,H){var z;if(H===void 0)typeof k!="object"?z=k:z=k.id;else{var Q=r.hasLink(k,H);if(!Q)return;z=Q.id}return c[z]}function _(k){return u.get(k)}function S(){r.on("changed",A)}function w(k){p.fire("stable",k)}function A(k){for(var H=0;H<k.length;++H){var z=k[H];z.changeType==="add"?(z.node&&C(z.node.id),z.link&&E(z.link)):z.changeType==="remove"&&(z.node&&R(z.node),z.link&&P(z.link))}d=r.getNodesCount()}function T(){d=0,r.forEachNode(function(k){C(k.id),d+=1}),r.forEachLink(E)}function C(k){var H=u.get(k);if(!H){var z=r.getNode(k);if(!z)throw new Error("initBody() was called with unknown node id");var Q=z.position;if(!Q){var Z=I(z);Q=a.getBestNewBodyPosition(Z)}H=a.addBodyAt(Q),H.id=k,u.set(k,H),D(k),F(z)&&(H.isPinned=!0)}}function R(k){var H=k.id,z=u.get(H);z&&(u.delete(H),a.removeBody(z))}function E(k){D(k.fromId),D(k.toId);var H=u.get(k.fromId),z=u.get(k.toId),Q=a.addSpring(H,z,k.length);f(k,Q),c[k.id]=Q}function P(k){var H=c[k.id];if(H){var z=r.getNode(k.fromId),Q=r.getNode(k.toId);z&&D(z.id),Q&&D(Q.id),delete c[k.id],a.removeSpring(H)}}function I(k){var H=[];if(!k.links)return H;for(var z=Math.min(k.links.length,2),Q=0;Q<z;++Q){var Z=k.links[Q],ie=Z.fromId!==k.id?u.get(Z.fromId):u.get(Z.toId);ie&&ie.pos&&H.push(ie)}return H}function D(k){var H=u.get(k);if(H.mass=l(k),Number.isNaN(H.mass))throw new Error("Node mass should be a number")}function F(k){return k&&(k.isPinned||k.data&&k.data.isPinned)}function L(k){var H=u.get(k);return H||(C(k),H=u.get(k)),H}function $(k){var H=r.getLinks(k);return H?1+H.length/3:1}function U(k){var H=r.getLinks(k);return H?1+H.size/3:1}}function i(){}return R_.exports}var bUe=yUe();const xUe=_N(bUe);function _P(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function _Ue(n){if(Array.isArray(n))return n}function SUe(n){if(Array.isArray(n))return _P(n)}function JK(n,e,i){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function wUe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function CUe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function io(n,e){return n.get(JK(n,e))}function Wp(n,e,i){wUe(n,e),e.set(n,i)}function D_(n,e,i){return n.set(JK(n,e),i),i}function AUe(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,DUe(r.key),r)}}function TUe(n,e,i){return AUe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function EUe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function MUe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function RUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IUe(n,e){return _Ue(n)||MUe(n,e)||eq(n,e)||RUe()}function NUe(n){return SUe(n)||EUe(n)||eq(n)||PUe()}function OUe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function DUe(n){var e=OUe(n,"string");return typeof e=="symbol"?e:e+""}function eq(n,e){if(n){if(typeof n=="string")return _P(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_P(n,e):void 0}}var jp=new WeakMap,$v=new WeakMap,Kp=new WeakMap,mM=new WeakMap,vM=new WeakMap,yM=new WeakMap,LUe=function(){function n(){CUe(this,n),Wp(this,jp,new Map),Wp(this,$v,new Map),Wp(this,Kp,function(e){return e}),Wp(this,mM,function(){return{}}),Wp(this,vM,function(){}),Wp(this,yM,function(){})}return TUe(n,[{key:"getObj",value:function(i){return io(jp,this).get(io(Kp,this).call(this,i))}},{key:"getData",value:function(i){return io($v,this).get(i)}},{key:"entries",value:function(){return NUe(io($v,this).entries()).map(function(i){var r=IUe(i,2),o=r[0],s=r[1];return[s,o]})}},{key:"id",value:function(i){return D_(Kp,this,Ot(i)),this}},{key:"onCreateObj",value:function(i){return D_(mM,this,i),this}},{key:"onUpdateObj",value:function(i){return D_(vM,this,i),this}},{key:"onRemoveObj",value:function(i){return D_(yM,this,i),this}},{key:"digest",value:function(i){var r=this;i.filter(function(s){return!io(jp,r).has(io(Kp,r).call(r,s))}).forEach(function(s){var a=io(mM,r).call(r,s);io(jp,r).set(io(Kp,r).call(r,s),a),io($v,r).set(a,s)});var o=new Map(i.map(function(s){return[io(Kp,r).call(r,s),s]}));return io(jp,this).forEach(function(s,a){o.has(a)?io(vM,r).call(r,s,o.get(a)):(io(yM,r).call(r,s,a),io(jp,r).delete(a),io($v,r).delete(s))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}();function SP(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function BUe(n){if(Array.isArray(n))return n}function FUe(n){if(Array.isArray(n))return SP(n)}function tq(n,e,i){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function $Ue(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function nq(n,e,i){return e=Sm(e),jUe(n,sD()?Reflect.construct(e,i||[],Sm(n).constructor):e.apply(n,i))}function UUe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iq(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function bM(n,e){return n.get(tq(n,e))}function X5(n,e,i){UUe(n,e),e.set(n,i)}function Y5(n,e,i){return n.set(tq(n,e),i),i}function rq(n,e,i){if(sD())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(n.bind.apply(n,r));return o}function kUe(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,aq(r.key),r)}}function oq(n,e,i){return e&&kUe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function xC(n,e,i){return(e=aq(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function wP(){return wP=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,i){var r=KUe(n,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?n:i):o.value}},wP.apply(null,arguments)}function Sm(n){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sm(n)}function sq(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&CP(n,e)}function sD(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!n})()}function zUe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function HUe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function GUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q5(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function WUe(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(i),!0).forEach(function(r){xC(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Q5(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function jUe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ue(n)}function CP(n,e){return CP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},CP(n,e)}function By(n,e){return BUe(n)||HUe(n,e)||lq(n,e)||GUe()}function KUe(n,e){for(;!{}.hasOwnProperty.call(n,e)&&(n=Sm(n))!==null;);return n}function xM(n,e,i,r){var o=wP(Sm(n.prototype),e,i);return typeof o=="function"?function(s){return o.apply(i,s)}:o}function Ga(n){return FUe(n)||zUe(n)||lq(n)||VUe()}function qUe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aq(n){var e=qUe(n,"string");return typeof e=="symbol"?e:e+""}function AP(n){"@babel/helpers - typeof";return AP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AP(n)}function lq(n,e){if(n){if(typeof n=="string")return SP(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?SP(n,e):void 0}}var uq=function(e){e instanceof Array?e.forEach(uq):(e.map&&e.map.dispose(),e.dispose())},cq=function(e){e.geometry&&e.geometry.dispose(),e.material&&uq(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(cq)},TP=function(e){for(;e.children.length;){var i=e.children[0];e.remove(i),cq(i)}},_M=new WeakMap,L_=new WeakMap,Uv=function(n){function e(i){var r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.dataBindAttr,a=s===void 0?"__data":s,l=o.objBindAttr,u=l===void 0?"__threeObj":l;return iq(this,e),r=nq(this,e),xC(r,"scene",void 0),X5(r,_M,void 0),X5(r,L_,void 0),r.scene=i,Y5(_M,r,a),Y5(L_,r,u),r.onRemoveObj(function(){}),r}return sq(e,n),oq(e,[{key:"onCreateObj",value:function(r){var o=this;return xM(e,"onCreateObj",this)([function(s){var a=r(s);return s[bM(L_,o)]=a,a[bM(_M,o)]=s,o.scene.add(a),a}]),this}},{key:"onRemoveObj",value:function(r){var o=this;return xM(e,"onRemoveObj",this)([function(s,a){var l=xM(e,"getData",o)([s]);r(s,a),o.scene.remove(s),TP(s),delete l[bM(L_,o)]}]),this}}])}(LUe),kv=function(e){return isNaN(e)?parseInt(Bt(e).toHex(),16):e},SM=function(e){return isNaN(e)?Bt(e).getAlpha():1},XUe=mO(Fj);function Z5(n,e,i){!e||typeof i!="string"||n.filter(function(r){return!r[i]}).forEach(function(r){r[i]=XUe(e(r))})}function YUe(n,e){var i=n.nodes,r=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.nodeFilter,a=s===void 0?function(){return!0}:s,l=o.onLoopError,u=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,c={};i.forEach(function(p){return c[e(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),r.forEach(function(p){var g=p.source,b=p.target,y=w(g),m=w(b);if(!c.hasOwnProperty(y))throw"Missing source node with id: ".concat(y);if(!c.hasOwnProperty(m))throw"Missing target node with id: ".concat(m);var _=c[y],S=c[m];_.out.push(S);function w(A){return AP(A)==="object"?e(A):A}});var d=[];h(Object.values(c));var f=Object.assign.apply(Object,[{}].concat(Ga(Object.entries(c).filter(function(p){var g=By(p,2),b=g[1];return!b.skip}).map(function(p){var g=By(p,2),b=g[0],y=g[1];return xC({},b,y.depth)}))));return f;function h(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=function(){var w=p[m];if(g.indexOf(w)!==-1){var A=[].concat(Ga(g.slice(g.indexOf(w))),[w]).map(function(T){return e(T.data)});return d.some(function(T){return T.length===A.length&&T.every(function(C,R){return C===A[R]})})||(d.push(A),u(A)),1}b>w.depth&&(w.depth=b,h(w.out,[].concat(Ga(g),[w]),b+(w.skip?0:1)))},m=0,_=p.length;m<_;m++)y()}}var Vt=window.THREE?window.THREE:{Group:jK,Mesh:$$e,MeshLambertMaterial:oUe,Color:mc,BufferGeometry:Ec,BufferAttribute:Dd,Matrix4:jr,Vector3:ke,SphereGeometry:iD,CylinderGeometry:bC,TubeGeometry:rD,ConeGeometry:nD,Line:H$e,LineBasicMaterial:XK,QuadraticBezierCurve3:tD,CubicBezierCurve3:QK,Box3:$m},J5={graph:lUe,forcelayout:xUe},QUe=2,wM=new Vt.BufferGeometry().setAttribute?"setAttribute":"addAttribute",B_=new Vt.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",ZUe=Pm({props:{jsonUrl:{onChange:function(e,i){var r=this;e&&!i.fetchingJson&&(i.fetchingJson=!0,i.onLoading(),fetch(e).then(function(o){return o.json()}).then(function(o){i.fetchingJson=!1,i.onFinishLoading(o),r.graphData(o)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,i){i.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,i){var r=i.d3ForceLayout.force("charge");r&&r.strength(e>2?-60:-30),e<3&&o(i.graphData.nodes,"z"),e<2&&o(i.graphData.nodes,"y");function o(s,a){s.forEach(function(l){delete l[a],delete l["v".concat(a)]})}}},dagMode:{onChange:function(e,i){!e&&i.forceEngine==="d3"&&(i.graphData.nodes||[]).forEach(function(r){return r.fx=r.fy=r.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,i){i.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,i){i.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,i){i.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,i,r){return r===void 0?e.d3ForceLayout.force(i):(e.d3ForceLayout.force(i,r),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var i=e.forceEngine!=="ngraph";return e.engineRunning&&r(),o(),s(),this;function r(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||i&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[i?"tick":"step"](),e.onEngineTick());var a=Ot(e.nodeThreeObjectExtend);e.nodeDataMapper.entries().forEach(function(h){var p=By(h,2),g=p[0],b=p[1];if(b){var y=i?g:e.layout.getNodePosition(g[e.nodeId]),m=a(g);(!e.nodePositionUpdate||!e.nodePositionUpdate(m?b.children[0]:b,{x:y.x,y:y.y,z:y.z},g)||m)&&(b.position.x=y.x,b.position.y=y.y||0,b.position.z=y.z||0)}});var l=Ot(e.linkWidth),u=Ot(e.linkCurvature),c=Ot(e.linkCurveRotation),d=Ot(e.linkThreeObjectExtend);e.linkDataMapper.entries().forEach(function(h){var p=By(h,2),g=p[0],b=p[1];if(b){var y=i?g:e.layout.getLinkPosition(e.layout.graph.getLink(g.source,g.target).id),m=y[i?"source":"from"],_=y[i?"target":"to"];if(!(!m||!_||!m.hasOwnProperty("x")||!_.hasOwnProperty("x"))){f(g);var S=d(g);if(!(e.linkPositionUpdate&&e.linkPositionUpdate(S?b.children[1]:b,{start:{x:m.x,y:m.y,z:m.z},end:{x:_.x,y:_.y,z:_.z}},g)&&!S)){var w=30,A=g.__curve,T=b.children.length?b.children[0]:b;if(T.type==="Line"){if(A){var R=A.getPoints(w);T.geometry.getAttribute("position").array.length!==R.length*3&&T.geometry[wM]("position",new Vt.BufferAttribute(new Float32Array(R.length*3),3)),T.geometry.setFromPoints(R)}else{var C=T.geometry.getAttribute("position");(!C||!C.array||C.array.length!==6)&&T.geometry[wM]("position",C=new Vt.BufferAttribute(new Float32Array(2*3),3)),C.array[0]=m.x,C.array[1]=m.y||0,C.array[2]=m.z||0,C.array[3]=_.x,C.array[4]=_.y||0,C.array[5]=_.z||0,C.needsUpdate=!0}T.geometry.computeBoundingSphere()}else if(T.type==="Mesh")if(A){T.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(T.position.set(0,0,0),T.rotation.set(0,0,0),T.scale.set(1,1,1));var $=Math.ceil(l(g)*10)/10,U=$/2,k=new Vt.TubeGeometry(A,w,U,e.linkResolution,!1);T.geometry.dispose(),T.geometry=k}else{if(!T.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var E=Math.ceil(l(g)*10)/10,P=E/2,I=new Vt.CylinderGeometry(P,P,1,e.linkResolution,1,!1);I[B_](new Vt.Matrix4().makeTranslation(0,1/2,0)),I[B_](new Vt.Matrix4().makeRotationX(Math.PI/2)),T.geometry.dispose(),T.geometry=I}var D=new Vt.Vector3(m.x,m.y||0,m.z||0),F=new Vt.Vector3(_.x,_.y||0,_.z||0),L=D.distanceTo(F);T.position.x=D.x,T.position.y=D.y,T.position.z=D.z,T.scale.z=L,T.parent.localToWorld(F),T.lookAt(F)}}}}});function f(h){var p=i?h:e.layout.getLinkPosition(e.layout.graph.getLink(h.source,h.target).id),g=p[i?"source":"from"],b=p[i?"target":"to"];if(!(!g||!b||!g.hasOwnProperty("x")||!b.hasOwnProperty("x"))){var y=u(h);if(!y)h.__curve=null;else{var m=new Vt.Vector3(g.x,g.y||0,g.z||0),_=new Vt.Vector3(b.x,b.y||0,b.z||0),S=m.distanceTo(_),w,A=c(h);if(S>0){var T=b.x-g.x,C=b.y-g.y||0,R=new Vt.Vector3().subVectors(_,m),E=R.clone().multiplyScalar(y).cross(T!==0||C!==0?new Vt.Vector3(0,0,1):new Vt.Vector3(0,1,0)).applyAxisAngle(R.normalize(),A).add(new Vt.Vector3().addVectors(m,_).divideScalar(2));w=new Vt.QuadraticBezierCurve3(m,E,_)}else{var P=y*70,I=-A,D=I+Math.PI/2;w=new Vt.CubicBezierCurve3(m,new Vt.Vector3(P*Math.cos(D),P*Math.sin(D),0).add(m),new Vt.Vector3(P*Math.cos(I),P*Math.sin(I),0).add(m),_)}h.__curve=w}}}}function o(){var a=Ot(e.linkDirectionalArrowRelPos),l=Ot(e.linkDirectionalArrowLength),u=Ot(e.nodeVal);e.arrowDataMapper.entries().forEach(function(c){var d=By(c,2),f=d[0],h=d[1];if(h){var p=i?f:e.layout.getLinkPosition(e.layout.graph.getLink(f.source,f.target).id),g=p[i?"source":"from"],b=p[i?"target":"to"];if(!(!g||!b||!g.hasOwnProperty("x")||!b.hasOwnProperty("x"))){var y=Math.cbrt(Math.max(0,u(g)||1))*e.nodeRelSize,m=Math.cbrt(Math.max(0,u(b)||1))*e.nodeRelSize,_=l(f),S=a(f),w=f.__curve?function(P){return f.__curve.getPoint(P)}:function(P){var I=function(F,L,$,U){return L[F]+($[F]-L[F])*U||0};return{x:I("x",g,b,P),y:I("y",g,b,P),z:I("z",g,b,P)}},A=f.__curve?f.__curve.getLength():Math.sqrt(["x","y","z"].map(function(P){return Math.pow((b[P]||0)-(g[P]||0),2)}).reduce(function(P,I){return P+I},0)),T=y+_+(A-y-m-_)*S,C=w(T/A),R=w((T-_)/A);["x","y","z"].forEach(function(P){return h.position[P]=R[P]});var E=rq(Vt.Vector3,Ga(["x","y","z"].map(function(P){return C[P]})));h.parent.localToWorld(E),h.lookAt(E)}}})}function s(){var a=Ot(e.linkDirectionalParticleSpeed);e.graphData.links.forEach(function(l){var u=e.particlesDataMapper.getObj(l),c=u&&u.children,d=l.__singleHopPhotonsObj&&l.__singleHopPhotonsObj.children;if(!((!d||!d.length)&&(!c||!c.length))){var f=i?l:e.layout.getLinkPosition(e.layout.graph.getLink(l.source,l.target).id),h=f[i?"source":"from"],p=f[i?"target":"to"];if(!(!h||!p||!h.hasOwnProperty("x")||!p.hasOwnProperty("x"))){var g=a(l),b=l.__curve?function(m){return l.__curve.getPoint(m)}:function(m){var _=function(w,A,T,C){return A[w]+(T[w]-A[w])*C||0};return{x:_("x",h,p,m),y:_("y",h,p,m),z:_("z",h,p,m)}},y=[].concat(Ga(c||[]),Ga(d||[]));y.forEach(function(m,_){var S=m.parent.__linkThreeObjType==="singleHopPhotons";if(m.hasOwnProperty("__progressRatio")||(m.__progressRatio=S?0:_/c.length),m.__progressRatio+=g,m.__progressRatio>=1)if(!S)m.__progressRatio=m.__progressRatio%1;else{m.parent.remove(m),TP(m);return}var w=m.__progressRatio,A=b(w);["x","y","z"].forEach(function(T){return m.position[T]=A[T]})})}}})}},emitParticle:function(e,i){if(i&&e.graphData.links.includes(i)){if(!i.__singleHopPhotonsObj){var r=new Vt.Group;r.__linkThreeObjType="singleHopPhotons",i.__singleHopPhotonsObj=r,e.graphScene.add(r)}var o=Ot(e.linkDirectionalParticleWidth),s=Math.ceil(o(i)*10)/10/2,a=e.linkDirectionalParticleResolution,l=new Vt.SphereGeometry(s,a,a),u=Ot(e.linkColor),c=Ot(e.linkDirectionalParticleColor),d=c(i)||u(i)||"#f0f0f0",f=new Vt.Color(kv(d)),h=e.linkOpacity*3,p=new Vt.MeshLambertMaterial({color:f,transparent:!0,opacity:h});i.__singleHopPhotonsObj.add(new Vt.Mesh(l,p))}return this},getGraphBbox:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!e.initialised)return null;var r=function o(s){var a=[];if(s.geometry){s.geometry.computeBoundingBox();var l=new Vt.Box3;l.copy(s.geometry.boundingBox).applyMatrix4(s.matrixWorld),a.push(l)}return a.concat.apply(a,Ga((s.children||[]).filter(function(u){return!u.hasOwnProperty("__graphObjType")||u.__graphObjType==="node"&&i(u.__data)}).map(o)))}(e.graphScene);return r.length?Object.assign.apply(Object,Ga(["x","y","z"].map(function(o){return xC({},o,[ZR(r,function(s){return s.min[o]}),QR(r,function(s){return s.max[o]})])}))):null}},stateInit:function(){return{d3ForceLayout:Nj().force("link",Ij()).force("charge",Oj()).force("center",Cj()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,i){i.graphScene=e,i.nodeDataMapper=new Uv(e,{objBindAttr:"__threeObj"}),i.linkDataMapper=new Uv(e,{objBindAttr:"__lineObj"}),i.arrowDataMapper=new Uv(e,{objBindAttr:"__arrowObj"}),i.particlesDataMapper=new Uv(e,{objBindAttr:"__photonsObj"})},update:function(e,i){var r=function(se){return se.some(function(ee){return i.hasOwnProperty(ee)})};if(e.engineRunning=!1,typeof e.onUpdate=="function"&&e.onUpdate(),e.nodeAutoColorBy!==null&&r(["nodeAutoColorBy","graphData","nodeColor"])&&Z5(e.graphData.nodes,Ot(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&r(["linkAutoColorBy","graphData","linkColor"])&&Z5(e.graphData.links,Ot(e.linkAutoColorBy),e.linkColor),e._flushObjects||r(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var o=Ot(e.nodeThreeObject),s=Ot(e.nodeThreeObjectExtend),a=Ot(e.nodeVal),l=Ot(e.nodeColor),u=Ot(e.nodeVisibility),c={},d={};(e._flushObjects||r(["nodeThreeObject","nodeThreeObjectExtend"]))&&e.nodeDataMapper.clear(),e.nodeDataMapper.onCreateObj(function(J){var se=o(J),ee=s(J);se&&e.nodeThreeObject===se&&(se=se.clone());var ne;return se&&!ee?ne=se:(ne=new Vt.Mesh,ne.__graphDefaultObj=!0,se&&ee&&ne.add(se)),ne.__graphObjType="node",ne}).onUpdateObj(function(J,se){if(J.__graphDefaultObj){var ee=a(se)||1,ne=Math.cbrt(ee)*e.nodeRelSize,ue=e.nodeResolution;(!J.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||J.geometry.parameters.radius!==ne||J.geometry.parameters.widthSegments!==ue)&&(c.hasOwnProperty(ee)||(c[ee]=new Vt.SphereGeometry(ne,ue,ue)),J.geometry.dispose(),J.geometry=c[ee]);var Y=l(se),le=new Vt.Color(kv(Y||"#ffffaa")),fe=e.nodeOpacity*SM(Y);(J.material.type!=="MeshLambertMaterial"||!J.material.color.equals(le)||J.material.opacity!==fe)&&(d.hasOwnProperty(Y)||(d[Y]=new Vt.MeshLambertMaterial({color:le,transparent:!0,opacity:fe})),J.material.dispose(),J.material=d[Y])}}).digest(e.graphData.nodes.filter(u))}if(e._flushObjects||r(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var f=Ot(e.linkThreeObject),h=Ot(e.linkThreeObjectExtend),p=Ot(e.linkMaterial),g=Ot(e.linkVisibility),b=Ot(e.linkColor),y=Ot(e.linkWidth),m={},_={},S={},w=e.graphData.links.filter(g);if((e._flushObjects||r(["linkThreeObject","linkThreeObjectExtend","linkWidth"]))&&e.linkDataMapper.clear(),e.linkDataMapper.onRemoveObj(function(J){var se=J.__data&&J.__data.__singleHopPhotonsObj;se&&(se.parent.remove(se),TP(se),delete J.__data.__singleHopPhotonsObj)}).onCreateObj(function(J){var se=f(J),ee=h(J);se&&e.linkThreeObject===se&&(se=se.clone());var ne;if(!se||ee){var ue=!!y(J);if(ue)ne=new Vt.Mesh;else{var Y=new Vt.BufferGeometry;Y[wM]("position",new Vt.BufferAttribute(new Float32Array(2*3),3)),ne=new Vt.Line(Y)}}var le;return se?ee?(le=new Vt.Group,le.__graphDefaultObj=!0,le.add(ne),le.add(se)):le=se:(le=ne,le.__graphDefaultObj=!0),le.renderOrder=10,le.__graphObjType="link",le}).onUpdateObj(function(J,se){if(J.__graphDefaultObj){var ee=J.children.length?J.children[0]:J,ne=Math.ceil(y(se)*10)/10,ue=!!ne;if(ue){var Y=ne/2,le=e.linkResolution;if(!ee.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||ee.geometry.parameters.radiusTop!==Y||ee.geometry.parameters.radialSegments!==le){if(!m.hasOwnProperty(ne)){var fe=new Vt.CylinderGeometry(Y,Y,1,le,1,!1);fe[B_](new Vt.Matrix4().makeTranslation(0,1/2,0)),fe[B_](new Vt.Matrix4().makeRotationX(Math.PI/2)),m[ne]=fe}ee.geometry.dispose(),ee.geometry=m[ne]}}var W=p(se);if(W)ee.material=W;else{var X=b(se),V=new Vt.Color(kv(X||"#f0f0f0")),Se=e.linkOpacity*SM(X),pe=ue?"MeshLambertMaterial":"LineBasicMaterial";if(ee.material.type!==pe||!ee.material.color.equals(V)||ee.material.opacity!==Se){var _e=ue?_:S;_e.hasOwnProperty(X)||(_e[X]=new Vt[pe]({color:V,transparent:Se<1,opacity:Se,depthWrite:Se>=1})),ee.material.dispose(),ee.material=_e[X]}}}}).digest(w),e.linkDirectionalArrowLength||i.hasOwnProperty("linkDirectionalArrowLength")){var A=Ot(e.linkDirectionalArrowLength),T=Ot(e.linkDirectionalArrowColor);e.arrowDataMapper.onCreateObj(function(){var J=new Vt.Mesh(void 0,new Vt.MeshLambertMaterial({transparent:!0}));return J.__linkThreeObjType="arrow",J}).onUpdateObj(function(J,se){var ee=A(se),ne=e.linkDirectionalArrowResolution;if(!J.geometry.type.match(/^Cone(Buffer)?Geometry$/)||J.geometry.parameters.height!==ee||J.geometry.parameters.radialSegments!==ne){var ue=new Vt.ConeGeometry(ee*.25,ee,ne);ue.translate(0,ee/2,0),ue.rotateX(Math.PI/2),J.geometry.dispose(),J.geometry=ue}var Y=T(se)||b(se)||"#f0f0f0";J.material.color=new Vt.Color(kv(Y)),J.material.opacity=e.linkOpacity*3*SM(Y)}).digest(w.filter(A))}if(e.linkDirectionalParticles||i.hasOwnProperty("linkDirectionalParticles")){var C=Ot(e.linkDirectionalParticles),R=Ot(e.linkDirectionalParticleWidth),E=Ot(e.linkDirectionalParticleColor),P={},I={};e.particlesDataMapper.onCreateObj(function(){var J=new Vt.Group;return J.__linkThreeObjType="photons",J.__photonDataMapper=new Uv(J),J}).onUpdateObj(function(J,se){var ee=Math.round(Math.abs(C(se))),ne=!!J.children.length&&J.children[0],ue=Math.ceil(R(se)*10)/10/2,Y=e.linkDirectionalParticleResolution,le;ne&&ne.geometry.parameters.radius===ue&&ne.geometry.parameters.widthSegments===Y?le=ne.geometry:(I.hasOwnProperty(ue)||(I[ue]=new Vt.SphereGeometry(ue,Y,Y)),le=I[ue],ne&&ne.geometry.dispose());var fe=E(se)||b(se)||"#f0f0f0",W=new Vt.Color(kv(fe)),X=e.linkOpacity*3,V;ne&&ne.material.color.equals(W)&&ne.material.opacity===X?V=ne.material:(P.hasOwnProperty(fe)||(P[fe]=new Vt.MeshLambertMaterial({color:W,transparent:!0,opacity:X})),V=P[fe],ne&&ne.material.dispose()),J.__photonDataMapper.id(function(Se){return Se.idx}).onCreateObj(function(){return new Vt.Mesh(le,V)}).onUpdateObj(function(Se){Se.geometry=le,Se.material=V}).digest(Ga(new Array(ee)).map(function(Se,pe){return{idx:pe}}))}).digest(w.filter(C))}}if(e._flushObjects=!1,r(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(J){J.source=J[e.linkSource],J.target=J[e.linkTarget]});var D=e.forceEngine!=="ngraph",F;if(D){(F=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var L=e.d3ForceLayout.force("link");L&&L.id(function(J){return J[e.nodeId]}).links(e.graphData.links);var $=e.dagMode&&YUe(e.graphData,function(J){return J[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),U=Math.max.apply(Math,Ga(Object.values($||[]))),k=e.dagLevelDistance||e.graphData.nodes.length/(U||1)*QUe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu","zin","zout"].includes(i.dagMode)){var H=["lr","rl"].includes(i.dagMode)?"fx":["td","bu"].includes(i.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(J){return delete J[H]})}if(["lr","rl","td","bu","zin","zout"].includes(e.dagMode)){var z=["rl","td","zout"].includes(e.dagMode),Q=function(se){return($[se[e.nodeId]]-U/2)*k*(z?-1:1)},Z=["lr","rl"].includes(e.dagMode)?"fx":["td","bu"].includes(e.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(J){return J[Z]=Q(J)})}e.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?Dj(function(J){var se=$[J[e.nodeId]]||-1;return(e.dagMode==="radialin"?U-se:se)*k}).strength(function(J){return e.dagNodeFilter(J)?1:0}):null)}else{var ie=J5.graph();e.graphData.nodes.forEach(function(J){ie.addNode(J[e.nodeId])}),e.graphData.links.forEach(function(J){ie.addLink(J.source,J.target)}),F=J5.forcelayout(ie,WUe({dimensions:e.numDimensions},e.ngraphPhysics)),F.graph=ie}for(var xe=0;xe<e.warmupTicks&&!(D&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);xe++)F[D?"tick":"step"]();e.layout=F,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function JUe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=function(o){function s(){var a;iq(this,s);for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=nq(this,s,[].concat(u)),a.__kapsuleInstance=rq(n,[].concat(Ga(i?[a]:[]),u)),a}return sq(s,o),oq(s)}(e);return Object.keys(n()).forEach(function(o){return r.prototype[o]=function(){var s,a=(s=this.__kapsuleInstance)[o].apply(s,arguments);return a===this.__kapsuleInstance?this:a}}),r}var e4e=window.THREE?window.THREE:{Group:jK},dq=JUe(ZUe,e4e.Group,!0);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const t4e=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveMap","envMap","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"];class n4e{constructor(e){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(e),this.hasAnimation=e.object.isSkinnedMesh===!0,this.refreshUniforms=t4e,this.renderId=0}firstInitialization(e){return this.renderObjects.has(e)===!1?(this.getRenderObjectData(e),!0):!1}getRenderObjectData(e){let i=this.renderObjects.get(e);if(i===void 0){const{geometry:r,material:o,object:s}=e;if(i={material:this.getMaterialData(o),geometry:{attributes:this.getAttributesData(r.attributes),indexVersion:r.index?r.index.version:null,drawRange:{start:r.drawRange.start,count:r.drawRange.count}},worldMatrix:s.matrixWorld.clone()},s.center&&(i.center=s.center.clone()),s.morphTargetInfluences&&(i.morphTargetInfluences=s.morphTargetInfluences.slice()),e.bundle!==null&&(i.version=e.bundle.version),i.material.transmission>0){const{width:a,height:l}=e.context;i.bufferWidth=a,i.bufferHeight=l}this.renderObjects.set(e,i)}return i}getAttributesData(e){const i={};for(const r in e){const o=e[r];i[r]={version:o.version}}return i}containsNode(e){const i=e.material;for(const r in i)if(i[r]&&i[r].isNode)return!0;return e.renderer.nodes.modelViewMatrix!==null||e.renderer.nodes.modelNormalViewMatrix!==null}getMaterialData(e){const i={};for(const r of this.refreshUniforms){const o=e[r];o!=null&&(typeof o=="object"&&o.clone!==void 0?o.isTexture===!0?i[r]={id:o.id,version:o.version}:i[r]=o.clone():i[r]=o)}return i}equals(e){const{object:i,material:r,geometry:o}=e,s=this.getRenderObjectData(e);if(s.worldMatrix.equals(i.matrixWorld)!==!0)return s.worldMatrix.copy(i.matrixWorld),!1;const a=s.material;for(const b in a){const y=a[b],m=r[b];if(y.equals!==void 0){if(y.equals(m)===!1)return y.copy(m),!1}else if(m.isTexture===!0){if(y.id!==m.id||y.version!==m.version)return y.id=m.id,y.version=m.version,!1}else if(y!==m)return a[b]=m,!1}if(a.transmission>0){const{width:b,height:y}=e.context;if(s.bufferWidth!==b||s.bufferHeight!==y)return s.bufferWidth=b,s.bufferHeight=y,!1}const l=s.geometry,u=o.attributes,c=l.attributes,d=Object.keys(c),f=Object.keys(u);if(d.length!==f.length)return s.geometry.attributes=this.getAttributesData(u),!1;for(const b of d){const y=c[b],m=u[b];if(m===void 0)return delete c[b],!1;if(y.version!==m.version)return y.version=m.version,!1}const h=o.index,p=l.indexVersion,g=h?h.version:null;if(p!==g)return l.indexVersion=g,!1;if(l.drawRange.start!==o.drawRange.start||l.drawRange.count!==o.drawRange.count)return l.drawRange.start=o.drawRange.start,l.drawRange.count=o.drawRange.count,!1;if(s.morphTargetInfluences){let b=!1;for(let y=0;y<s.morphTargetInfluences.length;y++)s.morphTargetInfluences[y]!==i.morphTargetInfluences[y]&&(b=!0);if(b)return!0}return s.center&&s.center.equals(i.center)===!1?(s.center.copy(i.center),!0):(e.bundle!==null&&(s.version=e.bundle.version),!0)}needsRefresh(e,i){if(this.hasNode||this.hasAnimation||this.firstInitialization(e))return!0;const{renderId:r}=i;if(this.renderId!==r)return this.renderId=r,!0;const o=e.object.static===!0,s=e.bundle!==null&&e.bundle.static===!0&&this.getRenderObjectData(e).version===e.bundle.version;return o||s?!1:this.equals(e)!==!0}}function M0(n,e=0){let i=3735928559^e,r=1103547991^e;if(n instanceof Array)for(let o=0,s;o<n.length;o++)s=n[o],i=Math.imul(i^s,2654435761),r=Math.imul(r^s,1597334677);else for(let o=0,s;o<n.length;o++)s=n.charCodeAt(o),i=Math.imul(i^s,2654435761),r=Math.imul(r^s,1597334677);return i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(i^i>>>13,3266489909),4294967296*(2097151&r)+(i>>>0)}const i4e=n=>M0(n),aD=n=>M0(n),lD=(...n)=>M0(n);function fq(n,e=!1){const i=[];n.isNode===!0&&(i.push(n.id),n=n.getSelf());for(const{property:r,childNode:o}of Kw(n))i.push(i,M0(r.slice(0,-4)),o.getCacheKey(e));return M0(i)}function*Kw(n,e=!1){for(const i in n){if(i.startsWith("_")===!0)continue;const r=n[i];if(Array.isArray(r)===!0)for(let o=0;o<r.length;o++){const s=r[o];s&&(s.isNode===!0||e&&typeof s.toJSON=="function")&&(yield{property:i,index:o,childNode:s})}else if(r&&r.isNode===!0)yield{property:i,childNode:r};else if(typeof r=="object")for(const o in r){const s=r[o];s&&(s.isNode===!0||e&&typeof s.toJSON=="function")&&(yield{property:i,index:o,childNode:s})}}}const r4e=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),e6=new WeakMap;function o4e(n){return r4e.get(n)}function qw(n){if(n==null)return null;const e=typeof n;return n.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":n.isVector2===!0?"vec2":n.isVector3===!0?"vec3":n.isVector4===!0?"vec4":n.isMatrix3===!0?"mat3":n.isMatrix4===!0?"mat4":n.isColor===!0?"color":n instanceof ArrayBuffer?"ArrayBuffer":null}function hq(n,...e){const i=n?n.slice(-4):void 0;return e.length===1&&(i==="vec2"?e=[e[0],e[0]]:i==="vec3"?e=[e[0],e[0],e[0]]:i==="vec4"&&(e=[e[0],e[0],e[0],e[0]])),n==="color"?new Ft(...e):i==="vec2"?new Tt(...e):i==="vec3"?new Te(...e):i==="vec4"?new fn(...e):i==="mat3"?new on(...e):i==="mat4"?new ri(...e):n==="bool"?e[0]||!1:n==="float"||n==="int"||n==="uint"?e[0]||0:n==="string"?e[0]||"":n==="ArrayBuffer"?a4e(e[0]):null}function pq(n){let e=e6.get(n);return e===void 0&&(e={},e6.set(n,e)),e}function s4e(n){let e="";const i=new Uint8Array(n);for(let r=0;r<i.length;r++)e+=String.fromCharCode(i[r]);return btoa(e)}function a4e(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0)).buffer}const t6={VERTEX:"vertex",FRAGMENT:"fragment"},An={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},Zu={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},l4e=["fragment","vertex"],n6=["setup","analyze","generate"],i6=[...l4e,"compute"],zm=["x","y","z","w"];let u4e=0;class hn extends Ac{static get type(){return"Node"}constructor(e=null){super(),this.nodeType=e,this.updateType=An.NONE,this.updateBeforeType=An.NONE,this.updateAfterType=An.NONE,this.uuid=Hw.generateUUID(),this.version=0,this.global=!1,this.isNode=!0,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:u4e++})}set needsUpdate(e){e===!0&&this.version++}get type(){return this.constructor.type}onUpdate(e,i){return this.updateType=i,this.update=e.bind(this.getSelf()),this}onFrameUpdate(e){return this.onUpdate(e,An.FRAME)}onRenderUpdate(e){return this.onUpdate(e,An.RENDER)}onObjectUpdate(e){return this.onUpdate(e,An.OBJECT)}onReference(e){return this.updateReference=e.bind(this.getSelf()),this}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:e}of Kw(this))yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const i of this.getChildren())i.traverse(e)}getCacheKey(e=!1){return e=e||this.version!==this._cacheKeyVersion,(e===!0||this._cacheKey===null)&&(this._cacheKey=lD(fq(this,e),this.customCacheKey()),this._cacheKeyVersion=this.version),this._cacheKey}customCacheKey(){return 0}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(e){const i=this.getNodeType(e);return e.getElementType(i)}getNodeType(e){const i=e.getNodeProperties(this);return i.outputNode?i.outputNode.getNodeType(e):this.nodeType}getShared(e){const i=this.getHash(e);return e.getNodeFromHash(i)||this}setup(e){const i=e.getNodeProperties(this);let r=0;for(const o of this.getChildren())i["node"+r++]=o;return i.outputNode||null}analyze(e){if(e.increaseUsage(this)===1){const r=e.getNodeProperties(this);for(const o of Object.values(r))o&&o.isNode===!0&&o.build(e)}}generate(e,i){const{outputNode:r}=e.getNodeProperties(this);if(r&&r.isNode===!0)return r.build(e,i)}updateBefore(){console.warn("Abstract function.")}updateAfter(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(e,i=null){const r=this.getShared(e);if(this!==r)return r.build(e,i);e.addNode(this),e.addChain(this);let o=null;const s=e.getBuildStage();if(s==="setup"){this.updateReference(e);const a=e.getNodeProperties(this);if(a.initialized!==!0){a.initialized=!0;const l=this.setup(e),u=l&&l.isNode===!0;for(const c of Object.values(a))c&&c.isNode===!0&&c.build(e);u&&l.build(e),a.outputNode=l}}else if(s==="analyze")this.analyze(e);else if(s==="generate")if(this.generate.length===1){const l=this.getNodeType(e),u=e.getDataFromNode(this);o=u.snippet,o===void 0?(o=this.generate(e)||"",u.snippet=o):u.flowCodes!==void 0&&e.context.nodeBlock!==void 0&&e.addFlowCodeHierarchy(this,e.context.nodeBlock),o=e.format(o,l,i)}else o=this.generate(e,i)||"";return e.removeChain(this),e.addSequentialNode(this),o}getSerializeChildren(){return Kw(this)}serialize(e){const i=this.getSerializeChildren(),r={};for(const{property:o,index:s,childNode:a}of i)s!==void 0?(r[o]===void 0&&(r[o]=Number.isInteger(s)?[]:{}),r[o][s]=a.toJSON(e.meta).uuid):r[o]=a.toJSON(e.meta).uuid;Object.keys(r).length>0&&(e.inputNodes=r)}deserialize(e){if(e.inputNodes!==void 0){const i=e.meta.nodes;for(const r in e.inputNodes)if(Array.isArray(e.inputNodes[r])){const o=[];for(const s of e.inputNodes[r])o.push(i[s]);this[r]=o}else if(typeof e.inputNodes[r]=="object"){const o={};for(const s in e.inputNodes[r]){const a=e.inputNodes[r][s];o[s]=i[a]}this[r]=o}else{const o=e.inputNodes[r];this[r]=i[o]}}}toJSON(e){const{uuid:i,type:r}=this,o=e===void 0||typeof e=="string";o&&(e={textures:{},images:{},nodes:{}});let s=e.nodes[i];s===void 0&&(s={uuid:i,type:r,meta:e,metadata:{version:4.6,type:"Node",generator:"Node.toJSON"}},o!==!0&&(e.nodes[s.uuid]=s),this.serialize(s),delete s.meta);function a(l){const u=[];for(const c in l){const d=l[c];delete d.metadata,u.push(d)}return u}if(o){const l=a(e.textures),u=a(e.images),c=a(e.nodes);l.length>0&&(s.textures=l),u.length>0&&(s.images=u),c.length>0&&(s.nodes=c)}return s}}class lb extends hn{static get type(){return"ArrayElementNode"}constructor(e,i){super(),this.node=e,this.indexNode=i,this.isArrayElementNode=!0}getNodeType(e){return this.node.getElementType(e)}generate(e){const i=this.node.build(e),r=this.indexNode.build(e,"uint");return`${i}[ ${r} ]`}}class gq extends hn{static get type(){return"ConvertNode"}constructor(e,i){super(),this.node=e,this.convertTo=i}getNodeType(e){const i=this.node.getNodeType(e);let r=null;for(const o of this.convertTo.split("|"))(r===null||e.getTypeLength(i)===e.getTypeLength(o))&&(r=o);return r}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,i){const r=this.node,o=this.getNodeType(e),s=r.build(e,o);return e.format(s,o,i)}}class Er extends hn{static get type(){return"TempNode"}constructor(e=null){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).usageCount>1}build(e,i){if(e.getBuildStage()==="generate"){const o=e.getVectorType(this.getNodeType(e,i)),s=e.getDataFromNode(this);if(s.propertyName!==void 0)return e.format(s.propertyName,o,i);if(o!=="void"&&i!=="void"&&this.hasDependencies(e)){const a=super.build(e,o),l=e.getVarFromNode(this,null,o),u=e.getPropertyName(l);return e.addLineFlowCode(`${u} = ${a}`,this),s.snippet=a,s.propertyName=u,e.format(s.propertyName,o,i)}}return super.build(e,i)}}class c4e extends Er{static get type(){return"JoinNode"}constructor(e=[],i=null){super(i),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((i,r)=>i+e.getTypeLength(r.getNodeType(e)),0))}generate(e,i){const r=this.getNodeType(e),o=this.nodes,s=e.getComponentType(r),a=[];for(const u of o){let c=u.build(e);const d=e.getComponentType(u.getNodeType(e));d!==s&&(c=e.format(c,d,s)),a.push(c)}const l=`${e.getType(r)}( ${a.join(", ")} )`;return e.format(l,r,i)}}const d4e=zm.join("");class r6 extends hn{static get type(){return"SplitNode"}constructor(e,i="x"){super(),this.node=e,this.components=i,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const i of this.components)e=Math.max(zm.indexOf(i)+1,e);return e}getComponentType(e){return e.getComponentType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getComponentType(e))}generate(e,i){const r=this.node,o=e.getTypeLength(r.getNodeType(e));let s=null;if(o>1){let a=null;this.getVectorLength()>=o&&(a=e.getTypeFromLength(this.getVectorLength(),this.getComponentType(e)));const u=r.build(e,a);this.components.length===o&&this.components===d4e.slice(0,this.components.length)?s=e.format(u,a,i):s=e.format(`${u}.${this.components}`,this.getNodeType(e),i)}else s=r.build(e,i);return s}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}class f4e extends Er{static get type(){return"SetNode"}constructor(e,i,r){super(),this.sourceNode=e,this.components=i,this.targetNode=r}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:i,components:r,targetNode:o}=this,s=this.getNodeType(e),a=e.getComponentType(o.getNodeType(e)),l=e.getTypeFromLength(r.length,a),u=o.build(e,l),c=i.build(e,s),d=e.getTypeLength(s),f=[];for(let h=0;h<d;h++){const p=zm[h];p===r[0]?(f.push(u),h+=r.length-1):f.push(c+"."+p)}return`${e.getType(s)}( ${f.join(", ")} )`}}class h4e extends Er{static get type(){return"FlipNode"}constructor(e,i){super(),this.sourceNode=e,this.components=i}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{components:i,sourceNode:r}=this,o=this.getNodeType(e),s=r.build(e),a=e.getVarFromNode(this),l=e.getPropertyName(a);e.addLineFlowCode(l+" = "+s,this);const u=e.getTypeLength(o),c=[];let d=0;for(let f=0;f<u;f++){const h=zm[f];h===i[d]?(c.push("1.0 - "+(l+"."+h)),d++):c.push(l+"."+h)}return`${e.getType(o)}( ${c.join(", ")} )`}}class uD extends hn{static get type(){return"InputNode"}constructor(e,i=null){super(i),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?qw(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=qw(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=s4e(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?hq(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){console.warn("Abstract function.")}}class Rc extends uD{static get type(){return"ConstNode"}constructor(e,i=null){super(e,i),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,i){const r=this.getNodeType(e);return e.format(this.generateConst(e),r,i)}}let wm=null;const fg=new Map;function Ze(n,e){if(fg.has(n)){console.warn(`Redefinition of method chaining ${n}`);return}if(typeof e!="function")throw new Error(`Node element ${n} is not a function`);fg.set(n,e)}const mq=n=>n.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),o6=n=>mq(n).split("").sort().join(""),vq={setup(n,e){const i=e.shift();return n(wC(i),...e)},get(n,e,i){if(typeof e=="string"&&n[e]===void 0){if(n.isStackNode!==!0&&e==="assign")return(...r)=>(wm.assign(i,...r),i);if(fg.has(e)){const r=fg.get(e);return n.isStackNode?(...o)=>i.add(r(...o)):(...o)=>r(i,...o)}else{if(e==="self")return n;if(e.endsWith("Assign")&&fg.has(e.slice(0,e.length-6))){const r=fg.get(e.slice(0,e.length-6));return n.isStackNode?(...o)=>i.assign(o[0],r(...o)):(...o)=>i.assign(r(i,...o))}else{if(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0)return e=mq(e),mt(new r6(i,e));if(/^set[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=o6(e.slice(3).toLowerCase()),r=>mt(new f4e(n,e,r));if(/^flip[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=o6(e.slice(4).toLowerCase()),()=>mt(new h4e(mt(n),e));if(e==="width"||e==="height"||e==="depth")return e==="width"?e="x":e==="height"?e="y":e==="depth"&&(e="z"),mt(new r6(n,e));if(/^\d+$/.test(e)===!0)return mt(new lb(i,new Rc(Number(e),"uint")))}}}return Reflect.get(n,e,i)},set(n,e,i,r){return typeof e=="string"&&n[e]===void 0&&(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0||e==="width"||e==="height"||e==="depth"||/^\d+$/.test(e)===!0)?(r[e].assign(i),!0):Reflect.set(n,e,i,r)}},CM=new WeakMap,s6=new WeakMap,p4e=function(n,e=null){const i=qw(n);if(i==="node"){let r=CM.get(n);return r===void 0&&(r=new Proxy(n,vq),CM.set(n,r),CM.set(r,r)),r}else{if(e===null&&(i==="float"||i==="boolean")||i&&i!=="shader"&&i!=="string")return mt(EP(n,e));if(i==="shader")return vt(n)}return n},g4e=function(n,e=null){for(const i in n)n[i]=mt(n[i],e);return n},m4e=function(n,e=null){const i=n.length;for(let r=0;r<i;r++)n[r]=mt(n[r],e);return n},v4e=function(n,e=null,i=null,r=null){const o=s=>mt(r!==null?Object.assign(s,r):s);return e===null?(...s)=>o(new n(...Bg(s))):i!==null?(i=mt(i),(...s)=>o(new n(e,...Bg(s),i))):(...s)=>o(new n(e,...Bg(s)))},y4e=function(n,...e){return mt(new n(...Bg(e)))};class b4e extends hn{constructor(e,i){super(),this.shaderNode=e,this.inputNodes=i}getNodeType(e){return this.shaderNode.nodeType||this.getOutputNode(e).getNodeType(e)}call(e){const{shaderNode:i,inputNodes:r}=this,o=e.getNodeProperties(i);if(o.onceOutput)return o.onceOutput;let s=null;if(i.layout){let a=s6.get(e.constructor);a===void 0&&(a=new WeakMap,s6.set(e.constructor,a));let l=a.get(i);l===void 0&&(l=mt(e.buildFunctionNode(i)),a.set(i,l)),e.currentFunctionNode!==null&&e.currentFunctionNode.includes.push(l),s=mt(l.call(r))}else{const a=i.jsFunc,l=r!==null?a(r,e):a(e);s=mt(l)}return i.once&&(o.onceOutput=s),s}getOutputNode(e){const i=e.getNodeProperties(this);return i.outputNode===null&&(i.outputNode=this.setupOutput(e)),i.outputNode}setup(e){return this.getOutputNode(e)}setupOutput(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}generate(e,i){return this.getOutputNode(e).build(e,i)}}class x4e extends hn{constructor(e,i){super(i),this.jsFunc=e,this.layout=null,this.global=!0,this.once=!1}setLayout(e){return this.layout=e,this}call(e=null){return wC(e),mt(new b4e(this,e))}setup(){return this.call()}}const _4e=[!1,!0],S4e=[0,1,2,3],w4e=[-1,-2],yq=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],cD=new Map;for(const n of _4e)cD.set(n,new Rc(n));const dD=new Map;for(const n of S4e)dD.set(n,new Rc(n,"uint"));const fD=new Map([...dD].map(n=>new Rc(n.value,"int")));for(const n of w4e)fD.set(n,new Rc(n,"int"));const _C=new Map([...fD].map(n=>new Rc(n.value)));for(const n of yq)_C.set(n,new Rc(n));for(const n of yq)_C.set(-n,new Rc(-n));const SC={bool:cD,uint:dD,ints:fD,float:_C},a6=new Map([...cD,..._C]),EP=(n,e)=>a6.has(n)?a6.get(n):n.isNode===!0?n:new Rc(n,e),C4e=n=>{try{return n.getNodeType()}catch{return}},gr=function(n,e=null){return(...i)=>{if((i.length===0||!["bool","float","int","uint"].includes(n)&&i.every(o=>typeof o!="object"))&&(i=[hq(n,...i)]),i.length===1&&e!==null&&e.has(i[0]))return mt(e.get(i[0]));if(i.length===1){const o=EP(i[0],n);return C4e(o)===n?mt(o):mt(new gq(o,n))}const r=i.map(o=>EP(o));return mt(new c4e(r,n))}},l6=n=>typeof n=="object"&&n!==null?n.value:n,A4e=n=>n!=null?n.nodeType||n.convertTo||(typeof n=="string"?n:null):null;function LS(n,e){return new Proxy(new x4e(n,e),vq)}const mt=(n,e=null)=>p4e(n,e),wC=(n,e=null)=>new g4e(n,e),Bg=(n,e=null)=>new m4e(n,e),lt=(...n)=>new v4e(...n),xt=(...n)=>new y4e(...n),vt=(n,e)=>{const i=new LS(n,e),r=(...o)=>{let s;return wC(o),o[0]&&o[0].isNode?s=[...o]:s=o[0],i.call(s)};return r.shaderNode=i,r.setLayout=o=>(i.setLayout(o),r),r.once=()=>(i.once=!0,r),r};Ze("toGlobal",n=>(n.global=!0,n));const Xw=n=>{wm=n},bq=()=>wm,hr=(...n)=>wm.If(...n);function T4e(n){return wm&&wm.add(n),n}Ze("append",T4e);const E4e=new gr("color"),Je=new gr("float",SC.float),ji=new gr("int",SC.ints),M4e=new gr("uint",SC.uint),xq=new gr("bool",SC.bool),_t=new gr("vec2"),ku=new gr("ivec2"),R4e=new gr("uvec2"),P4e=new gr("bvec2"),tt=new gr("vec3"),I4e=new gr("ivec3"),N4e=new gr("uvec3"),O4e=new gr("bvec3"),sn=new gr("vec4"),D4e=new gr("ivec4"),L4e=new gr("uvec4"),B4e=new gr("bvec4"),hD=new gr("mat2"),Uo=new gr("mat3"),Fg=new gr("mat4");Ze("toColor",E4e);Ze("toFloat",Je);Ze("toInt",ji);Ze("toUint",M4e);Ze("toBool",xq);Ze("toVec2",_t);Ze("toIVec2",ku);Ze("toUVec2",R4e);Ze("toBVec2",P4e);Ze("toVec3",tt);Ze("toIVec3",I4e);Ze("toUVec3",N4e);Ze("toBVec3",O4e);Ze("toVec4",sn);Ze("toIVec4",D4e);Ze("toUVec4",L4e);Ze("toBVec4",B4e);Ze("toMat2",hD);Ze("toMat3",Uo);Ze("toMat4",Fg);const F4e=lt(lb),$4e=(n,e)=>mt(new gq(mt(n),e));Ze("element",F4e);Ze("convert",$4e);class _q extends hn{static get type(){return"UniformGroupNode"}constructor(e,i=!1,r=1){super("string"),this.name=e,this.shared=i,this.order=r,this.isUniformGroup=!0}serialize(e){super.serialize(e),e.name=this.name,e.version=this.version,e.shared=this.shared}deserialize(e){super.deserialize(e),this.name=e.name,this.version=e.version,this.shared=e.shared}}const U4e=n=>new _q(n),Sq=(n,e=0)=>new _q(n,!0,e),k4e=Sq("frame"),Zt=Sq("render"),wq=U4e("object");class ub extends uD{static get type(){return"UniformNode"}constructor(e,i=null){super(e,i),this.isUniformNode=!0,this.name="",this.groupNode=wq}label(e){return this.name=e,this}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}onUpdate(e,i){const r=this.getSelf();return e=e.bind(r),super.onUpdate(o=>{const s=e(o,r);s!==void 0&&(this.value=s)},i)}generate(e,i){const r=this.getNodeType(e),o=this.getUniformHash(e);let s=e.getNodeFromHash(o);s===void 0&&(e.setHashNode(this,o),s=this);const a=s.getInputType(e),l=e.getUniformFromNode(s,a,e.shaderStage,this.name||e.context.label),u=e.getPropertyName(l);return e.context.label!==void 0&&delete e.context.label,e.format(u,r,i)}}const un=(n,e)=>{const i=A4e(e||n),r=n&&n.isNode===!0?n.node&&n.node.value||n.value:n;return mt(new ub(r,i))};class ei extends hn{static get type(){return"PropertyNode"}constructor(e,i=null,r=!1){super(e),this.name=i,this.varying=r,this.isPropertyNode=!0}getHash(e){return this.name||super.getHash(e)}isGlobal(){return!0}generate(e){let i;return this.varying===!0?(i=e.getVaryingFromNode(this,this.name),i.needsInterpolation=!0):i=e.getVarFromNode(this,this.name),e.getPropertyName(i)}}const z4e=(n,e)=>mt(new ei(n,e)),Yw=(n,e)=>mt(new ei(n,e,!0)),qn=xt(ei,"vec4","DiffuseColor"),u6=xt(ei,"vec3","EmissiveColor"),ju=xt(ei,"float","Roughness"),Qw=xt(ei,"float","Metalness"),MP=xt(ei,"float","Clearcoat"),Zw=xt(ei,"float","ClearcoatRoughness"),hg=xt(ei,"vec3","Sheen"),pD=xt(ei,"float","SheenRoughness"),gD=xt(ei,"float","Iridescence"),Cq=xt(ei,"float","IridescenceIOR"),Aq=xt(ei,"float","IridescenceThickness"),RP=xt(ei,"float","AlphaT"),Lf=xt(ei,"float","Anisotropy"),BS=xt(ei,"vec3","AnisotropyT"),$g=xt(ei,"vec3","AnisotropyB"),Is=xt(ei,"color","SpecularColor"),Jw=xt(ei,"float","SpecularF90"),PP=xt(ei,"float","Shininess"),e1=xt(ei,"vec4","Output"),AM=xt(ei,"float","dashSize"),c6=xt(ei,"float","gapSize"),FS=xt(ei,"float","IOR"),IP=xt(ei,"float","Transmission"),Tq=xt(ei,"float","Thickness"),Eq=xt(ei,"float","AttenuationDistance"),Mq=xt(ei,"color","AttenuationColor"),Rq=xt(ei,"float","Dispersion");class H4e extends Er{static get type(){return"AssignNode"}constructor(e,i){super(),this.targetNode=e,this.sourceNode=i}hasDependencies(){return!1}getNodeType(e,i){return i!=="void"?this.targetNode.getNodeType(e):"void"}needsSplitAssign(e){const{targetNode:i}=this;if(e.isAvailable("swizzleAssign")===!1&&i.isSplitNode&&i.components.length>1){const r=e.getTypeLength(i.node.getNodeType(e));return zm.join("").slice(0,r)!==i.components}return!1}generate(e,i){const{targetNode:r,sourceNode:o}=this,s=this.needsSplitAssign(e),a=r.getNodeType(e),l=r.context({assign:!0}).build(e),u=o.build(e,a),c=o.getNodeType(e),d=e.getDataFromNode(this);let f;if(d.initialized===!0)i!=="void"&&(f=l);else if(s){const h=e.getVarFromNode(this,null,a),p=e.getPropertyName(h);e.addLineFlowCode(`${p} = ${u}`,this);const g=r.node.context({assign:!0}).build(e);for(let b=0;b<r.components.length;b++){const y=r.components[b];e.addLineFlowCode(`${g}.${y} = ${p}[ ${b} ]`,this)}i!=="void"&&(f=l)}else f=`${l} = ${u}`,(i==="void"||c==="void")&&(e.addLineFlowCode(f,this),i!=="void"&&(f=l));return d.initialized=!0,e.format(f,a,i)}}const G4e=lt(H4e);Ze("assign",G4e);class V4e extends Er{static get type(){return"FunctionCallNode"}constructor(e=null,i={}){super(),this.functionNode=e,this.parameters=i}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}generate(e){const i=[],r=this.functionNode,o=r.getInputs(e),s=this.parameters,a=(u,c)=>{const d=c.type,f=d==="pointer";let h;return f?h="&"+u.build(e):h=u.build(e,d),h};if(Array.isArray(s))for(let u=0;u<s.length;u++)i.push(a(s[u],o[u]));else for(const u of o){const c=s[u.name];if(c!==void 0)i.push(a(c,u));else throw new Error(`FunctionCallNode: Input '${u.name}' not found in FunctionNode.`)}return`${r.build(e,"property")}( ${i.join(", ")} )`}}const W4e=(n,...e)=>(e=e.length>1||e[0]&&e[0].isNode===!0?Bg(e):wC(e[0]),mt(new V4e(mt(n),e)));Ze("call",W4e);class Li extends Er{static get type(){return"OperatorNode"}constructor(e,i,r,...o){if(super(),o.length>0){let s=new Li(e,i,r);for(let a=0;a<o.length-1;a++)s=new Li(e,s,o[a]);i=s,r=o[o.length-1]}this.op=e,this.aNode=i,this.bNode=r}getNodeType(e,i){const r=this.op,o=this.aNode,s=this.bNode,a=o.getNodeType(e),l=typeof s<"u"?s.getNodeType(e):null;if(a==="void"||l==="void")return"void";if(r==="%")return a;if(r==="~"||r==="&"||r==="|"||r==="^"||r===">>"||r==="<<")return e.getIntegerType(a);if(r==="!"||r==="=="||r==="&&"||r==="||"||r==="^^")return"bool";if(r==="<"||r===">"||r==="<="||r===">="){const u=i?e.getTypeLength(i):Math.max(e.getTypeLength(a),e.getTypeLength(l));return u>1?`bvec${u}`:"bool"}else return a==="float"&&e.isMatrix(l)?l:e.isMatrix(a)&&e.isVector(l)?e.getVectorFromMatrix(a):e.isVector(a)&&e.isMatrix(l)?e.getVectorFromMatrix(l):e.getTypeLength(l)>e.getTypeLength(a)?l:a}generate(e,i){const r=this.op,o=this.aNode,s=this.bNode,a=this.getNodeType(e,i);let l=null,u=null;a!=="void"?(l=o.getNodeType(e),u=typeof s<"u"?s.getNodeType(e):null,r==="<"||r===">"||r==="<="||r===">="||r==="=="?e.isVector(l)?u=l:l!==u&&(l=u="float"):r===">>"||r==="<<"?(l=a,u=e.changeComponentType(u,"uint")):e.isMatrix(l)&&e.isVector(u)?u=e.getVectorFromMatrix(l):e.isVector(l)&&e.isMatrix(u)?l=e.getVectorFromMatrix(u):l=u=a):l=u=a;const c=o.build(e,l),d=typeof s<"u"?s.build(e,u):null,f=e.getTypeLength(i),h=e.getFunctionOperator(r);if(i!=="void")return r==="<"&&f>1?e.useComparisonMethod?e.format(`${e.getMethod("lessThan",i)}( ${c}, ${d} )`,a,i):e.format(`( ${c} < ${d} )`,a,i):r==="<="&&f>1?e.useComparisonMethod?e.format(`${e.getMethod("lessThanEqual",i)}( ${c}, ${d} )`,a,i):e.format(`( ${c} <= ${d} )`,a,i):r===">"&&f>1?e.useComparisonMethod?e.format(`${e.getMethod("greaterThan",i)}( ${c}, ${d} )`,a,i):e.format(`( ${c} > ${d} )`,a,i):r===">="&&f>1?e.useComparisonMethod?e.format(`${e.getMethod("greaterThanEqual",i)}( ${c}, ${d} )`,a,i):e.format(`( ${c} >= ${d} )`,a,i):r==="!"||r==="~"?e.format(`(${r}${c})`,l,i):h?e.format(`${h}( ${c}, ${d} )`,a,i):e.format(`( ${c} ${r} ${d} )`,a,i);if(l!=="void")return h?e.format(`${h}( ${c}, ${d} )`,a,i):e.format(`${c} ${r} ${d}`,a,i)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const ko=lt(Li,"+"),ts=lt(Li,"-"),Rn=lt(Li,"*"),vc=lt(Li,"/"),Pq=lt(Li,"%"),j4e=lt(Li,"=="),K4e=lt(Li,"!="),q4e=lt(Li,"<"),X4e=lt(Li,">"),Y4e=lt(Li,"<="),Q4e=lt(Li,">="),Z4e=lt(Li,"&&"),J4e=lt(Li,"||"),eke=lt(Li,"!"),tke=lt(Li,"^^"),nke=lt(Li,"&"),ike=lt(Li,"~"),rke=lt(Li,"|"),oke=lt(Li,"^"),ske=lt(Li,"<<"),ake=lt(Li,">>");Ze("add",ko);Ze("sub",ts);Ze("mul",Rn);Ze("div",vc);Ze("modInt",Pq);Ze("equal",j4e);Ze("notEqual",K4e);Ze("lessThan",q4e);Ze("greaterThan",X4e);Ze("lessThanEqual",Y4e);Ze("greaterThanEqual",Q4e);Ze("and",Z4e);Ze("or",J4e);Ze("not",eke);Ze("xor",tke);Ze("bitAnd",nke);Ze("bitNot",ike);Ze("bitOr",rke);Ze("bitXor",oke);Ze("shiftLeft",ske);Ze("shiftRight",ake);const lke=(...n)=>(console.warn("TSL.OperatorNode: .remainder() has been renamed to .modInt()."),Pq(...n));Ze("remainder",lke);class Le extends Er{static get type(){return"MathNode"}constructor(e,i,r=null,o=null){super(),this.method=e,this.aNode=i,this.bNode=r,this.cNode=o}getInputType(e){const i=this.aNode.getNodeType(e),r=this.bNode?this.bNode.getNodeType(e):null,o=this.cNode?this.cNode.getNodeType(e):null,s=e.isMatrix(i)?0:e.getTypeLength(i),a=e.isMatrix(r)?0:e.getTypeLength(r),l=e.isMatrix(o)?0:e.getTypeLength(o);return s>a&&s>l?i:a>l?r:l>s?o:i}getNodeType(e){const i=this.method;return i===Le.LENGTH||i===Le.DISTANCE||i===Le.DOT?"float":i===Le.CROSS?"vec3":i===Le.ALL?"bool":i===Le.EQUALS?e.changeComponentType(this.aNode.getNodeType(e),"bool"):i===Le.MOD?this.aNode.getNodeType(e):this.getInputType(e)}generate(e,i){let r=this.method;const o=this.getNodeType(e),s=this.getInputType(e),a=this.aNode,l=this.bNode,u=this.cNode,c=e.renderer.coordinateSystem;if(r===Le.TRANSFORM_DIRECTION){let d=a,f=l;e.isMatrix(d.getNodeType(e))?f=sn(tt(f),0):d=sn(tt(d),0);const h=Rn(d,f).xyz;return P0(h).build(e,i)}else{if(r===Le.NEGATE)return e.format("( - "+a.build(e,s)+" )",o,i);if(r===Le.ONE_MINUS)return ts(1,a).build(e,i);if(r===Le.RECIPROCAL)return vc(1,a).build(e,i);if(r===Le.DIFFERENCE)return la(ts(a,l)).build(e,i);{const d=[];return r===Le.CROSS||r===Le.MOD?d.push(a.build(e,o),l.build(e,o)):c===rs&&r===Le.STEP?d.push(a.build(e,e.getTypeLength(a.getNodeType(e))===1?"float":s),l.build(e,s)):c===rs&&(r===Le.MIN||r===Le.MAX)||r===Le.MOD?d.push(a.build(e,s),l.build(e,e.getTypeLength(l.getNodeType(e))===1?"float":s)):r===Le.REFRACT?d.push(a.build(e,s),l.build(e,s),u.build(e,"float")):r===Le.MIX?d.push(a.build(e,s),l.build(e,s),u.build(e,e.getTypeLength(u.getNodeType(e))===1?"float":s)):(c===zd&&r===Le.ATAN&&l!==null&&(r="atan2"),d.push(a.build(e,s)),l!==null&&d.push(l.build(e,s)),u!==null&&d.push(u.build(e,s))),e.format(`${e.getMethod(r,o)}( ${d.join(", ")} )`,o,i)}}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}Le.ALL="all";Le.ANY="any";Le.RADIANS="radians";Le.DEGREES="degrees";Le.EXP="exp";Le.EXP2="exp2";Le.LOG="log";Le.LOG2="log2";Le.SQRT="sqrt";Le.INVERSE_SQRT="inversesqrt";Le.FLOOR="floor";Le.CEIL="ceil";Le.NORMALIZE="normalize";Le.FRACT="fract";Le.SIN="sin";Le.COS="cos";Le.TAN="tan";Le.ASIN="asin";Le.ACOS="acos";Le.ATAN="atan";Le.ABS="abs";Le.SIGN="sign";Le.LENGTH="length";Le.NEGATE="negate";Le.ONE_MINUS="oneMinus";Le.DFDX="dFdx";Le.DFDY="dFdy";Le.ROUND="round";Le.RECIPROCAL="reciprocal";Le.TRUNC="trunc";Le.FWIDTH="fwidth";Le.TRANSPOSE="transpose";Le.BITCAST="bitcast";Le.EQUALS="equals";Le.MIN="min";Le.MAX="max";Le.MOD="mod";Le.STEP="step";Le.REFLECT="reflect";Le.DISTANCE="distance";Le.DIFFERENCE="difference";Le.DOT="dot";Le.CROSS="cross";Le.POW="pow";Le.TRANSFORM_DIRECTION="transformDirection";Le.MIX="mix";Le.CLAMP="clamp";Le.REFRACT="refract";Le.SMOOTHSTEP="smoothstep";Le.FACEFORWARD="faceforward";const uke=Je(1e-6),cke=Je(Math.PI),Iq=lt(Le,Le.ALL),dke=lt(Le,Le.ANY),fke=lt(Le,Le.RADIANS),hke=lt(Le,Le.DEGREES),Nq=lt(Le,Le.EXP),R0=lt(Le,Le.EXP2),Oq=lt(Le,Le.LOG),ac=lt(Le,Le.LOG2),mD=lt(Le,Le.SQRT),pke=lt(Le,Le.INVERSE_SQRT),ph=lt(Le,Le.FLOOR),vD=lt(Le,Le.CEIL),P0=lt(Le,Le.NORMALIZE),Zd=lt(Le,Le.FRACT),Wa=lt(Le,Le.SIN),yd=lt(Le,Le.COS),gke=lt(Le,Le.TAN),mke=lt(Le,Le.ASIN),vke=lt(Le,Le.ACOS),Dq=lt(Le,Le.ATAN),la=lt(Le,Le.ABS),t1=lt(Le,Le.SIGN),Ld=lt(Le,Le.LENGTH),yke=lt(Le,Le.NEGATE),bke=lt(Le,Le.ONE_MINUS),Lq=lt(Le,Le.DFDX),Bq=lt(Le,Le.DFDY),xke=lt(Le,Le.ROUND),_ke=lt(Le,Le.RECIPROCAL),Ske=lt(Le,Le.TRUNC),wke=lt(Le,Le.FWIDTH),Cke=lt(Le,Le.TRANSPOSE);Le.BITCAST;const Ake=lt(Le,Le.EQUALS),I0=lt(Le,Le.MIN),fs=lt(Le,Le.MAX),Fq=lt(Le,Le.MOD),$q=lt(Le,Le.STEP),Tke=lt(Le,Le.REFLECT),Eke=lt(Le,Le.DISTANCE),Mke=lt(Le,Le.DIFFERENCE),yD=lt(Le,Le.DOT),Uq=lt(Le,Le.CROSS),CC=lt(Le,Le.POW),kq=lt(Le,Le.POW,2),Rke=lt(Le,Le.POW,3),Pke=lt(Le,Le.POW,4),Ike=lt(Le,Le.TRANSFORM_DIRECTION),Nke=n=>Rn(t1(n),CC(la(n),1/3)),Oke=n=>yD(n,n),Si=lt(Le,Le.MIX),yc=(n,e=0,i=1)=>mt(new Le(Le.CLAMP,mt(n),mt(e),mt(i))),Dke=n=>yc(n),zq=lt(Le,Le.REFRACT),Ih=lt(Le,Le.SMOOTHSTEP),Lke=lt(Le,Le.FACEFORWARD),Bke=vt(([n])=>{const r=43758.5453,o=yD(n.xy,_t(12.9898,78.233)),s=Fq(o,cke);return Zd(Wa(s).mul(r))}),Fke=(n,e,i)=>Si(e,i,n),$ke=(n,e,i)=>Ih(e,i,n),Uke=(n,e)=>(console.warn('THREE.TSL: "atan2" is overloaded. Use "atan" instead.'),Dq(n,e));Ze("all",Iq);Ze("any",dke);Ze("equals",Ake);Ze("radians",fke);Ze("degrees",hke);Ze("exp",Nq);Ze("exp2",R0);Ze("log",Oq);Ze("log2",ac);Ze("sqrt",mD);Ze("inverseSqrt",pke);Ze("floor",ph);Ze("ceil",vD);Ze("normalize",P0);Ze("fract",Zd);Ze("sin",Wa);Ze("cos",yd);Ze("tan",gke);Ze("asin",mke);Ze("acos",vke);Ze("atan",Dq);Ze("abs",la);Ze("sign",t1);Ze("length",Ld);Ze("lengthSq",Oke);Ze("negate",yke);Ze("oneMinus",bke);Ze("dFdx",Lq);Ze("dFdy",Bq);Ze("round",xke);Ze("reciprocal",_ke);Ze("trunc",Ske);Ze("fwidth",wke);Ze("atan2",Uke);Ze("min",I0);Ze("max",fs);Ze("mod",Fq);Ze("step",$q);Ze("reflect",Tke);Ze("distance",Eke);Ze("dot",yD);Ze("cross",Uq);Ze("pow",CC);Ze("pow2",kq);Ze("pow3",Rke);Ze("pow4",Pke);Ze("transformDirection",Ike);Ze("mix",Fke);Ze("clamp",yc);Ze("refract",zq);Ze("smoothstep",$ke);Ze("faceForward",Lke);Ze("difference",Mke);Ze("saturate",Dke);Ze("cbrt",Nke);Ze("transpose",Cke);Ze("rand",Bke);class kke extends hn{static get type(){return"ConditionalNode"}constructor(e,i,r=null){super(),this.condNode=e,this.ifNode=i,this.elseNode=r}getNodeType(e){const{ifNode:i,elseNode:r}=e.getNodeProperties(this);if(i===void 0)return this.setup(e),this.getNodeType(e);const o=i.getNodeType(e);if(r!==null){const s=r.getNodeType(e);if(e.getTypeLength(s)>e.getTypeLength(o))return s}return o}setup(e){const i=this.condNode.cache(),r=this.ifNode.cache(),o=this.elseNode?this.elseNode.cache():null,s=e.context.nodeBlock;e.getDataFromNode(r).parentNodeBlock=s,o!==null&&(e.getDataFromNode(o).parentNodeBlock=s);const a=e.getNodeProperties(this);a.condNode=i,a.ifNode=r.context({nodeBlock:r}),a.elseNode=o?o.context({nodeBlock:o}):null}generate(e,i){const r=this.getNodeType(e),o=e.getDataFromNode(this);if(o.nodeProperty!==void 0)return o.nodeProperty;const{condNode:s,ifNode:a,elseNode:l}=e.getNodeProperties(this),u=i!=="void",c=u?z4e(r).build(e):"";o.nodeProperty=c;const d=s.build(e,"bool");e.addFlowCode(`
${e.tab}if ( ${d} ) {

`).addFlowTab();let f=a.build(e,r);if(f&&(u?f=c+" = "+f+";":f="return "+f+";"),e.removeFlowTab().addFlowCode(e.tab+"	"+f+`

`+e.tab+"}"),l!==null){e.addFlowCode(` else {

`).addFlowTab();let h=l.build(e,r);h&&(u?h=c+" = "+h+";":h="return "+h+";"),e.removeFlowTab().addFlowCode(e.tab+"	"+h+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return e.format(c,r,i)}}const os=lt(kke);Ze("select",os);const zke=(...n)=>(console.warn("TSL.ConditionalNode: cond() has been renamed to select()."),os(...n));Ze("cond",zke);class Hq extends hn{static get type(){return"ContextNode"}constructor(e,i={}){super(),this.isContextNode=!0,this.node=e,this.value=i}getScope(){return this.node.getScope()}getNodeType(e){return this.node.getNodeType(e)}analyze(e){this.node.build(e)}setup(e){const i=e.getContext();e.setContext({...e.context,...this.value});const r=this.node.build(e);return e.setContext(i),r}generate(e,i){const r=e.getContext();e.setContext({...e.context,...this.value});const o=this.node.build(e,i);return e.setContext(r),o}}const bD=lt(Hq),Hke=(n,e)=>bD(n,{label:e});Ze("context",bD);Ze("label",Hke);class $S extends hn{static get type(){return"VarNode"}constructor(e,i=null){super(),this.node=e,this.name=i,this.global=!0,this.isVarNode=!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const{node:i,name:r}=this,o=e.getVarFromNode(this,r,e.getVectorType(this.getNodeType(e))),s=e.getPropertyName(o),a=i.build(e,o.type);return e.addLineFlowCode(`${s} = ${a}`,this),s}}const Gq=lt($S);Ze("toVar",(...n)=>Gq(...n).append());const Gke=n=>(console.warn('TSL: "temp" is deprecated. Use ".toVar()" instead.'),Gq(n));Ze("temp",Gke);class Vke extends hn{static get type(){return"VaryingNode"}constructor(e,i=null){super(),this.node=e,this.name=i,this.isVaryingNode=!0}isGlobal(){return!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}setupVarying(e){const i=e.getNodeProperties(this);let r=i.varying;if(r===void 0){const o=this.name,s=this.getNodeType(e);i.varying=r=e.getVaryingFromNode(this,o,s),i.node=this.node}return r.needsInterpolation||(r.needsInterpolation=e.shaderStage==="fragment"),r}setup(e){this.setupVarying(e)}analyze(e){return this.setupVarying(e),this.node.analyze(e)}generate(e){const i=e.getNodeProperties(this),r=this.setupVarying(e),o=e.shaderStage==="fragment"&&i.reassignPosition===!0&&e.context.needsPositionReassign;if(i.propertyName===void 0||o){const s=this.getNodeType(e),a=e.getPropertyName(r,t6.VERTEX);e.flowNodeFromShaderStage(t6.VERTEX,this.node,s,a),i.propertyName=a,o?i.reassignPosition=!1:i.reassignPosition===void 0&&e.context.isPositionNodeInput&&(i.reassignPosition=!0)}return e.getPropertyName(r)}}const Pc=lt(Vke),Wke=n=>Pc(n);Ze("varying",Pc);Ze("vertexStage",Wke);const jke=vt(([n])=>{const e=n.mul(.9478672986).add(.0521327014).pow(2.4),i=n.mul(.0773993808),r=n.lessThanEqual(.04045);return Si(e,i,r)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),Kke=vt(([n])=>{const e=n.pow(.41666).mul(1.055).sub(.055),i=n.mul(12.92),r=n.lessThanEqual(.0031308);return Si(e,i,r)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),cb="WorkingColorSpace",xD="OutputColorSpace";class AC extends Er{static get type(){return"ColorSpaceNode"}constructor(e,i,r){super("vec4"),this.colorNode=e,this.source=i,this.target=r}resolveColorSpace(e,i){return i===cb?wn.workingColorSpace:i===xD?e.context.outputColorSpace||e.renderer.outputColorSpace:i}setup(e){const{colorNode:i}=this,r=this.resolveColorSpace(e,this.source),o=this.resolveColorSpace(e,this.target);let s=i;return wn.enabled===!1||r===o||!r||!o||(wn.getTransfer(r)===Qn&&(s=sn(jke(s.rgb),s.a)),wn.getPrimaries(r)!==wn.getPrimaries(o)&&(s=sn(Uo(wn._getMatrix(new on,r,o)).mul(s.rgb),s.a)),wn.getTransfer(o)===Qn&&(s=sn(Kke(s.rgb),s.a))),s}}const qke=n=>mt(new AC(mt(n),cb,xD)),Xke=n=>mt(new AC(mt(n),xD,cb)),Yke=(n,e)=>mt(new AC(mt(n),cb,e)),Vq=(n,e)=>mt(new AC(mt(n),e,cb));Ze("toOutputColorSpace",qke);Ze("toWorkingColorSpace",Xke);Ze("workingToColorSpace",Yke);Ze("colorSpaceToWorking",Vq);let Qke=class extends lb{static get type(){return"ReferenceElementNode"}constructor(e,i){super(e,i),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const i=super.generate(e),r=this.referenceNode.getNodeType(),o=this.getNodeType();return e.format(i,r,o)}};class Wq extends hn{static get type(){return"ReferenceBaseNode"}constructor(e,i,r=null,o=null){super(),this.property=e,this.uniformType=i,this.object=r,this.count=o,this.properties=e.split("."),this.reference=r,this.node=null,this.group=null,this.updateType=An.OBJECT}setGroup(e){return this.group=e,this}element(e){return mt(new Qke(this,mt(e)))}setNodeType(e){const i=un(null,e).getSelf();this.group!==null&&i.setGroup(this.group),this.node=i}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:i}=this;let r=e[i[0]];for(let o=1;o<i.length;o++)r=r[i[o]];return r}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const Zke=(n,e,i)=>mt(new Wq(n,e,i));class Jke extends Wq{static get type(){return"RendererReferenceNode"}constructor(e,i,r=null){super(e,i,r),this.renderer=r,this.setGroup(Zt)}updateReference(e){return this.reference=this.renderer!==null?this.renderer:e.renderer,this.reference}}const eze=(n,e,i=null)=>mt(new Jke(n,e,i));class tze extends Er{static get type(){return"ToneMappingNode"}constructor(e,i=ize,r=null){super("vec3"),this.toneMapping=e,this.exposureNode=i,this.colorNode=r}customCacheKey(){return lD(this.toneMapping)}setup(e){const i=this.colorNode||e.context.color,r=this.toneMapping;if(r===us)return i;let o=null;const s=e.renderer.library.getToneMappingFunction(r);return s!==null?o=sn(s(i.rgb,this.exposureNode),i.a):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",r),o=i),o}}const nze=(n,e,i)=>mt(new tze(n,mt(e),mt(i))),ize=eze("toneMappingExposure","float");Ze("toneMapping",(n,e,i)=>nze(e,i,n));class rze extends uD{static get type(){return"BufferAttributeNode"}constructor(e,i=null,r=0,o=0){super(e,i),this.isBufferNode=!0,this.bufferType=i,this.bufferStride=r,this.bufferOffset=o,this.usage=zw,this.instanced=!1,this.attribute=null,this.global=!0,e&&e.isBufferAttribute===!0&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getHash(e){if(this.bufferStride===0&&this.bufferOffset===0){let i=e.globalCache.getData(this.value);return i===void 0&&(i={node:this},e.globalCache.setData(this.value,i)),i.node.uuid}return this.uuid}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const i=this.getNodeType(e),r=this.value,o=e.getTypeLength(i),s=this.bufferStride||o,a=this.bufferOffset,l=r.isInterleavedBuffer===!0?r:new vK(r,s),u=new VOe(l,o,a);l.setUsage(this.usage),this.attribute=u,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const i=this.getNodeType(e),r=e.getBufferAttributeFromNode(this,i),o=e.getPropertyName(r);let s=null;return e.shaderStage==="vertex"||e.shaderStage==="compute"?(this.name=o,s=o):s=Pc(this).build(e,i),s}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=e),this}setInstanced(e){return this.instanced=e,this}}const _D=(n,e=null,i=0,r=0)=>mt(new rze(n,e,i,r)),oze=(n,e=null,i=0,r=0)=>_D(n,e,i,r).setUsage(cg),d6=(n,e=null,i=0,r=0)=>_D(n,e,i,r).setInstanced(!0),f6=(n,e=null,i=0,r=0)=>oze(n,e,i,r).setInstanced(!0);Ze("toAttribute",n=>_D(n.value));class sze extends hn{static get type(){return"ComputeNode"}constructor(e,i,r=[64]){super("void"),this.isComputeNode=!0,this.computeNode=e,this.count=i,this.workgroupSize=r,this.dispatchCount=0,this.version=1,this.name="",this.updateBeforeType=An.OBJECT,this.onInitFunction=null,this.updateDispatchCount()}dispose(){this.dispatchEvent({type:"dispose"})}label(e){return this.name=e,this}updateDispatchCount(){const{count:e,workgroupSize:i}=this;let r=i[0];for(let o=1;o<i.length;o++)r*=i[o];this.dispatchCount=Math.ceil(e/r)}onInit(e){return this.onInitFunction=e,this}updateBefore({renderer:e}){e.compute(this)}generate(e){const{shaderStage:i}=e;if(i==="compute"){const r=this.computeNode.build(e,"void");r!==""&&e.addLineFlowCode(r,this)}}}const aze=(n,e,i)=>mt(new sze(mt(n),e,i));Ze("compute",aze);class lze extends hn{static get type(){return"CacheNode"}constructor(e,i=!0){super(),this.node=e,this.parent=i,this.isCacheNode=!0}getNodeType(e){const i=e.getCache(),r=e.getCacheFromNode(this,this.parent);e.setCache(r);const o=this.node.getNodeType(e);return e.setCache(i),o}build(e,...i){const r=e.getCache(),o=e.getCacheFromNode(this,this.parent);e.setCache(o);const s=this.node.build(e,...i);return e.setCache(r),s}}const US=(n,e)=>mt(new lze(mt(n),e));Ze("cache",US);class uze extends hn{static get type(){return"BypassNode"}constructor(e,i){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=i}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const i=this.callNode.build(e,"void");return i!==""&&e.addLineFlowCode(i,this),this.outputNode.build(e)}}const cze=lt(uze);Ze("bypass",cze);class jq extends hn{static get type(){return"RemapNode"}constructor(e,i,r,o=Je(0),s=Je(1)){super(),this.node=e,this.inLowNode=i,this.inHighNode=r,this.outLowNode=o,this.outHighNode=s,this.doClamp=!0}setup(){const{node:e,inLowNode:i,inHighNode:r,outLowNode:o,outHighNode:s,doClamp:a}=this;let l=e.sub(i).div(r.sub(i));return a===!0&&(l=l.clamp()),l.mul(s.sub(o)).add(o)}}const dze=lt(jq,null,null,{doClamp:!1}),fze=lt(jq);Ze("remap",dze);Ze("remapClamp",fze);class kS extends hn{static get type(){return"ExpressionNode"}constructor(e="",i="void"){super(i),this.snippet=e}generate(e,i){const r=this.getNodeType(e),o=this.snippet;if(r==="void")e.addLineFlowCode(o,this);else return e.format(`( ${o} )`,r,i)}}const N0=lt(kS),hze=n=>(n?os(n,N0("discard")):N0("discard")).append();Ze("discard",hze);class pze extends Er{static get type(){return"RenderOutputNode"}constructor(e,i,r){super("vec4"),this.colorNode=e,this.toneMapping=i,this.outputColorSpace=r,this.isRenderOutputNode=!0}setup({context:e}){let i=this.colorNode||e.color;const r=(this.toneMapping!==null?this.toneMapping:e.toneMapping)||us,o=(this.outputColorSpace!==null?this.outputColorSpace:e.outputColorSpace)||Fs;return r!==us&&(i=i.toneMapping(r)),o!==Fs&&o!==wn.workingColorSpace&&(i=i.workingToColorSpace(o)),i}}const gze=(n,e=null,i=null)=>mt(new pze(mt(n),e,i));Ze("renderOutput",gze);class mze extends hn{static get type(){return"AttributeNode"}constructor(e,i=null){super(i),this.global=!0,this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let i=this.nodeType;if(i===null){const r=this.getAttributeName(e);if(e.hasGeometryAttribute(r)){const o=e.geometry.getAttribute(r);i=e.getTypeFromAttribute(o)}else i="float"}return i}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const i=this.getAttributeName(e),r=this.getNodeType(e);if(e.hasGeometryAttribute(i)===!0){const s=e.geometry.getAttribute(i),a=e.getTypeFromAttribute(s),l=e.getAttribute(i,a);return e.shaderStage==="vertex"?e.format(l.name,a,r):Pc(this).build(e,r)}else return console.warn(`AttributeNode: Vertex attribute "${i}" not found on geometry.`),e.generateConst(r)}serialize(e){super.serialize(e),e.global=this.global,e._attributeName=this._attributeName}deserialize(e){super.deserialize(e),this.global=e.global,this._attributeName=e._attributeName}}const bc=(n,e)=>mt(new mze(n,e)),TC=(n=0)=>bc("uv"+(n>0?n:""),"vec2");class vze extends hn{static get type(){return"TextureSizeNode"}constructor(e,i=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=i}generate(e,i){const r=this.textureNode.build(e,"property"),o=this.levelNode===null?"0":this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${r}, ${o} )`,this.getNodeType(e),i)}}const Fy=lt(vze);class yze extends ub{static get type(){return"MaxMipLevelNode"}constructor(e){super(0),this._textureNode=e,this.updateType=An.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const e=this.texture,i=e.images,r=i&&i.length>0?i[0]&&i[0].image||i[0]:e.image;if(r&&r.width!==void 0){const{width:o,height:s}=r;this.value=Math.log2(Math.max(o,s))}}}const bze=lt(yze);class db extends ub{static get type(){return"TextureNode"}constructor(e,i=null,r=null,o=null){super(e),this.isTextureNode=!0,this.uvNode=i,this.levelNode=r,this.biasNode=o,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=An.NONE,this.referenceNode=null,this._value=e,this._matrixUniform=null,this.setUpdateMatrix(i===null)}set value(e){this.referenceNode?this.referenceNode.value=e:this._value=e}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===zi?"uvec4":this.value.type===Dr?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return TC(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){return this._matrixUniform===null&&(this._matrixUniform=un(this.value.matrix)),this._matrixUniform.mul(tt(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this.updateType=e?An.RENDER:An.NONE,this}setupUV(e,i){const r=this.value;return e.isFlipY()&&(r.image instanceof ImageBitmap&&r.flipY===!0||r.isRenderTargetTexture===!0||r.isFramebufferTexture===!0||r.isDepthTexture===!0)&&(this.sampler?i=i.flipY():i=i.setY(ji(Fy(this,this.levelNode).y).sub(i.y).sub(1))),i}setup(e){const i=e.getNodeProperties(this);i.referenceNode=this.referenceNode;const r=this.value;if(!r||r.isTexture!==!0)throw new Error("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().");let o=this.uvNode;(o===null||e.context.forceUVContext===!0)&&e.context.getUV&&(o=e.context.getUV(this)),o||(o=this.getDefaultUV()),this.updateMatrix===!0&&(o=this.getTransformedUV(o)),o=this.setupUV(e,o);let s=this.levelNode;s===null&&e.context.getTextureLevel&&(s=e.context.getTextureLevel(this)),i.uvNode=o,i.levelNode=s,i.biasNode=this.biasNode,i.compareNode=this.compareNode,i.gradNode=this.gradNode,i.depthNode=this.depthNode}generateUV(e,i){return i.build(e,this.sampler===!0?"vec2":"ivec2")}generateSnippet(e,i,r,o,s,a,l,u){const c=this.value;let d;return o?d=e.generateTextureLevel(c,i,r,o,a):s?d=e.generateTextureBias(c,i,r,s,a):u?d=e.generateTextureGrad(c,i,r,u,a):l?d=e.generateTextureCompare(c,i,r,l,a):this.sampler===!1?d=e.generateTextureLoad(c,i,r,a):d=e.generateTexture(c,i,r,a),d}generate(e,i){const r=this.value,o=e.getNodeProperties(this),s=super.generate(e,"property");if(i==="sampler")return s+"_sampler";if(e.isReference(i))return s;{const a=e.getDataFromNode(this);let l=a.propertyName;if(l===void 0){const{uvNode:d,levelNode:f,biasNode:h,compareNode:p,depthNode:g,gradNode:b}=o,y=this.generateUV(e,d),m=f?f.build(e,"float"):null,_=h?h.build(e,"float"):null,S=g?g.build(e,"int"):null,w=p?p.build(e,"float"):null,A=b?[b[0].build(e,"vec2"),b[1].build(e,"vec2")]:null,T=e.getVarFromNode(this);l=e.getPropertyName(T);const C=this.generateSnippet(e,s,y,m,_,S,w,A);e.addLineFlowCode(`${l} = ${C}`,this),a.snippet=C,a.propertyName=l}let u=l;const c=this.getNodeType(e);return e.needsToWorkingColorSpace(r)&&(u=Vq(N0(u,c),r.colorSpace).setup(e).build(e,c)),e.format(u,c,i)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}uv(e){return console.warn("THREE.TextureNode: .uv() has been renamed. Use .sample() instead."),this.sample(e)}sample(e){const i=this.clone();return i.uvNode=mt(e),i.referenceNode=this.getSelf(),mt(i)}blur(e){const i=this.clone();return i.biasNode=mt(e).mul(bze(i)),i.referenceNode=this.getSelf(),mt(i)}level(e){const i=this.clone();return i.levelNode=mt(e),i.referenceNode=this.getSelf(),mt(i)}size(e){return Fy(this,e)}bias(e){const i=this.clone();return i.biasNode=mt(e),i.referenceNode=this.getSelf(),mt(i)}compare(e){const i=this.clone();return i.compareNode=mt(e),i.referenceNode=this.getSelf(),mt(i)}grad(e,i){const r=this.clone();return r.gradNode=[mt(e),mt(i)],r.referenceNode=this.getSelf(),mt(r)}depth(e){const i=this.clone();return i.depthNode=mt(e),i.referenceNode=this.getSelf(),mt(i)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid,e.sampler=this.sampler,e.updateMatrix=this.updateMatrix,e.updateType=this.updateType}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value],this.sampler=e.sampler,this.updateMatrix=e.updateMatrix,this.updateType=e.updateType}update(){const e=this.value,i=this._matrixUniform;i!==null&&(i.value=e.matrix),e.matrixAutoUpdate===!0&&e.updateMatrix()}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return e.sampler=this.sampler,e}}const Hn=lt(db),Ha=(...n)=>Hn(...n).setSampler(!1),qf=un("float").label("cameraNear").setGroup(Zt).onRenderUpdate(({camera:n})=>n.near),Xf=un("float").label("cameraFar").setGroup(Zt).onRenderUpdate(({camera:n})=>n.far),SD=un("mat4").label("cameraProjectionMatrix").setGroup(Zt).onRenderUpdate(({camera:n})=>n.projectionMatrix),Ic=un("mat4").label("cameraViewMatrix").setGroup(Zt).onRenderUpdate(({camera:n})=>n.matrixWorldInverse),xze=un(new Te).label("cameraPosition").setGroup(Zt).onRenderUpdate(({camera:n},e)=>e.value.setFromMatrixPosition(n.matrixWorld));class Vn extends hn{static get type(){return"Object3DNode"}constructor(e,i=null){super(),this.scope=e,this.object3d=i,this.updateType=An.OBJECT,this._uniformNode=new ub(null)}getNodeType(){const e=this.scope;if(e===Vn.WORLD_MATRIX)return"mat4";if(e===Vn.POSITION||e===Vn.VIEW_POSITION||e===Vn.DIRECTION||e===Vn.SCALE)return"vec3"}update(e){const i=this.object3d,r=this._uniformNode,o=this.scope;if(o===Vn.WORLD_MATRIX)r.value=i.matrixWorld;else if(o===Vn.POSITION)r.value=r.value||new Te,r.value.setFromMatrixPosition(i.matrixWorld);else if(o===Vn.SCALE)r.value=r.value||new Te,r.value.setFromMatrixScale(i.matrixWorld);else if(o===Vn.DIRECTION)r.value=r.value||new Te,i.getWorldDirection(r.value);else if(o===Vn.VIEW_POSITION){const s=e.camera;r.value=r.value||new Te,r.value.setFromMatrixPosition(i.matrixWorld),r.value.applyMatrix4(s.matrixWorldInverse)}}generate(e){const i=this.scope;return i===Vn.WORLD_MATRIX?this._uniformNode.nodeType="mat4":(i===Vn.POSITION||i===Vn.VIEW_POSITION||i===Vn.DIRECTION||i===Vn.SCALE)&&(this._uniformNode.nodeType="vec3"),this._uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}Vn.WORLD_MATRIX="worldMatrix";Vn.POSITION="position";Vn.SCALE="scale";Vn.VIEW_POSITION="viewPosition";Vn.DIRECTION="direction";Vn.DIRECTION;Vn.WORLD_MATRIX;const _ze=lt(Vn,Vn.POSITION);Vn.SCALE;Vn.VIEW_POSITION;class jl extends Vn{static get type(){return"ModelNode"}constructor(e){super(e)}update(e){this.object3d=e.object,super.update(e)}}jl.DIRECTION;const Nh=xt(jl,jl.WORLD_MATRIX);jl.POSITION;jl.SCALE;jl.VIEW_POSITION;const Sze=un(new on).onObjectUpdate(({object:n},e)=>e.value.getNormalMatrix(n.matrixWorld)),wD=vt(n=>n.renderer.nodes.modelViewMatrix||wze).once()().toVar("modelViewMatrix"),wze=Ic.mul(Nh),CD=bc("position","vec3"),fo=CD.varying("positionLocal"),h6=CD.varying("positionPrevious"),O0=Nh.mul(fo).xyz.varying("v_positionWorld").context({needsPositionReassign:!0}),Kq=fo.transformDirection(Nh).varying("v_positionWorldDirection").normalize().toVar("positionWorldDirection").context({needsPositionReassign:!0}),fr=vt(n=>n.context.setupPositionView(),"vec3").once()().varying("v_positionView").context({needsPositionReassign:!0}),Hi=fr.negate().varying("v_positionViewDirection").normalize().toVar("positionViewDirection");class Cze extends hn{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){const{renderer:i,material:r}=e;return i.coordinateSystem===rs&&r.side===Di?"false":e.getFrontFacing()}}const Aze=xt(Cze),EC=Je(Aze).mul(2).sub(1),qq=bc("normal","vec3"),Kl=vt(n=>n.geometry.hasAttribute("normal")===!1?(console.warn('TSL.NormalNode: Vertex attribute "normal" not found on geometry.'),tt(0,1,0)):qq,"vec3").once()().toVar("normalLocal"),Tze=fr.dFdx().cross(fr.dFdy()).normalize().toVar("normalFlat"),sl=vt(n=>{let e;return n.material.flatShading===!0?e=Tze:e=Pc(Yq(Kl),"v_normalView").normalize(),e},"vec3").once()().toVar("normalView"),Xq=Pc(sl.transformDirection(Ic),"v_normalWorld").normalize().toVar("normalWorld"),cr=vt(n=>n.context.setupNormal(),"vec3").once()().mul(EC).toVar("transformedNormalView"),AD=cr.transformDirection(Ic).toVar("transformedNormalWorld"),uy=vt(n=>n.context.setupClearcoatNormal(),"vec3").once()().mul(EC).toVar("transformedClearcoatNormalView"),Eze=vt(([n,e=Nh])=>{const i=Uo(e),r=n.div(tt(i[0].dot(i[0]),i[1].dot(i[1]),i[2].dot(i[2])));return i.mul(r).xyz}),Yq=vt(([n],e)=>{const i=e.renderer.nodes.modelNormalViewMatrix;if(i!==null)return i.transformDirection(n);const r=Sze.mul(n);return Ic.transformDirection(r)}),Mze=un(0).onReference(({material:n})=>n).onRenderUpdate(({material:n})=>n.refractionRatio),Rze=Hi.negate().reflect(cr),Pze=Hi.negate().refract(cr,Mze),Ize=Rze.transformDirection(Ic).toVar("reflectVector"),Nze=Pze.transformDirection(Ic).toVar("reflectVector");class Oze extends db{static get type(){return"CubeTextureNode"}constructor(e,i=null,r=null,o=null){super(e,i,r,o),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){const e=this.value;return e.mapping===Sa?Ize:e.mapping===wa?Nze:(console.error('THREE.CubeTextureNode: Mapping "%s" not supported.',e.mapping),tt(0,0,0))}setUpdateMatrix(){}setupUV(e,i){const r=this.value;return e.renderer.coordinateSystem===zd||!r.isRenderTargetTexture?tt(i.x.negate(),i.yz):i}generateUV(e,i){return i.build(e,"vec3")}}const D0=lt(Oze);class Qq extends ub{static get type(){return"BufferNode"}constructor(e,i,r=0){super(e,i),this.isBufferNode=!0,this.bufferType=i,this.bufferCount=r}getElementType(e){return this.getNodeType(e)}getInputType(){return"buffer"}}const TD=(n,e,i)=>mt(new Qq(n,e,i));class Dze extends lb{static get type(){return"UniformArrayElementNode"}constructor(e,i){super(e,i),this.isArrayBufferElementNode=!0}generate(e){const i=super.generate(e),r=this.getNodeType(),o=this.node.getPaddedType();return e.format(i,o,r)}}class Lze extends Qq{static get type(){return"UniformArrayNode"}constructor(e,i=null){super(null),this.array=e,this.elementType=i===null?qw(e[0]):i,this.paddedType=this.getPaddedType(),this.updateType=An.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const e=this.elementType;let i="vec4";return e==="mat2"?i="mat2":/mat/.test(e)===!0?i="mat4":e.charAt(0)==="i"?i="ivec4":e.charAt(0)==="u"&&(i="uvec4"),i}update(){const{array:e,value:i}=this,r=this.elementType;if(r==="float"||r==="int"||r==="uint")for(let o=0;o<e.length;o++){const s=o*4;i[s]=e[o]}else if(r==="color")for(let o=0;o<e.length;o++){const s=o*4,a=e[o];i[s]=a.r,i[s+1]=a.g,i[s+2]=a.b||0}else if(r==="mat2")for(let o=0;o<e.length;o++){const s=o*4,a=e[o];i[s]=a.elements[0],i[s+1]=a.elements[1],i[s+2]=a.elements[2],i[s+3]=a.elements[3]}else if(r==="mat3")for(let o=0;o<e.length;o++){const s=o*16,a=e[o];i[s]=a.elements[0],i[s+1]=a.elements[1],i[s+2]=a.elements[2],i[s+4]=a.elements[3],i[s+5]=a.elements[4],i[s+6]=a.elements[5],i[s+8]=a.elements[6],i[s+9]=a.elements[7],i[s+10]=a.elements[8],i[s+15]=1}else if(r==="mat4")for(let o=0;o<e.length;o++){const s=o*16,a=e[o];for(let l=0;l<a.elements.length;l++)i[s+l]=a.elements[l]}else for(let o=0;o<e.length;o++){const s=o*4,a=e[o];i[s]=a.x,i[s+1]=a.y,i[s+2]=a.z||0,i[s+3]=a.w||0}}setup(e){const i=this.array.length,r=this.elementType;let o=Float32Array;const s=this.paddedType,a=e.getTypeLength(s);return r.charAt(0)==="i"&&(o=Int32Array),r.charAt(0)==="u"&&(o=Uint32Array),this.value=new o(i*a),this.bufferCount=i,this.bufferType=s,super.setup(e)}element(e){return mt(new Dze(this,mt(e)))}}const bd=(n,e)=>mt(new Lze(n,e));class Bze extends lb{static get type(){return"ReferenceElementNode"}constructor(e,i){super(e,i),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const i=super.generate(e),r=this.referenceNode.getNodeType(),o=this.getNodeType();return e.format(i,r,o)}}class ED extends hn{static get type(){return"ReferenceNode"}constructor(e,i,r=null,o=null){super(),this.property=e,this.uniformType=i,this.object=r,this.count=o,this.properties=e.split("."),this.reference=r,this.node=null,this.group=null,this.name=null,this.updateType=An.OBJECT}element(e){return mt(new Bze(this,mt(e)))}setGroup(e){return this.group=e,this}label(e){return this.name=e,this}setNodeType(e){let i=null;this.count!==null?i=TD(null,e,this.count):Array.isArray(this.getValueFromReference())?i=bd(null,e):e==="texture"?i=Hn(null):e==="cubeTexture"?i=D0(null):i=un(null,e),this.group!==null&&i.setGroup(this.group),this.name!==null&&i.label(this.name),this.node=i.getSelf()}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:i}=this;let r=e[i[0]];for(let o=1;o<i.length;o++)r=r[i[o]];return r}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const ii=(n,e,i)=>mt(new ED(n,e,i)),p6=(n,e,i,r)=>mt(new ED(n,e,r,i));class Fze extends ED{static get type(){return"MaterialReferenceNode"}constructor(e,i,r=null){super(e,i,r),this.material=r,this.isMaterialReferenceNode=!0}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}}const xd=(n,e,i=null)=>mt(new Fze(n,e,i)),Zq=vt(n=>(n.geometry.hasAttribute("tangent")===!1&&n.geometry.computeTangents(),bc("tangent","vec4")))(),MD=Zq.xyz.toVar("tangentLocal"),Jq=wD.mul(sn(MD,0)).xyz.varying("v_tangentView").normalize().toVar("tangentView"),$ze=n=>n.mul(Zq.w).xyz,Uze=Pc($ze(sl.cross(Jq)),"v_bitangentView").normalize().toVar("bitangentView"),cy=Uo(Jq,Uze,sl),kze=(()=>{let n=$g.cross(Hi);return n=n.cross($g).normalize(),n=Si(n,cr,Lf.mul(ju.oneMinus()).oneMinus().pow2().pow2()).normalize(),n})(),zze=vt(n=>{const{eye_pos:e,surf_norm:i,mapN:r,uv:o}=n,s=e.dFdx(),a=e.dFdy(),l=o.dFdx(),u=o.dFdy(),c=i,d=a.cross(c),f=c.cross(s),h=d.mul(l.x).add(f.mul(u.x)),p=d.mul(l.y).add(f.mul(u.y)),g=h.dot(h).max(p.dot(p)),b=EC.mul(g.inverseSqrt());return ko(h.mul(r.x,b),p.mul(r.y,b),c.mul(r.z)).normalize()});class Hze extends Er{static get type(){return"NormalMapNode"}constructor(e,i=null){super("vec3"),this.node=e,this.scaleNode=i,this.normalMapType=gc}setup(e){const{normalMapType:i,scaleNode:r}=this;let o=this.node.mul(2).sub(1);r!==null&&(o=tt(o.xy.mul(r),o.z));let s=null;return i===tK?s=Yq(o):i===gc&&(e.hasGeometryAttribute("tangent")===!0?s=cy.mul(o).normalize():s=zze({eye_pos:fr,surf_norm:sl,mapN:o,uv:TC()})),s}}const g6=lt(Hze),Gze=vt(({textureNode:n,bumpScale:e})=>{const i=o=>n.cache().context({getUV:s=>o(s.uvNode||TC()),forceUVContext:!0}),r=Je(i(o=>o));return _t(Je(i(o=>o.add(o.dFdx()))).sub(r),Je(i(o=>o.add(o.dFdy()))).sub(r)).mul(e)}),Vze=vt(n=>{const{surf_pos:e,surf_norm:i,dHdxy:r}=n,o=e.dFdx().normalize(),s=e.dFdy().normalize(),a=i,l=s.cross(a),u=a.cross(o),c=o.dot(l).mul(EC),d=c.sign().mul(r.x.mul(l).add(r.y.mul(u)));return c.abs().mul(i).sub(d).normalize()});class Wze extends Er{static get type(){return"BumpMapNode"}constructor(e,i=null){super("vec3"),this.textureNode=e,this.scaleNode=i}setup(){const e=this.scaleNode!==null?this.scaleNode:1,i=Gze({textureNode:this.textureNode,bumpScale:e});return Vze({surf_pos:fr,surf_norm:sl,dHdxy:i})}}const jze=lt(Wze),m6=new Map;class Xe extends hn{static get type(){return"MaterialNode"}constructor(e){super(),this.scope=e}getCache(e,i){let r=m6.get(e);return r===void 0&&(r=xd(e,i),m6.set(e,r)),r}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e==="map"?"map":e+"Map","texture")}setup(e){const i=e.context.material,r=this.scope;let o=null;if(r===Xe.COLOR){const s=i.color!==void 0?this.getColor(r):tt();i.map&&i.map.isTexture===!0?o=s.mul(this.getTexture("map")):o=s}else if(r===Xe.OPACITY){const s=this.getFloat(r);i.alphaMap&&i.alphaMap.isTexture===!0?o=s.mul(this.getTexture("alpha")):o=s}else if(r===Xe.SPECULAR_STRENGTH)i.specularMap&&i.specularMap.isTexture===!0?o=this.getTexture("specular").r:o=Je(1);else if(r===Xe.SPECULAR_INTENSITY){const s=this.getFloat(r);i.specularIntensityMap&&i.specularIntensityMap.isTexture===!0?o=s.mul(this.getTexture(r).a):o=s}else if(r===Xe.SPECULAR_COLOR){const s=this.getColor(r);i.specularColorMap&&i.specularColorMap.isTexture===!0?o=s.mul(this.getTexture(r).rgb):o=s}else if(r===Xe.ROUGHNESS){const s=this.getFloat(r);i.roughnessMap&&i.roughnessMap.isTexture===!0?o=s.mul(this.getTexture(r).g):o=s}else if(r===Xe.METALNESS){const s=this.getFloat(r);i.metalnessMap&&i.metalnessMap.isTexture===!0?o=s.mul(this.getTexture(r).b):o=s}else if(r===Xe.EMISSIVE){const s=this.getFloat("emissiveIntensity"),a=this.getColor(r).mul(s);i.emissiveMap&&i.emissiveMap.isTexture===!0?o=a.mul(this.getTexture(r)):o=a}else if(r===Xe.NORMAL)i.normalMap?(o=g6(this.getTexture("normal"),this.getCache("normalScale","vec2")),o.normalMapType=i.normalMapType):i.bumpMap?o=jze(this.getTexture("bump").r,this.getFloat("bumpScale")):o=sl;else if(r===Xe.CLEARCOAT){const s=this.getFloat(r);i.clearcoatMap&&i.clearcoatMap.isTexture===!0?o=s.mul(this.getTexture(r).r):o=s}else if(r===Xe.CLEARCOAT_ROUGHNESS){const s=this.getFloat(r);i.clearcoatRoughnessMap&&i.clearcoatRoughnessMap.isTexture===!0?o=s.mul(this.getTexture(r).r):o=s}else if(r===Xe.CLEARCOAT_NORMAL)i.clearcoatNormalMap?o=g6(this.getTexture(r),this.getCache(r+"Scale","vec2")):o=sl;else if(r===Xe.SHEEN){const s=this.getColor("sheenColor").mul(this.getFloat("sheen"));i.sheenColorMap&&i.sheenColorMap.isTexture===!0?o=s.mul(this.getTexture("sheenColor").rgb):o=s}else if(r===Xe.SHEEN_ROUGHNESS){const s=this.getFloat(r);i.sheenRoughnessMap&&i.sheenRoughnessMap.isTexture===!0?o=s.mul(this.getTexture(r).a):o=s,o=o.clamp(.07,1)}else if(r===Xe.ANISOTROPY)if(i.anisotropyMap&&i.anisotropyMap.isTexture===!0){const s=this.getTexture(r);o=hD(zv.x,zv.y,zv.y.negate(),zv.x).mul(s.rg.mul(2).sub(_t(1)).normalize().mul(s.b))}else o=zv;else if(r===Xe.IRIDESCENCE_THICKNESS){const s=ii("1","float",i.iridescenceThicknessRange);if(i.iridescenceThicknessMap){const a=ii("0","float",i.iridescenceThicknessRange);o=s.sub(a).mul(this.getTexture(r).g).add(a)}else o=s}else if(r===Xe.TRANSMISSION){const s=this.getFloat(r);i.transmissionMap?o=s.mul(this.getTexture(r).r):o=s}else if(r===Xe.THICKNESS){const s=this.getFloat(r);i.thicknessMap?o=s.mul(this.getTexture(r).g):o=s}else if(r===Xe.IOR)o=this.getFloat(r);else if(r===Xe.LIGHT_MAP)o=this.getTexture(r).rgb.mul(this.getFloat("lightMapIntensity"));else if(r===Xe.AO)o=this.getTexture(r).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else{const s=this.getNodeType(e);o=this.getCache(r,s)}return o}}Xe.ALPHA_TEST="alphaTest";Xe.COLOR="color";Xe.OPACITY="opacity";Xe.SHININESS="shininess";Xe.SPECULAR="specular";Xe.SPECULAR_STRENGTH="specularStrength";Xe.SPECULAR_INTENSITY="specularIntensity";Xe.SPECULAR_COLOR="specularColor";Xe.REFLECTIVITY="reflectivity";Xe.ROUGHNESS="roughness";Xe.METALNESS="metalness";Xe.NORMAL="normal";Xe.CLEARCOAT="clearcoat";Xe.CLEARCOAT_ROUGHNESS="clearcoatRoughness";Xe.CLEARCOAT_NORMAL="clearcoatNormal";Xe.EMISSIVE="emissive";Xe.ROTATION="rotation";Xe.SHEEN="sheen";Xe.SHEEN_ROUGHNESS="sheenRoughness";Xe.ANISOTROPY="anisotropy";Xe.IRIDESCENCE="iridescence";Xe.IRIDESCENCE_IOR="iridescenceIOR";Xe.IRIDESCENCE_THICKNESS="iridescenceThickness";Xe.IOR="ior";Xe.TRANSMISSION="transmission";Xe.THICKNESS="thickness";Xe.ATTENUATION_DISTANCE="attenuationDistance";Xe.ATTENUATION_COLOR="attenuationColor";Xe.LINE_SCALE="scale";Xe.LINE_DASH_SIZE="dashSize";Xe.LINE_GAP_SIZE="gapSize";Xe.LINE_WIDTH="linewidth";Xe.LINE_DASH_OFFSET="dashOffset";Xe.POINT_WIDTH="pointWidth";Xe.DISPERSION="dispersion";Xe.LIGHT_MAP="light";Xe.AO="ao";const Kze=xt(Xe,Xe.ALPHA_TEST),qze=xt(Xe,Xe.COLOR),Xze=xt(Xe,Xe.SHININESS),Yze=xt(Xe,Xe.EMISSIVE),eX=xt(Xe,Xe.OPACITY),Qze=xt(Xe,Xe.SPECULAR),v6=xt(Xe,Xe.SPECULAR_INTENSITY),Zze=xt(Xe,Xe.SPECULAR_COLOR),zS=xt(Xe,Xe.SPECULAR_STRENGTH),TM=xt(Xe,Xe.REFLECTIVITY),Jze=xt(Xe,Xe.ROUGHNESS),e5e=xt(Xe,Xe.METALNESS),t5e=xt(Xe,Xe.NORMAL).context({getUV:null}),n5e=xt(Xe,Xe.CLEARCOAT),i5e=xt(Xe,Xe.CLEARCOAT_ROUGHNESS),r5e=xt(Xe,Xe.CLEARCOAT_NORMAL).context({getUV:null}),o5e=xt(Xe,Xe.ROTATION),s5e=xt(Xe,Xe.SHEEN),a5e=xt(Xe,Xe.SHEEN_ROUGHNESS),l5e=xt(Xe,Xe.ANISOTROPY),u5e=xt(Xe,Xe.IRIDESCENCE),c5e=xt(Xe,Xe.IRIDESCENCE_IOR),d5e=xt(Xe,Xe.IRIDESCENCE_THICKNESS),f5e=xt(Xe,Xe.TRANSMISSION),h5e=xt(Xe,Xe.THICKNESS),p5e=xt(Xe,Xe.IOR),g5e=xt(Xe,Xe.ATTENUATION_DISTANCE),m5e=xt(Xe,Xe.ATTENUATION_COLOR),v5e=xt(Xe,Xe.LINE_SCALE),y5e=xt(Xe,Xe.LINE_DASH_SIZE),b5e=xt(Xe,Xe.LINE_GAP_SIZE);Xe.LINE_WIDTH;const x5e=xt(Xe,Xe.LINE_DASH_OFFSET);Xe.POINT_WIDTH;const _5e=xt(Xe,Xe.DISPERSION),tX=xt(Xe,Xe.LIGHT_MAP),S5e=xt(Xe,Xe.AO),zv=un(new Tt).onReference(function(n){return n.material}).onRenderUpdate(function({material:n}){this.value.set(n.anisotropy*Math.cos(n.anisotropyRotation),n.anisotropy*Math.sin(n.anisotropyRotation))}),nX=vt(n=>n.context.setupModelViewProjection(),"vec4").once()().varying("v_modelViewProjection");class wi extends hn{static get type(){return"IndexNode"}constructor(e){super("uint"),this.scope=e,this.isIndexNode=!0}generate(e){const i=this.getNodeType(e),r=this.scope;let o;if(r===wi.VERTEX)o=e.getVertexIndex();else if(r===wi.INSTANCE)o=e.getInstanceIndex();else if(r===wi.DRAW)o=e.getDrawIndex();else if(r===wi.INVOCATION_LOCAL)o=e.getInvocationLocalIndex();else if(r===wi.INVOCATION_SUBGROUP)o=e.getInvocationSubgroupIndex();else if(r===wi.SUBGROUP)o=e.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+r);let s;return e.shaderStage==="vertex"||e.shaderStage==="compute"?s=o:s=Pc(this).build(e,i),s}}wi.VERTEX="vertex";wi.INSTANCE="instance";wi.SUBGROUP="subgroup";wi.INVOCATION_LOCAL="invocationLocal";wi.INVOCATION_SUBGROUP="invocationSubgroup";wi.DRAW="draw";const w5e=xt(wi,wi.VERTEX),RD=xt(wi,wi.INSTANCE);wi.SUBGROUP;wi.INVOCATION_SUBGROUP;wi.INVOCATION_LOCAL;const C5e=xt(wi,wi.DRAW);class A5e extends hn{static get type(){return"InstanceNode"}constructor(e,i,r){super("void"),this.count=e,this.instanceMatrix=i,this.instanceColor=r,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=An.FRAME,this.buffer=null,this.bufferColor=null}setup(e){const{count:i,instanceMatrix:r,instanceColor:o}=this;let{instanceMatrixNode:s,instanceColorNode:a}=this;if(s===null){if(i<=1e3)s=TD(r.array,"mat4",Math.max(i,1)).element(RD);else{const u=new _De(r.array,16,1);this.buffer=u;const c=r.usage===cg?f6:d6,d=[c(u,"vec4",16,0),c(u,"vec4",16,4),c(u,"vec4",16,8),c(u,"vec4",16,12)];s=Fg(...d)}this.instanceMatrixNode=s}if(o&&a===null){const u=new KOe(o.array,3),c=o.usage===cg?f6:d6;this.bufferColor=u,a=tt(c(u,"vec3",3,0)),this.instanceColorNode=a}const l=s.mul(fo).xyz;if(fo.assign(l),e.hasGeometryAttribute("normal")){const u=Eze(Kl,s);Kl.assign(u)}this.instanceColorNode!==null&&Yw("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.instanceMatrix.usage!==cg&&this.buffer!==null&&this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version),this.instanceColor&&this.instanceColor.usage!==cg&&this.bufferColor!==null&&this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version)}}class T5e extends A5e{static get type(){return"InstancedMeshNode"}constructor(e){const{count:i,instanceMatrix:r,instanceColor:o}=e;super(i,r,o),this.instancedMesh=e}}const E5e=lt(T5e);class M5e extends hn{static get type(){return"BatchNode"}constructor(e){super("void"),this.batchMesh=e,this.batchingIdNode=null}setup(e){this.batchingIdNode===null&&(e.getDrawIndex()===null?this.batchingIdNode=RD:this.batchingIdNode=C5e);const r=vt(([g])=>{const b=Fy(Ha(this.batchMesh._indirectTexture),0),y=ji(g).modInt(ji(b)),m=ji(g).div(ji(b));return Ha(this.batchMesh._indirectTexture,ku(y,m)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})(ji(this.batchingIdNode)),o=this.batchMesh._matricesTexture,s=Fy(Ha(o),0),a=Je(r).mul(4).toInt().toVar(),l=a.modInt(s),u=a.div(ji(s)),c=Fg(Ha(o,ku(l,u)),Ha(o,ku(l.add(1),u)),Ha(o,ku(l.add(2),u)),Ha(o,ku(l.add(3),u))),d=this.batchMesh._colorsTexture;if(d!==null){const b=vt(([y])=>{const m=Fy(Ha(d),0).x,_=y,S=_.modInt(m),w=_.div(m);return Ha(d,ku(S,w)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(r);Yw("vec3","vBatchColor").assign(b)}const f=Uo(c);fo.assign(c.mul(fo));const h=Kl.div(tt(f[0].dot(f[0]),f[1].dot(f[1]),f[2].dot(f[2]))),p=f.mul(h).xyz;Kl.assign(p),e.hasGeometryAttribute("tangent")&&MD.mulAssign(f)}}const R5e=lt(M5e),y6=new WeakMap;class P5e extends hn{static get type(){return"SkinningNode"}constructor(e,i=!1){super("void"),this.skinnedMesh=e,this.useReference=i,this.updateType=An.OBJECT,this.skinIndexNode=bc("skinIndex","uvec4"),this.skinWeightNode=bc("skinWeight","vec4");let r,o,s;i?(r=ii("bindMatrix","mat4"),o=ii("bindMatrixInverse","mat4"),s=p6("skeleton.boneMatrices","mat4",e.skeleton.bones.length)):(r=un(e.bindMatrix,"mat4"),o=un(e.bindMatrixInverse,"mat4"),s=TD(e.skeleton.boneMatrices,"mat4",e.skeleton.bones.length)),this.bindMatrixNode=r,this.bindMatrixInverseNode=o,this.boneMatricesNode=s,this.previousBoneMatricesNode=null}getSkinnedPosition(e=this.boneMatricesNode,i=fo){const{skinIndexNode:r,skinWeightNode:o,bindMatrixNode:s,bindMatrixInverseNode:a}=this,l=e.element(r.x),u=e.element(r.y),c=e.element(r.z),d=e.element(r.w),f=s.mul(i),h=ko(l.mul(o.x).mul(f),u.mul(o.y).mul(f),c.mul(o.z).mul(f),d.mul(o.w).mul(f));return a.mul(h).xyz}getSkinnedNormal(e=this.boneMatricesNode,i=Kl){const{skinIndexNode:r,skinWeightNode:o,bindMatrixNode:s,bindMatrixInverseNode:a}=this,l=e.element(r.x),u=e.element(r.y),c=e.element(r.z),d=e.element(r.w);let f=ko(o.x.mul(l),o.y.mul(u),o.z.mul(c),o.w.mul(d));return f=a.mul(f).mul(s),f.transformDirection(i).xyz}getPreviousSkinnedPosition(e){const i=e.object;return this.previousBoneMatricesNode===null&&(i.skeleton.previousBoneMatrices=new Float32Array(i.skeleton.boneMatrices),this.previousBoneMatricesNode=p6("skeleton.previousBoneMatrices","mat4",i.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,h6)}needsPreviousBoneMatrices(e){const i=e.renderer.getMRT();return i&&i.has("velocity")||pq(e.object).useVelocity===!0}setup(e){this.needsPreviousBoneMatrices(e)&&h6.assign(this.getPreviousSkinnedPosition(e));const i=this.getSkinnedPosition();if(fo.assign(i),e.hasGeometryAttribute("normal")){const r=this.getSkinnedNormal();Kl.assign(r),e.hasGeometryAttribute("tangent")&&MD.assign(r)}}generate(e,i){if(i!=="void")return fo.build(e,i)}update(e){const r=(this.useReference?e.object:this.skinnedMesh).skeleton;y6.get(r)!==e.frameId&&(y6.set(r,e.frameId),this.previousBoneMatricesNode!==null&&r.previousBoneMatrices.set(r.boneMatrices),r.update())}}const I5e=n=>mt(new P5e(n,!0));class N5e extends hn{static get type(){return"LoopNode"}constructor(e=[]){super(),this.params=e}getVarName(e){return String.fromCharCode(105+e)}getProperties(e){const i=e.getNodeProperties(this);if(i.stackNode!==void 0)return i;const r={};for(let s=0,a=this.params.length-1;s<a;s++){const l=this.params[s],u=l.isNode!==!0&&l.name||this.getVarName(s),c=l.isNode!==!0&&l.type||"int";r[u]=N0(u,c)}const o=e.addStack();return i.returnsNode=this.params[this.params.length-1](r,o,e),i.stackNode=o,e.removeStack(),i}getNodeType(e){const{returnsNode:i}=this.getProperties(e);return i?i.getNodeType(e):"void"}setup(e){this.getProperties(e)}generate(e){const i=this.getProperties(e),r=this.params,o=i.stackNode;for(let l=0,u=r.length-1;l<u;l++){const c=r[l];let d=null,f=null,h=null,p=null,g=null,b=null;c.isNode?(p="int",h=this.getVarName(l),d="0",f=c.build(e,p),g="<"):(p=c.type||"int",h=c.name||this.getVarName(l),d=c.start,f=c.end,g=c.condition,b=c.update,typeof d=="number"?d=e.generateConst(p,d):d&&d.isNode&&(d=d.build(e,p)),typeof f=="number"?f=e.generateConst(p,f):f&&f.isNode&&(f=f.build(e,p)),d!==void 0&&f===void 0?(d=d+" - 1",f="0",g=">="):f!==void 0&&d===void 0&&(d="0",g="<"),g===void 0&&(Number(d)>Number(f)?g=">=":g="<"));const y={start:d,end:f,condition:g},m=y.start,_=y.end;let S="",w="",A="";b||(p==="int"||p==="uint"?g.includes("<")?b="++":b="--":g.includes("<")?b="+= 1.":b="-= 1."),S+=e.getVar(p,h)+" = "+m,w+=h+" "+g+" "+_,A+=h+" "+b;const T=`for ( ${S}; ${w}; ${A} )`;e.addFlowCode((l===0?`
`:"")+e.tab+T+` {

`).addFlowTab()}const s=o.build(e,"void"),a=i.returnsNode?i.returnsNode.build(e):"";e.removeFlowTab().addFlowCode(`
`+e.tab+s);for(let l=0,u=this.params.length-1;l<u;l++)e.addFlowCode((l===0?"":e.tab)+`}

`).removeFlowTab();return e.addFlowTab(),a}}const qa=(...n)=>mt(new N5e(Bg(n,"int"))).append(),O5e=()=>N0("break").append(),EM=new WeakMap,Ms=new fn,b6=vt(({bufferMap:n,influence:e,stride:i,width:r,depth:o,offset:s})=>{const a=ji(w5e).mul(i).add(s),l=a.div(r),u=a.sub(l.mul(r));return Ha(n,ku(u,l)).depth(o).mul(e)});function D5e(n){const e=n.morphAttributes.position!==void 0,i=n.morphAttributes.normal!==void 0,r=n.morphAttributes.color!==void 0,o=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,s=o!==void 0?o.length:0;let a=EM.get(n);if(a===void 0||a.count!==s){let _=function(){y.dispose(),EM.delete(n),n.removeEventListener("dispose",_)};var l=_;a!==void 0&&a.texture.dispose();const u=n.morphAttributes.position||[],c=n.morphAttributes.normal||[],d=n.morphAttributes.color||[];let f=0;e===!0&&(f=1),i===!0&&(f=2),r===!0&&(f=3);let h=n.attributes.position.count*f,p=1;const g=4096;h>g&&(p=Math.ceil(h/g),h=g);const b=new Float32Array(h*p*4*s),y=new HO(b,h,p,s);y.type=nr,y.needsUpdate=!0;const m=f*4;for(let S=0;S<s;S++){const w=u[S],A=c[S],T=d[S],C=h*p*4*S;for(let R=0;R<w.count;R++){const E=R*m;e===!0&&(Ms.fromBufferAttribute(w,R),b[C+E+0]=Ms.x,b[C+E+1]=Ms.y,b[C+E+2]=Ms.z,b[C+E+3]=0),i===!0&&(Ms.fromBufferAttribute(A,R),b[C+E+4]=Ms.x,b[C+E+5]=Ms.y,b[C+E+6]=Ms.z,b[C+E+7]=0),r===!0&&(Ms.fromBufferAttribute(T,R),b[C+E+8]=Ms.x,b[C+E+9]=Ms.y,b[C+E+10]=Ms.z,b[C+E+11]=T.itemSize===4?Ms.w:1)}}a={count:s,texture:y,stride:f,size:new Tt(h,p)},EM.set(n,a),n.addEventListener("dispose",_)}return a}class L5e extends hn{static get type(){return"MorphNode"}constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=un(1),this.updateType=An.OBJECT}setup(e){const{geometry:i}=e,r=i.morphAttributes.position!==void 0,o=i.hasAttribute("normal")&&i.morphAttributes.normal!==void 0,s=i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color,a=s!==void 0?s.length:0,{texture:l,stride:u,size:c}=D5e(i);r===!0&&fo.mulAssign(this.morphBaseInfluence),o===!0&&Kl.mulAssign(this.morphBaseInfluence);const d=ji(c.width);qa(a,({i:f})=>{const h=Je(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?h.assign(Ha(this.mesh.morphTexture,ku(ji(f).add(1),ji(RD))).r):h.assign(ii("morphTargetInfluences","float").element(f).toVar()),r===!0&&fo.addAssign(b6({bufferMap:l,influence:h,stride:u,width:d,depth:f,offset:ji(0)})),o===!0&&Kl.addAssign(b6({bufferMap:l,influence:h,stride:u,width:d,depth:f,offset:ji(1)}))})}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((i,r)=>i+r,0)}}const B5e=lt(L5e);class Hm extends hn{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class F5e extends Hm{static get type(){return"AONode"}constructor(e=null){super(),this.aoNode=e}setup(e){e.context.ambientOcclusion.mulAssign(this.aoNode)}}class $5e extends Hq{static get type(){return"LightingContextNode"}constructor(e,i=null,r=null,o=null){super(e),this.lightingModel=i,this.backdropNode=r,this.backdropAlphaNode=o,this._value=null}getContext(){const{backdropNode:e,backdropAlphaNode:i}=this,r=tt().toVar("directDiffuse"),o=tt().toVar("directSpecular"),s=tt().toVar("indirectDiffuse"),a=tt().toVar("indirectSpecular"),l={directDiffuse:r,directSpecular:o,indirectDiffuse:s,indirectSpecular:a};return{radiance:tt().toVar("radiance"),irradiance:tt().toVar("irradiance"),iblIrradiance:tt().toVar("iblIrradiance"),ambientOcclusion:Je(1).toVar("ambientOcclusion"),reflectedLight:l,backdrop:e,backdropAlpha:i}}setup(e){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const U5e=lt($5e);class k5e extends Hm{static get type(){return"IrradianceNode"}constructor(e){super(),this.node=e}setup(e){e.context.irradiance.addAssign(this.node)}}let Hv,Gv;class lr extends hn{static get type(){return"ScreenNode"}constructor(e){super(),this.scope=e,this.isViewportNode=!0}getNodeType(){return this.scope===lr.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=An.NONE;return(this.scope===lr.SIZE||this.scope===lr.VIEWPORT)&&(e=An.RENDER),this.updateType=e,e}update({renderer:e}){const i=e.getRenderTarget();this.scope===lr.VIEWPORT?i!==null?Gv.copy(i.viewport):(e.getViewport(Gv),Gv.multiplyScalar(e.getPixelRatio())):i!==null?(Hv.width=i.width,Hv.height=i.height):e.getDrawingBufferSize(Hv)}setup(){const e=this.scope;let i=null;return e===lr.SIZE?i=un(Hv||(Hv=new Tt)):e===lr.VIEWPORT?i=un(Gv||(Gv=new fn)):i=_t(MC.div(NP)),i}generate(e){if(this.scope===lr.COORDINATE){let i=e.getFragCoord();if(e.isFlipY()){const r=e.getNodeProperties(NP).outputNode.build(e);i=`${e.getType("vec2")}( ${i}.x, ${r}.y - ${i}.y )`}return i}return super.generate(e)}}lr.COORDINATE="coordinate";lr.VIEWPORT="viewport";lr.SIZE="size";lr.UV="uv";const L0=xt(lr,lr.UV),NP=xt(lr,lr.SIZE),MC=xt(lr,lr.COORDINATE),iX=xt(lr,lr.VIEWPORT);iX.zw;iX.xy;const Vv=new Tt;class rX extends db{static get type(){return"ViewportTextureNode"}constructor(e=L0,i=null,r=null){r===null&&(r=new QOe,r.minFilter=is),super(r,e,i),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=An.FRAME}updateBefore(e){const i=e.renderer;i.getDrawingBufferSize(Vv);const r=this.value;(r.image.width!==Vv.width||r.image.height!==Vv.height)&&(r.image.width=Vv.width,r.image.height=Vv.height,r.needsUpdate=!0);const o=r.generateMipmaps;r.generateMipmaps=this.generateMipmaps,i.copyFramebufferToTexture(r),r.generateMipmaps=o}clone(){const e=new this.constructor(this.uvNode,this.levelNode,this.value);return e.generateMipmaps=this.generateMipmaps,e}}const oX=lt(rX,null,null,{generateMipmaps:!0});let MM=null;class z5e extends rX{static get type(){return"ViewportDepthTextureNode"}constructor(e=L0,i=null){MM===null&&(MM=new Yd),super(e,i,MM)}}const H5e=lt(z5e);class ss extends hn{static get type(){return"ViewportDepthNode"}constructor(e,i=null){super("float"),this.scope=e,this.valueNode=i,this.isViewportDepthNode=!0}generate(e){const{scope:i}=this;return i===ss.DEPTH_BASE?e.getFragDepth():super.generate(e)}setup({camera:e}){const{scope:i}=this,r=this.valueNode;let o=null;if(i===ss.DEPTH_BASE)r!==null&&(o=lX().assign(r));else if(i===ss.DEPTH)e.isPerspectiveCamera?o=G5e(fr.z,qf,Xf):o=$y(fr.z,qf,Xf);else if(i===ss.LINEAR_DEPTH)if(r!==null)if(e.isPerspectiveCamera){const s=sX(r,qf,Xf);o=$y(s,qf,Xf)}else o=r;else o=$y(fr.z,qf,Xf);return o}}ss.DEPTH_BASE="depthBase";ss.DEPTH="depth";ss.LINEAR_DEPTH="linearDepth";const $y=(n,e,i)=>n.add(e).div(e.sub(i)),G5e=(n,e,i)=>e.add(n).mul(i).div(i.sub(e).mul(n)),sX=(n,e,i)=>e.mul(i).div(i.sub(e).mul(n).sub(i)),aX=(n,e,i)=>{e=e.max(1e-6).toVar();const r=ac(n.negate().div(e)),o=ac(i.div(e));return r.div(o)},lX=lt(ss,ss.DEPTH_BASE),uX=xt(ss,ss.DEPTH),V5e=lt(ss,ss.LINEAR_DEPTH);H5e();uX.assign=n=>lX(n);class W5e extends hn{constructor(e){super("float"),this.name=e,this.isBuiltinNode=!0}generate(){return this.name}}const j5e=lt(W5e);class va extends hn{static get type(){return"ClippingNode"}constructor(e=va.DEFAULT){super(),this.scope=e}setup(e){super.setup(e);const i=e.clippingContext,{intersectionPlanes:r,unionPlanes:o}=i;return this.hardwareClipping=e.material.hardwareClipping,this.scope===va.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(r,o):this.scope===va.HARDWARE?this.setupHardwareClipping(o,e):this.setupDefault(r,o)}setupAlphaToCoverage(e,i){return vt(()=>{const r=Je().toVar("distanceToPlane"),o=Je().toVar("distanceToGradient"),s=Je(1).toVar("clipOpacity"),a=i.length;if(this.hardwareClipping===!1&&a>0){const u=bd(i);qa(a,({i:c})=>{const d=u.element(c);r.assign(fr.dot(d.xyz).negate().add(d.w)),o.assign(r.fwidth().div(2)),s.mulAssign(Ih(o.negate(),o,r))})}const l=e.length;if(l>0){const u=bd(e),c=Je(1).toVar("intersectionClipOpacity");qa(l,({i:d})=>{const f=u.element(d);r.assign(fr.dot(f.xyz).negate().add(f.w)),o.assign(r.fwidth().div(2)),c.mulAssign(Ih(o.negate(),o,r).oneMinus())}),s.mulAssign(c.oneMinus())}qn.a.mulAssign(s),qn.a.equal(0).discard()})()}setupDefault(e,i){return vt(()=>{const r=i.length;if(this.hardwareClipping===!1&&r>0){const s=bd(i);qa(r,({i:a})=>{const l=s.element(a);fr.dot(l.xyz).greaterThan(l.w).discard()})}const o=e.length;if(o>0){const s=bd(e),a=xq(!0).toVar("clipped");qa(o,({i:l})=>{const u=s.element(l);a.assign(fr.dot(u.xyz).greaterThan(u.w).and(a))}),a.discard()}})()}setupHardwareClipping(e,i){const r=e.length;return i.enableHardwareClipping(r),vt(()=>{const o=bd(e),s=j5e(i.getClipDistance());qa(r,({i:a})=>{const l=o.element(a),u=fr.dot(l.xyz).sub(l.w).negate();s.element(a).assign(u)})})()}}va.ALPHA_TO_COVERAGE="alphaToCoverage";va.DEFAULT="default";va.HARDWARE="hardware";const K5e=()=>mt(new va),q5e=()=>mt(new va(va.ALPHA_TO_COVERAGE)),X5e=()=>mt(new va(va.HARDWARE)),Y5e=.05,x6=vt(([n])=>Zd(Rn(1e4,Wa(Rn(17,n.x).add(Rn(.1,n.y)))).mul(ko(.1,la(Wa(Rn(13,n.y).add(n.x))))))),_6=vt(([n])=>x6(_t(x6(n.xy),n.z))),Q5e=vt(([n])=>{const e=fs(Ld(Lq(n.xyz)),Ld(Bq(n.xyz))),i=Je(1).div(Je(Y5e).mul(e)).toVar("pixScale"),r=_t(R0(ph(ac(i))),R0(vD(ac(i)))),o=_t(_6(ph(r.x.mul(n.xyz))),_6(ph(r.y.mul(n.xyz)))),s=Zd(ac(i)),a=ko(Rn(s.oneMinus(),o.x),Rn(s,o.y)),l=I0(s,s.oneMinus()),u=tt(a.mul(a).div(Rn(2,l).mul(ts(1,l))),a.sub(Rn(.5,l)).div(ts(1,l)),ts(1,ts(1,a).mul(ts(1,a)).div(Rn(2,l).mul(ts(1,l))))),c=a.lessThan(l.oneMinus()).select(a.lessThan(l).select(u.x,u.y),u.z);return yc(c,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class pr extends vo{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.shadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null}customProgramCacheKey(){return this.type+fq(this)}build(e){this.setup(e)}setupObserver(e){return new n4e(e)}setup(e){e.context.setupNormal=()=>this.setupNormal(e),e.context.setupPositionView=()=>this.setupPositionView(e),e.context.setupModelViewProjection=()=>this.setupModelViewProjection(e);const i=e.renderer,r=i.getRenderTarget();e.addStack();const o=this.vertexNode||this.setupVertex(e);e.stack.outputNode=o,this.setupHardwareClipping(e),this.geometryNode!==null&&(e.stack.outputNode=e.stack.outputNode.bypass(this.geometryNode)),e.addFlow("vertex",e.removeStack()),e.addStack();let s;const a=this.setupClipping(e);if((this.depthWrite===!0||this.depthTest===!0)&&(r!==null?r.depthBuffer===!0&&this.setupDepth(e):i.depth===!0&&this.setupDepth(e)),this.fragmentNode===null){this.setupDiffuseColor(e),this.setupVariants(e);const l=this.setupLighting(e);a!==null&&e.stack.add(a);const u=sn(l,qn.a).max(0);if(s=this.setupOutput(e,u),e1.assign(s),this.outputNode!==null&&(s=this.outputNode),r!==null){const c=i.getMRT(),d=this.mrtNode;c!==null?(s=c,d!==null&&(s=c.merge(d))):d!==null&&(s=d)}}else{let l=this.fragmentNode;l.isOutputStructNode!==!0&&(l=sn(l)),s=this.setupOutput(e,l)}e.stack.outputNode=s,e.addFlow("fragment",e.removeStack()),e.monitor=this.setupObserver(e)}setupClipping(e){if(e.clippingContext===null)return null;const{unionPlanes:i,intersectionPlanes:r}=e.clippingContext;let o=null;if(i.length>0||r.length>0){const s=e.renderer.samples;this.alphaToCoverage&&s>1?o=q5e():e.stack.add(K5e())}return o}setupHardwareClipping(e){if(this.hardwareClipping=!1,e.clippingContext===null)return;const i=e.clippingContext.unionPlanes.length;i>0&&i<=8&&e.isAvailable("clipDistance")&&(e.stack.add(X5e()),this.hardwareClipping=!0)}setupDepth(e){const{renderer:i,camera:r}=e;let o=this.depthNode;if(o===null){const s=i.getMRT();s&&s.has("depth")?o=s.get("depth"):i.logarithmicDepthBuffer===!0&&(r.isPerspectiveCamera?o=aX(fr.z,qf,Xf):o=$y(fr.z,qf,Xf))}o!==null&&uX.assign(o).append()}setupPositionView(){return wD.mul(fo).xyz}setupModelViewProjection(){return SD.mul(fr)}setupVertex(e){return e.addStack(),this.setupPosition(e),e.context.vertex=e.removeStack(),nX}setupPosition(e){const{object:i,geometry:r}=e;if((r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color)&&B5e(i).append(),i.isSkinnedMesh===!0&&I5e(i).append(),this.displacementMap){const o=xd("displacementMap","texture"),s=xd("displacementScale","float"),a=xd("displacementBias","float");fo.addAssign(Kl.normalize().mul(o.x.mul(s).add(a)))}return i.isBatchedMesh&&R5e(i).append(),i.isInstancedMesh&&i.instanceMatrix&&i.instanceMatrix.isInstancedBufferAttribute===!0&&E5e(i).append(),this.positionNode!==null&&fo.assign(this.positionNode.context({isPositionNodeInput:!0})),fo}setupDiffuseColor({object:e,geometry:i}){let r=this.colorNode?sn(this.colorNode):qze;this.vertexColors===!0&&i.hasAttribute("color")&&(r=sn(r.xyz.mul(bc("color","vec3")),r.a)),e.instanceColor&&(r=Yw("vec3","vInstanceColor").mul(r)),e.isBatchedMesh&&e._colorsTexture&&(r=Yw("vec3","vBatchColor").mul(r)),qn.assign(r);const o=this.opacityNode?Je(this.opacityNode):eX;if(qn.a.assign(qn.a.mul(o)),this.alphaTestNode!==null||this.alphaTest>0){const s=this.alphaTestNode!==null?Je(this.alphaTestNode):Kze;qn.a.lessThanEqual(s).discard()}this.alphaHash===!0&&qn.a.lessThan(Q5e(fo)).discard(),this.transparent===!1&&this.blending===ga&&this.alphaToCoverage===!1&&qn.a.assign(1)}setupVariants(){}setupOutgoingLight(){return this.lights===!0?tt(0):qn.rgb}setupNormal(){return this.normalNode?tt(this.normalNode):t5e}setupEnvironment(){let e=null;return this.envNode?e=this.envNode:this.envMap&&(e=this.envMap.isCubeTexture?xd("envMap","cubeTexture"):xd("envMap","texture")),e}setupLightMap(e){let i=null;return e.material.lightMap&&(i=new k5e(tX)),i}setupLights(e){const i=[],r=this.setupEnvironment(e);r&&r.isLightingNode&&i.push(r);const o=this.setupLightMap(e);if(o&&o.isLightingNode&&i.push(o),this.aoNode!==null||e.material.aoMap){const a=this.aoNode!==null?this.aoNode:S5e;i.push(new F5e(a))}let s=this.lightsNode||e.lightsNode;return i.length>0&&(s=e.renderer.lighting.createNode([...s.getLights(),...i])),s}setupLightingModel(){}setupLighting(e){const{material:i}=e,{backdropNode:r,backdropAlphaNode:o,emissiveNode:s}=this,l=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let u=this.setupOutgoingLight(e);if(l&&l.getScope().hasLights){const c=this.setupLightingModel(e);u=U5e(l,c,r,o)}else r!==null&&(u=tt(o!==null?Si(u,r,o):r));return(s&&s.isNode===!0||i.emissive&&i.emissive.isColor===!0)&&(u6.assign(tt(s||Yze)),u=u.add(u6)),u}setupOutput(e,i){if(this.fog===!0){const r=e.fogNode;r&&(e1.assign(i),i=sn(r))}return i}setDefaultValues(e){for(const r in e){const o=e[r];this[r]===void 0&&(this[r]=o,o&&o.clone&&(this[r]=o.clone()))}const i=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const r in i)Object.getOwnPropertyDescriptor(this.constructor.prototype,r)===void 0&&i[r].get!==void 0&&Object.defineProperty(this.constructor.prototype,r,i[r])}toJSON(e){const i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{},nodes:{}});const r=vo.prototype.toJSON.call(this,e),o=Kw(this);r.inputNodes={};for(const{property:a,childNode:l}of o)r.inputNodes[a]=l.toJSON(e).uuid;function s(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}if(i){const a=s(e.textures),l=s(e.images),u=s(e.nodes);a.length>0&&(r.textures=a),l.length>0&&(r.images=l),u.length>0&&(r.nodes=u)}return r}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.positionNode=e.positionNode,this.geometryNode=e.geometryNode,this.depthNode=e.depthNode,this.shadowPositionNode=e.shadowPositionNode,this.receivedShadowNode=e.receivedShadowNode,this.castShadowNode=e.castShadowNode,this.outputNode=e.outputNode,this.mrtNode=e.mrtNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,super.copy(e)}}const Z5e=new bK;class J5e extends pr{static get type(){return"LineBasicNodeMaterial"}constructor(e){super(),this.isLineBasicNodeMaterial=!0,this.setDefaultValues(Z5e),this.setValues(e)}}const e6e=new aDe;class t6e extends pr{static get type(){return"LineDashedNodeMaterial"}constructor(e){super(),this.isLineDashedNodeMaterial=!0,this.setDefaultValues(e6e),this.dashOffset=0,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setupVariants(){const e=this.offsetNode?Je(this.offsetNode):x5e,i=this.dashScaleNode?Je(this.dashScaleNode):v5e,r=this.dashSizeNode?Je(this.dashSizeNode):y5e,o=this.gapSizeNode?Je(this.gapSizeNode):b5e;AM.assign(r),c6.assign(o);const s=Pc(bc("lineDistance").mul(i));(e?s.add(e):s).mod(AM.add(c6)).greaterThan(AM).discard()}}const n6e=n=>mt(n).mul(.5).add(.5),i6e=new nDe;class r6e extends pr{static get type(){return"MeshNormalNodeMaterial"}constructor(e){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(i6e),this.setValues(e)}setupDiffuseColor(){const e=this.opacityNode?Je(this.opacityNode):eX;qn.assign(sn(n6e(cr),e))}}class o6e extends Er{static get type(){return"EquirectUVNode"}constructor(e=Kq){super("vec2"),this.dirNode=e}setup(){const e=this.dirNode,i=e.z.atan(e.x).mul(1/(Math.PI*2)).add(.5),r=e.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return _t(i,r)}}const cX=lt(o6e);class dX extends mK{constructor(e=1,i={}){super(e,i),this.isCubeRenderTarget=!0}fromEquirectangularTexture(e,i){const r=i.minFilter,o=i.generateMipmaps;i.generateMipmaps=!0,this.texture.type=i.type,this.texture.colorSpace=i.colorSpace,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;const s=new zh(5,5,5),a=cX(Kq),l=new pr;l.colorNode=Hn(i,a,0),l.side=Di,l.blending=ls;const u=new Vr(s,l),c=new qO;c.add(u),i.minFilter===is&&(i.minFilter=Sr);const d=new gK(1,10,this),f=e.getMRT();return e.setMRT(null),d.update(e,c),e.setMRT(f),i.minFilter=r,i.currentGenerateMipmaps=o,u.geometry.dispose(),u.material.dispose(),this}}const Uy=new WeakMap;class s6e extends Er{static get type(){return"CubeMapNode"}constructor(e){super("vec3"),this.envNode=e,this._cubeTexture=null,this._cubeTextureNode=D0();const i=new fC;i.isRenderTargetTexture=!0,this._defaultTexture=i,this.updateBeforeType=An.RENDER}updateBefore(e){const{renderer:i,material:r}=e,o=this.envNode;if(o.isTextureNode||o.isMaterialReferenceNode){const s=o.isTextureNode?o.value:r[o.property];if(s&&s.isTexture){const a=s.mapping;if(a===Ud||a===kd){if(Uy.has(s)){const l=Uy.get(s);S6(l,s.mapping),this._cubeTexture=l}else{const l=s.image;if(a6e(l)){const u=new dX(l.height);u.fromEquirectangularTexture(i,s),S6(u.texture,s.mapping),this._cubeTexture=u.texture,Uy.set(s,u.texture),s.addEventListener("dispose",fX)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(e){return this.updateBefore(e),this._cubeTextureNode}}function a6e(n){return n==null?!1:n.height>0}function fX(n){const e=n.target;e.removeEventListener("dispose",fX);const i=Uy.get(e);i!==void 0&&(Uy.delete(e),i.dispose())}function S6(n,e){e===Ud?n.mapping=Sa:e===kd&&(n.mapping=wa)}const hX=lt(s6e);class PD extends Hm{static get type(){return"BasicEnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){e.context.environment=hX(this.envNode)}}class l6e extends Hm{static get type(){return"BasicLightMapNode"}constructor(e=null){super(),this.lightMapNode=e}setup(e){const i=Je(1/Math.PI);e.context.irradianceLightMap=this.lightMapNode.mul(i)}}class RC{start(){}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class pX extends RC{constructor(){super()}indirect(e,i,r){const o=e.ambientOcclusion,s=e.reflectedLight,a=r.context.irradianceLightMap;s.indirectDiffuse.assign(sn(0)),a?s.indirectDiffuse.addAssign(a):s.indirectDiffuse.addAssign(sn(1,1,1,0)),s.indirectDiffuse.mulAssign(o),s.indirectDiffuse.mulAssign(qn.rgb)}finish(e,i,r){const o=r.material,s=e.outgoingLight,a=r.context.environment;if(a)switch(o.combine){case nb:s.rgb.assign(Si(s.rgb,s.rgb.mul(a.rgb),zS.mul(TM)));break;case Kj:s.rgb.assign(Si(s.rgb,a.rgb,zS.mul(TM)));break;case qj:s.rgb.addAssign(a.rgb.mul(zS.mul(TM)));break;default:console.warn("THREE.BasicLightingModel: Unsupported .combine value:",o.combine);break}}}const u6e=new ob;class c6e extends pr{static get type(){return"MeshBasicNodeMaterial"}constructor(e){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues(u6e),this.setValues(e)}setupNormal(){return sl}setupEnvironment(e){const i=super.setupEnvironment(e);return i?new PD(i):null}setupLightMap(e){let i=null;return e.material.lightMap&&(i=new l6e(tX)),i}setupOutgoingLight(){return qn.rgb}setupLightingModel(){return new pX}}const B0=vt(({f0:n,f90:e,dotVH:i})=>{const r=i.mul(-5.55473).sub(6.98316).mul(i).exp2();return n.mul(r.oneMinus()).add(e.mul(r))}),Cm=vt(n=>n.diffuseColor.mul(1/Math.PI)),d6e=()=>Je(.25),f6e=vt(({dotNH:n})=>PP.mul(Je(.5)).add(1).mul(Je(1/Math.PI)).mul(n.pow(PP))),h6e=vt(({lightDirection:n})=>{const e=n.add(Hi).normalize(),i=cr.dot(e).clamp(),r=Hi.dot(e).clamp(),o=B0({f0:Is,f90:1,dotVH:r}),s=d6e(),a=f6e({dotNH:i});return o.mul(s).mul(a)});class gX extends pX{constructor(e=!0){super(),this.specular=e}direct({lightDirection:e,lightColor:i,reflectedLight:r}){const s=cr.dot(e).clamp().mul(i);r.directDiffuse.addAssign(s.mul(Cm({diffuseColor:qn.rgb}))),this.specular===!0&&r.directSpecular.addAssign(s.mul(h6e({lightDirection:e})).mul(zS))}indirect({ambientOcclusion:e,irradiance:i,reflectedLight:r}){r.indirectDiffuse.addAssign(i.mul(Cm({diffuseColor:qn}))),r.indirectDiffuse.mulAssign(e)}}const p6e=new iDe;class g6e extends pr{static get type(){return"MeshLambertNodeMaterial"}constructor(e){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(p6e),this.setValues(e)}setupEnvironment(e){const i=super.setupEnvironment(e);return i?new PD(i):null}setupLightingModel(){return new gX(!1)}}const m6e=new eDe;class v6e extends pr{static get type(){return"MeshPhongNodeMaterial"}constructor(e){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(m6e),this.setValues(e)}setupEnvironment(e){const i=super.setupEnvironment(e);return i?new PD(i):null}setupLightingModel(){return new gX}setupVariants(){const e=(this.shininessNode?Je(this.shininessNode):Xze).max(1e-4);PP.assign(e);const i=this.specularNode||Qze;Is.assign(i)}copy(e){return this.shininessNode=e.shininessNode,this.specularNode=e.specularNode,super.copy(e)}}const y6e=vt(n=>{if(n.geometry.hasAttribute("normal")===!1)return Je(0);const e=sl.dFdx().abs().max(sl.dFdy().abs());return e.x.max(e.y).max(e.z)}),mX=vt(n=>{const{roughness:e}=n,i=y6e();let r=e.max(.0525);return r=r.add(i),r=r.min(1),r}),b6e=vt(({alpha:n,dotNL:e,dotNV:i})=>{const r=n.pow2(),o=e.mul(r.add(r.oneMinus().mul(i.pow2())).sqrt()),s=i.mul(r.add(r.oneMinus().mul(e.pow2())).sqrt());return vc(.5,o.add(s).max(uke))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),x6e=vt(({alphaT:n,alphaB:e,dotTV:i,dotBV:r,dotTL:o,dotBL:s,dotNV:a,dotNL:l})=>{const u=l.mul(tt(n.mul(i),e.mul(r),a).length()),c=a.mul(tt(n.mul(o),e.mul(s),l).length());return vc(.5,u.add(c)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),_6e=vt(({alpha:n,dotNH:e})=>{const i=n.pow2(),r=e.pow2().mul(i.oneMinus()).oneMinus();return i.div(r.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),S6e=Je(1/Math.PI),w6e=vt(({alphaT:n,alphaB:e,dotNH:i,dotTH:r,dotBH:o})=>{const s=n.mul(e),a=tt(e.mul(r),n.mul(o),s.mul(i)),l=a.dot(a),u=s.div(l);return S6e.mul(s.mul(u.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),w6=vt(n=>{const{lightDirection:e,f0:i,f90:r,roughness:o,f:s,USE_IRIDESCENCE:a,USE_ANISOTROPY:l}=n,u=n.normalView||cr,c=o.pow2(),d=e.add(Hi).normalize(),f=u.dot(e).clamp(),h=u.dot(Hi).clamp(),p=u.dot(d).clamp(),g=Hi.dot(d).clamp();let b=B0({f0:i,f90:r,dotVH:g}),y,m;if(l6(a)&&(b=gD.mix(b,s)),l6(l)){const _=BS.dot(e),S=BS.dot(Hi),w=BS.dot(d),A=$g.dot(e),T=$g.dot(Hi),C=$g.dot(d);y=x6e({alphaT:RP,alphaB:c,dotTV:S,dotBV:T,dotTL:_,dotBL:A,dotNV:h,dotNL:f}),m=w6e({alphaT:RP,alphaB:c,dotNH:p,dotTH:w,dotBH:C})}else y=b6e({alpha:c,dotNL:f,dotNV:h}),m=_6e({alpha:c,dotNH:p});return b.mul(y).mul(m)}),vX=vt(({roughness:n,dotNV:e})=>{const i=sn(-1,-.0275,-.572,.022),r=sn(1,.0425,1.04,-.04),o=n.mul(i).add(r),s=o.x.mul(o.x).min(e.mul(-9.28).exp2()).mul(o.x).add(o.y);return _t(-1.04,1.04).mul(s).add(o.zw)}).setLayout({name:"DFGApprox",type:"vec2",inputs:[{name:"roughness",type:"float"},{name:"dotNV",type:"vec3"}]}),yX=vt(n=>{const{dotNV:e,specularColor:i,specularF90:r,roughness:o}=n,s=vX({dotNV:e,roughness:o});return i.mul(s.x).add(r.mul(s.y))}),C6e=vt(({f:n,f90:e,dotVH:i})=>{const r=i.oneMinus().saturate(),o=r.mul(r),s=r.mul(o,o).clamp(0,.9999);return n.sub(tt(e).mul(s)).div(s.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),A6e=vt(({roughness:n,dotNH:e})=>{const i=n.pow2(),r=Je(1).div(i),s=e.pow2().oneMinus().max(.0078125);return Je(2).add(r).mul(s.pow(r.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),T6e=vt(({dotNV:n,dotNL:e})=>Je(1).div(Je(4).mul(e.add(n).sub(e.mul(n))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),E6e=vt(({lightDirection:n})=>{const e=n.add(Hi).normalize(),i=cr.dot(n).clamp(),r=cr.dot(Hi).clamp(),o=cr.dot(e).clamp(),s=A6e({roughness:pD,dotNH:o}),a=T6e({dotNV:r,dotNL:i});return hg.mul(s).mul(a)}),M6e=vt(({N:n,V:e,roughness:i})=>{const s=.0078125,a=n.dot(e).saturate(),l=_t(i,a.oneMinus().sqrt());return l.assign(l.mul(.984375).add(s)),l}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),R6e=vt(({f:n})=>{const e=n.length();return fs(e.mul(e).add(n.z).div(e.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),F_=vt(({v1:n,v2:e})=>{const i=n.dot(e),r=i.abs().toVar(),o=r.mul(.0145206).add(.4965155).mul(r).add(.8543985).toVar(),s=r.add(4.1616724).mul(r).add(3.417594).toVar(),a=o.div(s),l=i.greaterThan(0).select(a,fs(i.mul(i).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(a));return n.cross(e).mul(l)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),C6=vt(({N:n,V:e,P:i,mInv:r,p0:o,p1:s,p2:a,p3:l})=>{const u=s.sub(o).toVar(),c=l.sub(o).toVar(),d=u.cross(c),f=tt().toVar();return hr(d.dot(i.sub(o)).greaterThanEqual(0),()=>{const h=e.sub(n.mul(e.dot(n))).normalize(),p=n.cross(h).negate(),g=r.mul(Uo(h,p,n).transpose()).toVar(),b=g.mul(o.sub(i)).normalize().toVar(),y=g.mul(s.sub(i)).normalize().toVar(),m=g.mul(a.sub(i)).normalize().toVar(),_=g.mul(l.sub(i)).normalize().toVar(),S=tt(0).toVar();S.addAssign(F_({v1:b,v2:y})),S.addAssign(F_({v1:y,v2:m})),S.addAssign(F_({v1:m,v2:_})),S.addAssign(F_({v1:_,v2:b})),f.assign(tt(R6e({f:S})))}),f}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),PC=1/6,bX=n=>Rn(PC,Rn(n,Rn(n,n.negate().add(3)).sub(3)).add(1)),OP=n=>Rn(PC,Rn(n,Rn(n,Rn(3,n).sub(6))).add(4)),xX=n=>Rn(PC,Rn(n,Rn(n,Rn(-3,n).add(3)).add(3)).add(1)),DP=n=>Rn(PC,CC(n,3)),A6=n=>bX(n).add(OP(n)),T6=n=>xX(n).add(DP(n)),E6=n=>ko(-1,OP(n).div(bX(n).add(OP(n)))),M6=n=>ko(1,DP(n).div(xX(n).add(DP(n)))),R6=(n,e,i)=>{const r=n.uvNode,o=Rn(r,e.zw).add(.5),s=ph(o),a=Zd(o),l=A6(a.x),u=T6(a.x),c=E6(a.x),d=M6(a.x),f=E6(a.y),h=M6(a.y),p=_t(s.x.add(c),s.y.add(f)).sub(.5).mul(e.xy),g=_t(s.x.add(d),s.y.add(f)).sub(.5).mul(e.xy),b=_t(s.x.add(c),s.y.add(h)).sub(.5).mul(e.xy),y=_t(s.x.add(d),s.y.add(h)).sub(.5).mul(e.xy),m=A6(a.y).mul(ko(l.mul(n.sample(p).level(i)),u.mul(n.sample(g).level(i)))),_=T6(a.y).mul(ko(l.mul(n.sample(b).level(i)),u.mul(n.sample(y).level(i))));return m.add(_)},P6e=vt(([n,e=Je(3)])=>{const i=_t(n.size(ji(e))),r=_t(n.size(ji(e.add(1)))),o=vc(1,i),s=vc(1,r),a=R6(n,sn(o,i),ph(e)),l=R6(n,sn(s,r),vD(e));return Zd(e).mix(a,l)}),P6=vt(([n,e,i,r,o])=>{const s=tt(zq(e.negate(),P0(n),vc(1,r))),a=tt(Ld(o[0].xyz),Ld(o[1].xyz),Ld(o[2].xyz));return P0(s).mul(i.mul(a))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),I6e=vt(([n,e])=>n.mul(yc(e.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),N6e=oX(),O6e=oX(),I6=vt(([n,e,i],{material:r})=>{const s=(r.side===Di?N6e:O6e).sample(n),a=ac(NP.x).mul(I6e(e,i));return P6e(s,a)}),N6=vt(([n,e,i])=>(hr(i.notEqual(0),()=>{const r=Oq(e).negate().div(i);return Nq(r.negate().mul(n))}),tt(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),D6e=vt(([n,e,i,r,o,s,a,l,u,c,d,f,h,p,g])=>{let b,y;if(g){b=sn().toVar(),y=tt().toVar();const A=d.sub(1).mul(g.mul(.025)),T=tt(d.sub(A),d,d.add(A));qa({start:0,end:3},({i:C})=>{const R=T.element(C),E=P6(n,e,f,R,l),P=a.add(E),I=c.mul(u.mul(sn(P,1))),D=_t(I.xy.div(I.w)).toVar();D.addAssign(1),D.divAssign(2),D.assign(_t(D.x,D.y.oneMinus()));const F=I6(D,i,R);b.element(C).assign(F.element(C)),b.a.addAssign(F.a),y.element(C).assign(r.element(C).mul(N6(Ld(E),h,p).element(C)))}),b.a.divAssign(3)}else{const A=P6(n,e,f,d,l),T=a.add(A),C=c.mul(u.mul(sn(T,1))),R=_t(C.xy.div(C.w)).toVar();R.addAssign(1),R.divAssign(2),R.assign(_t(R.x,R.y.oneMinus())),b=I6(R,i,d),y=r.mul(N6(Ld(A),h,p))}const m=y.rgb.mul(b.rgb),_=n.dot(e).clamp(),S=tt(yX({dotNV:_,specularColor:o,specularF90:s,roughness:i})),w=y.r.add(y.g,y.b).div(3);return sn(S.oneMinus().mul(m),b.a.oneMinus().mul(w).oneMinus())}),L6e=Uo(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),B6e=n=>{const e=n.sqrt();return tt(1).add(e).div(tt(1).sub(e))},O6=(n,e)=>n.sub(e).div(n.add(e)).pow2(),F6e=(n,e)=>{const i=n.mul(2*Math.PI*1e-9),r=tt(54856e-17,44201e-17,52481e-17),o=tt(1681e3,1795300,2208400),s=tt(43278e5,93046e5,66121e5),a=Je(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(i.mul(2239900).add(e.x).cos()).mul(i.pow2().mul(-45282e5).exp());let l=r.mul(s.mul(2*Math.PI).sqrt()).mul(o.mul(i).add(e).cos()).mul(i.pow2().negate().mul(s).exp());return l=tt(l.x.add(a),l.y,l.z).div(10685e-11),L6e.mul(l)},$6e=vt(({outsideIOR:n,eta2:e,cosTheta1:i,thinFilmThickness:r,baseF0:o})=>{const s=Si(n,e,Ih(0,.03,r)),l=n.div(s).pow2().mul(i.pow2().oneMinus()).oneMinus();hr(l.lessThan(0),()=>tt(1));const u=l.sqrt(),c=O6(s,n),d=B0({f0:c,f90:1,dotVH:i}),f=d.oneMinus(),h=s.lessThan(n).select(Math.PI,0),p=Je(Math.PI).sub(h),g=B6e(o.clamp(0,.9999)),b=O6(g,s.toVec3()),y=B0({f0:b,f90:1,dotVH:u}),m=tt(g.x.lessThan(s).select(Math.PI,0),g.y.lessThan(s).select(Math.PI,0),g.z.lessThan(s).select(Math.PI,0)),_=s.mul(r,u,2),S=tt(p).add(m),w=d.mul(y).clamp(1e-5,.9999),A=w.sqrt(),T=f.pow2().mul(y).div(tt(1).sub(w)),R=d.add(T).toVar(),E=T.sub(f).toVar();return qa({start:1,end:2,condition:"<=",name:"m"},({m:P})=>{E.mulAssign(A);const I=F6e(Je(P).mul(_),Je(P).mul(S)).mul(2);R.addAssign(E.mul(I))}),R.max(tt(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),U6e=vt(({normal:n,viewDir:e,roughness:i})=>{const r=n.dot(e).saturate(),o=i.pow2(),s=os(i.lessThan(.25),Je(-339.2).mul(o).add(Je(161.4).mul(i)).sub(25.9),Je(-8.48).mul(o).add(Je(14.3).mul(i)).sub(9.95)),a=os(i.lessThan(.25),Je(44).mul(o).sub(Je(23.7).mul(i)).add(3.26),Je(1.97).mul(o).sub(Je(3.27).mul(i)).add(.72));return os(i.lessThan(.25),0,Je(.1).mul(i).sub(.025)).add(s.mul(r).add(a).exp()).mul(1/Math.PI).saturate()}),RM=tt(.04),PM=Je(1);class _X extends RC{constructor(e=!1,i=!1,r=!1,o=!1,s=!1,a=!1){super(),this.clearcoat=e,this.sheen=i,this.iridescence=r,this.anisotropy=o,this.transmission=s,this.dispersion=a,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(e){if(this.clearcoat===!0&&(this.clearcoatRadiance=tt().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=tt().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=tt().toVar("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=tt().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=tt().toVar("sheenSpecularIndirect")),this.iridescence===!0){const i=cr.dot(Hi).clamp();this.iridescenceFresnel=$6e({outsideIOR:Je(1),eta2:Cq,cosTheta1:i,thinFilmThickness:Aq,baseF0:Is}),this.iridescenceF0=C6e({f:this.iridescenceFresnel,f90:1,dotVH:i})}if(this.transmission===!0){const i=O0,r=xze.sub(O0).normalize(),o=AD;e.backdrop=D6e(o,r,ju,qn,Is,Jw,i,Nh,Ic,SD,FS,Tq,Mq,Eq,this.dispersion?Rq:null),e.backdropAlpha=IP,qn.a.mulAssign(Si(1,e.backdrop.a,IP))}}computeMultiscattering(e,i,r){const o=cr.dot(Hi).clamp(),s=vX({roughness:ju,dotNV:o}),l=(this.iridescenceF0?gD.mix(Is,this.iridescenceF0):Is).mul(s.x).add(r.mul(s.y)),c=s.x.add(s.y).oneMinus(),d=Is.add(Is.oneMinus().mul(.047619)),f=l.mul(d).div(c.mul(d).oneMinus());e.addAssign(l),i.addAssign(f.mul(c))}direct({lightDirection:e,lightColor:i,reflectedLight:r}){const s=cr.dot(e).clamp().mul(i);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(s.mul(E6e({lightDirection:e}))),this.clearcoat===!0){const l=uy.dot(e).clamp().mul(i);this.clearcoatSpecularDirect.addAssign(l.mul(w6({lightDirection:e,f0:RM,f90:PM,roughness:Zw,normalView:uy})))}r.directDiffuse.addAssign(s.mul(Cm({diffuseColor:qn.rgb}))),r.directSpecular.addAssign(s.mul(w6({lightDirection:e,f0:Is,f90:1,roughness:ju,iridescence:this.iridescence,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:e,lightPosition:i,halfWidth:r,halfHeight:o,reflectedLight:s,ltc_1:a,ltc_2:l}){const u=i.add(r).sub(o),c=i.sub(r).sub(o),d=i.sub(r).add(o),f=i.add(r).add(o),h=cr,p=Hi,g=fr.toVar(),b=M6e({N:h,V:p,roughness:ju}),y=a.sample(b).toVar(),m=l.sample(b).toVar(),_=Uo(tt(y.x,0,y.y),tt(0,1,0),tt(y.z,0,y.w)).toVar(),S=Is.mul(m.x).add(Is.oneMinus().mul(m.y)).toVar();s.directSpecular.addAssign(e.mul(S).mul(C6({N:h,V:p,P:g,mInv:_,p0:u,p1:c,p2:d,p3:f}))),s.directDiffuse.addAssign(e.mul(qn).mul(C6({N:h,V:p,P:g,mInv:Uo(1,0,0,0,1,0,0,0,1),p0:u,p1:c,p2:d,p3:f})))}indirect(e,i,r){this.indirectDiffuse(e,i,r),this.indirectSpecular(e,i,r),this.ambientOcclusion(e,i,r)}indirectDiffuse({irradiance:e,reflectedLight:i}){i.indirectDiffuse.addAssign(e.mul(Cm({diffuseColor:qn})))}indirectSpecular({radiance:e,iblIrradiance:i,reflectedLight:r}){if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(i.mul(hg,U6e({normal:cr,viewDir:Hi,roughness:pD}))),this.clearcoat===!0){const c=uy.dot(Hi).clamp(),d=yX({dotNV:c,specularColor:RM,specularF90:PM,roughness:Zw});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(d))}const o=tt().toVar("singleScattering"),s=tt().toVar("multiScattering"),a=i.mul(1/Math.PI);this.computeMultiscattering(o,s,Jw);const l=o.add(s),u=qn.mul(l.r.max(l.g).max(l.b).oneMinus());r.indirectSpecular.addAssign(e.mul(o)),r.indirectSpecular.addAssign(s.mul(a)),r.indirectDiffuse.addAssign(u.mul(a))}ambientOcclusion({ambientOcclusion:e,reflectedLight:i}){const o=cr.dot(Hi).clamp().add(e),s=ju.mul(-16).oneMinus().negate().exp2(),a=e.sub(o.pow(s).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(e),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(e),i.indirectDiffuse.mulAssign(e),i.indirectSpecular.mulAssign(a)}finish(e){const{outgoingLight:i}=e;if(this.clearcoat===!0){const r=uy.dot(Hi).clamp(),o=B0({dotVH:r,f0:RM,f90:PM}),s=i.mul(MP.mul(o).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(MP));i.assign(s)}if(this.sheen===!0){const r=hg.r.max(hg.g).max(hg.b).mul(.157).oneMinus(),o=i.mul(r).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);i.assign(o)}}}const D6=Je(1),LP=Je(-2),$_=Je(.8),IM=Je(-1),U_=Je(.4),NM=Je(2),k_=Je(.305),OM=Je(3),L6=Je(.21),k6e=Je(4),B6=Je(4),z6e=Je(16),H6e=vt(([n])=>{const e=tt(la(n)).toVar(),i=Je(-1).toVar();return hr(e.x.greaterThan(e.z),()=>{hr(e.x.greaterThan(e.y),()=>{i.assign(os(n.x.greaterThan(0),0,3))}).Else(()=>{i.assign(os(n.y.greaterThan(0),1,4))})}).Else(()=>{hr(e.z.greaterThan(e.y),()=>{i.assign(os(n.z.greaterThan(0),2,5))}).Else(()=>{i.assign(os(n.y.greaterThan(0),1,4))})}),i}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),G6e=vt(([n,e])=>{const i=_t().toVar();return hr(e.equal(0),()=>{i.assign(_t(n.z,n.y).div(la(n.x)))}).ElseIf(e.equal(1),()=>{i.assign(_t(n.x.negate(),n.z.negate()).div(la(n.y)))}).ElseIf(e.equal(2),()=>{i.assign(_t(n.x.negate(),n.y).div(la(n.z)))}).ElseIf(e.equal(3),()=>{i.assign(_t(n.z.negate(),n.y).div(la(n.x)))}).ElseIf(e.equal(4),()=>{i.assign(_t(n.x.negate(),n.z).div(la(n.y)))}).Else(()=>{i.assign(_t(n.x,n.y).div(la(n.z)))}),Rn(.5,i.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),V6e=vt(([n])=>{const e=Je(0).toVar();return hr(n.greaterThanEqual($_),()=>{e.assign(D6.sub(n).mul(IM.sub(LP)).div(D6.sub($_)).add(LP))}).ElseIf(n.greaterThanEqual(U_),()=>{e.assign($_.sub(n).mul(NM.sub(IM)).div($_.sub(U_)).add(IM))}).ElseIf(n.greaterThanEqual(k_),()=>{e.assign(U_.sub(n).mul(OM.sub(NM)).div(U_.sub(k_)).add(NM))}).ElseIf(n.greaterThanEqual(L6),()=>{e.assign(k_.sub(n).mul(k6e.sub(OM)).div(k_.sub(L6)).add(OM))}).Else(()=>{e.assign(Je(-2).mul(ac(Rn(1.16,n))))}),e}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),W6e=vt(([n,e])=>{const i=n.toVar();i.assign(Rn(2,i).sub(1));const r=tt(i,1).toVar();return hr(e.equal(0),()=>{r.assign(r.zyx)}).ElseIf(e.equal(1),()=>{r.assign(r.xzy),r.xz.mulAssign(-1)}).ElseIf(e.equal(2),()=>{r.x.mulAssign(-1)}).ElseIf(e.equal(3),()=>{r.assign(r.zyx),r.xz.mulAssign(-1)}).ElseIf(e.equal(4),()=>{r.assign(r.xzy),r.xy.mulAssign(-1)}).ElseIf(e.equal(5),()=>{r.z.mulAssign(-1)}),r}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),j6e=vt(([n,e,i,r,o,s])=>{const a=Je(i),l=tt(e),u=yc(V6e(a),LP,s),c=Zd(u),d=ph(u),f=tt(BP(n,l,d,r,o,s)).toVar();return hr(c.notEqual(0),()=>{const h=tt(BP(n,l,d.add(1),r,o,s)).toVar();f.assign(Si(f,h,c))}),f}),BP=vt(([n,e,i,r,o,s])=>{const a=Je(i).toVar(),l=tt(e),u=Je(H6e(l)).toVar(),c=Je(fs(B6.sub(a),0)).toVar();a.assign(fs(a,B6));const d=Je(R0(a)).toVar(),f=_t(G6e(l,u).mul(d.sub(2)).add(1)).toVar();return hr(u.greaterThan(2),()=>{f.y.addAssign(d),u.subAssign(3)}),f.x.addAssign(u.mul(d)),f.x.addAssign(c.mul(Rn(3,z6e))),f.y.addAssign(Rn(4,R0(s).sub(d))),f.x.mulAssign(r),f.y.mulAssign(o),n.sample(f).grad(_t(),_t())}),DM=vt(({envMap:n,mipInt:e,outputDirection:i,theta:r,axis:o,CUBEUV_TEXEL_WIDTH:s,CUBEUV_TEXEL_HEIGHT:a,CUBEUV_MAX_MIP:l})=>{const u=yd(r),c=i.mul(u).add(o.cross(i).mul(Wa(r))).add(o.mul(o.dot(i).mul(u.oneMinus())));return BP(n,c,e,s,a,l)}),K6e=vt(({n,latitudinal:e,poleAxis:i,outputDirection:r,weights:o,samples:s,dTheta:a,mipInt:l,envMap:u,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:f})=>{const h=tt(os(e,i,Uq(i,r))).toVar();hr(Iq(h.equals(tt(0))),()=>{h.assign(tt(r.z,0,r.x.negate()))}),h.assign(P0(h));const p=tt().toVar();return p.addAssign(o.element(ji(0)).mul(DM({theta:0,axis:h,outputDirection:r,mipInt:l,envMap:u,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:f}))),qa({start:ji(1),end:n},({i:g})=>{hr(g.greaterThanEqual(s),()=>{O5e()});const b=Je(a.mul(Je(g))).toVar();p.addAssign(o.element(g).mul(DM({theta:b.mul(-1),axis:h,outputDirection:r,mipInt:l,envMap:u,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:f}))),p.addAssign(o.element(g).mul(DM({theta:b,axis:h,outputDirection:r,mipInt:l,envMap:u,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:f})))}),sn(p,1)});let n1=null;const F6=new WeakMap;function q6e(n){const e=Math.log2(n)-2,i=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function X6e(n){let e=F6.get(n);if((e!==void 0?e.pmremVersion:-1)!==n.pmremVersion){const r=n.image;if(n.isCubeTexture)if(Q6e(r))e=n1.fromCubemap(n,e);else return null;else if(Z6e(r))e=n1.fromEquirectangular(n,e);else return null;e.pmremVersion=n.pmremVersion,F6.set(n,e)}return e.texture}class Y6e extends Er{static get type(){return"PMREMNode"}constructor(e,i=null,r=null){super("vec3"),this._value=e,this._pmrem=null,this.uvNode=i,this.levelNode=r,this._generator=null;const o=new Ho;o.isRenderTargetTexture=!0,this._texture=Hn(o),this._width=un(0),this._height=un(0),this._maxMip=un(0),this.updateBeforeType=An.RENDER}set value(e){this._value=e,this._pmrem=null}get value(){return this._value}updateFromTexture(e){const i=q6e(e.image.height);this._texture.value=e,this._width.value=i.texelWidth,this._height.value=i.texelHeight,this._maxMip.value=i.maxMip}updateBefore(){let e=this._pmrem;const i=e?e.pmremVersion:-1,r=this._value;i!==r.pmremVersion&&(r.isPMREMTexture===!0?e=r:e=X6e(r),e!==null&&(this._pmrem=e,this.updateFromTexture(e)))}setup(e){n1===null&&(n1=e.createPMREMGenerator()),this.updateBefore(e);let i=this.uvNode;i===null&&e.context.getUV&&(i=e.context.getUV(this));const r=this.value;e.renderer.coordinateSystem===rs&&r.isPMREMTexture!==!0&&r.isRenderTargetTexture===!0&&(i=tt(i.x.negate(),i.yz)),i=tt(i.x,i.y.negate(),i.z);let o=this.levelNode;return o===null&&e.context.getTextureLevel&&(o=e.context.getTextureLevel(this)),j6e(this._texture,i,o,this._width,this._height,this._maxMip)}}function Q6e(n){if(n==null)return!1;let e=0;const i=6;for(let r=0;r<i;r++)n[r]!==void 0&&e++;return e===i}function Z6e(n){return n==null?!1:n.height>0}const SX=lt(Y6e),$6=new WeakMap;class J6e extends Hm{static get type(){return"EnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){const{material:i}=e;let r=this.envNode;if(r.isTextureNode||r.isMaterialReferenceNode){const p=r.isTextureNode?r.value:i[r.property];let g=$6.get(p);g===void 0&&(g=SX(p),$6.set(p,g)),r=g}const s=i.envMap?ii("envMapIntensity","float",e.material):ii("environmentIntensity","float",e.scene),l=i.useAnisotropy===!0||i.anisotropy>0?kze:cr,u=r.context(U6(ju,l)).mul(s),c=r.context(e8e(AD)).mul(Math.PI).mul(s),d=US(u),f=US(c);e.context.radiance.addAssign(d),e.context.iblIrradiance.addAssign(f);const h=e.context.lightingModel.clearcoatRadiance;if(h){const p=r.context(U6(Zw,uy)).mul(s),g=US(p);h.addAssign(g)}}}const U6=(n,e)=>{let i=null;return{getUV:()=>(i===null&&(i=Hi.negate().reflect(e),i=n.mul(n).mix(i,e).normalize(),i=i.transformDirection(Ic)),i),getTextureLevel:()=>n}},e8e=n=>({getUV:()=>n,getTextureLevel:()=>Je(1)}),t8e=new SK;class wX extends pr{static get type(){return"MeshStandardNodeMaterial"}constructor(e){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(t8e),this.setValues(e)}setupEnvironment(e){let i=super.setupEnvironment(e);return i===null&&e.environmentNode&&(i=e.environmentNode),i?new J6e(i):null}setupLightingModel(){return new _X}setupSpecular(){const e=Si(tt(.04),qn.rgb,Qw);Is.assign(e),Jw.assign(1)}setupVariants(){const e=this.metalnessNode?Je(this.metalnessNode):e5e;Qw.assign(e);let i=this.roughnessNode?Je(this.roughnessNode):Jze;i=mX({roughness:i}),ju.assign(i),this.setupSpecular(),qn.assign(sn(qn.rgb.mul(e.oneMinus()),qn.a))}copy(e){return this.emissiveNode=e.emissiveNode,this.metalnessNode=e.metalnessNode,this.roughnessNode=e.roughnessNode,super.copy(e)}}const n8e=new JOe;class i8e extends wX{static get type(){return"MeshPhysicalNodeMaterial"}constructor(e){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(n8e),this.setValues(e)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const e=this.iorNode?Je(this.iorNode):p5e;FS.assign(e),Is.assign(Si(I0(kq(FS.sub(1).div(FS.add(1))).mul(Zze),tt(1)).mul(v6),qn.rgb,Qw)),Jw.assign(Si(v6,1,Qw))}setupLightingModel(){return new _X(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(e){if(super.setupVariants(e),this.useClearcoat){const i=this.clearcoatNode?Je(this.clearcoatNode):n5e,r=this.clearcoatRoughnessNode?Je(this.clearcoatRoughnessNode):i5e;MP.assign(i),Zw.assign(mX({roughness:r}))}if(this.useSheen){const i=this.sheenNode?tt(this.sheenNode):s5e,r=this.sheenRoughnessNode?Je(this.sheenRoughnessNode):a5e;hg.assign(i),pD.assign(r)}if(this.useIridescence){const i=this.iridescenceNode?Je(this.iridescenceNode):u5e,r=this.iridescenceIORNode?Je(this.iridescenceIORNode):c5e,o=this.iridescenceThicknessNode?Je(this.iridescenceThicknessNode):d5e;gD.assign(i),Cq.assign(r),Aq.assign(o)}if(this.useAnisotropy){const i=(this.anisotropyNode?_t(this.anisotropyNode):l5e).toVar();Lf.assign(i.length()),hr(Lf.equal(0),()=>{i.assign(_t(1,0))}).Else(()=>{i.divAssign(_t(Lf)),Lf.assign(Lf.saturate())}),RP.assign(Lf.pow2().mix(ju.pow2(),1)),BS.assign(cy[0].mul(i.x).add(cy[1].mul(i.y))),$g.assign(cy[1].mul(i.x).sub(cy[0].mul(i.y)))}if(this.useTransmission){const i=this.transmissionNode?Je(this.transmissionNode):f5e,r=this.thicknessNode?Je(this.thicknessNode):h5e,o=this.attenuationDistanceNode?Je(this.attenuationDistanceNode):g5e,s=this.attenuationColorNode?tt(this.attenuationColorNode):m5e;if(IP.assign(i),Tq.assign(r),Eq.assign(o),Mq.assign(s),this.useDispersion){const a=this.dispersionNode?Je(this.dispersionNode):_5e;Rq.assign(a)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?tt(this.clearcoatNormalNode):r5e}setup(e){e.context.setupClearcoatNormal=()=>this.setupClearcoatNormal(e),super.setup(e)}copy(e){return this.clearcoatNode=e.clearcoatNode,this.clearcoatRoughnessNode=e.clearcoatRoughnessNode,this.clearcoatNormalNode=e.clearcoatNormalNode,this.sheenNode=e.sheenNode,this.sheenRoughnessNode=e.sheenRoughnessNode,this.iridescenceNode=e.iridescenceNode,this.iridescenceIORNode=e.iridescenceIORNode,this.iridescenceThicknessNode=e.iridescenceThicknessNode,this.specularIntensityNode=e.specularIntensityNode,this.specularColorNode=e.specularColorNode,this.transmissionNode=e.transmissionNode,this.thicknessNode=e.thicknessNode,this.attenuationDistanceNode=e.attenuationDistanceNode,this.attenuationColorNode=e.attenuationColorNode,this.dispersionNode=e.dispersionNode,this.anisotropyNode=e.anisotropyNode,super.copy(e)}}const r8e=vt(({normal:n,lightDirection:e,builder:i})=>{const r=n.dot(e),o=_t(r.mul(.5).add(.5),0);if(i.material.gradientMap){const s=xd("gradientMap","texture").context({getUV:()=>o});return tt(s.r)}else{const s=o.fwidth().mul(.5);return Si(tt(.7),tt(1),Ih(Je(.7).sub(s.x),Je(.7).add(s.x),o.x))}});class o8e extends RC{direct({lightDirection:e,lightColor:i,reflectedLight:r},o,s){const a=r8e({normal:qq,lightDirection:e,builder:s}).mul(i);r.directDiffuse.addAssign(a.mul(Cm({diffuseColor:qn.rgb})))}indirect({ambientOcclusion:e,irradiance:i,reflectedLight:r}){r.indirectDiffuse.addAssign(i.mul(Cm({diffuseColor:qn}))),r.indirectDiffuse.mulAssign(e)}}const s8e=new tDe;class a8e extends pr{static get type(){return"MeshToonNodeMaterial"}constructor(e){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(s8e),this.setValues(e)}setupLightingModel(){return new o8e}}class l8e extends Er{static get type(){return"MatcapUVNode"}constructor(){super("vec2")}setup(){const e=tt(Hi.z,0,Hi.x.negate()).normalize(),i=Hi.cross(e);return _t(e.dot(cr),i.dot(cr)).mul(.495).add(.5)}}const u8e=xt(l8e),c8e=new sDe;class d8e extends pr{static get type(){return"MeshMatcapNodeMaterial"}constructor(e){super(),this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(c8e),this.setValues(e)}setupVariants(e){const i=u8e;let r;e.material.matcap?r=xd("matcap","texture").context({getUV:()=>i}):r=tt(Si(.2,.8,i.y)),qn.rgb.mulAssign(r.rgb)}}const f8e=new YOe;class h8e extends pr{static get type(){return"PointsNodeMaterial"}constructor(e){super(),this.isPointsNodeMaterial=!0,this.setDefaultValues(f8e),this.setValues(e)}}class p8e extends Er{static get type(){return"RotateNode"}constructor(e,i){super(),this.positionNode=e,this.rotationNode=i}getNodeType(e){return this.positionNode.getNodeType(e)}setup(e){const{rotationNode:i,positionNode:r}=this;if(this.getNodeType(e)==="vec2"){const s=i.cos(),a=i.sin();return hD(s,a,a.negate(),s).mul(r)}else{const s=i,a=Fg(sn(1,0,0,0),sn(0,yd(s.x),Wa(s.x).negate(),0),sn(0,Wa(s.x),yd(s.x),0),sn(0,0,0,1)),l=Fg(sn(yd(s.y),0,Wa(s.y),0),sn(0,1,0,0),sn(Wa(s.y).negate(),0,yd(s.y),0),sn(0,0,0,1)),u=Fg(sn(yd(s.z),Wa(s.z).negate(),0,0),sn(Wa(s.z),yd(s.z),0,0),sn(0,0,1,0),sn(0,0,0,1));return a.mul(l).mul(u).mul(sn(r,1)).xyz}}}const g8e=lt(p8e),m8e=new WOe;class v8e extends pr{static get type(){return"SpriteNodeMaterial"}constructor(e){super(),this.isSpriteNodeMaterial=!0,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.setDefaultValues(m8e),this.setValues(e)}setupPositionView(e){const{object:i,camera:r}=e,o=this.sizeAttenuation,{positionNode:s,rotationNode:a,scaleNode:l}=this,u=wD.mul(tt(s||0));let c=_t(Nh[0].xyz.length(),Nh[1].xyz.length());if(l!==null&&(c=c.mul(l)),o===!1)if(r.isPerspectiveCamera)c=c.mul(u.z.negate());else{const p=Je(2).div(SD.element(1).element(1));c=c.mul(p.mul(2))}let d=CD.xy;if(i.center&&i.center.isVector2===!0){const p=Zke("center","vec2",i);d=d.sub(p.sub(.5))}d=d.mul(c);const f=Je(a||o5e),h=g8e(d,f);return sn(u.xy.add(h),u.zw)}copy(e){return this.positionNode=e.positionNode,this.rotationNode=e.rotationNode,this.scaleNode=e.scaleNode,super.copy(e)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(e){this._useSizeAttenuation!==e&&(this._useSizeAttenuation=e,this.needsUpdate=!0)}}class y8e extends RC{constructor(){super(),this.shadowNode=Je(1).toVar("shadowMask")}direct({shadowMask:e}){this.shadowNode.mulAssign(e)}finish(e){qn.a.mulAssign(this.shadowNode.oneMinus()),e.outgoingLight.rgb.assign(qn.rgb)}}const b8e=new ZOe;class x8e extends pr{static get type(){return"ShadowNodeMaterial"}constructor(e){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.setDefaultValues(b8e),this.setValues(e)}setupLightingModel(){return new y8e}}vt(({texture:n,uv:e})=>{const r=tt().toVar();return hr(e.x.lessThan(1e-4),()=>{r.assign(tt(1,0,0))}).ElseIf(e.y.lessThan(1e-4),()=>{r.assign(tt(0,1,0))}).ElseIf(e.z.lessThan(1e-4),()=>{r.assign(tt(0,0,1))}).ElseIf(e.x.greaterThan(1-1e-4),()=>{r.assign(tt(-1,0,0))}).ElseIf(e.y.greaterThan(1-1e-4),()=>{r.assign(tt(0,-1,0))}).ElseIf(e.z.greaterThan(1-1e-4),()=>{r.assign(tt(0,0,-1))}).Else(()=>{const s=n.sample(e.add(tt(-.01,0,0))).r.sub(n.sample(e.add(tt(.01,0,0))).r),a=n.sample(e.add(tt(0,-.01,0))).r.sub(n.sample(e.add(tt(0,.01,0))).r),l=n.sample(e.add(tt(0,0,-.01))).r.sub(n.sample(e.add(tt(0,0,.01))).r);r.assign(tt(s,a,l))}),r.normalize()});class _8e{constructor(e,i){this.nodes=e,this.info=i,this._context=self,this._animationLoop=null,this._requestId=null}start(){const e=(i,r)=>{this._requestId=this._context.requestAnimationFrame(e),this.info.autoReset===!0&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this._animationLoop!==null&&this._animationLoop(i,r)};e()}stop(){this._context.cancelAnimationFrame(this._requestId),this._requestId=null}setAnimationLoop(e){this._animationLoop=e}setContext(e){this._context=e}dispose(){this.stop()}}class ql{constructor(){this.weakMap=new WeakMap}get(e){let i=this.weakMap;for(let r=0;r<e.length;r++)if(i=i.get(e[r]),i===void 0)return;return i.get(e[e.length-1])}set(e,i){let r=this.weakMap;for(let o=0;o<e.length;o++){const s=e[o];r.has(s)===!1&&r.set(s,new WeakMap),r=r.get(s)}return r.set(e[e.length-1],i),this}delete(e){let i=this.weakMap;for(let r=0;r<e.length;r++)if(i=i.get(e[r]),i===void 0)return!1;return i.delete(e[e.length-1])}}let S8e=0;function w8e(n){const e=Object.keys(n);let i=Object.getPrototypeOf(n);for(;i;){const r=Object.getOwnPropertyDescriptors(i);for(const o in r)if(r[o]!==void 0){const s=r[o];s&&typeof s.get=="function"&&e.push(o)}i=Object.getPrototypeOf(i)}return e}class C8e{constructor(e,i,r,o,s,a,l,u,c,d){this.id=S8e++,this._nodes=e,this._geometries=i,this.renderer=r,this.object=o,this.material=s,this.scene=a,this.camera=l,this.lightsNode=u,this.context=c,this.geometry=o.geometry,this.version=s.version,this.drawRange=null,this.attributes=null,this.pipeline=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.clippingContext=d,this.clippingContextCacheKey=d!==null?d.cacheKey:"",this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.material.addEventListener("dispose",this.onMaterialDispose)}updateClipping(e){this.clippingContext=e}get clippingNeedsUpdate(){return this.clippingContext===null||this.clippingContext.cacheKey===this.clippingContextCacheKey?!1:(this.clippingContextCacheKey=this.clippingContext.cacheKey,!0)}get hardwareClippingPlanes(){return this.material.hardwareClipping===!0?this.clippingContext.unionClippingCount:0}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().monitor)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getIndex(){return this._geometries.getIndex(this)}getIndirect(){return this._geometries.getIndirect(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}setGeometry(e){this.geometry=e,this.attributes=null}getAttributes(){if(this.attributes!==null)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,i=this.geometry,r=[],o=new Set;for(const s of e){const a=s.node&&s.node.attribute?s.node.attribute:i.getAttribute(s.name);if(a===void 0)continue;r.push(a);const l=a.isInterleavedBufferAttribute?a.data:a;o.add(l)}return this.attributes=r,this.vertexBuffers=Array.from(o.values()),r}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:e,material:i,geometry:r,group:o,drawRange:s}=this,a=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),l=this.getIndex(),u=l!==null,c=r.isInstancedBufferGeometry?r.instanceCount:e.count>1?e.count:1;if(c===0)return null;if(a.instanceCount=c,e.isBatchedMesh===!0)return a;let d=1;i.wireframe===!0&&!e.isPoints&&!e.isLineSegments&&!e.isLine&&!e.isLineLoop&&(d=2);let f=s.start*d,h=(s.start+s.count)*d;o!==null&&(f=Math.max(f,o.start*d),h=Math.min(h,(o.start+o.count)*d));const p=r.attributes.position;let g=1/0;u?g=l.count:p!=null&&(g=p.count),f=Math.max(f,0),h=Math.min(h,g);const b=h-f;return b<0||b===1/0?null:(a.vertexCount=b,a.firstVertex=f,a)}getGeometryCacheKey(){const{geometry:e}=this;let i="";for(const r of Object.keys(e.attributes).sort()){const o=e.attributes[r];i+=r+",",o.data&&(i+=o.data.stride+","),o.offset&&(i+=o.offset+","),o.itemSize&&(i+=o.itemSize+","),o.normalized&&(i+="n,")}return e.index&&(i+="index,"),i}getMaterialCacheKey(){const{object:e,material:i}=this;let r=i.customProgramCacheKey();for(const o of w8e(i)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(o))continue;const s=i[o];let a;if(s!==null){const l=typeof s;l==="number"?a=s!==0?"1":"0":l==="object"?(a="{",s.isTexture&&(a+=s.mapping),a+="}"):a=String(s)}else a=String(s);r+=a+","}return r+=this.clippingContextCacheKey+",",e.geometry&&(r+=this.getGeometryCacheKey()),e.skeleton&&(r+=e.skeleton.bones.length+","),e.morphTargetInfluences&&(r+=e.morphTargetInfluences.length+","),e.isBatchedMesh&&(r+=e._matricesTexture.uuid+",",e._colorsTexture!==null&&(r+=e._colorsTexture.uuid+",")),e.count>1&&(r+=e.uuid+","),r+=e.receiveShadow+",",i4e(r)}get needsGeometryUpdate(){return this.geometry.id!==this.object.geometry.id}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let e=this._nodes.getCacheKey(this.scene,this.lightsNode);return this.object.receiveShadow&&(e+=1),e}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.onDispose()}}const qp=[];class A8e{constructor(e,i,r,o,s,a){this.renderer=e,this.nodes=i,this.geometries=r,this.pipelines=o,this.bindings=s,this.info=a,this.chainMaps={}}get(e,i,r,o,s,a,l,u){const c=this.getChainMap(u);qp[0]=e,qp[1]=i,qp[2]=a,qp[3]=s;let d=c.get(qp);return d===void 0?(d=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,i,r,o,s,a,l,u),c.set(qp,d)):(d.updateClipping(l),d.needsGeometryUpdate&&d.setGeometry(e.geometry),(d.version!==i.version||d.needsUpdate)&&(d.initialCacheKey!==d.getCacheKey()?(d.dispose(),d=this.get(e,i,r,o,s,a,l,u)):d.version=i.version)),d}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new ql)}dispose(){this.chainMaps={}}createRenderObject(e,i,r,o,s,a,l,u,c,d,f){const h=this.getChainMap(f),p=new C8e(e,i,r,o,s,a,l,u,c,d);return p.onDispose=()=>{this.pipelines.delete(p),this.bindings.delete(p),this.nodes.delete(p),h.delete(p.getChainArray())},p}}class Jd{constructor(){this.data=new WeakMap}get(e){let i=this.data.get(e);return i===void 0&&(i={},this.data.set(e,i)),i}delete(e){let i=null;return this.data.has(e)&&(i=this.data.get(e),this.data.delete(e)),i}has(e){return this.data.has(e)}dispose(){this.data=new WeakMap}}const Pl={VERTEX:1,INDEX:2,STORAGE:3,INDIRECT:4},_d=16,T8e=211,E8e=212;class M8e extends Jd{constructor(e){super(),this.backend=e}delete(e){const i=super.delete(e);return i!==void 0&&this.backend.destroyAttribute(e),i}update(e,i){const r=this.get(e);if(r.version===void 0)i===Pl.VERTEX?this.backend.createAttribute(e):i===Pl.INDEX?this.backend.createIndexAttribute(e):i===Pl.STORAGE?this.backend.createStorageAttribute(e):i===Pl.INDIRECT&&this.backend.createIndirectStorageAttribute(e),r.version=this._getBufferAttribute(e).version;else{const o=this._getBufferAttribute(e);(r.version<o.version||o.usage===cg)&&(this.backend.updateAttribute(e),r.version=o.version)}}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}function R8e(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function CX(n){return n.index!==null?n.index.version:n.attributes.position.version}function k6(n){const e=[],i=n.index,r=n.attributes.position;if(i!==null){const s=i.array;for(let a=0,l=s.length;a<l;a+=3){const u=s[a+0],c=s[a+1],d=s[a+2];e.push(u,c,c,d,d,u)}}else{const s=r.array;for(let a=0,l=s.length/3-1;a<l;a+=3){const u=a+0,c=a+1,d=a+2;e.push(u,c,c,d,d,u)}}const o=new(R8e(e)?KO:jO)(e,1);return o.version=CX(n),o}class P8e extends Jd{constructor(e,i){super(),this.attributes=e,this.info=i,this.wireframes=new WeakMap,this.attributeCall=new WeakMap}has(e){const i=e.geometry;return super.has(i)&&this.get(i).initialized===!0}updateForRender(e){this.has(e)===!1&&this.initGeometry(e),this.updateAttributes(e)}initGeometry(e){const i=e.geometry,r=this.get(i);r.initialized=!0,this.info.memory.geometries++;const o=()=>{this.info.memory.geometries--;const s=i.index,a=e.getAttributes();s!==null&&this.attributes.delete(s);for(const u of a)this.attributes.delete(u);const l=this.wireframes.get(i);l!==void 0&&this.attributes.delete(l),i.removeEventListener("dispose",o)};i.addEventListener("dispose",o)}updateAttributes(e){const i=e.getAttributes();for(const s of i)s.isStorageBufferAttribute||s.isStorageInstancedBufferAttribute?this.updateAttribute(s,Pl.STORAGE):this.updateAttribute(s,Pl.VERTEX);const r=this.getIndex(e);r!==null&&this.updateAttribute(r,Pl.INDEX);const o=e.geometry.indirect;o!==null&&this.updateAttribute(o,Pl.INDIRECT)}updateAttribute(e,i){const r=this.info.render.calls;e.isInterleavedBufferAttribute?this.attributeCall.get(e)===void 0?(this.attributes.update(e,i),this.attributeCall.set(e,r)):this.attributeCall.get(e.data)!==r&&(this.attributes.update(e,i),this.attributeCall.set(e.data,r),this.attributeCall.set(e,r)):this.attributeCall.get(e)!==r&&(this.attributes.update(e,i),this.attributeCall.set(e,r))}getIndirect(e){return e.geometry.indirect}getIndex(e){const{geometry:i,material:r}=e;let o=i.index;if(r.wireframe===!0){const s=this.wireframes;let a=s.get(i);a===void 0?(a=k6(i),s.set(i,a)):a.version!==CX(i)&&(this.attributes.delete(a),a=k6(i),s.set(i,a)),o=a}return o}}class I8e{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0,previousFrameCalls:0,timestampCalls:0},this.compute={calls:0,frameCalls:0,timestamp:0,previousFrameCalls:0,timestampCalls:0},this.memory={geometries:0,textures:0}}update(e,i,r){this.render.drawCalls++,e.isMesh||e.isSprite?this.render.triangles+=r*(i/3):e.isPoints?this.render.points+=r*i:e.isLineSegments?this.render.lines+=r*(i/2):e.isLine?this.render.lines+=r*(i-1):console.error("THREE.WebGPUInfo: Unknown object type.")}updateTimestamp(e,i){this[e].timestampCalls===0&&(this[e].timestamp=0),this[e].timestamp+=i,this[e].timestampCalls++,this[e].timestampCalls>=this[e].previousFrameCalls&&(this[e].timestampCalls=0)}reset(){const e=this.render.frameCalls;this.render.previousFrameCalls=e;const i=this.compute.frameCalls;this.compute.previousFrameCalls=i,this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class AX{constructor(e){this.cacheKey=e,this.usedTimes=0}}class N8e extends AX{constructor(e,i,r){super(e),this.vertexProgram=i,this.fragmentProgram=r}}class O8e extends AX{constructor(e,i){super(e),this.computeProgram=i,this.isComputePipeline=!0}}let D8e=0;class LM{constructor(e,i,r,o=null,s=null){this.id=D8e++,this.code=e,this.stage=i,this.name=r,this.transforms=o,this.attributes=s,this.usedTimes=0}}class L8e extends Jd{constructor(e,i){super(),this.backend=e,this.nodes=i,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(e,i){const{backend:r}=this,o=this.get(e);if(this._needsComputeUpdate(e)){const s=o.pipeline;s&&(s.usedTimes--,s.computeProgram.usedTimes--);const a=this.nodes.getForCompute(e);let l=this.programs.compute.get(a.computeShader);l===void 0&&(s&&s.computeProgram.usedTimes===0&&this._releaseProgram(s.computeProgram),l=new LM(a.computeShader,"compute",e.name,a.transforms,a.nodeAttributes),this.programs.compute.set(a.computeShader,l),r.createProgram(l));const u=this._getComputeCacheKey(e,l);let c=this.caches.get(u);c===void 0&&(s&&s.usedTimes===0&&this._releasePipeline(s),c=this._getComputePipeline(e,l,u,i)),c.usedTimes++,l.usedTimes++,o.version=e.version,o.pipeline=c}return o.pipeline}getForRender(e,i=null){const{backend:r}=this,o=this.get(e);if(this._needsRenderUpdate(e)){const s=o.pipeline;s&&(s.usedTimes--,s.vertexProgram.usedTimes--,s.fragmentProgram.usedTimes--);const a=e.getNodeBuilderState(),l=e.material?e.material.name:"";let u=this.programs.vertex.get(a.vertexShader);u===void 0&&(s&&s.vertexProgram.usedTimes===0&&this._releaseProgram(s.vertexProgram),u=new LM(a.vertexShader,"vertex",l),this.programs.vertex.set(a.vertexShader,u),r.createProgram(u));let c=this.programs.fragment.get(a.fragmentShader);c===void 0&&(s&&s.fragmentProgram.usedTimes===0&&this._releaseProgram(s.fragmentProgram),c=new LM(a.fragmentShader,"fragment",l),this.programs.fragment.set(a.fragmentShader,c),r.createProgram(c));const d=this._getRenderCacheKey(e,u,c);let f=this.caches.get(d);f===void 0?(s&&s.usedTimes===0&&this._releasePipeline(s),f=this._getRenderPipeline(e,u,c,d,i)):e.pipeline=f,f.usedTimes++,u.usedTimes++,c.usedTimes++,o.pipeline=f}return o.pipeline}delete(e){const i=this.get(e).pipeline;return i&&(i.usedTimes--,i.usedTimes===0&&this._releasePipeline(i),i.isComputePipeline?(i.computeProgram.usedTimes--,i.computeProgram.usedTimes===0&&this._releaseProgram(i.computeProgram)):(i.fragmentProgram.usedTimes--,i.vertexProgram.usedTimes--,i.vertexProgram.usedTimes===0&&this._releaseProgram(i.vertexProgram),i.fragmentProgram.usedTimes===0&&this._releaseProgram(i.fragmentProgram))),super.delete(e)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(e){this.getForRender(e)}_getComputePipeline(e,i,r,o){r=r||this._getComputeCacheKey(e,i);let s=this.caches.get(r);return s===void 0&&(s=new O8e(r,i),this.caches.set(r,s),this.backend.createComputePipeline(s,o)),s}_getRenderPipeline(e,i,r,o,s){o=o||this._getRenderCacheKey(e,i,r);let a=this.caches.get(o);return a===void 0&&(a=new N8e(o,i,r),this.caches.set(o,a),e.pipeline=a,this.backend.createRenderPipeline(e,s)),a}_getComputeCacheKey(e,i){return e.id+","+i.id}_getRenderCacheKey(e,i,r){return i.id+","+r.id+","+this.backend.getRenderCacheKey(e)}_releasePipeline(e){this.caches.delete(e.cacheKey)}_releaseProgram(e){const i=e.code,r=e.stage;this.programs[r].delete(i)}_needsComputeUpdate(e){const i=this.get(e);return i.pipeline===void 0||i.version!==e.version}_needsRenderUpdate(e){return this.get(e).pipeline===void 0||this.backend.needsRenderUpdate(e)}}class B8e extends Jd{constructor(e,i,r,o,s,a){super(),this.backend=e,this.textures=r,this.pipelines=s,this.attributes=o,this.nodes=i,this.info=a,this.pipelines.bindings=this}getForRender(e){const i=e.getBindings();for(const r of i){const o=this.get(r);o.bindGroup===void 0&&(this._init(r),this.backend.createBindings(r,i,0),o.bindGroup=r)}return i}getForCompute(e){const i=this.nodes.getForCompute(e).bindings;for(const r of i){const o=this.get(r);o.bindGroup===void 0&&(this._init(r),this.backend.createBindings(r,i,0),o.bindGroup=r)}return i}updateForCompute(e){this._updateBindings(this.getForCompute(e))}updateForRender(e){this._updateBindings(this.getForRender(e))}_updateBindings(e){for(const i of e)this._update(i,e)}_init(e){for(const i of e.bindings)if(i.isSampledTexture)this.textures.updateTexture(i.texture);else if(i.isStorageBuffer){const r=i.attribute,o=r.isIndirectStorageBufferAttribute?Pl.INDIRECT:Pl.STORAGE;this.attributes.update(r,o)}}_update(e,i){const{backend:r}=this;let o=!1,s=!0,a=0,l=0;for(const u of e.bindings)if(!(u.isNodeUniformsGroup&&this.nodes.updateGroup(u)===!1)){if(u.isUniformBuffer)u.update()&&r.updateBinding(u);else if(u.isSampler)u.update();else if(u.isSampledTexture){const c=this.textures.get(u.texture);u.needsBindingsUpdate(c.generation)&&(o=!0);const d=u.update(),f=u.texture;d&&this.textures.updateTexture(f);const h=r.get(f);if(h.externalTexture!==void 0||c.isDefaultTexture?s=!1:(a=a*10+f.id,l+=f.version),r.isWebGPUBackend===!0&&h.texture===void 0&&h.externalTexture===void 0&&(console.error("Bindings._update: binding should be available:",u,d,f,u.textureNode.value,o),this.textures.updateTexture(f),o=!0),f.isStorageTexture===!0){const p=this.get(f);u.store===!0?p.needsMipmap=!0:this.textures.needsMipmaps(f)&&p.needsMipmap===!0&&(this.backend.generateMipmaps(f),p.needsMipmap=!1)}}}o===!0&&this.backend.updateBindings(e,i,s?a:0,l)}}function F8e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function z6(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function H6(n){return(n.transmission>0||n.transmissionNode)&&n.side===Oo&&n.forceSinglePass===!1}class $8e{constructor(e,i,r){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparentDoublePass=[],this.transparent=[],this.bundles=[],this.lightsNode=e.getNode(i,r),this.lightsArray=[],this.scene=i,this.camera=r,this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparentDoublePass.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(e,i,r,o,s,a,l){let u=this.renderItems[this.renderItemsIndex];return u===void 0?(u={id:e.id,object:e,geometry:i,material:r,groupOrder:o,renderOrder:e.renderOrder,z:s,group:a,clippingContext:l},this.renderItems[this.renderItemsIndex]=u):(u.id=e.id,u.object=e,u.geometry=i,u.material=r,u.groupOrder=o,u.renderOrder=e.renderOrder,u.z=s,u.group=a,u.clippingContext=l),this.renderItemsIndex++,u}push(e,i,r,o,s,a,l){const u=this.getNextRenderItem(e,i,r,o,s,a,l);e.occlusionTest===!0&&this.occlusionQueryCount++,r.transparent===!0||r.transmission>0?(H6(r)&&this.transparentDoublePass.push(u),this.transparent.push(u)):this.opaque.push(u)}unshift(e,i,r,o,s,a,l){const u=this.getNextRenderItem(e,i,r,o,s,a,l);r.transparent===!0||r.transmission>0?(H6(r)&&this.transparentDoublePass.unshift(u),this.transparent.unshift(u)):this.opaque.unshift(u)}pushBundle(e){this.bundles.push(e)}pushLight(e){this.lightsArray.push(e)}sort(e,i){this.opaque.length>1&&this.opaque.sort(e||F8e),this.transparentDoublePass.length>1&&this.transparentDoublePass.sort(i||z6),this.transparent.length>1&&this.transparent.sort(i||z6)}finish(){this.lightsNode.setLights(this.lightsArray);for(let e=this.renderItemsIndex,i=this.renderItems.length;e<i;e++){const r=this.renderItems[e];if(r.id===null)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.groupOrder=null,r.renderOrder=null,r.z=null,r.group=null,r.clippingContext=null}}}class U8e{constructor(e){this.lighting=e,this.lists=new ql}get(e,i){const r=this.lists,o=[e,i];let s=r.get(o);return s===void 0&&(s=new $8e(this.lighting,e,i),r.set(o,s)),s}dispose(){this.lists=new ql}}let k8e=0;class z8e{constructor(){this.id=k8e++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new fn,this.scissor=!1,this.scissorValue=new fn,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.sampleCount=1,this.width=0,this.height=0,this.isRenderContext=!0}getCacheKey(){return TX(this)}}function TX(n){const{textures:e,activeCubeFace:i}=n,r=[i];for(const o of e)r.push(o.id);return aD(r)}class H8e{constructor(){this.chainMaps={}}get(e=null,i=null,r=null){const o=[];e!==null&&o.push(e),i!==null&&o.push(i),o.length===0&&o.push({id:"default"});let s;if(r===null)s="default";else{const u=r.texture.format;s=`${r.textures.length}:${u}:${r.samples}:${r.depthBuffer}:${r.stencilBuffer}`}const a=this.getChainMap(s);let l=a.get(o);return l===void 0&&(l=new z8e,a.set(o,l)),r!==null&&(l.sampleCount=r.samples===0?1:r.samples),l}getChainMap(e){return this.chainMaps[e]||(this.chainMaps[e]=new ql)}dispose(){this.chainMaps={}}}const G8e=new Te;class V8e extends Jd{constructor(e,i,r){super(),this.renderer=e,this.backend=i,this.info=r}updateRenderTarget(e,i=0){const r=this.get(e),o=e.samples===0?1:e.samples,s=r.depthTextureMips||(r.depthTextureMips={}),a=e.textures,l=this.getSize(a[0]),u=l.width>>i,c=l.height>>i;let d=e.depthTexture||s[i];const f=e.depthBuffer===!0||e.stencilBuffer===!0;let h=!1;d===void 0&&f&&(d=new Yd,d.format=e.stencilBuffer?Vl:Ll,d.type=e.stencilBuffer?Gl:zi,d.image.width=u,d.image.height=c,s[i]=d),(r.width!==l.width||l.height!==r.height)&&(h=!0,d&&(d.needsUpdate=!0,d.image.width=u,d.image.height=c)),r.width=l.width,r.height=l.height,r.textures=a,r.depthTexture=d||null,r.depth=e.depthBuffer,r.stencil=e.stencilBuffer,r.renderTarget=e,r.sampleCount!==o&&(h=!0,d&&(d.needsUpdate=!0),r.sampleCount=o);const p={sampleCount:o};for(let g=0;g<a.length;g++){const b=a[g];h&&(b.needsUpdate=!0),this.updateTexture(b,p)}if(d&&this.updateTexture(d,p),r.initialized!==!0){r.initialized=!0;const g=()=>{e.removeEventListener("dispose",g);for(let b=0;b<a.length;b++)this._destroyTexture(a[b]);d&&this._destroyTexture(d),this.delete(e)};e.addEventListener("dispose",g)}}updateTexture(e,i={}){const r=this.get(e);if(r.initialized===!0&&r.version===e.version)return;const o=e.isRenderTargetTexture||e.isDepthTexture||e.isFramebufferTexture,s=this.backend;if(o&&r.initialized===!0&&(s.destroySampler(e),s.destroyTexture(e)),e.isFramebufferTexture){const c=this.renderer.getRenderTarget();c?e.type=c.texture.type:e.type=ho}const{width:a,height:l,depth:u}=this.getSize(e);if(i.width=a,i.height=l,i.depth=u,i.needsMipmaps=this.needsMipmaps(e),i.levels=i.needsMipmaps?this.getMipLevels(e,a,l):1,o||e.isStorageTexture===!0)s.createSampler(e),s.createTexture(e,i),r.generation=e.version;else if(r.initialized!==!0&&s.createSampler(e),e.version>0){const d=e.image;if(d===void 0)console.warn("THREE.Renderer: Texture marked for update but image is undefined.");else if(d.complete===!1)console.warn("THREE.Renderer: Texture marked for update but image is incomplete.");else{if(e.images){const f=[];for(const h of e.images)f.push(h);i.images=f}else i.image=d;(r.isDefaultTexture===void 0||r.isDefaultTexture===!0)&&(s.createTexture(e,i),r.isDefaultTexture=!1,r.generation=e.version),e.source.dataReady===!0&&s.updateTexture(e,i),i.needsMipmaps&&e.mipmaps.length===0&&s.generateMipmaps(e)}}else s.createDefaultTexture(e),r.isDefaultTexture=!0,r.generation=e.version;if(r.initialized!==!0){r.initialized=!0,r.generation=e.version,this.info.memory.textures++;const c=()=>{e.removeEventListener("dispose",c),this._destroyTexture(e),this.info.memory.textures--};e.addEventListener("dispose",c)}r.version=e.version}getSize(e,i=G8e){let r=e.images?e.images[0]:e.image;return r?(r.image!==void 0&&(r=r.image),i.width=r.width||1,i.height=r.height||1,i.depth=e.isCubeTexture?6:r.depth||1):i.width=i.height=i.depth=1,i}getMipLevels(e,i,r){let o;return e.isCompressedTexture?e.mipmaps?o=e.mipmaps.length:o=1:o=Math.floor(Math.log2(Math.max(i,r)))+1,o}needsMipmaps(e){return this.isEnvironmentTexture(e)||e.isCompressedTexture===!0||e.generateMipmaps}isEnvironmentTexture(e){const i=e.mapping;return i===Ud||i===kd||i===Sa||i===wa}_destroyTexture(e){this.backend.destroySampler(e),this.backend.destroyTexture(e),this.delete(e)}}class ID extends Ft{constructor(e,i,r,o=1){super(e,i,r),this.a=o}set(e,i,r,o=1){return this.a=o,super.set(e,i,r)}copy(e){return e.a!==void 0&&(this.a=e.a),super.copy(e)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}class W8e extends ei{static get type(){return"ParameterNode"}constructor(e,i=null){super(e,i),this.isParameterNode=!0}getHash(){return this.uuid}generate(){return this.name}}class j8e extends hn{static get type(){return"StackNode"}constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this.isStackNode=!0}getNodeType(e){return this.outputNode?this.outputNode.getNodeType(e):"void"}add(e){return this.nodes.push(e),this}If(e,i){const r=new LS(i);return this._currentCond=os(e,r),this.add(this._currentCond)}ElseIf(e,i){const r=new LS(i),o=os(e,r);return this._currentCond.elseNode=o,this._currentCond=o,this}Else(e){return this._currentCond.elseNode=new LS(e),this}build(e,...i){const r=bq();Xw(this);for(const o of this.nodes)o.build(e,"void");return Xw(r),this.outputNode?this.outputNode.build(e,...i):super.build(e,...i)}else(...e){return console.warn("TSL.StackNode: .else() has been renamed to .Else()."),this.Else(...e)}elseif(...e){return console.warn("TSL.StackNode: .elseif() has been renamed to .ElseIf()."),this.ElseIf(...e)}}const BM=lt(j8e);new Va;new Te;new Te;new Te;new ri;new Te(0,0,-1);new fn;new Te;new Te;new fn;new Tt;const K8e=new Lm;L0.flipX();K8e.depthTexture=new Yd(1,1);const FM=new sb(-1,1,1,-1,0,1);class q8e extends Tc{constructor(e=!1){super();const i=e===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new cs([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new cs(i,2))}}const X8e=new q8e;class EX extends Vr{constructor(e=null){super(X8e,e),this.camera=FM,this.isQuadMesh=!0}async renderAsync(e){return e.renderAsync(this,FM)}render(e){e.render(this,FM)}}const Wv=new ol,$M=new ri;class as extends hn{static get type(){return"SceneNode"}constructor(e=as.BACKGROUND_BLURRINESS,i=null){super(),this.scope=e,this.scene=i}setup(e){const i=this.scope,r=this.scene!==null?this.scene:e.scene;let o;return i===as.BACKGROUND_BLURRINESS?o=ii("backgroundBlurriness","float",r):i===as.BACKGROUND_INTENSITY?o=ii("backgroundIntensity","float",r):i===as.BACKGROUND_ROTATION?o=un("mat4").label("backgroundRotation").setGroup(Zt).onRenderUpdate(()=>{const s=r.background;return s!==null&&s.isTexture&&s.mapping!==PO?(Wv.copy(r.backgroundRotation),Wv.x*=-1,Wv.y*=-1,Wv.z*=-1,$M.makeRotationFromEuler(Wv)):$M.identity(),$M}):console.error("THREE.SceneNode: Unknown scope:",i),o}}as.BACKGROUND_BLURRINESS="backgroundBlurriness";as.BACKGROUND_INTENSITY="backgroundIntensity";as.BACKGROUND_ROTATION="backgroundRotation";const Y8e=xt(as,as.BACKGROUND_BLURRINESS),G6=xt(as,as.BACKGROUND_INTENSITY),Q8e=xt(as,as.BACKGROUND_ROTATION),Z8e=new Tt;class J8e extends db{static get type(){return"PassTextureNode"}constructor(e,i){super(i),this.passNode=e,this.setUpdateMatrix(!1)}setup(e){return e.object.isQuadMesh&&this.passNode.build(e),super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class V6 extends J8e{static get type(){return"PassMultipleTextureNode"}constructor(e,i,r=!1){super(e,null),this.textureName=i,this.previousTexture=r}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(e){return this.updateTexture(),super.setup(e)}clone(){return new this.constructor(this.passNode,this.textureName,this.previousTexture)}}class IC extends Er{static get type(){return"PassNode"}constructor(e,i,r,o={}){super("vec4"),this.scope=e,this.scene=i,this.camera=r,this.options=o,this._pixelRatio=1,this._width=1,this._height=1;const s=new Yd;s.isRenderTargetTexture=!0,s.name="depth";const a=new Lm(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Bo,...o});a.texture.name="output",a.depthTexture=s,this.renderTarget=a,this._textures={output:a.texture,depth:s},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=un(0),this._cameraFar=un(0),this._mrt=null,this.isPassNode=!0,this.updateBeforeType=An.FRAME}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}isGlobal(){return!0}getTexture(e){let i=this._textures[e];return i===void 0&&(i=this.renderTarget.texture.clone(),i.name=e,this._textures[e]=i,this.renderTarget.textures.push(i)),i}getPreviousTexture(e){let i=this._previousTextures[e];return i===void 0&&(i=this.getTexture(e).clone(),this._previousTextures[e]=i),i}toggleTexture(e){const i=this._previousTextures[e];if(i!==void 0){const r=this._textures[e],o=this.renderTarget.textures.indexOf(r);this.renderTarget.textures[o]=i,this._textures[e]=i,this._previousTextures[e]=r,this._textureNodes[e].updateTexture(),this._previousTextureNodes[e].updateTexture()}}getTextureNode(e="output"){let i=this._textureNodes[e];return i===void 0&&(i=mt(new V6(this,e)),i.updateTexture(),this._textureNodes[e]=i),i}getPreviousTextureNode(e="output"){let i=this._previousTextureNodes[e];return i===void 0&&(this._textureNodes[e]===void 0&&this.getTextureNode(e),i=mt(new V6(this,e,!0)),i.updateTexture(),this._previousTextureNodes[e]=i),i}getViewZNode(e="depth"){let i=this._viewZNodes[e];if(i===void 0){const r=this._cameraNear,o=this._cameraFar;this._viewZNodes[e]=i=sX(this.getTextureNode(e),r,o)}return i}getLinearDepthNode(e="depth"){let i=this._linearDepthNodes[e];if(i===void 0){const r=this._cameraNear,o=this._cameraFar,s=this.getViewZNode(e);this._linearDepthNodes[e]=i=$y(s,r,o)}return i}setup({renderer:e}){return this.renderTarget.samples=this.options.samples===void 0?e.samples:this.options.samples,e.backend.isWebGLBackend===!0&&(this.renderTarget.samples=0),this.scope===IC.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(e){const{renderer:i}=e,{scene:r,camera:o}=this;this._pixelRatio=i.getPixelRatio();const s=i.getSize(Z8e);this.setSize(s.width,s.height);const a=i.getRenderTarget(),l=i.getMRT();this._cameraNear.value=o.near,this._cameraFar.value=o.far;for(const u in this._previousTextures)this.toggleTexture(u);i.setRenderTarget(this.renderTarget),i.setMRT(this._mrt),i.render(r,o),i.setRenderTarget(a),i.setMRT(l)}setSize(e,i){this._width=e,this._height=i;const r=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget.setSize(r,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}IC.COLOR="color";IC.DEPTH="depth";const eHe=vt(([n,e])=>n.mul(e).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),tHe=vt(([n,e])=>(n=n.mul(e),n.div(n.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),nHe=vt(([n,e])=>{n=n.mul(e),n=n.sub(.004).max(0);const i=n.mul(n.mul(6.2).add(.5)),r=n.mul(n.mul(6.2).add(1.7)).add(.06);return i.div(r).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),iHe=vt(([n])=>{const e=n.mul(n.add(.0245786)).sub(90537e-9),i=n.mul(n.add(.432951).mul(.983729)).add(.238081);return e.div(i)}),rHe=vt(([n,e])=>{const i=Uo(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),r=Uo(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return n=n.mul(e).div(.6),n=i.mul(n),n=iHe(n),n=r.mul(n),n.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),oHe=Uo(tt(1.6605,-.1246,-.0182),tt(-.5876,1.1329,-.1006),tt(-.0728,-.0083,1.1187)),sHe=Uo(tt(.6274,.0691,.0164),tt(.3293,.9195,.088),tt(.0433,.0113,.8956)),aHe=vt(([n])=>{const e=tt(n).toVar(),i=tt(e.mul(e)).toVar(),r=tt(i.mul(i)).toVar();return Je(15.5).mul(r.mul(i)).sub(Rn(40.14,r.mul(e))).add(Rn(31.96,r).sub(Rn(6.868,i.mul(e))).add(Rn(.4298,i).add(Rn(.1191,e).sub(.00232))))}),lHe=vt(([n,e])=>{const i=tt(n).toVar(),r=Uo(tt(.856627153315983,.137318972929847,.11189821299995),tt(.0951212405381588,.761241990602591,.0767994186031903),tt(.0482516061458583,.101439036467562,.811302368396859)),o=Uo(tt(1.1271005818144368,-.1413297634984383,-.14132976349843826),tt(-.11060664309660323,1.157823702216272,-.11060664309660294),tt(-.016493938717834573,-.016493938717834257,1.2519364065950405)),s=Je(-12.47393),a=Je(4.026069);return i.mulAssign(e),i.assign(sHe.mul(i)),i.assign(r.mul(i)),i.assign(fs(i,1e-10)),i.assign(ac(i)),i.assign(i.sub(s).div(a.sub(s))),i.assign(yc(i,0,1)),i.assign(aHe(i)),i.assign(o.mul(i)),i.assign(CC(fs(tt(0),i),tt(2.2))),i.assign(oHe.mul(i)),i.assign(yc(i,0,1)),i}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),uHe=vt(([n,e])=>{const i=Je(.76),r=Je(.15);n=n.mul(e);const o=I0(n.r,I0(n.g,n.b)),s=os(o.lessThan(.08),o.sub(Rn(6.25,o.mul(o))),.04);n.subAssign(s);const a=fs(n.r,fs(n.g,n.b));hr(a.lessThan(i),()=>n);const l=ts(1,i),u=ts(1,l.mul(l).div(a.add(l.sub(i))));n.mulAssign(u.div(a));const c=ts(1,vc(1,r.mul(a.sub(u)).add(1)));return Si(n,tt(u),c)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class xr extends hn{static get type(){return"CodeNode"}constructor(e="",i=[],r=""){super("code"),this.isCodeNode=!0,this.code=e,this.includes=i,this.language=r}isGlobal(){return!0}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const i=this.getIncludes(e);for(const o of i)o.build(e);const r=e.getCodeFromNode(this,this.getNodeType(e));return r.code=this.code,r.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}class cHe extends xr{static get type(){return"FunctionNode"}constructor(e="",i=[],r=""){super(e,i,r)}getNodeType(e){return this.getNodeFunction(e).type}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const i=e.getDataFromNode(this);let r=i.nodeFunction;return r===void 0&&(r=e.parser.parseFunction(this.code),i.nodeFunction=r),r}generate(e,i){super.generate(e);const r=this.getNodeFunction(e),o=r.name,s=r.type,a=e.getCodeFromNode(this,s);o!==""&&(a.name=o);const l=e.getPropertyName(a),u=this.getNodeFunction(e).getCode(l);return a.code=u+`
`,i==="property"?l:e.format(`${l}()`,s,i)}}function MX(n){let e;const i=n.context.getViewZ;return i!==void 0&&(e=i(this)),(e||fr.z).negate()}const dHe=vt(([n,e],i)=>{const r=MX(i);return Ih(n,e,r)}),fHe=vt(([n],e)=>{const i=MX(e);return n.mul(n,i,i).negate().exp().oneMinus()}),W6=vt(([n,e])=>sn(e.toFloat().mix(e1.rgb,n.toVec3()),e1.a));class hHe extends hn{constructor(e){super(),this.scope=e}generate(e){const{scope:i}=this,{renderer:r}=e;r.backend.isWebGLBackend===!0?e.addFlowCode(`	// ${i}Barrier 
`):e.addLineFlowCode(`${i}Barrier()`,this)}}lt(hHe);class Zl extends Er{static get type(){return"AtomicFunctionNode"}constructor(e,i,r,o=null){super("uint"),this.method=e,this.pointerNode=i,this.valueNode=r,this.storeNode=o}getInputType(e){return this.pointerNode.getNodeType(e)}getNodeType(e){return this.getInputType(e)}generate(e){const i=this.method,r=this.getNodeType(e),o=this.getInputType(e),s=this.pointerNode,a=this.valueNode,l=[];l.push(`&${s.build(e,o)}`),l.push(a.build(e,o));const u=`${e.getMethod(i,r)}( ${l.join(", ")} )`;if(this.storeNode!==null){const c=this.storeNode.build(e,o);e.addLineFlowCode(`${c} = ${u}`,this)}else e.addLineFlowCode(u,this)}}Zl.ATOMIC_LOAD="atomicLoad";Zl.ATOMIC_STORE="atomicStore";Zl.ATOMIC_ADD="atomicAdd";Zl.ATOMIC_SUB="atomicSub";Zl.ATOMIC_MAX="atomicMax";Zl.ATOMIC_MIN="atomicMin";Zl.ATOMIC_AND="atomicAnd";Zl.ATOMIC_OR="atomicOr";Zl.ATOMIC_XOR="atomicXor";lt(Zl);let z_;function fb(n){z_=z_||new WeakMap;let e=z_.get(n);return e===void 0&&z_.set(n,e={}),e}function RX(n){const e=fb(n);return e.shadowMatrix||(e.shadowMatrix=un("mat4").setGroup(Zt).onRenderUpdate(()=>(n.castShadow!==!0&&n.shadow.updateMatrices(n),n.shadow.matrix)))}function pHe(n){const e=fb(n);if(e.projectionUV===void 0){const i=RX(n).mul(O0);e.projectionUV=i.xyz.div(i.w)}return e.projectionUV}function PX(n){const e=fb(n);return e.position||(e.position=un(new Te).setGroup(Zt).onRenderUpdate((i,r)=>r.value.setFromMatrixPosition(n.matrixWorld)))}function gHe(n){const e=fb(n);return e.targetPosition||(e.targetPosition=un(new Te).setGroup(Zt).onRenderUpdate((i,r)=>r.value.setFromMatrixPosition(n.target.matrixWorld)))}function ND(n){const e=fb(n);return e.viewPosition||(e.viewPosition=un(new Te).setGroup(Zt).onRenderUpdate(({camera:i},r)=>{r.value=r.value||new Te,r.value.setFromMatrixPosition(n.matrixWorld),r.value.applyMatrix4(i.matrixWorldInverse)}))}const IX=n=>Ic.transformDirection(PX(n).sub(gHe(n))),mHe=n=>n.sort((e,i)=>e.id-i.id),vHe=(n,e)=>{for(const i of e)if(i.isAnalyticLightNode&&i.light.id===n)return i;return null},UM=new WeakMap;class NX extends hn{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=tt().toVar("totalDiffuse"),this.totalSpecularNode=tt().toVar("totalSpecular"),this.outgoingLightNode=tt().toVar("outgoingLight"),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const e=[],i=this._lights;for(let r=0;r<i.length;r++)e.push(i[r].id);return aD(e)}getHash(e){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(e);const i=[];for(const r of this._lightNodes)i.push(r.getSelf().getHash());this._lightNodesHash="lights-"+i.join(",")}return this._lightNodesHash}analyze(e){const i=e.getDataFromNode(this);for(const r of i.nodes)r.build(e)}setupLightsNode(e){const i=[],r=this._lightNodes,o=mHe(this._lights),s=e.renderer.library;for(const a of o)if(a.isNode)i.push(mt(a));else{let l=null;if(r!==null&&(l=vHe(a.id,r)),l===null){const u=s.getLightNodeClass(a.constructor);if(u===null){console.warn(`LightsNode.setupNodeLights: Light node not found for ${a.constructor.name}`);continue}let c=null;UM.has(a)?c=UM.get(a):(c=mt(new u(a)),UM.set(a,c)),i.push(c)}}this._lightNodes=i}setupLights(e,i){for(const r of i)r.build(e)}setup(e){this._lightNodes===null&&this.setupLightsNode(e);const i=e.context,r=i.lightingModel;let o=this.outgoingLightNode;if(r){const{_lightNodes:s,totalDiffuseNode:a,totalSpecularNode:l}=this;i.outgoingLight=o;const u=e.addStack(),c=e.getDataFromNode(this);c.nodes=u.nodes,r.start(i,u,e),this.setupLights(e,s),r.indirect(i,u,e);const{backdrop:d,backdropAlpha:f}=i,{directDiffuse:h,directSpecular:p,indirectDiffuse:g,indirectSpecular:b}=i.reflectedLight;let y=h.add(g);d!==null&&(f!==null?y=tt(f.mix(y,d)):y=tt(d),i.material.transparent=!0),a.assign(y),l.assign(p.add(b)),o.assign(a.add(l)),r.finish(i,u,e),o=o.bypass(e.removeStack())}return o}setLights(e){return this._lights=e,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}class yHe extends hn{static get type(){return"ShadowBaseNode"}constructor(e){super(),this.light=e,this.updateBeforeType=An.RENDER,this.isShadowBaseNode=!0}setupShadowPosition({material:e}){OX.assign(e.shadowPositionNode||O0)}dispose(){this.updateBeforeType=An.NONE}}const OX=tt().toVar("shadowPositionWorld");function bHe(n,e={}){return e.toneMapping=n.toneMapping,e.toneMappingExposure=n.toneMappingExposure,e.outputColorSpace=n.outputColorSpace,e.renderTarget=n.getRenderTarget(),e.activeCubeFace=n.getActiveCubeFace(),e.activeMipmapLevel=n.getActiveMipmapLevel(),e.renderObjectFunction=n.getRenderObjectFunction(),e.pixelRatio=n.getPixelRatio(),e.mrt=n.getMRT(),e.clearColor=n.getClearColor(e.clearColor||new Ft),e.clearAlpha=n.getClearAlpha(),e.autoClear=n.autoClear,e.scissorTest=n.getScissorTest(),e}function xHe(n,e){return e=bHe(n,e),n.setMRT(null),n.setRenderObjectFunction(null),n.setClearColor(0,1),n.autoClear=!0,e}function _He(n,e){n.toneMapping=e.toneMapping,n.toneMappingExposure=e.toneMappingExposure,n.outputColorSpace=e.outputColorSpace,n.setRenderTarget(e.renderTarget,e.activeCubeFace,e.activeMipmapLevel),n.setRenderObjectFunction(e.renderObjectFunction),n.setPixelRatio(e.pixelRatio),n.setMRT(e.mrt),n.setClearColor(e.clearColor,e.clearAlpha),n.autoClear=e.autoClear,n.setScissorTest(e.scissorTest)}function SHe(n,e={}){return e.background=n.background,e.backgroundNode=n.backgroundNode,e.overrideMaterial=n.overrideMaterial,e}function wHe(n,e){return e=SHe(n,e),n.background=null,n.backgroundNode=null,n.overrideMaterial=null,e}function CHe(n,e){n.background=e.background,n.backgroundNode=e.backgroundNode,n.overrideMaterial=e.overrideMaterial}function AHe(n,e,i){return i=xHe(n,i),i=wHe(e,i),i}function THe(n,e,i){_He(n,i),CHe(e,i)}const j6=new WeakMap,EHe=vt(([n,e,i])=>{let r=O0.sub(n).length();return r=r.sub(e).div(i.sub(e)),r=r.saturate(),r}),MHe=n=>{const e=n.shadow.camera,i=ii("near","float",e).setGroup(Zt),r=ii("far","float",e).setGroup(Zt),o=_ze(n);return EHe(o,i,r)},RHe=n=>{let e=j6.get(n);if(e===void 0){const i=n.isPointLight?MHe(n):null;e=new pr,e.colorNode=sn(0,0,0,1),e.depthNode=i,e.isShadowNodeMaterial=!0,e.name="ShadowMaterial",e.fog=!1,j6.set(n,e)}return e},PHe=vt(({depthTexture:n,shadowCoord:e})=>Hn(n,e.xy).compare(e.z)),IHe=vt(({depthTexture:n,shadowCoord:e,shadow:i})=>{const r=(b,y)=>Hn(n,b).compare(y),o=ii("mapSize","vec2",i).setGroup(Zt),s=ii("radius","float",i).setGroup(Zt),a=_t(1).div(o),l=a.x.negate().mul(s),u=a.y.negate().mul(s),c=a.x.mul(s),d=a.y.mul(s),f=l.div(2),h=u.div(2),p=c.div(2),g=d.div(2);return ko(r(e.xy.add(_t(l,u)),e.z),r(e.xy.add(_t(0,u)),e.z),r(e.xy.add(_t(c,u)),e.z),r(e.xy.add(_t(f,h)),e.z),r(e.xy.add(_t(0,h)),e.z),r(e.xy.add(_t(p,h)),e.z),r(e.xy.add(_t(l,0)),e.z),r(e.xy.add(_t(f,0)),e.z),r(e.xy,e.z),r(e.xy.add(_t(p,0)),e.z),r(e.xy.add(_t(c,0)),e.z),r(e.xy.add(_t(f,g)),e.z),r(e.xy.add(_t(0,g)),e.z),r(e.xy.add(_t(p,g)),e.z),r(e.xy.add(_t(l,d)),e.z),r(e.xy.add(_t(0,d)),e.z),r(e.xy.add(_t(c,d)),e.z)).mul(1/17)}),NHe=vt(({depthTexture:n,shadowCoord:e,shadow:i})=>{const r=(d,f)=>Hn(n,d).compare(f),o=ii("mapSize","vec2",i).setGroup(Zt),s=_t(1).div(o),a=s.x,l=s.y,u=e.xy,c=Zd(u.mul(o).add(.5));return u.subAssign(c.mul(s)),ko(r(u,e.z),r(u.add(_t(a,0)),e.z),r(u.add(_t(0,l)),e.z),r(u.add(s),e.z),Si(r(u.add(_t(a.negate(),0)),e.z),r(u.add(_t(a.mul(2),0)),e.z),c.x),Si(r(u.add(_t(a.negate(),l)),e.z),r(u.add(_t(a.mul(2),l)),e.z),c.x),Si(r(u.add(_t(0,l.negate())),e.z),r(u.add(_t(0,l.mul(2))),e.z),c.y),Si(r(u.add(_t(a,l.negate())),e.z),r(u.add(_t(a,l.mul(2))),e.z),c.y),Si(Si(r(u.add(_t(a.negate(),l.negate())),e.z),r(u.add(_t(a.mul(2),l.negate())),e.z),c.x),Si(r(u.add(_t(a.negate(),l.mul(2))),e.z),r(u.add(_t(a.mul(2),l.mul(2))),e.z),c.x),c.y)).mul(1/9)}),OHe=vt(({depthTexture:n,shadowCoord:e})=>{const i=Je(1).toVar(),r=Hn(n).sample(e.xy).rg,o=$q(e.z,r.x);return hr(o.notEqual(Je(1)),()=>{const s=e.z.sub(r.x),a=fs(0,r.y.mul(r.y));let l=a.div(a.add(s.mul(s)));l=yc(ts(l,.3).div(.95-.3)),i.assign(yc(fs(o,l)))}),i}),DHe=vt(({samples:n,radius:e,size:i,shadowPass:r})=>{const o=Je(0).toVar(),s=Je(0).toVar(),a=n.lessThanEqual(Je(1)).select(Je(0),Je(2).div(n.sub(1))),l=n.lessThanEqual(Je(1)).select(Je(0),Je(-1));qa({start:ji(0),end:ji(n),type:"int",condition:"<"},({i:c})=>{const d=l.add(Je(c).mul(a)),f=r.sample(ko(MC.xy,_t(0,d).mul(e)).div(i)).x;o.addAssign(f),s.addAssign(f.mul(f))}),o.divAssign(n),s.divAssign(n);const u=mD(s.sub(o.mul(o)));return _t(o,u)}),LHe=vt(({samples:n,radius:e,size:i,shadowPass:r})=>{const o=Je(0).toVar(),s=Je(0).toVar(),a=n.lessThanEqual(Je(1)).select(Je(0),Je(2).div(n.sub(1))),l=n.lessThanEqual(Je(1)).select(Je(0),Je(-1));qa({start:ji(0),end:ji(n),type:"int",condition:"<"},({i:c})=>{const d=l.add(Je(c).mul(a)),f=r.sample(ko(MC.xy,_t(d,0).mul(e)).div(i));o.addAssign(f.x),s.addAssign(ko(f.y.mul(f.y),f.x.mul(f.x)))}),o.divAssign(n),s.divAssign(n);const u=mD(s.sub(o.mul(o)));return _t(o,u)}),BHe=[PHe,IHe,NHe,OHe];let kM;const H_=new EX;class DX extends yHe{static get type(){return"ShadowNode"}constructor(e,i=null){super(e),this.shadow=i||e.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this.isShadowNode=!0}setupShadowFilter(e,{filterFn:i,depthTexture:r,shadowCoord:o,shadow:s}){const a=o.x.greaterThanEqual(0).and(o.x.lessThanEqual(1)).and(o.y.greaterThanEqual(0)).and(o.y.lessThanEqual(1)).and(o.z.lessThanEqual(1)),l=i({depthTexture:r,shadowCoord:o,shadow:s});return a.select(l,Je(1))}setupShadowCoord(e,i){const{shadow:r}=this,{renderer:o}=e,s=ii("bias","float",r).setGroup(Zt);let a=i,l;if(r.camera.isOrthographicCamera||o.logarithmicDepthBuffer!==!0)a=a.xyz.div(a.w),l=a.z,o.coordinateSystem===zd&&(l=l.mul(2).sub(1));else{const u=a.w;a=a.xy.div(u);const c=ii("near","float",r.camera).setGroup(Zt),d=ii("far","float",r.camera).setGroup(Zt);l=aX(u.negate(),c,d)}return a=tt(a.x,a.y.oneMinus(),l.add(s)),a}getShadowFilterFn(e){return BHe[e]}setupShadow(e){const{renderer:i}=e,{light:r,shadow:o}=this,s=i.shadowMap.type,a=new Yd(o.mapSize.width,o.mapSize.height);a.compareFunction=cC;const l=e.createRenderTarget(o.mapSize.width,o.mapSize.height);if(l.depthTexture=a,o.camera.updateProjectionMatrix(),s===Ns){a.compareFunction=null,this.vsmShadowMapVertical=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:Ph,type:Bo}),this.vsmShadowMapHorizontal=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:Ph,type:Bo});const m=Hn(a),_=Hn(this.vsmShadowMapVertical.texture),S=ii("blurSamples","float",o).setGroup(Zt),w=ii("radius","float",o).setGroup(Zt),A=ii("mapSize","vec2",o).setGroup(Zt);let T=this.vsmMaterialVertical||(this.vsmMaterialVertical=new pr);T.fragmentNode=DHe({samples:S,radius:w,size:A,shadowPass:m}).context(e.getSharedContext()),T.name="VSMVertical",T=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new pr),T.fragmentNode=LHe({samples:S,radius:w,size:A,shadowPass:_}).context(e.getSharedContext()),T.name="VSMHorizontal"}const u=ii("intensity","float",o).setGroup(Zt),c=ii("normalBias","float",o).setGroup(Zt),d=RX(r).mul(OX.add(AD.mul(c))),f=this.setupShadowCoord(e,d),h=o.filterNode||this.getShadowFilterFn(i.shadowMap.type)||null;if(h===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const p=s===Ns?this.vsmShadowMapHorizontal.texture:a,g=this.setupShadowFilter(e,{filterFn:h,shadowTexture:l.texture,depthTexture:p,shadowCoord:f,shadow:o}),b=Hn(l.texture,f),y=Si(1,g.rgb.mix(b,1),u.mul(b.a)).toVar();return this.shadowMap=l,this.shadow.map=l,y}setup(e){if(e.renderer.shadowMap.enabled!==!1)return vt(()=>{let i=this._node;return this.setupShadowPosition(e),i===null&&(this._node=i=this.setupShadow(e)),e.material.shadowNode&&console.warn('THREE.NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'),e.material.receivedShadowNode&&(i=e.material.receivedShadowNode(i)),i})()}renderShadow(e){const{shadow:i,shadowMap:r,light:o}=this,{renderer:s,scene:a}=e;i.updateMatrices(o),r.setSize(i.mapSize.width,i.mapSize.height),s.render(a,i.camera)}updateShadow(e){const{shadowMap:i,light:r,shadow:o}=this,{renderer:s,scene:a,camera:l}=e,u=s.shadowMap.type,c=i.depthTexture.version;this._depthVersionCached=c,o.camera.layers.mask=l.layers.mask;const d=s.getRenderObjectFunction(),f=s.getMRT(),h=f?f.has("velocity"):!1;kM=AHe(s,a,kM),a.overrideMaterial=RHe(r),s.setRenderObjectFunction((p,g,b,y,m,_,...S)=>{(p.castShadow===!0||p.receiveShadow&&u===Ns)&&(h&&(pq(p).useVelocity=!0),p.onBeforeShadow(s,p,l,o.camera,y,g.overrideMaterial,_),s.renderObject(p,g,b,y,m,_,...S),p.onAfterShadow(s,p,l,o.camera,y,g.overrideMaterial,_))}),s.setRenderTarget(i),this.renderShadow(e),s.setRenderObjectFunction(d),r.isPointLight!==!0&&u===Ns&&this.vsmPass(s),THe(s,a,kM)}vsmPass(e){const{shadow:i}=this;this.vsmShadowMapVertical.setSize(i.mapSize.width,i.mapSize.height),this.vsmShadowMapHorizontal.setSize(i.mapSize.width,i.mapSize.height),e.setRenderTarget(this.vsmShadowMapVertical),H_.material=this.vsmMaterialVertical,H_.render(e),e.setRenderTarget(this.vsmShadowMapHorizontal),H_.material=this.vsmMaterialHorizontal,H_.render(e)}dispose(){this.shadowMap.dispose(),this.shadowMap=null,this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null),super.dispose()}updateBefore(e){const{shadow:i}=this;(i.needsUpdate||i.autoUpdate)&&(this.updateShadow(e),this.shadowMap.depthTexture.version===this._depthVersionCached&&(i.needsUpdate=!1))}}const FHe=(n,e)=>mt(new DX(n,e));class Gh extends Hm{static get type(){return"AnalyticLightNode"}constructor(e=null){super(),this.light=e,this.color=new Ft,this.colorNode=e&&e.colorNode||un(this.color).setGroup(Zt),this.baseColorNode=null,this.shadowNode=null,this.shadowColorNode=null,this.isAnalyticLightNode=!0,this.updateType=An.FRAME}customCacheKey(){return lD(this.light.id,this.light.castShadow?1:0)}getHash(){return this.light.uuid}setupShadowNode(){return FHe(this.light)}setupShadow(e){const{renderer:i}=e;if(i.shadowMap.enabled===!1)return;let r=this.shadowColorNode;if(r===null){const o=this.light.shadow.shadowNode;let s;o!==void 0?s=mt(o):s=this.setupShadowNode(e),this.shadowNode=s,this.shadowColorNode=r=this.colorNode.mul(s),this.baseColorNode=this.colorNode}this.colorNode=r}setup(e){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?e.object.receiveShadow&&this.setupShadow(e):this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null,this.shadowColorNode=null)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}const LX=vt(n=>{const{lightDistance:e,cutoffDistance:i,decayExponent:r}=n,o=e.pow(r).max(.01).reciprocal();return i.greaterThan(0).select(o.mul(e.div(i).pow4().oneMinus().clamp().pow2()),o)}),$He=new Ft,yl=vt(([n,e])=>{const i=n.toVar(),r=la(i),o=vc(1,fs(r.x,fs(r.y,r.z)));r.mulAssign(o),i.mulAssign(o.mul(e.mul(2).oneMinus()));const s=_t(i.xy).toVar(),l=e.mul(1.5).oneMinus();return hr(r.z.greaterThanEqual(l),()=>{hr(i.z.greaterThan(0),()=>{s.x.assign(ts(4,i.x))})}).ElseIf(r.x.greaterThanEqual(l),()=>{const u=t1(i.x);s.x.assign(i.z.mul(u).add(u.mul(2)))}).ElseIf(r.y.greaterThanEqual(l),()=>{const u=t1(i.y);s.x.assign(i.x.add(u.mul(2)).add(2)),s.y.assign(i.z.mul(u).sub(2))}),_t(.125,.25).mul(s).add(_t(.375,.75)).flipY()}).setLayout({name:"cubeToUV",type:"vec2",inputs:[{name:"pos",type:"vec3"},{name:"texelSizeY",type:"float"}]}),UHe=vt(({depthTexture:n,bd3D:e,dp:i,texelSize:r})=>Hn(n,yl(e,r.y)).compare(i)),kHe=vt(({depthTexture:n,bd3D:e,dp:i,texelSize:r,shadow:o})=>{const s=ii("radius","float",o).setGroup(Zt),a=_t(-1,1).mul(s).mul(r.y);return Hn(n,yl(e.add(a.xyy),r.y)).compare(i).add(Hn(n,yl(e.add(a.yyy),r.y)).compare(i)).add(Hn(n,yl(e.add(a.xyx),r.y)).compare(i)).add(Hn(n,yl(e.add(a.yyx),r.y)).compare(i)).add(Hn(n,yl(e,r.y)).compare(i)).add(Hn(n,yl(e.add(a.xxy),r.y)).compare(i)).add(Hn(n,yl(e.add(a.yxy),r.y)).compare(i)).add(Hn(n,yl(e.add(a.xxx),r.y)).compare(i)).add(Hn(n,yl(e.add(a.yxx),r.y)).compare(i)).mul(1/9)}),zHe=vt(({filterFn:n,depthTexture:e,shadowCoord:i,shadow:r})=>{const o=i.xyz.toVar(),s=o.length(),a=un("float").setGroup(Zt).onRenderUpdate(()=>r.camera.near),l=un("float").setGroup(Zt).onRenderUpdate(()=>r.camera.far),u=ii("bias","float",r).setGroup(Zt),c=un(r.mapSize).setGroup(Zt),d=Je(1).toVar();return hr(s.sub(l).lessThanEqual(0).and(s.sub(a).greaterThanEqual(0)),()=>{const f=s.sub(a).div(l.sub(a)).toVar();f.addAssign(u);const h=o.normalize(),p=_t(1).div(c.mul(_t(4,2)));d.assign(n({depthTexture:e,bd3D:h,dp:f,texelSize:p,shadow:r}))}),d}),K6=new fn,Xp=new Tt,jv=new Tt;class HHe extends DX{static get type(){return"PointShadowNode"}constructor(e,i=null){super(e,i)}getShadowFilterFn(e){return e===BNe?UHe:kHe}setupShadowCoord(e,i){return i}setupShadowFilter(e,{filterFn:i,shadowTexture:r,depthTexture:o,shadowCoord:s,shadow:a}){return zHe({filterFn:i,shadowTexture:r,depthTexture:o,shadowCoord:s,shadow:a})}renderShadow(e){const{shadow:i,shadowMap:r,light:o}=this,{renderer:s,scene:a}=e,l=i.getFrameExtents();jv.copy(i.mapSize),jv.multiply(l),r.setSize(jv.width,jv.height),Xp.copy(i.mapSize);const u=s.autoClear,c=s.getClearColor($He),d=s.getClearAlpha();s.autoClear=!1,s.setClearColor(i.clearColor,i.clearAlpha),s.clear();const f=i.getViewportCount();for(let h=0;h<f;h++){const p=i.getViewport(h),g=Xp.x*p.x,b=jv.y-Xp.y-Xp.y*p.y;K6.set(g,b,Xp.x*p.z,Xp.y*p.w),r.viewport.copy(K6),i.updateMatrices(o,h),s.render(a,i.camera)}s.autoClear=u,s.setClearColor(c,d)}}const GHe=(n,e)=>mt(new HHe(n,e)),VHe=vt(({color:n,lightViewPosition:e,cutoffDistance:i,decayExponent:r},o)=>{const s=o.context.lightingModel,a=e.sub(fr),l=a.normalize(),u=a.length(),c=LX({lightDistance:u,cutoffDistance:i,decayExponent:r}),d=n.mul(c),f=o.context.reflectedLight;s.direct({lightDirection:l,lightColor:d,reflectedLight:f},o.stack,o)});class WHe extends Gh{static get type(){return"PointLightNode"}constructor(e=null){super(e),this.cutoffDistanceNode=un(0).setGroup(Zt),this.decayExponentNode=un(2).setGroup(Zt)}update(e){const{light:i}=this;super.update(e),this.cutoffDistanceNode.value=i.distance,this.decayExponentNode.value=i.decay}setupShadowNode(){return GHe(this.light)}setup(e){super.setup(e),VHe({color:this.colorNode,lightViewPosition:ND(this.light),cutoffDistance:this.cutoffDistanceNode,decayExponent:this.decayExponentNode}).append()}}const jHe=vt(([n,e])=>{const i=n.x,r=n.y,o=n.z;let s=e.element(0).mul(.886227);return s=s.add(e.element(1).mul(2*.511664).mul(r)),s=s.add(e.element(2).mul(2*.511664).mul(o)),s=s.add(e.element(3).mul(2*.511664).mul(i)),s=s.add(e.element(4).mul(2*.429043).mul(i).mul(r)),s=s.add(e.element(5).mul(2*.429043).mul(r).mul(o)),s=s.add(e.element(6).mul(o.mul(o).mul(.743125).sub(.247708))),s=s.add(e.element(7).mul(2*.429043).mul(i).mul(o)),s=s.add(e.element(8).mul(.429043).mul(Rn(i,i).sub(Rn(r,r)))),s}),Iu=new ID;class KHe extends Jd{constructor(e,i){super(),this.renderer=e,this.nodes=i}update(e,i,r){const o=this.renderer,s=this.nodes.getBackgroundNode(e)||e.background;let a=!1;if(s===null)o._clearColor.getRGB(Iu,ma),Iu.a=o._clearColor.a;else if(s.isColor===!0)s.getRGB(Iu,ma),Iu.a=1,a=!0;else if(s.isNode===!0){const l=this.get(e),u=s;Iu.copy(o._clearColor);let c=l.backgroundMesh;if(c===void 0){const f=bD(sn(u).mul(G6),{getUV:()=>Q8e.mul(Xq),getTextureLevel:()=>Y8e});let h=nX;h=h.setZ(h.w);const p=new pr;p.name="Background.material",p.side=Di,p.depthTest=!1,p.depthWrite=!1,p.fog=!1,p.lights=!1,p.vertexNode=h,p.colorNode=f,l.backgroundMeshNode=f,l.backgroundMesh=c=new Vr(new xK(1,32,32),p),c.frustumCulled=!1,c.name="Background.mesh",c.onBeforeRender=function(g,b,y){this.matrixWorld.copyPosition(y.matrixWorld)}}const d=u.getCacheKey();l.backgroundCacheKey!==d&&(l.backgroundMeshNode.node=sn(u).mul(G6),l.backgroundMeshNode.needsUpdate=!0,c.material.needsUpdate=!0,l.backgroundCacheKey=d),i.unshift(c,c.geometry,c.material,0,0,null,null)}else console.error("THREE.Renderer: Unsupported background configuration.",s);if(o.autoClear===!0||a===!0){const l=r.clearColorValue;l.r=Iu.r,l.g=Iu.g,l.b=Iu.b,l.a=Iu.a,(o.backend.isWebGLBackend===!0||o.alpha===!0)&&(l.r*=l.a,l.g*=l.a,l.b*=l.a),r.depthClearValue=o._clearDepth,r.stencilClearValue=o._clearStencil,r.clearColor=o.autoClearColor===!0,r.clearDepth=o.autoClearDepth===!0,r.clearStencil=o.autoClearStencil===!0}else r.clearColor=!1,r.clearDepth=!1,r.clearStencil=!1}}let qHe=0;class FP{constructor(e="",i=[],r=0,o=[]){this.name=e,this.bindings=i,this.index=r,this.bindingsReference=o,this.id=qHe++}}class XHe{constructor(e,i,r,o,s,a,l,u,c,d=[]){this.vertexShader=e,this.fragmentShader=i,this.computeShader=r,this.transforms=d,this.nodeAttributes=o,this.bindings=s,this.updateNodes=a,this.updateBeforeNodes=l,this.updateAfterNodes=u,this.monitor=c,this.usedTimes=0}createBindings(){const e=[];for(const i of this.bindings)if(i.bindings[0].groupNode.shared!==!0){const o=new FP(i.name,[],i.index,i);e.push(o);for(const s of i.bindings)o.bindings.push(s.clone())}else e.push(i);return e}}class q6{constructor(e,i,r=null){this.isNodeAttribute=!0,this.name=e,this.type=i,this.node=r}}class YHe{constructor(e,i,r){this.isNodeUniform=!0,this.name=e,this.type=i,this.node=r.getSelf()}get value(){return this.node.value}set value(e){this.node.value=e}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class BX{constructor(e,i){this.isNodeVar=!0,this.name=e,this.type=i}}class QHe extends BX{constructor(e,i){super(e,i),this.needsInterpolation=!1,this.isNodeVarying=!0}}class ZHe{constructor(e,i,r=""){this.name=e,this.type=i,this.code=r,Object.defineProperty(this,"isNodeCode",{value:!0})}}let JHe=0;class zM{constructor(e=null){this.id=JHe++,this.nodesData=new WeakMap,this.parent=e}getData(e){let i=this.nodesData.get(e);return i===void 0&&this.parent!==null&&(i=this.parent.getData(e)),i}setData(e,i){this.nodesData.set(e,i)}}class eGe extends hn{static get type(){return"StructTypeNode"}constructor(e,i){super(),this.name=e,this.types=i,this.isStructTypeNode=!0}getMemberTypes(){return this.types}}class Vh{constructor(e,i){this.name=e,this.value=i,this.boundary=0,this.itemSize=0,this.offset=0}setValue(e){this.value=e}getValue(){return this.value}}class tGe extends Vh{constructor(e,i=0){super(e,i),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class nGe extends Vh{constructor(e,i=new Tt){super(e,i),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class iGe extends Vh{constructor(e,i=new Te){super(e,i),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class rGe extends Vh{constructor(e,i=new fn){super(e,i),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class oGe extends Vh{constructor(e,i=new Ft){super(e,i),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class sGe extends Vh{constructor(e,i=new on){super(e,i),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class aGe extends Vh{constructor(e,i=new ri){super(e,i),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class lGe extends tGe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class uGe extends nGe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class cGe extends iGe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class dGe extends rGe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class fGe extends oGe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class hGe extends sGe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class pGe extends aGe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}const pg=4,X6=[.125,.215,.35,.446,.526,.582],Yf=20,HM=new sb(-1,1,1,-1,0,1),gGe=new Po(90,1),Y6=new Ft;let GM=null,VM=0,WM=0;const Bf=(1+Math.sqrt(5))/2,Yp=1/Bf,Q6=[new Te(-Bf,Yp,0),new Te(Bf,Yp,0),new Te(-Yp,0,Bf),new Te(Yp,0,Bf),new Te(0,Bf,-Yp),new Te(0,Bf,Yp),new Te(-1,1,-1),new Te(1,1,-1),new Te(-1,1,1),new Te(1,1,1)],mGe=[3,1,5,0,4,2],jM=W6e(TC(),bc("faceIndex")).normalize(),OD=tt(jM.x,jM.y,jM.z);class vGe{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(e,i=0,r=.1,o=100,s=null){if(this._setSize(256),this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromScene() called before the backend is initialized. Try using .fromSceneAsync() instead.");const l=s||this._allocateTargets();return this.fromSceneAsync(e,i,r,o,l),l}GM=this._renderer.getRenderTarget(),VM=this._renderer.getActiveCubeFace(),WM=this._renderer.getActiveMipmapLevel();const a=s||this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,o,a),i>0&&this._blur(a,0,0,i),this._applyPMREM(a),this._cleanup(a),a}async fromSceneAsync(e,i=0,r=.1,o=100,s=null){return this._hasInitialized===!1&&await this._renderer.init(),this.fromScene(e,i,r,o,s)}fromEquirectangular(e,i=null){if(this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using .fromEquirectangularAsync() instead."),this._setSizeFromTexture(e);const r=i||this._allocateTargets();return this.fromEquirectangularAsync(e,r),r}return this._fromTexture(e,i)}async fromEquirectangularAsync(e,i=null){return this._hasInitialized===!1&&await this._renderer.init(),this._fromTexture(e,i)}fromCubemap(e,i=null){if(this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(e);const r=i||this._allocateTargets();return this.fromCubemapAsync(e,i),r}return this._fromTexture(e,i)}async fromCubemapAsync(e,i=null){return this._hasInitialized===!1&&await this._renderer.init(),this._fromTexture(e,i)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=J6(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=e8(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(e){e.mapping===Sa||e.mapping===wa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4)}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(GM,VM,WM),e.scissorTest=!1,G_(e,0,0,e.width,e.height)}_fromTexture(e,i){this._setSizeFromTexture(e),GM=this._renderer.getRenderTarget(),VM=this._renderer.getActiveCubeFace(),WM=this._renderer.getActiveMipmapLevel();const r=i||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,r={magFilter:Sr,minFilter:Sr,generateMipmaps:!1,type:Bo,format:Gr,colorSpace:ma},o=Z6(e,i,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Z6(e,i,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas,lodMeshes:this._lodMeshes}=yGe(s)),this._blurMaterial=bGe(s,e,i)}return o}async _compileMaterial(e){const i=new Vr(this._lodPlanes[0],e);await this._renderer.compile(i,HM)}_sceneToCubeUV(e,i,r,o){const s=gGe;s.near=i,s.far=r;const a=[1,1,1,1,-1,1],l=[1,-1,1,-1,1,-1],u=this._renderer,c=u.autoClear;u.getClearColor(Y6),u.autoClear=!1;let d=this._backgroundBox;if(d===null){const p=new ob({name:"PMREM.Background",side:Di,depthWrite:!1,depthTest:!1});d=new Vr(new zh,p)}let f=!1;const h=e.background;h?h.isColor&&(d.material.color.copy(h),e.background=null,f=!0):(d.material.color.copy(Y6),f=!0),u.setRenderTarget(o),u.clear(),f&&u.render(d,s);for(let p=0;p<6;p++){const g=p%3;g===0?(s.up.set(0,a[p],0),s.lookAt(l[p],0,0)):g===1?(s.up.set(0,0,a[p]),s.lookAt(0,l[p],0)):(s.up.set(0,a[p],0),s.lookAt(0,0,l[p]));const b=this._cubeSize;G_(o,g*b,p>2?b:0,b,b),u.render(e,s)}u.autoClear=c,e.background=h}_textureToCubeUV(e,i){const r=this._renderer,o=e.mapping===Sa||e.mapping===wa;o?this._cubemapMaterial===null&&(this._cubemapMaterial=J6(e)):this._equirectMaterial===null&&(this._equirectMaterial=e8(e));const s=o?this._cubemapMaterial:this._equirectMaterial;s.fragmentNode.value=e;const a=this._lodMeshes[0];a.material=s;const l=this._cubeSize;G_(i,0,0,3*l,2*l),r.setRenderTarget(i),r.render(a,HM)}_applyPMREM(e){const i=this._renderer,r=i.autoClear;i.autoClear=!1;const o=this._lodPlanes.length;for(let s=1;s<o;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=Q6[(o-s-1)%Q6.length];this._blur(e,s-1,s,a,l)}i.autoClear=r}_blur(e,i,r,o,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,i,r,o,"latitudinal",s),this._halfBlur(a,e,r,r,o,"longitudinal",s)}_halfBlur(e,i,r,o,s,a,l){const u=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=this._lodMeshes[o];f.material=c;const h=c.uniforms,p=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*Yf-1),b=s/g,y=isFinite(s)?1+Math.floor(d*b):Yf;y>Yf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Yf}`);const m=[];let _=0;for(let C=0;C<Yf;++C){const R=C/b,E=Math.exp(-R*R/2);m.push(E),C===0?_+=E:C<y&&(_+=2*E)}for(let C=0;C<m.length;C++)m[C]=m[C]/_;e.texture.frame=(e.texture.frame||0)+1,h.envMap.value=e.texture,h.samples.value=y,h.weights.array=m,h.latitudinal.value=a==="latitudinal"?1:0,l&&(h.poleAxis.value=l);const{_lodMax:S}=this;h.dTheta.value=g,h.mipInt.value=S-r;const w=this._sizeLods[o],A=3*w*(o>S-pg?o-S+pg:0),T=4*(this._cubeSize-w);G_(i,A,T,3*w,2*w),u.setRenderTarget(i),u.render(f,HM)}}function yGe(n){const e=[],i=[],r=[],o=[];let s=n;const a=n-pg+1+X6.length;for(let l=0;l<a;l++){const u=Math.pow(2,s);i.push(u);let c=1/u;l>n-pg?c=X6[l-n+pg-1]:l===0&&(c=0),r.push(c);const d=1/(u-2),f=-d,h=1+d,p=[f,f,h,f,h,h,f,f,h,h,f,h],g=6,b=6,y=3,m=2,_=1,S=new Float32Array(y*b*g),w=new Float32Array(m*b*g),A=new Float32Array(_*b*g);for(let C=0;C<g;C++){const R=C%3*2/3-1,E=C>2?0:-1,P=[R,E,0,R+2/3,E,0,R+2/3,E+1,0,R,E,0,R+2/3,E+1,0,R,E+1,0],I=mGe[C];S.set(P,y*b*I),w.set(p,m*b*I);const D=[I,I,I,I,I,I];A.set(D,_*b*I)}const T=new Tc;T.setAttribute("position",new po(S,y)),T.setAttribute("uv",new po(w,m)),T.setAttribute("faceIndex",new po(A,_)),e.push(T),o.push(new Vr(T,null)),s>pg&&s--}return{lodPlanes:e,sizeLods:i,sigmas:r,lodMeshes:o}}function Z6(n,e,i){const r=new Lm(n,e,i);return r.texture.mapping=Eh,r.texture.name="PMREM.cubeUv",r.texture.isPMREMTexture=!0,r.scissorTest=!0,r}function G_(n,e,i,r,o){n.viewport.set(e,i,r,o),n.scissor.set(e,i,r,o)}function DD(n){const e=new pr;return e.depthTest=!1,e.depthWrite=!1,e.blending=ls,e.name=`PMREM_${n}`,e}function bGe(n,e,i){const r=bd(new Array(Yf).fill(0)),o=un(new Te(0,1,0)),s=un(0),a=Je(Yf),l=un(0),u=un(1),c=Hn(null),d=un(0),f=Je(1/e),h=Je(1/i),p=Je(n),g={n:a,latitudinal:l,weights:r,poleAxis:o,outputDirection:OD,dTheta:s,samples:u,envMap:c,mipInt:d,CUBEUV_TEXEL_WIDTH:f,CUBEUV_TEXEL_HEIGHT:h,CUBEUV_MAX_MIP:p},b=DD("blur");return b.uniforms=g,b.fragmentNode=K6e({...g,latitudinal:l.equal(1)}),b}function J6(n){const e=DD("cubemap");return e.fragmentNode=D0(n,OD),e}function e8(n){const e=DD("equirect");return e.fragmentNode=Hn(n,cX(OD),0),e}const t8=new WeakMap,xGe=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),V_=n=>/e/g.test(n)?String(n).replace(/\+/g,""):(n=Number(n),n+(n%1?"":".0"));class FX{constructor(e,i,r){this.object=e,this.material=e&&e.material||null,this.geometry=e&&e.geometry||null,this.renderer=i,this.parser=r,this.scene=null,this.camera=null,this.nodes=[],this.sequentialNodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.monitor=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.flow={code:""},this.chaining=[],this.stack=BM(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new zM,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null,this.useComparisonMethod=!1}getBindGroupsCache(){let e=t8.get(this.renderer);return e===void 0&&(e=new ql,t8.set(this.renderer,e)),e}createRenderTarget(e,i,r){return new Lm(e,i,r)}createCubeRenderTarget(e,i){return new dX(e,i)}createPMREMGenerator(){return new vGe(this.renderer)}includes(e){return this.nodes.includes(e)}_getBindGroup(e,i){const r=this.getBindGroupsCache(),o=[];let s=!0;for(const l of i)o.push(l),s=s&&l.groupNode.shared!==!0;let a;return s?(a=r.get(o),a===void 0&&(a=new FP(e,o,this.bindingsIndexes[e].group,o),r.set(o,a))):a=new FP(e,o,this.bindingsIndexes[e].group,o),a}getBindGroupArray(e,i){const r=this.bindings[i];let o=r[e];return o===void 0&&(this.bindingsIndexes[e]===void 0&&(this.bindingsIndexes[e]={binding:0,group:Object.keys(this.bindingsIndexes).length}),r[e]=o=[]),o}getBindings(){let e=this.bindGroups;if(e===null){const i={},r=this.bindings;for(const o of i6)for(const s in r[o]){const a=r[o][s];(i[s]||(i[s]=[])).push(...a)}e=[];for(const o in i){const s=i[o],a=this._getBindGroup(o,s);e.push(a)}this.bindGroups=e}return e}sortBindingGroups(){const e=this.getBindings();e.sort((i,r)=>i.bindings[0].groupNode.order-r.bindings[0].groupNode.order);for(let i=0;i<e.length;i++){const r=e[i];this.bindingsIndexes[r.name].group=i,r.index=i}}setHashNode(e,i){this.hashNodes[i]=e}addNode(e){this.nodes.includes(e)===!1&&(this.nodes.push(e),this.setHashNode(e,e.getHash(this)))}addSequentialNode(e){this.sequentialNodes.includes(e)===!1&&this.sequentialNodes.push(e)}buildUpdateNodes(){for(const e of this.nodes)e.getUpdateType()!==An.NONE&&this.updateNodes.push(e.getSelf());for(const e of this.sequentialNodes){const i=e.getUpdateBeforeType(),r=e.getUpdateAfterType();i!==An.NONE&&this.updateBeforeNodes.push(e.getSelf()),r!==An.NONE&&this.updateAfterNodes.push(e.getSelf())}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(e){return e.magFilter===Sr||e.magFilter===Ng||e.magFilter===Rl||e.magFilter===is||e.minFilter===Sr||e.minFilter===Ng||e.minFilter===Rl||e.minFilter===is}addChain(e){this.chaining.push(e)}removeChain(e){if(this.chaining.pop()!==e)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(e){return e}getNodeFromHash(e){return this.hashNodes[e]}addFlow(e,i){return this.flowNodes[e].push(i),i}setContext(e){this.context=e}getContext(){return this.context}getSharedContext(){return{...this.context},this.context}setCache(e){this.cache=e}getCache(){return this.cache}getCacheFromNode(e,i=!0){const r=this.getDataFromNode(e);return r.cache===void 0&&(r.cache=new zM(i?this.getCache():null)),r.cache}isAvailable(){return!1}getVertexIndex(){console.warn("Abstract function.")}getInstanceIndex(){console.warn("Abstract function.")}getDrawIndex(){console.warn("Abstract function.")}getFrontFacing(){console.warn("Abstract function.")}getFragCoord(){console.warn("Abstract function.")}isFlipY(){return!1}increaseUsage(e){const i=this.getDataFromNode(e);return i.usageCount=i.usageCount===void 0?1:i.usageCount+1,i.usageCount}generateTexture(){console.warn("Abstract function.")}generateTextureLod(){console.warn("Abstract function.")}generateConst(e,i=null){if(i===null&&(e==="float"||e==="int"||e==="uint"?i=0:e==="bool"?i=!1:e==="color"?i=new Ft:e==="vec2"?i=new Tt:e==="vec3"?i=new Te:e==="vec4"&&(i=new fn)),e==="float")return V_(i);if(e==="int")return`${Math.round(i)}`;if(e==="uint")return i>=0?`${Math.round(i)}u`:"0u";if(e==="bool")return i?"true":"false";if(e==="color")return`${this.getType("vec3")}( ${V_(i.r)}, ${V_(i.g)}, ${V_(i.b)} )`;const r=this.getTypeLength(e),o=this.getComponentType(e),s=a=>this.generateConst(o,a);if(r===2)return`${this.getType(e)}( ${s(i.x)}, ${s(i.y)} )`;if(r===3)return`${this.getType(e)}( ${s(i.x)}, ${s(i.y)}, ${s(i.z)} )`;if(r===4)return`${this.getType(e)}( ${s(i.x)}, ${s(i.y)}, ${s(i.z)}, ${s(i.w)} )`;if(r>4&&i&&(i.isMatrix3||i.isMatrix4))return`${this.getType(e)}( ${i.elements.map(s).join(", ")} )`;if(r>4)return`${this.getType(e)}()`;throw new Error(`NodeBuilder: Type '${e}' not found in generate constant attempt.`)}getType(e){return e==="color"?"vec3":e}hasGeometryAttribute(e){return this.geometry&&this.geometry.getAttribute(e)!==void 0}getAttribute(e,i){const r=this.attributes;for(const s of r)if(s.name===e)return s;const o=new q6(e,i);return r.push(o),o}getPropertyName(e){return e.name}isVector(e){return/vec\d/.test(e)}isMatrix(e){return/mat\d/.test(e)}isReference(e){return e==="void"||e==="property"||e==="sampler"||e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="depthTexture"||e==="texture3D"}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(e){const i=e.type;if(e.isDataTexture){if(i===Dr)return"int";if(i===zi)return"uint"}return"float"}getElementType(e){return e==="mat2"?"vec2":e==="mat3"?"vec3":e==="mat4"?"vec4":this.getComponentType(e)}getComponentType(e){if(e=this.getVectorType(e),e==="float"||e==="bool"||e==="int"||e==="uint")return e;const i=/(b|i|u|)(vec|mat)([2-4])/.exec(e);return i===null?null:i[1]==="b"?"bool":i[1]==="i"?"int":i[1]==="u"?"uint":"float"}getVectorType(e){return e==="color"?"vec3":e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="texture3D"?"vec4":e}getTypeFromLength(e,i="float"){if(e===1)return i;const r=o4e(e);return(i==="float"?"":i[0])+r}getTypeFromArray(e){return xGe.get(e.constructor)}getTypeFromAttribute(e){let i=e;e.isInterleavedBufferAttribute&&(i=e.data);const r=i.array,o=e.itemSize,s=e.normalized;let a;return!(e instanceof cK)&&s!==!0&&(a=this.getTypeFromArray(r)),this.getTypeFromLength(o,a)}getTypeLength(e){const i=this.getVectorType(e),r=/vec([2-4])/.exec(i);return r!==null?Number(r[1]):i==="float"||i==="bool"||i==="int"||i==="uint"?1:/mat2/.test(e)===!0?4:/mat3/.test(e)===!0?9:/mat4/.test(e)===!0?16:0}getVectorFromMatrix(e){return e.replace("mat","vec")}changeComponentType(e,i){return this.getTypeFromLength(this.getTypeLength(e),i)}getIntegerType(e){const i=this.getComponentType(e);return i==="int"||i==="uint"?e:this.changeComponentType(e,"int")}addStack(){return this.stack=BM(this.stack),this.stacks.push(bq()||this.stack),Xw(this.stack),this.stack}removeStack(){const e=this.stack;return this.stack=e.parent,Xw(this.stacks.pop()),e}getDataFromNode(e,i=this.shaderStage,r=null){r=r===null?e.isGlobal(this)?this.globalCache:this.cache:r;let o=r.getData(e);return o===void 0&&(o={},r.setData(e,o)),o[i]===void 0&&(o[i]={}),o[i]}getNodeProperties(e,i="any"){const r=this.getDataFromNode(e,i);return r.properties||(r.properties={outputNode:null})}getBufferAttributeFromNode(e,i){const r=this.getDataFromNode(e);let o=r.bufferAttribute;if(o===void 0){const s=this.uniforms.index++;o=new q6("nodeAttribute"+s,i,e),this.bufferAttributes.push(o),r.bufferAttribute=o}return o}getStructTypeFromNode(e,i,r=this.shaderStage){const o=this.getDataFromNode(e,r);let s=o.structType;if(s===void 0){const a=this.structs.index++;s=new eGe("StructType"+a,i),this.structs[r].push(s),o.structType=s}return s}getUniformFromNode(e,i,r=this.shaderStage,o=null){const s=this.getDataFromNode(e,r,this.globalCache);let a=s.uniform;if(a===void 0){const l=this.uniforms.index++;a=new YHe(o||"nodeUniform"+l,i,e),this.uniforms[r].push(a),s.uniform=a}return a}getVarFromNode(e,i=null,r=e.getNodeType(this),o=this.shaderStage){const s=this.getDataFromNode(e,o);let a=s.variable;if(a===void 0){const l=this.vars[o]||(this.vars[o]=[]);i===null&&(i="nodeVar"+l.length),a=new BX(i,r),l.push(a),s.variable=a}return a}getVaryingFromNode(e,i=null,r=e.getNodeType(this)){const o=this.getDataFromNode(e,"any");let s=o.varying;if(s===void 0){const a=this.varyings,l=a.length;i===null&&(i="nodeVarying"+l),s=new QHe(i,r),a.push(s),o.varying=s}return s}getCodeFromNode(e,i,r=this.shaderStage){const o=this.getDataFromNode(e);let s=o.code;if(s===void 0){const a=this.codes[r]||(this.codes[r]=[]),l=a.length;s=new ZHe("nodeCode"+l,i),a.push(s),o.code=s}return s}addFlowCodeHierarchy(e,i){const{flowCodes:r,flowCodeBlock:o}=this.getDataFromNode(e);let s=!0,a=i;for(;a;){if(o.get(a)===!0){s=!1;break}a=this.getDataFromNode(a).parentNodeBlock}if(s)for(const l of r)this.addLineFlowCode(l)}addLineFlowCodeBlock(e,i,r){const o=this.getDataFromNode(e),s=o.flowCodes||(o.flowCodes=[]),a=o.flowCodeBlock||(o.flowCodeBlock=new WeakMap);s.push(i),a.set(r,!0)}addLineFlowCode(e,i=null){return e===""?this:(i!==null&&this.context.nodeBlock&&this.addLineFlowCodeBlock(i,e,this.context.nodeBlock),e=this.tab+e,/;\s*$/.test(e)||(e=e+`;
`),this.flow.code+=e,this)}addFlowCode(e){return this.flow.code+=e,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(e){return this.flowsData.get(e)}flowNode(e){const i=e.getNodeType(this),r=this.flowChildNode(e,i);return this.flowsData.set(e,r),r}buildFunctionNode(e){const i=new cHe,r=this.currentFunctionNode;return this.currentFunctionNode=i,i.code=this.buildFunctionCode(e),this.currentFunctionNode=r,i}flowShaderNode(e){const i=e.layout,r={[Symbol.iterator](){let a=0;const l=Object.values(this);return{next:()=>({value:l[a],done:a++>=l.length})}}};for(const a of i.inputs)r[a.name]=new W8e(a.type,a.name);e.layout=null;const o=e.call(r),s=this.flowStagesNode(o,i.type);return e.layout=i,s}flowStagesNode(e,i=null){const r=this.flow,o=this.vars,s=this.cache,a=this.buildStage,l=this.stack,u={code:""};this.flow=u,this.vars={},this.cache=new zM,this.stack=BM();for(const c of n6)this.setBuildStage(c),u.result=e.build(this,i);return u.vars=this.getVars(this.shaderStage),this.flow=r,this.vars=o,this.cache=s,this.stack=l,this.setBuildStage(a),u}getFunctionOperator(){return null}flowChildNode(e,i=null){const r=this.flow,o={code:""};return this.flow=o,o.result=e.build(this,i),this.flow=r,o}flowNodeFromShaderStage(e,i,r=null,o=null){const s=this.shaderStage;this.setShaderStage(e);const a=this.flowChildNode(i,r);return o!==null&&(a.code+=`${this.tab+o} = ${a.result};
`),this.flowCode[e]=this.flowCode[e]+a.code,this.setShaderStage(s),a}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){console.warn("Abstract function.")}getVaryings(){console.warn("Abstract function.")}getVar(e,i){return`${this.getType(e)} ${i}`}getVars(e){let i="";const r=this.vars[e];if(r!==void 0)for(const o of r)i+=`${this.getVar(o.type,o.name)}; `;return i}getUniforms(){console.warn("Abstract function.")}getCodes(e){const i=this.codes[e];let r="";if(i!==void 0)for(const o of i)r+=o.code+`
`;return r}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(e){this.shaderStage=e}getShaderStage(){return this.shaderStage}setBuildStage(e){this.buildStage=e}getBuildStage(){return this.buildStage}buildCode(){console.warn("Abstract function.")}build(){const{object:e,material:i,renderer:r}=this;if(i!==null){let o=r.library.fromMaterial(i);o===null&&(console.error(`NodeMaterial: Material "${i.type}" is not compatible.`),o=new pr),o.build(this)}else this.addFlow("compute",e);for(const o of n6){this.setBuildStage(o),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const s of i6){this.setShaderStage(s);const a=this.flowNodes[s];for(const l of a)o==="generate"?this.flowNode(l):l.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(e,i){if(i==="float"||i==="int"||i==="uint")return new lGe(e);if(i==="vec2"||i==="ivec2"||i==="uvec2")return new uGe(e);if(i==="vec3"||i==="ivec3"||i==="uvec3")return new cGe(e);if(i==="vec4"||i==="ivec4"||i==="uvec4")return new dGe(e);if(i==="color")return new fGe(e);if(i==="mat3")return new hGe(e);if(i==="mat4")return new pGe(e);throw new Error(`Uniform "${i}" not declared.`)}format(e,i,r){if(i=this.getVectorType(i),r=this.getVectorType(r),i===r||r===null||this.isReference(r))return e;const o=this.getTypeLength(i),s=this.getTypeLength(r);return o===16&&s===9?`${this.getType(r)}(${e}[0].xyz, ${e}[1].xyz, ${e}[2].xyz)`:o===9&&s===4?`${this.getType(r)}(${e}[0].xy, ${e}[1].xy)`:o>4||s>4||s===0?e:o===s?`${this.getType(r)}( ${e} )`:o>s?this.format(`${e}.${"xyz".slice(0,s)}`,this.getTypeFromLength(s,this.getComponentType(i)),r):s===4&&o>1?`${this.getType(r)}( ${this.format(e,i,"vec3")}, 1.0 )`:o===2?`${this.getType(r)}( ${this.format(e,i,"vec2")}, 0.0 )`:(o===1&&s>1&&i!==this.getComponentType(r)&&(e=`${this.getType(this.getComponentType(r))}( ${e} )`),`${this.getType(r)}( ${e} )`)}getSignature(){return`// Three.js r${Im} - Node System
`}createNodeMaterial(e="NodeMaterial"){throw new Error(`THREE.NodeBuilder: createNodeMaterial() was deprecated. Use new ${e}() instead.`)}}class n8{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(e,i){let r=e.get(i);return r===void 0&&(r={renderMap:new WeakMap,frameMap:new WeakMap},e.set(i,r)),r}updateBeforeNode(e){const i=e.getUpdateBeforeType(),r=e.updateReference(this);if(i===An.FRAME){const{frameMap:o}=this._getMaps(this.updateBeforeMap,r);o.get(r)!==this.frameId&&e.updateBefore(this)!==!1&&o.set(r,this.frameId)}else if(i===An.RENDER){const{renderMap:o}=this._getMaps(this.updateBeforeMap,r);o.get(r)!==this.renderId&&e.updateBefore(this)!==!1&&o.set(r,this.renderId)}else i===An.OBJECT&&e.updateBefore(this)}updateAfterNode(e){const i=e.getUpdateAfterType(),r=e.updateReference(this);if(i===An.FRAME){const{frameMap:o}=this._getMaps(this.updateAfterMap,r);o.get(r)!==this.frameId&&e.updateAfter(this)!==!1&&o.set(r,this.frameId)}else if(i===An.RENDER){const{renderMap:o}=this._getMaps(this.updateAfterMap,r);o.get(r)!==this.renderId&&e.updateAfter(this)!==!1&&o.set(r,this.renderId)}else i===An.OBJECT&&e.updateAfter(this)}updateNode(e){const i=e.getUpdateType(),r=e.updateReference(this);if(i===An.FRAME){const{frameMap:o}=this._getMaps(this.updateMap,r);o.get(r)!==this.frameId&&e.update(this)!==!1&&o.set(r,this.frameId)}else if(i===An.RENDER){const{renderMap:o}=this._getMaps(this.updateMap,r);o.get(r)!==this.renderId&&e.update(this)!==!1&&o.set(r,this.renderId)}else i===An.OBJECT&&e.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class LD{constructor(e,i,r=null,o="",s=!1){this.type=e,this.name=i,this.count=r,this.qualifier=o,this.isConst=s}}LD.isNodeFunctionInput=!0;class _Ge extends Gh{static get type(){return"DirectionalLightNode"}constructor(e=null){super(e)}setup(e){super.setup(e);const i=e.context.lightingModel,r=this.colorNode,o=IX(this.light),s=e.context.reflectedLight;i.direct({lightDirection:o,lightColor:r,reflectedLight:s},e.stack,e)}}const KM=new ri,W_=new ri;let Kv=null;class SGe extends Gh{static get type(){return"RectAreaLightNode"}constructor(e=null){super(e),this.halfHeight=un(new Te).setGroup(Zt),this.halfWidth=un(new Te).setGroup(Zt),this.updateType=An.RENDER}update(e){super.update(e);const{light:i}=this,r=e.camera.matrixWorldInverse;W_.identity(),KM.copy(i.matrixWorld),KM.premultiply(r),W_.extractRotation(KM),this.halfWidth.value.set(i.width*.5,0,0),this.halfHeight.value.set(0,i.height*.5,0),this.halfWidth.value.applyMatrix4(W_),this.halfHeight.value.applyMatrix4(W_)}setup(e){super.setup(e);let i,r;e.isAvailable("float32Filterable")?(i=Hn(Kv.LTC_FLOAT_1),r=Hn(Kv.LTC_FLOAT_2)):(i=Hn(Kv.LTC_HALF_1),r=Hn(Kv.LTC_HALF_2));const{colorNode:o,light:s}=this,a=e.context.lightingModel,l=ND(s),u=e.context.reflectedLight;a.directRectArea({lightColor:o,lightPosition:l,halfWidth:this.halfWidth,halfHeight:this.halfHeight,reflectedLight:u,ltc_1:i,ltc_2:r},e.stack,e)}static setLTC(e){Kv=e}}class $X extends Gh{static get type(){return"SpotLightNode"}constructor(e=null){super(e),this.coneCosNode=un(0).setGroup(Zt),this.penumbraCosNode=un(0).setGroup(Zt),this.cutoffDistanceNode=un(0).setGroup(Zt),this.decayExponentNode=un(0).setGroup(Zt)}update(e){super.update(e);const{light:i}=this;this.coneCosNode.value=Math.cos(i.angle),this.penumbraCosNode.value=Math.cos(i.angle*(1-i.penumbra)),this.cutoffDistanceNode.value=i.distance,this.decayExponentNode.value=i.decay}getSpotAttenuation(e){const{coneCosNode:i,penumbraCosNode:r}=this;return Ih(i,r,e)}setup(e){super.setup(e);const i=e.context.lightingModel,{colorNode:r,cutoffDistanceNode:o,decayExponentNode:s,light:a}=this,l=ND(a).sub(fr),u=l.normalize(),c=u.dot(IX(a)),d=this.getSpotAttenuation(c),f=l.length(),h=LX({lightDistance:f,cutoffDistance:o,decayExponent:s});let p=r.mul(d).mul(h);if(a.map){const b=pHe(a),y=Hn(a.map,b.xy).onRenderUpdate(()=>a.map);p=b.mul(2).sub(1).abs().lessThan(1).all().select(p.mul(y),p)}const g=e.context.reflectedLight;i.direct({lightDirection:u,lightColor:p,reflectedLight:g},e.stack,e)}}class wGe extends $X{static get type(){return"IESSpotLightNode"}getSpotAttenuation(e){const i=this.light.iesMap;let r=null;if(i&&i.isTexture===!0){const o=e.acos().mul(1/Math.PI);r=Hn(i,_t(o,0),0).r}else r=super.getSpotAttenuation(e);return r}}class CGe extends Gh{static get type(){return"AmbientLightNode"}constructor(e=null){super(e)}setup({context:e}){e.irradiance.addAssign(this.colorNode)}}class AGe extends Gh{static get type(){return"HemisphereLightNode"}constructor(e=null){super(e),this.lightPositionNode=PX(e),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=un(new Ft).setGroup(Zt)}update(e){const{light:i}=this;super.update(e),this.lightPositionNode.object3d=i,this.groundColorNode.value.copy(i.groundColor).multiplyScalar(i.intensity)}setup(e){const{colorNode:i,groundColorNode:r,lightDirectionNode:o}=this,a=sl.dot(o).mul(.5).add(.5),l=Si(r,i,a);e.context.irradiance.addAssign(l)}}class TGe extends Gh{static get type(){return"LightProbeNode"}constructor(e=null){super(e);const i=[];for(let r=0;r<9;r++)i.push(new Te);this.lightProbe=bd(i)}update(e){const{light:i}=this;super.update(e);for(let r=0;r<9;r++)this.lightProbe.array[r].copy(i.sh.coefficients[r]).multiplyScalar(i.intensity)}setup(e){const i=jHe(Xq,this.lightProbe);e.context.irradiance.addAssign(i)}}class UX{parseFunction(){console.warn("Abstract function.")}}class BD{constructor(e,i,r="",o=""){this.type=e,this.inputs=i,this.name=r,this.precision=o}getCode(){console.warn("Abstract function.")}}BD.isNodeFunction=!0;const EGe=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,MGe=/[a-z_0-9]+/ig,i8="#pragma main",RGe=n=>{n=n.trim();const e=n.indexOf(i8),i=e!==-1?n.slice(e+i8.length):n,r=i.match(EGe);if(r!==null&&r.length===5){const o=r[4],s=[];let a=null;for(;(a=MGe.exec(o))!==null;)s.push(a);const l=[];let u=0;for(;u<s.length;){const g=s[u][0]==="const";g===!0&&u++;let b=s[u][0];b==="in"||b==="out"||b==="inout"?u++:b="";const y=s[u++][0];let m=Number.parseInt(s[u][0]);Number.isNaN(m)===!1?u++:m=null;const _=s[u++][0];l.push(new LD(y,_,m,b,g))}const c=i.substring(r[0].length),d=r[3]!==void 0?r[3]:"",f=r[2],h=r[1]!==void 0?r[1]:"",p=e!==-1?n.slice(0,e):"";return{type:f,inputs:l,name:d,precision:h,inputsCode:o,blockCode:c,headerCode:p}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class PGe extends BD{constructor(e){const{type:i,inputs:r,name:o,precision:s,inputsCode:a,blockCode:l,headerCode:u}=RGe(e);super(i,r,o,s),this.inputsCode=a,this.blockCode=l,this.headerCode=u}getCode(e=this.name){let i;const r=this.blockCode;if(r!==""){const{type:o,inputsCode:s,headerCode:a,precision:l}=this;let u=`${o} ${e} ( ${s.trim()} )`;l!==""&&(u=`${l} ${u}`),i=a+u+r}else i="";return i}}class IGe extends UX{parseFunction(e){return new PGe(e)}}const r8=new WeakMap;class NGe extends Jd{constructor(e,i){super(),this.renderer=e,this.backend=i,this.nodeFrame=new n8,this.nodeBuilderCache=new Map,this.callHashCache=new ql,this.groupsData=new ql,this.cacheLib={}}updateGroup(e){const i=e.groupNode,r=i.name;if(r===wq.name)return!0;if(r===Zt.name){const a=this.get(e),l=this.nodeFrame.renderId;return a.renderId!==l?(a.renderId=l,!0):!1}if(r===k4e.name){const a=this.get(e),l=this.nodeFrame.frameId;return a.frameId!==l?(a.frameId=l,!0):!1}const o=[i,e];let s=this.groupsData.get(o);return s===void 0&&this.groupsData.set(o,s={}),s.version!==i.version?(s.version=i.version,!0):!1}getForRenderCacheKey(e){return e.initialCacheKey}getForRender(e){const i=this.get(e);let r=i.nodeBuilderState;if(r===void 0){const{nodeBuilderCache:o}=this,s=this.getForRenderCacheKey(e);if(r=o.get(s),r===void 0){const a=this.backend.createNodeBuilder(e.object,this.renderer);a.scene=e.scene,a.material=e.material,a.camera=e.camera,a.context.material=e.material,a.lightsNode=e.lightsNode,a.environmentNode=this.getEnvironmentNode(e.scene),a.fogNode=this.getFogNode(e.scene),a.clippingContext=e.clippingContext,a.build(),r=this._createNodeBuilderState(a),o.set(s,r)}r.usedTimes++,i.nodeBuilderState=r}return r}delete(e){if(e.isRenderObject){const i=this.get(e).nodeBuilderState;i.usedTimes--,i.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(e))}return super.delete(e)}getForCompute(e){const i=this.get(e);let r=i.nodeBuilderState;if(r===void 0){const o=this.backend.createNodeBuilder(e,this.renderer);o.build(),r=this._createNodeBuilderState(o),i.nodeBuilderState=r}return r}_createNodeBuilderState(e){return new XHe(e.vertexShader,e.fragmentShader,e.computeShader,e.getAttributesArray(),e.getBindings(),e.updateNodes,e.updateBeforeNodes,e.updateAfterNodes,e.monitor,e.transforms)}getEnvironmentNode(e){this.updateEnvironment(e);let i=null;if(e.environmentNode&&e.environmentNode.isNode)i=e.environmentNode;else{const r=this.get(e);r.environmentNode&&(i=r.environmentNode)}return i}getBackgroundNode(e){this.updateBackground(e);let i=null;if(e.backgroundNode&&e.backgroundNode.isNode)i=e.backgroundNode;else{const r=this.get(e);r.backgroundNode&&(i=r.backgroundNode)}return i}getFogNode(e){return this.updateFog(e),e.fogNode||this.get(e).fogNode||null}getCacheKey(e,i){const r=[e,i],o=this.renderer.info.calls;let s=this.callHashCache.get(r);if(s===void 0||s.callId!==o){const a=this.getEnvironmentNode(e),l=this.getFogNode(e),u=[];i&&u.push(i.getCacheKey(!0)),a&&u.push(a.getCacheKey()),l&&u.push(l.getCacheKey()),u.push(this.renderer.shadowMap.enabled?1:0),s={callId:o,cacheKey:aD(u)},this.callHashCache.set(r,s)}return s.cacheKey}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(e){const i=this.get(e),r=e.background;if(r){const o=e.backgroundBlurriness===0&&i.backgroundBlurriness>0||e.backgroundBlurriness>0&&i.backgroundBlurriness===0;if(i.background!==r||o){const s=this.getCacheNode("background",r,()=>{if(r.isCubeTexture===!0||r.mapping===Ud||r.mapping===kd||r.mapping===Eh){if(e.backgroundBlurriness>0||r.mapping===Eh)return SX(r);{let a;return r.isCubeTexture===!0?a=D0(r):a=Hn(r),hX(a)}}else{if(r.isTexture===!0)return Hn(r,L0.flipY()).setUpdateMatrix(!0);r.isColor!==!0&&console.error("WebGPUNodes: Unsupported background configuration.",r)}},o);i.backgroundNode=s,i.background=r,i.backgroundBlurriness=e.backgroundBlurriness}}else i.backgroundNode&&(delete i.backgroundNode,delete i.background)}getCacheNode(e,i,r,o=!1){const s=this.cacheLib[e]||(this.cacheLib[e]=new WeakMap);let a=s.get(i);return(a===void 0||o)&&(a=r(),s.set(i,a)),a}updateFog(e){const i=this.get(e),r=e.fog;if(r){if(i.fog!==r){const o=this.getCacheNode("fog",r,()=>{if(r.isFogExp2){const s=ii("color","color",r).setGroup(Zt),a=ii("density","float",r).setGroup(Zt);return W6(s,fHe(a))}else if(r.isFog){const s=ii("color","color",r).setGroup(Zt),a=ii("near","float",r).setGroup(Zt),l=ii("far","float",r).setGroup(Zt);return W6(s,dHe(a,l))}else console.error("THREE.Renderer: Unsupported fog configuration.",r)});i.fogNode=o,i.fog=r}}else delete i.fogNode,delete i.fog}updateEnvironment(e){const i=this.get(e),r=e.environment;if(r){if(i.environment!==r){const o=this.getCacheNode("environment",r,()=>{if(r.isCubeTexture===!0)return D0(r);if(r.isTexture===!0)return Hn(r);console.error("Nodes: Unsupported environment configuration.",r)});i.environmentNode=o,i.environment=r}}else i.environmentNode&&(delete i.environmentNode,delete i.environment)}getNodeFrame(e=this.renderer,i=null,r=null,o=null,s=null){const a=this.nodeFrame;return a.renderer=e,a.scene=i,a.object=r,a.camera=o,a.material=s,a}getNodeFrameForRender(e){return this.getNodeFrame(e.renderer,e.scene,e.object,e.camera,e.material)}getOutputCacheKey(){const e=this.renderer;return e.toneMapping+","+e.currentColorSpace}hasOutputChange(e){return r8.get(e)!==this.getOutputCacheKey()}getOutputNode(e){const i=this.renderer,r=this.getOutputCacheKey(),o=Hn(e,L0).renderOutput(i.toneMapping,i.currentColorSpace);return r8.set(e,r),o}updateBefore(e){const i=e.getNodeBuilderState();for(const r of i.updateBeforeNodes)this.getNodeFrameForRender(e).updateBeforeNode(r)}updateAfter(e){const i=e.getNodeBuilderState();for(const r of i.updateAfterNodes)this.getNodeFrameForRender(e).updateAfterNode(r)}updateForCompute(e){const i=this.getNodeFrame(),r=this.getForCompute(e);for(const o of r.updateNodes)i.updateNode(o)}updateForRender(e){const i=this.getNodeFrameForRender(e),r=e.getNodeBuilderState();for(const o of r.updateNodes)i.updateNode(o)}needsRefresh(e){const i=this.getNodeFrameForRender(e);return e.getMonitor().needsRefresh(e,i)}dispose(){super.dispose(),this.nodeFrame=new n8,this.nodeBuilderCache=new Map,this.cacheLib={}}}const qM=new Va;class i1{constructor(e=null){this.version=0,this.clipIntersection=null,this.cacheKey="",this.shadowPass=!1,this.viewNormalMatrix=new on,this.clippingGroupContexts=new WeakMap,this.intersectionPlanes=[],this.unionPlanes=[],this.parentVersion=null,e!==null&&(this.viewNormalMatrix=e.viewNormalMatrix,this.clippingGroupContexts=e.clippingGroupContexts,this.shadowPass=e.shadowPass,this.viewMatrix=e.viewMatrix)}projectPlanes(e,i,r){const o=e.length;for(let s=0;s<o;s++){qM.copy(e[s]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const a=i[r+s],l=qM.normal;a.x=-l.x,a.y=-l.y,a.z=-l.z,a.w=qM.constant}}updateGlobal(e,i){this.shadowPass=e.overrideMaterial!==null&&e.overrideMaterial.isShadowNodeMaterial,this.viewMatrix=i.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix)}update(e,i){let r=!1;e.version!==this.parentVersion&&(this.intersectionPlanes=Array.from(e.intersectionPlanes),this.unionPlanes=Array.from(e.unionPlanes),this.parentVersion=e.version),this.clipIntersection!==i.clipIntersection&&(this.clipIntersection=i.clipIntersection,this.clipIntersection?this.unionPlanes.length=e.unionPlanes.length:this.intersectionPlanes.length=e.intersectionPlanes.length);const o=i.clippingPlanes,s=o.length;let a,l;if(this.clipIntersection?(a=this.intersectionPlanes,l=e.intersectionPlanes.length):(a=this.unionPlanes,l=e.unionPlanes.length),a.length!==l+s){a.length=l+s;for(let u=0;u<s;u++)a[l+u]=new fn;r=!0}this.projectPlanes(o,a,l),r&&(this.version++,this.cacheKey=`${this.intersectionPlanes.length}:${this.unionPlanes.length}`)}getGroupContext(e){if(this.shadowPass&&!e.clipShadows)return this;let i=this.clippingGroupContexts.get(e);return i===void 0&&(i=new i1(this),this.clippingGroupContexts.set(e,i)),i.update(this,e),i}get unionClippingCount(){return this.unionPlanes.length}}class OGe{constructor(e,i){this.bundleGroup=e,this.camera=i}}class DGe{constructor(){this.bundles=new ql}get(e,i){const r=this.bundles,o=[e,i];let s=r.get(o);return s===void 0&&(s=new OGe(e,i),r.set(o,s)),s}dispose(){this.bundles=new ql}}class kX{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map}fromMaterial(e){if(e.isNodeMaterial)return e;let i=null;const r=this.getMaterialNodeClass(e.type);if(r!==null){i=new r;for(const o in e)i[o]=e[o]}return i}addToneMapping(e,i){this.addType(e,i,this.toneMappingNodes)}getToneMappingFunction(e){return this.toneMappingNodes.get(e)||null}getMaterialNodeClass(e){return this.materialNodes.get(e)||null}addMaterial(e,i){this.addType(e,i,this.materialNodes)}getLightNodeClass(e){return this.lightNodes.get(e)||null}addLight(e,i){this.addClass(e,i,this.lightNodes)}addType(e,i,r){if(r.has(i)){console.warn(`Redefinition of node ${i}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof i=="function"||typeof i=="object")throw new Error(`Base class ${i} is not a class.`);r.set(i,e)}addClass(e,i,r){if(r.has(i)){console.warn(`Redefinition of node ${i.name}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof i!="function")throw new Error(`Base class ${i.name} is not a class.`);r.set(i,e)}}const LGe=new NX;class BGe extends ql{constructor(){super()}createNode(e=[]){return new NX().setLights(e)}getNode(e,i){if(e.isQuadMesh)return LGe;const r=[e,i];let o=this.get(r);return o===void 0&&(o=this.createNode(),this.set(r,o)),o}}const o8=new qO,j_=new Tt,XM=new fn,YM=new hC,K_=new ri,ad=new fn;class FGe{constructor(e,i={}){this.isRenderer=!0;const{logarithmicDepthBuffer:r=!1,alpha:o=!0,depth:s=!0,stencil:a=!1,antialias:l=!1,samples:u=0,getFallback:c=null}=i;this.domElement=e.getDomElement(),this.backend=e,this.samples=u||l===!0?4:0,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=o,this.logarithmicDepthBuffer=r,this.outputColorSpace=Ut,this.toneMapping=us,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=s,this.stencil=a,this.info=new I8e,this.nodes={modelViewMatrix:null,modelNormalViewMatrix:null},this.library=new kX,this.lighting=new BGe,this._getFallback=c,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new fn(0,0,this._width,this._height),this._scissor=new fn(0,0,this._width,this._height),this._scissorTest=!1,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new EX(new pr),this._quad.material.name="Renderer_output",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const d=this.alpha===!0?0:1;this._clearColor=new ID(0,0,0,d),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._isDeviceLost=!1,this.onDeviceLost=this._onDeviceLost,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:vO},this.xr={enabled:!1},this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(f,h,p)=>{await this.compileAsync(f,h);const g=this._renderLists.get(f,h),b=this._renderContexts.get(f,h,this._renderTarget),y=f.overrideMaterial||p.material,m=this._objects.get(p,y,f,h,g.lightsNode,b,b.clippingContext),{fragmentShader:_,vertexShader:S}=m.getNodeBuilderState();return{fragmentShader:_,vertexShader:S}}}}async init(){if(this._initialized)throw new Error("Renderer: Backend has already been initialized.");return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(e,i)=>{let r=this.backend;try{await r.init(this)}catch(o){if(this._getFallback!==null)try{this.backend=r=this._getFallback(o),await r.init(this)}catch(s){i(s);return}else{i(o);return}}this._nodes=new NGe(this,r),this._animation=new _8e(this._nodes,this.info),this._attributes=new M8e(r),this._background=new KHe(this,this._nodes),this._geometries=new P8e(this._attributes,this.info),this._textures=new V8e(this,r,this.info),this._pipelines=new L8e(r,this._nodes),this._bindings=new B8e(r,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new A8e(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new U8e(this.lighting),this._bundles=new DGe,this._renderContexts=new H8e,this._animation.start(),this._initialized=!0,e()}),this._initPromise)}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(e,i,r=null){if(this._isDeviceLost===!0)return;this._initialized===!1&&await this.init();const o=this._nodes.nodeFrame,s=o.renderId,a=this._currentRenderContext,l=this._currentRenderObjectFunction,u=this._compilationPromises,c=e.isScene===!0?e:o8;r===null&&(r=e);const d=this._renderTarget,f=this._renderContexts.get(r,i,d),h=this._activeMipmapLevel,p=[];this._currentRenderContext=f,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=p,o.renderId++,o.update(),f.depth=this.depth,f.stencil=this.stencil,f.clippingContext||(f.clippingContext=new i1),f.clippingContext.updateGlobal(c,i),c.onBeforeRender(this,e,i,d);const g=this._renderLists.get(e,i);if(g.begin(),this._projectObject(e,i,0,g,f.clippingContext),r!==e&&r.traverseVisible(function(S){S.isLight&&S.layers.test(i.layers)&&g.pushLight(S)}),g.finish(),d!==null){this._textures.updateRenderTarget(d,h);const S=this._textures.get(d);f.textures=S.textures,f.depthTexture=S.depthTexture}else f.textures=null,f.depthTexture=null;this._background.update(c,g,f);const b=g.opaque,y=g.transparent,m=g.transparentDoublePass,_=g.lightsNode;this.opaque===!0&&b.length>0&&this._renderObjects(b,i,c,_),this.transparent===!0&&y.length>0&&this._renderTransparents(y,m,i,c,_),o.renderId=s,this._currentRenderContext=a,this._currentRenderObjectFunction=l,this._compilationPromises=u,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(p)}async renderAsync(e,i){this._initialized===!1&&await this.init();const r=this._renderScene(e,i);await this.backend.resolveTimestampAsync(r,"render")}async waitForGPU(){await this.backend.waitForGPU()}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}_onDeviceLost(e){let i=`THREE.WebGPURenderer: ${e.api} Device Lost:

Message: ${e.message}`;e.reason&&(i+=`
Reason: ${e.reason}`),console.error(i),this._isDeviceLost=!0}_renderBundle(e,i,r){const{bundleGroup:o,camera:s,renderList:a}=e,l=this._currentRenderContext,u=this._bundles.get(o,s),c=this.backend.get(u);c.renderContexts===void 0&&(c.renderContexts=new Set);const d=o.version!==c.version,f=c.renderContexts.has(l)===!1||d;if(c.renderContexts.add(l),f){this.backend.beginBundle(l),(c.renderObjects===void 0||d)&&(c.renderObjects=[]),this._currentRenderBundle=u;const h=a.opaque;this.opaque===!0&&h.length>0&&this._renderObjects(h,s,i,r),this._currentRenderBundle=null,this.backend.finishBundle(l,u),c.version=o.version}else{const{renderObjects:h}=c;for(let p=0,g=h.length;p<g;p++){const b=h[p];this._nodes.needsRefresh(b)&&(this._nodes.updateBefore(b),this._nodes.updateForRender(b),this._bindings.updateForRender(b),this._nodes.updateAfter(b))}}this.backend.addBundle(l,u)}render(e,i){if(this._initialized===!1)return console.warn("THREE.Renderer: .render() called before the backend is initialized. Try using .renderAsync() instead."),this.renderAsync(e,i);this._renderScene(e,i)}_getFrameBufferTarget(){const{currentToneMapping:e,currentColorSpace:i}=this;if(e!==us===!1&&i!==ma===!1)return null;const{width:s,height:a}=this.getDrawingBufferSize(j_),{depth:l,stencil:u}=this;let c=this._frameBufferTarget;return c===null&&(c=new Lm(s,a,{depthBuffer:l,stencilBuffer:u,type:Bo,format:Gr,colorSpace:ma,generateMipmaps:!1,minFilter:Sr,magFilter:Sr,samples:this.samples}),c.isPostProcessingRenderTarget=!0,this._frameBufferTarget=c),c.depthBuffer=l,c.stencilBuffer=u,c.setSize(s,a),c.viewport.copy(this._viewport),c.scissor.copy(this._scissor),c.viewport.multiplyScalar(this._pixelRatio),c.scissor.multiplyScalar(this._pixelRatio),c.scissorTest=this._scissorTest,c}_renderScene(e,i,r=!0){if(this._isDeviceLost===!0)return;const o=r?this._getFrameBufferTarget():null,s=this._nodes.nodeFrame,a=s.renderId,l=this._currentRenderContext,u=this._currentRenderObjectFunction,c=e.isScene===!0?e:o8,d=this._renderTarget,f=this._activeCubeFace,h=this._activeMipmapLevel;let p;o!==null?(p=o,this.setRenderTarget(p)):p=d;const g=this._renderContexts.get(e,i,p);this._currentRenderContext=g,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,s.renderId=this.info.calls;const b=this.coordinateSystem;i.coordinateSystem!==b&&(i.coordinateSystem=b,i.updateProjectionMatrix()),e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),i.parent===null&&i.matrixWorldAutoUpdate===!0&&i.updateMatrixWorld();let y=this._viewport,m=this._scissor,_=this._pixelRatio;p!==null&&(y=p.viewport,m=p.scissor,_=1),this.getDrawingBufferSize(j_),XM.set(0,0,j_.width,j_.height);const S=y.minDepth===void 0?0:y.minDepth,w=y.maxDepth===void 0?1:y.maxDepth;g.viewportValue.copy(y).multiplyScalar(_).floor(),g.viewportValue.width>>=h,g.viewportValue.height>>=h,g.viewportValue.minDepth=S,g.viewportValue.maxDepth=w,g.viewport=g.viewportValue.equals(XM)===!1,g.scissorValue.copy(m).multiplyScalar(_).floor(),g.scissor=this._scissorTest&&g.scissorValue.equals(XM)===!1,g.scissorValue.width>>=h,g.scissorValue.height>>=h,g.clippingContext||(g.clippingContext=new i1),g.clippingContext.updateGlobal(c,i),c.onBeforeRender(this,e,i,p),K_.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),YM.setFromProjectionMatrix(K_,b);const A=this._renderLists.get(e,i);if(A.begin(),this._projectObject(e,i,0,A,g.clippingContext),A.finish(),this.sortObjects===!0&&A.sort(this._opaqueSort,this._transparentSort),p!==null){this._textures.updateRenderTarget(p,h);const I=this._textures.get(p);g.textures=I.textures,g.depthTexture=I.depthTexture,g.width=I.width,g.height=I.height,g.renderTarget=p,g.depth=p.depthBuffer,g.stencil=p.stencilBuffer}else g.textures=null,g.depthTexture=null,g.width=this.domElement.width,g.height=this.domElement.height,g.depth=this.depth,g.stencil=this.stencil;g.width>>=h,g.height>>=h,g.activeCubeFace=f,g.activeMipmapLevel=h,g.occlusionQueryCount=A.occlusionQueryCount,this._background.update(c,A,g),this.backend.beginRender(g);const{bundles:T,lightsNode:C,transparentDoublePass:R,transparent:E,opaque:P}=A;if(T.length>0&&this._renderBundles(T,c,C),this.opaque===!0&&P.length>0&&this._renderObjects(P,i,c,C),this.transparent===!0&&E.length>0&&this._renderTransparents(E,R,i,c,C),this.backend.finishRender(g),s.renderId=a,this._currentRenderContext=l,this._currentRenderObjectFunction=u,o!==null){this.setRenderTarget(d,f,h);const I=this._quad;this._nodes.hasOutputChange(p.texture)&&(I.material.fragmentNode=this._nodes.getOutputNode(p.texture),I.material.needsUpdate=!0),this._renderScene(I,I.camera,!1)}return c.onAfterRender(this,e,i,p),g}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(e){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(e)}async getArrayBufferAsync(e){return await this.backend.getArrayBufferAsync(e)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(e){return e.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(e){return e.set(this._width,this._height)}setPixelRatio(e=1){this._pixelRatio!==e&&(this._pixelRatio=e,this.setSize(this._width,this._height,!1))}setDrawingBufferSize(e,i,r){this._width=e,this._height=i,this._pixelRatio=r,this.domElement.width=Math.floor(e*r),this.domElement.height=Math.floor(i*r),this.setViewport(0,0,e,i),this._initialized&&this.backend.updateSize()}setSize(e,i,r=!0){this._width=e,this._height=i,this.domElement.width=Math.floor(e*this._pixelRatio),this.domElement.height=Math.floor(i*this._pixelRatio),r===!0&&(this.domElement.style.width=e+"px",this.domElement.style.height=i+"px"),this.setViewport(0,0,e,i),this._initialized&&this.backend.updateSize()}setOpaqueSort(e){this._opaqueSort=e}setTransparentSort(e){this._transparentSort=e}getScissor(e){const i=this._scissor;return e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height,e}setScissor(e,i,r,o){const s=this._scissor;e.isVector4?s.copy(e):s.set(e,i,r,o)}getScissorTest(){return this._scissorTest}setScissorTest(e){this._scissorTest=e,this.backend.setScissorTest(e)}getViewport(e){return e.copy(this._viewport)}setViewport(e,i,r,o,s=0,a=1){const l=this._viewport;e.isVector4?l.copy(e):l.set(e,i,r,o),l.minDepth=s,l.maxDepth=a}getClearColor(e){return e.copy(this._clearColor)}setClearColor(e,i=1){this._clearColor.set(e),this._clearColor.a=i}getClearAlpha(){return this._clearColor.a}setClearAlpha(e){this._clearColor.a=e}getClearDepth(){return this._clearDepth}setClearDepth(e){this._clearDepth=e}getClearStencil(){return this._clearStencil}setClearStencil(e){this._clearStencil=e}isOccluded(e){const i=this._currentRenderContext;return i&&this.backend.isOccluded(i,e)}clear(e=!0,i=!0,r=!0){if(this._initialized===!1)return console.warn("THREE.Renderer: .clear() called before the backend is initialized. Try using .clearAsync() instead."),this.clearAsync(e,i,r);const o=this._renderTarget||this._getFrameBufferTarget();let s=null;if(o!==null){this._textures.updateRenderTarget(o);const a=this._textures.get(o);s=this._renderContexts.get(null,null,o),s.textures=a.textures,s.depthTexture=a.depthTexture,s.width=a.width,s.height=a.height,s.renderTarget=o,s.depth=o.depthBuffer,s.stencil=o.stencilBuffer}if(this.backend.clear(e,i,r,s),o!==null&&this._renderTarget===null){const a=this._quad;this._nodes.hasOutputChange(o.texture)&&(a.material.fragmentNode=this._nodes.getOutputNode(o.texture),a.material.needsUpdate=!0),this._renderScene(a,a.camera,!1)}}clearColor(){return this.clear(!0,!1,!1)}clearDepth(){return this.clear(!1,!0,!1)}clearStencil(){return this.clear(!1,!1,!0)}async clearAsync(e=!0,i=!0,r=!0){this._initialized===!1&&await this.init(),this.clear(e,i,r)}async clearColorAsync(){this.clearAsync(!0,!1,!1)}async clearDepthAsync(){this.clearAsync(!1,!0,!1)}async clearStencilAsync(){this.clearAsync(!1,!1,!0)}get currentToneMapping(){return this._renderTarget!==null?us:this.toneMapping}get currentColorSpace(){return this._renderTarget!==null?ma:this.outputColorSpace}dispose(){this.info.dispose(),this.backend.dispose(),this._animation.dispose(),this._objects.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(e,i=0,r=0){this._renderTarget=e,this._activeCubeFace=i,this._activeMipmapLevel=r}getRenderTarget(){return this._renderTarget}setRenderObjectFunction(e){this._renderObjectFunction=e}getRenderObjectFunction(){return this._renderObjectFunction}compute(e){if(this.isDeviceLost===!0)return;if(this._initialized===!1)return console.warn("THREE.Renderer: .compute() called before the backend is initialized. Try using .computeAsync() instead."),this.computeAsync(e);const i=this._nodes.nodeFrame,r=i.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,i.renderId=this.info.calls;const o=this.backend,s=this._pipelines,a=this._bindings,l=this._nodes,u=Array.isArray(e)?e:[e];if(u[0]===void 0||u[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");o.beginCompute(e);for(const c of u){if(s.has(c)===!1){const h=()=>{c.removeEventListener("dispose",h),s.delete(c),a.delete(c),l.delete(c)};c.addEventListener("dispose",h);const p=c.onInitFunction;p!==null&&p.call(c,{renderer:this})}l.updateForCompute(c),a.updateForCompute(c);const d=a.getForCompute(c),f=s.getForCompute(c,d);o.compute(e,c,d,f)}o.finishCompute(e),i.renderId=r}async computeAsync(e){this._initialized===!1&&await this.init(),this.compute(e),await this.backend.resolveTimestampAsync(e,"compute")}async hasFeatureAsync(e){return this._initialized===!1&&await this.init(),this.backend.hasFeature(e)}hasFeature(e){return this._initialized===!1?(console.warn("THREE.Renderer: .hasFeature() called before the backend is initialized. Try using .hasFeatureAsync() instead."),!1):this.backend.hasFeature(e)}hasInitialized(){return this._initialized}async initTextureAsync(e){this._initialized===!1&&await this.init(),this._textures.updateTexture(e)}initTexture(e){this._initialized===!1&&console.warn("THREE.Renderer: .initTexture() called before the backend is initialized. Try using .initTextureAsync() instead."),this._textures.updateTexture(e)}copyFramebufferToTexture(e,i=null){if(i!==null)if(i.isVector2)i=ad.set(i.x,i.y,e.image.width,e.image.height).floor();else if(i.isVector4)i=ad.copy(i).floor();else{console.error("THREE.Renderer.copyFramebufferToTexture: Invalid rectangle.");return}else i=ad.set(0,0,e.image.width,e.image.height);let r=this._currentRenderContext,o;r!==null?o=r.renderTarget:(o=this._renderTarget||this._getFrameBufferTarget(),o!==null&&(this._textures.updateRenderTarget(o),r=this._textures.get(o))),this._textures.updateTexture(e,{renderTarget:o}),this.backend.copyFramebufferToTexture(e,r,i)}copyTextureToTexture(e,i,r=null,o=null,s=0){this._textures.updateTexture(e),this._textures.updateTexture(i),this.backend.copyTextureToTexture(e,i,r,o,s)}async readRenderTargetPixelsAsync(e,i,r,o,s,a=0,l=0){return this.backend.copyTextureToBuffer(e.textures[a],i,r,o,s,l)}_projectObject(e,i,r,o,s){if(e.visible===!1)return;if(e.layers.test(i.layers)){if(e.isGroup)r=e.renderOrder,e.isClippingGroup&&e.enabled&&(s=s.getGroupContext(e));else if(e.isLOD)e.autoUpdate===!0&&e.update(i);else if(e.isLight)o.pushLight(e);else if(e.isSprite){if(!e.frustumCulled||YM.intersectsSprite(e)){this.sortObjects===!0&&ad.setFromMatrixPosition(e.matrixWorld).applyMatrix4(K_);const{geometry:u,material:c}=e;c.visible&&o.push(e,u,c,r,ad.z,null,s)}}else if(e.isLineLoop)console.error("THREE.Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||YM.intersectsObject(e))){const{geometry:u,material:c}=e;if(this.sortObjects===!0&&(u.boundingSphere===null&&u.computeBoundingSphere(),ad.copy(u.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(K_)),Array.isArray(c)){const d=u.groups;for(let f=0,h=d.length;f<h;f++){const p=d[f],g=c[p.materialIndex];g&&g.visible&&o.push(e,u,g,r,ad.z,p,s)}}else c.visible&&o.push(e,u,c,r,ad.z,null,s)}}if(e.isBundleGroup===!0&&this.backend.beginBundle!==void 0){const u=o;o=this._renderLists.get(e,i),o.begin(),u.pushBundle({bundleGroup:e,camera:i,renderList:o}),o.finish()}const l=e.children;for(let u=0,c=l.length;u<c;u++)this._projectObject(l[u],i,r,o,s)}_renderBundles(e,i,r){for(const o of e)this._renderBundle(o,i,r)}_renderTransparents(e,i,r,o,s){if(i.length>0){for(const{material:a}of i)a.side=Di;this._renderObjects(i,r,o,s,"backSide");for(const{material:a}of i)a.side=il;this._renderObjects(e,r,o,s);for(const{material:a}of i)a.side=Oo}else this._renderObjects(e,r,o,s)}_renderObjects(e,i,r,o,s=null){for(let a=0,l=e.length;a<l;a++){const u=e[a],{object:c,geometry:d,material:f,group:h,clippingContext:p}=u;if(i.isArrayCamera){const g=i.cameras;for(let b=0,y=g.length;b<y;b++){const m=g[b];if(c.layers.test(m.layers)){const _=m.viewport,S=_.minDepth===void 0?0:_.minDepth,w=_.maxDepth===void 0?1:_.maxDepth,A=this._currentRenderContext.viewportValue;A.copy(_).multiplyScalar(this._pixelRatio).floor(),A.minDepth=S,A.maxDepth=w,this.backend.updateViewport(this._currentRenderContext),this._currentRenderObjectFunction(c,r,m,d,f,h,o,p,s)}}}else this._currentRenderObjectFunction(c,r,i,d,f,h,o,p,s)}}renderObject(e,i,r,o,s,a,l,u=null,c=null){let d,f,h;if(e.onBeforeRender(this,i,r,o,s,a),i.overrideMaterial!==null){const p=i.overrideMaterial;s.positionNode&&s.positionNode.isNode&&(d=p.positionNode,p.positionNode=s.positionNode),p.alphaTest=s.alphaTest,p.alphaMap=s.alphaMap,p.transparent=s.transparent||s.transmission>0,p.isShadowNodeMaterial&&(p.side=s.shadowSide===null?s.side:s.shadowSide,s.depthNode&&s.depthNode.isNode&&(h=p.depthNode,p.depthNode=s.depthNode),s.castShadowNode&&s.castShadowNode.isNode&&(f=p.colorNode,p.colorNode=s.castShadowNode)),s=p}s.transparent===!0&&s.side===Oo&&s.forceSinglePass===!1?(s.side=Di,this._handleObjectFunction(e,s,i,r,l,a,u,"backSide"),s.side=il,this._handleObjectFunction(e,s,i,r,l,a,u,c),s.side=Oo):this._handleObjectFunction(e,s,i,r,l,a,u,c),d!==void 0&&(i.overrideMaterial.positionNode=d),h!==void 0&&(i.overrideMaterial.depthNode=h),f!==void 0&&(i.overrideMaterial.colorNode=f),e.onAfterRender(this,i,r,o,s,a)}_renderObjectDirect(e,i,r,o,s,a,l,u){const c=this._objects.get(e,i,r,o,s,this._currentRenderContext,l,u);c.drawRange=e.geometry.drawRange,c.group=a;const d=this._nodes.needsRefresh(c);d&&(this._nodes.updateBefore(c),this._geometries.updateForRender(c),this._nodes.updateForRender(c),this._bindings.updateForRender(c)),this._pipelines.updateForRender(c),this._currentRenderBundle!==null&&(this.backend.get(this._currentRenderBundle).renderObjects.push(c),c.bundle=this._currentRenderBundle.bundleGroup),this.backend.draw(c,this.info),d&&this._nodes.updateAfter(c)}_createObjectPipeline(e,i,r,o,s,a,l,u){const c=this._objects.get(e,i,r,o,s,this._currentRenderContext,l,u);c.drawRange=e.geometry.drawRange,c.group=a,this._nodes.updateBefore(c),this._geometries.updateForRender(c),this._nodes.updateForRender(c),this._bindings.updateForRender(c),this._pipelines.getForRender(c,this._compilationPromises),this._nodes.updateAfter(c)}get compile(){return this.compileAsync}}class FD{constructor(e=""){this.name=e,this.visibility=0}setVisibility(e){this.visibility|=e}clone(){return Object.assign(new this.constructor,this)}}function $Ge(n){return n+(_d-n%_d)%_d}class zX extends FD{constructor(e,i=null){super(e),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=i}get byteLength(){return $Ge(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}}class HX extends zX{constructor(e,i=null){super(e,i),this.isUniformBuffer=!0}}let UGe=0;class GX extends HX{constructor(e,i){super("UniformBuffer_"+UGe++,e?e.value:null),this.nodeUniform=e,this.groupNode=i}get buffer(){return this.nodeUniform.value}}class kGe extends HX{constructor(e){super(e),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(e){return this.uniforms.push(e),this}removeUniform(e){const i=this.uniforms.indexOf(e);return i!==-1&&this.uniforms.splice(i,1),this}get values(){return this._values===null&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let e=this._buffer;if(e===null){const i=this.byteLength;e=new Float32Array(new ArrayBuffer(i)),this._buffer=e}return e}get byteLength(){let e=0;for(let i=0,r=this.uniforms.length;i<r;i++){const o=this.uniforms[i],{boundary:s,itemSize:a}=o,l=e%_d,u=_d-l;l!==0&&u-s<0?e+=_d-l:l%s!==0&&(e+=l%s),o.offset=e/this.bytesPerElement,e+=a*this.bytesPerElement}return Math.ceil(e/_d)*_d}update(){let e=!1;for(const i of this.uniforms)this.updateByType(i)===!0&&(e=!0);return e}updateByType(e){if(e.isNumberUniform)return this.updateNumber(e);if(e.isVector2Uniform)return this.updateVector2(e);if(e.isVector3Uniform)return this.updateVector3(e);if(e.isVector4Uniform)return this.updateVector4(e);if(e.isColorUniform)return this.updateColor(e);if(e.isMatrix3Uniform)return this.updateMatrix3(e);if(e.isMatrix4Uniform)return this.updateMatrix4(e);console.error("THREE.WebGPUUniformsGroup: Unsupported uniform type.",e)}updateNumber(e){let i=!1;const r=this.values,o=e.getValue(),s=e.offset,a=e.getType();if(r[s]!==o){const l=this._getBufferForType(a);l[s]=r[s]=o,i=!0}return i}updateVector2(e){let i=!1;const r=this.values,o=e.getValue(),s=e.offset,a=e.getType();if(r[s+0]!==o.x||r[s+1]!==o.y){const l=this._getBufferForType(a);l[s+0]=r[s+0]=o.x,l[s+1]=r[s+1]=o.y,i=!0}return i}updateVector3(e){let i=!1;const r=this.values,o=e.getValue(),s=e.offset,a=e.getType();if(r[s+0]!==o.x||r[s+1]!==o.y||r[s+2]!==o.z){const l=this._getBufferForType(a);l[s+0]=r[s+0]=o.x,l[s+1]=r[s+1]=o.y,l[s+2]=r[s+2]=o.z,i=!0}return i}updateVector4(e){let i=!1;const r=this.values,o=e.getValue(),s=e.offset,a=e.getType();if(r[s+0]!==o.x||r[s+1]!==o.y||r[s+2]!==o.z||r[s+4]!==o.w){const l=this._getBufferForType(a);l[s+0]=r[s+0]=o.x,l[s+1]=r[s+1]=o.y,l[s+2]=r[s+2]=o.z,l[s+3]=r[s+3]=o.w,i=!0}return i}updateColor(e){let i=!1;const r=this.values,o=e.getValue(),s=e.offset;if(r[s+0]!==o.r||r[s+1]!==o.g||r[s+2]!==o.b){const a=this.buffer;a[s+0]=r[s+0]=o.r,a[s+1]=r[s+1]=o.g,a[s+2]=r[s+2]=o.b,i=!0}return i}updateMatrix3(e){let i=!1;const r=this.values,o=e.getValue().elements,s=e.offset;if(r[s+0]!==o[0]||r[s+1]!==o[1]||r[s+2]!==o[2]||r[s+4]!==o[3]||r[s+5]!==o[4]||r[s+6]!==o[5]||r[s+8]!==o[6]||r[s+9]!==o[7]||r[s+10]!==o[8]){const a=this.buffer;a[s+0]=r[s+0]=o[0],a[s+1]=r[s+1]=o[1],a[s+2]=r[s+2]=o[2],a[s+4]=r[s+4]=o[3],a[s+5]=r[s+5]=o[4],a[s+6]=r[s+6]=o[5],a[s+8]=r[s+8]=o[6],a[s+9]=r[s+9]=o[7],a[s+10]=r[s+10]=o[8],i=!0}return i}updateMatrix4(e){let i=!1;const r=this.values,o=e.getValue().elements,s=e.offset;return HGe(r,o,s)===!1&&(this.buffer.set(o,s),zGe(r,o,s),i=!0),i}_getBufferForType(e){return e==="int"||e==="ivec2"||e==="ivec3"||e==="ivec4"?new Int32Array(this.buffer.buffer):e==="uint"||e==="uvec2"||e==="uvec3"||e==="uvec4"?new Uint32Array(this.buffer.buffer):this.buffer}}function zGe(n,e,i){for(let r=0,o=e.length;r<o;r++)n[i+r]=e[r]}function HGe(n,e,i){for(let r=0,o=e.length;r<o;r++)if(n[i+r]!==e[r])return!1;return!0}let GGe=0;class VX extends kGe{constructor(e,i){super(e),this.id=GGe++,this.groupNode=i,this.isNodeUniformsGroup=!0}}let VGe=0;class WGe extends FD{constructor(e,i){super(e),this.id=VGe++,this.texture=i,this.version=i?i.version:0,this.store=!1,this.generation=null,this.isSampledTexture=!0}needsBindingsUpdate(e){const{texture:i}=this;return e!==this.generation?(this.generation=e,!0):i.isVideoTexture}update(){const{texture:e,version:i}=this;return i!==e.version?(this.version=e.version,!0):!1}}class NC extends WGe{constructor(e,i,r,o=null){super(e,i?i.value:null),this.textureNode=i,this.groupNode=r,this.access=o}needsBindingsUpdate(e){return this.textureNode.value!==this.texture||super.needsBindingsUpdate(e)}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class WX extends NC{constructor(e,i,r,o=null){super(e,i,r,o),this.isSampledCubeTexture=!0}}class jX extends NC{constructor(e,i,r,o=null){super(e,i,r,o),this.isSampledTexture3D=!0}}const jGe={textureDimensions:"textureSize",equals:"equal"},KGe={low:"lowp",medium:"mediump",high:"highp"},s8={swizzleAssign:!0,storageBuffer:!1},a8=`
precision highp float;
precision highp int;
precision highp sampler2D;
precision highp sampler3D;
precision highp samplerCube;
precision highp sampler2DArray;

precision highp usampler2D;
precision highp usampler3D;
precision highp usamplerCube;
precision highp usampler2DArray;

precision highp isampler2D;
precision highp isampler3D;
precision highp isamplerCube;
precision highp isampler2DArray;

precision lowp sampler2DShadow;
`;class qGe extends FX{constructor(e,i){super(e,i,new IGe),this.uniformGroups={},this.transforms=[],this.extensions={},this.builtins={vertex:[],fragment:[],compute:[]},this.useComparisonMethod=!0}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==Fs}getMethod(e){return jGe[e]||e}getOutputStructName(){return""}buildFunctionCode(e){const i=e.layout,r=this.flowShaderNode(e),o=[];for(const a of i.inputs)o.push(this.getType(a.type)+" "+a.name);return`${this.getType(i.type)} ${i.name}( ${o.join(", ")} ) {

	${r.vars}

${r.code}
	return ${r.result};

}`}setupPBO(e){const i=e.value;if(i.pbo===void 0){const r=i.array,o=i.count*i.itemSize,{itemSize:s}=i,a=i.array.constructor.name.toLowerCase().includes("int");let l=a?Nm:rb;s===2?l=a?Om:Ph:s===3?l=a?GNe:ib:s===4&&(l=a?Dm:Gr);const u={Float32Array:nr,Uint8Array:ho,Uint16Array:Ya,Uint32Array:zi,Int8Array:ch,Int16Array:dh,Int32Array:Dr,Uint8ClampedArray:ho},c=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(o/s))));let d=Math.ceil(o/s/c);c*d*s<o&&d++;const f=c*d*s,h=new r.constructor(f);h.set(r,0),i.array=h;const p=new jOe(i.array,c,d,l,u[i.array.constructor.name]||nr);p.needsUpdate=!0,p.isPBOTexture=!0;const g=new db(p,null,null);g.setPrecision("high"),i.pboNode=g,i.pbo=g.value,this.getUniformFromNode(i.pboNode,"texture",this.shaderStage,this.context.label)}}getPropertyName(e,i=this.shaderStage){return e.isNodeUniform&&e.node.isTextureNode!==!0&&e.node.isBufferNode!==!0?i.charAt(0)+"_"+e.name:super.getPropertyName(e,i)}generatePBO(e){const{node:i,indexNode:r}=e,o=i.value;if(this.renderer.backend.has(o)){const d=this.renderer.backend.get(o);d.pbo=o.pbo}const s=this.getUniformFromNode(o.pboNode,"texture",this.shaderStage,this.context.label),a=this.getPropertyName(s);this.increaseUsage(r);const l=r.build(this,"uint"),u=this.getDataFromNode(e);let c=u.propertyName;if(c===void 0){const d=this.getVarFromNode(e);c=this.getPropertyName(d);const f=this.getDataFromNode(i);let h=f.propertySizeName;h===void 0&&(h=c+"Size",this.getVarFromNode(i,h,"uint"),this.addLineFlowCode(`${h} = uint( textureSize( ${a}, 0 ).x )`,e),f.propertySizeName=h);const{itemSize:p}=o,g="."+zm.join("").slice(0,p),b=`ivec2(${l} % ${h}, ${l} / ${h})`,y=this.generateTextureLoad(null,a,b,null,"0");let m="vec4";o.pbo.type===zi?m="uvec4":o.pbo.type===Dr&&(m="ivec4"),this.addLineFlowCode(`${c} = ${m}(${y})${g}`,e),u.propertyName=c}return c}generateTextureLoad(e,i,r,o,s="0"){return o?`texelFetch( ${i}, ivec3( ${r}, ${o} ), ${s} )`:`texelFetch( ${i}, ${r}, ${s} )`}generateTexture(e,i,r,o){return e.isDepthTexture?`texture( ${i}, ${r} ).x`:(o&&(r=`vec3( ${r}, ${o} )`),`texture( ${i}, ${r} )`)}generateTextureLevel(e,i,r,o){return`textureLod( ${i}, ${r}, ${o} )`}generateTextureBias(e,i,r,o){return`texture( ${i}, ${r}, ${o} )`}generateTextureGrad(e,i,r,o){return`textureGrad( ${i}, ${r}, ${o[0]}, ${o[1]} )`}generateTextureCompare(e,i,r,o,s,a=this.shaderStage){if(a==="fragment")return`texture( ${i}, vec3( ${r}, ${o} ) )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${a} shader.`)}getVars(e){const i=[],r=this.vars[e];if(r!==void 0)for(const o of r)i.push(`${this.getVar(o.type,o.name)};`);return i.join(`
	`)}getUniforms(e){const i=this.uniforms[e],r=[],o={};for(const a of i){let l=null,u=!1;if(a.type==="texture"){const d=a.node.value;let f="";d.isDataTexture===!0&&(d.type===zi?f="u":d.type===Dr&&(f="i")),d.compareFunction?l=`sampler2DShadow ${a.name};`:d.isDataArrayTexture===!0||d.isCompressedArrayTexture===!0?l=`${f}sampler2DArray ${a.name};`:l=`${f}sampler2D ${a.name};`}else if(a.type==="cubeTexture")l=`samplerCube ${a.name};`;else if(a.type==="texture3D")l=`sampler3D ${a.name};`;else if(a.type==="buffer"){const d=a.node,f=this.getType(d.bufferType),h=d.bufferCount,p=h>0?h:"";l=`${d.name} {
	${f} ${a.name}[${p}];
};
`}else l=`${this.getVectorType(a.type)} ${this.getPropertyName(a,e)};`,u=!0;const c=a.node.precision;if(c!==null&&(l=KGe[c]+" "+l),u){l="	"+l;const d=a.groupNode.name;(o[d]||(o[d]=[])).push(l)}else l="uniform "+l,r.push(l)}let s="";for(const a in o){const l=o[a];s+=this._getGLSLUniformStruct(e+"_"+a,l.join(`
`))+`
`}return s+=r.join(`
`),s}getTypeFromAttribute(e){let i=super.getTypeFromAttribute(e);if(/^[iu]/.test(i)&&e.gpuType!==Dr){let r=e;e.isInterleavedBufferAttribute&&(r=e.data);const o=r.array;o instanceof Uint32Array||o instanceof Int32Array||(i=i.slice(1))}return i}getAttributes(e){let i="";if(e==="vertex"||e==="compute"){const r=this.getAttributesArray();let o=0;for(const s of r)i+=`layout( location = ${o++} ) in ${s.type} ${s.name};
`}return i}getStructMembers(e){const i=[],r=e.getMemberTypes();for(let o=0;o<r.length;o++){const s=r[o];i.push(`layout( location = ${o} ) out ${s} m${o};`)}return i.join(`
`)}getStructs(e){const i=[],r=this.structs[e];if(r.length===0)return`layout( location = 0 ) out vec4 fragColor;
`;for(let o=0,s=r.length;o<s;o++){const a=r[o];let l=`
`;l+=this.getStructMembers(a),l+=`
`,i.push(l)}return i.join(`

`)}getVaryings(e){let i="";const r=this.varyings;if(e==="vertex"||e==="compute")for(const o of r){e==="compute"&&(o.needsInterpolation=!0);const s=this.getType(o.type),a=s.includes("int")||s.includes("uv")||s.includes("iv")?"flat ":"";i+=`${a}${o.needsInterpolation?"out":"/*out*/"} ${s} ${o.name};
`}else if(e==="fragment"){for(const o of r)if(o.needsInterpolation){const s=this.getType(o.type),a=s.includes("int")||s.includes("uv")||s.includes("iv")?"flat ":"";i+=`${a}in ${s} ${o.name};
`}}for(const o of this.builtins[e])i+=`${o};
`;return i}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){return`uint( gl_InstanceID ) % ${this.object.workgroupSize.reduce((r,o)=>r*o,1)}u`}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(e,i,r=this.shaderStage){const o=this.extensions[r]||(this.extensions[r]=new Map);o.has(e)===!1&&o.set(e,{name:e,behavior:i})}getExtensions(e){const i=[];if(e==="vertex"){const o=this.renderer.backend.extensions;this.object.isBatchedMesh&&o.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",e)}const r=this.extensions[e];if(r!==void 0)for(const{name:o,behavior:s}of r.values())i.push(`#extension ${o} : ${s}`);return i.join(`
`)}getClipDistance(){return"gl_ClipDistance"}isAvailable(e){let i=s8[e];if(i===void 0){let r;switch(i=!1,e){case"float32Filterable":r="OES_texture_float_linear";break;case"clipDistance":r="WEBGL_clip_cull_distance";break}if(r!==void 0){const o=this.renderer.backend.extensions;o.has(r)&&(o.get(r),i=!0)}s8[e]=i}return i}isFlipY(){return!0}enableHardwareClipping(e){this.enableExtension("GL_ANGLE_clip_cull_distance","require"),this.builtins.vertex.push(`out float gl_ClipDistance[ ${e} ]`)}registerTransform(e,i){this.transforms.push({varyingName:e,attributeNode:i})}getTransforms(){const e=this.transforms;let i="";for(let r=0;r<e.length;r++){const o=e[r],s=this.getPropertyName(o.attributeNode);i+=`${o.varyingName} = ${s};
	`}return i}_getGLSLUniformStruct(e,i){return`
layout( std140 ) uniform ${e} {
${i}
};`}_getGLSLVertexCode(e){return`#version 300 es

${this.getSignature()}

// extensions 
${e.extensions}

// precision
${a8}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// attributes
${e.attributes}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// transforms
	${e.transforms}

	// flow
	${e.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(e){return`#version 300 es

${this.getSignature()}

// precision
${a8}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// codes
${e.codes}

${e.structs}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const i in e){let r=`// code

`;r+=this.flowCode[i];const o=this.flowNodes[i],s=o[o.length-1];for(const l of o){const u=this.getFlowData(l),c=l.name;c&&(r.length>0&&(r+=`
`),r+=`	// flow -> ${c}
	`),r+=`${u.code}
	`,l===s&&i!=="compute"&&(r+=`// result
	`,i==="vertex"?(r+="gl_Position = ",r+=`${u.result};`):i==="fragment"&&(l.outputNode.isOutputStructNode||(r+="fragColor = ",r+=`${u.result};`)))}const a=e[i];a.extensions=this.getExtensions(i),a.uniforms=this.getUniforms(i),a.attributes=this.getAttributes(i),a.varyings=this.getVaryings(i),a.vars=this.getVars(i),a.structs=this.getStructs(i),a.codes=this.getCodes(i),a.transforms=this.getTransforms(i),a.flow=r}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(e.vertex),this.fragmentShader=this._getGLSLFragmentCode(e.fragment)):this.computeShader=this._getGLSLVertexCode(e.compute)}getUniformFromNode(e,i,r,o=null){const s=super.getUniformFromNode(e,i,r,o),a=this.getDataFromNode(e,r,this.globalCache);let l=a.uniformGPU;if(l===void 0){const u=e.groupNode,c=u.name,d=this.getBindGroupArray(c,r);if(i==="texture")l=new NC(s.name,s.node,u),d.push(l);else if(i==="cubeTexture")l=new WX(s.name,s.node,u),d.push(l);else if(i==="texture3D")l=new jX(s.name,s.node,u),d.push(l);else if(i==="buffer"){e.name=`NodeBuffer_${e.id}`,s.name=`buffer${e.id}`;const f=new GX(e,u);f.name=e.name,d.push(f),l=f}else{const f=this.uniformGroups[r]||(this.uniformGroups[r]={});let h=f[c];h===void 0&&(h=new VX(r+"_"+c,u),f[c]=h,d.push(h)),l=this.getNodeUniform(s,i),h.addUniform(l)}a.uniformGPU=l}return s}}let QM=null,Qp=null;class KX{constructor(e={}){this.parameters=Object.assign({},e),this.data=new WeakMap,this.renderer=null,this.domElement=null}async init(e){this.renderer=e}get coordinateSystem(){}beginRender(){}finishRender(){}beginCompute(){}finishCompute(){}draw(){}compute(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}updateBinding(){}createRenderPipeline(){}createComputePipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}createSampler(){}destroySampler(){}createDefaultTexture(){}createTexture(){}updateTexture(){}generateMipmaps(){}destroyTexture(){}copyTextureToBuffer(){}copyTextureToTexture(){}copyFramebufferToTexture(){}createAttribute(){}createIndexAttribute(){}createStorageAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}updateViewport(){}isOccluded(){}async resolveTimestampAsync(){}async waitForGPU(){}async hasFeatureAsync(){}hasFeature(){}getMaxAnisotropy(){}getDrawingBufferSize(){return QM=QM||new Tt,this.renderer.getDrawingBufferSize(QM)}setScissorTest(){}getClearColor(){const e=this.renderer;return Qp=Qp||new ID,e.getClearColor(Qp),Qp.getRGB(Qp,this.renderer.currentColorSpace),Qp}getDomElement(){let e=this.domElement;return e===null&&(e=this.parameters.canvas!==void 0?this.parameters.canvas:oK(),"setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Im} webgpu`),this.domElement=e),e}set(e,i){this.data.set(e,i)}get(e){let i=this.data.get(e);return i===void 0&&(i={},this.data.set(e,i)),i}has(e){return this.data.has(e)}delete(e){this.data.delete(e)}dispose(){}}let XGe=0;class YGe{constructor(e,i){this.buffers=[e.bufferGPU,i],this.type=e.type,this.bufferType=e.bufferType,this.pbo=e.pbo,this.byteLength=e.byteLength,this.bytesPerElement=e.BYTES_PER_ELEMENT,this.version=e.version,this.isInteger=e.isInteger,this.activeBufferIndex=0,this.baseId=e.id}get id(){return`${this.baseId}|${this.activeBufferIndex}`}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[this.activeBufferIndex^1]}switchBuffers(){this.activeBufferIndex^=1}}class QGe{constructor(e){this.backend=e}createAttribute(e,i){const r=this.backend,{gl:o}=r,s=e.array,a=e.usage||o.STATIC_DRAW,l=e.isInterleavedBufferAttribute?e.data:e,u=r.get(l);let c=u.bufferGPU;c===void 0&&(c=this._createBuffer(o,i,s,a),u.bufferGPU=c,u.bufferType=i,u.version=l.version);let d;if(s instanceof Float32Array)d=o.FLOAT;else if(s instanceof Uint16Array)e.isFloat16BufferAttribute?d=o.HALF_FLOAT:d=o.UNSIGNED_SHORT;else if(s instanceof Int16Array)d=o.SHORT;else if(s instanceof Uint32Array)d=o.UNSIGNED_INT;else if(s instanceof Int32Array)d=o.INT;else if(s instanceof Int8Array)d=o.BYTE;else if(s instanceof Uint8Array)d=o.UNSIGNED_BYTE;else if(s instanceof Uint8ClampedArray)d=o.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+s);let f={bufferGPU:c,bufferType:i,type:d,byteLength:s.byteLength,bytesPerElement:s.BYTES_PER_ELEMENT,version:e.version,pbo:e.pbo,isInteger:d===o.INT||d===o.UNSIGNED_INT||e.gpuType===Dr,id:XGe++};if(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute){const h=this._createBuffer(o,i,s,a);f=new YGe(f,h)}r.set(e,f)}updateAttribute(e){const i=this.backend,{gl:r}=i,o=e.array,s=e.isInterleavedBufferAttribute?e.data:e,a=i.get(s),l=a.bufferType,u=e.isInterleavedBufferAttribute?e.data.updateRanges:e.updateRanges;if(r.bindBuffer(l,a.bufferGPU),u.length===0)r.bufferSubData(l,0,o);else{for(let c=0,d=u.length;c<d;c++){const f=u[c];r.bufferSubData(l,f.start*o.BYTES_PER_ELEMENT,o,f.start,f.count)}s.clearUpdateRanges()}r.bindBuffer(l,null),a.version=s.version}destroyAttribute(e){const i=this.backend,{gl:r}=i;e.isInterleavedBufferAttribute&&i.delete(e.data);const o=i.get(e);r.deleteBuffer(o.bufferGPU),i.delete(e)}async getArrayBufferAsync(e){const i=this.backend,{gl:r}=i,o=e.isInterleavedBufferAttribute?e.data:e,{bufferGPU:s}=i.get(o),a=e.array,l=a.byteLength;r.bindBuffer(r.COPY_READ_BUFFER,s);const u=r.createBuffer();r.bindBuffer(r.COPY_WRITE_BUFFER,u),r.bufferData(r.COPY_WRITE_BUFFER,l,r.STREAM_READ),r.copyBufferSubData(r.COPY_READ_BUFFER,r.COPY_WRITE_BUFFER,0,0,l),await i.utils._clientWaitAsync();const c=new e.array.constructor(a.length);return r.bindBuffer(r.COPY_WRITE_BUFFER,u),r.getBufferSubData(r.COPY_WRITE_BUFFER,0,c),r.deleteBuffer(u),r.bindBuffer(r.COPY_READ_BUFFER,null),r.bindBuffer(r.COPY_WRITE_BUFFER,null),c.buffer}_createBuffer(e,i,r,o){const s=e.createBuffer();return e.bindBuffer(i,s),e.bufferData(i,r,o),e.bindBuffer(i,null),s}}let l8=!1,ZM,qv;class ZGe{constructor(e){this.backend=e,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentClippingPlanes=0,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},l8===!1&&(this._init(this.gl),l8=!0)}_init(e){ZM={[Bs]:e.FUNC_ADD,[bO]:e.FUNC_SUBTRACT,[xO]:e.FUNC_REVERSE_SUBTRACT},qv={[_O]:e.ZERO,[SO]:e.ONE,[wO]:e.SRC_COLOR,[c0]:e.SRC_ALPHA,[RO]:e.SRC_ALPHA_SATURATE,[EO]:e.DST_COLOR,[AO]:e.DST_ALPHA,[CO]:e.ONE_MINUS_SRC_COLOR,[d0]:e.ONE_MINUS_SRC_ALPHA,[MO]:e.ONE_MINUS_DST_COLOR,[TO]:e.ONE_MINUS_DST_ALPHA}}enable(e){const{enabled:i}=this;i[e]!==!0&&(this.gl.enable(e),i[e]=!0)}disable(e){const{enabled:i}=this;i[e]!==!1&&(this.gl.disable(e),i[e]=!1)}setFlipSided(e){if(this.currentFlipSided!==e){const{gl:i}=this;e?i.frontFace(i.CW):i.frontFace(i.CCW),this.currentFlipSided=e}}setCullFace(e){const{gl:i}=this;e!==Gj?(this.enable(i.CULL_FACE),e!==this.currentCullFace&&(e===uP?i.cullFace(i.BACK):e===Vj?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):this.disable(i.CULL_FACE),this.currentCullFace=e}setLineWidth(e){const{currentLineWidth:i,gl:r}=this;e!==i&&(r.lineWidth(e),this.currentLineWidth=e)}setBlending(e,i,r,o,s,a,l,u){const{gl:c}=this;if(e===ls){this.currentBlendingEnabled===!0&&(this.disable(c.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(c.BLEND),this.currentBlendingEnabled=!0),e!==yO){if(e!==this.currentBlending||u!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==Bs||this.currentBlendEquationAlpha!==Bs)&&(c.blendEquation(c.FUNC_ADD),this.currentBlendEquation=Bs,this.currentBlendEquationAlpha=Bs),u)switch(e){case ga:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case tm:c.blendFunc(c.ONE,c.ONE);break;case nm:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case im:c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case ga:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case tm:c.blendFunc(c.SRC_ALPHA,c.ONE);break;case nm:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case im:c.blendFunc(c.ZERO,c.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=e,this.currentPremultipledAlpha=u}return}s=s||i,a=a||r,l=l||o,(i!==this.currentBlendEquation||s!==this.currentBlendEquationAlpha)&&(c.blendEquationSeparate(ZM[i],ZM[s]),this.currentBlendEquation=i,this.currentBlendEquationAlpha=s),(r!==this.currentBlendSrc||o!==this.currentBlendDst||a!==this.currentBlendSrcAlpha||l!==this.currentBlendDstAlpha)&&(c.blendFuncSeparate(qv[r],qv[o],qv[a],qv[l]),this.currentBlendSrc=r,this.currentBlendDst=o,this.currentBlendSrcAlpha=a,this.currentBlendDstAlpha=l),this.currentBlending=e,this.currentPremultipledAlpha=!1}setColorMask(e){this.currentColorMask!==e&&(this.gl.colorMask(e,e,e,e),this.currentColorMask=e)}setDepthTest(e){const{gl:i}=this;e?this.enable(i.DEPTH_TEST):this.disable(i.DEPTH_TEST)}setDepthMask(e){this.currentDepthMask!==e&&(this.gl.depthMask(e),this.currentDepthMask=e)}setDepthFunc(e){if(this.currentDepthFunc!==e){const{gl:i}=this;switch(e){case f0:i.depthFunc(i.NEVER);break;case h0:i.depthFunc(i.ALWAYS);break;case p0:i.depthFunc(i.LESS);break;case $d:i.depthFunc(i.LEQUAL);break;case g0:i.depthFunc(i.EQUAL);break;case m0:i.depthFunc(i.GEQUAL);break;case v0:i.depthFunc(i.GREATER);break;case y0:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}this.currentDepthFunc=e}}setStencilTest(e){const{gl:i}=this;e?this.enable(i.STENCIL_TEST):this.disable(i.STENCIL_TEST)}setStencilMask(e){this.currentStencilMask!==e&&(this.gl.stencilMask(e),this.currentStencilMask=e)}setStencilFunc(e,i,r){(this.currentStencilFunc!==e||this.currentStencilRef!==i||this.currentStencilFuncMask!==r)&&(this.gl.stencilFunc(e,i,r),this.currentStencilFunc=e,this.currentStencilRef=i,this.currentStencilFuncMask=r)}setStencilOp(e,i,r){(this.currentStencilFail!==e||this.currentStencilZFail!==i||this.currentStencilZPass!==r)&&(this.gl.stencilOp(e,i,r),this.currentStencilFail=e,this.currentStencilZFail=i,this.currentStencilZPass=r)}setMaterial(e,i,r){const{gl:o}=this;e.side===Oo?this.disable(o.CULL_FACE):this.enable(o.CULL_FACE);let s=e.side===Di;i&&(s=!s),this.setFlipSided(s),e.blending===ga&&e.transparent===!1?this.setBlending(ls):this.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),this.setDepthFunc(e.depthFunc),this.setDepthTest(e.depthTest),this.setDepthMask(e.depthWrite),this.setColorMask(e.colorWrite);const a=e.stencilWrite;if(this.setStencilTest(a),a&&(this.setStencilMask(e.stencilWriteMask),this.setStencilFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),this.setStencilOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),this.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),e.alphaToCoverage===!0&&this.backend.renderer.samples>1?this.enable(o.SAMPLE_ALPHA_TO_COVERAGE):this.disable(o.SAMPLE_ALPHA_TO_COVERAGE),r>0&&this.currentClippingPlanes!==r)for(let u=0;u<8;u++)u<r?this.enable(12288+u):this.disable(12288+u)}setPolygonOffset(e,i,r){const{gl:o}=this;e?(this.enable(o.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==i||this.currentPolygonOffsetUnits!==r)&&(o.polygonOffset(i,r),this.currentPolygonOffsetFactor=i,this.currentPolygonOffsetUnits=r)):this.disable(o.POLYGON_OFFSET_FILL)}useProgram(e){return this.currentProgram!==e?(this.gl.useProgram(e),this.currentProgram=e,!0):!1}bindFramebuffer(e,i){const{gl:r,currentBoundFramebuffers:o}=this;return o[e]!==i?(r.bindFramebuffer(e,i),o[e]=i,e===r.DRAW_FRAMEBUFFER&&(o[r.FRAMEBUFFER]=i),e===r.FRAMEBUFFER&&(o[r.DRAW_FRAMEBUFFER]=i),!0):!1}drawBuffers(e,i){const{gl:r}=this;let o=[],s=!1;if(e.textures!==null){o=this.currentDrawbuffers.get(i),o===void 0&&(o=[],this.currentDrawbuffers.set(i,o));const a=e.textures;if(o.length!==a.length||o[0]!==r.COLOR_ATTACHMENT0){for(let l=0,u=a.length;l<u;l++)o[l]=r.COLOR_ATTACHMENT0+l;o.length=a.length,s=!0}}else o[0]!==r.BACK&&(o[0]=r.BACK,s=!0);s&&r.drawBuffers(o)}activeTexture(e){const{gl:i,currentTextureSlot:r,maxTextures:o}=this;e===void 0&&(e=i.TEXTURE0+o-1),r!==e&&(i.activeTexture(e),this.currentTextureSlot=e)}bindTexture(e,i,r){const{gl:o,currentTextureSlot:s,currentBoundTextures:a,maxTextures:l}=this;r===void 0&&(s===null?r=o.TEXTURE0+l-1:r=s);let u=a[r];u===void 0&&(u={type:void 0,texture:void 0},a[r]=u),(u.type!==e||u.texture!==i)&&(s!==r&&(o.activeTexture(r),this.currentTextureSlot=r),o.bindTexture(e,i),u.type=e,u.texture=i)}bindBufferBase(e,i,r){const{gl:o}=this,s=`${e}-${i}`;return this.currentBoundBufferBases[s]!==r?(o.bindBufferBase(e,i,r),this.currentBoundBufferBases[s]=r,!0):!1}unbindTexture(){const{gl:e,currentTextureSlot:i,currentBoundTextures:r}=this,o=r[i];o!==void 0&&o.type!==void 0&&(e.bindTexture(o.type,null),o.type=void 0,o.texture=void 0)}}class JGe{constructor(e){this.backend=e,this.gl=this.backend.gl,this.extensions=e.extensions}convert(e,i=Fs){const{gl:r,extensions:o}=this;let s;if(e===ho)return r.UNSIGNED_BYTE;if(e===aC)return r.UNSIGNED_SHORT_4_4_4_4;if(e===lC)return r.UNSIGNED_SHORT_5_5_5_1;if(e===uC)return r.UNSIGNED_INT_5_9_9_9_REV;if(e===ch)return r.BYTE;if(e===dh)return r.SHORT;if(e===Ya)return r.UNSIGNED_SHORT;if(e===Dr)return r.INT;if(e===zi)return r.UNSIGNED_INT;if(e===nr)return r.FLOAT;if(e===Bo)return r.HALF_FLOAT;if(e===IO)return r.ALPHA;if(e===ib)return r.RGB;if(e===Gr)return r.RGBA;if(e===NO)return r.LUMINANCE;if(e===OO)return r.LUMINANCE_ALPHA;if(e===Ll)return r.DEPTH_COMPONENT;if(e===Vl)return r.DEPTH_STENCIL;if(e===rb)return r.RED;if(e===Nm)return r.RED_INTEGER;if(e===Ph)return r.RG;if(e===Om)return r.RG_INTEGER;if(e===Dm)return r.RGBA_INTEGER;if(e===fh||e===Md||e===Rd||e===Pd)if(i===Ut)if(s=o.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(e===fh)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Md)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===Rd)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===Pd)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=o.get("WEBGL_compressed_texture_s3tc"),s!==null){if(e===fh)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Md)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Rd)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Pd)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===b0||e===x0||e===_0||e===S0)if(s=o.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(e===b0)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===x0)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===_0)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===S0)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(e===w0||e===rm||e===om)if(s=o.get("WEBGL_compressed_texture_etc"),s!==null){if(e===w0||e===rm)return i===Ut?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(e===om)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(e===sm||e===am||e===lm||e===um||e===cm||e===dm||e===fm||e===hm||e===pm||e===gm||e===mm||e===vm||e===ym||e===bm)if(s=o.get("WEBGL_compressed_texture_astc"),s!==null){if(e===sm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===am)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===lm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===um)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===cm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===dm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===fm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===hm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===pm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===gm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===mm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===vm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===ym)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===bm)return i===Ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(e===hh)if(s=o.get("EXT_texture_compression_bptc"),s!==null){if(e===hh)return i===Ut?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(e===DO||e===C0||e===A0||e===T0)if(s=o.get("EXT_texture_compression_rgtc"),s!==null){if(e===hh)return s.COMPRESSED_RED_RGTC1_EXT;if(e===C0)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===A0)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===T0)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return e===Gl?r.UNSIGNED_INT_24_8:r[e]!==void 0?r[e]:null}_clientWaitAsync(){const{gl:e}=this,i=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),new Promise((r,o)=>{function s(){const a=e.clientWaitSync(i,e.SYNC_FLUSH_COMMANDS_BIT,0);if(a===e.WAIT_FAILED){e.deleteSync(i),o();return}if(a===e.TIMEOUT_EXPIRED){requestAnimationFrame(s);return}e.deleteSync(i),r()}s()})}}let u8=!1,q_,JM,c8;class eVe{constructor(e){this.backend=e,this.gl=e.gl,this.extensions=e.extensions,this.defaultTextures={},u8===!1&&(this._init(this.gl),u8=!0)}_init(e){q_={[Mh]:e.REPEAT,[Ml]:e.CLAMP_TO_EDGE,[Rh]:e.MIRRORED_REPEAT},JM={[Ci]:e.NEAREST,[Uw]:e.NEAREST_MIPMAP_NEAREST,[Rl]:e.NEAREST_MIPMAP_LINEAR,[Sr]:e.LINEAR,[Ng]:e.LINEAR_MIPMAP_NEAREST,[is]:e.LINEAR_MIPMAP_LINEAR},c8={[LO]:e.NEVER,[kO]:e.ALWAYS,[cC]:e.LESS,[dC]:e.LEQUAL,[BO]:e.EQUAL,[UO]:e.GEQUAL,[FO]:e.GREATER,[$O]:e.NOTEQUAL}}filterFallback(e){const{gl:i}=this;return e===Ci||e===Uw||e===Rl?i.NEAREST:i.LINEAR}getGLTextureType(e){const{gl:i}=this;let r;return e.isCubeTexture===!0?r=i.TEXTURE_CUBE_MAP:e.isDataArrayTexture===!0||e.isCompressedArrayTexture===!0?r=i.TEXTURE_2D_ARRAY:e.isData3DTexture===!0?r=i.TEXTURE_3D:r=i.TEXTURE_2D,r}getInternalFormat(e,i,r,o,s=!1){const{gl:a,extensions:l}=this;if(e!==null){if(a[e]!==void 0)return a[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}let u=i;return i===a.RED&&(r===a.FLOAT&&(u=a.R32F),r===a.HALF_FLOAT&&(u=a.R16F),r===a.UNSIGNED_BYTE&&(u=a.R8),r===a.UNSIGNED_SHORT&&(u=a.R16),r===a.UNSIGNED_INT&&(u=a.R32UI),r===a.BYTE&&(u=a.R8I),r===a.SHORT&&(u=a.R16I),r===a.INT&&(u=a.R32I)),i===a.RED_INTEGER&&(r===a.UNSIGNED_BYTE&&(u=a.R8UI),r===a.UNSIGNED_SHORT&&(u=a.R16UI),r===a.UNSIGNED_INT&&(u=a.R32UI),r===a.BYTE&&(u=a.R8I),r===a.SHORT&&(u=a.R16I),r===a.INT&&(u=a.R32I)),i===a.RG&&(r===a.FLOAT&&(u=a.RG32F),r===a.HALF_FLOAT&&(u=a.RG16F),r===a.UNSIGNED_BYTE&&(u=a.RG8),r===a.UNSIGNED_SHORT&&(u=a.RG16),r===a.UNSIGNED_INT&&(u=a.RG32UI),r===a.BYTE&&(u=a.RG8I),r===a.SHORT&&(u=a.RG16I),r===a.INT&&(u=a.RG32I)),i===a.RG_INTEGER&&(r===a.UNSIGNED_BYTE&&(u=a.RG8UI),r===a.UNSIGNED_SHORT&&(u=a.RG16UI),r===a.UNSIGNED_INT&&(u=a.RG32UI),r===a.BYTE&&(u=a.RG8I),r===a.SHORT&&(u=a.RG16I),r===a.INT&&(u=a.RG32I)),i===a.RGB&&(r===a.FLOAT&&(u=a.RGB32F),r===a.HALF_FLOAT&&(u=a.RGB16F),r===a.UNSIGNED_BYTE&&(u=a.RGB8),r===a.UNSIGNED_SHORT&&(u=a.RGB16),r===a.UNSIGNED_INT&&(u=a.RGB32UI),r===a.BYTE&&(u=a.RGB8I),r===a.SHORT&&(u=a.RGB16I),r===a.INT&&(u=a.RGB32I),r===a.UNSIGNED_BYTE&&(u=o===Ut&&s===!1?a.SRGB8:a.RGB8),r===a.UNSIGNED_SHORT_5_6_5&&(u=a.RGB565),r===a.UNSIGNED_SHORT_5_5_5_1&&(u=a.RGB5_A1),r===a.UNSIGNED_SHORT_4_4_4_4&&(u=a.RGB4),r===a.UNSIGNED_INT_5_9_9_9_REV&&(u=a.RGB9_E5)),i===a.RGB_INTEGER&&(r===a.UNSIGNED_BYTE&&(u=a.RGB8UI),r===a.UNSIGNED_SHORT&&(u=a.RGB16UI),r===a.UNSIGNED_INT&&(u=a.RGB32UI),r===a.BYTE&&(u=a.RGB8I),r===a.SHORT&&(u=a.RGB16I),r===a.INT&&(u=a.RGB32I)),i===a.RGBA&&(r===a.FLOAT&&(u=a.RGBA32F),r===a.HALF_FLOAT&&(u=a.RGBA16F),r===a.UNSIGNED_BYTE&&(u=a.RGBA8),r===a.UNSIGNED_SHORT&&(u=a.RGBA16),r===a.UNSIGNED_INT&&(u=a.RGBA32UI),r===a.BYTE&&(u=a.RGBA8I),r===a.SHORT&&(u=a.RGBA16I),r===a.INT&&(u=a.RGBA32I),r===a.UNSIGNED_BYTE&&(u=o===Ut&&s===!1?a.SRGB8_ALPHA8:a.RGBA8),r===a.UNSIGNED_SHORT_4_4_4_4&&(u=a.RGBA4),r===a.UNSIGNED_SHORT_5_5_5_1&&(u=a.RGB5_A1)),i===a.RGBA_INTEGER&&(r===a.UNSIGNED_BYTE&&(u=a.RGBA8UI),r===a.UNSIGNED_SHORT&&(u=a.RGBA16UI),r===a.UNSIGNED_INT&&(u=a.RGBA32UI),r===a.BYTE&&(u=a.RGBA8I),r===a.SHORT&&(u=a.RGBA16I),r===a.INT&&(u=a.RGBA32I)),i===a.DEPTH_COMPONENT&&(r===a.UNSIGNED_INT&&(u=a.DEPTH24_STENCIL8),r===a.FLOAT&&(u=a.DEPTH_COMPONENT32F)),i===a.DEPTH_STENCIL&&r===a.UNSIGNED_INT_24_8&&(u=a.DEPTH24_STENCIL8),(u===a.R16F||u===a.R32F||u===a.RG16F||u===a.RG32F||u===a.RGBA16F||u===a.RGBA32F)&&l.get("EXT_color_buffer_float"),u}setTextureParameters(e,i){const{gl:r,extensions:o,backend:s}=this;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,i.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,i.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texParameteri(e,r.TEXTURE_WRAP_S,q_[i.wrapS]),r.texParameteri(e,r.TEXTURE_WRAP_T,q_[i.wrapT]),(e===r.TEXTURE_3D||e===r.TEXTURE_2D_ARRAY)&&r.texParameteri(e,r.TEXTURE_WRAP_R,q_[i.wrapR]),r.texParameteri(e,r.TEXTURE_MAG_FILTER,JM[i.magFilter]);const a=i.mipmaps!==void 0&&i.mipmaps.length>0,l=i.minFilter===Sr&&a?is:i.minFilter;if(r.texParameteri(e,r.TEXTURE_MIN_FILTER,JM[l]),i.compareFunction&&(r.texParameteri(e,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(e,r.TEXTURE_COMPARE_FUNC,c8[i.compareFunction])),o.has("EXT_texture_filter_anisotropic")===!0){if(i.magFilter===Ci||i.minFilter!==Rl&&i.minFilter!==is||i.type===nr&&o.has("OES_texture_float_linear")===!1)return;if(i.anisotropy>1){const u=o.get("EXT_texture_filter_anisotropic");r.texParameterf(e,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,s.getMaxAnisotropy()))}}}createDefaultTexture(e){const{gl:i,backend:r,defaultTextures:o}=this,s=this.getGLTextureType(e);let a=o[s];a===void 0&&(a=i.createTexture(),r.state.bindTexture(s,a),i.texParameteri(s,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(s,i.TEXTURE_MAG_FILTER,i.NEAREST),o[s]=a),r.set(e,{textureGPU:a,glTextureType:s,isDefault:!0})}createTexture(e,i){const{gl:r,backend:o}=this,{levels:s,width:a,height:l,depth:u}=i,c=o.utils.convert(e.format,e.colorSpace),d=o.utils.convert(e.type),f=this.getInternalFormat(e.internalFormat,c,d,e.colorSpace,e.isVideoTexture),h=r.createTexture(),p=this.getGLTextureType(e);o.state.bindTexture(p,h),this.setTextureParameters(p,e),e.isDataArrayTexture||e.isCompressedArrayTexture?r.texStorage3D(r.TEXTURE_2D_ARRAY,s,f,a,l,u):e.isData3DTexture?r.texStorage3D(r.TEXTURE_3D,s,f,a,l,u):e.isVideoTexture||r.texStorage2D(p,s,f,a,l),o.set(e,{textureGPU:h,glTextureType:p,glFormat:c,glType:d,glInternalFormat:f})}copyBufferToTexture(e,i){const{gl:r,backend:o}=this,{textureGPU:s,glTextureType:a,glFormat:l,glType:u}=o.get(i),{width:c,height:d}=i.source.data;r.bindBuffer(r.PIXEL_UNPACK_BUFFER,e),o.state.bindTexture(a,s),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.texSubImage2D(a,0,0,0,c,d,l,u,0),r.bindBuffer(r.PIXEL_UNPACK_BUFFER,null),o.state.unbindTexture()}updateTexture(e,i){const{gl:r}=this,{width:o,height:s}=i,{textureGPU:a,glTextureType:l,glFormat:u,glType:c,glInternalFormat:d}=this.backend.get(e);if(e.isRenderTargetTexture||a===void 0)return;const f=h=>h.isDataTexture?h.image.data:typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&h instanceof ImageBitmap||h instanceof OffscreenCanvas?h:h.data;if(this.backend.state.bindTexture(l,a),this.setTextureParameters(l,e),e.isCompressedTexture){const h=e.mipmaps,p=i.image;for(let g=0;g<h.length;g++){const b=h[g];e.isCompressedArrayTexture?e.format!==r.RGBA?u!==null?r.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,g,0,0,0,b.width,b.height,p.depth,u,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texSubImage3D(r.TEXTURE_2D_ARRAY,g,0,0,0,b.width,b.height,p.depth,u,c,b.data):u!==null?r.compressedTexSubImage2D(r.TEXTURE_2D,g,0,0,b.width,b.height,u,b.data):console.warn("Unsupported compressed texture format")}}else if(e.isCubeTexture){const h=i.images;for(let p=0;p<6;p++){const g=f(h[p]);r.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,0,0,o,s,u,c,g)}}else if(e.isDataArrayTexture){const h=i.image;r.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,h.width,h.height,h.depth,u,c,h.data)}else if(e.isData3DTexture){const h=i.image;r.texSubImage3D(r.TEXTURE_3D,0,0,0,0,h.width,h.height,h.depth,u,c,h.data)}else if(e.isVideoTexture)e.update(),r.texImage2D(l,0,d,u,c,i.image);else{const h=f(i.image);r.texSubImage2D(l,0,0,0,o,s,u,c,h)}}generateMipmaps(e){const{gl:i,backend:r}=this,{textureGPU:o,glTextureType:s}=r.get(e);r.state.bindTexture(s,o),i.generateMipmap(s)}deallocateRenderBuffers(e){const{gl:i,backend:r}=this;if(e){const o=r.get(e);if(o.renderBufferStorageSetup=void 0,o.framebuffers){for(const s in o.framebuffers)i.deleteFramebuffer(o.framebuffers[s]);delete o.framebuffers}if(o.depthRenderbuffer&&(i.deleteRenderbuffer(o.depthRenderbuffer),delete o.depthRenderbuffer),o.stencilRenderbuffer&&(i.deleteRenderbuffer(o.stencilRenderbuffer),delete o.stencilRenderbuffer),o.msaaFrameBuffer&&(i.deleteFramebuffer(o.msaaFrameBuffer),delete o.msaaFrameBuffer),o.msaaRenderbuffers){for(let s=0;s<o.msaaRenderbuffers.length;s++)i.deleteRenderbuffer(o.msaaRenderbuffers[s]);delete o.msaaRenderbuffers}}}destroyTexture(e){const{gl:i,backend:r}=this,{textureGPU:o,renderTarget:s}=r.get(e);this.deallocateRenderBuffers(s),i.deleteTexture(o),r.delete(e)}copyTextureToTexture(e,i,r=null,o=null,s=0){const{gl:a,backend:l}=this,{state:u}=this.backend,{textureGPU:c,glTextureType:d,glType:f,glFormat:h}=l.get(i);let p,g,b,y,m,_;r!==null?(p=r.max.x-r.min.x,g=r.max.y-r.min.y,b=r.min.x,y=r.min.y):(p=e.image.width,g=e.image.height,b=0,y=0),o!==null?(m=o.x,_=o.y):(m=0,_=0),u.bindTexture(d,c),a.pixelStorei(a.UNPACK_ALIGNMENT,i.unpackAlignment),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,i.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,i.unpackAlignment);const S=a.getParameter(a.UNPACK_ROW_LENGTH),w=a.getParameter(a.UNPACK_IMAGE_HEIGHT),A=a.getParameter(a.UNPACK_SKIP_PIXELS),T=a.getParameter(a.UNPACK_SKIP_ROWS),C=a.getParameter(a.UNPACK_SKIP_IMAGES),R=e.isCompressedTexture?e.mipmaps[s]:e.image;if(a.pixelStorei(a.UNPACK_ROW_LENGTH,R.width),a.pixelStorei(a.UNPACK_IMAGE_HEIGHT,R.height),a.pixelStorei(a.UNPACK_SKIP_PIXELS,b),a.pixelStorei(a.UNPACK_SKIP_ROWS,y),e.isRenderTargetTexture||e.isDepthTexture){const E=l.get(e),P=l.get(i),I=l.get(E.renderTarget),D=l.get(P.renderTarget),F=I.framebuffers[E.cacheKey],L=D.framebuffers[P.cacheKey];u.bindFramebuffer(a.READ_FRAMEBUFFER,F),u.bindFramebuffer(a.DRAW_FRAMEBUFFER,L);let $=a.COLOR_BUFFER_BIT;e.isDepthTexture&&($=a.DEPTH_BUFFER_BIT),a.blitFramebuffer(b,y,p,g,m,_,p,g,$,a.NEAREST),u.bindFramebuffer(a.READ_FRAMEBUFFER,null),u.bindFramebuffer(a.DRAW_FRAMEBUFFER,null)}else e.isDataTexture?a.texSubImage2D(a.TEXTURE_2D,s,m,_,p,g,h,f,R.data):e.isCompressedTexture?a.compressedTexSubImage2D(a.TEXTURE_2D,s,m,_,R.width,R.height,h,R.data):a.texSubImage2D(a.TEXTURE_2D,s,m,_,p,g,h,f,R);a.pixelStorei(a.UNPACK_ROW_LENGTH,S),a.pixelStorei(a.UNPACK_IMAGE_HEIGHT,w),a.pixelStorei(a.UNPACK_SKIP_PIXELS,A),a.pixelStorei(a.UNPACK_SKIP_ROWS,T),a.pixelStorei(a.UNPACK_SKIP_IMAGES,C),s===0&&i.generateMipmaps&&a.generateMipmap(a.TEXTURE_2D),u.unbindTexture()}copyFramebufferToTexture(e,i,r){const{gl:o}=this,{state:s}=this.backend,{textureGPU:a}=this.backend.get(e),{x:l,y:u,z:c,w:d}=r,f=e.isDepthTexture===!0||i.renderTarget&&i.renderTarget.samples>0,h=i.renderTarget?i.renderTarget.height:this.backend.getDrawingBufferSize().y;if(f){const p=l!==0||u!==0;let g,b;if(e.isDepthTexture===!0?(g=o.DEPTH_BUFFER_BIT,b=o.DEPTH_ATTACHMENT,i.stencil&&(g|=o.STENCIL_BUFFER_BIT)):(g=o.COLOR_BUFFER_BIT,b=o.COLOR_ATTACHMENT0),p){const y=this.backend.get(i.renderTarget),m=y.framebuffers[i.getCacheKey()],_=y.msaaFrameBuffer;s.bindFramebuffer(o.DRAW_FRAMEBUFFER,m),s.bindFramebuffer(o.READ_FRAMEBUFFER,_);const S=h-u-d;o.blitFramebuffer(l,S,l+c,S+d,l,S,l+c,S+d,g,o.NEAREST),s.bindFramebuffer(o.READ_FRAMEBUFFER,m),s.bindTexture(o.TEXTURE_2D,a),o.copyTexSubImage2D(o.TEXTURE_2D,0,0,0,l,S,c,d),s.unbindTexture()}else{const y=o.createFramebuffer();s.bindFramebuffer(o.DRAW_FRAMEBUFFER,y),o.framebufferTexture2D(o.DRAW_FRAMEBUFFER,b,o.TEXTURE_2D,a,0),o.blitFramebuffer(0,0,c,d,0,0,c,d,g,o.NEAREST),o.deleteFramebuffer(y)}}else s.bindTexture(o.TEXTURE_2D,a),o.copyTexSubImage2D(o.TEXTURE_2D,0,0,0,l,h-d-u,c,d),s.unbindTexture();e.generateMipmaps&&this.generateMipmaps(e),this.backend._setFramebuffer(i)}setupRenderBufferStorage(e,i){const{gl:r}=this,o=i.renderTarget,{samples:s,depthTexture:a,depthBuffer:l,stencilBuffer:u,width:c,height:d}=o;if(r.bindRenderbuffer(r.RENDERBUFFER,e),l&&!u){let f=r.DEPTH_COMPONENT24;s>0?(a&&a.isDepthTexture&&a.type===r.FLOAT&&(f=r.DEPTH_COMPONENT32F),r.renderbufferStorageMultisample(r.RENDERBUFFER,s,f,c,d)):r.renderbufferStorage(r.RENDERBUFFER,f,c,d),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,e)}else l&&u&&(s>0?r.renderbufferStorageMultisample(r.RENDERBUFFER,s,r.DEPTH24_STENCIL8,c,d):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,c,d),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,e))}async copyTextureToBuffer(e,i,r,o,s,a){const{backend:l,gl:u}=this,{textureGPU:c,glFormat:d,glType:f}=this.backend.get(e),h=u.createFramebuffer();u.bindFramebuffer(u.READ_FRAMEBUFFER,h);const p=e.isCubeTexture?u.TEXTURE_CUBE_MAP_POSITIVE_X+a:u.TEXTURE_2D;u.framebufferTexture2D(u.READ_FRAMEBUFFER,u.COLOR_ATTACHMENT0,p,c,0);const g=this._getTypedArrayType(f),b=this._getBytesPerTexel(f,d),m=o*s*b,_=u.createBuffer();u.bindBuffer(u.PIXEL_PACK_BUFFER,_),u.bufferData(u.PIXEL_PACK_BUFFER,m,u.STREAM_READ),u.readPixels(i,r,o,s,d,f,0),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),await l.utils._clientWaitAsync();const S=new g(m/g.BYTES_PER_ELEMENT);return u.bindBuffer(u.PIXEL_PACK_BUFFER,_),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,S),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),u.deleteFramebuffer(h),S}_getTypedArrayType(e){const{gl:i}=this;if(e===i.UNSIGNED_BYTE)return Uint8Array;if(e===i.UNSIGNED_SHORT_4_4_4_4||e===i.UNSIGNED_SHORT_5_5_5_1||e===i.UNSIGNED_SHORT_5_6_5||e===i.UNSIGNED_SHORT)return Uint16Array;if(e===i.UNSIGNED_INT)return Uint32Array;if(e===i.HALF_FLOAT)return Uint16Array;if(e===i.FLOAT)return Float32Array;throw new Error(`Unsupported WebGL type: ${e}`)}_getBytesPerTexel(e,i){const{gl:r}=this;let o=0;if(e===r.UNSIGNED_BYTE&&(o=1),(e===r.UNSIGNED_SHORT_4_4_4_4||e===r.UNSIGNED_SHORT_5_5_5_1||e===r.UNSIGNED_SHORT_5_6_5||e===r.UNSIGNED_SHORT||e===r.HALF_FLOAT)&&(o=2),(e===r.UNSIGNED_INT||e===r.FLOAT)&&(o=4),i===r.RGBA)return o*4;if(i===r.RGB)return o*3;if(i===r.ALPHA)return o}}class tVe{constructor(e){this.backend=e,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(e){let i=this.extensions[e];return i===void 0&&(i=this.gl.getExtension(e),this.extensions[e]=i),i}has(e){return this.availableExtensions.includes(e)}}class nVe{constructor(e){this.backend=e,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const e=this.backend.gl,i=this.backend.extensions;if(i.has("EXT_texture_filter_anisotropic")===!0){const r=i.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const d8={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBKIT_WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-bc",EXT_texture_compression_bptc:"texture-compression-bptc",EXT_disjoint_timer_query_webgl2:"timestamp-query"};class iVe{constructor(e){this.gl=e.gl,this.extensions=e.extensions,this.info=e.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(e,i){const{gl:r,mode:o,object:s,type:a,info:l,index:u}=this;u!==0?r.drawElements(o,i,a,e):r.drawArrays(o,e,i),l.update(s,i,o,1)}renderInstances(e,i,r){const{gl:o,mode:s,type:a,index:l,object:u,info:c}=this;r!==0&&(l!==0?o.drawElementsInstanced(s,i,a,e,r):o.drawArraysInstanced(s,e,i,r),c.update(u,i,s,r))}renderMultiDraw(e,i,r){const{extensions:o,mode:s,object:a,info:l}=this;if(r===0)return;const u=o.get("WEBGL_multi_draw");if(u===null)for(let c=0;c<r;c++)this.render(e[c],i[c]);else{this.index!==0?u.multiDrawElementsWEBGL(s,i,0,this.type,e,0,r):u.multiDrawArraysWEBGL(s,e,0,i,0,r);let c=0;for(let d=0;d<r;d++)c+=i[d];l.update(a,c,s,1)}}renderMultiDrawInstances(e,i,r,o){const{extensions:s,mode:a,object:l,info:u}=this;if(r===0)return;const c=s.get("WEBGL_multi_draw");if(c===null)for(let d=0;d<r;d++)this.renderInstances(e[d],i[d],o[d]);else{this.index!==0?c.multiDrawElementsInstancedWEBGL(a,i,0,this.type,e,0,o,0,r):c.multiDrawArraysInstancedWEBGL(a,e,0,i,0,o,0,r);let d=0;for(let f=0;f<r;f++)d+=i[f]*o[f];u.update(l,d,a,1)}}}class f8 extends KX{constructor(e={}){super(e),this.isWebGLBackend=!0,this.attributeUtils=null,this.extensions=null,this.capabilities=null,this.textureUtils=null,this.bufferRenderer=null,this.gl=null,this.state=null,this.utils=null,this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.disjoint=null,this.parallel=null,this.trackTimestamp=e.trackTimestamp===!0,this._currentContext=null,this._knownBindings=new WeakSet}init(e){super.init(e);const i=this.parameters,r=i.context!==void 0?i.context:e.domElement.getContext("webgl2");function o(s){s.preventDefault();const a={api:"WebGL",message:s.statusMessage||"Unknown reason",reason:null,originalEvent:s};e.onDeviceLost(a)}this._onContextLost=o,e.domElement.addEventListener("webglcontextlost",o,!1),this.gl=r,this.extensions=new tVe(this),this.capabilities=new nVe(this),this.attributeUtils=new QGe(this),this.textureUtils=new eVe(this),this.bufferRenderer=new iVe(this),this.state=new ZGe(this),this.utils=new JGe(this),this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile")}get coordinateSystem(){return rs}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}async waitForGPU(){await this.utils._clientWaitAsync()}initTimestampQuery(e){if(!this.disjoint||!this.trackTimestamp)return;const i=this.get(e);if(this.queryRunning){i.queryQueue||(i.queryQueue=[]),i.queryQueue.push(e);return}i.activeQuery&&(this.gl.endQuery(this.disjoint.TIME_ELAPSED_EXT),i.activeQuery=null),i.activeQuery=this.gl.createQuery(),i.activeQuery!==null&&(this.gl.beginQuery(this.disjoint.TIME_ELAPSED_EXT,i.activeQuery),this.queryRunning=!0)}prepareTimestampBuffer(e){if(!this.disjoint||!this.trackTimestamp)return;const i=this.get(e);if(i.activeQuery&&(this.gl.endQuery(this.disjoint.TIME_ELAPSED_EXT),i.gpuQueries||(i.gpuQueries=[]),i.gpuQueries.push({query:i.activeQuery}),i.activeQuery=null,this.queryRunning=!1,i.queryQueue&&i.queryQueue.length>0)){const r=i.queryQueue.shift();this.initTimestampQuery(r)}}async resolveTimestampAsync(e,i="render"){if(!this.disjoint||!this.trackTimestamp)return;const r=this.get(e);r.gpuQueries||(r.gpuQueries=[]);for(let o=0;o<r.gpuQueries.length;o++){const s=r.gpuQueries[o],a=this.gl.getQueryParameter(s.query,this.gl.QUERY_RESULT_AVAILABLE),l=this.gl.getParameter(this.disjoint.GPU_DISJOINT_EXT);if(a&&!l){const u=this.gl.getQueryParameter(s.query,this.gl.QUERY_RESULT),c=Number(u)/1e6;this.gl.deleteQuery(s.query),r.gpuQueries.splice(o,1),o--,this.renderer.info.updateTimestamp(i,c)}}}getContext(){return this.gl}beginRender(e){const{gl:i}=this,r=this.get(e);if(this.initTimestampQuery(e),r.previousContext=this._currentContext,this._currentContext=e,this._setFramebuffer(e),this.clear(e.clearColor,e.clearDepth,e.clearStencil,e,!1),e.viewport?this.updateViewport(e):i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),e.scissor){const{x:s,y:a,width:l,height:u}=e.scissorValue;i.scissor(s,e.height-u-a,l,u)}const o=e.occlusionQueryCount;o>0&&(r.currentOcclusionQueries=r.occlusionQueries,r.currentOcclusionQueryObjects=r.occlusionQueryObjects,r.lastOcclusionObject=null,r.occlusionQueries=new Array(o),r.occlusionQueryObjects=new Array(o),r.occlusionQueryIndex=0)}finishRender(e){const{gl:i,state:r}=this,o=this.get(e),s=o.previousContext,a=e.occlusionQueryCount;a>0&&(a>o.occlusionQueryIndex&&i.endQuery(i.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(e));const l=e.textures;if(l!==null)for(let u=0;u<l.length;u++){const c=l[u];c.generateMipmaps&&this.generateMipmaps(c)}if(this._currentContext=s,e.textures!==null&&e.renderTarget){const u=this.get(e.renderTarget),{samples:c}=e.renderTarget;if(c>0){const d=u.framebuffers[e.getCacheKey()],f=i.COLOR_BUFFER_BIT,h=u.msaaFrameBuffer,p=e.textures;r.bindFramebuffer(i.READ_FRAMEBUFFER,h),r.bindFramebuffer(i.DRAW_FRAMEBUFFER,d);for(let g=0;g<p.length;g++)if(e.scissor){const{x:b,y,width:m,height:_}=e.scissorValue,S=e.height-_-y;i.blitFramebuffer(b,S,b+m,S+_,b,S,b+m,S+_,f,i.NEAREST),i.invalidateSubFramebuffer(i.READ_FRAMEBUFFER,u.invalidationArray,b,S,m,_)}else i.blitFramebuffer(0,0,e.width,e.height,0,0,e.width,e.height,f,i.NEAREST),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,u.invalidationArray)}}s!==null&&(this._setFramebuffer(s),s.viewport?this.updateViewport(s):i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight)),this.prepareTimestampBuffer(e)}resolveOccludedAsync(e){const i=this.get(e),{currentOcclusionQueries:r,currentOcclusionQueryObjects:o}=i;if(r&&o){const s=new WeakSet,{gl:a}=this;i.currentOcclusionQueryObjects=null,i.currentOcclusionQueries=null;const l=()=>{let u=0;for(let c=0;c<r.length;c++){const d=r[c];d!==null&&a.getQueryParameter(d,a.QUERY_RESULT_AVAILABLE)&&(a.getQueryParameter(d,a.QUERY_RESULT)>0&&s.add(o[c]),r[c]=null,a.deleteQuery(d),u++)}u<r.length?requestAnimationFrame(l):i.occluded=s};l()}}isOccluded(e,i){const r=this.get(e);return r.occluded&&r.occluded.has(i)}updateViewport(e){const i=this.gl,{x:r,y:o,width:s,height:a}=e.viewportValue;i.viewport(r,e.height-a-o,s,a)}setScissorTest(e){const i=this.gl;e?i.enable(i.SCISSOR_TEST):i.disable(i.SCISSOR_TEST)}clear(e,i,r,o=null,s=!0){const{gl:a}=this;if(o===null){const u=this.getClearColor();u.r*=u.a,u.g*=u.a,u.b*=u.a,o={textures:null,clearColorValue:u}}let l=0;if(e&&(l|=a.COLOR_BUFFER_BIT),i&&(l|=a.DEPTH_BUFFER_BIT),r&&(l|=a.STENCIL_BUFFER_BIT),l!==0){let u;if(o.clearColorValue?u=o.clearColorValue:(u=this.getClearColor(),u.r*=u.a,u.g*=u.a,u.b*=u.a),i&&this.state.setDepthMask(!0),o.textures===null)a.clearColor(u.r,u.g,u.b,u.a),a.clear(l);else{if(s&&this._setFramebuffer(o),e)for(let c=0;c<o.textures.length;c++)a.clearBufferfv(a.COLOR,c,[u.r,u.g,u.b,u.a]);i&&r?a.clearBufferfi(a.DEPTH_STENCIL,0,1,0):i?a.clearBufferfv(a.DEPTH,0,[1]):r&&a.clearBufferiv(a.STENCIL,0,[0])}}}beginCompute(e){const{state:i,gl:r}=this;i.bindFramebuffer(r.FRAMEBUFFER,null),this.initTimestampQuery(e)}compute(e,i,r,o){const{state:s,gl:a}=this;this.discard===!1&&(a.enable(a.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:l,transformBuffers:u,attributes:c}=this.get(o),d=this._getVaoKey(null,c),f=this.vaoCache[d];f===void 0?this._createVao(null,c):a.bindVertexArray(f),s.useProgram(l),this._bindUniforms(r);const h=this._getTransformFeedback(u);a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,h),a.beginTransformFeedback(a.POINTS),c[0].isStorageInstancedBufferAttribute?a.drawArraysInstanced(a.POINTS,0,1,i.count):a.drawArrays(a.POINTS,0,i.count),a.endTransformFeedback(),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,null);for(let p=0;p<u.length;p++){const g=u[p];g.pbo&&this.textureUtils.copyBufferToTexture(g.transformBuffer,g.pbo),g.switchBuffers()}}finishCompute(e){const i=this.gl;this.discard=!1,i.disable(i.RASTERIZER_DISCARD),this.prepareTimestampBuffer(e),this._currentContext&&this._setFramebuffer(this._currentContext)}draw(e){const{object:i,pipeline:r,material:o,context:s,hardwareClippingPlanes:a}=e,{programGPU:l}=this.get(r),{gl:u,state:c}=this,d=this.get(s),f=e.getDrawParameters();if(f===null)return;this._bindUniforms(e.getBindings());const h=i.isMesh&&i.matrixWorld.determinant()<0;c.setMaterial(o,h,a),c.useProgram(l);const p=this.get(e);let g=p.staticVao;if(g===void 0||p.geometryId!==e.geometry.id){const A=this._getVaoKey(e.getIndex(),e.getAttributes());if(g=this.vaoCache[A],g===void 0){let T;({vaoGPU:g,staticVao:T}=this._createVao(e.getIndex(),e.getAttributes())),T&&(p.staticVao=g,p.geometryId=e.geometry.id)}}u.bindVertexArray(g);const b=e.getIndex(),y=d.lastOcclusionObject;if(y!==i&&y!==void 0){if(y!==null&&y.occlusionTest===!0&&(u.endQuery(u.ANY_SAMPLES_PASSED),d.occlusionQueryIndex++),i.occlusionTest===!0){const A=u.createQuery();u.beginQuery(u.ANY_SAMPLES_PASSED,A),d.occlusionQueries[d.occlusionQueryIndex]=A,d.occlusionQueryObjects[d.occlusionQueryIndex]=i}d.lastOcclusionObject=i}const m=this.bufferRenderer;i.isPoints?m.mode=u.POINTS:i.isLineSegments?m.mode=u.LINES:i.isLine?m.mode=u.LINE_STRIP:i.isLineLoop?m.mode=u.LINE_LOOP:o.wireframe===!0?(c.setLineWidth(o.wireframeLinewidth*this.renderer.getPixelRatio()),m.mode=u.LINES):m.mode=u.TRIANGLES;const{vertexCount:_,instanceCount:S}=f;let{firstVertex:w}=f;if(m.object=i,b!==null){w*=b.array.BYTES_PER_ELEMENT;const A=this.get(b);m.index=b.count,m.type=A.type}else m.index=0;i.isBatchedMesh?i._multiDrawInstances!==null?m.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances):this.hasFeature("WEBGL_multi_draw")?m.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount):jf("THREE.WebGLRenderer: WEBGL_multi_draw not supported."):S>1?m.renderInstances(w,_,S):m.render(w,_),u.bindVertexArray(null)}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,i){this.textureUtils.createTexture(e,i)}updateTexture(e,i){this.textureUtils.updateTexture(e,i)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}copyTextureToBuffer(e,i,r,o,s,a){return this.textureUtils.copyTextureToBuffer(e,i,r,o,s,a)}createSampler(){}destroySampler(){}createNodeBuilder(e,i){return new qGe(e,i)}createProgram(e){const i=this.gl,{stage:r,code:o}=e,s=r==="fragment"?i.createShader(i.FRAGMENT_SHADER):i.createShader(i.VERTEX_SHADER);i.shaderSource(s,o),i.compileShader(s),this.set(e,{shaderGPU:s})}destroyProgram(e){this.delete(e)}createRenderPipeline(e,i){const r=this.gl,o=e.pipeline,{fragmentProgram:s,vertexProgram:a}=o,l=r.createProgram(),u=this.get(s).shaderGPU,c=this.get(a).shaderGPU;if(r.attachShader(l,u),r.attachShader(l,c),r.linkProgram(l),this.set(o,{programGPU:l,fragmentShader:u,vertexShader:c}),i!==null&&this.parallel){const d=new Promise(f=>{const h=this.parallel,p=()=>{r.getProgramParameter(l,h.COMPLETION_STATUS_KHR)?(this._completeCompile(e,o),f()):requestAnimationFrame(p)};p()});i.push(d);return}this._completeCompile(e,o)}_handleSource(e,i){const r=e.split(`
`),o=[],s=Math.max(i-6,0),a=Math.min(i+6,r.length);for(let l=s;l<a;l++){const u=l+1;o.push(`${u===i?">":" "} ${u}: ${r[l]}`)}return o.join(`
`)}_getShaderErrors(e,i,r){const o=e.getShaderParameter(i,e.COMPILE_STATUS),s=e.getShaderInfoLog(i).trim();if(o&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const l=parseInt(a[1]);return r.toUpperCase()+`

`+s+`

`+this._handleSource(e.getShaderSource(i),l)}else return s}_logProgramError(e,i,r){if(this.renderer.debug.checkShaderErrors){const o=this.gl,s=o.getProgramInfoLog(e).trim();if(o.getProgramParameter(e,o.LINK_STATUS)===!1)if(typeof this.renderer.debug.onShaderError=="function")this.renderer.debug.onShaderError(o,e,r,i);else{const a=this._getShaderErrors(o,r,"vertex"),l=this._getShaderErrors(o,i,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(e,o.VALIDATE_STATUS)+`

Program Info Log: `+s+`
`+a+`
`+l)}else s!==""&&console.warn("THREE.WebGLProgram: Program Info Log:",s)}}_completeCompile(e,i){const{state:r,gl:o}=this,s=this.get(i),{programGPU:a,fragmentShader:l,vertexShader:u}=s;o.getProgramParameter(a,o.LINK_STATUS)===!1&&this._logProgramError(a,l,u),r.useProgram(a);const c=e.getBindings();this._setupBindings(c,a),this.set(i,{programGPU:a})}createComputePipeline(e,i){const{state:r,gl:o}=this,s={stage:"fragment",code:`#version 300 es
precision highp float;
void main() {}`};this.createProgram(s);const{computeProgram:a}=e,l=o.createProgram(),u=this.get(s).shaderGPU,c=this.get(a).shaderGPU,d=a.transforms,f=[],h=[];for(let y=0;y<d.length;y++){const m=d[y];f.push(m.varyingName),h.push(m.attributeNode)}o.attachShader(l,u),o.attachShader(l,c),o.transformFeedbackVaryings(l,f,o.SEPARATE_ATTRIBS),o.linkProgram(l),o.getProgramParameter(l,o.LINK_STATUS)===!1&&this._logProgramError(l,u,c),r.useProgram(l),this._setupBindings(i,l);const p=a.attributes,g=[],b=[];for(let y=0;y<p.length;y++){const m=p[y].node.attribute;g.push(m),this.has(m)||this.attributeUtils.createAttribute(m,o.ARRAY_BUFFER)}for(let y=0;y<h.length;y++){const m=h[y].attribute;this.has(m)||this.attributeUtils.createAttribute(m,o.ARRAY_BUFFER);const _=this.get(m);b.push(_)}this.set(e,{programGPU:l,transformBuffers:b,attributes:g})}createBindings(e,i){if(this._knownBindings.has(i)===!1){this._knownBindings.add(i);let r=0,o=0;for(const s of i){this.set(s,{textures:o,uniformBuffers:r});for(const a of s.bindings)a.isUniformBuffer&&r++,a.isSampledTexture&&o++}}this.updateBindings(e,i)}updateBindings(e){const{gl:i}=this,r=this.get(e);let o=r.uniformBuffers,s=r.textures;for(const a of e.bindings)if(a.isUniformsGroup||a.isUniformBuffer){const l=a.buffer,u=i.createBuffer();i.bindBuffer(i.UNIFORM_BUFFER,u),i.bufferData(i.UNIFORM_BUFFER,l,i.DYNAMIC_DRAW),this.set(a,{index:o++,bufferGPU:u})}else if(a.isSampledTexture){const{textureGPU:l,glTextureType:u}=this.get(a.texture);this.set(a,{index:s++,textureGPU:l,glTextureType:u})}}updateBinding(e){const i=this.gl;if(e.isUniformsGroup||e.isUniformBuffer){const o=this.get(e).bufferGPU,s=e.buffer;i.bindBuffer(i.UNIFORM_BUFFER,o),i.bufferData(i.UNIFORM_BUFFER,s,i.DYNAMIC_DRAW)}}createIndexAttribute(e){const i=this.gl;this.attributeUtils.createAttribute(e,i.ELEMENT_ARRAY_BUFFER)}createAttribute(e){if(this.has(e))return;const i=this.gl;this.attributeUtils.createAttribute(e,i.ARRAY_BUFFER)}createStorageAttribute(e){if(this.has(e))return;const i=this.gl;this.attributeUtils.createAttribute(e,i.ARRAY_BUFFER)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}hasFeature(e){const i=Object.keys(d8).filter(o=>d8[o]===e),r=this.extensions;for(let o=0;o<i.length;o++)if(r.has(i[o]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(e,i,r=null,o=null,s=0){this.textureUtils.copyTextureToTexture(e,i,r,o,s)}copyFramebufferToTexture(e,i,r){this.textureUtils.copyFramebufferToTexture(e,i,r)}_setFramebuffer(e){const{gl:i,state:r}=this;let o=null;if(e.textures!==null){const s=e.renderTarget,a=this.get(s),{samples:l,depthBuffer:u,stencilBuffer:c}=s,d=s.isWebGLCubeRenderTarget===!0,f=s.isRenderTarget3D===!0,h=s.isRenderTargetArray===!0;let p=a.msaaFrameBuffer,g=a.depthRenderbuffer;const b=TX(e);let y;if(d?(a.cubeFramebuffers||(a.cubeFramebuffers={}),y=a.cubeFramebuffers[b]):(a.framebuffers||(a.framebuffers={}),y=a.framebuffers[b]),y===void 0){y=i.createFramebuffer(),r.bindFramebuffer(i.FRAMEBUFFER,y);const m=e.textures;if(d){a.cubeFramebuffers[b]=y;const{textureGPU:_}=this.get(m[0]),S=this.renderer._activeCubeFace;i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+S,_,0)}else{a.framebuffers[b]=y;for(let _=0;_<m.length;_++){const S=m[_],w=this.get(S);w.renderTarget=e.renderTarget,w.cacheKey=b;const A=i.COLOR_ATTACHMENT0+_;if(f||h){const T=this.renderer._activeCubeFace;i.framebufferTextureLayer(i.FRAMEBUFFER,A,w.textureGPU,0,T)}else i.framebufferTexture2D(i.FRAMEBUFFER,A,i.TEXTURE_2D,w.textureGPU,0)}r.drawBuffers(e,y)}if(e.depthTexture!==null){const _=this.get(e.depthTexture),S=c?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;_.renderTarget=e.renderTarget,_.cacheKey=b,i.framebufferTexture2D(i.FRAMEBUFFER,S,i.TEXTURE_2D,_.textureGPU,0)}}if(l>0){if(p===void 0){const m=[];p=i.createFramebuffer(),r.bindFramebuffer(i.FRAMEBUFFER,p);const _=[],S=e.textures;for(let w=0;w<S.length;w++){if(_[w]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,_[w]),m.push(i.COLOR_ATTACHMENT0+w),u){const C=c?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;m.push(C)}const A=e.textures[w],T=this.get(A);i.renderbufferStorageMultisample(i.RENDERBUFFER,l,T.glInternalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+w,i.RENDERBUFFER,_[w])}if(a.msaaFrameBuffer=p,a.msaaRenderbuffers=_,g===void 0){g=i.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(g,e),a.depthRenderbuffer=g;const w=c?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;m.push(w)}a.invalidationArray=m}o=a.msaaFrameBuffer}else o=y}r.bindFramebuffer(i.FRAMEBUFFER,o)}_getVaoKey(e,i){let r="";if(e!==null){const o=this.get(e);r+=":"+o.id}for(let o=0;o<i.length;o++){const s=this.get(i[o]);r+=":"+s.id}return r}_createVao(e,i){const{gl:r}=this,o=r.createVertexArray();let s="",a=!0;if(r.bindVertexArray(o),e!==null){const l=this.get(e);r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,l.bufferGPU),s+=":"+l.id}for(let l=0;l<i.length;l++){const u=i[l],c=this.get(u);s+=":"+c.id,r.bindBuffer(r.ARRAY_BUFFER,c.bufferGPU),r.enableVertexAttribArray(l),(u.isStorageBufferAttribute||u.isStorageInstancedBufferAttribute)&&(a=!1);let d,f;u.isInterleavedBufferAttribute===!0?(d=u.data.stride*c.bytesPerElement,f=u.offset*c.bytesPerElement):(d=0,f=0),c.isInteger?r.vertexAttribIPointer(l,u.itemSize,c.type,d,f):r.vertexAttribPointer(l,u.itemSize,c.type,u.normalized,d,f),u.isInstancedBufferAttribute&&!u.isInterleavedBufferAttribute?r.vertexAttribDivisor(l,u.meshPerAttribute):u.isInterleavedBufferAttribute&&u.data.isInstancedInterleavedBuffer&&r.vertexAttribDivisor(l,u.data.meshPerAttribute)}return r.bindBuffer(r.ARRAY_BUFFER,null),this.vaoCache[s]=o,{vaoGPU:o,staticVao:a}}_getTransformFeedback(e){let i="";for(let s=0;s<e.length;s++)i+=":"+e[s].id;let r=this.transformFeedbackCache[i];if(r!==void 0)return r;const{gl:o}=this;r=o.createTransformFeedback(),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,r);for(let s=0;s<e.length;s++){const a=e[s];o.bindBufferBase(o.TRANSFORM_FEEDBACK_BUFFER,s,a.transformBuffer)}return o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[i]=r,r}_setupBindings(e,i){const r=this.gl;for(const o of e)for(const s of o.bindings){const l=this.get(s).index;if(s.isUniformsGroup||s.isUniformBuffer){const u=r.getUniformBlockIndex(i,s.name);r.uniformBlockBinding(i,u,l)}else if(s.isSampledTexture){const u=r.getUniformLocation(i,s.name);r.uniform1i(u,l)}}}_bindUniforms(e){const{gl:i,state:r}=this;for(const o of e)for(const s of o.bindings){const a=this.get(s),l=a.index;s.isUniformsGroup||s.isUniformBuffer?r.bindBufferBase(i.UNIFORM_BUFFER,l,a.bufferGPU):s.isSampledTexture&&r.bindTexture(a.glTextureType,a.textureGPU,i.TEXTURE0+l)}}dispose(){this.renderer.domElement.removeEventListener("webglcontextlost",this._onContextLost)}}const gg={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},zr={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},ro={Store:"store",Discard:"discard"},er={Load:"load",Clear:"clear"},e2={CCW:"ccw",CW:"cw"},t2={None:"none",Front:"front",Back:"back"},Am={Uint16:"uint16",Uint32:"uint32"},Re={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10uFloat:"rgb10a2unorm",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Stencil8:"stencil8",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},n2={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},Qf={Linear:"linear",Nearest:"nearest"},Yt={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDstColor:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},Rf={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},h8={None:0,Red:1,Green:2,Blue:4,Alpha:8,All:15},ld={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},i2={Uniform:"uniform",Storage:"storage",ReadOnlyStorage:"read-only-storage"},r2={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"},Zp={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},p8={OneD:"1d",TwoD:"2d",ThreeD:"3d"},Zo={OneD:"1d",TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",CubeArray:"cube-array",ThreeD:"3d"},rVe={All:"all",StencilOnly:"stencil-only",DepthOnly:"depth-only"},X_={Vertex:"vertex",Instance:"instance"},$P={DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups"};class oVe extends FD{constructor(e,i){super(e),this.texture=i,this.version=i?i.version:0,this.isSampler=!0}}class sVe extends oVe{constructor(e,i,r){super(e,i?i.value:null),this.textureNode=i,this.groupNode=r}update(){this.texture=this.textureNode.value}}class aVe extends zX{constructor(e,i){super(e,i?i.array:null),this.attribute=i,this.isStorageBuffer=!0}}let lVe=0;class uVe extends aVe{constructor(e,i){super("StorageBuffer_"+lVe++,e?e.value:null),this.nodeUniform=e,this.access=e?e.access:Zu.READ_WRITE,this.groupNode=i}get buffer(){return this.nodeUniform.value}}class cVe extends Jd{constructor(e){super(),this.device=e;const i=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,r=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,o=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=e.createSampler({minFilter:Qf.Linear}),this.flipYSampler=e.createSampler({minFilter:Qf.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=e.createShaderModule({label:"mipmapVertex",code:i}),this.mipmapFragmentShaderModule=e.createShaderModule({label:"mipmapFragment",code:r}),this.flipYFragmentShaderModule=e.createShaderModule({label:"flipYFragment",code:o})}getTransferPipeline(e){let i=this.transferPipelines[e];return i===void 0&&(i=this.device.createRenderPipeline({label:`mipmap-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:gg.TriangleStrip,stripIndexFormat:Am.Uint32},layout:"auto"}),this.transferPipelines[e]=i),i}getFlipYPipeline(e){let i=this.flipYPipelines[e];return i===void 0&&(i=this.device.createRenderPipeline({label:`flipY-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:gg.TriangleStrip,stripIndexFormat:Am.Uint32},layout:"auto"}),this.flipYPipelines[e]=i),i}flipY(e,i,r=0){const o=i.format,{width:s,height:a}=i.size,l=this.getTransferPipeline(o),u=this.getFlipYPipeline(o),c=this.device.createTexture({size:{width:s,height:a,depthOrArrayLayers:1},format:o,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),d=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Zo.TwoD,baseArrayLayer:r}),f=c.createView({baseMipLevel:0,mipLevelCount:1,dimension:Zo.TwoD,baseArrayLayer:0}),h=this.device.createCommandEncoder({}),p=(g,b,y)=>{const m=g.getBindGroupLayout(0),_=this.device.createBindGroup({layout:m,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:b}]}),S=h.beginRenderPass({colorAttachments:[{view:y,loadOp:er.Clear,storeOp:ro.Store,clearValue:[0,0,0,0]}]});S.setPipeline(g),S.setBindGroup(0,_),S.draw(4,1,0,0),S.end()};p(l,d,f),p(u,f,d),this.device.queue.submit([h.finish()]),c.destroy()}generateMipmaps(e,i,r=0){const o=this.get(e);o.useCount===void 0&&(o.useCount=0,o.layers=[]);const s=o.layers[r]||this._mipmapCreateBundles(e,i,r),a=this.device.createCommandEncoder({});this._mipmapRunBundles(a,s),this.device.queue.submit([a.finish()]),o.useCount!==0&&(o.layers[r]=s),o.useCount++}_mipmapCreateBundles(e,i,r){const o=this.getTransferPipeline(i.format),s=o.getBindGroupLayout(0);let a=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Zo.TwoD,baseArrayLayer:r});const l=[];for(let u=1;u<i.mipLevelCount;u++){const c=this.device.createBindGroup({layout:s,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:a}]}),d=e.createView({baseMipLevel:u,mipLevelCount:1,dimension:Zo.TwoD,baseArrayLayer:r}),f={colorAttachments:[{view:d,loadOp:er.Clear,storeOp:ro.Store,clearValue:[0,0,0,0]}]},h=this.device.createRenderBundleEncoder({colorFormats:[i.format]});h.setPipeline(o),h.setBindGroup(0,c),h.draw(4,1,0,0),l.push({renderBundles:[h.finish()],passDescriptor:f}),a=d}return l}_mipmapRunBundles(e,i){const r=i.length;for(let o=0;o<r;o++){const s=i[o],a=e.beginRenderPass(s.passDescriptor);a.executeBundles(s.renderBundles),a.end()}}}const dVe={[LO]:"never",[cC]:"less",[BO]:"equal",[dC]:"less-equal",[FO]:"greater",[UO]:"greater-equal",[kO]:"always",[$O]:"not-equal"},fVe=[0,1,3,2,4,5];class hVe{constructor(e){this.backend=e,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this.colorBuffer=null,this.depthTexture=new Yd,this.depthTexture.name="depthBuffer"}createSampler(e){const i=this.backend,r=i.device,o=i.get(e),s={addressModeU:this._convertAddressMode(e.wrapS),addressModeV:this._convertAddressMode(e.wrapT),addressModeW:this._convertAddressMode(e.wrapR),magFilter:this._convertFilterMode(e.magFilter),minFilter:this._convertFilterMode(e.minFilter),mipmapFilter:this._convertFilterMode(e.minFilter),maxAnisotropy:1};s.magFilter===Qf.Linear&&s.minFilter===Qf.Linear&&s.mipmapFilter===Qf.Linear&&(s.maxAnisotropy=e.anisotropy),e.isDepthTexture&&e.compareFunction!==null&&(s.compare=dVe[e.compareFunction]),o.sampler=r.createSampler(s)}createDefaultTexture(e){let i;const r=UP(e);e.isCubeTexture?i=this._getDefaultCubeTextureGPU(r):e.isVideoTexture?this.backend.get(e).externalTexture=this._getDefaultVideoFrame():i=this._getDefaultTextureGPU(r),this.backend.get(e).texture=i}createTexture(e,i={}){const r=this.backend,o=r.get(e);if(o.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");i.needsMipmaps===void 0&&(i.needsMipmaps=!1),i.levels===void 0&&(i.levels=1),i.depth===void 0&&(i.depth=1);const{width:s,height:a,depth:l,levels:u}=i;e.isFramebufferTexture&&(i.renderTarget?i.format=this.backend.utils.getCurrentColorFormat(i.renderTarget):i.format=this.backend.utils.getPreferredCanvasFormat());const c=this._getDimension(e),d=e.internalFormat||i.format||UP(e,r.device);o.format=d;const{samples:f,primarySamples:h,isMSAA:p}=r.utils.getTextureSampleData(e);let g=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;e.isStorageTexture===!0&&(g|=GPUTextureUsage.STORAGE_BINDING),e.isCompressedTexture!==!0&&e.isCompressedArrayTexture!==!0&&(g|=GPUTextureUsage.RENDER_ATTACHMENT);const b={label:e.name,size:{width:s,height:a,depthOrArrayLayers:l},mipLevelCount:u,sampleCount:h,dimension:c,format:d,usage:g};if(e.isVideoTexture){const y=e.source.data,m=new VideoFrame(y);b.size.width=m.displayWidth,b.size.height=m.displayHeight,m.close(),o.externalTexture=y}else{if(d===void 0)return console.warn("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(e);o.texture=r.device.createTexture(b)}if(p){const y=Object.assign({},b);y.label=y.label+"-msaa",y.sampleCount=f,o.msaaTexture=r.device.createTexture(y)}o.initialized=!0,o.textureDescriptorGPU=b}destroyTexture(e){const i=this.backend,r=i.get(e);r.texture!==void 0&&r.texture.destroy(),r.msaaTexture!==void 0&&r.msaaTexture.destroy(),i.delete(e)}destroySampler(e){const r=this.backend.get(e);delete r.sampler}generateMipmaps(e){const i=this.backend.get(e);if(e.isCubeTexture)for(let r=0;r<6;r++)this._generateMipmaps(i.texture,i.textureDescriptorGPU,r);else{const r=e.image.depth||1;for(let o=0;o<r;o++)this._generateMipmaps(i.texture,i.textureDescriptorGPU,o)}}getColorBuffer(){this.colorBuffer&&this.colorBuffer.destroy();const e=this.backend,{width:i,height:r}=e.getDrawingBufferSize();return this.colorBuffer=e.device.createTexture({label:"colorBuffer",size:{width:i,height:r,depthOrArrayLayers:1},sampleCount:e.utils.getSampleCount(e.renderer.samples),format:e.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),this.colorBuffer}getDepthBuffer(e=!0,i=!1){const r=this.backend,{width:o,height:s}=r.getDrawingBufferSize(),a=this.depthTexture,l=r.get(a).texture;let u,c;if(i?(u=Vl,c=Gl):e&&(u=Ll,c=zi),l!==void 0){if(a.image.width===o&&a.image.height===s&&a.format===u&&a.type===c)return l;this.destroyTexture(a)}return a.name="depthBuffer",a.format=u,a.type=c,a.image.width=o,a.image.height=s,this.createTexture(a,{width:o,height:s}),r.get(a).texture}updateTexture(e,i){const r=this.backend.get(e),{textureDescriptorGPU:o}=r;if(!(e.isRenderTargetTexture||o===void 0)){if(e.isDataTexture)this._copyBufferToTexture(i.image,r.texture,o,0,e.flipY);else if(e.isDataArrayTexture||e.isData3DTexture)for(let s=0;s<i.image.depth;s++)this._copyBufferToTexture(i.image,r.texture,o,s,e.flipY,s);else if(e.isCompressedTexture||e.isCompressedArrayTexture)this._copyCompressedBufferToTexture(e.mipmaps,r.texture,o);else if(e.isCubeTexture)this._copyCubeMapToTexture(i.images,r.texture,o,e.flipY);else if(e.isVideoTexture){const s=e.source.data;r.externalTexture=s}else this._copyImageToTexture(i.image,r.texture,o,0,e.flipY);r.version=e.version,e.onUpdate&&e.onUpdate(e)}}async copyTextureToBuffer(e,i,r,o,s,a){const l=this.backend.device,u=this.backend.get(e),c=u.texture,d=u.textureDescriptorGPU.format,f=this._getBytesPerTexel(d);let h=o*f;h=Math.ceil(h/256)*256;const p=l.createBuffer({size:o*s*f,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),g=l.createCommandEncoder();g.copyTextureToBuffer({texture:c,origin:{x:i,y:r,z:a}},{buffer:p,bytesPerRow:h},{width:o,height:s});const b=this._getTypedArrayType(d);l.queue.submit([g.finish()]),await p.mapAsync(GPUMapMode.READ);const y=p.getMappedRange();return new b(y)}_isEnvironmentTexture(e){const i=e.mapping;return i===Ud||i===kd||i===Sa||i===wa}_getDefaultTextureGPU(e){let i=this.defaultTexture[e];if(i===void 0){const r=new Ho;r.minFilter=Ci,r.magFilter=Ci,this.createTexture(r,{width:1,height:1,format:e}),this.defaultTexture[e]=i=r}return this.backend.get(i).texture}_getDefaultCubeTextureGPU(e){let i=this.defaultTexture[e];if(i===void 0){const r=new fC;r.minFilter=Ci,r.magFilter=Ci,this.createTexture(r,{width:1,height:1,depth:6}),this.defaultCubeTexture[e]=i=r}return this.backend.get(i).texture}_getDefaultVideoFrame(){let e=this.defaultVideoFrame;if(e===null){const i={timestamp:0,codedWidth:1,codedHeight:1,format:"RGBA"};this.defaultVideoFrame=e=new VideoFrame(new Uint8Array([0,0,0,255]),i)}return e}_copyCubeMapToTexture(e,i,r,o){for(let s=0;s<6;s++){const a=e[s],l=o===!0?fVe[s]:s;a.isDataTexture?this._copyBufferToTexture(a.image,i,r,l,o):this._copyImageToTexture(a,i,r,l,o)}}_copyImageToTexture(e,i,r,o,s){this.backend.device.queue.copyExternalImageToTexture({source:e},{texture:i,mipLevel:0,origin:{x:0,y:0,z:o}},{width:e.width,height:e.height,depthOrArrayLayers:1}),s===!0&&this._flipY(i,r,o)}_getPassUtils(){let e=this._passUtils;return e===null&&(this._passUtils=e=new cVe(this.backend.device)),e}_generateMipmaps(e,i,r=0){this._getPassUtils().generateMipmaps(e,i,r)}_flipY(e,i,r=0){this._getPassUtils().flipY(e,i,r)}_copyBufferToTexture(e,i,r,o,s,a=0){const l=this.backend.device,u=e.data,c=this._getBytesPerTexel(r.format),d=e.width*c;l.queue.writeTexture({texture:i,mipLevel:0,origin:{x:0,y:0,z:o}},u,{offset:e.width*e.height*c*a,bytesPerRow:d},{width:e.width,height:e.height,depthOrArrayLayers:1}),s===!0&&this._flipY(i,r,o)}_copyCompressedBufferToTexture(e,i,r){const o=this.backend.device,s=this._getBlockData(r.format),a=r.size.depthOrArrayLayers>1;for(let l=0;l<e.length;l++){const u=e[l],c=u.width,d=u.height,f=a?r.size.depthOrArrayLayers:1,h=Math.ceil(c/s.width)*s.byteLength,p=h*Math.ceil(d/s.height);for(let g=0;g<f;g++)o.queue.writeTexture({texture:i,mipLevel:l,origin:{x:0,y:0,z:g}},u.data,{offset:g*p,bytesPerRow:h,rowsPerImage:Math.ceil(d/s.height)},{width:Math.ceil(c/s.width)*s.width,height:Math.ceil(d/s.height)*s.height,depthOrArrayLayers:1})}}_getBlockData(e){if(e===Re.BC1RGBAUnorm||e===Re.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(e===Re.BC2RGBAUnorm||e===Re.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Re.BC3RGBAUnorm||e===Re.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Re.BC4RUnorm||e===Re.BC4RSNorm)return{byteLength:8,width:4,height:4};if(e===Re.BC5RGUnorm||e===Re.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(e===Re.BC6HRGBUFloat||e===Re.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(e===Re.BC7RGBAUnorm||e===Re.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Re.ETC2RGB8Unorm||e===Re.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(e===Re.ETC2RGB8A1Unorm||e===Re.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(e===Re.ETC2RGBA8Unorm||e===Re.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(e===Re.EACR11Unorm)return{byteLength:8,width:4,height:4};if(e===Re.EACR11Snorm)return{byteLength:8,width:4,height:4};if(e===Re.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(e===Re.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(e===Re.ASTC4x4Unorm||e===Re.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(e===Re.ASTC5x4Unorm||e===Re.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(e===Re.ASTC5x5Unorm||e===Re.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(e===Re.ASTC6x5Unorm||e===Re.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(e===Re.ASTC6x6Unorm||e===Re.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(e===Re.ASTC8x5Unorm||e===Re.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(e===Re.ASTC8x6Unorm||e===Re.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(e===Re.ASTC8x8Unorm||e===Re.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(e===Re.ASTC10x5Unorm||e===Re.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(e===Re.ASTC10x6Unorm||e===Re.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(e===Re.ASTC10x8Unorm||e===Re.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(e===Re.ASTC10x10Unorm||e===Re.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(e===Re.ASTC12x10Unorm||e===Re.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(e===Re.ASTC12x12Unorm||e===Re.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(e){let i=n2.ClampToEdge;return e===Mh?i=n2.Repeat:e===Rh&&(i=n2.MirrorRepeat),i}_convertFilterMode(e){let i=Qf.Linear;return(e===Ci||e===Uw||e===Rl)&&(i=Qf.Nearest),i}_getBytesPerTexel(e){if(e===Re.R8Unorm||e===Re.R8Snorm||e===Re.R8Uint||e===Re.R8Sint)return 1;if(e===Re.R16Uint||e===Re.R16Sint||e===Re.R16Float||e===Re.RG8Unorm||e===Re.RG8Snorm||e===Re.RG8Uint||e===Re.RG8Sint)return 2;if(e===Re.R32Uint||e===Re.R32Sint||e===Re.R32Float||e===Re.RG16Uint||e===Re.RG16Sint||e===Re.RG16Float||e===Re.RGBA8Unorm||e===Re.RGBA8UnormSRGB||e===Re.RGBA8Snorm||e===Re.RGBA8Uint||e===Re.RGBA8Sint||e===Re.BGRA8Unorm||e===Re.BGRA8UnormSRGB||e===Re.RGB9E5UFloat||e===Re.RGB10A2Unorm||e===Re.RG11B10UFloat||e===Re.Depth32Float||e===Re.Depth24Plus||e===Re.Depth24PlusStencil8||e===Re.Depth32FloatStencil8)return 4;if(e===Re.RG32Uint||e===Re.RG32Sint||e===Re.RG32Float||e===Re.RGBA16Uint||e===Re.RGBA16Sint||e===Re.RGBA16Float)return 8;if(e===Re.RGBA32Uint||e===Re.RGBA32Sint||e===Re.RGBA32Float)return 16}_getTypedArrayType(e){if(e===Re.R8Uint)return Uint8Array;if(e===Re.R8Sint)return Int8Array;if(e===Re.R8Unorm)return Uint8Array;if(e===Re.R8Snorm)return Int8Array;if(e===Re.RG8Uint)return Uint8Array;if(e===Re.RG8Sint)return Int8Array;if(e===Re.RG8Unorm)return Uint8Array;if(e===Re.RG8Snorm)return Int8Array;if(e===Re.RGBA8Uint)return Uint8Array;if(e===Re.RGBA8Sint)return Int8Array;if(e===Re.RGBA8Unorm)return Uint8Array;if(e===Re.RGBA8Snorm)return Int8Array;if(e===Re.R16Uint)return Uint16Array;if(e===Re.R16Sint)return Int16Array;if(e===Re.RG16Uint)return Uint16Array;if(e===Re.RG16Sint)return Int16Array;if(e===Re.RGBA16Uint)return Uint16Array;if(e===Re.RGBA16Sint)return Int16Array;if(e===Re.R16Float||e===Re.RG16Float||e===Re.RGBA16Float)return Uint16Array;if(e===Re.R32Uint)return Uint32Array;if(e===Re.R32Sint)return Int32Array;if(e===Re.R32Float)return Float32Array;if(e===Re.RG32Uint)return Uint32Array;if(e===Re.RG32Sint)return Int32Array;if(e===Re.RG32Float)return Float32Array;if(e===Re.RGBA32Uint)return Uint32Array;if(e===Re.RGBA32Sint)return Int32Array;if(e===Re.RGBA32Float)return Float32Array;if(e===Re.BGRA8Unorm||e===Re.BGRA8UnormSRGB)return Uint8Array;if(e===Re.RGB10A2Unorm||e===Re.RGB9E5UFloat||e===Re.RG11B10UFloat)return Uint32Array;if(e===Re.Depth32Float)return Float32Array;if(e===Re.Depth24Plus||e===Re.Depth24PlusStencil8)return Uint32Array;if(e===Re.Depth32FloatStencil8)return Float32Array}_getDimension(e){let i;return e.isData3DTexture?i=p8.ThreeD:i=p8.TwoD,i}}function UP(n,e=null){const i=n.format,r=n.type,o=n.colorSpace;let s;if(n.isCompressedTexture===!0||n.isCompressedArrayTexture===!0)switch(i){case Md:s=o===Ut?Re.BC1RGBAUnormSRGB:Re.BC1RGBAUnorm;break;case Rd:s=o===Ut?Re.BC2RGBAUnormSRGB:Re.BC2RGBAUnorm;break;case Pd:s=o===Ut?Re.BC3RGBAUnormSRGB:Re.BC3RGBAUnorm;break;case rm:s=o===Ut?Re.ETC2RGB8UnormSRGB:Re.ETC2RGB8Unorm;break;case om:s=o===Ut?Re.ETC2RGBA8UnormSRGB:Re.ETC2RGBA8Unorm;break;case sm:s=o===Ut?Re.ASTC4x4UnormSRGB:Re.ASTC4x4Unorm;break;case am:s=o===Ut?Re.ASTC5x4UnormSRGB:Re.ASTC5x4Unorm;break;case lm:s=o===Ut?Re.ASTC5x5UnormSRGB:Re.ASTC5x5Unorm;break;case um:s=o===Ut?Re.ASTC6x5UnormSRGB:Re.ASTC6x5Unorm;break;case cm:s=o===Ut?Re.ASTC6x6UnormSRGB:Re.ASTC6x6Unorm;break;case dm:s=o===Ut?Re.ASTC8x5UnormSRGB:Re.ASTC8x5Unorm;break;case fm:s=o===Ut?Re.ASTC8x6UnormSRGB:Re.ASTC8x6Unorm;break;case hm:s=o===Ut?Re.ASTC8x8UnormSRGB:Re.ASTC8x8Unorm;break;case pm:s=o===Ut?Re.ASTC10x5UnormSRGB:Re.ASTC10x5Unorm;break;case gm:s=o===Ut?Re.ASTC10x6UnormSRGB:Re.ASTC10x6Unorm;break;case mm:s=o===Ut?Re.ASTC10x8UnormSRGB:Re.ASTC10x8Unorm;break;case vm:s=o===Ut?Re.ASTC10x10UnormSRGB:Re.ASTC10x10Unorm;break;case ym:s=o===Ut?Re.ASTC12x10UnormSRGB:Re.ASTC12x10Unorm;break;case bm:s=o===Ut?Re.ASTC12x12UnormSRGB:Re.ASTC12x12Unorm;break;case Gr:s=o===Ut?Re.RGBA8UnormSRGB:Re.RGBA8Unorm;break;default:console.error("WebGPURenderer: Unsupported texture format.",i)}else switch(i){case Gr:switch(r){case ch:s=Re.RGBA8Snorm;break;case dh:s=Re.RGBA16Sint;break;case Ya:s=Re.RGBA16Uint;break;case zi:s=Re.RGBA32Uint;break;case Dr:s=Re.RGBA32Sint;break;case ho:s=o===Ut?Re.RGBA8UnormSRGB:Re.RGBA8Unorm;break;case Bo:s=Re.RGBA16Float;break;case nr:s=Re.RGBA32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAFormat.",r)}break;case ib:switch(r){case uC:s=Re.RGB9E5UFloat;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBFormat.",r)}break;case rb:switch(r){case ch:s=Re.R8Snorm;break;case dh:s=Re.R16Sint;break;case Ya:s=Re.R16Uint;break;case zi:s=Re.R32Uint;break;case Dr:s=Re.R32Sint;break;case ho:s=Re.R8Unorm;break;case Bo:s=Re.R16Float;break;case nr:s=Re.R32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RedFormat.",r)}break;case Ph:switch(r){case ch:s=Re.RG8Snorm;break;case dh:s=Re.RG16Sint;break;case Ya:s=Re.RG16Uint;break;case zi:s=Re.RG32Uint;break;case Dr:s=Re.RG32Sint;break;case ho:s=Re.RG8Unorm;break;case Bo:s=Re.RG16Float;break;case nr:s=Re.RG32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGFormat.",r)}break;case Ll:switch(r){case Ya:s=Re.Depth16Unorm;break;case zi:s=Re.Depth24Plus;break;case nr:s=Re.Depth32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthFormat.",r)}break;case Vl:switch(r){case Gl:s=Re.Depth24PlusStencil8;break;case nr:e&&e.features.has($P.Depth32FloatStencil8)===!1&&console.error('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),s=Re.Depth32FloatStencil8;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",r)}break;case Nm:switch(r){case Dr:s=Re.R32Sint;break;case zi:s=Re.R32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",r)}break;case Om:switch(r){case Dr:s=Re.RG32Sint;break;case zi:s=Re.RG32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",r)}break;case Dm:switch(r){case Dr:s=Re.RGBA32Sint;break;case zi:s=Re.RGBA32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",r)}break;default:console.error("WebGPURenderer: Unsupported texture format.",i)}return s}const pVe=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,gVe=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/ig,g8={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_depth_multisampled_2d:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"},mVe=n=>{n=n.trim();const e=n.match(pVe);if(e!==null&&e.length===4){const i=e[2],r=[];let o=null;for(;(o=gVe.exec(i))!==null;)r.push({name:o[1],type:o[2]});const s=[];for(let d=0;d<r.length;d++){const{name:f,type:h}=r[d];let p=h;p.startsWith("ptr")?p="pointer":(p.startsWith("texture")&&(p=h.split("<")[0]),p=g8[p]),s.push(new LD(p,f))}const a=n.substring(e[0].length),l=e[3]||"void",u=e[1]!==void 0?e[1]:"";return{type:g8[l]||l,inputs:s,name:u,inputsCode:i,blockCode:a,outputType:l}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class vVe extends BD{constructor(e){const{type:i,inputs:r,name:o,inputsCode:s,blockCode:a,outputType:l}=mVe(e);super(i,r,o),this.inputsCode=s,this.blockCode=a,this.outputType=l}getCode(e=this.name){const i=this.outputType!=="void"?"-> "+this.outputType:"";return`fn ${e} ( ${this.inputsCode.trim()} ) ${i}`+this.blockCode}}class yVe extends UX{parseFunction(e){return new vVe(e)}}const Jp=typeof self<"u"?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4},bVe={[Zu.READ_ONLY]:"read",[Zu.WRITE_ONLY]:"write",[Zu.READ_WRITE]:"read_write"},m8={[Mh]:"repeat",[Ml]:"clamp",[Rh]:"mirror"},Y_={vertex:Jp?Jp.VERTEX:1,fragment:Jp?Jp.FRAGMENT:2,compute:Jp?Jp.COMPUTE:4},v8={instance:!0,swizzleAssign:!1,storageBuffer:!0},xVe={"^^":"tsl_xor"},_Ve={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",mat3:"mat3x3<f32>",mat4:"mat4x4<f32>"},y8={},aa={tsl_xor:new xr("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new xr("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new xr("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new xr("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new xr("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new xr("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new xr("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new xr("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new xr("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping_float:new xr("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),mirrorWrapping_float:new xr("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),clampWrapping_float:new xr("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),biquadraticTexture:new xr(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`)},dy={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>"};typeof navigator<"u"&&/Windows/g.test(navigator.userAgent)&&(aa.pow_float=new xr("fn tsl_pow_float( a : f32, b : f32 ) -> f32 { return select( -pow( -a, b ), pow( a, b ), a > 0.0 ); }"),aa.pow_vec2=new xr("fn tsl_pow_vec2( a : vec2f, b : vec2f ) -> vec2f { return vec2f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ) ); }",[aa.pow_float]),aa.pow_vec3=new xr("fn tsl_pow_vec3( a : vec3f, b : vec3f ) -> vec3f { return vec3f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ) ); }",[aa.pow_float]),aa.pow_vec4=new xr("fn tsl_pow_vec4( a : vec4f, b : vec4f ) -> vec4f { return vec4f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ), tsl_pow_float( a.w, b.w ) ); }",[aa.pow_float]),dy.pow_float="tsl_pow_float",dy.pow_vec2="tsl_pow_vec2",dy.pow_vec3="tsl_pow_vec3",dy.pow_vec4="tsl_pow_vec4");let qX="";(typeof navigator<"u"&&/Firefox|Deno/g.test(navigator.userAgent))!==!0&&(qX+=`diagnostic( off, derivative_uniformity );
`);class SVe extends FX{constructor(e,i){super(e,i,new yVe),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==Fs}_generateTextureSample(e,i,r,o,s=this.shaderStage){return s==="fragment"?o?`textureSample( ${i}, ${i}_sampler, ${r}, ${o} )`:`textureSample( ${i}, ${i}_sampler, ${r} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,i,r):this.generateTextureLod(e,i,r,o,"0")}_generateVideoSample(e,i,r=this.shaderStage){if(r==="fragment")return`textureSampleBaseClampToEdge( ${e}, ${e}_sampler, vec2<f32>( ${i}.x, 1.0 - ${i}.y ) )`;console.error(`WebGPURenderer: THREE.VideoTexture does not support ${r} shader.`)}_generateTextureSampleLevel(e,i,r,o,s,a=this.shaderStage){return(a==="fragment"||a==="compute")&&this.isUnfilterable(e)===!1?`textureSampleLevel( ${i}, ${i}_sampler, ${r}, ${o} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,i,r,o):this.generateTextureLod(e,i,r,s,o)}generateWrapFunction(e){const i=`tsl_coord_${m8[e.wrapS]}S_${m8[e.wrapT]}_${e.isData3DTexture?"3d":"2d"}T`;let r=y8[i];if(r===void 0){const o=[],s=e.isData3DTexture?"vec3f":"vec2f";let a=`fn ${i}( coord : ${s} ) -> ${s} {

	return ${s}(
`;const l=(u,c)=>{u===Mh?(o.push(aa.repeatWrapping_float),a+=`		tsl_repeatWrapping_float( coord.${c} )`):u===Ml?(o.push(aa.clampWrapping_float),a+=`		tsl_clampWrapping_float( coord.${c} )`):u===Rh?(o.push(aa.mirrorWrapping_float),a+=`		tsl_mirrorWrapping_float( coord.${c} )`):(a+=`		coord.${c}`,console.warn(`WebGPURenderer: Unsupported texture wrap type "${u}" for vertex shader.`))};l(e.wrapS,"x"),a+=`,
`,l(e.wrapT,"y"),e.isData3DTexture&&(a+=`,
`,l(e.wrapR,"z")),a+=`
	);

}
`,y8[i]=r=new xr(a,o)}return r.build(this),i}generateTextureDimension(e,i,r){const o=this.getDataFromNode(e,this.shaderStage,this.globalCache);o.dimensionsSnippet===void 0&&(o.dimensionsSnippet={});let s=o.dimensionsSnippet[r];if(o.dimensionsSnippet[r]===void 0){let a,l;const{primarySamples:u}=this.renderer.backend.utils.getTextureSampleData(e),c=u>1;e.isData3DTexture?l="vec3<u32>":l="vec2<u32>",c||e.isVideoTexture||e.isStorageTexture?a=i:a=`${i}${r?`, u32( ${r} )`:""}`,s=new $S(new kS(`textureDimensions( ${a} )`,l)),o.dimensionsSnippet[r]=s,(e.isDataArrayTexture||e.isData3DTexture)&&(o.arrayLayerCount=new $S(new kS(`textureNumLayers(${i})`,"u32"))),e.isTextureCube&&(o.cubeFaceCount=new $S(new kS("6u","u32")))}return s.build(this)}generateFilteredTexture(e,i,r,o="0u"){this._include("biquadraticTexture");const s=this.generateWrapFunction(e),a=this.generateTextureDimension(e,i,o);return`tsl_biquadraticTexture( ${i}, ${s}( ${r} ), ${a}, u32( ${o} ) )`}generateTextureLod(e,i,r,o,s="0u"){const a=this.generateWrapFunction(e),l=this.generateTextureDimension(e,i,s),u=e.isData3DTexture?"vec3":"vec2",c=`${u}<u32>(${a}(${r}) * ${u}<f32>(${l}))`;return this.generateTextureLoad(e,i,c,o,s)}generateTextureLoad(e,i,r,o,s="0u"){return e.isVideoTexture===!0||e.isStorageTexture===!0?`textureLoad( ${i}, ${r} )`:o?`textureLoad( ${i}, ${r}, ${o}, u32( ${s} ) )`:`textureLoad( ${i}, ${r}, u32( ${s} ) )`}generateTextureStore(e,i,r,o){return`textureStore( ${i}, ${r}, ${o} )`}isSampleCompare(e){return e.isDepthTexture===!0&&e.compareFunction!==null}isUnfilterable(e){return this.getComponentTypeFromTexture(e)!=="float"||!this.isAvailable("float32Filterable")&&e.isDataTexture===!0&&e.type===nr||this.isSampleCompare(e)===!1&&e.minFilter===Ci&&e.magFilter===Ci||this.renderer.backend.utils.getTextureSampleData(e).primarySamples>1}generateTexture(e,i,r,o,s=this.shaderStage){let a=null;return e.isVideoTexture===!0?a=this._generateVideoSample(i,r,s):this.isUnfilterable(e)?a=this.generateTextureLod(e,i,r,o,"0",s):a=this._generateTextureSample(e,i,r,o,s),a}generateTextureGrad(e,i,r,o,s,a=this.shaderStage){if(a==="fragment")return`textureSampleGrad( ${i}, ${i}_sampler, ${r},  ${o[0]}, ${o[1]} )`;console.error(`WebGPURenderer: THREE.TextureNode.gradient() does not support ${a} shader.`)}generateTextureCompare(e,i,r,o,s,a=this.shaderStage){if(a==="fragment")return`textureSampleCompare( ${i}, ${i}_sampler, ${r}, ${o} )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${a} shader.`)}generateTextureLevel(e,i,r,o,s,a=this.shaderStage){let l=null;return e.isVideoTexture===!0?l=this._generateVideoSample(i,r,a):l=this._generateTextureSampleLevel(e,i,r,o,s,a),l}generateTextureBias(e,i,r,o,s,a=this.shaderStage){if(a==="fragment")return`textureSampleBias( ${i}, ${i}_sampler, ${r}, ${o} )`;console.error(`WebGPURenderer: THREE.TextureNode.biasNode does not support ${a} shader.`)}getPropertyName(e,i=this.shaderStage){if(e.isNodeVarying===!0&&e.needsInterpolation===!0){if(i==="vertex")return`varyings.${e.name}`}else if(e.isNodeUniform===!0){const r=e.name,o=e.type;return o==="texture"||o==="cubeTexture"||o==="storageTexture"||o==="texture3D"?r:o==="buffer"||o==="storageBuffer"||o==="indirectStorageBuffer"?`NodeBuffer_${e.id}.${r}`:e.groupNode.name+"."+r}return super.getPropertyName(e)}getOutputStructName(){return"output"}_getUniformGroupCount(e){return Object.keys(this.uniforms[e]).length}getFunctionOperator(e){const i=xVe[e];return i!==void 0?(this._include(i),i):null}getNodeAccess(e,i){return i!=="compute"?Zu.READ_ONLY:e.access}getStorageAccess(e,i){return bVe[this.getNodeAccess(e,i)]}getUniformFromNode(e,i,r,o=null){const s=super.getUniformFromNode(e,i,r,o),a=this.getDataFromNode(e,r,this.globalCache);if(a.uniformGPU===void 0){let l;const u=e.groupNode,c=u.name,d=this.getBindGroupArray(c,r);if(i==="texture"||i==="cubeTexture"||i==="storageTexture"||i==="texture3D"){let f=null;const h=this.getNodeAccess(e,r);if(i==="texture"||i==="storageTexture"?f=new NC(s.name,s.node,u,h):i==="cubeTexture"?f=new WX(s.name,s.node,u,h):i==="texture3D"&&(f=new jX(s.name,s.node,u,h)),f.store=e.isStorageTextureNode===!0,f.setVisibility(Y_[r]),(r==="fragment"||r==="compute")&&this.isUnfilterable(e.value)===!1&&f.store===!1){const p=new sVe(`${s.name}_sampler`,s.node,u);p.setVisibility(Y_[r]),d.push(p,f),l=[p,f]}else d.push(f),l=[f]}else if(i==="buffer"||i==="storageBuffer"||i==="indirectStorageBuffer"){const f=i==="buffer"?GX:uVe,h=new f(e,u);h.setVisibility(Y_[r]),d.push(h),l=h}else{const f=this.uniformGroups[r]||(this.uniformGroups[r]={});let h=f[c];h===void 0&&(h=new VX(c,u),h.setVisibility(Y_[r]),f[c]=h,d.push(h)),l=this.getNodeUniform(s,i),h.addUniform(l)}a.uniformGPU=l}return s}getBuiltin(e,i,r,o=this.shaderStage){const s=this.builtins[o]||(this.builtins[o]=new Map);return s.has(e)===!1&&s.set(e,{name:e,property:i,type:r}),i}hasBuiltin(e,i=this.shaderStage){return this.builtins[i]!==void 0&&this.builtins[i].has(e)}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(e){const i=e.layout,r=this.flowShaderNode(e),o=[];for(const a of i.inputs)o.push(a.name+" : "+this.getType(a.type));let s=`fn ${i.name}( ${o.join(", ")} ) -> ${this.getType(i.type)} {
${r.vars}
${r.code}
`;return r.result&&(s+=`	return ${r.result};
`),s+=`
}
`,s}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}getClipDistance(){return"varyings.hw_clip_distances"}isFlipY(){return!1}enableDirective(e,i=this.shaderStage){(this.directives[i]||(this.directives[i]=new Set)).add(e)}getDirectives(e){const i=[],r=this.directives[e];if(r!==void 0)for(const o of r)i.push(`enable ${o};`);return i.join(`
`)}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}enableHardwareClipping(e){this.enableClipDistances(),this.getBuiltin("clip_distances","hw_clip_distances",`array<f32, ${e} >`,"vertex")}getBuiltins(e){const i=[],r=this.builtins[e];if(r!==void 0)for(const{name:o,property:s,type:a}of r.values())i.push(`@builtin( ${o} ) ${s} : ${a}`);return i.join(`,
	`)}getScopedArray(e,i,r,o){return this.scopedArrays.has(e)===!1&&this.scopedArrays.set(e,{name:e,scope:i,bufferType:r,bufferCount:o}),e}getScopedArrays(e){if(e!=="compute")return;const i=[];for(const{name:r,scope:o,bufferType:s,bufferCount:a}of this.scopedArrays.values()){const l=this.getType(s);i.push(`var<${o}> ${r}: array< ${l}, ${a} >;`)}return i.join(`
`)}getAttributes(e){const i=[];if(e==="compute"&&(this.getBuiltin("global_invocation_id","id","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",e),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),e==="vertex"||e==="compute"){const r=this.getBuiltins("attribute");r&&i.push(r);const o=this.getAttributesArray();for(let s=0,a=o.length;s<a;s++){const l=o[s],u=l.name,c=this.getType(l.type);i.push(`@location( ${s} ) ${u} : ${c}`)}}return i.join(`,
	`)}getStructMembers(e){const i=[],r=e.getMemberTypes();for(let s=0;s<r.length;s++){const a=r[s];i.push(`	@location( ${s} ) m${s} : ${a}<f32>`)}const o=this.getBuiltins("output");return o&&i.push("	"+o),i.join(`,
`)}getStructs(e){const i=[],r=this.structs[e];for(let o=0,s=r.length;o<s;o++){const a=r[o],l=a.name;let u=`struct ${l} {
`;u+=this.getStructMembers(a),u+=`
}`,i.push(u),i.push(`
var<private> output : ${l};

`)}return i.join(`

`)}getVar(e,i){return`var ${i} : ${this.getType(e)}`}getVars(e){const i=[],r=this.vars[e];if(r!==void 0)for(const o of r)i.push(`	${this.getVar(o.type,o.name)};`);return`
${i.join(`
`)}
`}getVaryings(e){const i=[];if(e==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),e==="vertex"||e==="fragment"){const s=this.varyings,a=this.vars[e];for(let l=0;l<s.length;l++){const u=s[l];if(u.needsInterpolation){let c=`@location( ${l} )`;/^(int|uint|ivec|uvec)/.test(u.type)&&(c+=" @interpolate( flat )"),i.push(`${c} ${u.name} : ${this.getType(u.type)}`)}else e==="vertex"&&a.includes(u)===!1&&a.push(u)}}const r=this.getBuiltins(e);r&&i.push(r);const o=i.join(`,
	`);return e==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+o):o}getUniforms(e){const i=this.uniforms[e],r=[],o=[],s=[],a={};for(const u of i){const c=u.groupNode.name,d=this.bindingsIndexes[c];if(u.type==="texture"||u.type==="cubeTexture"||u.type==="storageTexture"||u.type==="texture3D"){const f=u.node.value;(e==="fragment"||e==="compute")&&this.isUnfilterable(f)===!1&&u.node.isStorageTextureNode!==!0&&(this.isSampleCompare(f)?r.push(`@binding( ${d.binding++} ) @group( ${d.group} ) var ${u.name}_sampler : sampler_comparison;`):r.push(`@binding( ${d.binding++} ) @group( ${d.group} ) var ${u.name}_sampler : sampler;`));let h,p="";const{primarySamples:g}=this.renderer.backend.utils.getTextureSampleData(f);if(g>1&&(p="_multisampled"),f.isCubeTexture===!0)h="texture_cube<f32>";else if(f.isDataArrayTexture===!0||f.isCompressedArrayTexture===!0)h="texture_2d_array<f32>";else if(f.isDepthTexture===!0)h=`texture_depth${p}_2d`;else if(f.isVideoTexture===!0)h="texture_external";else if(f.isData3DTexture===!0)h="texture_3d<f32>";else if(u.node.isStorageTextureNode===!0){const b=UP(f),y=this.getStorageAccess(u.node,e);h=`texture_storage_2d<${b}, ${y}>`}else{const b=this.getComponentTypeFromTexture(f).charAt(0);h=`texture${p}_2d<${b}32>`}r.push(`@binding( ${d.binding++} ) @group( ${d.group} ) var ${u.name} : ${h};`)}else if(u.type==="buffer"||u.type==="storageBuffer"||u.type==="indirectStorageBuffer"){const f=u.node,h=this.getType(f.bufferType),p=f.bufferCount,g=p>0&&u.type==="buffer"?", "+p:"",b=f.isAtomic?`atomic<${h}>`:`${h}`,y=`	${u.name} : array< ${b}${g} >
`,m=f.isStorageBufferNode?`storage, ${this.getStorageAccess(f,e)}`:"uniform";o.push(this._getWGSLStructBinding("NodeBuffer_"+f.id,y,m,d.binding++,d.group))}else{const f=this.getType(this.getVectorType(u.type)),h=u.groupNode.name;(a[h]||(a[h]={index:d.binding++,id:d.group,snippets:[]})).snippets.push(`	${u.name} : ${f}`)}}for(const u in a){const c=a[u];s.push(this._getWGSLStructBinding(u,c.snippets.join(`,
`),"uniform",c.index,c.id))}let l=r.join(`
`);return l+=o.join(`
`),l+=s.join(`
`),l}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const i in e){const r=e[i];r.uniforms=this.getUniforms(i),r.attributes=this.getAttributes(i),r.varyings=this.getVaryings(i),r.structs=this.getStructs(i),r.vars=this.getVars(i),r.codes=this.getCodes(i),r.directives=this.getDirectives(i),r.scopedArrays=this.getScopedArrays(i);let o=`// code

`;o+=this.flowCode[i];const s=this.flowNodes[i],a=s[s.length-1],l=a.outputNode,u=l!==void 0&&l.isOutputStructNode===!0;for(const c of s){const d=this.getFlowData(c),f=c.name;if(f&&(o.length>0&&(o+=`
`),o+=`	// flow -> ${f}
	`),o+=`${d.code}
	`,c===a&&i!=="compute"){if(o+=`// result

	`,i==="vertex")o+=`varyings.Vertex = ${d.result};`;else if(i==="fragment")if(u)r.returnType=l.nodeType,o+=`return ${d.result};`;else{let h="	@location(0) color: vec4<f32>";const p=this.getBuiltins("output");p&&(h+=`,
	`+p),r.returnType="OutputStruct",r.structs+=this._getWGSLStruct("OutputStruct",h),r.structs+=`
var<private> output : OutputStruct;

`,o+=`output.color = ${d.result};

	return output;`}}}r.flow=o}this.material!==null?(this.vertexShader=this._getWGSLVertexCode(e.vertex),this.fragmentShader=this._getWGSLFragmentCode(e.fragment)):this.computeShader=this._getWGSLComputeCode(e.compute,(this.object.workgroupSize||[64]).join(", "))}getMethod(e,i=null){let r;return i!==null&&(r=this._getWGSLMethod(e+"_"+i)),r===void 0&&(r=this._getWGSLMethod(e)),r||e}getType(e){return _Ve[e]||e}isAvailable(e){let i=v8[e];return i===void 0&&(e==="float32Filterable"?i=this.renderer.hasFeature("float32-filterable"):e==="clipDistance"&&(i=this.renderer.hasFeature("clip-distances")),v8[e]=i),i}_getWGSLMethod(e){return aa[e]!==void 0&&this._include(e),dy[e]}_include(e){const i=aa[e];return i.build(this),this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(i),i}_getWGSLVertexCode(e){return`${this.getSignature()}
// directives
${e.directives}

// uniforms
${e.uniforms}

// varyings
${e.varyings}
var<private> varyings : VaryingsStruct;

// codes
${e.codes}

@vertex
fn main( ${e.attributes} ) -> VaryingsStruct {

	// vars
	${e.vars}

	// flow
	${e.flow}

	return varyings;

}
`}_getWGSLFragmentCode(e){return`${this.getSignature()}
// global
${qX}

// uniforms
${e.uniforms}

// structs
${e.structs}

// codes
${e.codes}

@fragment
fn main( ${e.varyings} ) -> ${e.returnType} {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLComputeCode(e,i){return`${this.getSignature()}
// directives
${e.directives}

// system
var<private> instanceIndex : u32;

// locals
${e.scopedArrays}

// uniforms
${e.uniforms}

// codes
${e.codes}

@compute @workgroup_size( ${i} )
fn main( ${e.attributes} ) {

	// system
	instanceIndex = id.x + id.y * numWorkgroups.x * u32(${i}) + id.z * numWorkgroups.x * numWorkgroups.y * u32(${i});

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLStruct(e,i){return`
struct ${e} {
${i}
};`}_getWGSLStructBinding(e,i,r,o=0,s=0){const a=e+"Struct";return`${this._getWGSLStruct(a,i)}
@binding( ${o} ) @group( ${s} )
var<${r}> ${e} : ${a};`}}class wVe{constructor(e){this.backend=e}getCurrentDepthStencilFormat(e){let i;return e.depthTexture!==null?i=this.getTextureFormatGPU(e.depthTexture):e.depth&&e.stencil?i=Re.Depth24PlusStencil8:e.depth&&(i=Re.Depth24Plus),i}getTextureFormatGPU(e){return this.backend.get(e).format}getTextureSampleData(e){let i;if(e.isFramebufferTexture)i=1;else if(e.isDepthTexture&&!e.renderTarget){const s=this.backend.renderer,a=s.getRenderTarget();i=a?a.samples:s.samples}else e.renderTarget&&(i=e.renderTarget.samples);i=i||1;const r=i>1&&e.renderTarget!==null&&e.isDepthTexture!==!0&&e.isFramebufferTexture!==!0;return{samples:i,primarySamples:r?1:i,isMSAA:r}}getCurrentColorFormat(e){let i;return e.textures!==null?i=this.getTextureFormatGPU(e.textures[0]):i=this.getPreferredCanvasFormat(),i}getCurrentColorSpace(e){return e.textures!==null?e.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(e,i){if(e.isPoints)return gg.PointList;if(e.isLineSegments||e.isMesh&&i.wireframe===!0)return gg.LineList;if(e.isLine)return gg.LineStrip;if(e.isMesh)return gg.TriangleList}getSampleCount(e){let i=1;return e>1&&(i=Math.pow(2,Math.floor(Math.log2(e))),i===2&&(i=4)),i}getSampleCountRenderContext(e){return e.textures!==null?this.getSampleCount(e.sampleCount):this.getSampleCount(this.backend.renderer.samples)}getPreferredCanvasFormat(){return navigator.userAgent.includes("Quest")?Re.BGRA8Unorm:navigator.gpu.getPreferredCanvasFormat()}}const CVe=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]),AVe=new Map([[cK,["float16"]]]),TVe=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class EVe{constructor(e){this.backend=e}createAttribute(e,i){const r=this._getBufferAttribute(e),o=this.backend,s=o.get(r);let a=s.buffer;if(a===void 0){const l=o.device;let u=r.array;if(e.normalized===!1&&(u.constructor===Int16Array||u.constructor===Uint16Array)){const d=new Uint32Array(u.length);for(let f=0;f<u.length;f++)d[f]=u[f];u=d}if(r.array=u,(r.isStorageBufferAttribute||r.isStorageInstancedBufferAttribute)&&r.itemSize===3){u=new u.constructor(r.count*4);for(let d=0;d<r.count;d++)u.set(r.array.subarray(d*3,d*3+3),d*4);r.itemSize=4,r.array=u}const c=u.byteLength+(4-u.byteLength%4)%4;a=l.createBuffer({label:r.name,size:c,usage:i,mappedAtCreation:!0}),new u.constructor(a.getMappedRange()).set(u),a.unmap(),s.buffer=a}}updateAttribute(e){const i=this._getBufferAttribute(e),r=this.backend,o=r.device,s=r.get(i).buffer,a=i.array,l=this._isTypedArray(a),u=i.updateRanges;if(u.length===0)o.queue.writeBuffer(s,0,a,0);else{const c=l?1:a.BYTES_PER_ELEMENT;for(let d=0,f=u.length;d<f;d++){const h=u[d],p=h.start*c,g=h.count*c;o.queue.writeBuffer(s,0,a,p,g)}i.clearUpdateRanges()}}createShaderVertexBuffers(e){const i=e.getAttributes(),r=new Map;for(let o=0;o<i.length;o++){const s=i[o],a=s.array.BYTES_PER_ELEMENT,l=this._getBufferAttribute(s);let u=r.get(l);if(u===void 0){let f,h;s.isInterleavedBufferAttribute===!0?(f=s.data.stride*a,h=s.data.isInstancedInterleavedBuffer?X_.Instance:X_.Vertex):(f=s.itemSize*a,h=s.isInstancedBufferAttribute?X_.Instance:X_.Vertex),s.normalized===!1&&(s.array.constructor===Int16Array||s.array.constructor===Uint16Array)&&(f=4),u={arrayStride:f,attributes:[],stepMode:h},r.set(l,u)}const c=this._getVertexFormat(s),d=s.isInterleavedBufferAttribute===!0?s.offset*a:0;u.attributes.push({shaderLocation:o,offset:d,format:c})}return Array.from(r.values())}destroyAttribute(e){const i=this.backend;i.get(this._getBufferAttribute(e)).buffer.destroy(),i.delete(e)}async getArrayBufferAsync(e){const i=this.backend,r=i.device,s=i.get(this._getBufferAttribute(e)).buffer,a=s.size,l=r.createBuffer({label:`${e.name}_readback`,size:a,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),u=r.createCommandEncoder({label:`readback_encoder_${e.name}`});u.copyBufferToBuffer(s,0,l,0,a);const c=u.finish();r.queue.submit([c]),await l.mapAsync(GPUMapMode.READ);const d=l.getMappedRange(),f=new e.array.constructor(d.slice(0));return l.unmap(),f.buffer}_getVertexFormat(e){const{itemSize:i,normalized:r}=e,o=e.array.constructor,s=e.constructor;let a;if(i===1)a=TVe.get(o);else{const u=(AVe.get(s)||CVe.get(o))[r?1:0];if(u){const c=o.BYTES_PER_ELEMENT*i,f=Math.floor((c+3)/4)*4/o.BYTES_PER_ELEMENT;if(f%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");a=`${u}x${f}`}}return a||console.error("THREE.WebGPUAttributeUtils: Vertex format not supported yet."),a}_isTypedArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}class MVe{constructor(e){this.backend=e,this.bindGroupLayoutCache=new WeakMap}createBindingsLayout(e){const i=this.backend,r=i.device,o=[];let s=0;for(const a of e.bindings){const l={binding:s++,visibility:a.visibility};if(a.isUniformBuffer||a.isStorageBuffer){const u={};a.isStorageBuffer&&(a.visibility&4&&(a.access===Zu.READ_WRITE||a.access===Zu.WRITE_ONLY)?u.type=i2.Storage:u.type=i2.ReadOnlyStorage),l.buffer=u}else if(a.isSampler){const u={};a.texture.isDepthTexture&&a.texture.compareFunction!==null&&(u.type="comparison"),l.sampler=u}else if(a.isSampledTexture&&a.texture.isVideoTexture)l.externalTexture={};else if(a.isSampledTexture&&a.store){const u={};u.format=this.backend.get(a.texture).texture.format;const c=a.access;c===Zu.READ_WRITE?u.access=r2.ReadWrite:c===Zu.WRITE_ONLY?u.access=r2.WriteOnly:u.access=r2.ReadOnly,l.storageTexture=u}else if(a.isSampledTexture){const u={},{primarySamples:c}=i.utils.getTextureSampleData(a.texture);if(c>1&&(u.multisampled=!0,a.texture.isDepthTexture||(u.sampleType=Zp.UnfilterableFloat)),a.texture.isDepthTexture)u.sampleType=Zp.Depth;else if(a.texture.isDataTexture||a.texture.isDataArrayTexture||a.texture.isData3DTexture){const d=a.texture.type;d===Dr?u.sampleType=Zp.SInt:d===zi?u.sampleType=Zp.UInt:d===nr&&(this.backend.hasFeature("float32-filterable")?u.sampleType=Zp.Float:u.sampleType=Zp.UnfilterableFloat)}a.isSampledCubeTexture?u.viewDimension=Zo.Cube:a.texture.isDataArrayTexture||a.texture.isCompressedArrayTexture?u.viewDimension=Zo.TwoDArray:a.isSampledTexture3D&&(u.viewDimension=Zo.ThreeD),l.texture=u}else console.error(`WebGPUBindingUtils: Unsupported binding "${a}".`);o.push(l)}return r.createBindGroupLayout({entries:o})}createBindings(e,i,r,o=0){const{backend:s,bindGroupLayoutCache:a}=this,l=s.get(e);let u=a.get(e.bindingsReference);u===void 0&&(u=this.createBindingsLayout(e),a.set(e.bindingsReference,u));let c;r>0&&(l.groups===void 0&&(l.groups=[],l.versions=[]),l.versions[r]===o&&(c=l.groups[r])),c===void 0&&(c=this.createBindGroup(e,u),r>0&&(l.groups[r]=c,l.versions[r]=o)),l.group=c,l.layout=u}updateBinding(e){const i=this.backend,r=i.device,o=e.buffer,s=i.get(e).buffer;r.queue.writeBuffer(s,0,o,0)}createBindGroup(e,i){const r=this.backend,o=r.device;let s=0;const a=[];for(const l of e.bindings){if(l.isUniformBuffer){const u=r.get(l);if(u.buffer===void 0){const c=l.byteLength,d=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,f=o.createBuffer({label:"bindingBuffer_"+l.name,size:c,usage:d});u.buffer=f}a.push({binding:s,resource:{buffer:u.buffer}})}else if(l.isStorageBuffer){const u=r.get(l);if(u.buffer===void 0){const c=l.attribute;u.buffer=r.get(c).buffer}a.push({binding:s,resource:{buffer:u.buffer}})}else if(l.isSampler){const u=r.get(l.texture);a.push({binding:s,resource:u.sampler})}else if(l.isSampledTexture){const u=r.get(l.texture);let c;if(u.externalTexture!==void 0)c=o.importExternalTexture({source:u.externalTexture});else{const d=l.store?1:u.texture.mipLevelCount,f=`view-${u.texture.width}-${u.texture.height}-${d}`;if(c=u[f],c===void 0){const h=rVe.All;let p;l.isSampledCubeTexture?p=Zo.Cube:l.isSampledTexture3D?p=Zo.ThreeD:l.texture.isDataArrayTexture||l.texture.isCompressedArrayTexture?p=Zo.TwoDArray:p=Zo.TwoD,c=u[f]=u.texture.createView({aspect:h,dimension:p,mipLevelCount:d})}}a.push({binding:s,resource:c})}s++}return o.createBindGroup({label:"bindGroup_"+e.name,layout:i,entries:a})}}class RVe{constructor(e){this.backend=e}_getSampleCount(e){return this.backend.utils.getSampleCountRenderContext(e)}createRenderPipeline(e,i){const{object:r,material:o,geometry:s,pipeline:a}=e,{vertexProgram:l,fragmentProgram:u}=a,c=this.backend,d=c.device,f=c.utils,h=c.get(a),p=[];for(const F of e.getBindings()){const L=c.get(F);p.push(L.layout)}const g=c.attributeUtils.createShaderVertexBuffers(e);let b;o.transparent===!0&&o.blending!==ls&&(b=this._getBlending(o));let y={};o.stencilWrite===!0&&(y={compare:this._getStencilCompare(o),failOp:this._getStencilOperation(o.stencilFail),depthFailOp:this._getStencilOperation(o.stencilZFail),passOp:this._getStencilOperation(o.stencilZPass)});const m=this._getColorWriteMask(o),_=[];if(e.context.textures!==null){const F=e.context.textures;for(let L=0;L<F.length;L++){const $=f.getTextureFormatGPU(F[L]);_.push({format:$,blend:b,writeMask:m})}}else{const F=f.getCurrentColorFormat(e.context);_.push({format:F,blend:b,writeMask:m})}const S=c.get(l).module,w=c.get(u).module,A=this._getPrimitiveState(r,s,o),T=this._getDepthCompare(o),C=f.getCurrentDepthStencilFormat(e.context),R=this._getSampleCount(e.context),E={label:`renderPipeline_${o.name||o.type}_${o.id}`,vertex:Object.assign({},S,{buffers:g}),fragment:Object.assign({},w,{targets:_}),primitive:A,multisample:{count:R,alphaToCoverageEnabled:o.alphaToCoverage&&R>1},layout:d.createPipelineLayout({bindGroupLayouts:p})},P={},I=e.context.depth,D=e.context.stencil;if((I===!0||D===!0)&&(I===!0&&(P.format=C,P.depthWriteEnabled=o.depthWrite,P.depthCompare=T),D===!0&&(P.stencilFront=y,P.stencilBack={},P.stencilReadMask=o.stencilFuncMask,P.stencilWriteMask=o.stencilWriteMask),E.depthStencil=P),i===null)h.pipeline=d.createRenderPipeline(E);else{const F=new Promise(L=>{d.createRenderPipelineAsync(E).then($=>{h.pipeline=$,L()})});i.push(F)}}createBundleEncoder(e){const i=this.backend,{utils:r,device:o}=i,s=r.getCurrentDepthStencilFormat(e),a=r.getCurrentColorFormat(e),l=this._getSampleCount(e),u={label:"renderBundleEncoder",colorFormats:[a],depthStencilFormat:s,sampleCount:l};return o.createRenderBundleEncoder(u)}createComputePipeline(e,i){const r=this.backend,o=r.device,s=r.get(e.computeProgram).module,a=r.get(e),l=[];for(const u of i){const c=r.get(u);l.push(c.layout)}a.pipeline=o.createComputePipeline({compute:s,layout:o.createPipelineLayout({bindGroupLayouts:l})})}_getBlending(e){let i,r;const o=e.blending,s=e.blendSrc,a=e.blendDst,l=e.blendEquation;if(o===yO){const u=e.blendSrcAlpha!==null?e.blendSrcAlpha:s,c=e.blendDstAlpha!==null?e.blendDstAlpha:a,d=e.blendEquationAlpha!==null?e.blendEquationAlpha:l;i={srcFactor:this._getBlendFactor(s),dstFactor:this._getBlendFactor(a),operation:this._getBlendOperation(l)},r={srcFactor:this._getBlendFactor(u),dstFactor:this._getBlendFactor(c),operation:this._getBlendOperation(d)}}else{const u=e.premultipliedAlpha,c=(d,f,h,p)=>{i={srcFactor:d,dstFactor:f,operation:Rf.Add},r={srcFactor:h,dstFactor:p,operation:Rf.Add}};if(u)switch(o){case ga:c(Yt.One,Yt.OneMinusSrcAlpha,Yt.One,Yt.OneMinusSrcAlpha);break;case tm:c(Yt.One,Yt.One,Yt.One,Yt.One);break;case nm:c(Yt.Zero,Yt.OneMinusSrc,Yt.Zero,Yt.One);break;case im:c(Yt.Zero,Yt.Src,Yt.Zero,Yt.SrcAlpha);break}else switch(o){case ga:c(Yt.SrcAlpha,Yt.OneMinusSrcAlpha,Yt.One,Yt.OneMinusSrcAlpha);break;case tm:c(Yt.SrcAlpha,Yt.One,Yt.SrcAlpha,Yt.One);break;case nm:c(Yt.Zero,Yt.OneMinusSrc,Yt.Zero,Yt.One);break;case im:c(Yt.Zero,Yt.Src,Yt.Zero,Yt.Src);break}}if(i!==void 0&&r!==void 0)return{color:i,alpha:r};console.error("THREE.WebGPURenderer: Invalid blending: ",o)}_getBlendFactor(e){let i;switch(e){case _O:i=Yt.Zero;break;case SO:i=Yt.One;break;case wO:i=Yt.Src;break;case CO:i=Yt.OneMinusSrc;break;case c0:i=Yt.SrcAlpha;break;case d0:i=Yt.OneMinusSrcAlpha;break;case EO:i=Yt.Dst;break;case MO:i=Yt.OneMinusDstColor;break;case AO:i=Yt.DstAlpha;break;case TO:i=Yt.OneMinusDstAlpha;break;case RO:i=Yt.SrcAlphaSaturated;break;case T8e:i=Yt.Constant;break;case E8e:i=Yt.OneMinusConstant;break;default:console.error("THREE.WebGPURenderer: Blend factor not supported.",e)}return i}_getStencilCompare(e){let i;const r=e.stencilFunc;switch(r){case JNe:i=zr.Never;break;case fP:i=zr.Always;break;case eOe:i=zr.Less;break;case nOe:i=zr.LessEqual;break;case tOe:i=zr.Equal;break;case oOe:i=zr.GreaterEqual;break;case iOe:i=zr.Greater;break;case rOe:i=zr.NotEqual;break;default:console.error("THREE.WebGPURenderer: Invalid stencil function.",r)}return i}_getStencilOperation(e){let i;switch(e){case Of:i=ld.Keep;break;case jNe:i=ld.Zero;break;case KNe:i=ld.Replace;break;case ZNe:i=ld.Invert;break;case qNe:i=ld.IncrementClamp;break;case XNe:i=ld.DecrementClamp;break;case YNe:i=ld.IncrementWrap;break;case QNe:i=ld.DecrementWrap;break;default:console.error("THREE.WebGPURenderer: Invalid stencil operation.",i)}return i}_getBlendOperation(e){let i;switch(e){case Bs:i=Rf.Add;break;case bO:i=Rf.Subtract;break;case xO:i=Rf.ReverseSubtract;break;case Wj:i=Rf.Min;break;case jj:i=Rf.Max;break;default:console.error("THREE.WebGPUPipelineUtils: Blend equation not supported.",e)}return i}_getPrimitiveState(e,i,r){const o={},s=this.backend.utils;switch(o.topology=s.getPrimitiveTopology(e,r),i.index!==null&&e.isLine===!0&&e.isLineSegments!==!0&&(o.stripIndexFormat=i.index.array instanceof Uint16Array?Am.Uint16:Am.Uint32),r.side){case il:o.frontFace=e2.CCW,o.cullMode=t2.Back;break;case Di:o.frontFace=e2.CCW,o.cullMode=t2.Front;break;case Oo:o.frontFace=e2.CCW,o.cullMode=t2.None;break;default:console.error("THREE.WebGPUPipelineUtils: Unknown material.side value.",r.side);break}return o}_getColorWriteMask(e){return e.colorWrite===!0?h8.All:h8.None}_getDepthCompare(e){let i;if(e.depthTest===!1)i=zr.Always;else{const r=e.depthFunc;switch(r){case f0:i=zr.Never;break;case h0:i=zr.Always;break;case p0:i=zr.Less;break;case $d:i=zr.LessEqual;break;case g0:i=zr.Equal;break;case m0:i=zr.GreaterEqual;break;case v0:i=zr.Greater;break;case y0:i=zr.NotEqual;break;default:console.error("THREE.WebGPUPipelineUtils: Invalid depth function.",r)}}return i}}class PVe extends KX{constructor(e={}){super(e),this.isWebGPUBackend=!0,this.parameters.alpha=e.alpha===void 0?!0:e.alpha,this.parameters.requiredLimits=e.requiredLimits===void 0?{}:e.requiredLimits,this.trackTimestamp=e.trackTimestamp===!0,this.device=null,this.context=null,this.colorBuffer=null,this.defaultRenderPassdescriptor=null,this.utils=new wVe(this),this.attributeUtils=new EVe(this),this.bindingUtils=new MVe(this),this.pipelineUtils=new RVe(this),this.textureUtils=new hVe(this),this.occludedResolveCache=new Map}async init(e){await super.init(e);const i=this.parameters;let r;if(i.device===void 0){const a={powerPreference:i.powerPreference},l=typeof navigator<"u"?await navigator.gpu.requestAdapter(a):null;if(l===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const u=Object.values($P),c=[];for(const f of u)l.features.has(f)&&c.push(f);const d={requiredFeatures:c,requiredLimits:i.requiredLimits};r=await l.requestDevice(d)}else r=i.device;r.lost.then(a=>{const l={api:"WebGPU",message:a.message||"Unknown reason",reason:a.reason||null,originalEvent:a};e.onDeviceLost(l)});const o=i.context!==void 0?i.context:e.domElement.getContext("webgpu");this.device=r,this.context=o;const s=i.alpha?"premultiplied":"opaque";this.trackTimestamp=this.trackTimestamp&&this.hasFeature($P.TimestampQuery),this.context.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:s}),this.updateSize()}get coordinateSystem(){return zd}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){let e=this.defaultRenderPassdescriptor;if(e===null){const r=this.renderer;e={colorAttachments:[{view:null}]},(this.renderer.depth===!0||this.renderer.stencil===!0)&&(e.depthStencilAttachment={view:this.textureUtils.getDepthBuffer(r.depth,r.stencil).createView()});const o=e.colorAttachments[0];this.renderer.samples>0?o.view=this.colorBuffer.createView():o.resolveTarget=void 0,this.defaultRenderPassdescriptor=e}const i=e.colorAttachments[0];return this.renderer.samples>0?i.resolveTarget=this.context.getCurrentTexture().createView():i.view=this.context.getCurrentTexture().createView(),e}_getRenderPassDescriptor(e,i={}){const r=e.renderTarget,o=this.get(r);let s=o.descriptors;if(s===void 0||o.width!==r.width||o.height!==r.height||o.dimensions!==r.dimensions||o.activeMipmapLevel!==r.activeMipmapLevel||o.activeCubeFace!==e.activeCubeFace||o.samples!==r.samples||o.loadOp!==i.loadOp){s={},o.descriptors=s;const u=()=>{r.removeEventListener("dispose",u),this.delete(r)};r.addEventListener("dispose",u)}const a=e.getCacheKey();let l=s[a];if(l===void 0){const u=e.textures,c=[];let d;for(let f=0;f<u.length;f++){const h=this.get(u[f]),p={label:`colorAttachment_${f}`,baseMipLevel:e.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:e.activeCubeFace,arrayLayerCount:1,dimension:Zo.TwoD};r.isRenderTarget3D?(d=e.activeCubeFace,p.baseArrayLayer=0,p.dimension=Zo.ThreeD,p.depthOrArrayLayers=u[f].image.depth):r.isRenderTargetArray&&(p.dimension=Zo.TwoDArray,p.depthOrArrayLayers=u[f].image.depth);const g=h.texture.createView(p);let b,y;h.msaaTexture!==void 0?(b=h.msaaTexture.createView(),y=g):(b=g,y=void 0),c.push({view:b,depthSlice:d,resolveTarget:y,loadOp:er.Load,storeOp:ro.Store,...i})}if(l={colorAttachments:c},e.depth){const h={view:this.get(e.depthTexture).texture.createView()};l.depthStencilAttachment=h}s[a]=l,o.width=r.width,o.height=r.height,o.samples=r.samples,o.activeMipmapLevel=e.activeMipmapLevel,o.activeCubeFace=e.activeCubeFace,o.dimensions=r.dimensions,o.depthSlice=d,o.loadOp=c[0].loadOp}return l}beginRender(e){const i=this.get(e),r=this.device,o=e.occlusionQueryCount;let s;o>0&&(i.currentOcclusionQuerySet&&i.currentOcclusionQuerySet.destroy(),i.currentOcclusionQueryBuffer&&i.currentOcclusionQueryBuffer.destroy(),i.currentOcclusionQuerySet=i.occlusionQuerySet,i.currentOcclusionQueryBuffer=i.occlusionQueryBuffer,i.currentOcclusionQueryObjects=i.occlusionQueryObjects,s=r.createQuerySet({type:"occlusion",count:o,label:`occlusionQuerySet_${e.id}`}),i.occlusionQuerySet=s,i.occlusionQueryIndex=0,i.occlusionQueryObjects=new Array(o),i.lastOcclusionObject=null);let a;e.textures===null?a=this._getDefaultRenderPassDescriptor():a=this._getRenderPassDescriptor(e,{loadOp:er.Load}),this.initTimestampQuery(e,a),a.occlusionQuerySet=s;const l=a.depthStencilAttachment;if(e.textures!==null){const d=a.colorAttachments;for(let f=0;f<d.length;f++){const h=d[f];e.clearColor?(h.clearValue=f===0?e.clearColorValue:{r:0,g:0,b:0,a:1},h.loadOp=er.Clear,h.storeOp=ro.Store):(h.loadOp=er.Load,h.storeOp=ro.Store)}}else{const d=a.colorAttachments[0];e.clearColor?(d.clearValue=e.clearColorValue,d.loadOp=er.Clear,d.storeOp=ro.Store):(d.loadOp=er.Load,d.storeOp=ro.Store)}e.depth&&(e.clearDepth?(l.depthClearValue=e.clearDepthValue,l.depthLoadOp=er.Clear,l.depthStoreOp=ro.Store):(l.depthLoadOp=er.Load,l.depthStoreOp=ro.Store)),e.stencil&&(e.clearStencil?(l.stencilClearValue=e.clearStencilValue,l.stencilLoadOp=er.Clear,l.stencilStoreOp=ro.Store):(l.stencilLoadOp=er.Load,l.stencilStoreOp=ro.Store));const u=r.createCommandEncoder({label:"renderContext_"+e.id}),c=u.beginRenderPass(a);if(i.descriptor=a,i.encoder=u,i.currentPass=c,i.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},i.renderBundles=[],e.viewport&&this.updateViewport(e),e.scissor){const{x:d,y:f,width:h,height:p}=e.scissorValue;c.setScissorRect(d,f,h,p)}}finishRender(e){const i=this.get(e),r=e.occlusionQueryCount;if(i.renderBundles.length>0&&i.currentPass.executeBundles(i.renderBundles),r>i.occlusionQueryIndex&&i.currentPass.endOcclusionQuery(),i.currentPass.end(),r>0){const o=r*8;let s=this.occludedResolveCache.get(o);s===void 0&&(s=this.device.createBuffer({size:o,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(o,s));const a=this.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});i.encoder.resolveQuerySet(i.occlusionQuerySet,0,r,s,0),i.encoder.copyBufferToBuffer(s,0,a,0,o),i.occlusionQueryBuffer=a,this.resolveOccludedAsync(e)}if(this.prepareTimestampBuffer(e,i.encoder),this.device.queue.submit([i.encoder.finish()]),e.textures!==null){const o=e.textures;for(let s=0;s<o.length;s++){const a=o[s];a.generateMipmaps===!0&&this.textureUtils.generateMipmaps(a)}}}isOccluded(e,i){const r=this.get(e);return r.occluded&&r.occluded.has(i)}async resolveOccludedAsync(e){const i=this.get(e),{currentOcclusionQueryBuffer:r,currentOcclusionQueryObjects:o}=i;if(r&&o){const s=new WeakSet;i.currentOcclusionQueryObjects=null,i.currentOcclusionQueryBuffer=null,await r.mapAsync(GPUMapMode.READ);const a=r.getMappedRange(),l=new BigUint64Array(a);for(let u=0;u<o.length;u++)l[u]!==BigInt(0)&&s.add(o[u]);r.destroy(),i.occluded=s}}updateViewport(e){const{currentPass:i}=this.get(e),{x:r,y:o,width:s,height:a,minDepth:l,maxDepth:u}=e.viewportValue;i.setViewport(r,o,s,a,l,u)}clear(e,i,r,o=null){const s=this.device,a=this.renderer;let l=[],u,c,d,f;if(e){const g=this.getClearColor();if(this.renderer.alpha===!0){const b=g.a;c={r:g.r*b,g:g.g*b,b:g.b*b,a:b}}else c={r:g.r,g:g.g,b:g.b,a:g.a}}if(o===null){d=a.depth,f=a.stencil;const g=this._getDefaultRenderPassDescriptor();if(e){l=g.colorAttachments;const b=l[0];b.clearValue=c,b.loadOp=er.Clear,b.storeOp=ro.Store}(d||f)&&(u=g.depthStencilAttachment)}else d=o.depth,f=o.stencil,e&&(l=this._getRenderPassDescriptor(o,{loadOp:er.Clear}).colorAttachments),(d||f)&&(u={view:this.get(o.depthTexture).texture.createView()});d&&(i?(u.depthLoadOp=er.Clear,u.depthClearValue=a.getClearDepth(),u.depthStoreOp=ro.Store):(u.depthLoadOp=er.Load,u.depthStoreOp=ro.Store)),f&&(r?(u.stencilLoadOp=er.Clear,u.stencilClearValue=a.getClearStencil(),u.stencilStoreOp=ro.Store):(u.stencilLoadOp=er.Load,u.stencilStoreOp=ro.Store));const h=s.createCommandEncoder({});h.beginRenderPass({colorAttachments:l,depthStencilAttachment:u}).end(),s.queue.submit([h.finish()])}beginCompute(e){const i=this.get(e),r={};this.initTimestampQuery(e,r),i.cmdEncoderGPU=this.device.createCommandEncoder(),i.passEncoderGPU=i.cmdEncoderGPU.beginComputePass(r)}compute(e,i,r,o){const{passEncoderGPU:s}=this.get(e),a=this.get(o).pipeline;s.setPipeline(a);for(let d=0,f=r.length;d<f;d++){const h=r[d],p=this.get(h);s.setBindGroup(d,p.group)}const l=this.device.limits.maxComputeWorkgroupsPerDimension,u=this.get(i);u.dispatchSize===void 0&&(u.dispatchSize={x:0,y:1,z:1});const{dispatchSize:c}=u;i.dispatchCount>l?(c.x=Math.min(i.dispatchCount,l),c.y=Math.ceil(i.dispatchCount/l)):c.x=i.dispatchCount,s.dispatchWorkgroups(c.x,c.y,c.z)}finishCompute(e){const i=this.get(e);i.passEncoderGPU.end(),this.prepareTimestampBuffer(e,i.cmdEncoderGPU),this.device.queue.submit([i.cmdEncoderGPU.finish()])}async waitForGPU(){await this.device.queue.onSubmittedWorkDone()}draw(e,i){const{object:r,context:o,pipeline:s}=e,a=e.getBindings(),l=this.get(o),u=this.get(s).pipeline,c=l.currentSets,d=l.currentPass,f=e.getDrawParameters();if(f===null)return;c.pipeline!==u&&(d.setPipeline(u),c.pipeline=u);const h=c.bindingGroups;for(let y=0,m=a.length;y<m;y++){const _=a[y],S=this.get(_);h[_.index]!==_.id&&(d.setBindGroup(_.index,S.group),h[_.index]=_.id)}const p=e.getIndex(),g=p!==null;if(g===!0&&c.index!==p){const y=this.get(p).buffer,m=p.array instanceof Uint16Array?Am.Uint16:Am.Uint32;d.setIndexBuffer(y,m),c.index=p}const b=e.getVertexBuffers();for(let y=0,m=b.length;y<m;y++){const _=b[y];if(c.attributes[y]!==_){const S=this.get(_).buffer;d.setVertexBuffer(y,S),c.attributes[y]=_}}if(l.occlusionQuerySet!==void 0){const y=l.lastOcclusionObject;y!==r&&(y!==null&&y.occlusionTest===!0&&(d.endOcclusionQuery(),l.occlusionQueryIndex++),r.occlusionTest===!0&&(d.beginOcclusionQuery(l.occlusionQueryIndex),l.occlusionQueryObjects[l.occlusionQueryIndex]=r),l.lastOcclusionObject=r)}if(r.isBatchedMesh===!0){const y=r._multiDrawStarts,m=r._multiDrawCounts,_=r._multiDrawCount,S=r._multiDrawInstances;for(let w=0;w<_;w++){const A=S?S[w]:1,T=A>1?0:w;g===!0?d.drawIndexed(m[w],A,y[w]/p.array.BYTES_PER_ELEMENT,0,T):d.draw(m[w],A,y[w],T)}}else if(g===!0){const{vertexCount:y,instanceCount:m,firstVertex:_}=f,S=e.getIndirect();if(S!==null){const w=this.get(S).buffer;d.drawIndexedIndirect(w,0)}else d.drawIndexed(y,m,_,0,0);i.update(r,y,m)}else{const{vertexCount:y,instanceCount:m,firstVertex:_}=f,S=e.getIndirect();if(S!==null){const w=this.get(S).buffer;d.drawIndirect(w,0)}else d.draw(y,m,_,0);i.update(r,y,m)}}needsRenderUpdate(e){const i=this.get(e),{object:r,material:o}=e,s=this.utils,a=s.getSampleCountRenderContext(e.context),l=s.getCurrentColorSpace(e.context),u=s.getCurrentColorFormat(e.context),c=s.getCurrentDepthStencilFormat(e.context),d=s.getPrimitiveTopology(r,o);let f=!1;return(i.material!==o||i.materialVersion!==o.version||i.transparent!==o.transparent||i.blending!==o.blending||i.premultipliedAlpha!==o.premultipliedAlpha||i.blendSrc!==o.blendSrc||i.blendDst!==o.blendDst||i.blendEquation!==o.blendEquation||i.blendSrcAlpha!==o.blendSrcAlpha||i.blendDstAlpha!==o.blendDstAlpha||i.blendEquationAlpha!==o.blendEquationAlpha||i.colorWrite!==o.colorWrite||i.depthWrite!==o.depthWrite||i.depthTest!==o.depthTest||i.depthFunc!==o.depthFunc||i.stencilWrite!==o.stencilWrite||i.stencilFunc!==o.stencilFunc||i.stencilFail!==o.stencilFail||i.stencilZFail!==o.stencilZFail||i.stencilZPass!==o.stencilZPass||i.stencilFuncMask!==o.stencilFuncMask||i.stencilWriteMask!==o.stencilWriteMask||i.side!==o.side||i.alphaToCoverage!==o.alphaToCoverage||i.sampleCount!==a||i.colorSpace!==l||i.colorFormat!==u||i.depthStencilFormat!==c||i.primitiveTopology!==d||i.clippingContextCacheKey!==e.clippingContextCacheKey)&&(i.material=o,i.materialVersion=o.version,i.transparent=o.transparent,i.blending=o.blending,i.premultipliedAlpha=o.premultipliedAlpha,i.blendSrc=o.blendSrc,i.blendDst=o.blendDst,i.blendEquation=o.blendEquation,i.blendSrcAlpha=o.blendSrcAlpha,i.blendDstAlpha=o.blendDstAlpha,i.blendEquationAlpha=o.blendEquationAlpha,i.colorWrite=o.colorWrite,i.depthWrite=o.depthWrite,i.depthTest=o.depthTest,i.depthFunc=o.depthFunc,i.stencilWrite=o.stencilWrite,i.stencilFunc=o.stencilFunc,i.stencilFail=o.stencilFail,i.stencilZFail=o.stencilZFail,i.stencilZPass=o.stencilZPass,i.stencilFuncMask=o.stencilFuncMask,i.stencilWriteMask=o.stencilWriteMask,i.side=o.side,i.alphaToCoverage=o.alphaToCoverage,i.sampleCount=a,i.colorSpace=l,i.colorFormat=u,i.depthStencilFormat=c,i.primitiveTopology=d,i.clippingContextCacheKey=e.clippingContextCacheKey,f=!0),f}getRenderCacheKey(e){const{object:i,material:r}=e,o=this.utils,s=e.context;return[r.transparent,r.blending,r.premultipliedAlpha,r.blendSrc,r.blendDst,r.blendEquation,r.blendSrcAlpha,r.blendDstAlpha,r.blendEquationAlpha,r.colorWrite,r.depthWrite,r.depthTest,r.depthFunc,r.stencilWrite,r.stencilFunc,r.stencilFail,r.stencilZFail,r.stencilZPass,r.stencilFuncMask,r.stencilWriteMask,r.side,o.getSampleCountRenderContext(s),o.getCurrentColorSpace(s),o.getCurrentColorFormat(s),o.getCurrentDepthStencilFormat(s),o.getPrimitiveTopology(i,r),e.getGeometryCacheKey(),e.clippingContextCacheKey].join()}createSampler(e){this.textureUtils.createSampler(e)}destroySampler(e){this.textureUtils.destroySampler(e)}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,i){this.textureUtils.createTexture(e,i)}updateTexture(e,i){this.textureUtils.updateTexture(e,i)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}copyTextureToBuffer(e,i,r,o,s,a){return this.textureUtils.copyTextureToBuffer(e,i,r,o,s,a)}initTimestampQuery(e,i){if(!this.trackTimestamp)return;const r=this.get(e);if(!r.timeStampQuerySet){const o=e.isComputeNode?"compute":"render",s=this.device.createQuerySet({type:"timestamp",count:2,label:`timestamp_${o}_${e.id}`});Object.assign(i,{timestampWrites:{querySet:s,beginningOfPassWriteIndex:0,endOfPassWriteIndex:1}}),r.timeStampQuerySet=s}}prepareTimestampBuffer(e,i){if(!this.trackTimestamp)return;const r=this.get(e),o=2*BigInt64Array.BYTES_PER_ELEMENT;r.currentTimestampQueryBuffers===void 0&&(r.currentTimestampQueryBuffers={resolveBuffer:this.device.createBuffer({label:"timestamp resolve buffer",size:o,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),resultBuffer:this.device.createBuffer({label:"timestamp result buffer",size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})});const{resolveBuffer:s,resultBuffer:a}=r.currentTimestampQueryBuffers;i.resolveQuerySet(r.timeStampQuerySet,0,2,s,0),a.mapState==="unmapped"&&i.copyBufferToBuffer(s,0,a,0,o)}async resolveTimestampAsync(e,i="render"){if(!this.trackTimestamp)return;const r=this.get(e);if(r.currentTimestampQueryBuffers===void 0)return;const{resultBuffer:o}=r.currentTimestampQueryBuffers;o.mapState==="unmapped"&&o.mapAsync(GPUMapMode.READ).then(()=>{const s=new BigUint64Array(o.getMappedRange()),a=Number(s[1]-s[0])/1e6;this.renderer.info.updateTimestamp(i,a),o.unmap()})}createNodeBuilder(e,i){return new SVe(e,i)}createProgram(e){const i=this.get(e);i.module={module:this.device.createShaderModule({code:e.code,label:e.stage+(e.name!==""?`_${e.name}`:"")}),entryPoint:"main"}}destroyProgram(e){this.delete(e)}createRenderPipeline(e,i){this.pipelineUtils.createRenderPipeline(e,i)}createComputePipeline(e,i){this.pipelineUtils.createComputePipeline(e,i)}beginBundle(e){const i=this.get(e);i._currentPass=i.currentPass,i._currentSets=i.currentSets,i.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},i.currentPass=this.pipelineUtils.createBundleEncoder(e)}finishBundle(e,i){const r=this.get(e),s=r.currentPass.finish();this.get(i).bundleGPU=s,r.currentSets=r._currentSets,r.currentPass=r._currentPass}addBundle(e,i){this.get(e).renderBundles.push(this.get(i).bundleGPU)}createBindings(e,i,r,o){this.bindingUtils.createBindings(e,i,r,o)}updateBindings(e,i,r,o){this.bindingUtils.createBindings(e,i,r,o)}updateBinding(e){this.bindingUtils.updateBinding(e)}createIndexAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createIndirectStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.INDIRECT|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}updateSize(){this.colorBuffer=this.textureUtils.getColorBuffer(),this.defaultRenderPassdescriptor=null}getMaxAnisotropy(){return 16}hasFeature(e){return this.device.features.has(e)}copyTextureToTexture(e,i,r=null,o=null,s=0){let a=0,l=0,u=0,c=0,d=0,f=0,h=e.image.width,p=e.image.height;r!==null&&(c=r.x,d=r.y,f=r.z||0,h=r.width,p=r.height),o!==null&&(a=o.x,l=o.y,u=o.z||0);const g=this.device.createCommandEncoder({label:"copyTextureToTexture_"+e.id+"_"+i.id}),b=this.get(e).texture,y=this.get(i).texture;g.copyTextureToTexture({texture:b,mipLevel:s,origin:{x:c,y:d,z:f}},{texture:y,mipLevel:s,origin:{x:a,y:l,z:u}},[h,p,1]),this.device.queue.submit([g.finish()])}copyFramebufferToTexture(e,i,r){const o=this.get(i);let s=null;i.renderTarget?e.isDepthTexture?s=this.get(i.depthTexture).texture:s=this.get(i.textures[0]).texture:e.isDepthTexture?s=this.textureUtils.getDepthBuffer(i.depth,i.stencil):s=this.context.getCurrentTexture();const a=this.get(e).texture;if(s.format!==a.format){console.error("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",s.format,a.format);return}let l;if(o.currentPass?(o.currentPass.end(),l=o.encoder):l=this.device.createCommandEncoder({label:"copyFramebufferToTexture_"+e.id}),l.copyTextureToTexture({texture:s,origin:[r.x,r.y,0]},{texture:a},[r.z,r.w]),e.generateMipmaps&&this.textureUtils.generateMipmaps(e),o.currentPass){const{descriptor:u}=o;for(let c=0;c<u.colorAttachments.length;c++)u.colorAttachments[c].loadOp=er.Load;if(i.depth&&(u.depthStencilAttachment.depthLoadOp=er.Load),i.stencil&&(u.depthStencilAttachment.stencilLoadOp=er.Load),o.currentPass=l.beginRenderPass(u),o.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},i.viewport&&this.updateViewport(i),i.scissor){const{x:c,y:d,width:f,height:h}=i.scissorValue;o.currentPass.setScissorRect(c,d,f,h)}}else this.device.queue.submit([l.finish()])}}class IVe extends wK{constructor(e,i,r,o,s,a){super(e,i,r,o,s,a),this.iesMap=null}copy(e,i){return super.copy(e,i),this.iesMap=e.iesMap,this}}class NVe extends kX{constructor(){super(),this.addMaterial(v6e,"MeshPhongMaterial"),this.addMaterial(wX,"MeshStandardMaterial"),this.addMaterial(i8e,"MeshPhysicalMaterial"),this.addMaterial(a8e,"MeshToonMaterial"),this.addMaterial(c6e,"MeshBasicMaterial"),this.addMaterial(g6e,"MeshLambertMaterial"),this.addMaterial(r6e,"MeshNormalMaterial"),this.addMaterial(d8e,"MeshMatcapMaterial"),this.addMaterial(J5e,"LineBasicMaterial"),this.addMaterial(t6e,"LineDashedMaterial"),this.addMaterial(h8e,"PointsMaterial"),this.addMaterial(v8e,"SpriteMaterial"),this.addMaterial(x8e,"ShadowMaterial"),this.addLight(WHe,gDe),this.addLight(_Ge,CK),this.addLight(SGe,vDe),this.addLight($X,wK),this.addLight(CGe,AK),this.addLight(AGe,fDe),this.addLight(TGe,bDe),this.addLight(wGe,IVe),this.addToneMapping(eHe,Xj),this.addToneMapping(tHe,Yj),this.addToneMapping(nHe,Qj),this.addToneMapping(rHe,Zj),this.addToneMapping(lHe,Jj),this.addToneMapping(uHe,eK)}}class OVe extends FGe{constructor(e={}){let i;e.forceWebGL?i=f8:(i=PVe,e.getFallback=()=>(console.warn("THREE.WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new f8(e)));const r=new i(e);super(r,e),this.library=new NVe,this.isWebGPURenderer=!0}}const o2={type:"change"},$D={type:"start"},UD={type:"end"},b8=1e-6,Xn={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4},Q_=new Tt,ud=new Tt,DVe=new Te,Z_=new Te,s2=new Te,eg=new rl,x8=new Te,J_=new Te,a2=new Te,eS=new Te;class LVe extends gC{constructor(e,i=null){super(e,i),this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:Br.ROTATE,MIDDLE:Br.DOLLY,RIGHT:Br.PAN},this.state=Xn.NONE,this.keyState=Xn.NONE,this.target=new Te,this._lastPosition=new Te,this._lastZoom=1,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._lastAngle=0,this._eye=new Te,this._movePrev=new Tt,this._moveCurr=new Tt,this._lastAxis=new Te,this._zoomStart=new Tt,this._zoomEnd=new Tt,this._panStart=new Tt,this._panEnd=new Tt,this._pointers=[],this._pointerPositions={},this._onPointerMove=FVe.bind(this),this._onPointerDown=BVe.bind(this),this._onPointerUp=$Ve.bind(this),this._onPointerCancel=UVe.bind(this),this._onContextMenu=jVe.bind(this),this._onMouseWheel=WVe.bind(this),this._onKeyDown=zVe.bind(this),this._onKeyUp=kVe.bind(this),this._onTouchStart=KVe.bind(this),this._onTouchMove=qVe.bind(this),this._onTouchEnd=XVe.bind(this),this._onMouseDown=HVe.bind(this),this._onMouseMove=GVe.bind(this),this._onMouseUp=VVe.bind(this),this._target0=this.target.clone(),this._position0=this.object.position.clone(),this._up0=this.object.up.clone(),this._zoom0=this.object.zoom,i!==null&&(this.connect(),this.handleResize()),this.update()}connect(){window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}handleResize(){const e=this.domElement.getBoundingClientRect(),i=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-i.clientLeft,this.screen.top=e.top+window.pageYOffset-i.clientTop,this.screen.width=e.width,this.screen.height=e.height}update(){this._eye.subVectors(this.object.position,this.target),this.noRotate||this._rotateCamera(),this.noZoom||this._zoomCamera(),this.noPan||this._panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this._checkDistances(),this.object.lookAt(this.target),this._lastPosition.distanceToSquared(this.object.position)>b8&&(this.dispatchEvent(o2),this._lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this._lastPosition.distanceToSquared(this.object.position)>b8||this._lastZoom!==this.object.zoom)&&(this.dispatchEvent(o2),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type.")}reset(){this.state=Xn.NONE,this.keyState=Xn.NONE,this.target.copy(this._target0),this.object.position.copy(this._position0),this.object.up.copy(this._up0),this.object.zoom=this._zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(o2),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom}_panCamera(){if(ud.copy(this._panEnd).sub(this._panStart),ud.lengthSq()){if(this.object.isOrthographicCamera){const e=(this.object.right-this.object.left)/this.object.zoom/this.domElement.clientWidth,i=(this.object.top-this.object.bottom)/this.object.zoom/this.domElement.clientWidth;ud.x*=e,ud.y*=i}ud.multiplyScalar(this._eye.length()*this.panSpeed),Z_.copy(this._eye).cross(this.object.up).setLength(ud.x),Z_.add(DVe.copy(this.object.up).setLength(ud.y)),this.object.position.add(Z_),this.target.add(Z_),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(ud.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}_rotateCamera(){eS.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0);let e=eS.length();e?(this._eye.copy(this.object.position).sub(this.target),x8.copy(this._eye).normalize(),J_.copy(this.object.up).normalize(),a2.crossVectors(J_,x8).normalize(),J_.setLength(this._moveCurr.y-this._movePrev.y),a2.setLength(this._moveCurr.x-this._movePrev.x),eS.copy(J_.add(a2)),s2.crossVectors(eS,this._eye).normalize(),e*=this.rotateSpeed,eg.setFromAxisAngle(s2,e),this._eye.applyQuaternion(eg),this.object.up.applyQuaternion(eg),this._lastAxis.copy(s2),this._lastAngle=e):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),eg.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(eg),this.object.up.applyQuaternion(eg)),this._movePrev.copy(this._moveCurr)}_zoomCamera(){let e;this.state===Xn.TOUCH_ZOOM_PAN?(e=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom=Hw.clamp(this.object.zoom/e,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,e!==1&&e>0&&(this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom=Hw.clamp(this.object.zoom/e,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}_getMouseOnScreen(e,i){return Q_.set((e-this.screen.left)/this.screen.width,(i-this.screen.top)/this.screen.height),Q_}_getMouseOnCircle(e,i){return Q_.set((e-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-i))/this.screen.width),Q_}_addPointer(e){this._pointers.push(e)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let i=0;i<this._pointers.length;i++)if(this._pointers[i].pointerId==e.pointerId){this._pointers.splice(i,1);return}}_trackPointer(e){let i=this._pointerPositions[e.pointerId];i===void 0&&(i=new Tt,this._pointerPositions[e.pointerId]=i),i.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const i=e.pointerId===this._pointers[0].pointerId?this._pointers[1]:this._pointers[0];return this._pointerPositions[i.pointerId]}_checkDistances(){(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}}function BVe(n){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._addPointer(n),n.pointerType==="touch"?this._onTouchStart(n):this._onMouseDown(n))}function FVe(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchMove(n):this._onMouseMove(n))}function $Ve(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchEnd(n):this._onMouseUp(),this._removePointer(n),this._pointers.length===0&&(this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp)))}function UVe(n){this._removePointer(n)}function kVe(){this.enabled!==!1&&(this.keyState=Xn.NONE,window.addEventListener("keydown",this._onKeyDown))}function zVe(n){this.enabled!==!1&&(window.removeEventListener("keydown",this._onKeyDown),this.keyState===Xn.NONE&&(n.code===this.keys[Xn.ROTATE]&&!this.noRotate?this.keyState=Xn.ROTATE:n.code===this.keys[Xn.ZOOM]&&!this.noZoom?this.keyState=Xn.ZOOM:n.code===this.keys[Xn.PAN]&&!this.noPan&&(this.keyState=Xn.PAN)))}function HVe(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Br.DOLLY:this.state=Xn.ZOOM;break;case Br.ROTATE:this.state=Xn.ROTATE;break;case Br.PAN:this.state=Xn.PAN;break;default:this.state=Xn.NONE}const i=this.keyState!==Xn.NONE?this.keyState:this.state;i===Xn.ROTATE&&!this.noRotate?(this._moveCurr.copy(this._getMouseOnCircle(n.pageX,n.pageY)),this._movePrev.copy(this._moveCurr)):i===Xn.ZOOM&&!this.noZoom?(this._zoomStart.copy(this._getMouseOnScreen(n.pageX,n.pageY)),this._zoomEnd.copy(this._zoomStart)):i===Xn.PAN&&!this.noPan&&(this._panStart.copy(this._getMouseOnScreen(n.pageX,n.pageY)),this._panEnd.copy(this._panStart)),this.dispatchEvent($D)}function GVe(n){const e=this.keyState!==Xn.NONE?this.keyState:this.state;e===Xn.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(n.pageX,n.pageY))):e===Xn.ZOOM&&!this.noZoom?this._zoomEnd.copy(this._getMouseOnScreen(n.pageX,n.pageY)):e===Xn.PAN&&!this.noPan&&this._panEnd.copy(this._getMouseOnScreen(n.pageX,n.pageY))}function VVe(){this.state=Xn.NONE,this.dispatchEvent(UD)}function WVe(n){if(this.enabled!==!1&&this.noZoom!==!0){switch(n.preventDefault(),n.deltaMode){case 2:this._zoomStart.y-=n.deltaY*.025;break;case 1:this._zoomStart.y-=n.deltaY*.01;break;default:this._zoomStart.y-=n.deltaY*25e-5;break}this.dispatchEvent($D),this.dispatchEvent(UD)}}function jVe(n){this.enabled!==!1&&n.preventDefault()}function KVe(n){switch(this._trackPointer(n),this._pointers.length){case 1:this.state=Xn.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(this._pointers[0].pageX,this._pointers[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this.state=Xn.TOUCH_ZOOM_PAN;const e=this._pointers[0].pageX-this._pointers[1].pageX,i=this._pointers[0].pageY-this._pointers[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(e*e+i*i);const r=(this._pointers[0].pageX+this._pointers[1].pageX)/2,o=(this._pointers[0].pageY+this._pointers[1].pageY)/2;this._panStart.copy(this._getMouseOnScreen(r,o)),this._panEnd.copy(this._panStart);break}this.dispatchEvent($D)}function qVe(n){switch(this._trackPointer(n),this._pointers.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(n.pageX,n.pageY));break;default:const e=this._getSecondPointerPosition(n),i=n.pageX-e.x,r=n.pageY-e.y;this._touchZoomDistanceEnd=Math.sqrt(i*i+r*r);const o=(n.pageX+e.x)/2,s=(n.pageY+e.y)/2;this._panEnd.copy(this._getMouseOnScreen(o,s));break}}function XVe(n){switch(this._pointers.length){case 0:this.state=Xn.NONE;break;case 1:this.state=Xn.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(n.pageX,n.pageY)),this._movePrev.copy(this._moveCurr);break;case 2:this.state=Xn.TOUCH_ZOOM_PAN;for(let e=0;e<this._pointers.length;e++)if(this._pointers[e].pointerId!==n.pointerId){const i=this._pointerPositions[this._pointers[e].pointerId];this._moveCurr.copy(this._getMouseOnCircle(i.x,i.y)),this._movePrev.copy(this._moveCurr);break}break}this.dispatchEvent(UD)}const _8={type:"change"},kD={type:"start"},XX={type:"end"},tS=new VO,S8=new Va,YVe=Math.cos(70*Hw.DEG2RAD),br=new Te,Xo=2*Math.PI,si={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l2=1e-6;class QVe extends gC{constructor(e,i=null){super(e,i),this.state=si.NONE,this.enabled=!0,this.target=new Te,this.cursor=new Te,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Br.ROTATE,MIDDLE:Br.DOLLY,RIGHT:Br.PAN},this.touches={ONE:Qu.ROTATE,TWO:Qu.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Te,this._lastQuaternion=new rl,this._lastTargetPosition=new Te,this._quat=new rl().setFromUnitVectors(e.up,new Te(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new gP,this._sphericalDelta=new gP,this._scale=1,this._panOffset=new Te,this._rotateStart=new Tt,this._rotateEnd=new Tt,this._rotateDelta=new Tt,this._panStart=new Tt,this._panEnd=new Tt,this._panDelta=new Tt,this._dollyStart=new Tt,this._dollyEnd=new Tt,this._dollyDelta=new Tt,this._dollyDirection=new Te,this._mouse=new Tt,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=JVe.bind(this),this._onPointerDown=ZVe.bind(this),this._onPointerUp=eWe.bind(this),this._onContextMenu=aWe.bind(this),this._onMouseWheel=iWe.bind(this),this._onKeyDown=rWe.bind(this),this._onTouchStart=oWe.bind(this),this._onTouchMove=sWe.bind(this),this._onMouseDown=tWe.bind(this),this._onMouseMove=nWe.bind(this),this._interceptControlDown=lWe.bind(this),this._interceptControlUp=uWe.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(_8),this.update(),this.state=si.NONE}update(e=null){const i=this.object.position;br.copy(i).sub(this.target),br.applyQuaternion(this._quat),this._spherical.setFromVector3(br),this.autoRotate&&this.state===si.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,o=this.maxAzimuthAngle;isFinite(r)&&isFinite(o)&&(r<-Math.PI?r+=Xo:r>Math.PI&&(r-=Xo),o<-Math.PI?o+=Xo:o>Math.PI&&(o-=Xo),r<=o?this._spherical.theta=Math.max(r,Math.min(o,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+o)/2?Math.max(r,this._spherical.theta):Math.min(o,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const a=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=a!=this._spherical.radius}if(br.setFromSpherical(this._spherical),br.applyQuaternion(this._quatInverse),i.copy(this.target).add(br),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let a=null;if(this.object.isPerspectiveCamera){const l=br.length();a=this._clampDistance(l*this._scale);const u=l-a;this.object.position.addScaledVector(this._dollyDirection,u),this.object.updateMatrixWorld(),s=!!u}else if(this.object.isOrthographicCamera){const l=new Te(this._mouse.x,this._mouse.y,0);l.unproject(this.object);const u=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=u!==this.object.zoom;const c=new Te(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(l),this.object.updateMatrixWorld(),a=br.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;a!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(a).add(this.object.position):(tS.origin.copy(this.object.position),tS.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(tS.direction))<YVe?this.object.lookAt(this.target):(S8.setFromNormalAndCoplanarPoint(this.object.up,this.target),tS.intersectPlane(S8,this.target))))}else if(this.object.isOrthographicCamera){const a=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),a!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,s||this._lastPosition.distanceToSquared(this.object.position)>l2||8*(1-this._lastQuaternion.dot(this.object.quaternion))>l2||this._lastTargetPosition.distanceToSquared(this.target)>l2?(this.dispatchEvent(_8),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Xo/60*this.autoRotateSpeed*e:Xo/60/60*this.autoRotateSpeed}_getZoomScale(e){const i=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*i)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,i){br.setFromMatrixColumn(i,0),br.multiplyScalar(-e),this._panOffset.add(br)}_panUp(e,i){this.screenSpacePanning===!0?br.setFromMatrixColumn(i,1):(br.setFromMatrixColumn(i,0),br.crossVectors(this.object.up,br)),br.multiplyScalar(e),this._panOffset.add(br)}_pan(e,i){const r=this.domElement;if(this.object.isPerspectiveCamera){const o=this.object.position;br.copy(o).sub(this.target);let s=br.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/r.clientHeight,this.object.matrix),this._panUp(2*i*s/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(i*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,i){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),o=e-r.left,s=i-r.top,a=r.width,l=r.height;this._mouse.x=o/a*2-1,this._mouse.y=-(s/l)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const i=this.domElement;this._rotateLeft(Xo*this._rotateDelta.x/i.clientHeight),this._rotateUp(Xo*this._rotateDelta.y/i.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let i=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Xo*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),i=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Xo*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),i=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Xo*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),i=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Xo*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),i=!0;break}i&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),r=.5*(e.pageX+i.x),o=.5*(e.pageY+i.y);this._rotateStart.set(r,o)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),r=.5*(e.pageX+i.x),o=.5*(e.pageY+i.y);this._panStart.set(r,o)}}_handleTouchStartDolly(e){const i=this._getSecondPointerPosition(e),r=e.pageX-i.x,o=e.pageY-i.y,s=Math.sqrt(r*r+o*o);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e),o=.5*(e.pageX+r.x),s=.5*(e.pageY+r.y);this._rotateEnd.set(o,s)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const i=this.domElement;this._rotateLeft(Xo*this._rotateDelta.x/i.clientHeight),this._rotateUp(Xo*this._rotateDelta.y/i.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),r=.5*(e.pageX+i.x),o=.5*(e.pageY+i.y);this._panEnd.set(r,o)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const i=this._getSecondPointerPosition(e),r=e.pageX-i.x,o=e.pageY-i.y,s=Math.sqrt(r*r+o*o);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const a=(e.pageX+i.x)*.5,l=(e.pageY+i.y)*.5;this._updateZoomParameters(a,l)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let i=0;i<this._pointers.length;i++)if(this._pointers[i]==e.pointerId){this._pointers.splice(i,1);return}}_isTrackingPointer(e){for(let i=0;i<this._pointers.length;i++)if(this._pointers[i]==e.pointerId)return!0;return!1}_trackPointer(e){let i=this._pointerPositions[e.pointerId];i===void 0&&(i=new Tt,this._pointerPositions[e.pointerId]=i),i.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const i=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[i]}_customWheelEvent(e){const i=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(i){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function ZVe(n){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),n.pointerType==="touch"?this._onTouchStart(n):this._onMouseDown(n)))}function JVe(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchMove(n):this._onMouseMove(n))}function eWe(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(XX),this.state=si.NONE;break;case 1:const e=this._pointers[0],i=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:i.x,pageY:i.y});break}}function tWe(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Br.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(n),this.state=si.DOLLY;break;case Br.ROTATE:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=si.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=si.ROTATE}break;case Br.PAN:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=si.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=si.PAN}break;default:this.state=si.NONE}this.state!==si.NONE&&this.dispatchEvent(kD)}function nWe(n){switch(this.state){case si.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(n);break;case si.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(n);break;case si.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(n);break}}function iWe(n){this.enabled===!1||this.enableZoom===!1||this.state!==si.NONE||(n.preventDefault(),this.dispatchEvent(kD),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(XX))}function rWe(n){this.enabled!==!1&&this._handleKeyDown(n)}function oWe(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case Qu.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(n),this.state=si.TOUCH_ROTATE;break;case Qu.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(n),this.state=si.TOUCH_PAN;break;default:this.state=si.NONE}break;case 2:switch(this.touches.TWO){case Qu.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(n),this.state=si.TOUCH_DOLLY_PAN;break;case Qu.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(n),this.state=si.TOUCH_DOLLY_ROTATE;break;default:this.state=si.NONE}break;default:this.state=si.NONE}this.state!==si.NONE&&this.dispatchEvent(kD)}function sWe(n){switch(this._trackPointer(n),this.state){case si.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(n),this.update();break;case si.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(n),this.update();break;case si.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(n),this.update();break;case si.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=si.NONE}}function aWe(n){this.enabled!==!1&&n.preventDefault()}function lWe(n){n.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function uWe(n){n.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const cWe={type:"change"},w8=1e-6,C8=new rl;class dWe extends gC{constructor(e,i=null){super(e,i),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1,this._moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this._moveVector=new Te(0,0,0),this._rotationVector=new Te(0,0,0),this._lastQuaternion=new rl,this._lastPosition=new Te,this._status=0,this._onKeyDown=fWe.bind(this),this._onKeyUp=hWe.bind(this),this._onPointerMove=gWe.bind(this),this._onPointerDown=pWe.bind(this),this._onPointerUp=mWe.bind(this),this._onPointerCancel=vWe.bind(this),this._onContextMenu=yWe.bind(this),i!==null&&this.connect()}connect(){window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointerup",this._onPointerUp),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("contextmenu",this._onContextMenu)}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("contextmenu",this._onContextMenu)}dispose(){this.disconnect()}update(e){if(this.enabled===!1)return;const i=this.object,r=e*this.movementSpeed,o=e*this.rollSpeed;i.translateX(this._moveVector.x*r),i.translateY(this._moveVector.y*r),i.translateZ(this._moveVector.z*r),C8.set(this._rotationVector.x*o,this._rotationVector.y*o,this._rotationVector.z*o,1).normalize(),i.quaternion.multiply(C8),(this._lastPosition.distanceToSquared(i.position)>w8||8*(1-this._lastQuaternion.dot(i.quaternion))>w8)&&(this.dispatchEvent(cWe),this._lastQuaternion.copy(i.quaternion),this._lastPosition.copy(i.position))}_updateMovementVector(){const e=this._moveState.forward||this.autoForward&&!this._moveState.back?1:0;this._moveVector.x=-this._moveState.left+this._moveState.right,this._moveVector.y=-this._moveState.down+this._moveState.up,this._moveVector.z=-e+this._moveState.back}_updateRotationVector(){this._rotationVector.x=-this._moveState.pitchDown+this._moveState.pitchUp,this._rotationVector.y=-this._moveState.yawRight+this._moveState.yawLeft,this._rotationVector.z=-this._moveState.rollRight+this._moveState.rollLeft}_getContainerDimensions(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}}}function fWe(n){if(!(n.altKey||this.enabled===!1)){switch(n.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this._moveState.forward=1;break;case"KeyS":this._moveState.back=1;break;case"KeyA":this._moveState.left=1;break;case"KeyD":this._moveState.right=1;break;case"KeyR":this._moveState.up=1;break;case"KeyF":this._moveState.down=1;break;case"ArrowUp":this._moveState.pitchUp=1;break;case"ArrowDown":this._moveState.pitchDown=1;break;case"ArrowLeft":this._moveState.yawLeft=1;break;case"ArrowRight":this._moveState.yawRight=1;break;case"KeyQ":this._moveState.rollLeft=1;break;case"KeyE":this._moveState.rollRight=1;break}this._updateMovementVector(),this._updateRotationVector()}}function hWe(n){if(this.enabled!==!1){switch(n.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this._moveState.forward=0;break;case"KeyS":this._moveState.back=0;break;case"KeyA":this._moveState.left=0;break;case"KeyD":this._moveState.right=0;break;case"KeyR":this._moveState.up=0;break;case"KeyF":this._moveState.down=0;break;case"ArrowUp":this._moveState.pitchUp=0;break;case"ArrowDown":this._moveState.pitchDown=0;break;case"ArrowLeft":this._moveState.yawLeft=0;break;case"ArrowRight":this._moveState.yawRight=0;break;case"KeyQ":this._moveState.rollLeft=0;break;case"KeyE":this._moveState.rollRight=0;break}this._updateMovementVector(),this._updateRotationVector()}}function pWe(n){if(this.enabled!==!1)if(this.dragToLook)this._status++;else{switch(n.button){case 0:this._moveState.forward=1;break;case 2:this._moveState.back=1;break}this._updateMovementVector()}}function gWe(n){if(this.enabled!==!1&&(!this.dragToLook||this._status>0)){const e=this._getContainerDimensions(),i=e.size[0]/2,r=e.size[1]/2;this._moveState.yawLeft=-(n.pageX-e.offset[0]-i)/i,this._moveState.pitchDown=(n.pageY-e.offset[1]-r)/r,this._updateRotationVector()}}function mWe(n){if(this.enabled!==!1){if(this.dragToLook)this._status--,this._moveState.yawLeft=this._moveState.pitchDown=0;else{switch(n.button){case 0:this._moveState.forward=0;break;case 2:this._moveState.back=0;break}this._updateMovementVector()}this._updateRotationVector()}}function vWe(){this.enabled!==!1&&(this.dragToLook?(this._status=0,this._moveState.yawLeft=this._moveState.pitchDown=0):(this._moveState.forward=0,this._moveState.back=0,this._updateMovementVector()),this._updateRotationVector())}function yWe(n){this.enabled!==!1&&n.preventDefault()}const bWe={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class OC{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const xWe=new sb(-1,1,1,-1,0,1);class _We extends Tc{constructor(){super(),this.setAttribute("position",new cs([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new cs([0,2,0,0,2,0],2))}}const SWe=new _We;class wWe{constructor(e){this._mesh=new Vr(SWe,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,xWe)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class CWe extends OC{constructor(e,i){super(),this.textureID=i!==void 0?i:"tDiffuse",e instanceof Wl?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=hK.clone(e.uniforms),this.material=new Wl({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new wWe(this.material)}render(e,i,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(i),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class A8 extends OC{constructor(e,i){super(),this.scene=e,this.camera=i,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,i,r){const o=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let a,l;this.inverse?(a=0,l=1):(a=1,l=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.buffers.stencil.setFunc(o.ALWAYS,a,4294967295),s.buffers.stencil.setClear(l),s.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(o.EQUAL,1,4294967295),s.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.buffers.stencil.setLocked(!0)}}class AWe extends OC{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class TWe{constructor(e,i){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),i===void 0){const r=e.getSize(new Tt);this._width=r.width,this._height=r.height,i=new Hd(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Bo}),i.texture.name="EffectComposer.rt1"}else this._width=i.width,this._height=i.height;this.renderTarget1=i,this.renderTarget2=i.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new CWe(bWe),this.copyPass.material.blending=ls,this.clock=new TK}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,i){this.passes.splice(i,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const i=this.passes.indexOf(e);i!==-1&&this.passes.splice(i,1)}isLastEnabledPass(e){for(let i=e+1;i<this.passes.length;i++)if(this.passes[i].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const i=this.renderer.getRenderTarget();let r=!1;for(let o=0,s=this.passes.length;o<s;o++){const a=this.passes[o];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),a.needsSwap){if(r){const l=this.renderer.getContext(),u=this.renderer.state.buffers.stencil;u.setFunc(l.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),u.setFunc(l.EQUAL,1,4294967295)}this.swapBuffers()}A8!==void 0&&(a instanceof A8?r=!0:a instanceof AWe&&(r=!1))}}this.renderer.setRenderTarget(i)}reset(e){if(e===void 0){const i=this.renderer.getSize(new Tt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=i.width,this._height=i.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,i){this._width=e,this._height=i;const r=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(r,o),this.renderTarget2.setSize(r,o);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(r,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class EWe extends OC{constructor(e,i,r=null,o=null,s=null){super(),this.scene=e,this.camera=i,this.overrideMaterial=r,this.clearColor=o,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Ft}render(e,i,r){const o=e.autoClear;e.autoClear=!1;let s,a;this.overrideMaterial!==null&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=a),e.autoClear=o}}function MWe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function F0(n,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},F0(n,e)}function RWe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,F0(n,e)}function kP(n){return kP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kP(n)}function PWe(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function YX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YX=function(){return!!n})()}function IWe(n,e,i){if(YX())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(n.bind.apply(n,r));return i&&F0(o,i.prototype),o}function zP(n){var e=typeof Map=="function"?new Map:void 0;return zP=function(r){if(r===null||!PWe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,o)}function o(){return IWe(r,arguments,kP(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),F0(o,r)},zP(n)}var Il=function(n){RWe(e,n);function e(i){var r;return r=n.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+i+" for more information.")||this,MWe(r)}return e}(zP(Error));function u2(n){return Math.round(n*255)}function NWe(n,e,i){return u2(n)+","+u2(e)+","+u2(i)}function r1(n,e,i,r){if(r===void 0&&(r=NWe),e===0)return r(i,i,i);var o=(n%360+360)%360/60,s=(1-Math.abs(2*i-1))*e,a=s*(1-Math.abs(o%2-1)),l=0,u=0,c=0;o>=0&&o<1?(l=s,u=a):o>=1&&o<2?(l=a,u=s):o>=2&&o<3?(u=s,c=a):o>=3&&o<4?(u=a,c=s):o>=4&&o<5?(l=a,c=s):o>=5&&o<6&&(l=s,c=a);var d=i-s/2,f=l+d,h=u+d,p=c+d;return r(f,h,p)}var T8={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function OWe(n){if(typeof n!="string")return n;var e=n.toLowerCase();return T8[e]?"#"+T8[e]:n}var DWe=/^#[a-fA-F0-9]{6}$/,LWe=/^#[a-fA-F0-9]{8}$/,BWe=/^#[a-fA-F0-9]{3}$/,FWe=/^#[a-fA-F0-9]{4}$/,c2=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,$We=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,UWe=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,kWe=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function Tm(n){if(typeof n!="string")throw new Il(3);var e=OWe(n);if(e.match(DWe))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(LWe)){var i=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:i}}if(e.match(BWe))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(FWe)){var r=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:r}}var o=c2.exec(e);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var s=$We.exec(e.substring(0,50));if(s)return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10),alpha:parseFloat(""+s[4])>1?parseFloat(""+s[4])/100:parseFloat(""+s[4])};var a=UWe.exec(e);if(a){var l=parseInt(""+a[1],10),u=parseInt(""+a[2],10)/100,c=parseInt(""+a[3],10)/100,d="rgb("+r1(l,u,c)+")",f=c2.exec(d);if(!f)throw new Il(4,e,d);return{red:parseInt(""+f[1],10),green:parseInt(""+f[2],10),blue:parseInt(""+f[3],10)}}var h=kWe.exec(e.substring(0,50));if(h){var p=parseInt(""+h[1],10),g=parseInt(""+h[2],10)/100,b=parseInt(""+h[3],10)/100,y="rgb("+r1(p,g,b)+")",m=c2.exec(y);if(!m)throw new Il(4,e,y);return{red:parseInt(""+m[1],10),green:parseInt(""+m[2],10),blue:parseInt(""+m[3],10),alpha:parseFloat(""+h[4])>1?parseFloat(""+h[4])/100:parseFloat(""+h[4])}}throw new Il(5)}function zWe(n){var e=n.red/255,i=n.green/255,r=n.blue/255,o=Math.max(e,i,r),s=Math.min(e,i,r),a=(o+s)/2;if(o===s)return n.alpha!==void 0?{hue:0,saturation:0,lightness:a,alpha:n.alpha}:{hue:0,saturation:0,lightness:a};var l,u=o-s,c=a>.5?u/(2-o-s):u/(o+s);switch(o){case e:l=(i-r)/u+(i<r?6:0);break;case i:l=(r-e)/u+2;break;default:l=(e-i)/u+4;break}return l*=60,n.alpha!==void 0?{hue:l,saturation:c,lightness:a,alpha:n.alpha}:{hue:l,saturation:c,lightness:a}}function ef(n){return zWe(Tm(n))}var HWe=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},HP=HWe;function Ff(n){var e=n.toString(16);return e.length===1?"0"+e:e}function d2(n){return Ff(Math.round(n*255))}function GWe(n,e,i){return HP("#"+d2(n)+d2(e)+d2(i))}function QX(n,e,i){return r1(n,e,i,GWe)}function VWe(n,e,i){if(typeof n=="object"&&e===void 0&&i===void 0)return QX(n.hue,n.saturation,n.lightness);throw new Il(1)}function WWe(n,e,i,r){if(typeof n=="object"&&e===void 0&&i===void 0&&r===void 0)return n.alpha>=1?QX(n.hue,n.saturation,n.lightness):"rgba("+r1(n.hue,n.saturation,n.lightness)+","+n.alpha+")";throw new Il(2)}function ZX(n,e,i){if(typeof n=="number"&&typeof e=="number"&&typeof i=="number")return HP("#"+Ff(n)+Ff(e)+Ff(i));if(typeof n=="object"&&e===void 0&&i===void 0)return HP("#"+Ff(n.red)+Ff(n.green)+Ff(n.blue));throw new Il(6)}function DC(n,e,i,r){if(typeof n=="object"&&e===void 0&&i===void 0&&r===void 0)return n.alpha>=1?ZX(n.red,n.green,n.blue):"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")";throw new Il(7)}var jWe=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},KWe=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},qWe=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},XWe=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"};function tf(n){if(typeof n!="object")throw new Il(8);if(KWe(n))return DC(n);if(jWe(n))return ZX(n);if(XWe(n))return WWe(n);if(qWe(n))return VWe(n);throw new Il(8)}function JX(n,e,i){return function(){var o=i.concat(Array.prototype.slice.call(arguments));return o.length>=e?n.apply(this,o):JX(n,e,o)}}function Hs(n){return JX(n,n.length,[])}function YWe(n,e){if(e==="transparent")return e;var i=ef(e);return tf(O({},i,{hue:i.hue+parseFloat(n)}))}Hs(YWe);function Gm(n,e,i){return Math.max(n,Math.min(e,i))}function QWe(n,e){if(e==="transparent")return e;var i=ef(e);return tf(O({},i,{lightness:Gm(0,1,i.lightness-parseFloat(n))}))}Hs(QWe);function ZWe(n,e){if(e==="transparent")return e;var i=ef(e);return tf(O({},i,{saturation:Gm(0,1,i.saturation-parseFloat(n))}))}Hs(ZWe);function JWe(n,e){if(e==="transparent")return e;var i=ef(e);return tf(O({},i,{lightness:Gm(0,1,i.lightness+parseFloat(n))}))}Hs(JWe);function e9e(n,e,i){if(e==="transparent")return i;if(i==="transparent")return e;if(n===0)return i;var r=Tm(e),o=O({},r,{alpha:typeof r.alpha=="number"?r.alpha:1}),s=Tm(i),a=O({},s,{alpha:typeof s.alpha=="number"?s.alpha:1}),l=o.alpha-a.alpha,u=parseFloat(n)*2-1,c=u*l===-1?u:u+l,d=1+u*l,f=(c/d+1)/2,h=1-f,p={red:Math.floor(o.red*f+a.red*h),green:Math.floor(o.green*f+a.green*h),blue:Math.floor(o.blue*f+a.blue*h),alpha:o.alpha*parseFloat(n)+a.alpha*(1-parseFloat(n))};return DC(p)}var t9e=Hs(e9e),eY=t9e;function n9e(n,e){if(e==="transparent")return e;var i=Tm(e),r=typeof i.alpha=="number"?i.alpha:1,o=O({},i,{alpha:Gm(0,1,(r*100+parseFloat(n)*100)/100)});return DC(o)}var i9e=Hs(n9e),r9e=i9e;function o9e(n,e){if(e==="transparent")return e;var i=ef(e);return tf(O({},i,{saturation:Gm(0,1,i.saturation+parseFloat(n))}))}Hs(o9e);function s9e(n,e){return e==="transparent"?e:tf(O({},ef(e),{hue:parseFloat(n)}))}Hs(s9e);function a9e(n,e){return e==="transparent"?e:tf(O({},ef(e),{lightness:parseFloat(n)}))}Hs(a9e);function l9e(n,e){return e==="transparent"?e:tf(O({},ef(e),{saturation:parseFloat(n)}))}Hs(l9e);function u9e(n,e){return e==="transparent"?e:eY(parseFloat(n),"rgb(0, 0, 0)",e)}Hs(u9e);function c9e(n,e){return e==="transparent"?e:eY(parseFloat(n),"rgb(255, 255, 255)",e)}Hs(c9e);function d9e(n,e){if(e==="transparent")return e;var i=Tm(e),r=typeof i.alpha=="number"?i.alpha:1,o=O({},i,{alpha:Gm(0,1,+(r*100-parseFloat(n)*100).toFixed(2)/100)});return DC(o)}Hs(d9e);function f9e(n,e){e===void 0&&(e={});var i=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",i==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var h9e=`.scene-nav-info {
  position: absolute;
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
  font-family: sans-serif;
  pointer-events: none;
  user-select: none;
}

.scene-container canvas:focus {
  outline: none;
}`;f9e(h9e);function GP(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function p9e(n){if(Array.isArray(n))return n}function g9e(n){if(Array.isArray(n))return GP(n)}function m9e(n,e,i){return(e=w9e(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function v9e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function y9e(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function b9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _9e(n,e){return p9e(n)||y9e(n,e)||tY(n,e)||b9e()}function Xv(n){return g9e(n)||v9e(n)||tY(n)||x9e()}function S9e(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function w9e(n){var e=S9e(n,"string");return typeof e=="symbol"?e:e+""}function tY(n,e){if(n){if(typeof n=="string")return GP(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?GP(n,e):void 0}}var Mi=window.THREE?window.THREE:{WebGLRenderer:r$e,Scene:qO,PerspectiveCamera:Po,Raycaster:EK,SRGBColorSpace:Ut,TextureLoader:dDe,Vector2:Tt,Vector3:Te,Box3:Bm,Color:Ft,Mesh:Vr,SphereGeometry:xK,MeshBasicMaterial:ob,BackSide:Di,EventDispatcher:Ac,MOUSE:Br,Quaternion:rl,Spherical:gP,Clock:TK},nY=Pm({props:{width:{default:window.innerWidth,onChange:function(e,i,r){isNaN(e)&&(i.width=r)}},height:{default:window.innerHeight,onChange:function(e,i,r){isNaN(e)&&(i.height=r)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},lights:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,i){i.hoverObj=null,i.tooltip&&i.tooltip.content(null)},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},pointsHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(Math.min(1,e.clock.getDelta())),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach(function(s){return s.render(e.scene,e.camera)}),e.enablePointerInteraction){var i=null;if(e.hoverDuringDrag||!e.isPointerDragging){var r=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y).filter(function(s){return e.hoverFilter(s.object)}).sort(function(s,a){return e.hoverOrderComparator(s.object,a.object)}),o=r.length?r[0]:null;i=o?o.object:null,e.intersection=o||null}i!==e.hoverObj&&(e.onHover(i,e.hoverObj,e.intersection),e.tooltip.content(i&&Ot(e.tooltipContent)(i,e.intersection)||null),e.hoverObj=i)}e.tweenGroup.update()}return this},getPointerPos:function(e){var i=e.pointerPos,r=i.x,o=i.y;return{x:r,y:o}},cameraPosition:function(e,i,r,o){var s=e.camera;if(i&&e.initialised){var a=i,l=r||{x:0,y:0,z:0};if(!o)d(a),f(l);else{var u=Object.assign({},s.position),c=h();e.tweenGroup.add(new Dw(u).to(a,o).easing(ic.Quadratic.Out).onUpdate(d).start()),e.tweenGroup.add(new Dw(c).to(l,o/3).easing(ic.Quadratic.Out).onUpdate(f).start())}return this}return Object.assign({},s.position,{lookAt:h()});function d(p){var g=p.x,b=p.y,y=p.z;g!==void 0&&(s.position.x=g),b!==void 0&&(s.position.y=b),y!==void 0&&(s.position.z=y)}function f(p){var g=new Mi.Vector3(p.x,p.y,p.z);e.controls.target?e.controls.target=g:s.lookAt(g)}function h(){return Object.assign(new Mi.Vector3(0,0,-1e3).applyQuaternion(s.quaternion).add(s.position))}},zoomToFit:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return this.fitToBbox(this.getBbox.apply(this,s),i,r)},fitToBbox:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10,s=e.camera;if(i){var a=new Mi.Vector3(0,0,0),l=Math.max.apply(Math,Xv(Object.entries(i).map(function(p){var g=_9e(p,2),b=g[0],y=g[1];return Math.max.apply(Math,Xv(y.map(function(m){return Math.abs(a[b]-m)})))})))*2,u=(1-o*2/e.height)*s.fov,c=l/Math.atan(u*Math.PI/180),d=c/s.aspect,f=Math.max(c,d);if(f>0){var h=a.clone().sub(s.position).normalize().multiplyScalar(-f);this.cameraPosition(h,a,r)}}return this},getBbox:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=new Mi.Box3(new Mi.Vector3(0,0,0),new Mi.Vector3(0,0,0)),o=e.objects.filter(i);return o.length?(o.forEach(function(s){return r.expandByObject(s)}),Object.assign.apply(Object,Xv(["x","y","z"].map(function(s){return m9e({},s,[r.min[s],r.max[s]])})))):null},getScreenCoords:function(e,i,r,o){var s=new Mi.Vector3(i,r,o);return s.project(this.camera()),{x:(s.x+1)*e.width/2,y:-(s.y-1)*e.height/2}},getSceneCoords:function(e,i,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=new Mi.Vector2(i/e.width*2-1,-(r/e.height)*2+1),a=new Mi.Raycaster;return a.setFromCamera(s,e.camera),Object.assign({},a.ray.at(o,new Mi.Vector3))},intersectingObjects:function(e,i,r){var o=new Mi.Vector2(i/e.width*2-1,-(r/e.height)*2+1),s=new Mi.Raycaster;return s.params.Line.threshold=e.lineHoverPrecision,s.params.Points.threshold=e.pointsHoverPrecision,s.setFromCamera(o,e.camera),s.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new Mi.Scene,camera:new Mi.PerspectiveCamera,clock:new Mi.Clock,tweenGroup:new aO}},init:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.controlType,s=o===void 0?"trackball":o,a=r.useWebGPU,l=a===void 0?!1:a,u=r.rendererConfig,c=u===void 0?{}:u,d=r.extraRenderers,f=d===void 0?[]:d,h=r.waitForLoadComplete,p=h===void 0?!0:h;e.innerHTML="",e.appendChild(i.container=document.createElement("div")),i.container.className="scene-container",i.container.style.position="relative",i.container.appendChild(i.navInfo=document.createElement("div")),i.navInfo.className="scene-nav-info",i.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[s]||"",i.navInfo.style.display=i.showNavInfo?null:"none",i.tooltip=new wj(i.container),i.pointerPos=new Mi.Vector2,i.pointerPos.x=-2,i.pointerPos.y=-2,["pointermove","pointerdown"].forEach(function(g){return i.container.addEventListener(g,function(b){if(g==="pointerdown"&&(i.isPointerPressed=!0),!i.isPointerDragging&&b.type==="pointermove"&&(b.pressure>0||i.isPointerPressed)&&(b.pointerType!=="touch"||b.movementX===void 0||[b.movementX,b.movementY].some(function(_){return Math.abs(_)>1}))&&(i.isPointerDragging=!0),i.enablePointerInteraction){var y=m(i.container);i.pointerPos.x=b.pageX-y.left,i.pointerPos.y=b.pageY-y.top}function m(_){var S=_.getBoundingClientRect(),w=window.pageXOffset||document.documentElement.scrollLeft,A=window.pageYOffset||document.documentElement.scrollTop;return{top:S.top+A,left:S.left+w}}},{passive:!0})}),i.container.addEventListener("pointerup",function(g){i.isPointerPressed=!1,!(i.isPointerDragging&&(i.isPointerDragging=!1,!i.clickAfterDrag))&&requestAnimationFrame(function(){g.button===0&&i.onClick(i.hoverObj||null,g,i.intersection),g.button===2&&i.onRightClick&&i.onRightClick(i.hoverObj||null,g,i.intersection)})},{passive:!0,capture:!0}),i.container.addEventListener("contextmenu",function(g){i.onRightClick&&g.preventDefault()}),i.renderer=new(l?OVe:Mi.WebGLRenderer)(Object.assign({antialias:!0,alpha:!0},c)),i.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),i.container.appendChild(i.renderer.domElement),i.extraRenderers=f,i.extraRenderers.forEach(function(g){g.domElement.style.position="absolute",g.domElement.style.top="0px",g.domElement.style.pointerEvents="none",i.container.appendChild(g.domElement)}),i.postProcessingComposer=new TWe(i.renderer),i.postProcessingComposer.addPass(new EWe(i.scene,i.camera)),i.controls=new{trackball:LVe,orbit:QVe,fly:dWe}[s](i.camera,i.renderer.domElement),s==="fly"&&(i.controls.movementSpeed=300,i.controls.rollSpeed=Math.PI/6,i.controls.dragToLook=!0),(s==="trackball"||s==="orbit")&&(i.controls.minDistance=.1,i.controls.maxDistance=i.skyRadius,i.controls.addEventListener("start",function(){i.controlsEngaged=!0}),i.controls.addEventListener("change",function(){i.controlsEngaged&&(i.controlsDragging=!0)}),i.controls.addEventListener("end",function(){i.controlsEngaged=!1,i.controlsDragging=!1})),[i.renderer,i.postProcessingComposer].concat(Xv(i.extraRenderers)).forEach(function(g){return g.setSize(i.width,i.height)}),i.camera.aspect=i.width/i.height,i.camera.updateProjectionMatrix(),i.camera.position.z=1e3,i.scene.add(i.skysphere=new Mi.Mesh),i.skysphere.visible=!1,i.loadComplete=i.scene.visible=!p,window.scene=i.scene},update:function(e,i){if(e.width&&e.height&&(i.hasOwnProperty("width")||i.hasOwnProperty("height"))&&(e.container.style.width="".concat(e.width,"px"),e.container.style.height="".concat(e.height,"px"),[e.renderer,e.postProcessingComposer].concat(Xv(e.extraRenderers)).forEach(function(s){return s.setSize(e.width,e.height)}),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),i.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&i.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=e.skyRadius*2.5,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new Mi.SphereGeometry(e.skyRadius)),i.hasOwnProperty("backgroundColor")){var r=Tm(e.backgroundColor).alpha;r===void 0&&(r=1),e.renderer.setClearColor(new Mi.Color(r9e(1,e.backgroundColor)),r)}i.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?new Mi.TextureLoader().load(e.backgroundImageUrl,function(s){s.colorSpace=Mi.SRGBColorSpace,e.skysphere.material=new Mi.MeshBasicMaterial({map:s,side:Mi.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&o()}):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&o())),i.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),i.hasOwnProperty("lights")&&((i.lights||[]).forEach(function(s){return e.scene.remove(s)}),e.lights.forEach(function(s){return e.scene.add(s)})),i.hasOwnProperty("objects")&&((i.objects||[]).forEach(function(s){return e.scene.remove(s)}),e.objects.forEach(function(s){return e.scene.add(s)}));function o(){e.loadComplete=e.scene.visible=!0}}});function C9e(n,e){e===void 0&&(e={});var i=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",i==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var A9e=`.graph-info-msg {
  top: 50%;
  width: 100%;
  text-align: center;
  color: lavender;
  opacity: 0.7;
  font-size: 22px;
  position: absolute;
  font-family: Sans-serif;
}

.scene-container .clickable {
  cursor: pointer;
}

.scene-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.scene-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}`;C9e(A9e);function VP(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function T9e(n){if(Array.isArray(n))return VP(n)}function hb(n,e,i){return(e=P9e(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function E9e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function M9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function nS(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(i),!0).forEach(function(r){hb(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):E8(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function LC(n){return T9e(n)||E9e(n)||I9e(n)||M9e()}function R9e(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function P9e(n){var e=R9e(n,"string");return typeof e=="symbol"?e:e+""}function I9e(n,e){if(n){if(typeof n=="string")return VP(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?VP(n,e):void 0}}function iY(n,e){var i=new e;return i._destructor&&i._destructor(),{linkProp:function(o){return{default:i[o](),onChange:function(a,l){l[n][o](a)},triggerUpdate:!1}},linkMethod:function(o){return function(s){for(var a=s[n],l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];var d=a[o].apply(a,u);return d===a?this:d}}}}var f2=window.THREE?window.THREE:{AmbientLight:AK,DirectionalLight:CK,Vector3:Te,REVISION:Im},N9e=170,rY=iY("forceGraph",dq),O9e=Object.assign.apply(Object,LC(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return hb({},n,rY.linkProp(n))}))),D9e=Object.assign.apply(Object,LC(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return hb({},n,rY.linkMethod(n))}))),HS=iY("renderObjs",nY),L9e=Object.assign.apply(Object,LC(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map(function(n){return hb({},n,HS.linkProp(n))}))),B9e=Object.assign.apply(Object,LC(["lights","cameraPosition","postProcessingComposer"].map(function(n){return hb({},n,HS.linkMethod(n))})).concat([{graph2ScreenCoords:HS.linkMethod("getScreenCoords"),screen2GraphCoords:HS.linkMethod("getSceneCoords")}])),F9e=Pm({props:nS(nS({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(e,i){return i.renderObjs.lineHoverPrecision(e)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(e,i){var r=i.renderObjs.controls();r&&(r.enabled=e,e&&r.domElement&&r.domElement.dispatchEvent(new PointerEvent("pointerup")))},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},O9e),L9e),methods:nS(nS({zoomToFit:function(e,i,r){for(var o,s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return e.renderObjs.fitToBbox((o=e.forceGraph).getGraphBbox.apply(o,a),i,r),this},pauseAnimation:function(e){return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId===null&&this._animationCycle(),this},_animationCycle:function(e){e.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),e.forceGraph.tickFrame(),e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},tbControls:function(e){return e.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},D9e),B9e),stateInit:function(e){var i=e.controlType,r=e.rendererConfig,o=e.extraRenderers,s=new dq;return{forceGraph:s,renderObjs:nY({controlType:i,rendererConfig:r,extraRenderers:o}).objects([s]).lights([new f2.AmbientLight(13421772,Math.PI),new f2.DirectionalLight(16777215,.6*Math.PI)])}},init:function(e,i){e.innerHTML="",e.appendChild(i.container=document.createElement("div")),i.container.style.position="relative";var r=document.createElement("div");i.container.appendChild(r),i.renderObjs(r);var o=i.renderObjs.camera(),s=i.renderObjs.renderer(),a=i.renderObjs.controls();a.enabled=!!i.enableNavigationControls,i.lastSetCameraZ=o.position.z;var l;i.container.appendChild(l=document.createElement("div")),l.className="graph-info-msg",l.textContent="",i.forceGraph.onLoading(function(){l.textContent="Loading..."}).onFinishLoading(function(){l.textContent=""}).onUpdate(function(){i.graphData=i.forceGraph.graphData(),o.position.x===0&&o.position.y===0&&o.position.z===i.lastSetCameraZ&&i.graphData.nodes.length&&(o.lookAt(i.forceGraph.position),i.lastSetCameraZ=o.position.z=Math.cbrt(i.graphData.nodes.length)*N9e)}).onFinishUpdate(function(){if(i._dragControls){var u=i.graphData.nodes.find(function(d){return d.__initialFixedPos&&!d.__disposeControlsAfterDrag});u?u.__disposeControlsAfterDrag=!0:i._dragControls.dispose(),i._dragControls=void 0}if(i.enableNodeDrag&&i.enablePointerInteraction&&i.forceEngine==="d3"){var c=i._dragControls=new o$e(i.graphData.nodes.map(function(d){return d.__threeObj}).filter(function(d){return d}),o,s.domElement);c.addEventListener("dragstart",function(d){a.enabled=!1,d.object.__initialPos=d.object.position.clone(),d.object.__prevPos=d.object.position.clone();var f=Nu(d.object).__data;!f.__initialFixedPos&&(f.__initialFixedPos={fx:f.fx,fy:f.fy,fz:f.fz}),!f.__initialPos&&(f.__initialPos={x:f.x,y:f.y,z:f.z}),["x","y","z"].forEach(function(h){return f["f".concat(h)]=f[h]}),s.domElement.classList.add("grabbable")}),c.addEventListener("drag",function(d){var f=Nu(d.object);if(!d.object.hasOwnProperty("__graphObjType")){var h=d.object.__initialPos,p=d.object.__prevPos,g=d.object.position;f.position.add(g.clone().sub(p)),p.copy(g),g.copy(h)}var b=f.__data,y=f.position,m={x:y.x-b.x,y:y.y-b.y,z:y.z-b.z};["x","y","z"].forEach(function(_){return b["f".concat(_)]=b[_]=y[_]}),i.forceGraph.d3AlphaTarget(.3).resetCountdown(),b.__dragged=!0,i.onNodeDrag(b,m)}),c.addEventListener("dragend",function(d){delete d.object.__initialPos,delete d.object.__prevPos;var f=Nu(d.object).__data;f.__disposeControlsAfterDrag&&(c.dispose(),delete f.__disposeControlsAfterDrag);var h=f.__initialFixedPos,p=f.__initialPos,g={x:p.x-f.x,y:p.y-f.y,z:p.z-f.z};h&&(["x","y","z"].forEach(function(b){var y="f".concat(b);h[y]===void 0&&delete f[y]}),delete f.__initialFixedPos,delete f.__initialPos,f.__dragged&&(delete f.__dragged,i.onNodeDragEnd(f,g))),i.forceGraph.d3AlphaTarget(0).resetCountdown(),i.enableNavigationControls&&(a.enabled=!0,a.domElement&&a.domElement.ownerDocument&&a.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),s.domElement.classList.remove("grabbable")})}}),f2.REVISION<155&&(i.renderObjs.renderer().useLegacyLights=!1),i.renderObjs.hoverOrderComparator(function(u,c){var d=Nu(u);if(!d)return 1;var f=Nu(c);if(!f)return-1;var h=function(g){return g.__graphObjType==="node"};return h(f)-h(d)}).tooltipContent(function(u){var c=Nu(u);return c&&Ot(i["".concat(c.__graphObjType,"Label")])(c.__data)||""}).hoverDuringDrag(!1).onHover(function(u){var c=Nu(u);if(c!==i.hoverObj){var d=i.hoverObj?i.hoverObj.__graphObjType:null,f=i.hoverObj?i.hoverObj.__data:null,h=c?c.__graphObjType:null,p=c?c.__data:null;if(d&&d!==h){var g=i["on".concat(d==="node"?"Node":"Link","Hover")];g&&g(null,f)}if(h){var b=i["on".concat(h==="node"?"Node":"Link","Hover")];b&&b(p,d===h?f:null)}s.domElement.classList[c&&i["on".concat(h==="node"?"Node":"Link","Click")]||!c&&i.onBackgroundClick?"add":"remove"]("clickable"),i.hoverObj=c}}).clickAfterDrag(!1).onClick(function(u,c){var d=Nu(u);if(d){var f=i["on".concat(d.__graphObjType==="node"?"Node":"Link","Click")];f&&f(d.__data,c)}else i.onBackgroundClick&&i.onBackgroundClick(c)}).onRightClick(function(u,c){var d=Nu(u);if(d){var f=i["on".concat(d.__graphObjType==="node"?"Node":"Link","RightClick")];f&&f(d.__data,c)}else i.onBackgroundRightClick&&i.onBackgroundRightClick(c)}),this._animationCycle()}});function Nu(n){for(var e=n;e&&!e.hasOwnProperty("__graphObjType");)e=e.parent;return e}class $9e extends go{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new yn(.5,.5),this.addEventListener("removed",function(){this.traverse(function(i){i.element instanceof Element&&i.element.parentNode!==null&&i.element.parentNode.removeChild(i.element)})})}copy(e,i){return super.copy(e,i),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const tg=new ke,M8=new jr,R8=new jr,P8=new ke,I8=new ke;class U9e{constructor(e={}){const i=this;let r,o,s,a;const l={objects:new WeakMap},u=e.element!==void 0?e.element:document.createElement("div");u.style.overflow="hidden",this.domElement=u,this.getSize=function(){return{width:r,height:o}},this.render=function(g,b){g.matrixWorldAutoUpdate===!0&&g.updateMatrixWorld(),b.parent===null&&b.matrixWorldAutoUpdate===!0&&b.updateMatrixWorld(),M8.copy(b.matrixWorldInverse),R8.multiplyMatrices(b.projectionMatrix,M8),d(g,g,b),p(g)},this.setSize=function(g,b){r=g,o=b,s=r/2,a=o/2,u.style.width=g+"px",u.style.height=b+"px"};function c(g){g.isCSS2DObject&&(g.element.style.display="none");for(let b=0,y=g.children.length;b<y;b++)c(g.children[b])}function d(g,b,y){if(g.visible===!1){c(g);return}if(g.isCSS2DObject){tg.setFromMatrixPosition(g.matrixWorld),tg.applyMatrix4(R8);const m=tg.z>=-1&&tg.z<=1&&g.layers.test(y.layers)===!0,_=g.element;_.style.display=m===!0?"":"none",m===!0&&(g.onBeforeRender(i,b,y),_.style.transform="translate("+-100*g.center.x+"%,"+-100*g.center.y+"%)translate("+(tg.x*s+s)+"px,"+(-tg.y*a+a)+"px)",_.parentNode!==u&&u.appendChild(_),g.onAfterRender(i,b,y));const S={distanceToCameraSquared:f(y,g)};l.objects.set(g,S)}for(let m=0,_=g.children.length;m<_;m++)d(g.children[m],b,y)}function f(g,b){return P8.setFromMatrixPosition(g.matrixWorld),I8.setFromMatrixPosition(b.matrixWorld),P8.distanceToSquared(I8)}function h(g){const b=[];return g.traverseVisible(function(y){y.isCSS2DObject&&b.push(y)}),b}function p(g){const b=h(g).sort(function(m,_){if(m.renderOrder!==_.renderOrder)return _.renderOrder-m.renderOrder;const S=l.objects.get(m).distanceToCameraSquared,w=l.objects.get(_).distanceToCameraSquared;return S-w}),y=b.length;for(let m=0,_=b.length;m<_;m++)b[m].element.style.zIndex=y-m}}}function WP(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function k9e(n){if(Array.isArray(n))return n}function z9e(n){if(Array.isArray(n))return WP(n)}function H9e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function G9e(n,e,i){return e=o1(e),Z9e(n,oY()?Reflect.construct(e,i,o1(n).constructor):e.apply(n,i))}function V9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function W9e(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,e7e(r.key),r)}}function j9e(n,e,i){return W9e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function o1(n){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o1(n)}function K9e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jP(n,e)}function oY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oY=function(){return!!n})()}function q9e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function X9e(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function Y9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z9e(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H9e(n)}function jP(n,e){return jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},jP(n,e)}function N8(n,e){return k9e(n)||X9e(n,e)||sY(n,e)||Y9e()}function iS(n){return z9e(n)||q9e(n)||sY(n)||Q9e()}function J9e(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function e7e(n){var e=J9e(n,"string");return typeof e=="symbol"?e:e+""}function sY(n,e){if(n){if(typeof n=="string")return WP(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?WP(n,e):void 0}}var Yv=typeof window<"u"&&window.THREE?window.THREE:{CanvasTexture:G$e,Sprite:z$e,SpriteMaterial:KK,SRGBColorSpace:Fu},t7e=function(n){function e(){var i,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return V9e(this,e),i=G9e(this,e,[new Yv.SpriteMaterial]),i._text="".concat(r),i._textHeight=o,i._color=s,i._backgroundColor=!1,i._padding=0,i._borderWidth=0,i._borderRadius=0,i._borderColor="white",i._strokeWidth=0,i._strokeColor="white",i._fontFace="system-ui",i._fontSize=90,i._fontWeight="normal",i._canvas=document.createElement("canvas"),i._genCanvas(),i}return K9e(e,n),j9e(e,[{key:"text",get:function(){return this._text},set:function(r){this._text=r,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(r){this._textHeight=r,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(r){this._padding=r,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(r){this._borderWidth=r,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(r){this._borderRadius=r,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(r){this._borderColor=r,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(r){this._fontFace=r,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(r){this._fontSize=r,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(r){this._fontWeight=r,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(r){this._strokeColor=r,this._genCanvas()}},{key:"_genCanvas",value:function(){var r=this,o=this._canvas,s=o.getContext("2d"),a=1/this.textHeight,l=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],u=l.map(function(R){return R*r.fontSize*a}),c=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],d=c.map(function(R){return R*r.fontSize*a}),f=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],h=f.map(function(R){return R*r.fontSize*a}),p=this.text.split(`
`),g="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);s.font=g;var b=Math.max.apply(Math,iS(p.map(function(R){return s.measureText(R).width}))),y=this.fontSize*p.length;if(o.width=b+u[0]*2+h[0]*2,o.height=y+u[1]*2+h[1]*2,this.borderWidth){if(s.strokeStyle=this.borderColor,u[0]){var m=u[0]/2;s.lineWidth=u[0],s.beginPath(),s.moveTo(m,d[0]),s.lineTo(m,o.height-d[3]),s.moveTo(o.width-m,d[1]),s.lineTo(o.width-m,o.height-d[2]),s.stroke()}if(u[1]){var _=u[1]/2;s.lineWidth=u[1],s.beginPath(),s.moveTo(Math.max(u[0],d[0]),_),s.lineTo(o.width-Math.max(u[0],d[1]),_),s.moveTo(Math.max(u[0],d[3]),o.height-_),s.lineTo(o.width-Math.max(u[0],d[2]),o.height-_),s.stroke()}if(this.borderRadius){var S=Math.max.apply(Math,iS(u)),w=S/2;s.lineWidth=S,s.beginPath(),[!!d[0]&&[d[0],w,w,d[0]],!!d[1]&&[o.width-d[1],o.width-w,w,d[1]],!!d[2]&&[o.width-d[2],o.width-w,o.height-w,o.height-d[2]],!!d[3]&&[d[3],w,o.height-w,o.height-d[3]]].filter(function(R){return R}).forEach(function(R){var E=N8(R,4),P=E[0],I=E[1],D=E[2],F=E[3];s.moveTo(P,D),s.quadraticCurveTo(I,D,I,F)}),s.stroke()}}this.backgroundColor&&(s.fillStyle=this.backgroundColor,this.borderRadius?(s.beginPath(),s.moveTo(u[0],d[0]),[[u[0],d[0],o.width-d[1],u[1],u[1],u[1]],[o.width-u[0],o.width-u[0],o.width-u[0],u[1],d[1],o.height-d[2]],[o.width-u[0],o.width-d[2],d[3],o.height-u[1],o.height-u[1],o.height-u[1]],[u[0],u[0],u[0],o.height-u[1],o.height-d[3],d[0]]].forEach(function(R){var E=N8(R,6),P=E[0],I=E[1],D=E[2],F=E[3],L=E[4],$=E[5];s.quadraticCurveTo(P,F,I,L),s.lineTo(D,$)}),s.closePath(),s.fill()):s.fillRect(u[0],u[1],o.width-u[0]*2,o.height-u[1]*2)),s.translate.apply(s,iS(u)),s.translate.apply(s,iS(h)),s.font=g,s.fillStyle=this.color,s.textBaseline="bottom";var A=this.strokeWidth>0;A&&(s.lineWidth=this.strokeWidth*this.fontSize/10,s.strokeStyle=this.strokeColor),p.forEach(function(R,E){var P=(b-s.measureText(R).width)/2,I=(E+1)*r.fontSize;A&&s.strokeText(R,P,I),s.fillText(R,P,I)}),this.material.map&&this.material.map.dispose();var T=this.material.map=new Yv.CanvasTexture(o);T.colorSpace=Yv.SRGBColorSpace;var C=this.textHeight*p.length+l[1]*2+f[1]*2;this.scale.set(C*o.width/o.height,C,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(r){return Yv.Sprite.prototype.copy.call(this,r),this.color=r.color,this.backgroundColor=r.backgroundColor,this.padding=r.padding,this.borderWidth=r.borderWidth,this.borderColor=r.borderColor,this.fontFace=r.fontFace,this.fontSize=r.fontSize,this.fontWeight=r.fontWeight,this.strokeWidth=r.strokeWidth,this.strokeColor=r.strokeColor,this}}])}(Yv.Sprite);const n7e=je({__name:"graph-3d",props:["graphData","showHighlight","showLabels","showLinkLabels"],emits:["selectNode","selectLink"],setup(n,{emit:e}){const i=n,r=e,o=Ge();let s,a;const l=[new U9e];en(()=>{s=new F9e(o.value,{extraRenderers:l}).forceEngine("ngraph").nodeAutoColorBy("type").cooldownTicks(80).nodeId("id").nodeLabel("id").backgroundColor("#ffffff").showNavInfo(!1).onNodeClick(y=>{r("selectNode",y)}).onLinkClick(y=>{r("selectLink",y)}),h(),c()}),Pn(()=>{f()});let u=!1;function c(){i.graphData&&s&&!u&&(u=!0,f(),s.resumeAnimation(),s.linkAutoColorBy(y=>{var m;return(m=i.graphData.nodes.find(_=>_.id===y.source))==null?void 0:m.type}),s.graphData(i.graphData),setTimeout(()=>{u=!1},1e3))}const d=y=>{if(!i.showLabels)return new go;try{const m=document.createElement("div");return m.textContent=y.name||y.id,m.style.color=y.color,m.style.padding="2px 4px",m.style.borderRadius="4px",m.style.fontSize="10px",m.className="node-label",new $9e(m)}catch(m){return console.error("Error creating 3D object:",m),new go}};function f(){s&&(s.pauseAnimation(),s.graphData({nodes:[],links:[]}))}function h(){s&&(i.showHighlight?(s.onNodeHover(g),s.onLinkHover(p)):(s.onNodeHover(void 0),s.onLinkHover(void 0)),s.linkWidth(y=>(console.log(a),i.showHighlight&&a&&a.has(y)?5:1)),s.linkDirectionalParticles(i.showHighlight?4:0),s.linkDirectionalParticleWidth(y=>i.showHighlight&&a&&a.has(y)?4:0),s.nodeThreeObjectExtend(!0).linkThreeObjectExtend(!0).nodeThreeObject(d).linkThreeObject(y=>{if(!i.showLinkLabels)return new go;const m=new t7e(`${y.type}`);return m.color="lightgrey",m.textHeight=1.5,m}).linkPositionUpdate((y,{start:m,end:_})=>{if(!i.showLinkLabels)return;const S=["x","y","z"].reduce((w,A)=>(w[A]=m[A]+(_[A]-m[A])/2,w),{});Object.assign(y.position,S)}))}const p=y=>{const m=new Set,_=new Set;y&&(_.add(y),typeof y.source!="string"&&m.add(y.source),typeof y.target!="string"&&m.add(y.target)),a=_},g=y=>{var S,w;const m=new Set,_=new Set;y&&(m.add(y),(S=y.neighbors)==null||S.forEach(A=>m.add(A)),(w=y.links)==null||w.forEach(A=>_.add(A))),a=_,b=y};let b;return ct(()=>i.showHighlight,()=>{h()},{immediate:!0,deep:!0}),ct(()=>i.showLabels,()=>{h()},{immediate:!0,deep:!0}),ct(()=>i.showLinkLabels,()=>{h()},{immediate:!0,deep:!0}),ct(()=>i.graphData,()=>{c()},{immediate:!0,deep:!1}),(y,m)=>(ni(),ki("div",{id:"graph-3d",ref_key:"stage",ref:o},null,512))}}),i7e=sC(n7e,[["__scopeId","data-v-45034faa"]]),r7e={class:"tables"},o7e={class:"operations"},s7e={class:"operation"},a7e={class:"operation"},l7e={class:"operation"},u7e={class:"operation"},c7e={class:"operation"},d7e={class:"operation"},f7e={class:"operation"},h7e={class:"operation"},p7e={class:"infos"},g7e={class:"info"},m7e={class:"info"},v7e={class:"btns"},y7e={key:0,class:"title"},b7e={key:1,class:"node-infos"},x7e={class:"node-info"},_7e={class:"node-info"},S7e={key:0,class:"node-info"},w7e={class:"node-info"},C7e={key:1,class:"node-info"},A7e={key:2,class:"node-info"},T7e={key:3,class:"node-info"},E7e={key:4,class:"node-info"},M7e={key:5,class:"node-info"},R7e={key:6,class:"node-info"},P7e={key:2,class:"title"},I7e={key:3,class:"node-infos"},N7e={class:"node-info"},O7e={class:"node-info"},D7e={class:"node-info"},L7e={class:"node-info"},B7e={key:0,class:"node-info"},F7e={key:1,class:"node-info"},$7e={key:2,class:"node-info"},U7e={key:3,class:"node-info"},k7e={key:4,class:"node-info"},z7e={key:5,class:"node-info"},H7e={class:"linked-nodes"},G7e={key:4,class:"linked-relationship"},V7e=je({__name:"graphrag-viewer",setup(n){const e=lc(zl,{style:{fontSize:"24px"},spin:!0}),i=ZAe(),r=Ge(!1),o=["/artifacts/create_final_entities.parquet","/artifacts/create_final_relationships.parquet","/artifacts/create_final_documents.parquet","/artifacts/create_final_text_units.parquet","/artifacts/create_final_communities.parquet","/artifacts/create_final_community_reports.parquet"],s=Ge(!1),a=Ge(!1),l=Ge(!1),u=Ge(!1),c=Ge(),d=Ge(),f=Ge();let h;const p=Ge();en(()=>{C.value=p.value.clientHeight-62-40-64-55+16,y()});function g(){const ue=i.entities.map(fe=>({uuid:fe.id,id:fe.title,name:fe.title,title:fe.title,type:fe.type,group:fe.type,description:fe.description,human_readable_id:fe.human_readable_id,text_unit_ids:fe.text_unit_ids,neighbors:[],links:[]})),Y={};ue.forEach(fe=>Y[fe.id]=fe);const le=i.relationships.map(fe=>({source:fe.source,target:fe.target,type:fe.type,weight:fe.weight,value:fe.weight,description:fe.description,text_unit_ids:fe.text_unit_ids,id:fe.id,human_readable_id:fe.human_readable_id,combined_degree:fe.combined_degree})).filter(fe=>Y[fe.source]&&Y[fe.target]);if(s.value){const fe=i.documents.map(W=>({uuid:W.id,id:W.id,name:W.title,title:W.title,type:"RAW_DOCUMENT",text:W.text,text_unit_ids:W.text_unit_ids,human_readable_id:W.human_readable_id,neighbors:[],links:[]}));if(fe.forEach(W=>Y[W.id]=W),ue.push(...fe),a.value){const W=i.textUnits.filter(X=>(X.document_ids??[]).length>0).flatMap(X=>X.document_ids.map(V=>({source:X.id,target:V,type:"PART_OF",id:`${X.id}-${V}`})));le.push(...W)}}if(a.value){const fe=i.textUnits.map(X=>({uuid:X.id,id:X.id,name:`TEXT UNIT ${X.id}`,type:"CHUNK",text:X.text,n_tokens:X.n_tokens,document_ids:X.document_ids,entity_ids:X.entity_ids,relationship_ids:X.relationship_ids,human_readable_id:X.human_readable_id,neighbors:[],links:[]}));fe.forEach(X=>Y[X.id]=X),ue.push(...fe);const W=i.textUnits.filter(X=>(X.entity_ids??[]).length>0).flatMap(X=>X.entity_ids.map(V=>{var Se;return{source:X.id,target:((Se=ue.find(pe=>pe.uuid===V))==null?void 0:Se.name)||"",type:"HAS_ENTITY",id:`${X.id}-${V}`}}));le.push(...W)}if(l.value){const fe=i.communities.map(V=>{const Se=i.communityReports.find(pe=>pe.community.toString()===V.community.toString());return{uuid:V.id.toString(),id:V.id.toString(),name:V.title,type:"COMMUNITY",entity_ids:V.text_unit_ids,relationship_ids:V.relationship_ids,full_content:(Se==null?void 0:Se.full_content)||"",level:(Se==null?void 0:Se.level)||-1,rank:(Se==null?void 0:Se.rank)||-1,title:(Se==null?void 0:Se.title)||"",rank_explanation:(Se==null?void 0:Se.rank_explanation)||"",summary:(Se==null?void 0:Se.summary)||"",findings:(Se==null?void 0:Se.findings)||[],neighbors:[],links:[]}});fe.forEach(V=>Y[V.id]=V),ue.push(...fe);const W=new Set,X=i.communities.flatMap(V=>V.relationship_ids.map(Se=>{const pe=i.relationships.find(me=>me.id===Se);if(!pe)return[];const _e=`${pe.source}-${V.id}`,he=`${pe.target}-${V.id}`,ge=[];return W.has(_e)||(W.add(_e),ge.push({source:pe.source,target:V.id.toString(),type:"IN_COMMUNITY",id:_e})),W.has(he)||(W.add(he),ge.push({source:pe.target,target:V.id.toString(),type:"IN_COMMUNITY",id:he})),ge})).flat();le.push(...X),fe.forEach(V=>{V.findings&&V.findings.forEach((Se,pe)=>{const _e={uuid:`community-${V.uuid}-finding-${pe}`,id:`${V.id}-finding-${pe}`,name:`${V.title}-finding-${pe}`,type:"FINDING",explanation:Se.explanation,summary:Se.summary,neighbors:[],links:[]};Y[_e.id]=_e,ue.push(_e);const he={source:V.id,target:_e.id,type:"HAS_FINDING",id:`${V.id}-finding-${pe}`};le.push(he)})})}if(u.value){const fe=i.covariates.map(X=>({uuid:X.id,id:X.id,human_readable_id:X.human_readable_id,name:`COVARIATE ${X.id}`,covariate_type:X.covariate_type,type:X.type,description:X.description||"",subject_id:X.subject_id,object_id:X.object_id,status:X.status,start_date:X.start_date,end_date:X.end_date,source_text:X.source_text,text_unit_id:X.text_unit_id,neighbors:[],links:[]}));fe.forEach(X=>Y[X.id]=X),ue.push(...fe);const W=i.covariates.map(X=>({source:X.text_unit_id,target:X.id,type:"HAS_COVARIATE",id:`${X.text_unit_id}-${X.id}`}));le.push(...W)}le.forEach(fe=>{const W=Y[fe.source],X=Y[fe.target];W&&X&&(W.neighbors.includes(X)||W.neighbors.push(X),X.neighbors.includes(W)||X.neighbors.push(W),W.links.includes(fe)||W.links.push(fe),X.links.includes(fe)||X.links.push(fe))}),le.forEach(fe=>{fe.sourceIndex=ue.findIndex(W=>W.id===fe.source),fe.targetIndex=ue.findIndex(W=>W.id===fe.target)}),c.value={nodes:ue,links:le},d.value={nodes:Kc.cloneDeep(ue),links:Kc.cloneDeep(le)},f.value={nodes:Kc.cloneDeep(ue),links:Kc.cloneDeep(le)},h=new Rm([...ue,...le],{keys:["uuid","id","name","type","description","source","target","title","summary"],threshold:.3})}const b=async ue=>{try{const Y=await fetch(ue,{method:"HEAD",cache:"no-store"});return Y.ok?(console.log(`File exists: ${ue}`),!0):(console.warn(`File does not exist: ${ue} (status: ${Y.status})`),!1)}catch(Y){return console.error(`Error checking file existence for ${ue}`,Y),!1}},y=async()=>{const ue=[];for(const Y of o)await b(Y)&&ue.push(Y);ue.length>0?await _(ue):console.log("No default files found in the public folder.")},m={"create_final_entities.parquet":"entity","create_final_relationships.parquet":"relationship","create_final_text_units.parquet":"text_unit","create_final_communities.parquet":"community","create_final_community_reports.parquet":"community_report","create_final_documents.parquet":"document","create_final_covariates.parquet":"covariate"},_=async ue=>{r.value=!0;const Y=[],le=[],fe=[],W=[],X=[],V=[],Se=[];for(const pe of ue){const _e=typeof pe=="string"?pe.split("/").pop():pe.name,he=m[_e];let ge;if(typeof pe=="string"){const me=await fetch(pe);if(!me.ok){console.error(`Failed to fetch file ${pe}: ${me.statusText}`);continue}const j=await me.arrayBuffer(),G=new Blob([j],{type:"application/x-parquet"}),ce=new File([G],_e);ge=await q4(ce,he)}else ge=await q4(pe,he);he==="entity"?Y.push(ge):he==="relationship"?le.push(ge):he==="document"?fe.push(ge):he==="text_unit"?W.push(ge):he==="community"?X.push(ge):he==="community_report"?V.push(ge):he==="covariate"&&Se.push(ge)}i.setEntities(Y.flat()),i.setRelationships(le.flat()),i.setDocuments(fe.flat()),i.setTextUnits(W.flat()),i.setCommunities(X.flat()),i.setCommunityReports(V.flat()),i.setCovariates(Se.flat()),g(),r.value=!1};function S(ue){const Y=h.search(U.value).map(W=>W.item),le=Y.filter(W=>"neighbors"in W),fe=Y.filter(W=>"source"in W&&"target"in W&&le.find(X=>X.id===W.source)&&le.find(X=>X.id===W.target));d.value={nodes:Kc.cloneDeep(le),links:Kc.cloneDeep(fe)},f.value={nodes:Kc.cloneDeep(le),links:Kc.cloneDeep(fe)}}const w=Ge("entities"),A=["entities","relationships","documents","textUnits","communities","covariates","communityReports"],T={entities:ik,relationships:zTe,documents:GTe,textUnits:VTe,communities:WTe,covariates:jTe,communityReports:KTe},C=Ge(0),R=Ge("graph"),E=Ge(!1),P=K(()=>E.value?"3d":"2d"),I=Ge(!1),D=Ge(!1),F=Ge(!0),L=Ge(!1);function $(){L.value=!0}const U=Ge(""),k=Ge(null),H=Ge(null),z=Ge([]),Q=Ge([]),Z=Ge(!1),ie=ue=>{k.value=null,H.value=ue,z.value=ue.neighbors||[],Q.value=ue.links||[],Z.value=!0},xe=ue=>{k.value=ue,H.value=null;const Y=typeof ue.source=="object"?ue.source.id:ue.source,le=typeof ue.target=="object"?ue.target.id:ue.target,fe=c.value.nodes.find(X=>X.id===Y),W=c.value.nodes.find(X=>X.id===le);if(fe&&W){const X=[fe,W];z.value=X;const V=[ue];Q.value=V,Z.value=!0}},J=ue=>typeof ue=="object"?ue.name:ue,se=ue=>typeof ue=="object"?ue.type:ue;let ee=[];function ne(ue){const Y=ue.fileList,le=ue.file;ee.findIndex(fe=>fe.uid===le.uid)<0&&ee.push(le.originFileObj),ee.length===Y.length&&(_(ee),setTimeout(()=>{ee=[]},0))}return(ue,Y)=>{var re,Ce;const le=Qwe,fe=vw,W=oh,X=cre("upload-outlined"),V=Us,Se=B1e,pe=GW,_e=HW,he=L_e,ge=Ol,me=_r,j=sve,G=jbe,ce=wy,Ee=Ag,de=Eg;return ni(),ki("div",{id:"graphrag-viewer",ref_key:"stage",ref:p},[P.value==="2d"?Ro((ni(),ig(LNe,{key:0,"graph-data":d.value,"show-highlight":F.value,"show-labels":I.value,"show-link-labels":D.value,onSelectNode:ie,onSelectLink:xe},null,8,["graph-data","show-highlight","show-labels","show-link-labels"])),[[Jo,R.value==="graph"]]):Ui("",!0),P.value==="3d"?Ro((ni(),ig(i7e,{key:1,"graph-data":f.value,"show-highlight":F.value,"show-labels":I.value,"show-link-labels":D.value,onSelectNode:ie,onSelectLink:xe},null,8,["graph-data","show-highlight","show-labels","show-link-labels"])),[[Jo,R.value==="graph"]]):Ui("",!0),Ro(Mn("div",r7e,[N(W,{activeKey:w.value,"onUpdate:activeKey":Y[0]||(Y[0]=Me=>w.value=Me)},{default:Zi(()=>[(ni(),ki(mn,null,hre(A,Me=>N(fe,{key:Me,tab:Me},{default:Zi(()=>[Ro(N(le,{dataSource:ao(i)[Me],columns:T[Me],scroll:{y:C.value}},null,8,["dataSource","columns","scroll"]),[[Jo,ao(i)[Me]]])]),_:2},1032,["tab"])),64))]),_:1},8,["activeKey"])],512),[[Jo,R.value==="table"]]),N(Se,{multiple:!0,"show-upload-list":!1,accept:".parquet",style:{position:"absolute",right:"150px",top:"20px"},onChange:ne},{default:Zi(()=>[N(V,null,{default:Zi(()=>[N(X),Y[15]||(Y[15]=tr("  "))]),_:1})]),_:1}),N(_e,{value:R.value,"onUpdate:value":Y[1]||(Y[1]=Me=>R.value=Me),"button-style":"solid",style:{position:"absolute",right:"20px",top:"20px"}},{default:Zi(()=>[N(pe,{value:"graph",style:{"font-size":"14px"}},{default:Zi(()=>Y[16]||(Y[16]=[tr("")])),_:1}),N(pe,{value:"table",style:{"font-size":"14px"}},{default:Zi(()=>Y[17]||(Y[17]=[tr("")])),_:1})]),_:1},8,["value"]),Ro(Mn("div",o7e,[Mn("div",s7e,[N(he,{checked:E.value,"onUpdate:checked":Y[2]||(Y[2]=Me=>E.value=Me),size:"small"},null,8,["checked"]),Y[18]||(Y[18]=Mn("label",{style:{"margin-left":"6px"}},"3D View",-1))]),Mn("div",a7e,[N(he,{checked:I.value,"onUpdate:checked":Y[3]||(Y[3]=Me=>I.value=Me),size:"small"},null,8,["checked"]),Y[19]||(Y[19]=Mn("label",{style:{"margin-left":"6px"}},"Show Node Labels",-1))]),Mn("div",l7e,[N(he,{checked:D.value,"onUpdate:checked":Y[4]||(Y[4]=Me=>D.value=Me),size:"small"},null,8,["checked"]),Y[20]||(Y[20]=Mn("label",{style:{"margin-left":"6px"}},"Show Link Labels",-1))]),Mn("div",u7e,[N(he,{checked:F.value,"onUpdate:checked":Y[5]||(Y[5]=Me=>F.value=Me),size:"small"},null,8,["checked"]),Y[21]||(Y[21]=Mn("label",{style:{"margin-left":"6px"}},"Show Highlight",-1))]),Mn("div",c7e,[N(ge,{checked:s.value,"onUpdate:checked":Y[6]||(Y[6]=Me=>s.value=Me),onChange:g},{default:Zi(()=>Y[22]||(Y[22]=[tr(" Include Documents ")])),_:1},8,["checked"])]),Mn("div",d7e,[N(ge,{checked:a.value,"onUpdate:checked":Y[7]||(Y[7]=Me=>a.value=Me),onChange:g},{default:Zi(()=>Y[23]||(Y[23]=[tr(" Include Text Units ")])),_:1},8,["checked"])]),Mn("div",f7e,[N(ge,{checked:l.value,"onUpdate:checked":Y[8]||(Y[8]=Me=>l.value=Me),onChange:g},{default:Zi(()=>Y[24]||(Y[24]=[tr(" Include Communities ")])),_:1},8,["checked"])]),Mn("div",h7e,[N(ge,{checked:u.value,"onUpdate:checked":Y[9]||(Y[9]=Me=>u.value=Me),onChange:g},{default:Zi(()=>Y[25]||(Y[25]=[tr(" Include Covariates ")])),_:1},8,["checked"])])],512),[[Jo,R.value==="graph"]]),Ro(Mn("div",p7e,[Mn("div",g7e,[Y[26]||(Y[26]=Mn("span",null,"Nodes: ",-1)),Mn("span",null,dn((re=d.value)==null?void 0:re.nodes.length),1)]),Mn("div",m7e,[Y[27]||(Y[27]=Mn("span",null,"Relationships: ",-1)),Mn("span",null,dn((Ce=d.value)==null?void 0:Ce.links.length),1)]),N(V,{type:"primary",icon:lc(ao(Mm)),onClick:$},{default:Zi(()=>Y[28]||(Y[28]=[tr(" Ask Query (LOCAL/GLOBAL SEARCH) ")])),_:1},8,["icon"])],512),[[Jo,R.value==="graph"]]),N(G,{open:L.value,"onUpdate:open":Y[13]||(Y[13]=Me=>L.value=Me),class:"query","root-style":{color:"blue"},style:{color:"red"},placement:"left",width:"800"},{default:Zi(()=>[N(me,{value:U.value,"onUpdate:value":Y[10]||(Y[10]=Me=>U.value=Me),size:"large",placeholder:"Enter search query for API"},null,8,["value"]),Mn("div",v7e,[N(V,{disabled:!a.value||!l.value,style:{width:"100%"},type:"primary",onClick:Y[11]||(Y[11]=Me=>S("local"))},{default:Zi(()=>Y[29]||(Y[29]=[tr(" LOCAL SEARCH ")])),_:1},8,["disabled"]),N(V,{disabled:!l.value,style:{width:"100%"},type:"primary",onClick:Y[12]||(Y[12]=Me=>S("global"))},{default:Zi(()=>Y[30]||(Y[30]=[tr(" GLOBAL SEARCH ")])),_:1},8,["disabled"])]),a.value?Ui("",!0):(ni(),ig(j,{key:0,message:'Please enable "Include Text Unit" and "Include Communities" to use Local Search.',type:"warning","show-icon":"",style:{"margin-bottom":"12px"}})),l.value?Ui("",!0):(ni(),ig(j,{key:1,message:'Please enable "Include Communities" to use Global Search.',type:"warning","show-icon":"",style:{"margin-bottom":"12px"}}))]),_:1},8,["open"]),N(G,{open:Z.value,"onUpdate:open":Y[14]||(Y[14]=Me=>Z.value=Me),class:"query","root-style":{color:"blue"},style:{color:"red"},placement:"bottom",height:"100vh"},{default:Zi(()=>{var Me;return[H.value?(ni(),ki("div",y7e,[Y[31]||(Y[31]=Mn("span",null,"Node Details: ",-1)),Mn("span",null,dn((Me=H.value)==null?void 0:Me.name),1)])):Ui("",!0),H.value?(ni(),ki("div",b7e,[Y[33]||(Y[33]=Mn("div",{class:"subtitle"},"Node Information",-1)),N(Ee,{style:{width:"100%"}},{default:Zi(()=>[Mn("div",x7e,"ID: "+dn(H.value.uuid),1),Mn("div",_7e,"Title: "+dn(H.value.name),1),H.value.covariate_type?(ni(),ki("div",S7e," Covariate Type: "+dn(H.value.covariate_type),1)):Ui("",!0),Mn("div",w7e,[Y[32]||(Y[32]=tr(" Type: ")),N(ce,{color:"blue"},{default:Zi(()=>[tr(dn(H.value.type),1)]),_:1})]),H.value.title?(ni(),ki("div",C7e," Community Report Title: "+dn(H.value.title),1)):Ui("",!0),H.value.summary?(ni(),ki("div",A7e," Summary: "+dn(H.value.summary),1)):Ui("",!0),H.value.n_tokens?(ni(),ki("div",T7e," Number of Tokens: "+dn(H.value.n_tokens),1)):Ui("",!0),H.value.description?(ni(),ki("div",E7e," Description: "+dn(H.value.description),1)):Ui("",!0),H.value.human_readable_id?(ni(),ki("div",M7e," Human Readable ID: "+dn(H.value.human_readable_id),1)):Ui("",!0),H.value.raw_content?(ni(),ki("div",R7e," Raw Content: "+dn(H.value.raw_content),1)):Ui("",!0)]),_:1})])):Ui("",!0),k.value?(ni(),ki("div",P7e,dn("(:")+" "+dn(se(k.value.source))+" "+dn("{name: ")+" "+dn("'")+" "+dn(J(k.value.source))+" "+dn("'")+" "+dn("}")+" "+dn(")")+" "+dn("-[:")+" "+dn(k.value.type)+" "+dn("]->")+" "+dn("(:")+" "+dn(se(k.value.target))+" "+dn("{name: ")+" "+dn("'")+" "+dn(J(k.value.target))+" "+dn("'")+" "+dn("}")+" "+dn(")"),1)):Ui("",!0),k.value?(ni(),ki("div",I7e,[Y[35]||(Y[35]=Mn("div",{class:"subtitle"},"Relationship Information",-1)),N(Ee,{style:{width:"100%"}},{default:Zi(()=>{var Ve,dt;return[Mn("div",N7e,"ID: "+dn(k.value.id),1),Mn("div",O7e,"Source: "+dn((Ve=k.value.source)==null?void 0:Ve.name),1),Mn("div",D7e,"Target: "+dn((dt=k.value.target)==null?void 0:dt.name),1),Mn("div",L7e,[Y[34]||(Y[34]=tr(" Type: ")),N(ce,{color:"blue"},{default:Zi(()=>[tr(dn(k.value.type),1)]),_:1})]),k.value.description?(ni(),ki("div",B7e," Description: "+dn(k.value.description),1)):Ui("",!0),k.value.human_readable_id?(ni(),ki("div",F7e," Human Readable ID: "+dn(k.value.human_readable_id),1)):Ui("",!0),k.value.weight?(ni(),ki("div",$7e," Weight: "+dn(k.value.weight),1)):Ui("",!0),k.value.source_degree?(ni(),ki("div",U7e," Source Degree: "+dn(k.value.source_degree),1)):Ui("",!0),k.value.target_degree?(ni(),ki("div",k7e," Target Degree: "+dn(k.value.target_degree),1)):Ui("",!0),k.value.rank?(ni(),ki("div",z7e," Rank: "+dn(k.value.rank),1)):Ui("",!0)]}),_:1})])):Ui("",!0),Mn("div",H7e,[Y[36]||(Y[36]=Mn("div",{class:"subtitle"},"Linked Nodes",-1)),N(le,{dataSource:z.value,columns:ao(ik)},null,8,["dataSource","columns"])]),H.value?(ni(),ki("div",G7e,[Y[37]||(Y[37]=Mn("div",{class:"subtitle"},"Linked Relationships",-1)),N(le,{dataSource:Q.value,columns:ao(HTe)},null,8,["dataSource","columns"])])):Ui("",!0)]}),_:1},8,["open"]),r.value?(ni(),ig(de,{key:2,indicator:ao(e)},null,8,["indicator"])):Ui("",!0)],512)}}}),W7e=sC(V7e,[["__scopeId","data-v-e85f3c34"]]),j7e=je({__name:"App",setup(n){return(e,i)=>(ni(),ki("main",null,[N(W7e)]))}}),K7e=sC(j7e,[["__scopeId","data-v-fb8b3158"]]),q7e=WAe(),aY=Doe(K7e);aY.use(q7e);aY.mount("#app")});export default X7e();

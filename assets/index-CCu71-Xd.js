var lee=Object.defineProperty;var uee=(n,e,i)=>e in n?lee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var cee=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var t3=(n,e,i)=>uee(n,typeof e!="symbol"?e+"":e,i);var yVe=cee((Mu,Ru)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function X2(n){const e=Object.create(null);for(const i of n.split(","))e[i]=1;return i=>i in e}const ai={},vp=[],fl=()=>{},dee=()=>!1,RS=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),q2=n=>n.startsWith("onUpdate:"),wr=Object.assign,Y2=(n,e)=>{const i=n.indexOf(e);i>-1&&n.splice(i,1)},fee=Object.prototype.hasOwnProperty,Qn=(n,e)=>fee.call(n,e),Wt=Array.isArray,yp=n=>PS(n)==="[object Map]",r5=n=>PS(n)==="[object Set]",sn=n=>typeof n=="function",ji=n=>typeof n=="string",ad=n=>typeof n=="symbol",hi=n=>n!==null&&typeof n=="object",o5=n=>(hi(n)||sn(n))&&sn(n.then)&&sn(n.catch),s5=Object.prototype.toString,PS=n=>s5.call(n),hee=n=>PS(n).slice(8,-1),a5=n=>PS(n)==="[object Object]",Q2=n=>ji(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,iv=X2(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),IS=n=>{const e=Object.create(null);return i=>e[i]||(e[i]=n(i))},pee=/-(\w)/g,ml=IS(n=>n.replace(pee,(e,i)=>i?i.toUpperCase():"")),gee=/\B([A-Z])/g,Kf=IS(n=>n.replace(gee,"-$1").toLowerCase()),Z2=IS(n=>n.charAt(0).toUpperCase()+n.slice(1)),dC=IS(n=>n?`on${Z2(n)}`:""),jc=(n,e)=>!Object.is(n,e),fC=(n,...e)=>{for(let i=0;i<n.length;i++)n[i](...e)},l5=(n,e,i,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:i})},mee=n=>{const e=parseFloat(n);return isNaN(e)?n:e},vee=n=>{const e=ji(n)?Number(n):NaN;return isNaN(e)?n:e};let n3;const NS=()=>n3||(n3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function J2(n){if(Wt(n)){const e={};for(let i=0;i<n.length;i++){const r=n[i],o=ji(r)?_ee(r):J2(r);if(o)for(const s in o)e[s]=o[s]}return e}else if(ji(n)||hi(n))return n}const yee=/;(?![^(]*\))/g,bee=/:([^]+)/,xee=/\/\*[^]*?\*\//g;function _ee(n){const e={};return n.replace(xee,"").split(yee).forEach(i=>{if(i){const r=i.split(bee);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function eR(n){let e="";if(ji(n))e=n;else if(Wt(n))for(let i=0;i<n.length;i++){const r=eR(n[i]);r&&(e+=r+" ")}else if(hi(n))for(const i in n)n[i]&&(e+=i+" ");return e.trim()}const See="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wee=X2(See);function u5(n){return!!n||n===""}const c5=n=>!!(n&&n.__v_isRef===!0),cn=n=>ji(n)?n:n==null?"":Wt(n)||hi(n)&&(n.toString===s5||!sn(n.toString))?c5(n)?cn(n.value):JSON.stringify(n,d5,2):String(n),d5=(n,e)=>c5(e)?d5(n,e.value):yp(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[r,o],s)=>(i[hC(r,s)+" =>"]=o,i),{})}:r5(e)?{[`Set(${e.size})`]:[...e.values()].map(i=>hC(i))}:ad(e)?hC(e):hi(e)&&!Wt(e)&&!a5(e)?String(e):e,hC=(n,e="")=>{var i;return ad(n)?`Symbol(${(i=n.description)!=null?i:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xo;class f5{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xo,!e&&xo&&(this.index=(xo.scopes||(xo.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].pause();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].resume();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].resume()}}run(e){if(this._active){const i=xo;try{return xo=this,e()}finally{xo=i}}}on(){xo=this}off(){xo=this.parent}stop(e){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function h5(n){return new f5(n)}function p5(){return xo}function Cee(n,e=!1){xo&&xo.cleanups.push(n)}let di;const pC=new WeakSet;class g5{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xo&&xo.active&&xo.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pC.has(this)&&(pC.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||v5(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,i3(this),y5(this);const e=di,i=Da;di=this,Da=!0;try{return this.fn()}finally{b5(this),di=e,Da=i,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)iR(e);this.deps=this.depsTail=void 0,i3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pC.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yE(this)&&this.run()}get dirty(){return yE(this)}}let m5=0,rv,ov;function v5(n,e=!1){if(n.flags|=8,e){n.next=ov,ov=n;return}n.next=rv,rv=n}function tR(){m5++}function nR(){if(--m5>0)return;if(ov){let e=ov;for(ov=void 0;e;){const i=e.next;e.next=void 0,e.flags&=-9,e=i}}let n;for(;rv;){let e=rv;for(rv=void 0;e;){const i=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=i}}if(n)throw n}function y5(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function b5(n){let e,i=n.depsTail,r=i;for(;r;){const o=r.prevDep;r.version===-1?(r===i&&(i=o),iR(r),Tee(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}n.deps=e,n.depsTail=i}function yE(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(x5(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function x5(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Iv))return;n.globalVersion=Iv;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!yE(n)){n.flags&=-3;return}const i=di,r=Da;di=n,Da=!0;try{y5(n);const o=n.fn(n._value);(e.version===0||jc(o,n._value))&&(n._value=o,e.version++)}catch(o){throw e.version++,o}finally{di=i,Da=r,b5(n),n.flags&=-3}}function iR(n,e=!1){const{dep:i,prevSub:r,nextSub:o}=n;if(r&&(r.nextSub=o,n.prevSub=void 0),o&&(o.prevSub=r,n.nextSub=void 0),i.subs===n&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let s=i.computed.deps;s;s=s.nextDep)iR(s,!0)}!e&&!--i.sc&&i.map&&i.map.delete(i.key)}function Tee(n){const{prevDep:e,nextDep:i}=n;e&&(e.nextDep=i,n.prevDep=void 0),i&&(i.prevDep=e,n.nextDep=void 0)}let Da=!0;const _5=[];function ld(){_5.push(Da),Da=!1}function ud(){const n=_5.pop();Da=n===void 0?!0:n}function i3(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const i=di;di=void 0;try{e()}finally{di=i}}}let Iv=0;class Aee{constructor(e,i){this.sub=e,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rR{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!di||!Da||di===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==di)i=this.activeLink=new Aee(di,this),di.deps?(i.prevDep=di.depsTail,di.depsTail.nextDep=i,di.depsTail=i):di.deps=di.depsTail=i,S5(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=di.depsTail,i.nextDep=void 0,di.depsTail.nextDep=i,di.depsTail=i,di.deps===i&&(di.deps=r)}return i}trigger(e){this.version++,Iv++,this.notify(e)}notify(e){tR();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{nR()}}}function S5(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)S5(r)}const i=n.dep.subs;i!==n&&(n.prevSub=i,i&&(i.nextSub=n)),n.dep.subs=n}}const h_=new WeakMap,gf=Symbol(""),bE=Symbol(""),Nv=Symbol("");function no(n,e,i){if(Da&&di){let r=h_.get(n);r||h_.set(n,r=new Map);let o=r.get(i);o||(r.set(i,o=new rR),o.map=r,o.key=i),o.track()}}function mu(n,e,i,r,o,s){const a=h_.get(n);if(!a){Iv++;return}const l=u=>{u&&u.trigger()};if(tR(),e==="clear")a.forEach(l);else{const u=Wt(n),c=u&&Q2(i);if(u&&i==="length"){const d=Number(r);a.forEach((f,h)=>{(h==="length"||h===Nv||!ad(h)&&h>=d)&&l(f)})}else switch((i!==void 0||a.has(void 0))&&l(a.get(i)),c&&l(a.get(Nv)),e){case"add":u?c&&l(a.get("length")):(l(a.get(gf)),yp(n)&&l(a.get(bE)));break;case"delete":u||(l(a.get(gf)),yp(n)&&l(a.get(bE)));break;case"set":yp(n)&&l(a.get(gf));break}}nR()}function Eee(n,e){const i=h_.get(n);return i&&i.get(e)}function xh(n){const e=hn(n);return e===n?e:(no(e,"iterate",Nv),ta(n)?e:e.map(io))}function OS(n){return no(n=hn(n),"iterate",Nv),n}const Mee={__proto__:null,[Symbol.iterator](){return gC(this,Symbol.iterator,io)},concat(...n){return xh(this).concat(...n.map(e=>Wt(e)?xh(e):e))},entries(){return gC(this,"entries",n=>(n[1]=io(n[1]),n))},every(n,e){return Kl(this,"every",n,e,void 0,arguments)},filter(n,e){return Kl(this,"filter",n,e,i=>i.map(io),arguments)},find(n,e){return Kl(this,"find",n,e,io,arguments)},findIndex(n,e){return Kl(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Kl(this,"findLast",n,e,io,arguments)},findLastIndex(n,e){return Kl(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Kl(this,"forEach",n,e,void 0,arguments)},includes(...n){return mC(this,"includes",n)},indexOf(...n){return mC(this,"indexOf",n)},join(n){return xh(this).join(n)},lastIndexOf(...n){return mC(this,"lastIndexOf",n)},map(n,e){return Kl(this,"map",n,e,void 0,arguments)},pop(){return rm(this,"pop")},push(...n){return rm(this,"push",n)},reduce(n,...e){return r3(this,"reduce",n,e)},reduceRight(n,...e){return r3(this,"reduceRight",n,e)},shift(){return rm(this,"shift")},some(n,e){return Kl(this,"some",n,e,void 0,arguments)},splice(...n){return rm(this,"splice",n)},toReversed(){return xh(this).toReversed()},toSorted(n){return xh(this).toSorted(n)},toSpliced(...n){return xh(this).toSpliced(...n)},unshift(...n){return rm(this,"unshift",n)},values(){return gC(this,"values",io)}};function gC(n,e,i){const r=OS(n),o=r[e]();return r!==n&&!ta(n)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.value&&(s.value=i(s.value)),s}),o}const Ree=Array.prototype;function Kl(n,e,i,r,o,s){const a=OS(n),l=a!==n&&!ta(n),u=a[e];if(u!==Ree[e]){const f=u.apply(n,s);return l?io(f):f}let c=i;a!==n&&(l?c=function(f,h){return i.call(this,io(f),h,n)}:i.length>2&&(c=function(f,h){return i.call(this,f,h,n)}));const d=u.call(a,c,r);return l&&o?o(d):d}function r3(n,e,i,r){const o=OS(n);let s=i;return o!==n&&(ta(n)?i.length>3&&(s=function(a,l,u){return i.call(this,a,l,u,n)}):s=function(a,l,u){return i.call(this,a,io(l),u,n)}),o[e](s,...r)}function mC(n,e,i){const r=hn(n);no(r,"iterate",Nv);const o=r[e](...i);return(o===-1||o===!1)&&aR(i[0])?(i[0]=hn(i[0]),r[e](...i)):o}function rm(n,e,i=[]){ld(),tR();const r=hn(n)[e].apply(n,i);return nR(),ud(),r}const Pee=X2("__proto__,__v_isRef,__isVue"),w5=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(ad));function Iee(n){ad(n)||(n=String(n));const e=hn(this);return no(e,"has",n),e.hasOwnProperty(n)}class C5{constructor(e=!1,i=!1){this._isReadonly=e,this._isShallow=i}get(e,i,r){if(i==="__v_skip")return e.__v_skip;const o=this._isReadonly,s=this._isShallow;if(i==="__v_isReactive")return!o;if(i==="__v_isReadonly")return o;if(i==="__v_isShallow")return s;if(i==="__v_raw")return r===(o?s?zee:M5:s?E5:A5).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=Wt(e);if(!o){let u;if(a&&(u=Mee[i]))return u;if(i==="hasOwnProperty")return Iee}const l=Reflect.get(e,i,Hi(e)?e:r);return(ad(i)?w5.has(i):Pee(i))||(o||no(e,"get",i),s)?l:Hi(l)?a&&Q2(i)?l:l.value:hi(l)?o?R5(l):Wi(l):l}}class T5 extends C5{constructor(e=!1){super(!1,e)}set(e,i,r,o){let s=e[i];if(!this._isShallow){const u=Rf(s);if(!ta(r)&&!Rf(r)&&(s=hn(s),r=hn(r)),!Wt(e)&&Hi(s)&&!Hi(r))return u?!1:(s.value=r,!0)}const a=Wt(e)&&Q2(i)?Number(i)<e.length:Qn(e,i),l=Reflect.set(e,i,r,Hi(e)?e:o);return e===hn(o)&&(a?jc(r,s)&&mu(e,"set",i,r):mu(e,"add",i,r)),l}deleteProperty(e,i){const r=Qn(e,i);e[i];const o=Reflect.deleteProperty(e,i);return o&&r&&mu(e,"delete",i,void 0),o}has(e,i){const r=Reflect.has(e,i);return(!ad(i)||!w5.has(i))&&no(e,"has",i),r}ownKeys(e){return no(e,"iterate",Wt(e)?"length":gf),Reflect.ownKeys(e)}}class Nee extends C5{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const Oee=new T5,Dee=new Nee,Lee=new T5(!0),xE=n=>n,W0=n=>Reflect.getPrototypeOf(n);function Bee(n,e,i){return function(...r){const o=this.__v_raw,s=hn(o),a=yp(s),l=n==="entries"||n===Symbol.iterator&&a,u=n==="keys"&&a,c=o[n](...r),d=i?xE:e?_E:io;return!e&&no(s,"iterate",u?bE:gf),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:l?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function j0(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Fee(n,e){const i={get(o){const s=this.__v_raw,a=hn(s),l=hn(o);n||(jc(o,l)&&no(a,"get",o),no(a,"get",l));const{has:u}=W0(a),c=e?xE:n?_E:io;if(u.call(a,o))return c(s.get(o));if(u.call(a,l))return c(s.get(l));s!==a&&s.get(o)},get size(){const o=this.__v_raw;return!n&&no(hn(o),"iterate",gf),Reflect.get(o,"size",o)},has(o){const s=this.__v_raw,a=hn(s),l=hn(o);return n||(jc(o,l)&&no(a,"has",o),no(a,"has",l)),o===l?s.has(o):s.has(o)||s.has(l)},forEach(o,s){const a=this,l=a.__v_raw,u=hn(l),c=e?xE:n?_E:io;return!n&&no(u,"iterate",gf),l.forEach((d,f)=>o.call(s,c(d),c(f),a))}};return wr(i,n?{add:j0("add"),set:j0("set"),delete:j0("delete"),clear:j0("clear")}:{add(o){!e&&!ta(o)&&!Rf(o)&&(o=hn(o));const s=hn(this);return W0(s).has.call(s,o)||(s.add(o),mu(s,"add",o,o)),this},set(o,s){!e&&!ta(s)&&!Rf(s)&&(s=hn(s));const a=hn(this),{has:l,get:u}=W0(a);let c=l.call(a,o);c||(o=hn(o),c=l.call(a,o));const d=u.call(a,o);return a.set(o,s),c?jc(s,d)&&mu(a,"set",o,s):mu(a,"add",o,s),this},delete(o){const s=hn(this),{has:a,get:l}=W0(s);let u=a.call(s,o);u||(o=hn(o),u=a.call(s,o)),l&&l.call(s,o);const c=s.delete(o);return u&&mu(s,"delete",o,void 0),c},clear(){const o=hn(this),s=o.size!==0,a=o.clear();return s&&mu(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{i[o]=Bee(o,n,e)}),i}function oR(n,e){const i=Fee(n,e);return(r,o,s)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(Qn(i,o)&&o in r?i:r,o,s)}const $ee={get:oR(!1,!1)},Uee={get:oR(!1,!0)},kee={get:oR(!0,!1)},A5=new WeakMap,E5=new WeakMap,M5=new WeakMap,zee=new WeakMap;function Hee(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gee(n){return n.__v_skip||!Object.isExtensible(n)?0:Hee(hee(n))}function Wi(n){return Rf(n)?n:sR(n,!1,Oee,$ee,A5)}function Vee(n){return sR(n,!1,Lee,Uee,E5)}function R5(n){return sR(n,!0,Dee,kee,M5)}function sR(n,e,i,r,o){if(!hi(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=o.get(n);if(s)return s;const a=Gee(n);if(a===0)return n;const l=new Proxy(n,a===2?r:i);return o.set(n,l),l}function Kc(n){return Rf(n)?Kc(n.__v_raw):!!(n&&n.__v_isReactive)}function Rf(n){return!!(n&&n.__v_isReadonly)}function ta(n){return!!(n&&n.__v_isShallow)}function aR(n){return n?!!n.__v_raw:!1}function hn(n){const e=n&&n.__v_raw;return e?hn(e):n}function lR(n){return!Qn(n,"__v_skip")&&Object.isExtensible(n)&&l5(n,"__v_skip",!0),n}const io=n=>hi(n)?Wi(n):n,_E=n=>hi(n)?R5(n):n;function Hi(n){return n?n.__v_isRef===!0:!1}function He(n){return P5(n,!1)}function Ne(n){return P5(n,!0)}function P5(n,e){return Hi(n)?n:new Wee(n,e)}class Wee{constructor(e,i){this.dep=new rR,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?e:hn(e),this._value=i?e:io(e),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(e){const i=this._rawValue,r=this.__v_isShallow||ta(e)||Rf(e);e=r?e:hn(e),jc(e,i)&&(this._rawValue=e,this._value=r?e:io(e),this.dep.trigger())}}function jee(n){n.dep&&n.dep.trigger()}function Hr(n){return Hi(n)?n.value:n}const Kee={get:(n,e,i)=>e==="__v_raw"?n:Hr(Reflect.get(n,e,i)),set:(n,e,i,r)=>{const o=n[e];return Hi(o)&&!Hi(i)?(o.value=i,!0):Reflect.set(n,e,i,r)}};function I5(n){return Kc(n)?n:new Proxy(n,Kee)}function sv(n){const e=Wt(n)?new Array(n.length):{};for(const i in n)e[i]=N5(n,i);return e}class Xee{constructor(e,i,r){this._object=e,this._key=i,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Eee(hn(this._object),this._key)}}class qee{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Zn(n,e,i){return Hi(n)?n:sn(n)?new qee(n):hi(n)&&arguments.length>1?N5(n,e,i):He(n)}function N5(n,e,i){const r=n[e];return Hi(r)?r:new Xee(n,e,i)}class Yee{constructor(e,i,r){this.fn=e,this.setter=i,this._value=void 0,this.dep=new rR(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Iv-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&di!==this)return v5(this,!0),!0}get value(){const e=this.dep.track();return x5(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Qee(n,e,i=!1){let r,o;return sn(n)?r=n:(r=n.get,o=n.set),new Yee(r,o,i)}const K0={},p_=new WeakMap;let Gd;function Zee(n,e=!1,i=Gd){if(i){let r=p_.get(i);r||p_.set(i,r=[]),r.push(n)}}function Jee(n,e,i=ai){const{immediate:r,deep:o,once:s,scheduler:a,augmentJob:l,call:u}=i,c=w=>o?w:ta(w)||o===!1||o===0?vu(w,1):vu(w);let d,f,h,p,v=!1,b=!1;if(Hi(n)?(f=()=>n.value,v=ta(n)):Kc(n)?(f=()=>c(n),v=!0):Wt(n)?(b=!0,v=n.some(w=>Kc(w)||ta(w)),f=()=>n.map(w=>{if(Hi(w))return w.value;if(Kc(w))return c(w);if(sn(w))return u?u(w,2):w()})):sn(n)?e?f=u?()=>u(n,2):n:f=()=>{if(h){ld();try{h()}finally{ud()}}const w=Gd;Gd=d;try{return u?u(n,3,[p]):n(p)}finally{Gd=w}}:f=fl,e&&o){const w=f,T=o===!0?1/0:o;f=()=>vu(w(),T)}const y=p5(),m=()=>{d.stop(),y&&y.active&&Y2(y.effects,d)};if(s&&e){const w=e;e=(...T)=>{w(...T),m()}}let _=b?new Array(n.length).fill(K0):K0;const S=w=>{if(!(!(d.flags&1)||!d.dirty&&!w))if(e){const T=d.run();if(o||v||(b?T.some((A,C)=>jc(A,_[C])):jc(T,_))){h&&h();const A=Gd;Gd=d;try{const C=[T,_===K0?void 0:b&&_[0]===K0?[]:_,p];u?u(e,3,C):e(...C),_=T}finally{Gd=A}}}else d.run()};return l&&l(S),d=new g5(f),d.scheduler=a?()=>a(S,!1):S,p=w=>Zee(w,!1,d),h=d.onStop=()=>{const w=p_.get(d);if(w){if(u)u(w,4);else for(const T of w)T();p_.delete(d)}},e?r?S(!0):_=d.run():a?a(S.bind(null,!0),!0):d.run(),m.pause=d.pause.bind(d),m.resume=d.resume.bind(d),m.stop=m,m}function vu(n,e=1/0,i){if(e<=0||!hi(n)||n.__v_skip||(i=i||new Set,i.has(n)))return n;if(i.add(n),e--,Hi(n))vu(n.value,e,i);else if(Wt(n))for(let r=0;r<n.length;r++)vu(n[r],e,i);else if(r5(n)||yp(n))n.forEach(r=>{vu(r,e,i)});else if(a5(n)){for(const r in n)vu(n[r],e,i);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&vu(n[r],e,i)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Py(n,e,i,r){try{return r?n(...r):n()}catch(o){DS(o,e,i)}}function Fa(n,e,i,r){if(sn(n)){const o=Py(n,e,i,r);return o&&o5(o)&&o.catch(s=>{DS(s,e,i)}),o}if(Wt(n)){const o=[];for(let s=0;s<n.length;s++)o.push(Fa(n[s],e,i,r));return o}}function DS(n,e,i,r=!0){const o=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||ai;if(e){let l=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${i}`;for(;l;){const d=l.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](n,u,c)===!1)return}l=l.parent}if(s){ld(),Py(s,null,10,[n,u,c]),ud();return}}ete(n,i,o,r,a)}function ete(n,e,i,r=!0,o=!1){if(o)throw n;console.error(n)}const _o=[];let el=-1;const bp=[];let Oc=null,ip=0;const O5=Promise.resolve();let g_=null;function Un(n){const e=g_||O5;return n?e.then(this?n.bind(this):n):e}function tte(n){let e=el+1,i=_o.length;for(;e<i;){const r=e+i>>>1,o=_o[r],s=Ov(o);s<n||s===n&&o.flags&2?e=r+1:i=r}return e}function uR(n){if(!(n.flags&1)){const e=Ov(n),i=_o[_o.length-1];!i||!(n.flags&2)&&e>=Ov(i)?_o.push(n):_o.splice(tte(e),0,n),n.flags|=1,D5()}}function D5(){g_||(g_=O5.then(B5))}function nte(n){Wt(n)?bp.push(...n):Oc&&n.id===-1?Oc.splice(ip+1,0,n):n.flags&1||(bp.push(n),n.flags|=1),D5()}function o3(n,e,i=el+1){for(;i<_o.length;i++){const r=_o[i];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;_o.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function L5(n){if(bp.length){const e=[...new Set(bp)].sort((i,r)=>Ov(i)-Ov(r));if(bp.length=0,Oc){Oc.push(...e);return}for(Oc=e,ip=0;ip<Oc.length;ip++){const i=Oc[ip];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Oc=null,ip=0}}const Ov=n=>n.id==null?n.flags&2?-1:1/0:n.id;function B5(n){try{for(el=0;el<_o.length;el++){const e=_o[el];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Py(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;el<_o.length;el++){const e=_o[el];e&&(e.flags&=-2)}el=-1,_o.length=0,L5(),g_=null,(_o.length||bp.length)&&B5()}}let Mo=null,F5=null;function m_(n){const e=Mo;return Mo=n,F5=n&&n.type.__scopeId||null,e}function Yi(n,e=Mo,i){if(!e||n._n)return n;const r=(...o)=>{r._d&&b3(-1);const s=m_(e);let a;try{a=n(...o)}finally{m_(s),r._d&&b3(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function So(n,e){if(Mo===null)return n;const i=$S(Mo),r=n.dirs||(n.dirs=[]);for(let o=0;o<e.length;o++){let[s,a,l,u=ai]=e[o];s&&(sn(s)&&(s={mounted:s,updated:s}),s.deep&&vu(a),r.push({dir:s,instance:i,value:a,oldValue:void 0,arg:l,modifiers:u}))}return n}function Rd(n,e,i,r){const o=n.dirs,s=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let u=l.dir[r];u&&(ld(),Fa(u,i,8,[n.el,l,n,e]),ud())}}const $5=Symbol("_vte"),U5=n=>n.__isTeleport,av=n=>n&&(n.disabled||n.disabled===""),s3=n=>n&&(n.defer||n.defer===""),a3=n=>typeof SVGElement<"u"&&n instanceof SVGElement,l3=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,SE=(n,e)=>{const i=n&&n.to;return ji(i)?e?e(i):null:i},k5={name:"Teleport",__isTeleport:!0,process(n,e,i,r,o,s,a,l,u,c){const{mc:d,pc:f,pbc:h,o:{insert:p,querySelector:v,createText:b,createComment:y}}=c,m=av(e.props);let{shapeFlag:_,children:S,dynamicChildren:w}=e;if(n==null){const T=e.el=b(""),A=e.anchor=b("");p(T,i,r),p(A,i,r);const C=(E,P)=>{_&16&&(o&&o.isCE&&(o.ce._teleportTarget=E),d(S,E,P,o,s,a,l,u))},R=()=>{const E=e.target=SE(e.props,v),P=H5(E,e,b,p);E&&(a!=="svg"&&a3(E)?a="svg":a!=="mathml"&&l3(E)&&(a="mathml"),m||(C(E,P),Px(e,!1)))};m&&(C(i,A),Px(e,!0)),s3(e.props)?bo(()=>{R(),e.el.__isMounted=!0},s):R()}else{if(s3(e.props)&&!n.el.__isMounted){bo(()=>{k5.process(n,e,i,r,o,s,a,l,u,c),delete n.el.__isMounted},s);return}e.el=n.el,e.targetStart=n.targetStart;const T=e.anchor=n.anchor,A=e.target=n.target,C=e.targetAnchor=n.targetAnchor,R=av(n.props),E=R?i:A,P=R?T:C;if(a==="svg"||a3(A)?a="svg":(a==="mathml"||l3(A))&&(a="mathml"),w?(h(n.dynamicChildren,w,E,o,s,a,l),pR(n,e,!0)):u||f(n,e,E,P,o,s,a,l,!1),m)R?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):X0(e,i,T,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const N=e.target=SE(e.props,v);N&&X0(e,N,null,c,0)}else R&&X0(e,A,C,c,1);Px(e,m)}},remove(n,e,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetStart:c,targetAnchor:d,target:f,props:h}=n;if(f&&(o(c),o(d)),s&&o(u),a&16){const p=s||!av(h);for(let v=0;v<l.length;v++){const b=l[v];r(b,e,i,p,!!b.dynamicChildren)}}},move:X0,hydrate:ite};function X0(n,e,i,{o:{insert:r},m:o},s=2){s===0&&r(n.targetAnchor,e,i);const{el:a,anchor:l,shapeFlag:u,children:c,props:d}=n,f=s===2;if(f&&r(a,e,i),(!f||av(d))&&u&16)for(let h=0;h<c.length;h++)o(c[h],e,i,2);f&&r(l,e,i)}function ite(n,e,i,r,o,s,{o:{nextSibling:a,parentNode:l,querySelector:u,insert:c,createText:d}},f){const h=e.target=SE(e.props,u);if(h){const p=av(e.props),v=h._lpa||h.firstChild;if(e.shapeFlag&16)if(p)e.anchor=f(a(n),e,l(n),i,r,o,s),e.targetStart=v,e.targetAnchor=v&&a(v);else{e.anchor=a(n);let b=v;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}}b=a(b)}e.targetAnchor||H5(h,e,d,c),f(v&&a(v),e,h,i,r,o,s)}Px(e,p)}return e.anchor&&a(e.anchor)}const z5=k5;function Px(n,e){const i=n.ctx;if(i&&i.ut){let r,o;for(e?(r=n.el,o=n.anchor):(r=n.targetStart,o=n.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",i.uid),r=r.nextSibling;i.ut()}}function H5(n,e,i,r){const o=e.targetStart=i(""),s=e.targetAnchor=i("");return o[$5]=s,n&&(r(o,n),r(s,n)),s}const Dc=Symbol("_leaveCb"),q0=Symbol("_enterCb");function G5(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Jt(()=>{n.isMounted=!0}),Rn(()=>{n.isUnmounting=!0}),n}const Hs=[Function,Array],V5={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hs,onEnter:Hs,onAfterEnter:Hs,onEnterCancelled:Hs,onBeforeLeave:Hs,onLeave:Hs,onAfterLeave:Hs,onLeaveCancelled:Hs,onBeforeAppear:Hs,onAppear:Hs,onAfterAppear:Hs,onAppearCancelled:Hs},W5=n=>{const e=n.subTree;return e.component?W5(e.component):e},rte={name:"BaseTransition",props:V5,setup(n,{slots:e}){const i=is(),r=G5();return()=>{const o=e.default&&cR(e.default(),!0);if(!o||!o.length)return;const s=j5(o),a=hn(n),{mode:l}=a;if(r.isLeaving)return vC(s);const u=u3(s);if(!u)return vC(s);let c=Dv(u,a,r,i,f=>c=f);u.type!==oo&&Pf(u,c);let d=i.subTree&&u3(i.subTree);if(d&&d.type!==oo&&!Qd(u,d)&&W5(i).type!==oo){let f=Dv(d,a,r,i);if(Pf(d,f),l==="out-in"&&u.type!==oo)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,i.job.flags&8||i.update(),delete f.afterLeave,d=void 0},vC(s);l==="in-out"&&u.type!==oo?f.delayLeave=(h,p,v)=>{const b=K5(r,d);b[String(d.key)]=d,h[Dc]=()=>{p(),h[Dc]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return s}}};function j5(n){let e=n[0];if(n.length>1){for(const i of n)if(i.type!==oo){e=i;break}}return e}const ote=rte;function K5(n,e){const{leavingVNodes:i}=n;let r=i.get(e.type);return r||(r=Object.create(null),i.set(e.type,r)),r}function Dv(n,e,i,r,o){const{appear:s,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:v,onLeaveCancelled:b,onBeforeAppear:y,onAppear:m,onAfterAppear:_,onAppearCancelled:S}=e,w=String(n.key),T=K5(i,n),A=(E,P)=>{E&&Fa(E,r,9,P)},C=(E,P)=>{const N=P[1];A(E,P),Wt(E)?E.every(D=>D.length<=1)&&N():E.length<=1&&N()},R={mode:a,persisted:l,beforeEnter(E){let P=u;if(!i.isMounted)if(s)P=y||u;else return;E[Dc]&&E[Dc](!0);const N=T[w];N&&Qd(n,N)&&N.el[Dc]&&N.el[Dc](),A(P,[E])},enter(E){let P=c,N=d,D=f;if(!i.isMounted)if(s)P=m||c,N=_||d,D=S||f;else return;let $=!1;const L=E[q0]=F=>{$||($=!0,F?A(D,[E]):A(N,[E]),R.delayedLeave&&R.delayedLeave(),E[q0]=void 0)};P?C(P,[E,L]):L()},leave(E,P){const N=String(n.key);if(E[q0]&&E[q0](!0),i.isUnmounting)return P();A(h,[E]);let D=!1;const $=E[Dc]=L=>{D||(D=!0,P(),L?A(b,[E]):A(v,[E]),E[Dc]=void 0,T[N]===n&&delete T[N])};T[N]=n,p?C(p,[E,$]):$()},clone(E){const P=Dv(E,e,i,r,o);return o&&o(P),P}};return R}function vC(n){if(LS(n))return n=ts(n),n.children=null,n}function u3(n){if(!LS(n))return U5(n.type)&&n.children?j5(n.children):n;const{shapeFlag:e,children:i}=n;if(i){if(e&16)return i[0];if(e&32&&sn(i.default))return i.default()}}function Pf(n,e){n.shapeFlag&6&&n.component?(n.transition=e,Pf(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function cR(n,e=!1,i){let r=[],o=0;for(let s=0;s<n.length;s++){let a=n[s];const l=i==null?a.key:String(i)+String(a.key!=null?a.key:s);a.type===mn?(a.patchFlag&128&&o++,r=r.concat(cR(a.children,e,l))):(e||a.type!==oo)&&r.push(l!=null?ts(a,{key:l}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function We(n,e){return sn(n)?wr({name:n.name},e,{setup:n}):n}function X5(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function v_(n,e,i,r,o=!1){if(Wt(n)){n.forEach((v,b)=>v_(v,e&&(Wt(e)?e[b]:e),i,r,o));return}if(lv(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&v_(n,e,i,r.component.subTree);return}const s=r.shapeFlag&4?$S(r.component):r.el,a=o?null:s,{i:l,r:u}=n,c=e&&e.r,d=l.refs===ai?l.refs={}:l.refs,f=l.setupState,h=hn(f),p=f===ai?()=>!1:v=>Qn(h,v);if(c!=null&&c!==u&&(ji(c)?(d[c]=null,p(c)&&(f[c]=null)):Hi(c)&&(c.value=null)),sn(u))Py(u,l,12,[a,d]);else{const v=ji(u),b=Hi(u);if(v||b){const y=()=>{if(n.f){const m=v?p(u)?f[u]:d[u]:u.value;o?Wt(m)&&Y2(m,s):Wt(m)?m.includes(s)||m.push(s):v?(d[u]=[s],p(u)&&(f[u]=d[u])):(u.value=[s],n.k&&(d[n.k]=u.value))}else v?(d[u]=a,p(u)&&(f[u]=a)):b&&(u.value=a,n.k&&(d[n.k]=a))};a?(y.id=-1,bo(y,i)):y()}}}NS().requestIdleCallback;NS().cancelIdleCallback;const lv=n=>!!n.type.__asyncLoader,LS=n=>n.type.__isKeepAlive;function q5(n,e){Y5(n,"a",e)}function ste(n,e){Y5(n,"da",e)}function Y5(n,e,i=Or){const r=n.__wdc||(n.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(BS(e,r,i),i){let o=i.parent;for(;o&&o.parent;)LS(o.parent.vnode)&&ate(r,e,i,o),o=o.parent}}function ate(n,e,i,r){const o=BS(e,n,r,!0);Ha(()=>{Y2(r[e],o)},i)}function BS(n,e,i=Or,r=!1){if(i){const o=i[n]||(i[n]=[]),s=e.__weh||(e.__weh=(...a)=>{ld();const l=Iy(i),u=Fa(e,i,n,a);return l(),ud(),u});return r?o.unshift(s):o.push(s),s}}const Xu=n=>(e,i=Or)=>{(!Bv||n==="sp")&&BS(n,(...r)=>e(...r),i)},dR=Xu("bm"),Jt=Xu("m"),fR=Xu("bu"),fa=Xu("u"),Rn=Xu("bum"),Ha=Xu("um"),lte=Xu("sp"),ute=Xu("rtg"),cte=Xu("rtc");function dte(n,e=Or){BS("ec",n,e)}const fte="directives",hte=Symbol.for("v-ndc");function pte(n){return gte(fte,n)}function gte(n,e,i=!0,r=!1){const o=Mo||Or;if(o){const s=o.type,a=c3(o[n]||s[n],e)||c3(o.appContext[n],e);return!a&&r?s:a}}function c3(n,e){return n&&(n[e]||n[ml(e)]||n[Z2(ml(e))])}function mte(n,e,i,r){let o;const s=i,a=Wt(n);if(a||ji(n)){const l=a&&Kc(n);let u=!1;l&&(u=!ta(n),n=OS(n)),o=new Array(n.length);for(let c=0,d=n.length;c<d;c++)o[c]=e(u?io(n[c]):n[c],c,void 0,s)}else if(typeof n=="number"){o=new Array(n);for(let l=0;l<n;l++)o[l]=e(l+1,l,void 0,s)}else if(hi(n))if(n[Symbol.iterator])o=Array.from(n,(l,u)=>e(l,u,void 0,s));else{const l=Object.keys(n);o=new Array(l.length);for(let u=0,c=l.length;u<c;u++){const d=l[u];o[u]=e(n[d],d,u,s)}}else o=[];return o}const wE=n=>n?g6(n)?$S(n):wE(n.parent):null,uv=wr(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>wE(n.parent),$root:n=>wE(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Z5(n),$forceUpdate:n=>n.f||(n.f=()=>{uR(n.update)}),$nextTick:n=>n.n||(n.n=Un.bind(n.proxy)),$watch:n=>$te.bind(n)}),yC=(n,e)=>n!==ai&&!n.__isScriptSetup&&Qn(n,e),vte={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:i,setupState:r,data:o,props:s,accessCache:a,type:l,appContext:u}=n;let c;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return o[e];case 4:return i[e];case 3:return s[e]}else{if(yC(r,e))return a[e]=1,r[e];if(o!==ai&&Qn(o,e))return a[e]=2,o[e];if((c=n.propsOptions[0])&&Qn(c,e))return a[e]=3,s[e];if(i!==ai&&Qn(i,e))return a[e]=4,i[e];CE&&(a[e]=0)}}const d=uv[e];let f,h;if(d)return e==="$attrs"&&no(n.attrs,"get",""),d(n);if((f=l.__cssModules)&&(f=f[e]))return f;if(i!==ai&&Qn(i,e))return a[e]=4,i[e];if(h=u.config.globalProperties,Qn(h,e))return h[e]},set({_:n},e,i){const{data:r,setupState:o,ctx:s}=n;return yC(o,e)?(o[e]=i,!0):r!==ai&&Qn(r,e)?(r[e]=i,!0):Qn(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(s[e]=i,!0)},has({_:{data:n,setupState:e,accessCache:i,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!i[a]||n!==ai&&Qn(n,a)||yC(e,a)||(l=s[0])&&Qn(l,a)||Qn(r,a)||Qn(uv,a)||Qn(o.config.globalProperties,a)},defineProperty(n,e,i){return i.get!=null?n._.accessCache[e]=0:Qn(i,"value")&&this.set(n,e,i.value,null),Reflect.defineProperty(n,e,i)}};function d3(n){return Wt(n)?n.reduce((e,i)=>(e[i]=null,e),{}):n}let CE=!0;function yte(n){const e=Z5(n),i=n.proxy,r=n.ctx;CE=!1,e.beforeCreate&&f3(e.beforeCreate,n,"bc");const{data:o,computed:s,methods:a,watch:l,provide:u,inject:c,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:v,activated:b,deactivated:y,beforeDestroy:m,beforeUnmount:_,destroyed:S,unmounted:w,render:T,renderTracked:A,renderTriggered:C,errorCaptured:R,serverPrefetch:E,expose:P,inheritAttrs:N,components:D,directives:$,filters:L}=e;if(c&&bte(c,r,null),a)for(const k in a){const H=a[k];sn(H)&&(r[k]=H.bind(i))}if(o){const k=o.call(i,i);hi(k)&&(n.data=Wi(k))}if(CE=!0,s)for(const k in s){const H=s[k],z=sn(H)?H.bind(i,i):sn(H.get)?H.get.bind(i,i):fl,Q=!sn(H)&&sn(H.set)?H.set.bind(i):fl,Z=K({get:z,set:Q});Object.defineProperty(r,k,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ie=>Z.value=ie})}if(l)for(const k in l)Q5(l[k],r,i,k);if(u){const k=sn(u)?u.call(i):u;Reflect.ownKeys(k).forEach(H=>{Wn(H,k[H])})}d&&f3(d,n,"c");function U(k,H){Wt(H)?H.forEach(z=>k(z.bind(i))):H&&k(H.bind(i))}if(U(dR,f),U(Jt,h),U(fR,p),U(fa,v),U(q5,b),U(ste,y),U(dte,R),U(cte,A),U(ute,C),U(Rn,_),U(Ha,w),U(lte,E),Wt(P))if(P.length){const k=n.exposed||(n.exposed={});P.forEach(H=>{Object.defineProperty(k,H,{get:()=>i[H],set:z=>i[H]=z})})}else n.exposed||(n.exposed={});T&&n.render===fl&&(n.render=T),N!=null&&(n.inheritAttrs=N),D&&(n.components=D),$&&(n.directives=$),E&&X5(n)}function bte(n,e,i=fl){Wt(n)&&(n=TE(n));for(const r in n){const o=n[r];let s;hi(o)?"default"in o?s=Xt(o.from||r,o.default,!0):s=Xt(o.from||r):s=Xt(o),Hi(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function f3(n,e,i){Fa(Wt(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,i)}function Q5(n,e,i,r){let o=r.includes(".")?c6(i,r):()=>i[r];if(ji(n)){const s=e[n];sn(s)&&ut(o,s)}else if(sn(n))ut(o,n.bind(i));else if(hi(n))if(Wt(n))n.forEach(s=>Q5(s,e,i,r));else{const s=sn(n.handler)?n.handler.bind(i):e[n.handler];sn(s)&&ut(o,s,n)}}function Z5(n){const e=n.type,{mixins:i,extends:r}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=n.appContext,l=s.get(e);let u;return l?u=l:!o.length&&!i&&!r?u=e:(u={},o.length&&o.forEach(c=>y_(u,c,a,!0)),y_(u,e,a)),hi(e)&&s.set(e,u),u}function y_(n,e,i,r=!1){const{mixins:o,extends:s}=e;s&&y_(n,s,i,!0),o&&o.forEach(a=>y_(n,a,i,!0));for(const a in e)if(!(r&&a==="expose")){const l=xte[a]||i&&i[a];n[a]=l?l(n[a],e[a]):e[a]}return n}const xte={data:h3,props:p3,emits:p3,methods:Hm,computed:Hm,beforeCreate:vo,created:vo,beforeMount:vo,mounted:vo,beforeUpdate:vo,updated:vo,beforeDestroy:vo,beforeUnmount:vo,destroyed:vo,unmounted:vo,activated:vo,deactivated:vo,errorCaptured:vo,serverPrefetch:vo,components:Hm,directives:Hm,watch:Ste,provide:h3,inject:_te};function h3(n,e){return e?n?function(){return wr(sn(n)?n.call(this,this):n,sn(e)?e.call(this,this):e)}:e:n}function _te(n,e){return Hm(TE(n),TE(e))}function TE(n){if(Wt(n)){const e={};for(let i=0;i<n.length;i++)e[n[i]]=n[i];return e}return n}function vo(n,e){return n?[...new Set([].concat(n,e))]:e}function Hm(n,e){return n?wr(Object.create(null),n,e):e}function p3(n,e){return n?Wt(n)&&Wt(e)?[...new Set([...n,...e])]:wr(Object.create(null),d3(n),d3(e??{})):e}function Ste(n,e){if(!n)return e;if(!e)return n;const i=wr(Object.create(null),n);for(const r in e)i[r]=vo(n[r],e[r]);return i}function J5(){return{app:null,config:{isNativeTag:dee,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wte=0;function Cte(n,e){return function(r,o=null){sn(r)||(r=wr({},r)),o!=null&&!hi(o)&&(o=null);const s=J5(),a=new WeakSet,l=[];let u=!1;const c=s.app={_uid:wte++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:rne,get config(){return s.config},set config(d){},use(d,...f){return a.has(d)||(d&&sn(d.install)?(a.add(d),d.install(c,...f)):sn(d)&&(a.add(d),d(c,...f))),c},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),c},component(d,f){return f?(s.components[d]=f,c):s.components[d]},directive(d,f){return f?(s.directives[d]=f,c):s.directives[d]},mount(d,f,h){if(!u){const p=c._ceVNode||I(r,o);return p.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),n(p,d,h),u=!0,c._container=d,d.__vue_app__=c,$S(p.component)}},onUnmount(d){l.push(d)},unmount(){u&&(Fa(l,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(d,f){return s.provides[d]=f,c},runWithContext(d){const f=mf;mf=c;try{return d()}finally{mf=f}}};return c}}let mf=null;function Wn(n,e){if(Or){let i=Or.provides;const r=Or.parent&&Or.parent.provides;r===i&&(i=Or.provides=Object.create(r)),i[n]=e}}function Xt(n,e,i=!1){const r=Or||Mo;if(r||mf){const o=mf?mf._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&n in o)return o[n];if(arguments.length>1)return i&&sn(e)?e.call(r&&r.proxy):e}}function Tte(){return!!(Or||Mo||mf)}const e6={},t6=()=>Object.create(e6),n6=n=>Object.getPrototypeOf(n)===e6;function Ate(n,e,i,r=!1){const o={},s=t6();n.propsDefaults=Object.create(null),i6(n,e,o,s);for(const a in n.propsOptions[0])a in o||(o[a]=void 0);i?n.props=r?o:Vee(o):n.type.props?n.props=o:n.props=s,n.attrs=s}function Ete(n,e,i,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=n,l=hn(o),[u]=n.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=n.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(FS(n.emitsOptions,h))continue;const p=e[h];if(u)if(Qn(s,h))p!==s[h]&&(s[h]=p,c=!0);else{const v=ml(h);o[v]=AE(u,l,v,p,n,!1)}else p!==s[h]&&(s[h]=p,c=!0)}}}else{i6(n,e,o,s)&&(c=!0);let d;for(const f in l)(!e||!Qn(e,f)&&((d=Kf(f))===f||!Qn(e,d)))&&(u?i&&(i[f]!==void 0||i[d]!==void 0)&&(o[f]=AE(u,l,f,void 0,n,!0)):delete o[f]);if(s!==l)for(const f in s)(!e||!Qn(e,f))&&(delete s[f],c=!0)}c&&mu(n.attrs,"set","")}function i6(n,e,i,r){const[o,s]=n.propsOptions;let a=!1,l;if(e)for(let u in e){if(iv(u))continue;const c=e[u];let d;o&&Qn(o,d=ml(u))?!s||!s.includes(d)?i[d]=c:(l||(l={}))[d]=c:FS(n.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,a=!0)}if(s){const u=hn(i),c=l||ai;for(let d=0;d<s.length;d++){const f=s[d];i[f]=AE(o,u,f,c[f],n,!Qn(c,f))}}return a}function AE(n,e,i,r,o,s){const a=n[i];if(a!=null){const l=Qn(a,"default");if(l&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&sn(u)){const{propsDefaults:c}=o;if(i in c)r=c[i];else{const d=Iy(o);r=c[i]=u.call(null,e),d()}}else r=u;o.ce&&o.ce._setProp(i,r)}a[0]&&(s&&!l?r=!1:a[1]&&(r===""||r===Kf(i))&&(r=!0))}return r}const Mte=new WeakMap;function r6(n,e,i=!1){const r=i?Mte:e.propsCache,o=r.get(n);if(o)return o;const s=n.props,a={},l=[];let u=!1;if(!sn(n)){const d=f=>{u=!0;const[h,p]=r6(f,e,!0);wr(a,h),p&&l.push(...p)};!i&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!s&&!u)return hi(n)&&r.set(n,vp),vp;if(Wt(s))for(let d=0;d<s.length;d++){const f=ml(s[d]);g3(f)&&(a[f]=ai)}else if(s)for(const d in s){const f=ml(d);if(g3(f)){const h=s[d],p=a[f]=Wt(h)||sn(h)?{type:h}:wr({},h),v=p.type;let b=!1,y=!0;if(Wt(v))for(let m=0;m<v.length;++m){const _=v[m],S=sn(_)&&_.name;if(S==="Boolean"){b=!0;break}else S==="String"&&(y=!1)}else b=sn(v)&&v.name==="Boolean";p[0]=b,p[1]=y,(b||Qn(p,"default"))&&l.push(f)}}const c=[a,l];return hi(n)&&r.set(n,c),c}function g3(n){return n[0]!=="$"&&!iv(n)}const o6=n=>n[0]==="_"||n==="$stable",hR=n=>Wt(n)?n.map(rl):[rl(n)],Rte=(n,e,i)=>{if(e._n)return e;const r=Yi((...o)=>hR(e(...o)),i);return r._c=!1,r},s6=(n,e,i)=>{const r=n._ctx;for(const o in n){if(o6(o))continue;const s=n[o];if(sn(s))e[o]=Rte(o,s,r);else if(s!=null){const a=hR(s);e[o]=()=>a}}},a6=(n,e)=>{const i=hR(e);n.slots.default=()=>i},l6=(n,e,i)=>{for(const r in e)(i||r!=="_")&&(n[r]=e[r])},Pte=(n,e,i)=>{const r=n.slots=t6();if(n.vnode.shapeFlag&32){const o=e._;o?(l6(r,e,i),i&&l5(r,"_",o,!0)):s6(e,r)}else e&&a6(n,e)},Ite=(n,e,i)=>{const{vnode:r,slots:o}=n;let s=!0,a=ai;if(r.shapeFlag&32){const l=e._;l?i&&l===1?s=!1:l6(o,e,i):(s=!e.$stable,s6(e,o)),a=e}else e&&(a6(n,e),a={default:1});if(s)for(const l in o)!o6(l)&&a[l]==null&&delete o[l]},bo=Wte;function Nte(n){return Ote(n)}function Ote(n,e){const i=NS();i.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:l,createComment:u,setText:c,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=fl,insertStaticContent:v}=n,b=(W,X,V,Ce=null,pe=null,Se=null,fe=void 0,ge=null,ve=!!X.dynamicChildren)=>{if(W===X)return;W&&!Qd(W,X)&&(Ce=ne(W),ie(W,pe,Se,!0),W=null),X.patchFlag===-2&&(ve=!1,X.dynamicChildren=null);const{type:j,ref:G,shapeFlag:ce}=X;switch(j){case Xf:y(W,X,V,Ce);break;case oo:m(W,X,V,Ce);break;case xC:W==null&&_(X,V,Ce,fe);break;case mn:D(W,X,V,Ce,pe,Se,fe,ge,ve);break;default:ce&1?T(W,X,V,Ce,pe,Se,fe,ge,ve):ce&6?$(W,X,V,Ce,pe,Se,fe,ge,ve):(ce&64||ce&128)&&j.process(W,X,V,Ce,pe,Se,fe,ge,ve,le)}G!=null&&pe&&v_(G,W&&W.ref,Se,X||W,!X)},y=(W,X,V,Ce)=>{if(W==null)r(X.el=l(X.children),V,Ce);else{const pe=X.el=W.el;X.children!==W.children&&c(pe,X.children)}},m=(W,X,V,Ce)=>{W==null?r(X.el=u(X.children||""),V,Ce):X.el=W.el},_=(W,X,V,Ce)=>{[W.el,W.anchor]=v(W.children,X,V,Ce,W.el,W.anchor)},S=({el:W,anchor:X},V,Ce)=>{let pe;for(;W&&W!==X;)pe=h(W),r(W,V,Ce),W=pe;r(X,V,Ce)},w=({el:W,anchor:X})=>{let V;for(;W&&W!==X;)V=h(W),o(W),W=V;o(X)},T=(W,X,V,Ce,pe,Se,fe,ge,ve)=>{X.type==="svg"?fe="svg":X.type==="math"&&(fe="mathml"),W==null?A(X,V,Ce,pe,Se,fe,ge,ve):E(W,X,pe,Se,fe,ge,ve)},A=(W,X,V,Ce,pe,Se,fe,ge)=>{let ve,j;const{props:G,shapeFlag:ce,transition:Ee,dirs:de}=W;if(ve=W.el=a(W.type,Se,G&&G.is,G),ce&8?d(ve,W.children):ce&16&&R(W.children,ve,null,Ce,pe,bC(W,Se),fe,ge),de&&Rd(W,null,Ce,"created"),C(ve,W,W.scopeId,fe,Ce),G){for(const ye in G)ye!=="value"&&!iv(ye)&&s(ve,ye,null,G[ye],Se,Ce);"value"in G&&s(ve,"value",null,G.value,Se),(j=G.onVnodeBeforeMount)&&Xa(j,Ce,W)}de&&Rd(W,null,Ce,"beforeMount");const re=Dte(pe,Ee);re&&Ee.beforeEnter(ve),r(ve,X,V),((j=G&&G.onVnodeMounted)||re||de)&&bo(()=>{j&&Xa(j,Ce,W),re&&Ee.enter(ve),de&&Rd(W,null,Ce,"mounted")},pe)},C=(W,X,V,Ce,pe)=>{if(V&&p(W,V),Ce)for(let Se=0;Se<Ce.length;Se++)p(W,Ce[Se]);if(pe){let Se=pe.subTree;if(X===Se||f6(Se.type)&&(Se.ssContent===X||Se.ssFallback===X)){const fe=pe.vnode;C(W,fe,fe.scopeId,fe.slotScopeIds,pe.parent)}}},R=(W,X,V,Ce,pe,Se,fe,ge,ve=0)=>{for(let j=ve;j<W.length;j++){const G=W[j]=ge?Lc(W[j]):rl(W[j]);b(null,G,X,V,Ce,pe,Se,fe,ge)}},E=(W,X,V,Ce,pe,Se,fe)=>{const ge=X.el=W.el;let{patchFlag:ve,dynamicChildren:j,dirs:G}=X;ve|=W.patchFlag&16;const ce=W.props||ai,Ee=X.props||ai;let de;if(V&&Pd(V,!1),(de=Ee.onVnodeBeforeUpdate)&&Xa(de,V,X,W),G&&Rd(X,W,V,"beforeUpdate"),V&&Pd(V,!0),(ce.innerHTML&&Ee.innerHTML==null||ce.textContent&&Ee.textContent==null)&&d(ge,""),j?P(W.dynamicChildren,j,ge,V,Ce,bC(X,pe),Se):fe||H(W,X,ge,null,V,Ce,bC(X,pe),Se,!1),ve>0){if(ve&16)N(ge,ce,Ee,V,pe);else if(ve&2&&ce.class!==Ee.class&&s(ge,"class",null,Ee.class,pe),ve&4&&s(ge,"style",ce.style,Ee.style,pe),ve&8){const re=X.dynamicProps;for(let ye=0;ye<re.length;ye++){const De=re[ye],Ge=ce[De],ft=Ee[De];(ft!==Ge||De==="value")&&s(ge,De,Ge,ft,pe,V)}}ve&1&&W.children!==X.children&&d(ge,X.children)}else!fe&&j==null&&N(ge,ce,Ee,V,pe);((de=Ee.onVnodeUpdated)||G)&&bo(()=>{de&&Xa(de,V,X,W),G&&Rd(X,W,V,"updated")},Ce)},P=(W,X,V,Ce,pe,Se,fe)=>{for(let ge=0;ge<X.length;ge++){const ve=W[ge],j=X[ge],G=ve.el&&(ve.type===mn||!Qd(ve,j)||ve.shapeFlag&70)?f(ve.el):V;b(ve,j,G,null,Ce,pe,Se,fe,!0)}},N=(W,X,V,Ce,pe)=>{if(X!==V){if(X!==ai)for(const Se in X)!iv(Se)&&!(Se in V)&&s(W,Se,X[Se],null,pe,Ce);for(const Se in V){if(iv(Se))continue;const fe=V[Se],ge=X[Se];fe!==ge&&Se!=="value"&&s(W,Se,ge,fe,pe,Ce)}"value"in V&&s(W,"value",X.value,V.value,pe)}},D=(W,X,V,Ce,pe,Se,fe,ge,ve)=>{const j=X.el=W?W.el:l(""),G=X.anchor=W?W.anchor:l("");let{patchFlag:ce,dynamicChildren:Ee,slotScopeIds:de}=X;de&&(ge=ge?ge.concat(de):de),W==null?(r(j,V,Ce),r(G,V,Ce),R(X.children||[],V,G,pe,Se,fe,ge,ve)):ce>0&&ce&64&&Ee&&W.dynamicChildren?(P(W.dynamicChildren,Ee,V,pe,Se,fe,ge),(X.key!=null||pe&&X===pe.subTree)&&pR(W,X,!0)):H(W,X,V,G,pe,Se,fe,ge,ve)},$=(W,X,V,Ce,pe,Se,fe,ge,ve)=>{X.slotScopeIds=ge,W==null?X.shapeFlag&512?pe.ctx.activate(X,V,Ce,fe,ve):L(X,V,Ce,pe,Se,fe,ve):F(W,X,ve)},L=(W,X,V,Ce,pe,Se,fe)=>{const ge=W.component=Zte(W,Ce,pe);if(LS(W)&&(ge.ctx.renderer=le),Jte(ge,!1,fe),ge.asyncDep){if(pe&&pe.registerDep(ge,U,fe),!W.el){const ve=ge.subTree=I(oo);m(null,ve,X,V)}}else U(ge,W,X,V,pe,Se,fe)},F=(W,X,V)=>{const Ce=X.component=W.component;if(Gte(W,X,V))if(Ce.asyncDep&&!Ce.asyncResolved){k(Ce,X,V);return}else Ce.next=X,Ce.update();else X.el=W.el,Ce.vnode=X},U=(W,X,V,Ce,pe,Se,fe)=>{const ge=()=>{if(W.isMounted){let{next:ce,bu:Ee,u:de,parent:re,vnode:ye}=W;{const Pe=u6(W);if(Pe){ce&&(ce.el=ye.el,k(W,ce,fe)),Pe.asyncDep.then(()=>{W.isUnmounted||ge()});return}}let De=ce,Ge;Pd(W,!1),ce?(ce.el=ye.el,k(W,ce,fe)):ce=ye,Ee&&fC(Ee),(Ge=ce.props&&ce.props.onVnodeBeforeUpdate)&&Xa(Ge,re,ce,ye),Pd(W,!0);const ft=v3(W),Te=W.subTree;W.subTree=ft,b(Te,ft,f(Te.el),ne(Te),W,pe,Se),ce.el=ft.el,De===null&&Vte(W,ft.el),de&&bo(de,pe),(Ge=ce.props&&ce.props.onVnodeUpdated)&&bo(()=>Xa(Ge,re,ce,ye),pe)}else{let ce;const{el:Ee,props:de}=X,{bm:re,m:ye,parent:De,root:Ge,type:ft}=W,Te=lv(X);Pd(W,!1),re&&fC(re),!Te&&(ce=de&&de.onVnodeBeforeMount)&&Xa(ce,De,X),Pd(W,!0);{Ge.ce&&Ge.ce._injectChildStyle(ft);const Pe=W.subTree=v3(W);b(null,Pe,V,Ce,W,pe,Se),X.el=Pe.el}if(ye&&bo(ye,pe),!Te&&(ce=de&&de.onVnodeMounted)){const Pe=X;bo(()=>Xa(ce,De,Pe),pe)}(X.shapeFlag&256||De&&lv(De.vnode)&&De.vnode.shapeFlag&256)&&W.a&&bo(W.a,pe),W.isMounted=!0,X=V=Ce=null}};W.scope.on();const ve=W.effect=new g5(ge);W.scope.off();const j=W.update=ve.run.bind(ve),G=W.job=ve.runIfDirty.bind(ve);G.i=W,G.id=W.uid,ve.scheduler=()=>uR(G),Pd(W,!0),j()},k=(W,X,V)=>{X.component=W;const Ce=W.vnode.props;W.vnode=X,W.next=null,Ete(W,X.props,Ce,V),Ite(W,X.children,V),ld(),o3(W),ud()},H=(W,X,V,Ce,pe,Se,fe,ge,ve=!1)=>{const j=W&&W.children,G=W?W.shapeFlag:0,ce=X.children,{patchFlag:Ee,shapeFlag:de}=X;if(Ee>0){if(Ee&128){Q(j,ce,V,Ce,pe,Se,fe,ge,ve);return}else if(Ee&256){z(j,ce,V,Ce,pe,Se,fe,ge,ve);return}}de&8?(G&16&&ee(j,pe,Se),ce!==j&&d(V,ce)):G&16?de&16?Q(j,ce,V,Ce,pe,Se,fe,ge,ve):ee(j,pe,Se,!0):(G&8&&d(V,""),de&16&&R(ce,V,Ce,pe,Se,fe,ge,ve))},z=(W,X,V,Ce,pe,Se,fe,ge,ve)=>{W=W||vp,X=X||vp;const j=W.length,G=X.length,ce=Math.min(j,G);let Ee;for(Ee=0;Ee<ce;Ee++){const de=X[Ee]=ve?Lc(X[Ee]):rl(X[Ee]);b(W[Ee],de,V,null,pe,Se,fe,ge,ve)}j>G?ee(W,pe,Se,!0,!1,ce):R(X,V,Ce,pe,Se,fe,ge,ve,ce)},Q=(W,X,V,Ce,pe,Se,fe,ge,ve)=>{let j=0;const G=X.length;let ce=W.length-1,Ee=G-1;for(;j<=ce&&j<=Ee;){const de=W[j],re=X[j]=ve?Lc(X[j]):rl(X[j]);if(Qd(de,re))b(de,re,V,null,pe,Se,fe,ge,ve);else break;j++}for(;j<=ce&&j<=Ee;){const de=W[ce],re=X[Ee]=ve?Lc(X[Ee]):rl(X[Ee]);if(Qd(de,re))b(de,re,V,null,pe,Se,fe,ge,ve);else break;ce--,Ee--}if(j>ce){if(j<=Ee){const de=Ee+1,re=de<G?X[de].el:Ce;for(;j<=Ee;)b(null,X[j]=ve?Lc(X[j]):rl(X[j]),V,re,pe,Se,fe,ge,ve),j++}}else if(j>Ee)for(;j<=ce;)ie(W[j],pe,Se,!0),j++;else{const de=j,re=j,ye=new Map;for(j=re;j<=Ee;j++){const je=X[j]=ve?Lc(X[j]):rl(X[j]);je.key!=null&&ye.set(je.key,j)}let De,Ge=0;const ft=Ee-re+1;let Te=!1,Pe=0;const Ue=new Array(ft);for(j=0;j<ft;j++)Ue[j]=0;for(j=de;j<=ce;j++){const je=W[j];if(Ge>=ft){ie(je,pe,Se,!0);continue}let lt;if(je.key!=null)lt=ye.get(je.key);else for(De=re;De<=Ee;De++)if(Ue[De-re]===0&&Qd(je,X[De])){lt=De;break}lt===void 0?ie(je,pe,Se,!0):(Ue[lt-re]=j+1,lt>=Pe?Pe=lt:Te=!0,b(je,X[lt],V,null,pe,Se,fe,ge,ve),Ge++)}const qe=Te?Lte(Ue):vp;for(De=qe.length-1,j=ft-1;j>=0;j--){const je=re+j,lt=X[je],rt=je+1<G?X[je+1].el:Ce;Ue[j]===0?b(null,lt,V,rt,pe,Se,fe,ge,ve):Te&&(De<0||j!==qe[De]?Z(lt,V,rt,2):De--)}}},Z=(W,X,V,Ce,pe=null)=>{const{el:Se,type:fe,transition:ge,children:ve,shapeFlag:j}=W;if(j&6){Z(W.component.subTree,X,V,Ce);return}if(j&128){W.suspense.move(X,V,Ce);return}if(j&64){fe.move(W,X,V,le);return}if(fe===mn){r(Se,X,V);for(let ce=0;ce<ve.length;ce++)Z(ve[ce],X,V,Ce);r(W.anchor,X,V);return}if(fe===xC){S(W,X,V);return}if(Ce!==2&&j&1&&ge)if(Ce===0)ge.beforeEnter(Se),r(Se,X,V),bo(()=>ge.enter(Se),pe);else{const{leave:ce,delayLeave:Ee,afterLeave:de}=ge,re=()=>r(Se,X,V),ye=()=>{ce(Se,()=>{re(),de&&de()})};Ee?Ee(Se,re,ye):ye()}else r(Se,X,V)},ie=(W,X,V,Ce=!1,pe=!1)=>{const{type:Se,props:fe,ref:ge,children:ve,dynamicChildren:j,shapeFlag:G,patchFlag:ce,dirs:Ee,cacheIndex:de}=W;if(ce===-2&&(pe=!1),ge!=null&&v_(ge,null,V,W,!0),de!=null&&(X.renderCache[de]=void 0),G&256){X.ctx.deactivate(W);return}const re=G&1&&Ee,ye=!lv(W);let De;if(ye&&(De=fe&&fe.onVnodeBeforeUnmount)&&Xa(De,X,W),G&6)se(W.component,V,Ce);else{if(G&128){W.suspense.unmount(V,Ce);return}re&&Rd(W,null,X,"beforeUnmount"),G&64?W.type.remove(W,X,V,le,Ce):j&&!j.hasOnce&&(Se!==mn||ce>0&&ce&64)?ee(j,X,V,!1,!0):(Se===mn&&ce&384||!pe&&G&16)&&ee(ve,X,V),Ce&&we(W)}(ye&&(De=fe&&fe.onVnodeUnmounted)||re)&&bo(()=>{De&&Xa(De,X,W),re&&Rd(W,null,X,"unmounted")},V)},we=W=>{const{type:X,el:V,anchor:Ce,transition:pe}=W;if(X===mn){J(V,Ce);return}if(X===xC){w(W);return}const Se=()=>{o(V),pe&&!pe.persisted&&pe.afterLeave&&pe.afterLeave()};if(W.shapeFlag&1&&pe&&!pe.persisted){const{leave:fe,delayLeave:ge}=pe,ve=()=>fe(V,Se);ge?ge(W.el,Se,ve):ve()}else Se()},J=(W,X)=>{let V;for(;W!==X;)V=h(W),o(W),W=V;o(X)},se=(W,X,V)=>{const{bum:Ce,scope:pe,job:Se,subTree:fe,um:ge,m:ve,a:j}=W;m3(ve),m3(j),Ce&&fC(Ce),pe.stop(),Se&&(Se.flags|=8,ie(fe,W,X,V)),ge&&bo(ge,X),bo(()=>{W.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&W.asyncDep&&!W.asyncResolved&&W.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},ee=(W,X,V,Ce=!1,pe=!1,Se=0)=>{for(let fe=Se;fe<W.length;fe++)ie(W[fe],X,V,Ce,pe)},ne=W=>{if(W.shapeFlag&6)return ne(W.component.subTree);if(W.shapeFlag&128)return W.suspense.next();const X=h(W.anchor||W.el),V=X&&X[$5];return V?h(V):X};let ue=!1;const Y=(W,X,V)=>{W==null?X._vnode&&ie(X._vnode,null,null,!0):b(X._vnode||null,W,X,null,null,null,V),X._vnode=W,ue||(ue=!0,o3(),L5(),ue=!1)},le={p:b,um:ie,m:Z,r:we,mt:L,mc:R,pc:H,pbc:P,n:ne,o:n};return{render:Y,hydrate:void 0,createApp:Cte(Y)}}function bC({type:n,props:e},i){return i==="svg"&&n==="foreignObject"||i==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function Pd({effect:n,job:e},i){i?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function Dte(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function pR(n,e,i=!1){const r=n.children,o=e.children;if(Wt(r)&&Wt(o))for(let s=0;s<r.length;s++){const a=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Lc(o[s]),l.el=a.el),!i&&l.patchFlag!==-2&&pR(a,l)),l.type===Xf&&(l.el=a.el)}}function Lte(n){const e=n.slice(),i=[0];let r,o,s,a,l;const u=n.length;for(r=0;r<u;r++){const c=n[r];if(c!==0){if(o=i[i.length-1],n[o]<c){e[r]=o,i.push(r);continue}for(s=0,a=i.length-1;s<a;)l=s+a>>1,n[i[l]]<c?s=l+1:a=l;c<n[i[s]]&&(s>0&&(e[r]=i[s-1]),i[s]=r)}}for(s=i.length,a=i[s-1];s-- >0;)i[s]=a,a=e[a];return i}function u6(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:u6(e)}function m3(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const Bte=Symbol.for("v-scx"),Fte=()=>Xt(Bte);function an(n,e){return gR(n,null,e)}function ut(n,e,i){return gR(n,e,i)}function gR(n,e,i=ai){const{immediate:r,deep:o,flush:s,once:a}=i,l=wr({},i),u=e&&r||!e&&s!=="post";let c;if(Bv){if(s==="sync"){const p=Fte();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!u){const p=()=>{};return p.stop=fl,p.resume=fl,p.pause=fl,p}}const d=Or;l.call=(p,v,b)=>Fa(p,d,v,b);let f=!1;s==="post"?l.scheduler=p=>{bo(p,d&&d.suspense)}:s!=="sync"&&(f=!0,l.scheduler=(p,v)=>{v?p():uR(p)}),l.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const h=Jee(n,e,l);return Bv&&(c?c.push(h):u&&h()),h}function $te(n,e,i){const r=this.proxy,o=ji(n)?n.includes(".")?c6(r,n):()=>r[n]:n.bind(r,r);let s;sn(e)?s=e:(s=e.handler,i=e);const a=Iy(this),l=gR(o,s.bind(r),i);return a(),l}function c6(n,e){const i=e.split(".");return()=>{let r=n;for(let o=0;o<i.length&&r;o++)r=r[i[o]];return r}}const Ute=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${ml(e)}Modifiers`]||n[`${Kf(e)}Modifiers`];function kte(n,e,...i){if(n.isUnmounted)return;const r=n.vnode.props||ai;let o=i;const s=e.startsWith("update:"),a=s&&Ute(r,e.slice(7));a&&(a.trim&&(o=i.map(d=>ji(d)?d.trim():d)),a.number&&(o=i.map(mee)));let l,u=r[l=dC(e)]||r[l=dC(ml(e))];!u&&s&&(u=r[l=dC(Kf(e))]),u&&Fa(u,n,6,o);const c=r[l+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,Fa(c,n,6,o)}}function d6(n,e,i=!1){const r=e.emitsCache,o=r.get(n);if(o!==void 0)return o;const s=n.emits;let a={},l=!1;if(!sn(n)){const u=c=>{const d=d6(c,e,!0);d&&(l=!0,wr(a,d))};!i&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!s&&!l?(hi(n)&&r.set(n,null),null):(Wt(s)?s.forEach(u=>a[u]=null):wr(a,s),hi(n)&&r.set(n,a),a)}function FS(n,e){return!n||!RS(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qn(n,e[0].toLowerCase()+e.slice(1))||Qn(n,Kf(e))||Qn(n,e))}function v3(n){const{type:e,vnode:i,proxy:r,withProxy:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:c,renderCache:d,props:f,data:h,setupState:p,ctx:v,inheritAttrs:b}=n,y=m_(n);let m,_;try{if(i.shapeFlag&4){const w=o||r,T=w;m=rl(c.call(T,w,d,f,p,h,v)),_=l}else{const w=e;m=rl(w.length>1?w(f,{attrs:l,slots:a,emit:u}):w(f,null)),_=e.props?l:zte(l)}}catch(w){cv.length=0,DS(w,n,1),m=I(oo)}let S=m;if(_&&b!==!1){const w=Object.keys(_),{shapeFlag:T}=S;w.length&&T&7&&(s&&w.some(q2)&&(_=Hte(_,s)),S=ts(S,_,!1,!0))}return i.dirs&&(S=ts(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(i.dirs):i.dirs),i.transition&&Pf(S,i.transition),m=S,m_(y),m}const zte=n=>{let e;for(const i in n)(i==="class"||i==="style"||RS(i))&&((e||(e={}))[i]=n[i]);return e},Hte=(n,e)=>{const i={};for(const r in n)(!q2(r)||!(r.slice(9)in e))&&(i[r]=n[r]);return i};function Gte(n,e,i){const{props:r,children:o,component:s}=n,{props:a,children:l,patchFlag:u}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&u>=0){if(u&1024)return!0;if(u&16)return r?y3(r,a,c):!!a;if(u&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(a[h]!==r[h]&&!FS(c,h))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?y3(r,a,c):!0:!!a;return!1}function y3(n,e,i){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(e[s]!==n[s]&&!FS(i,s))return!0}return!1}function Vte({vnode:n,parent:e},i){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=i,e=e.parent;else break}}const f6=n=>n.__isSuspense;function Wte(n,e){e&&e.pendingBranch?Wt(n)?e.effects.push(...n):e.effects.push(n):nte(n)}const mn=Symbol.for("v-fgt"),Xf=Symbol.for("v-txt"),oo=Symbol.for("v-cmt"),xC=Symbol.for("v-stc"),cv=[];let As=null;function ti(n=!1){cv.push(As=n?null:[])}function jte(){cv.pop(),As=cv[cv.length-1]||null}let Lv=1;function b3(n,e=!1){Lv+=n,n<0&&As&&e&&(As.hasOnce=!0)}function h6(n){return n.dynamicChildren=Lv>0?As||vp:null,jte(),Lv>0&&As&&As.push(n),n}function $i(n,e,i,r,o,s){return h6(An(n,e,i,r,o,s,!0))}function rp(n,e,i,r,o){return h6(I(n,e,i,r,o,!0))}function Sr(n){return n?n.__v_isVNode===!0:!1}function Qd(n,e){return n.type===e.type&&n.key===e.key}const p6=({key:n})=>n??null,Ix=({ref:n,ref_key:e,ref_for:i})=>(typeof n=="number"&&(n=""+n),n!=null?ji(n)||Hi(n)||sn(n)?{i:Mo,r:n,k:e,f:!!i}:n:null);function An(n,e=null,i=null,r=0,o=null,s=n===mn?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&p6(e),ref:e&&Ix(e),scopeId:F5,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Mo};return l?(mR(u,i),s&128&&n.normalize(u)):i&&(u.shapeFlag|=ji(i)?8:16),Lv>0&&!a&&As&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&As.push(u),u}const I=Kte;function Kte(n,e=null,i=null,r=0,o=null,s=!1){if((!n||n===hte)&&(n=oo),Sr(n)){const l=ts(n,e,!0);return i&&mR(l,i),Lv>0&&!s&&As&&(l.shapeFlag&6?As[As.indexOf(n)]=l:As.push(l)),l.patchFlag=-2,l}if(ine(n)&&(n=n.__vccOpts),e){e=Xte(e);let{class:l,style:u}=e;l&&!ji(l)&&(e.class=eR(l)),hi(u)&&(aR(u)&&!Wt(u)&&(u=wr({},u)),e.style=J2(u))}const a=ji(n)?1:f6(n)?128:U5(n)?64:hi(n)?4:sn(n)?2:0;return An(n,e,i,r,o,a,s,!0)}function Xte(n){return n?aR(n)||n6(n)?wr({},n):n:null}function ts(n,e,i=!1,r=!1){const{props:o,ref:s,patchFlag:a,children:l,transition:u}=n,c=e?qte(o||{},e):o,d={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&p6(c),ref:e&&e.ref?i&&s?Wt(s)?s.concat(Ix(e)):[s,Ix(e)]:Ix(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==mn?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:u,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ts(n.ssContent),ssFallback:n.ssFallback&&ts(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return u&&r&&Pf(d,u.clone(d)),d}function Ji(n=" ",e=0){return I(Xf,null,n,e)}function Fi(n="",e=!1){return e?(ti(),rp(oo,null,n)):I(oo,null,n)}function rl(n){return n==null||typeof n=="boolean"?I(oo):Wt(n)?I(mn,null,n.slice()):Sr(n)?Lc(n):I(Xf,null,String(n))}function Lc(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ts(n)}function mR(n,e){let i=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(Wt(e))i=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),mR(n,o()),o._c&&(o._d=!0));return}else{i=32;const o=e._;!o&&!n6(e)?e._ctx=Mo:o===3&&Mo&&(Mo.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else sn(e)?(e={default:e,_ctx:Mo},i=32):(e=String(e),r&64?(i=16,e=[Ji(e)]):i=8);n.children=e,n.shapeFlag|=i}function qte(...n){const e={};for(let i=0;i<n.length;i++){const r=n[i];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=eR([e.class,r.class]));else if(o==="style")e.style=J2([e.style,r.style]);else if(RS(o)){const s=e[o],a=r[o];a&&s!==a&&!(Wt(s)&&s.includes(a))&&(e[o]=s?[].concat(s,a):a)}else o!==""&&(e[o]=r[o])}return e}function Xa(n,e,i,r=null){Fa(n,e,7,[i,r])}const Yte=J5();let Qte=0;function Zte(n,e,i){const r=n.type,o=(e?e.appContext:n.appContext)||Yte,s={uid:Qte++,vnode:n,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new f5(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:r6(r,o),emitsOptions:d6(r,o),emit:null,emitted:null,propsDefaults:ai,inheritAttrs:r.inheritAttrs,ctx:ai,data:ai,props:ai,attrs:ai,slots:ai,refs:ai,setupState:ai,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=kte.bind(null,s),n.ce&&n.ce(s),s}let Or=null;const is=()=>Or||Mo;let b_,EE;{const n=NS(),e=(i,r)=>{let o;return(o=n[i])||(o=n[i]=[]),o.push(r),s=>{o.length>1?o.forEach(a=>a(s)):o[0](s)}};b_=e("__VUE_INSTANCE_SETTERS__",i=>Or=i),EE=e("__VUE_SSR_SETTERS__",i=>Bv=i)}const Iy=n=>{const e=Or;return b_(n),n.scope.on(),()=>{n.scope.off(),b_(e)}},x3=()=>{Or&&Or.scope.off(),b_(null)};function g6(n){return n.vnode.shapeFlag&4}let Bv=!1;function Jte(n,e=!1,i=!1){e&&EE(e);const{props:r,children:o}=n.vnode,s=g6(n);Ate(n,r,s,e),Pte(n,o,i);const a=s?ene(n,e):void 0;return e&&EE(!1),a}function ene(n,e){const i=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,vte);const{setup:r}=i;if(r){ld();const o=n.setupContext=r.length>1?nne(n):null,s=Iy(n),a=Py(r,n,0,[n.props,o]),l=o5(a);if(ud(),s(),(l||n.sp)&&!lv(n)&&X5(n),l){if(a.then(x3,x3),e)return a.then(u=>{_3(n,u)}).catch(u=>{DS(u,n,0)});n.asyncDep=a}else _3(n,a)}else m6(n)}function _3(n,e,i){sn(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:hi(e)&&(n.setupState=I5(e)),m6(n)}function m6(n,e,i){const r=n.type;n.render||(n.render=r.render||fl);{const o=Iy(n);ld();try{yte(n)}finally{ud(),o()}}}const tne={get(n,e){return no(n,"get",""),n[e]}};function nne(n){const e=i=>{n.exposed=i||{}};return{attrs:new Proxy(n.attrs,tne),slots:n.slots,emit:n.emit,expose:e}}function $S(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(I5(lR(n.exposed)),{get(e,i){if(i in e)return e[i];if(i in uv)return uv[i](n)},has(e,i){return i in e||i in uv}})):n.proxy}function ine(n){return sn(n)&&"__vccOpts"in n}const K=(n,e)=>Qee(n,e,Bv);function Fu(n,e,i){const r=arguments.length;return r===2?hi(e)&&!Wt(e)?Sr(e)?I(n,null,[e]):I(n,e):I(n,null,e):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&Sr(i)&&(i=[i]),I(n,e,i))}const rne="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ME;const S3=typeof window<"u"&&window.trustedTypes;if(S3)try{ME=S3.createPolicy("vue",{createHTML:n=>n})}catch{}const v6=ME?n=>ME.createHTML(n):n=>n,one="http://www.w3.org/2000/svg",sne="http://www.w3.org/1998/Math/MathML",cu=typeof document<"u"?document:null,w3=cu&&cu.createElement("template"),ane={insert:(n,e,i)=>{e.insertBefore(n,i||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,i,r)=>{const o=e==="svg"?cu.createElementNS(one,n):e==="mathml"?cu.createElementNS(sne,n):i?cu.createElement(n,{is:i}):cu.createElement(n);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>cu.createTextNode(n),createComment:n=>cu.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>cu.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,i,r,o,s){const a=i?i.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),i),!(o===s||!(o=o.nextSibling)););else{w3.innerHTML=v6(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const l=w3.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,i)}return[a?a.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},vc="transition",om="animation",Up=Symbol("_vtc"),y6={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},b6=wr({},V5,y6),lne=n=>(n.displayName="Transition",n.props=b6,n),$a=lne((n,{slots:e})=>Fu(ote,x6(n),e)),Id=(n,e=[])=>{Wt(n)?n.forEach(i=>i(...e)):n&&n(...e)},C3=n=>n?Wt(n)?n.some(e=>e.length>1):n.length>1:!1;function x6(n){const e={};for(const D in n)D in y6||(e[D]=n[D]);if(n.css===!1)return e;const{name:i="v",type:r,duration:o,enterFromClass:s=`${i}-enter-from`,enterActiveClass:a=`${i}-enter-active`,enterToClass:l=`${i}-enter-to`,appearFromClass:u=s,appearActiveClass:c=a,appearToClass:d=l,leaveFromClass:f=`${i}-leave-from`,leaveActiveClass:h=`${i}-leave-active`,leaveToClass:p=`${i}-leave-to`}=n,v=une(o),b=v&&v[0],y=v&&v[1],{onBeforeEnter:m,onEnter:_,onEnterCancelled:S,onLeave:w,onLeaveCancelled:T,onBeforeAppear:A=m,onAppear:C=_,onAppearCancelled:R=S}=e,E=(D,$,L,F)=>{D._enterCancelled=F,Ic(D,$?d:l),Ic(D,$?c:a),L&&L()},P=(D,$)=>{D._isLeaving=!1,Ic(D,f),Ic(D,p),Ic(D,h),$&&$()},N=D=>($,L)=>{const F=D?C:_,U=()=>E($,D,L);Id(F,[$,U]),T3(()=>{Ic($,D?u:s),qa($,D?d:l),C3(F)||A3($,r,b,U)})};return wr(e,{onBeforeEnter(D){Id(m,[D]),qa(D,s),qa(D,a)},onBeforeAppear(D){Id(A,[D]),qa(D,u),qa(D,c)},onEnter:N(!1),onAppear:N(!0),onLeave(D,$){D._isLeaving=!0;const L=()=>P(D,$);qa(D,f),D._enterCancelled?(qa(D,h),RE()):(RE(),qa(D,h)),T3(()=>{D._isLeaving&&(Ic(D,f),qa(D,p),C3(w)||A3(D,r,y,L))}),Id(w,[D,L])},onEnterCancelled(D){E(D,!1,void 0,!0),Id(S,[D])},onAppearCancelled(D){E(D,!0,void 0,!0),Id(R,[D])},onLeaveCancelled(D){P(D),Id(T,[D])}})}function une(n){if(n==null)return null;if(hi(n))return[_C(n.enter),_C(n.leave)];{const e=_C(n);return[e,e]}}function _C(n){return vee(n)}function qa(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.add(i)),(n[Up]||(n[Up]=new Set)).add(e)}function Ic(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const i=n[Up];i&&(i.delete(e),i.size||(n[Up]=void 0))}function T3(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let cne=0;function A3(n,e,i,r){const o=n._endId=++cne,s=()=>{o===n._endId&&r()};if(i!=null)return setTimeout(s,i);const{type:a,timeout:l,propCount:u}=_6(n,e);if(!a)return r();const c=a+"end";let d=0;const f=()=>{n.removeEventListener(c,h),s()},h=p=>{p.target===n&&++d>=u&&f()};setTimeout(()=>{d<u&&f()},l+1),n.addEventListener(c,h)}function _6(n,e){const i=window.getComputedStyle(n),r=v=>(i[v]||"").split(", "),o=r(`${vc}Delay`),s=r(`${vc}Duration`),a=E3(o,s),l=r(`${om}Delay`),u=r(`${om}Duration`),c=E3(l,u);let d=null,f=0,h=0;e===vc?a>0&&(d=vc,f=a,h=s.length):e===om?c>0&&(d=om,f=c,h=u.length):(f=Math.max(a,c),d=f>0?a>c?vc:om:null,h=d?d===vc?s.length:u.length:0);const p=d===vc&&/\b(transform|all)(,|$)/.test(r(`${vc}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:p}}function E3(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((i,r)=>M3(i)+M3(n[r])))}function M3(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function RE(){return document.body.offsetHeight}function dne(n,e,i){const r=n[Up];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):i?n.setAttribute("class",e):n.className=e}const x_=Symbol("_vod"),S6=Symbol("_vsh"),Vo={beforeMount(n,{value:e},{transition:i}){n[x_]=n.style.display==="none"?"":n.style.display,i&&e?i.beforeEnter(n):sm(n,e)},mounted(n,{value:e},{transition:i}){i&&e&&i.enter(n)},updated(n,{value:e,oldValue:i},{transition:r}){!e!=!i&&(r?e?(r.beforeEnter(n),sm(n,!0),r.enter(n)):r.leave(n,()=>{sm(n,!1)}):sm(n,e))},beforeUnmount(n,{value:e}){sm(n,e)}};function sm(n,e){n.style.display=e?n[x_]:"none",n[S6]=!e}const fne=Symbol(""),hne=/(^|;)\s*display\s*:/;function pne(n,e,i){const r=n.style,o=ji(i);let s=!1;if(i&&!o){if(e)if(ji(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();i[l]==null&&Nx(r,l,"")}else for(const a in e)i[a]==null&&Nx(r,a,"");for(const a in i)a==="display"&&(s=!0),Nx(r,a,i[a])}else if(o){if(e!==i){const a=r[fne];a&&(i+=";"+a),r.cssText=i,s=hne.test(i)}}else e&&n.removeAttribute("style");x_ in n&&(n[x_]=s?r.display:"",n[S6]&&(r.display="none"))}const R3=/\s*!important$/;function Nx(n,e,i){if(Wt(i))i.forEach(r=>Nx(n,e,r));else if(i==null&&(i=""),e.startsWith("--"))n.setProperty(e,i);else{const r=gne(n,e);R3.test(i)?n.setProperty(Kf(r),i.replace(R3,""),"important"):n[r]=i}}const P3=["Webkit","Moz","ms"],SC={};function gne(n,e){const i=SC[e];if(i)return i;let r=ml(e);if(r!=="filter"&&r in n)return SC[e]=r;r=Z2(r);for(let o=0;o<P3.length;o++){const s=P3[o]+r;if(s in n)return SC[e]=s}return e}const I3="http://www.w3.org/1999/xlink";function N3(n,e,i,r,o,s=wee(e)){r&&e.startsWith("xlink:")?i==null?n.removeAttributeNS(I3,e.slice(6,e.length)):n.setAttributeNS(I3,e,i):i==null||s&&!u5(i)?n.removeAttribute(e):n.setAttribute(e,s?"":ad(i)?String(i):i)}function O3(n,e,i,r,o){if(e==="innerHTML"||e==="textContent"){i!=null&&(n[e]=e==="innerHTML"?v6(i):i);return}const s=n.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?n.getAttribute("value")||"":n.value,u=i==null?n.type==="checkbox"?"on":"":String(i);(l!==u||!("_value"in n))&&(n.value=u),i==null&&n.removeAttribute(e),n._value=i;return}let a=!1;if(i===""||i==null){const l=typeof n[e];l==="boolean"?i=u5(i):i==null&&l==="string"?(i="",a=!0):l==="number"&&(i=0,a=!0)}try{n[e]=i}catch{}a&&n.removeAttribute(o||e)}function mne(n,e,i,r){n.addEventListener(e,i,r)}function vne(n,e,i,r){n.removeEventListener(e,i,r)}const D3=Symbol("_vei");function yne(n,e,i,r,o=null){const s=n[D3]||(n[D3]={}),a=s[e];if(r&&a)a.value=r;else{const[l,u]=bne(e);if(r){const c=s[e]=Sne(r,o);mne(n,l,c,u)}else a&&(vne(n,l,a,u),s[e]=void 0)}}const L3=/(?:Once|Passive|Capture)$/;function bne(n){let e;if(L3.test(n)){e={};let r;for(;r=n.match(L3);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Kf(n.slice(2)),e]}let wC=0;const xne=Promise.resolve(),_ne=()=>wC||(xne.then(()=>wC=0),wC=Date.now());function Sne(n,e){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;Fa(wne(r,i.value),e,5,[r])};return i.value=n,i.attached=_ne(),i}function wne(n,e){if(Wt(e)){const i=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{i.call(n),n._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const B3=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Cne=(n,e,i,r,o,s)=>{const a=o==="svg";e==="class"?dne(n,r,a):e==="style"?pne(n,i,r):RS(e)?q2(e)||yne(n,e,i,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Tne(n,e,r,a))?(O3(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&N3(n,e,r,a,s,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!ji(r))?O3(n,ml(e),r,s,e):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),N3(n,e,r,a))};function Tne(n,e,i,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&B3(e)&&sn(i));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=n.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return B3(e)&&ji(i)?!1:e in n}const w6=new WeakMap,C6=new WeakMap,__=Symbol("_moveCb"),F3=Symbol("_enterCb"),Ane=n=>(delete n.props.mode,n),Ene=Ane({name:"TransitionGroup",props:wr({},b6,{tag:String,moveClass:String}),setup(n,{slots:e}){const i=is(),r=G5();let o,s;return fa(()=>{if(!o.length)return;const a=n.moveClass||`${n.name||"v"}-move`;if(!Nne(o[0].el,i.vnode.el,a))return;o.forEach(Rne),o.forEach(Pne);const l=o.filter(Ine);RE(),l.forEach(u=>{const c=u.el,d=c.style;qa(c,a),d.transform=d.webkitTransform=d.transitionDuration="";const f=c[__]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",f),c[__]=null,Ic(c,a))};c.addEventListener("transitionend",f)})}),()=>{const a=hn(n),l=x6(a);let u=a.tag||mn;if(o=[],s)for(let c=0;c<s.length;c++){const d=s[c];d.el&&d.el instanceof Element&&(o.push(d),Pf(d,Dv(d,l,r,i)),w6.set(d,d.el.getBoundingClientRect()))}s=e.default?cR(e.default()):[];for(let c=0;c<s.length;c++){const d=s[c];d.key!=null&&Pf(d,Dv(d,l,r,i))}return I(u,null,s)}}}),Mne=Ene;function Rne(n){const e=n.el;e[__]&&e[__](),e[F3]&&e[F3]()}function Pne(n){C6.set(n,n.el.getBoundingClientRect())}function Ine(n){const e=w6.get(n),i=C6.get(n),r=e.left-i.left,o=e.top-i.top;if(r||o){const s=n.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${o}px)`,s.transitionDuration="0s",n}}function Nne(n,e,i){const r=n.cloneNode(),o=n[Up];o&&o.forEach(l=>{l.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),i.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:a}=_6(r);return s.removeChild(r),a}const One=["ctrl","shift","alt","meta"],Dne={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>One.some(i=>n[`${i}Key`]&&!e.includes(i))},$3=(n,e)=>{const i=n._withMods||(n._withMods={}),r=e.join(".");return i[r]||(i[r]=(o,...s)=>{for(let a=0;a<e.length;a++){const l=Dne[e[a]];if(l&&l(o,e))return}return n(o,...s)})},Lne=wr({patchProp:Cne},ane);let U3;function T6(){return U3||(U3=Nte(Lne))}const PE=(...n)=>{T6().render(...n)},Bne=(...n)=>{const e=T6().createApp(...n),{mount:i}=e;return e.mount=r=>{const o=$ne(r);if(!o)return;const s=e._component;!sn(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=i(o,!1,Fne(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function Fne(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function $ne(n){return ji(n)?document.querySelector(n):n}function Fv(n){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(n)}function Une(n,e){if(Fv(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(Fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kne(n){var e=Une(n,"string");return Fv(e)=="symbol"?e:e+""}function zne(n,e,i){return(e=kne(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function k3(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function be(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(i),!0).forEach(function(r){zne(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):k3(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function O(){return O=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},O.apply(null,arguments)}const Hne=n=>typeof n=="function",Gne=Array.isArray,Vne=n=>typeof n=="string",Wne=n=>n!==null&&typeof n=="object",jne=/^on[^a-z]/,Kne=n=>jne.test(n),vR=n=>{const e=Object.create(null);return i=>e[i]||(e[i]=n(i))},Xne=/-(\w)/g,Ny=vR(n=>n.replace(Xne,(e,i)=>i?i.toUpperCase():"")),qne=/\B([A-Z])/g,Yne=vR(n=>n.replace(qne,"-$1").toLowerCase()),Qne=vR(n=>n.charAt(0).toUpperCase()+n.slice(1)),Zne=Object.prototype.hasOwnProperty,z3=(n,e)=>Zne.call(n,e);function Jne(n,e,i,r){const o=n[i];if(o!=null){const s=z3(o,"default");if(s&&r===void 0){const a=o.default;r=o.type!==Function&&Hne(a)?a():a}o.type===Boolean&&(!z3(e,i)&&!s?r=!1:r===""&&(r=!0))}return r}function Zd(n){return typeof n=="number"?`${n}px`:n}function Ye(){const n=[];for(let e=0;e<arguments.length;e++){const i=e<0||arguments.length<=e?void 0:arguments[e];if(i){if(Vne(i))n.push(i);else if(Gne(i))for(let r=0;r<i.length;r++){const o=Ye(i[r]);o&&n.push(o)}else if(Wne(i))for(const r in i)i[r]&&n.push(r)}}return n.join(" ")}var A6=function(){if(typeof Map<"u")return Map;function n(e,i){var r=-1;return e.some(function(o,s){return o[0]===i?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(i){var r=n(this.__entries__,i),o=this.__entries__[r];return o&&o[1]},e.prototype.set=function(i,r){var o=n(this.__entries__,i);~o?this.__entries__[o][1]=r:this.__entries__.push([i,r])},e.prototype.delete=function(i){var r=this.__entries__,o=n(r,i);~o&&r.splice(o,1)},e.prototype.has=function(i){return!!~n(this.__entries__,i)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(i,r){r===void 0&&(r=null);for(var o=0,s=this.__entries__;o<s.length;o++){var a=s[o];i.call(r,a[1],a[0])}},e}()}(),IE=typeof window<"u"&&typeof document<"u"&&window.document===document,S_=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),eie=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(S_):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),tie=2;function nie(n,e){var i=!1,r=!1,o=0;function s(){i&&(i=!1,n()),r&&l()}function a(){eie(s)}function l(){var u=Date.now();if(i){if(u-o<tie)return;r=!0}else i=!0,r=!1,setTimeout(a,e);o=u}return l}var iie=20,rie=["top","right","bottom","left","width","height","size","weight"],oie=typeof MutationObserver<"u",sie=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=nie(this.refresh.bind(this),iie)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var i=this.observers_,r=i.indexOf(e);~r&&i.splice(r,1),!i.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(i){return i.gatherActive(),i.hasActive()});return e.forEach(function(i){return i.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!IE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),oie?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!IE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var i=e.propertyName,r=i===void 0?"":i,o=rie.some(function(s){return!!~r.indexOf(s)});o&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),E6=function(n,e){for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},kp=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||S_},M6=US(0,0,0,0);function w_(n){return parseFloat(n)||0}function H3(n){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(r,o){var s=n["border-"+o+"-width"];return r+w_(s)},0)}function aie(n){for(var e=["top","right","bottom","left"],i={},r=0,o=e;r<o.length;r++){var s=o[r],a=n["padding-"+s];i[s]=w_(a)}return i}function lie(n){var e=n.getBBox();return US(0,0,e.width,e.height)}function uie(n){var e=n.clientWidth,i=n.clientHeight;if(!e&&!i)return M6;var r=kp(n).getComputedStyle(n),o=aie(r),s=o.left+o.right,a=o.top+o.bottom,l=w_(r.width),u=w_(r.height);if(r.boxSizing==="border-box"&&(Math.round(l+s)!==e&&(l-=H3(r,"left","right")+s),Math.round(u+a)!==i&&(u-=H3(r,"top","bottom")+a)),!die(n)){var c=Math.round(l+s)-e,d=Math.round(u+a)-i;Math.abs(c)!==1&&(l-=c),Math.abs(d)!==1&&(u-=d)}return US(o.left,o.top,l,u)}var cie=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof kp(n).SVGGraphicsElement}:function(n){return n instanceof kp(n).SVGElement&&typeof n.getBBox=="function"}}();function die(n){return n===kp(n).document.documentElement}function fie(n){return IE?cie(n)?lie(n):uie(n):M6}function hie(n){var e=n.x,i=n.y,r=n.width,o=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return E6(a,{x:e,y:i,width:r,height:o,top:i,right:e+r,bottom:o+i,left:e}),a}function US(n,e,i,r){return{x:n,y:e,width:i,height:r}}var pie=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=US(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=fie(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),gie=function(){function n(e,i){var r=hie(i);E6(this,{target:e,contentRect:r})}return n}(),mie=function(){function n(e,i,r){if(this.activeObservations_=[],this.observations_=new A6,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=i,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof kp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(e)||(i.set(e,new pie(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof kp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(e)&&(i.delete(e),i.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(i){i.isActive()&&e.activeObservations_.push(i)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,i=this.activeObservations_.map(function(r){return new gie(r.target,r.broadcastRect())});this.callback_.call(e,i,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),R6=typeof WeakMap<"u"?new WeakMap:new A6,P6=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=sie.getInstance(),r=new mie(e,i,this);R6.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){P6.prototype[n]=function(){var e;return(e=R6.get(this))[n].apply(e,arguments)}});var I6=function(){return typeof S_.ResizeObserver<"u"?S_.ResizeObserver:P6}();const NE=n=>n!=null&&n!=="",ui=(n,e)=>{const i=O({},n);return Object.keys(e).forEach(r=>{const o=i[r];if(o)o.type||o.default?o.default=e[r]:o.def?o.def(e[r]):i[r]={type:o,default:e[r]};else throw new Error(`not have ${r} prop`)}),i},N6=n=>{const e=Object.keys(n),i={},r={},o={};for(let s=0,a=e.length;s<a;s++){const l=e[s];Kne(l)?(i[l[2].toLowerCase()+l.slice(3)]=n[l],r[l]=n[l]):o[l]=n[l]}return{onEvents:r,events:i,extraAttrs:o}},vie=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i={},r=/;(?![^(]*\))/g,o=/:(.+)/;return typeof n=="object"?n:(n.split(r).forEach(function(s){if(s){const a=s.split(o);if(a.length>1){const l=e?Ny(a[0].trim()):a[0].trim();i[l]=a[1].trim()}}}),i)},op=(n,e)=>n[e]!==void 0,O6=Symbol("skipFlatten"),tr=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=Array.isArray(n)?n:[n],r=[];return i.forEach(o=>{Array.isArray(o)?r.push(...tr(o,e)):o&&o.type===mn?o.key===O6?r.push(o):r.push(...tr(o.children,e)):o&&Sr(o)?e&&!yR(o)?r.push(o):e||r.push(o):NE(o)&&r.push(o)}),r},yie=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Sr(n))return n.type===mn?e==="default"?tr(n.children):[]:n.children&&n.children[e]?tr(n.children[e](i)):[];{const r=n.$slots[e]&&n.$slots[e](i);return tr(r)}},Su=n=>{var e;let i=((e=n==null?void 0:n.vnode)===null||e===void 0?void 0:e.el)||n&&(n.$el||n);for(;i&&!i.tagName;)i=i.nextSibling;return i},bie=n=>{const e={};if(n.$&&n.$.vnode){const i=n.$.vnode.props||{};Object.keys(n.$props).forEach(r=>{const o=n.$props[r],s=Yne(r);(o!==void 0||s in i)&&(e[r]=o)})}else if(Sr(n)&&typeof n.type=="object"){const i=n.props||{},r={};Object.keys(i).forEach(s=>{r[Ny(s)]=i[s]});const o=n.type.props||{};Object.keys(o).forEach(s=>{const a=Jne(o,r,s,r[s]);(a!==void 0||s in r)&&(e[s]=a)})}return e},D6=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o;if(n.$){const s=n[e];if(s!==void 0)return typeof s=="function"&&r?s(i):s;o=n.$slots[e],o=r&&o?o(i):o}else if(Sr(n)){const s=n.props&&n.props[e];if(s!==void 0&&n.props!==null)return typeof s=="function"&&r?s(i):s;n.type===mn?o=n.children:n.children&&n.children[e]&&(o=n.children[e],o=r&&o?o(i):o)}return Array.isArray(o)&&(o=tr(o),o=o.length===1?o[0]:o,o=o.length===0?void 0:o),o};function G3(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i={};return n.$?i=O(O({},i),n.$attrs):i=O(O({},i),n.props),N6(i)[e?"onEvents":"events"]}function xie(n,e){let r=((Sr(n)?n.props:n.$attrs)||{}).style||{};return typeof r=="string"&&(r=vie(r,e)),r}function _ie(n){return n.length===1&&n[0].type===mn}function yR(n){return n&&(n.type===oo||n.type===mn&&n.children.length===0||n.type===Xf&&n.children.trim()==="")}function Po(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return n.forEach(i=>{Array.isArray(i)?e.push(...i):(i==null?void 0:i.type)===mn?e.push(...Po(i.children)):e.push(i)}),e.filter(i=>!yR(i))}function am(n){if(n){const e=Po(n);return e.length?e:void 0}else return n}function lo(n){return Array.isArray(n)&&n.length===1&&(n=n[0]),n&&n.__v_isVNode&&typeof n.type!="symbol"}function na(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";var r,o;return(r=e[i])!==null&&r!==void 0?r:(o=n[i])===null||o===void 0?void 0:o.call(n)}const ed=We({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(n,e){let{slots:i}=e;const r=Wi({width:0,height:0,offsetHeight:0,offsetWidth:0});let o=null,s=null;const a=()=>{s&&(s.disconnect(),s=null)},l=d=>{const{onResize:f}=n,h=d[0].target,{width:p,height:v}=h.getBoundingClientRect(),{offsetWidth:b,offsetHeight:y}=h,m=Math.floor(p),_=Math.floor(v);if(r.width!==m||r.height!==_||r.offsetWidth!==b||r.offsetHeight!==y){const S={width:m,height:_,offsetWidth:b,offsetHeight:y};O(r,S),f&&Promise.resolve().then(()=>{f(O(O({},S),{offsetWidth:b,offsetHeight:y}),h)})}},u=is(),c=()=>{const{disabled:d}=n;if(d){a();return}const f=Su(u);f!==o&&(a(),o=f),!s&&f&&(s=new I6(l),s.observe(f))};return Jt(()=>{c()}),fa(()=>{c()}),Ha(()=>{a()}),ut(()=>n.disabled,()=>{c()},{flush:"post"}),()=>{var d;return(d=i.default)===null||d===void 0?void 0:d.call(i)[0]}}});let L6=n=>setTimeout(n,16),B6=n=>clearTimeout(n);typeof window<"u"&&"requestAnimationFrame"in window&&(L6=n=>window.requestAnimationFrame(n),B6=n=>window.cancelAnimationFrame(n));let V3=0;const bR=new Map;function F6(n){bR.delete(n)}function bn(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;V3+=1;const i=V3;function r(o){if(o===0)F6(i),n();else{const s=L6(()=>{r(o-1)});bR.set(i,s)}}return r(e),i}bn.cancel=n=>{const e=bR.get(n);return F6(e),B6(e)};const If=function(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return e},cd=n=>{const e=n;return e.install=function(i){i.component(e.displayName||e.name,n)},n};function zp(){return{type:[Function,Array]}}function vn(n){return{type:Object,default:n}}function Pt(n){return{type:Boolean,default:n}}function pt(n){return{type:Function,default:n}}function _s(n,e){const i={validator:()=>!0,default:n};return i}function CC(){return{validator:()=>!0}}function Ri(n){return{type:Array,default:n}}function In(n){return{type:String,default:n}}function Mi(n,e){return n?{type:n,default:e}:_s(e)}let ro=!1;try{const n=Object.defineProperty({},"passive",{get(){ro=!0}});window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}catch{}function ea(n,e,i,r){if(n&&n.addEventListener){let o=r;o===void 0&&ro&&(e==="touchstart"||e==="touchmove"||e==="wheel")&&(o={passive:!1}),n.addEventListener(e,i,o)}return{remove:()=>{n&&n.removeEventListener&&n.removeEventListener(e,i)}}}const Sie="anticon",$6=Symbol("configProvider"),U6={getPrefixCls:(n,e)=>e||(n?`ant-${n}`:"ant"),iconPrefixCls:K(()=>Sie),getPopupContainer:K(()=>()=>document.body),direction:K(()=>"ltr")},wie=()=>Xt($6,U6),Cie=Symbol("DisabledContextKey"),vl=()=>Xt(Cie,He(void 0)),k6={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},Tie={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},z6={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},W3={lang:O({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Tie),timePickerLocale:O({},z6)},fs="${label} is not a valid ${type}",$v={locale:"en",Pagination:k6,DatePicker:W3,TimePicker:z6,Calendar:W3,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:fs,method:fs,array:fs,object:fs,number:fs,date:fs,boolean:fs,integer:fs,float:fs,regexp:fs,email:fs,url:fs,hex:fs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"}},Aie=We({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(n,e){let{slots:i}=e;const r=Xt("localeData",{}),o=K(()=>{const{componentName:a="global",defaultLocale:l}=n,u=l||$v[a||"global"],{antLocale:c}=r,d=a&&c?c[a]:{};return O(O({},typeof u=="function"?u():u),d||{})}),s=K(()=>{const{antLocale:a}=r,l=a&&a.locale;return a&&a.exist&&!l?$v.locale:l});return()=>{const a=n.children||i.default,{antLocale:l}=r;return a==null?void 0:a(o.value,s.value,l)}}});function xR(n,e,i){const r=Xt("localeData",{});return[K(()=>{const{antLocale:s}=r,a=Hr(e)||$v[n||"global"],l=n&&s?s[n]:{};return O(O(O({},typeof a=="function"?a():a),l||{}),Hr(i)||{})})]}function _R(n){for(var e=0,i,r=0,o=n.length;o>=4;++r,o-=4)i=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}const j3="%";class Eie{constructor(e){this.cache=new Map,this.instanceId=e}get(e){return this.cache.get(Array.isArray(e)?e.join(j3):e)||null}update(e,i){const r=Array.isArray(e)?e.join(j3):e,o=this.cache.get(r),s=i(o);s===null?this.cache.delete(r):this.cache.set(r,s)}}const H6="data-token-hash",vf="data-css-hash",lp="__cssinjs_instance__";function Uv(){const n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const e=document.body.querySelectorAll(`style[${vf}]`)||[],{firstChild:i}=document.head;Array.from(e).forEach(o=>{o[lp]=o[lp]||n,o[lp]===n&&document.head.insertBefore(o,i)});const r={};Array.from(document.querySelectorAll(`style[${vf}]`)).forEach(o=>{var s;const a=o.getAttribute(vf);r[a]?o[lp]===n&&((s=o.parentNode)===null||s===void 0||s.removeChild(o)):r[a]=!0})}return new Eie(n)}const G6=Symbol("StyleContextKey"),Mie=()=>{var n,e,i;const r=is();let o;if(r&&r.appContext){const s=(i=(e=(n=r.appContext)===null||n===void 0?void 0:n.config)===null||e===void 0?void 0:e.globalProperties)===null||i===void 0?void 0:i.__ANTDV_CSSINJS_CACHE__;s?o=s:(o=Uv(),r.appContext.config.globalProperties&&(r.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__=o))}else o=Uv();return o},V6={cache:Uv(),defaultCache:!0,hashPriority:"low"},kS=()=>{const n=Mie();return Xt(G6,Ne(O(O({},V6),{cache:n})))},Rie=n=>{const e=kS(),i=Ne(O(O({},V6),{cache:Uv()}));return ut([()=>Hr(n),e],()=>{const r=O({},e.value),o=Hr(n);Object.keys(o).forEach(a=>{const l=o[a];o[a]!==void 0&&(r[a]=l)});const{cache:s}=o;r.cache=r.cache||Uv(),r.defaultCache=!s&&e.value.defaultCache,i.value=r},{immediate:!0}),Wn(G6,i),i},Pie=()=>({autoClear:Pt(),mock:In(),cache:vn(),defaultCache:Pt(),hashPriority:In(),container:Mi(),ssrInline:Pt(),transformers:Ri(),linters:Ri()});cd(We({name:"AStyleProvider",inheritAttrs:!1,props:Pie(),setup(n,e){let{slots:i}=e;return Rie(n),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}}));function W6(n,e,i,r){const o=kS(),s=Ne(""),a=Ne();an(()=>{s.value=[n,...e.value].join("%")});const l=u=>{o.value.cache.update(u,c=>{const[d=0,f]=c||[];return d-1===0?(r==null||r(f,!1),null):[d-1,f]})};return ut(s,(u,c)=>{c&&l(c),o.value.cache.update(u,d=>{const[f=0,h]=d||[],v=h||i();return[f+1,v]}),a.value=o.value.cache.get(s.value)[1]},{immediate:!0}),Rn(()=>{l(s.value)}),a}function aa(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Jd(n,e){return n&&n.contains?n.contains(e):!1}const K3="data-vc-order",Iie="vc-util-key",OE=new Map;function j6(){let{mark:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n?n.startsWith("data-")?n:`data-${n}`:Iie}function zS(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function Nie(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function K6(n){return Array.from((OE.get(n)||n).children).filter(e=>e.tagName==="STYLE")}function X6(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!aa())return null;const{csp:i,prepend:r}=e,o=document.createElement("style");o.setAttribute(K3,Nie(r)),i!=null&&i.nonce&&(o.nonce=i==null?void 0:i.nonce),o.innerHTML=n;const s=zS(e),{firstChild:a}=s;if(r){if(r==="queue"){const l=K6(s).filter(u=>["prepend","prependQueue"].includes(u.getAttribute(K3)));if(l.length)return s.insertBefore(o,l[l.length-1].nextSibling),o}s.insertBefore(o,a)}else s.appendChild(o);return o}function q6(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=zS(e);return K6(i).find(r=>r.getAttribute(j6(e))===n)}function C_(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=q6(n,e);i&&zS(e).removeChild(i)}function Oie(n,e){const i=OE.get(n);if(!i||!Jd(document,i)){const r=X6("",e),{parentNode:o}=r;OE.set(n,o),n.removeChild(r)}}function T_(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o,s;const a=zS(i);Oie(a,i);const l=q6(e,i);if(l)return!((r=i.csp)===null||r===void 0)&&r.nonce&&l.nonce!==((o=i.csp)===null||o===void 0?void 0:o.nonce)&&(l.nonce=(s=i.csp)===null||s===void 0?void 0:s.nonce),l.innerHTML!==n&&(l.innerHTML=n),l;const u=X6(n,i);return u.setAttribute(j6(i),e),u}function Die(n,e){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==e[i])return!1;return!0}class Hp{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r={map:this.cache};return e.forEach(o=>{var s;r?r=(s=r==null?void 0:r.map)===null||s===void 0?void 0:s.get(o):r=void 0}),r!=null&&r.value&&i&&(r.value[1]=this.cacheCallTimes++),r==null?void 0:r.value}get(e){var i;return(i=this.internalGet(e,!0))===null||i===void 0?void 0:i[0]}has(e){return!!this.internalGet(e)}set(e,i){if(!this.has(e)){if(this.size()+1>Hp.MAX_CACHE_SIZE+Hp.MAX_CACHE_OFFSET){const[o]=this.keys.reduce((s,a)=>{const[,l]=s;return this.internalGet(a)[1]<l?[a,this.internalGet(a)[1]]:s},[this.keys[0],this.cacheCallTimes]);this.delete(o)}this.keys.push(e)}let r=this.cache;e.forEach((o,s)=>{if(s===e.length-1)r.set(o,{value:[i,this.cacheCallTimes++]});else{const a=r.get(o);a?a.map||(a.map=new Map):r.set(o,{map:new Map}),r=r.get(o).map}})}deleteByPath(e,i){var r;const o=e.get(i[0]);if(i.length===1)return o.map?e.set(i[0],{map:o.map}):e.delete(i[0]),(r=o.value)===null||r===void 0?void 0:r[0];const s=this.deleteByPath(o.map,i.slice(1));return(!o.map||o.map.size===0)&&!o.value&&e.delete(i[0]),s}delete(e){if(this.has(e))return this.keys=this.keys.filter(i=>!Die(i,e)),this.deleteByPath(this.cache,e)}}Hp.MAX_CACHE_SIZE=20;Hp.MAX_CACHE_OFFSET=5;let X3={};function Lie(n,e){}function Bie(n,e,i){!e&&!X3[i]&&(X3[i]=!0)}function Y6(n,e){Bie(Lie,n,e)}function Fie(){}let HS=Fie,q3=0;class Q6{constructor(e){this.derivatives=Array.isArray(e)?e:[e],this.id=q3,e.length===0&&HS(e.length>0),q3+=1}getDerivativeToken(e){return this.derivatives.reduce((i,r)=>r(e,i),void 0)}}const TC=new Hp;function $ie(n){const e=Array.isArray(n)?n:[n];return TC.has(e)||TC.set(e,new Q6(e)),TC.get(e)}const Y3=new WeakMap;function A_(n){let e=Y3.get(n)||"";return e||(Object.keys(n).forEach(i=>{const r=n[i];e+=i,r instanceof Q6?e+=r.id:r&&typeof r=="object"?e+=A_(r):e+=r}),Y3.set(n,e)),e}function Uie(n,e){return _R(`${e}_${A_(n)}`)}const dv=`random-${Date.now()}-${Math.random()}`.replace(/\./g,""),Z6="_bAmBoO_";function kie(n,e,i){var r,o;if(aa()){T_(n,dv);const s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",e==null||e(s),document.body.appendChild(s);const a=i?i(s):(r=getComputedStyle(s).content)===null||r===void 0?void 0:r.includes(Z6);return(o=s.parentNode)===null||o===void 0||o.removeChild(s),C_(dv),a}return!1}let AC;function zie(){return AC===void 0&&(AC=kie(`@layer ${dv} { .${dv} { content: "${Z6}"!important; } }`,n=>{n.className=dv})),AC}const Q3={},Hie="css",ef=new Map;function Gie(n){ef.set(n,(ef.get(n)||0)+1)}function Vie(n,e){typeof document<"u"&&document.querySelectorAll(`style[${H6}="${n}"]`).forEach(r=>{var o;r[lp]===e&&((o=r.parentNode)===null||o===void 0||o.removeChild(r))})}const Wie=0;function jie(n,e){ef.set(n,(ef.get(n)||0)-1);const i=Array.from(ef.keys()),r=i.filter(o=>(ef.get(o)||0)<=0);i.length-r.length>Wie&&r.forEach(o=>{Vie(o,e),ef.delete(o)})}const Kie=(n,e,i,r)=>{const o=i.getDerivativeToken(n);let s=O(O({},o),e);return r&&(s=r(s)),s};function Xie(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:He({});const r=kS(),o=K(()=>O({},...e.value)),s=K(()=>A_(o.value)),a=K(()=>A_(i.value.override||Q3));return W6("token",K(()=>[i.value.salt||"",n.value.id,s.value,a.value]),()=>{const{salt:u="",override:c=Q3,formatToken:d,getComputedToken:f}=i.value,h=f?f(o.value,c,n.value):Kie(o.value,c,n.value,d),p=Uie(h,u);h._tokenKey=p,Gie(p);const v=`${Hie}-${_R(p)}`;return h._hashId=v,[h,v]},u=>{var c;jie(u[0]._tokenKey,(c=r.value)===null||c===void 0?void 0:c.cache.instanceId)})}var qie={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},J6="comm",e8="rule",t8="decl",Yie="@import",Qie="@keyframes",Zie="@layer",n8=Math.abs,SR=String.fromCharCode;function i8(n){return n.trim()}function Ox(n,e,i){return n.replace(e,i)}function Jie(n,e,i){return n.indexOf(e,i)}function xp(n,e){return n.charCodeAt(e)|0}function Gp(n,e,i){return n.slice(e,i)}function nl(n){return n.length}function ere(n){return n.length}function Y0(n,e){return e.push(n),n}var GS=1,Vp=1,r8=0,la=0,ar=0,Eg="";function wR(n,e,i,r,o,s,a,l){return{value:n,root:e,parent:i,type:r,props:o,children:s,line:GS,column:Vp,length:a,return:"",siblings:l}}function tre(){return ar}function nre(){return ar=la>0?xp(Eg,--la):0,Vp--,ar===10&&(Vp=1,GS--),ar}function La(){return ar=la<r8?xp(Eg,la++):0,Vp++,ar===10&&(Vp=1,GS++),ar}function Gc(){return xp(Eg,la)}function Dx(){return la}function VS(n,e){return Gp(Eg,n,e)}function kv(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ire(n){return GS=Vp=1,r8=nl(Eg=n),la=0,[]}function rre(n){return Eg="",n}function EC(n){return i8(VS(la-1,DE(n===91?n+2:n===40?n+1:n)))}function ore(n){for(;(ar=Gc())&&ar<33;)La();return kv(n)>2||kv(ar)>3?"":" "}function sre(n,e){for(;--e&&La()&&!(ar<48||ar>102||ar>57&&ar<65||ar>70&&ar<97););return VS(n,Dx()+(e<6&&Gc()==32&&La()==32))}function DE(n){for(;La();)switch(ar){case n:return la;case 34:case 39:n!==34&&n!==39&&DE(ar);break;case 40:n===41&&DE(n);break;case 92:La();break}return la}function are(n,e){for(;La()&&n+ar!==57;)if(n+ar===84&&Gc()===47)break;return"/*"+VS(e,la-1)+"*"+SR(n===47?n:La())}function lre(n){for(;!kv(Gc());)La();return VS(n,la)}function ure(n){return rre(Lx("",null,null,null,[""],n=ire(n),0,[0],n))}function Lx(n,e,i,r,o,s,a,l,u){for(var c=0,d=0,f=a,h=0,p=0,v=0,b=1,y=1,m=1,_=0,S="",w=o,T=s,A=r,C=S;y;)switch(v=_,_=La()){case 40:if(v!=108&&xp(C,f-1)==58){Jie(C+=Ox(EC(_),"&","&\f"),"&\f",n8(c?l[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:C+=EC(_);break;case 9:case 10:case 13:case 32:C+=ore(v);break;case 92:C+=sre(Dx()-1,7);continue;case 47:switch(Gc()){case 42:case 47:Y0(cre(are(La(),Dx()),e,i,u),u),(kv(v||1)==5||kv(Gc()||1)==5)&&nl(C)&&Gp(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*b:l[c++]=nl(C)*m;case 125*b:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+d:m==-1&&(C=Ox(C,/\f/g,"")),p>0&&(nl(C)-f||b===0&&v===47)&&Y0(p>32?J3(C+";",r,i,f-1,u):J3(Ox(C," ","")+";",r,i,f-2,u),u);break;case 59:C+=";";default:if(Y0(A=Z3(C,e,i,c,d,o,l,S,w=[],T=[],f,s),s),_===123)if(d===0)Lx(C,e,A,A,w,s,f,l,T);else{switch(h){case 99:if(xp(C,3)===110)break;case 108:if(xp(C,2)===97)break;default:d=0;case 100:case 109:case 115:}d?Lx(n,A,A,r&&Y0(Z3(n,A,A,0,0,o,l,S,o,w=[],f,T),T),o,T,f,l,r?w:T):Lx(C,A,A,A,[""],T,0,l,T)}}c=d=p=0,b=m=1,S=C="",f=a;break;case 58:f=1+nl(C),p=v;default:if(b<1){if(_==123)--b;else if(_==125&&b++==0&&nre()==125)continue}switch(C+=SR(_),_*b){case 38:m=d>0?1:(C+="\f",-1);break;case 44:l[c++]=(nl(C)-1)*m,m=1;break;case 64:Gc()===45&&(C+=EC(La())),h=Gc(),d=f=nl(S=C+=lre(Dx())),_++;break;case 45:v===45&&nl(C)==2&&(b=0)}}return s}function Z3(n,e,i,r,o,s,a,l,u,c,d,f){for(var h=o-1,p=o===0?s:[""],v=ere(p),b=0,y=0,m=0;b<r;++b)for(var _=0,S=Gp(n,h+1,h=n8(y=a[b])),w=n;_<v;++_)(w=i8(y>0?p[_]+" "+S:Ox(S,/&\f/g,p[_])))&&(u[m++]=w);return wR(n,e,i,o===0?e8:l,u,c,d,f)}function cre(n,e,i,r){return wR(n,e,i,J6,SR(tre()),Gp(n,2,-2),0,r)}function J3(n,e,i,r,o){return wR(n,e,i,t8,Gp(n,0,r),Gp(n,r+1,-1),r,o)}function LE(n,e){for(var i="",r=0;r<n.length;r++)i+=e(n[r],r,n,e)||"";return i}function dre(n,e,i,r){switch(n.type){case Zie:if(n.children.length)break;case Yie:case t8:return n.return=n.return||n.value;case J6:return"";case Qie:return n.return=n.value+"{"+LE(n.children,r)+"}";case e8:if(!nl(n.value=n.props.join(",")))return""}return nl(i=LE(n.children,r))?n.return=n.value+"{"+i+"}":""}const eL="data-ant-cssinjs-cache-path",fre="_FILE_STYLE__";let yf,o8=!0;function hre(){var n;if(!yf&&(yf={},aa())){const e=document.createElement("div");e.className=eL,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);let i=getComputedStyle(e).content||"";i=i.replace(/^"/,"").replace(/"$/,""),i.split(";").forEach(o=>{const[s,a]=o.split(":");yf[s]=a});const r=document.querySelector(`style[${eL}]`);r&&(o8=!1,(n=r.parentNode)===null||n===void 0||n.removeChild(r)),document.body.removeChild(e)}}function pre(n){return hre(),!!yf[n]}function gre(n){const e=yf[n];let i=null;if(e&&aa())if(o8)i=fre;else{const r=document.querySelector(`style[${vf}="${yf[n]}"]`);r?i=r.innerHTML:delete yf[n]}return[i,e]}const tL=aa(),mre="_skip_check_",s8="_multi_value_";function nL(n){return LE(ure(n),dre).replace(/\{%%%\:[^;];}/g,";")}function vre(n){return typeof n=="object"&&n&&(mre in n||s8 in n)}function yre(n,e,i){if(!e)return n;const r=`.${e}`,o=i==="low"?`:where(${r})`:r;return n.split(",").map(a=>{var l;const u=a.trim().split(/\s+/);let c=u[0]||"";const d=((l=c.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return c=`${d}${o}${c.slice(d.length)}`,[c,...u.slice(1)].join(" ")}).join(",")}const iL=new Set,BE=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:i,injectHash:r,parentSelectors:o}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:s,layer:a,path:l,hashPriority:u,transformers:c=[],linters:d=[]}=e;let f="",h={};function p(y){const m=y.getName(s);if(!h[m]){const[_]=BE(y.style,e,{root:!1,parentSelectors:o});h[m]=`@keyframes ${y.getName(s)}${_}`}}function v(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return y.forEach(_=>{Array.isArray(_)?v(_,m):_&&m.push(_)}),m}if(v(Array.isArray(n)?n:[n]).forEach(y=>{const m=typeof y=="string"&&!i?{}:y;if(typeof m=="string")f+=`${m}
`;else if(m._keyframe)p(m);else{const _=c.reduce((S,w)=>{var T;return((T=w==null?void 0:w.visit)===null||T===void 0?void 0:T.call(w,S))||S},m);Object.keys(_).forEach(S=>{var w;const T=_[S];if(typeof T=="object"&&T&&(S!=="animationName"||!T._keyframe)&&!vre(T)){let A=!1,C=S.trim(),R=!1;(i||r)&&s?C.startsWith("@")?A=!0:C=yre(S,s,u):i&&!s&&(C==="&"||C==="")&&(C="",R=!0);const[E,P]=BE(T,e,{root:R,injectHash:A,parentSelectors:[...o,C]});h=O(O({},h),P),f+=`${C}${E}`}else{let A=function(R,E){const P=R.replace(/[A-Z]/g,D=>`-${D.toLowerCase()}`);let N=E;!qie[R]&&typeof N=="number"&&N!==0&&(N=`${N}px`),R==="animationName"&&(E!=null&&E._keyframe)&&(p(E),N=E.getName(s)),f+=`${P}:${N};`};const C=(w=T==null?void 0:T.value)!==null&&w!==void 0?w:T;typeof T=="object"&&(T!=null&&T[s8])&&Array.isArray(C)?C.forEach(R=>{A(S,R)}):A(S,C)}})}}),!i)f=`{${f}}`;else if(a&&zie()){const y=a.split(",");f=`@layer ${y[y.length-1].trim()} {${f}}`,y.length>1&&(f=`@layer ${a}{%%%:%}${f}`)}return[f,h]};function bre(n,e){return _R(`${n.join("%")}${e}`)}function rL(n,e){const i=kS(),r=K(()=>n.value.token._tokenKey),o=K(()=>[r.value,...n.value.path]);let s=tL;return W6("style",o,()=>{const{path:a,hashId:l,layer:u,nonce:c,clientOnly:d,order:f=0}=n.value,h=o.value.join("|");if(pre(h)){const[C,R]=gre(h);if(C)return[C,r.value,R,{},d,f]}const p=e(),{hashPriority:v,container:b,transformers:y,linters:m,cache:_}=i.value,[S,w]=BE(p,{hashId:l,hashPriority:v,layer:u,path:a.join("-"),transformers:y,linters:m}),T=nL(S),A=bre(o.value,T);if(s){const C={mark:vf,prepend:"queue",attachTo:b,priority:f},R=typeof c=="function"?c():c;R&&(C.csp={nonce:R});const E=T_(T,A,C);E[lp]=_.instanceId,E.setAttribute(H6,r.value),Object.keys(w).forEach(P=>{iL.has(P)||(iL.add(P),T_(nL(w[P]),`_effect-${P}`,{mark:vf,prepend:"queue",attachTo:b}))})}return[T,r.value,A,w,d,f]},(a,l)=>{let[,,u]=a;(l||i.value.autoClear)&&tL&&C_(u,{mark:vf})}),a=>a}class On{constructor(e,i){this._keyframe=!0,this.name=e,this.style=i}getName(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e?`${e}-${this.name}`:this.name}}const xre="4.2.6",E_=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Vr(n,e){_re(n)&&(n="100%");var i=Sre(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),i&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Q0(n){return Math.min(1,Math.max(0,n))}function _re(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function Sre(n){return typeof n=="string"&&n.indexOf("%")!==-1}function a8(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Z0(n){return n<=1?"".concat(Number(n)*100,"%"):n}function ff(n){return n.length===1?"0"+n:String(n)}function wre(n,e,i){return{r:Vr(n,255)*255,g:Vr(e,255)*255,b:Vr(i,255)*255}}function oL(n,e,i){n=Vr(n,255),e=Vr(e,255),i=Vr(i,255);var r=Math.max(n,e,i),o=Math.min(n,e,i),s=0,a=0,l=(r+o)/2;if(r===o)a=0,s=0;else{var u=r-o;switch(a=l>.5?u/(2-r-o):u/(r+o),r){case n:s=(e-i)/u+(e<i?6:0);break;case e:s=(i-n)/u+2;break;case i:s=(n-e)/u+4;break}s/=6}return{h:s,s:a,l}}function MC(n,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(e-n)*(6*i):i<1/2?e:i<2/3?n+(e-n)*(2/3-i)*6:n}function Cre(n,e,i){var r,o,s;if(n=Vr(n,360),e=Vr(e,100),i=Vr(i,100),e===0)o=i,s=i,r=i;else{var a=i<.5?i*(1+e):i+e-i*e,l=2*i-a;r=MC(l,a,n+1/3),o=MC(l,a,n),s=MC(l,a,n-1/3)}return{r:r*255,g:o*255,b:s*255}}function FE(n,e,i){n=Vr(n,255),e=Vr(e,255),i=Vr(i,255);var r=Math.max(n,e,i),o=Math.min(n,e,i),s=0,a=r,l=r-o,u=r===0?0:l/r;if(r===o)s=0;else{switch(r){case n:s=(e-i)/l+(e<i?6:0);break;case e:s=(i-n)/l+2;break;case i:s=(n-e)/l+4;break}s/=6}return{h:s,s:u,v:a}}function Tre(n,e,i){n=Vr(n,360)*6,e=Vr(e,100),i=Vr(i,100);var r=Math.floor(n),o=n-r,s=i*(1-e),a=i*(1-o*e),l=i*(1-(1-o)*e),u=r%6,c=[i,a,s,s,l,i][u],d=[l,i,i,a,s,s][u],f=[s,s,l,i,i,a][u];return{r:c*255,g:d*255,b:f*255}}function $E(n,e,i,r){var o=[ff(Math.round(n).toString(16)),ff(Math.round(e).toString(16)),ff(Math.round(i).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function Are(n,e,i,r,o){var s=[ff(Math.round(n).toString(16)),ff(Math.round(e).toString(16)),ff(Math.round(i).toString(16)),ff(Ere(r))];return o&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Ere(n){return Math.round(parseFloat(n)*255).toString(16)}function sL(n){return vs(n)/255}function vs(n){return parseInt(n,16)}function Mre(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var UE={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function sp(n){var e={r:0,g:0,b:0},i=1,r=null,o=null,s=null,a=!1,l=!1;return typeof n=="string"&&(n=Ire(n)),typeof n=="object"&&(Xl(n.r)&&Xl(n.g)&&Xl(n.b)?(e=wre(n.r,n.g,n.b),a=!0,l=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Xl(n.h)&&Xl(n.s)&&Xl(n.v)?(r=Z0(n.s),o=Z0(n.v),e=Tre(n.h,r,o),a=!0,l="hsv"):Xl(n.h)&&Xl(n.s)&&Xl(n.l)&&(r=Z0(n.s),s=Z0(n.l),e=Cre(n.h,r,s),a=!0,l="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(i=n.a)),i=a8(i),{ok:a,format:n.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}var Rre="[-\\+]?\\d+%?",Pre="[-\\+]?\\d*\\.\\d+%?",Vc="(?:".concat(Pre,")|(?:").concat(Rre,")"),RC="[\\s|\\(]+(".concat(Vc,")[,|\\s]+(").concat(Vc,")[,|\\s]+(").concat(Vc,")\\s*\\)?"),PC="[\\s|\\(]+(".concat(Vc,")[,|\\s]+(").concat(Vc,")[,|\\s]+(").concat(Vc,")[,|\\s]+(").concat(Vc,")\\s*\\)?"),wa={CSS_UNIT:new RegExp(Vc),rgb:new RegExp("rgb"+RC),rgba:new RegExp("rgba"+PC),hsl:new RegExp("hsl"+RC),hsla:new RegExp("hsla"+PC),hsv:new RegExp("hsv"+RC),hsva:new RegExp("hsva"+PC),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ire(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(UE[n])n=UE[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i=wa.rgb.exec(n);return i?{r:i[1],g:i[2],b:i[3]}:(i=wa.rgba.exec(n),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=wa.hsl.exec(n),i?{h:i[1],s:i[2],l:i[3]}:(i=wa.hsla.exec(n),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=wa.hsv.exec(n),i?{h:i[1],s:i[2],v:i[3]}:(i=wa.hsva.exec(n),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=wa.hex8.exec(n),i?{r:vs(i[1]),g:vs(i[2]),b:vs(i[3]),a:sL(i[4]),format:e?"name":"hex8"}:(i=wa.hex6.exec(n),i?{r:vs(i[1]),g:vs(i[2]),b:vs(i[3]),format:e?"name":"hex"}:(i=wa.hex4.exec(n),i?{r:vs(i[1]+i[1]),g:vs(i[2]+i[2]),b:vs(i[3]+i[3]),a:sL(i[4]+i[4]),format:e?"name":"hex8"}:(i=wa.hex3.exec(n),i?{r:vs(i[1]+i[1]),g:vs(i[2]+i[2]),b:vs(i[3]+i[3]),format:e?"name":"hex"}:!1)))))))))}function Xl(n){return!!wa.CSS_UNIT.exec(String(n))}var zi=function(){function n(e,i){e===void 0&&(e=""),i===void 0&&(i={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=Mre(e)),this.originalInput=e;var o=sp(e);this.originalInput=e,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=i.format)!==null&&r!==void 0?r:o.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),i,r,o,s=e.r/255,a=e.g/255,l=e.b/255;return s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),l<=.03928?o=l/12.92:o=Math.pow((l+.055)/1.055,2.4),.2126*i+.7152*r+.0722*o},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=a8(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=FE(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=FE(this.r,this.g,this.b),i=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.v*100);return this.a===1?"hsv(".concat(i,", ").concat(r,"%, ").concat(o,"%)"):"hsva(".concat(i,", ").concat(r,"%, ").concat(o,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=oL(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=oL(this.r,this.g,this.b),i=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.l*100);return this.a===1?"hsl(".concat(i,", ").concat(r,"%, ").concat(o,"%)"):"hsla(".concat(i,", ").concat(r,"%, ").concat(o,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),$E(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),Are(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),i=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(i,", ").concat(r,")"):"rgba(".concat(e,", ").concat(i,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(i){return"".concat(Math.round(Vr(i,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(i){return Math.round(Vr(i,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+$E(this.r,this.g,this.b,!1),i=0,r=Object.entries(UE);i<r.length;i++){var o=r[i],s=o[0],a=o[1];if(e===a)return s}return!1},n.prototype.toString=function(e){var i=!!e;e=e??this.format;var r=!1,o=this.a<1&&this.a>=0,s=!i&&o&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.l+=e/100,i.l=Q0(i.l),new n(i)},n.prototype.brighten=function(e){e===void 0&&(e=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(e/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(e/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(e/100)))),new n(i)},n.prototype.darken=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.l-=e/100,i.l=Q0(i.l),new n(i)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.s-=e/100,i.s=Q0(i.s),new n(i)},n.prototype.saturate=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.s+=e/100,i.s=Q0(i.s),new n(i)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var i=this.toHsl(),r=(i.h+e)%360;return i.h=r<0?360+r:r,new n(i)},n.prototype.mix=function(e,i){i===void 0&&(i=50);var r=this.toRgb(),o=new n(e).toRgb(),s=i/100,a={r:(o.r-r.r)*s+r.r,g:(o.g-r.g)*s+r.g,b:(o.b-r.b)*s+r.b,a:(o.a-r.a)*s+r.a};return new n(a)},n.prototype.analogous=function(e,i){e===void 0&&(e=6),i===void 0&&(i=30);var r=this.toHsl(),o=360/i,s=[this];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,s.push(new n(r));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var i=this.toHsv(),r=i.h,o=i.s,s=i.v,a=[],l=1/e;e--;)a.push(new n({h:r,s:o,v:s})),s=(s+l)%1;return a},n.prototype.splitcomplement=function(){var e=this.toHsl(),i=e.h;return[this,new n({h:(i+72)%360,s:e.s,l:e.l}),new n({h:(i+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var i=this.toRgb(),r=new n(e).toRgb(),o=i.a+r.a*(1-i.a);return new n({r:(i.r*i.a+r.r*r.a*(1-i.a))/o,g:(i.g*i.a+r.g*r.a*(1-i.a))/o,b:(i.b*i.a+r.b*r.a*(1-i.a))/o,a:o})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var i=this.toHsl(),r=i.h,o=[this],s=360/e,a=1;a<e;a++)o.push(new n({h:(r+a*s)%360,s:i.s,l:i.l}));return o},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),J0=2,aL=.16,Nre=.05,Ore=.05,Dre=.15,l8=5,u8=4,Lre=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function lL(n){var e=n.r,i=n.g,r=n.b,o=FE(e,i,r);return{h:o.h*360,s:o.s,v:o.v}}function eb(n){var e=n.r,i=n.g,r=n.b;return"#".concat($E(e,i,r,!1))}function Bre(n,e,i){var r=i/100,o={r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b};return o}function uL(n,e,i){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=i?Math.round(n.h)-J0*e:Math.round(n.h)+J0*e:r=i?Math.round(n.h)+J0*e:Math.round(n.h)-J0*e,r<0?r+=360:r>=360&&(r-=360),r}function cL(n,e,i){if(n.h===0&&n.s===0)return n.s;var r;return i?r=n.s-aL*e:e===u8?r=n.s+aL:r=n.s+Nre*e,r>1&&(r=1),i&&e===l8&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function dL(n,e,i){var r;return i?r=n.v+Ore*e:r=n.v-Dre*e,r>1&&(r=1),Number(r.toFixed(2))}function zv(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[],r=sp(n),o=l8;o>0;o-=1){var s=lL(r),a=eb(sp({h:uL(s,o,!0),s:cL(s,o,!0),v:dL(s,o,!0)}));i.push(a)}i.push(eb(r));for(var l=1;l<=u8;l+=1){var u=lL(r),c=eb(sp({h:uL(u,l),s:cL(u,l),v:dL(u,l)}));i.push(c)}return e.theme==="dark"?Lre.map(function(d){var f=d.index,h=d.opacity,p=eb(Bre(sp(e.backgroundColor||"#141414"),sp(i[f]),h*100));return p}):i}var _p={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Bx={},IC={};Object.keys(_p).forEach(function(n){Bx[n]=zv(_p[n]),Bx[n].primary=Bx[n][5],IC[n]=zv(_p[n],{theme:"dark",backgroundColor:"#141414"}),IC[n].primary=IC[n][5]});var Fre=Bx.blue;const $re=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function Ure(n){const{sizeUnit:e,sizeStep:i}=n;return{sizeXXL:e*(i+8),sizeXL:e*(i+4),sizeLG:e*(i+2),sizeMD:e*(i+1),sizeMS:e*i,size:e*i,sizeSM:e*(i-1),sizeXS:e*(i-2),sizeXXS:e*(i-3)}}const c8={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},CR=O(O({},c8),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1});function kre(n,e){let{generateColorPalettes:i,generateNeutralColorPalettes:r}=e;const{colorSuccess:o,colorWarning:s,colorError:a,colorInfo:l,colorPrimary:u,colorBgBase:c,colorTextBase:d}=n,f=i(u),h=i(o),p=i(s),v=i(a),b=i(l),y=r(c,d);return O(O({},y),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:v[1],colorErrorBgHover:v[2],colorErrorBorder:v[3],colorErrorBorderHover:v[4],colorErrorHover:v[5],colorError:v[6],colorErrorActive:v[7],colorErrorTextHover:v[8],colorErrorText:v[9],colorErrorTextActive:v[10],colorWarningBg:p[1],colorWarningBgHover:p[2],colorWarningBorder:p[3],colorWarningBorderHover:p[4],colorWarningHover:p[4],colorWarning:p[6],colorWarningActive:p[7],colorWarningTextHover:p[8],colorWarningText:p[9],colorWarningTextActive:p[10],colorInfoBg:b[1],colorInfoBgHover:b[2],colorInfoBorder:b[3],colorInfoBorderHover:b[4],colorInfoHover:b[4],colorInfo:b[6],colorInfoActive:b[7],colorInfoTextHover:b[8],colorInfoText:b[9],colorInfoTextActive:b[10],colorBgMask:new zi("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const zre=n=>{let e=n,i=n,r=n,o=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?i=4:n<8&&n>=7?i=5:n<14&&n>=8?i=6:n<16&&n>=14?i=7:n>=16&&(i=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?o=4:n>=8&&(o=6),{borderRadius:n>16?16:n,borderRadiusXS:r,borderRadiusSM:i,borderRadiusLG:e,borderRadiusOuter:o}};function Hre(n){const{motionUnit:e,motionBase:i,borderRadius:r,lineWidth:o}=n;return O({motionDurationFast:`${(i+e).toFixed(1)}s`,motionDurationMid:`${(i+e*2).toFixed(1)}s`,motionDurationSlow:`${(i+e*3).toFixed(1)}s`,lineWidthBold:o+1},zre(r))}const ql=(n,e)=>new zi(n).setAlpha(e).toRgbString(),lm=(n,e)=>new zi(n).darken(e).toHexString(),Gre=n=>{const e=zv(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Vre=(n,e)=>{const i=n||"#fff",r=e||"#000";return{colorBgBase:i,colorTextBase:r,colorText:ql(r,.88),colorTextSecondary:ql(r,.65),colorTextTertiary:ql(r,.45),colorTextQuaternary:ql(r,.25),colorFill:ql(r,.15),colorFillSecondary:ql(r,.06),colorFillTertiary:ql(r,.04),colorFillQuaternary:ql(r,.02),colorBgLayout:lm(i,4),colorBgContainer:lm(i,0),colorBgElevated:lm(i,0),colorBgSpotlight:ql(r,.85),colorBorder:lm(i,15),colorBorderSecondary:lm(i,6)}};function Wre(n){const e=new Array(10).fill(null).map((i,r)=>{const o=r-1,s=n*Math.pow(2.71828,o/5),a=r>1?Math.floor(s):Math.ceil(s);return Math.floor(a/2)*2});return e[1]=n,e.map(i=>{const r=i+8;return{size:i,lineHeight:r/i}})}const jre=n=>{const e=Wre(n),i=e.map(o=>o.size),r=e.map(o=>o.lineHeight);return{fontSizeSM:i[0],fontSize:i[1],fontSizeLG:i[2],fontSizeXL:i[3],fontSizeHeading1:i[6],fontSizeHeading2:i[5],fontSizeHeading3:i[4],fontSizeHeading4:i[3],fontSizeHeading5:i[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function Kre(n){const e=Object.keys(c8).map(i=>{const r=zv(n[i]);return new Array(10).fill(1).reduce((o,s,a)=>(o[`${i}-${a+1}`]=r[a],o),{})}).reduce((i,r)=>(i=O(O({},i),r),i),{});return O(O(O(O(O(O(O({},n),e),kre(n,{generateColorPalettes:Gre,generateNeutralColorPalettes:Vre})),jre(n.fontSize)),Ure(n)),$re(n)),Hre(n))}function NC(n){return n>=0&&n<=255}function tb(n,e){const{r:i,g:r,b:o,a:s}=new zi(n).toRgb();if(s<1)return n;const{r:a,g:l,b:u}=new zi(e).toRgb();for(let c=.01;c<=1;c+=.01){const d=Math.round((i-a*(1-c))/c),f=Math.round((r-l*(1-c))/c),h=Math.round((o-u*(1-c))/c);if(NC(d)&&NC(f)&&NC(h))return new zi({r:d,g:f,b:h,a:Math.round(c*100)/100}).toRgbString()}return new zi({r:i,g:r,b:o,a:1}).toRgbString()}var Xre=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function qre(n){const{override:e}=n,i=Xre(n,["override"]),r=O({},e);Object.keys(CR).forEach(p=>{delete r[p]});const o=O(O({},i),r),s=480,a=576,l=768,u=992,c=1200,d=1600,f=2e3;return O(O(O({},o),{colorLink:o.colorInfoText,colorLinkHover:o.colorInfoHover,colorLinkActive:o.colorInfoActive,colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:tb(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:tb(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:tb(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidth:o.lineWidth,controlOutlineWidth:o.lineWidth*2,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:tb(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:s,screenXSMin:s,screenXSMax:a-1,screenSM:a,screenSMMin:a,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:u-1,screenLG:u,screenLGMin:u,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:d-1,screenXXL:d,screenXXLMin:d,screenXXLMax:f-1,screenXXXL:f,screenXXXLMin:f,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`
      0 1px 2px -2px ${new zi("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new zi("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new zi("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}const Yre=n=>({color:n.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:focus, &:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive}}),d8=(n,e,i,r,o)=>{const s=n/2,a=0,l=s,u=i*1/Math.sqrt(2),c=s-i*(1-1/Math.sqrt(2)),d=s-e*(1/Math.sqrt(2)),f=i*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),h=2*s-d,p=f,v=2*s-u,b=c,y=2*s-a,m=l,_=s*Math.sqrt(2)+i*(Math.sqrt(2)-2),S=i*(Math.sqrt(2)-1);return{pointerEvents:"none",width:n,height:n,overflow:"hidden","&::after":{content:'""',position:"absolute",width:_,height:_,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:o,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n,height:n/2,background:r,clipPath:{_multi_value_:!0,value:[`polygon(${S}px 100%, 50% ${S}px, ${2*s-S}px 100%, ${S}px 100%)`,`path('M ${a} ${l} A ${i} ${i} 0 0 0 ${u} ${c} L ${d} ${f} A ${e} ${e} 0 0 1 ${h} ${p} L ${v} ${b} A ${i} ${i} 0 0 0 ${y} ${m} Z')`]},content:'""'}}};function f8(n,e){return E_.reduce((i,r)=>{const o=n[`${r}-1`],s=n[`${r}-3`],a=n[`${r}-6`],l=n[`${r}-7`];return O(O({},i),e(r,{lightColor:o,lightBorderColor:s,darkColor:a,textColor:l}))},{})}const yl={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},li=n=>({boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:n.fontFamily}),TR=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),bl=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Qre=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active,\n  &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),Zre=(n,e)=>{const{fontFamily:i,fontSize:r}=n,o=`[class^="${e}"], [class*=" ${e}"]`;return{[o]:{fontFamily:i,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[o]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},$u=n=>({outline:`${n.lineWidthBold}px solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),Nf=n=>({"&:focus-visible":O({},$u(n))});function Di(n,e,i){return r=>{const o=K(()=>r==null?void 0:r.value),[s,a,l]=Oy(),{getPrefixCls:u,iconPrefixCls:c}=wie(),d=K(()=>u()),f=K(()=>({theme:s.value,token:a.value,hashId:l.value,path:["Shared",d.value]}));rL(f,()=>[{"&":Qre(a.value)}]);const h=K(()=>({theme:s.value,token:a.value,hashId:l.value,path:[n,o.value,c.value]}));return[rL(h,()=>{const{token:p,flush:v}=eoe(a.value),b=typeof i=="function"?i(p):i,y=O(O({},b),a.value[n]),m=`.${o.value}`,_=Nn(p,{componentCls:m,prefixCls:o.value,iconCls:`.${c.value}`,antCls:`.${d.value}`},y),S=e(_,{hashId:l.value,prefixCls:o.value,rootPrefixCls:d.value,iconPrefixCls:c.value,overrideComponentToken:a.value[n]});return v(n,y),[Zre(a.value,o.value),S]}),l]}}const h8=typeof CSSINJS_STATISTIC<"u";let kE=!0;function Nn(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];if(!h8)return O({},...e);kE=!1;const r={};return e.forEach(o=>{Object.keys(o).forEach(a=>{Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:()=>o[a]})})}),kE=!0,r}function Jre(){}function eoe(n){let e,i=n,r=Jre;return h8&&(e=new Set,i=new Proxy(n,{get(o,s){return kE&&e.add(s),o[s]}}),r=(o,s)=>{Array.from(e)}),{token:i,keys:e,flush:r}}const toe=$ie(Kre),noe={token:CR,hashed:!0},ioe=Symbol("DesignTokenContext"),roe=Ne();function Oy(){const n=Xt(ioe,K(()=>roe.value||noe)),e=K(()=>`${xre}-${n.value.hashed||""}`),i=K(()=>n.value.theme||toe),r=Xie(i,K(()=>[CR,n.value.token]),K(()=>({salt:e.value,override:O({override:n.value.token},n.value.components),formatToken:qre})));return[i,K(()=>r.value[0]),K(()=>n.value.hashed?r.value[1]:"")]}const AR=We({compatConfig:{MODE:3},setup(){const[,n]=Oy(),e=K(()=>new zi(n.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>I("svg",{style:e.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[I("g",{fill:"none","fill-rule":"evenodd"},[I("g",{transform:"translate(24 31.67)"},[I("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),I("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),I("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),I("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),I("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),I("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),I("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[I("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),I("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});AR.PRESENTED_IMAGE_DEFAULT=!0;const p8=We({compatConfig:{MODE:3},setup(){const[,n]=Oy(),e=K(()=>{const{colorFill:i,colorFillTertiary:r,colorFillQuaternary:o,colorBgContainer:s}=n.value;return{borderColor:new zi(i).onBackground(s).toHexString(),shadowColor:new zi(r).onBackground(s).toHexString(),contentColor:new zi(o).onBackground(s).toHexString()}});return()=>I("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[I("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[I("ellipse",{fill:e.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),I("g",{"fill-rule":"nonzero",stroke:e.value.borderColor},[I("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),I("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:e.value.contentColor},null)])])])}});p8.PRESENTED_IMAGE_SIMPLE=!0;const ooe=n=>{const{componentCls:e,margin:i,marginXS:r,marginXL:o,fontSize:s,lineHeight:a}=n;return{[e]:{marginInline:r,fontSize:s,lineHeight:a,textAlign:"center",[`${e}-image`]:{height:n.emptyImgHeight,marginBottom:r,opacity:n.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${e}-footer`]:{marginTop:i},"&-normal":{marginBlock:o,color:n.colorTextDisabled,[`${e}-image`]:{height:n.emptyImgHeightMD}},"&-small":{marginBlock:r,color:n.colorTextDisabled,[`${e}-image`]:{height:n.emptyImgHeightSM}}}}},soe=Di("Empty",n=>{const{componentCls:e,controlHeightLG:i}=n,r=Nn(n,{emptyImgCls:`${e}-img`,emptyImgHeight:i*2.5,emptyImgHeightMD:i,emptyImgHeightSM:i*.875});return[ooe(r)]});var aoe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const loe=()=>({prefixCls:String,imageStyle:vn(),image:_s(),description:_s()}),ER=We({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:loe(),setup(n,e){let{slots:i={},attrs:r}=e;const{direction:o,prefixCls:s}=en("empty",n),[a,l]=soe(s);return()=>{var u,c;const d=s.value,f=O(O({},n),r),{image:h=((u=i.image)===null||u===void 0?void 0:u.call(i))||Fu(AR),description:p=((c=i.description)===null||c===void 0?void 0:c.call(i))||void 0,imageStyle:v,class:b=""}=f,y=aoe(f,["image","description","imageStyle","class"]),m=typeof h=="function"?h():h,_=typeof m=="object"&&"type"in m&&m.type.PRESENTED_IMAGE_SIMPLE;return a(I(Aie,{componentName:"Empty",children:S=>{const w=typeof p<"u"?p:S.description,T=typeof w=="string"?w:"empty";let A=null;return typeof m=="string"?A=I("img",{alt:T,src:m},null):A=m,I("div",be({class:Ye(d,b,l.value,{[`${d}-normal`]:_,[`${d}-rtl`]:o.value==="rtl"})},y),[I("div",{class:`${d}-image`,style:v},[A]),w&&I("p",{class:`${d}-description`},[w]),i.default&&I("div",{class:`${d}-footer`},[Po(i.default())])])}},null))}}});ER.PRESENTED_IMAGE_DEFAULT=()=>Fu(AR);ER.PRESENTED_IMAGE_SIMPLE=()=>Fu(p8);const tf=cd(ER),g8=n=>{const{prefixCls:e}=en("empty",n);return(r=>{switch(r){case"Table":case"List":return I(tf,{image:tf.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return I(tf,{image:tf.PRESENTED_IMAGE_SIMPLE,class:`${e.value}-small`},null);default:return I(tf,null,null)}})(n.componentName)},uoe=Symbol("SizeContextKey"),coe=()=>Xt(uoe,He(void 0)),en=(n,e)=>{const i=coe(),r=vl(),o=Xt($6,O(O({},U6),{renderEmpty:C=>Fu(g8,{componentName:C})})),s=K(()=>o.getPrefixCls(n,e.prefixCls)),a=K(()=>{var C,R;return(C=e.direction)!==null&&C!==void 0?C:(R=o.direction)===null||R===void 0?void 0:R.value}),l=K(()=>{var C;return(C=e.iconPrefixCls)!==null&&C!==void 0?C:o.iconPrefixCls.value}),u=K(()=>o.getPrefixCls()),c=K(()=>{var C;return(C=o.autoInsertSpaceInButton)===null||C===void 0?void 0:C.value}),d=o.renderEmpty,f=o.space,h=o.pageHeader,p=o.form,v=K(()=>{var C,R;return(C=e.getTargetContainer)!==null&&C!==void 0?C:(R=o.getTargetContainer)===null||R===void 0?void 0:R.value}),b=K(()=>{var C,R,E;return(R=(C=e.getContainer)!==null&&C!==void 0?C:e.getPopupContainer)!==null&&R!==void 0?R:(E=o.getPopupContainer)===null||E===void 0?void 0:E.value}),y=K(()=>{var C,R;return(C=e.dropdownMatchSelectWidth)!==null&&C!==void 0?C:(R=o.dropdownMatchSelectWidth)===null||R===void 0?void 0:R.value}),m=K(()=>{var C;return(e.virtual===void 0?((C=o.virtual)===null||C===void 0?void 0:C.value)!==!1:e.virtual!==!1)&&y.value!==!1}),_=K(()=>e.size||i.value),S=K(()=>{var C,R,E;return(C=e.autocomplete)!==null&&C!==void 0?C:(E=(R=o.input)===null||R===void 0?void 0:R.value)===null||E===void 0?void 0:E.autocomplete}),w=K(()=>{var C;return(C=e.disabled)!==null&&C!==void 0?C:r.value}),T=K(()=>{var C;return(C=e.csp)!==null&&C!==void 0?C:o.csp}),A=K(()=>{var C,R;return(C=e.wave)!==null&&C!==void 0?C:(R=o.wave)===null||R===void 0?void 0:R.value});return{configProvider:o,prefixCls:s,direction:a,size:_,getTargetContainer:v,getPopupContainer:b,space:f,pageHeader:h,form:p,autoInsertSpaceInButton:c,renderEmpty:d,virtual:m,dropdownMatchSelectWidth:y,rootPrefixCls:u,getPrefixCls:o.getPrefixCls,autocomplete:S,csp:T,iconPrefixCls:l,disabled:w,select:o.select,wave:A}};function wi(n,e){const i=O({},n);for(let r=0;r<e.length;r+=1){const o=e[r];delete i[o]}return i}function doe(n,e,i,r){const o=i-e;return n/=r/2,n<1?o/2*n*n*n+e:o/2*((n-=2)*n*n+2)+e}function zE(n){return n!=null&&n===n.window}function foe(n,e){var i,r;if(typeof window>"u")return 0;const o="scrollTop";let s=0;return zE(n)?s=n.scrollY:n instanceof Document?s=n.documentElement[o]:(n instanceof HTMLElement||n)&&(s=n[o]),n&&!zE(n)&&typeof s!="number"&&(s=(r=((i=n.ownerDocument)!==null&&i!==void 0?i:n).documentElement)===null||r===void 0?void 0:r[o]),s}function hoe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:i=()=>window,callback:r,duration:o=450}=e,s=i(),a=foe(s),l=Date.now(),u=()=>{const d=Date.now()-l,f=doe(d>o?o:d,a,n,o);zE(s)?s.scrollTo(window.scrollX,f):s instanceof Document?s.documentElement.scrollTop=f:s.scrollTop=f,d<o?bn(u):typeof r=="function"&&r()};bn(u)}function poe(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function m8(n,e,i){return i&&poe(n,i),n}function Fx(){return(Fx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n}).apply(this,arguments)}function v8(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function y8(n,e){if(n==null)return{};var i,r,o={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(i=s[r])>=0||(o[i]=n[i]);return o}function fL(n){return((e=n)!=null&&typeof e=="object"&&Array.isArray(e)===!1)==1&&Object.prototype.toString.call(n)==="[object Object]";var e}var b8=Object.prototype,x8=b8.toString,goe=b8.hasOwnProperty,_8=/^\s*function (\w+)/;function hL(n){var e,i=(e=n==null?void 0:n.type)!==null&&e!==void 0?e:n;if(i){var r=i.toString().match(_8);return r?r[1]:""}return""}var Of=function(n){var e,i;return fL(n)!==!1&&typeof(e=n.constructor)=="function"&&fL(i=e.prototype)!==!1&&i.hasOwnProperty("isPrototypeOf")!==!1},moe=function(n){return n},Co=moe,Hv=function(n,e){return goe.call(n,e)},voe=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},Wp=Array.isArray||function(n){return x8.call(n)==="[object Array]"},jp=function(n){return x8.call(n)==="[object Function]"},M_=function(n){return Of(n)&&Hv(n,"_vueTypes_name")},S8=function(n){return Of(n)&&(Hv(n,"type")||["_vueTypes_name","validator","default","required"].some(function(e){return Hv(n,e)}))};function MR(n,e){return Object.defineProperty(n.bind(e),"__original",{value:n})}function qf(n,e,i){var r;i===void 0&&(i=!1);var o=!0,s="";r=Of(n)?n:{type:n};var a=M_(r)?r._vueTypes_name+" - ":"";if(S8(r)&&r.type!==null){if(r.type===void 0||r.type===!0||!r.required&&e===void 0)return o;Wp(r.type)?(o=r.type.some(function(f){return qf(f,e,!0)===!0}),s=r.type.map(function(f){return hL(f)}).join(" or ")):o=(s=hL(r))==="Array"?Wp(e):s==="Object"?Of(e):s==="String"||s==="Number"||s==="Boolean"||s==="Function"?function(f){if(f==null)return"";var h=f.constructor.toString().match(_8);return h?h[1]:""}(e)===s:e instanceof r.type}if(!o){var l=a+'value "'+e+'" should be of type "'+s+'"';return i===!1?(Co(l),!1):l}if(Hv(r,"validator")&&jp(r.validator)){var u=Co,c=[];if(Co=function(f){c.push(f)},o=r.validator(e),Co=u,!o){var d=(c.length>1?"* ":"")+c.join(`
* `);return c.length=0,i===!1?(Co(d),o):d}}return o}function Ms(n,e){var i=Object.defineProperties(e,{_vueTypes_name:{value:n,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(o){return o!==void 0||this.default?jp(o)||qf(this,o,!0)===!0?(this.default=Wp(o)?function(){return[].concat(o)}:Of(o)?function(){return Object.assign({},o)}:o,this):(Co(this._vueTypes_name+' - invalid default value: "'+o+'"'),this):this}}}),r=i.validator;return jp(r)&&(i.validator=MR(r,i)),i}function xl(n,e){var i=Ms(n,e);return Object.defineProperty(i,"validate",{value:function(r){return jp(this.validator)&&Co(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=MR(r,this),this}})}function pL(n,e,i){var r,o,s=(r=e,o={},Object.getOwnPropertyNames(r).forEach(function(f){o[f]=Object.getOwnPropertyDescriptor(r,f)}),Object.defineProperties({},o));if(s._vueTypes_name=n,!Of(i))return s;var a,l,u=i.validator,c=y8(i,["validator"]);if(jp(u)){var d=s.validator;d&&(d=(l=(a=d).__original)!==null&&l!==void 0?l:a),s.validator=MR(d?function(f){return d.call(this,f)&&u.call(this,f)}:u,s)}return Object.assign(s,c)}function WS(n){return n.replace(/^(?!\s*$)/gm,"  ")}var yoe=function(){return xl("any",{})},boe=function(){return xl("function",{type:Function})},xoe=function(){return xl("boolean",{type:Boolean})},_oe=function(){return xl("string",{type:String})},Soe=function(){return xl("number",{type:Number})},woe=function(){return xl("array",{type:Array})},Coe=function(){return xl("object",{type:Object})},Toe=function(){return Ms("integer",{type:Number,validator:function(n){return voe(n)}})},Aoe=function(){return Ms("symbol",{validator:function(n){return typeof n=="symbol"}})};function Eoe(n,e){if(e===void 0&&(e="custom validation failed"),typeof n!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return Ms(n.name||"<<anonymous function>>",{validator:function(i){var r=n(i);return r||Co(this._vueTypes_name+" - "+e),r}})}function Moe(n){if(!Wp(n))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var e='oneOf - value should be one of "'+n.join('", "')+'".',i=n.reduce(function(r,o){if(o!=null){var s=o.constructor;r.indexOf(s)===-1&&r.push(s)}return r},[]);return Ms("oneOf",{type:i.length>0?i:void 0,validator:function(r){var o=n.indexOf(r)!==-1;return o||Co(e),o}})}function Roe(n){if(!Wp(n))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var e=!1,i=[],r=0;r<n.length;r+=1){var o=n[r];if(S8(o)){if(M_(o)&&o._vueTypes_name==="oneOf"){i=i.concat(o.type);continue}if(jp(o.validator)&&(e=!0),o.type!==!0&&o.type){i=i.concat(o.type);continue}}i.push(o)}return i=i.filter(function(s,a){return i.indexOf(s)===a}),Ms("oneOfType",e?{type:i,validator:function(s){var a=[],l=n.some(function(u){var c=qf(M_(u)&&u._vueTypes_name==="oneOf"?u.type||null:u,s,!0);return typeof c=="string"&&a.push(c),c===!0});return l||Co("oneOfType - provided value does not match any of the "+a.length+` passed-in validators:
`+WS(a.join(`
`))),l}}:{type:i})}function Poe(n){return Ms("arrayOf",{type:Array,validator:function(e){var i,r=e.every(function(o){return(i=qf(n,o,!0))===!0});return r||Co(`arrayOf - value validation error:
`+WS(i)),r}})}function Ioe(n){return Ms("instanceOf",{type:n})}function Noe(n){return Ms("objectOf",{type:Object,validator:function(e){var i,r=Object.keys(e).every(function(o){return(i=qf(n,e[o],!0))===!0});return r||Co(`objectOf - value validation error:
`+WS(i)),r}})}function Ooe(n){var e=Object.keys(n),i=e.filter(function(o){var s;return!!(!((s=n[o])===null||s===void 0)&&s.required)}),r=Ms("shape",{type:Object,validator:function(o){var s=this;if(!Of(o))return!1;var a=Object.keys(o);if(i.length>0&&i.some(function(u){return a.indexOf(u)===-1})){var l=i.filter(function(u){return a.indexOf(u)===-1});return Co(l.length===1?'shape - required property "'+l[0]+'" is not defined.':'shape - required properties "'+l.join('", "')+'" are not defined.'),!1}return a.every(function(u){if(e.indexOf(u)===-1)return s._vueTypes_isLoose===!0||(Co('shape - shape definition does not include a "'+u+'" property. Allowed keys: "'+e.join('", "')+'".'),!1);var c=qf(n[u],o[u],!0);return typeof c=="string"&&Co('shape - "'+u+`" property validation error:
 `+WS(c)),c===!0})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),r}var Ya=function(){function n(){}return n.extend=function(e){var i=this;if(Wp(e))return e.forEach(function(f){return i.extend(f)}),this;var r=e.name,o=e.validate,s=o!==void 0&&o,a=e.getter,l=a!==void 0&&a,u=y8(e,["name","validate","getter"]);if(Hv(this,r))throw new TypeError('[VueTypes error]: Type "'+r+'" already defined');var c,d=u.type;return M_(d)?(delete u.type,Object.defineProperty(this,r,l?{get:function(){return pL(r,d,u)}}:{value:function(){var f,h=pL(r,d,u);return h.validator&&(h.validator=(f=h.validator).bind.apply(f,[h].concat([].slice.call(arguments)))),h}})):(c=l?{get:function(){var f=Object.assign({},u);return s?xl(r,f):Ms(r,f)},enumerable:!0}:{value:function(){var f,h,p=Object.assign({},u);return f=s?xl(r,p):Ms(r,p),p.validator&&(f.validator=(h=p.validator).bind.apply(h,[f].concat([].slice.call(arguments)))),f},enumerable:!0},Object.defineProperty(this,r,c))},m8(n,null,[{key:"any",get:function(){return yoe()}},{key:"func",get:function(){return boe().def(this.defaults.func)}},{key:"bool",get:function(){return xoe().def(this.defaults.bool)}},{key:"string",get:function(){return _oe().def(this.defaults.string)}},{key:"number",get:function(){return Soe().def(this.defaults.number)}},{key:"array",get:function(){return woe().def(this.defaults.array)}},{key:"object",get:function(){return Coe().def(this.defaults.object)}},{key:"integer",get:function(){return Toe().def(this.defaults.integer)}},{key:"symbol",get:function(){return Aoe()}}]),n}();function w8(n){var e;return n===void 0&&(n={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(e=function(i){function r(){return i.apply(this,arguments)||this}return v8(r,i),m8(r,null,[{key:"sensibleDefaults",get:function(){return Fx({},this.defaults)},set:function(o){this.defaults=o!==!1?Fx({},o!==!0?o:n):{}}}]),r}(Ya)).defaults=Fx({},n),e}Ya.defaults={},Ya.custom=Eoe,Ya.oneOf=Moe,Ya.instanceOf=Ioe,Ya.oneOfType=Roe,Ya.arrayOf=Poe,Ya.objectOf=Noe,Ya.shape=Ooe,Ya.utils={validate:function(n,e){return qf(e,n,!0)===!0},toType:function(n,e,i){return i===void 0&&(i=!1),i?xl(n,e):Ms(n,e)}};(function(n){function e(){return n.apply(this,arguments)||this}return v8(e,n),e})(w8());const _e=w8({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});_e.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);const fi=(n,e,i)=>{Y6(n,`[ant-design-vue: ${e}] ${i}`)};function gL(n,e){const{key:i}=n;let r;return"value"in n&&({value:r}=n),i??(r!==void 0?r:`rc-index-key-${e}`)}function C8(n,e){const{label:i,value:r,options:o}=n||{};return{label:i||(e?"children":"label"),value:r||"value",options:o||"options"}}function Doe(n){let{fieldNames:e,childrenAsData:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],{label:o,value:s,options:a}=C8(e,!1);function l(u,c){u.forEach(d=>{const f=d[o];if(c||!(a in d)){const h=d[s];r.push({key:gL(d,r.length),groupOption:c,data:d,label:f,value:h})}else{let h=f;h===void 0&&i&&(h=d.label),r.push({key:gL(d,r.length),group:!0,data:d,label:h}),l(d[a],!0)}})}return l(n,!1),r}function HE(n){const e=O({},n);return"props"in e||Object.defineProperty(e,"props",{get(){return e}}),e}function Loe(n,e){if(!e||!e.length)return null;let i=!1;function r(s,a){let[l,...u]=a;if(!l)return[s];const c=s.split(l);return i=i||c.length>1,c.reduce((d,f)=>[...d,...r(f,u)],[]).filter(d=>d)}const o=r(n,e);return i?o:null}function Boe(){return""}function Foe(n){return n?n.ownerDocument:window.document}function T8(){}const $oe=()=>({action:_e.oneOfType([_e.string,_e.arrayOf(_e.string)]).def([]),showAction:_e.any.def([]),hideAction:_e.any.def([]),getPopupClassNameFromAlign:_e.any.def(Boe),onPopupVisibleChange:Function,afterPopupVisibleChange:_e.func.def(T8),popup:_e.any,arrow:_e.bool.def(!0),popupStyle:{type:Object,default:void 0},prefixCls:_e.string.def("rc-trigger-popup"),popupClassName:_e.string.def(""),popupPlacement:String,builtinPlacements:_e.object,popupTransitionName:String,popupAnimation:_e.any,mouseEnterDelay:_e.number.def(0),mouseLeaveDelay:_e.number.def(.1),zIndex:Number,focusDelay:_e.number.def(0),blurDelay:_e.number.def(.15),getPopupContainer:Function,getDocument:_e.func.def(Foe),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:_e.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function}),RR={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,arrow:{type:Boolean,default:!0},animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},Uoe=O(O({},RR),{mobile:{type:Object}}),koe=O(O({},RR),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function A8(n){let{prefixCls:e,animation:i,transitionName:r}=n;return i?{name:`${e}-${i}`}:r?{name:r}:{}}function E8(n){const{prefixCls:e,visible:i,zIndex:r,mask:o,maskAnimation:s,maskTransitionName:a}=n;if(!o)return null;let l={};return(a||s)&&(l=A8({prefixCls:e,transitionName:a,animation:s})),I($a,be({appear:!0},l),{default:()=>[So(I("div",{style:{zIndex:r},class:`${e}-mask`},null),[[pte("if"),i]])]})}E8.displayName="Mask";const zoe=We({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:Uoe,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(n,e){let{expose:i,slots:r}=e;const o=He();return i({forceAlign:()=>{},getElement:()=>o.value}),()=>{var s;const{zIndex:a,visible:l,prefixCls:u,mobile:{popupClassName:c,popupStyle:d,popupMotion:f={},popupRender:h}={}}=n,p=O({zIndex:a},d);let v=tr((s=r.default)===null||s===void 0?void 0:s.call(r));v.length>1&&(v=I("div",{class:`${u}-content`},[v])),h&&(v=h(v));const b=Ye(u,c);return I($a,be({ref:o},f),{default:()=>[l?I("div",{class:b,style:p},[v]):null]})}}});var Hoe=function(n,e,i,r){function o(s){return s instanceof i?s:new i(function(a){a(s)})}return new(i||(i=Promise))(function(s,a){function l(d){try{c(r.next(d))}catch(f){a(f)}}function u(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):o(d.value).then(l,u)}c((r=r.apply(n,e||[])).next())})};const mL=["measure","align",null,"motion"],Goe=(n,e)=>{const i=Ne(null),r=Ne(),o=Ne(!1);function s(u){o.value||(i.value=u)}function a(){bn.cancel(r.value)}function l(u){a(),r.value=bn(()=>{let c=i.value;switch(i.value){case"align":c="motion";break;case"motion":c="stable";break}s(c),u==null||u()})}return ut(n,()=>{s("measure")},{immediate:!0,flush:"post"}),Jt(()=>{ut(i,()=>{switch(i.value){case"measure":e();break}i.value&&(r.value=bn(()=>Hoe(void 0,void 0,void 0,function*(){const u=mL.indexOf(i.value),c=mL[u+1];c&&u!==-1&&s(c)})))},{immediate:!0,flush:"post"})}),Rn(()=>{o.value=!0,a()}),[i,l]},Voe=n=>{const e=Ne({width:0,height:0});function i(o){e.value={width:o.offsetWidth,height:o.offsetHeight}}return[K(()=>{const o={};if(n.value){const{width:s,height:a}=e.value;n.value.indexOf("height")!==-1&&a?o.height=`${a}px`:n.value.indexOf("minHeight")!==-1&&a&&(o.minHeight=`${a}px`),n.value.indexOf("width")!==-1&&s?o.width=`${s}px`:n.value.indexOf("minWidth")!==-1&&s&&(o.minWidth=`${s}px`)}return o}),i]};function vL(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function yL(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(i),!0).forEach(function(r){Woe(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):vL(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function GE(n){"@babel/helpers - typeof";return GE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GE(n)}function Woe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var um,joe={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function R_(){if(um!==void 0)return um;um="";var n=document.createElement("p").style,e="Transform";for(var i in joe)i+e in n&&(um=i);return um}function M8(){return R_()?"".concat(R_(),"TransitionProperty"):"transitionProperty"}function jS(){return R_()?"".concat(R_(),"Transform"):"transform"}function bL(n,e){var i=M8();i&&(n.style[i]=e,i!=="transitionProperty"&&(n.style.transitionProperty=e))}function OC(n,e){var i=jS();i&&(n.style[i]=e,i!=="transform"&&(n.style.transform=e))}function Koe(n){return n.style.transitionProperty||n.style[M8()]}function Xoe(n){var e=window.getComputedStyle(n,null),i=e.getPropertyValue("transform")||e.getPropertyValue(jS());if(i&&i!=="none"){var r=i.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var qoe=/matrix\((.*)\)/,Yoe=/matrix3d\((.*)\)/;function Qoe(n,e){var i=window.getComputedStyle(n,null),r=i.getPropertyValue("transform")||i.getPropertyValue(jS());if(r&&r!=="none"){var o,s=r.match(qoe);if(s)s=s[1],o=s.split(",").map(function(l){return parseFloat(l,10)}),o[4]=e.x,o[5]=e.y,OC(n,"matrix(".concat(o.join(","),")"));else{var a=r.match(Yoe)[1];o=a.split(",").map(function(l){return parseFloat(l,10)}),o[12]=e.x,o[13]=e.y,OC(n,"matrix3d(".concat(o.join(","),")"))}}else OC(n,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var Zoe=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Dy;function xL(n){var e=n.style.display;n.style.display="none",n.offsetHeight,n.style.display=e}function Sp(n,e,i){var r=i;if(GE(e)==="object"){for(var o in e)e.hasOwnProperty(o)&&Sp(n,o,e[o]);return}if(typeof r<"u"){typeof r=="number"&&(r="".concat(r,"px")),n.style[e]=r;return}return Dy(n,e)}function Joe(n){var e,i,r,o=n.ownerDocument,s=o.body,a=o&&o.documentElement;return e=n.getBoundingClientRect(),i=Math.floor(e.left),r=Math.floor(e.top),i-=a.clientLeft||s.clientLeft||0,r-=a.clientTop||s.clientTop||0,{left:i,top:r}}function R8(n,e){var i=n["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof i!="number"){var o=n.document;i=o.documentElement[r],typeof i!="number"&&(i=o.body[r])}return i}function P8(n){return R8(n)}function I8(n){return R8(n,!0)}function Gv(n){var e=Joe(n),i=n.ownerDocument,r=i.defaultView||i.parentWindow;return e.left+=P8(r),e.top+=I8(r),e}function PR(n){return n!=null&&n==n.window}function N8(n){return PR(n)?n.document:n.nodeType===9?n:n.ownerDocument}function ese(n,e,i){var r=i,o="",s=N8(n);return r=r||s.defaultView.getComputedStyle(n,null),r&&(o=r.getPropertyValue(e)||r[e]),o}var tse=new RegExp("^(".concat(Zoe,")(?!px)[a-z%]+$"),"i"),nse=/^(top|right|bottom|left)$/,DC="currentStyle",LC="runtimeStyle",Nd="left",ise="px";function rse(n,e){var i=n[DC]&&n[DC][e];if(tse.test(i)&&!nse.test(e)){var r=n.style,o=r[Nd],s=n[LC][Nd];n[LC][Nd]=n[DC][Nd],r[Nd]=e==="fontSize"?"1em":i||0,i=r.pixelLeft+ise,r[Nd]=o,n[LC][Nd]=s}return i===""?"auto":i}typeof window<"u"&&(Dy=window.getComputedStyle?ese:rse);function nb(n,e){return n==="left"?e.useCssRight?"right":n:e.useCssBottom?"bottom":n}function _L(n){if(n==="left")return"right";if(n==="right")return"left";if(n==="top")return"bottom";if(n==="bottom")return"top"}function SL(n,e,i){Sp(n,"position")==="static"&&(n.style.position="relative");var r=-999,o=-999,s=nb("left",i),a=nb("top",i),l=_L(s),u=_L(a);s!=="left"&&(r=999),a!=="top"&&(o=999);var c="",d=Gv(n);("left"in e||"top"in e)&&(c=Koe(n)||"",bL(n,"none")),"left"in e&&(n.style[l]="",n.style[s]="".concat(r,"px")),"top"in e&&(n.style[u]="",n.style[a]="".concat(o,"px")),xL(n);var f=Gv(n),h={};for(var p in e)if(e.hasOwnProperty(p)){var v=nb(p,i),b=p==="left"?r:o,y=d[p]-f[p];v===p?h[v]=b+y:h[v]=b-y}Sp(n,h),xL(n),("left"in e||"top"in e)&&bL(n,c);var m={};for(var _ in e)if(e.hasOwnProperty(_)){var S=nb(_,i),w=e[_]-d[_];_===S?m[S]=h[S]+w:m[S]=h[S]-w}Sp(n,m)}function ose(n,e){var i=Gv(n),r=Xoe(n),o={x:r.x,y:r.y};"left"in e&&(o.x=r.x+e.left-i.left),"top"in e&&(o.y=r.y+e.top-i.top),Qoe(n,o)}function sse(n,e,i){if(i.ignoreShake){var r=Gv(n),o=r.left.toFixed(0),s=r.top.toFixed(0),a=e.left.toFixed(0),l=e.top.toFixed(0);if(o===a&&s===l)return}i.useCssRight||i.useCssBottom?SL(n,e,i):i.useCssTransform&&jS()in document.body.style?ose(n,e):SL(n,e,i)}function IR(n,e){for(var i=0;i<n.length;i++)e(n[i])}function O8(n){return Dy(n,"boxSizing")==="border-box"}var ase=["margin","border","padding"],VE=-1,lse=2,WE=1,use=0;function cse(n,e,i){var r={},o=n.style,s;for(s in e)e.hasOwnProperty(s)&&(r[s]=o[s],o[s]=e[s]);i.call(n);for(s in e)e.hasOwnProperty(s)&&(o[s]=r[s])}function Gm(n,e,i){var r=0,o,s,a;for(s=0;s<e.length;s++)if(o=e[s],o)for(a=0;a<i.length;a++){var l=void 0;o==="border"?l="".concat(o).concat(i[a],"Width"):l=o+i[a],r+=parseFloat(Dy(n,l))||0}return r}var sl={getParent:function(e){var i=e;do i.nodeType===11&&i.host?i=i.host:i=i.parentNode;while(i&&i.nodeType!==1&&i.nodeType!==9);return i}};IR(["Width","Height"],function(n){sl["doc".concat(n)]=function(e){var i=e.document;return Math.max(i.documentElement["scroll".concat(n)],i.body["scroll".concat(n)],sl["viewport".concat(n)](i))},sl["viewport".concat(n)]=function(e){var i="client".concat(n),r=e.document,o=r.body,s=r.documentElement,a=s[i];return r.compatMode==="CSS1Compat"&&a||o&&o[i]||a}});function wL(n,e,i){var r=i;if(PR(n))return e==="width"?sl.viewportWidth(n):sl.viewportHeight(n);if(n.nodeType===9)return e==="width"?sl.docWidth(n):sl.docHeight(n);var o=e==="width"?["Left","Right"]:["Top","Bottom"],s=Math.floor(e==="width"?n.getBoundingClientRect().width:n.getBoundingClientRect().height),a=O8(n),l=0;(s==null||s<=0)&&(s=void 0,l=Dy(n,e),(l==null||Number(l)<0)&&(l=n.style[e]||0),l=Math.floor(parseFloat(l))||0),r===void 0&&(r=a?WE:VE);var u=s!==void 0||a,c=s||l;return r===VE?u?c-Gm(n,["border","padding"],o):l:u?r===WE?c:c+(r===lse?-Gm(n,["border"],o):Gm(n,["margin"],o)):l+Gm(n,ase.slice(r),o)}var dse={position:"absolute",visibility:"hidden",display:"block"};function CL(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];var r,o=e[0];return o.offsetWidth!==0?r=wL.apply(void 0,e):cse(o,dse,function(){r=wL.apply(void 0,e)}),r}IR(["width","height"],function(n){var e=n.charAt(0).toUpperCase()+n.slice(1);sl["outer".concat(e)]=function(r,o){return r&&CL(r,n,o?use:WE)};var i=n==="width"?["Left","Right"]:["Top","Bottom"];sl[n]=function(r,o){var s=o;if(s!==void 0){if(r){var a=O8(r);return a&&(s+=Gm(r,["padding","border"],i)),Sp(r,n,s)}return}return r&&CL(r,n,VE)}});function D8(n,e){for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}var on={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var i=e.ownerDocument||e;return i.defaultView||i.parentWindow},getDocument:N8,offset:function(e,i,r){if(typeof i<"u")sse(e,i,r||{});else return Gv(e)},isWindow:PR,each:IR,css:Sp,clone:function(e){var i,r={};for(i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);var o=e.overflow;if(o)for(i in e)e.hasOwnProperty(i)&&(r.overflow[i]=e.overflow[i]);return r},mix:D8,getWindowScrollLeft:function(e){return P8(e)},getWindowScrollTop:function(e){return I8(e)},merge:function(){for(var e={},i=0;i<arguments.length;i++)on.mix(e,i<0||arguments.length<=i?void 0:arguments[i]);return e},viewportWidth:0,viewportHeight:0};D8(on,sl);var BC=on.getParent;function jE(n){if(on.isWindow(n)||n.nodeType===9)return null;var e=on.getDocument(n),i=e.body,r,o=on.css(n,"position"),s=o==="fixed"||o==="absolute";if(!s)return n.nodeName.toLowerCase()==="html"?null:BC(n);for(r=BC(n);r&&r!==i&&r.nodeType!==9;r=BC(r))if(o=on.css(r,"position"),o!=="static")return r;return null}var TL=on.getParent;function fse(n){if(on.isWindow(n)||n.nodeType===9)return!1;var e=on.getDocument(n),i=e.body,r=null;for(r=TL(n);r&&r!==i&&r!==e;r=TL(r)){var o=on.css(r,"position");if(o==="fixed")return!0}return!1}function NR(n,e){for(var i={left:0,right:1/0,top:0,bottom:1/0},r=jE(n),o=on.getDocument(n),s=o.defaultView||o.parentWindow,a=o.body,l=o.documentElement;r;){if((navigator.userAgent.indexOf("MSIE")===-1||r.clientWidth!==0)&&r!==a&&r!==l&&on.css(r,"overflow")!=="visible"){var u=on.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,i.top=Math.max(i.top,u.top),i.right=Math.min(i.right,u.left+r.clientWidth),i.bottom=Math.min(i.bottom,u.top+r.clientHeight),i.left=Math.max(i.left,u.left)}else if(r===a||r===l)break;r=jE(r)}var c=null;if(!on.isWindow(n)&&n.nodeType!==9){c=n.style.position;var d=on.css(n,"position");d==="absolute"&&(n.style.position="fixed")}var f=on.getWindowScrollLeft(s),h=on.getWindowScrollTop(s),p=on.viewportWidth(s),v=on.viewportHeight(s),b=l.scrollWidth,y=l.scrollHeight,m=window.getComputedStyle(a);if(m.overflowX==="hidden"&&(b=s.innerWidth),m.overflowY==="hidden"&&(y=s.innerHeight),n.style&&(n.style.position=c),e||fse(n))i.left=Math.max(i.left,f),i.top=Math.max(i.top,h),i.right=Math.min(i.right,f+p),i.bottom=Math.min(i.bottom,h+v);else{var _=Math.max(b,f+p);i.right=Math.min(i.right,_);var S=Math.max(y,h+v);i.bottom=Math.min(i.bottom,S)}return i.top>=0&&i.left>=0&&i.bottom>i.top&&i.right>i.left?i:null}function hse(n,e,i,r){var o=on.clone(n),s={width:e.width,height:e.height};return r.adjustX&&o.left<i.left&&(o.left=i.left),r.resizeWidth&&o.left>=i.left&&o.left+s.width>i.right&&(s.width-=o.left+s.width-i.right),r.adjustX&&o.left+s.width>i.right&&(o.left=Math.max(i.right-s.width,i.left)),r.adjustY&&o.top<i.top&&(o.top=i.top),r.resizeHeight&&o.top>=i.top&&o.top+s.height>i.bottom&&(s.height-=o.top+s.height-i.bottom),r.adjustY&&o.top+s.height>i.bottom&&(o.top=Math.max(i.bottom-s.height,i.top)),on.mix(o,s)}function OR(n){var e,i,r;if(!on.isWindow(n)&&n.nodeType!==9)e=on.offset(n),i=on.outerWidth(n),r=on.outerHeight(n);else{var o=on.getWindow(n);e={left:on.getWindowScrollLeft(o),top:on.getWindowScrollTop(o)},i=on.viewportWidth(o),r=on.viewportHeight(o)}return e.width=i,e.height=r,e}function AL(n,e){var i=e.charAt(0),r=e.charAt(1),o=n.width,s=n.height,a=n.left,l=n.top;return i==="c"?l+=s/2:i==="b"&&(l+=s),r==="c"?a+=o/2:r==="r"&&(a+=o),{left:a,top:l}}function ib(n,e,i,r,o){var s=AL(e,i[1]),a=AL(n,i[0]),l=[a.left-s.left,a.top-s.top];return{left:Math.round(n.left-l[0]+r[0]-o[0]),top:Math.round(n.top-l[1]+r[1]-o[1])}}function EL(n,e,i){return n.left<i.left||n.left+e.width>i.right}function ML(n,e,i){return n.top<i.top||n.top+e.height>i.bottom}function pse(n,e,i){return n.left>i.right||n.left+e.width<i.left}function gse(n,e,i){return n.top>i.bottom||n.top+e.height<i.top}function rb(n,e,i){var r=[];return on.each(n,function(o){r.push(o.replace(e,function(s){return i[s]}))}),r}function ob(n,e){return n[e]=-n[e],n}function RL(n,e){var i;return/%$/.test(n)?i=parseInt(n.substring(0,n.length-1),10)/100*e:i=parseInt(n,10),i||0}function PL(n,e){n[0]=RL(n[0],e.width),n[1]=RL(n[1],e.height)}function L8(n,e,i,r){var o=i.points,s=i.offset||[0,0],a=i.targetOffset||[0,0],l=i.overflow,u=i.source||n;s=[].concat(s),a=[].concat(a),l=l||{};var c={},d=0,f=!!(l&&l.alwaysByViewport),h=NR(u,f),p=OR(u);PL(s,p),PL(a,e);var v=ib(p,e,o,s,a),b=on.merge(p,v);if(h&&(l.adjustX||l.adjustY)&&r){if(l.adjustX&&EL(v,p,h)){var y=rb(o,/[lr]/gi,{l:"r",r:"l"}),m=ob(s,0),_=ob(a,0),S=ib(p,e,y,m,_);pse(S,p,h)||(d=1,o=y,s=m,a=_)}if(l.adjustY&&ML(v,p,h)){var w=rb(o,/[tb]/gi,{t:"b",b:"t"}),T=ob(s,1),A=ob(a,1),C=ib(p,e,w,T,A);gse(C,p,h)||(d=1,o=w,s=T,a=A)}d&&(v=ib(p,e,o,s,a),on.mix(b,v));var R=EL(v,p,h),E=ML(v,p,h);if(R||E){var P=o;R&&(P=rb(o,/[lr]/gi,{l:"r",r:"l"})),E&&(P=rb(o,/[tb]/gi,{t:"b",b:"t"})),o=P,s=i.offset||[0,0],a=i.targetOffset||[0,0]}c.adjustX=l.adjustX&&R,c.adjustY=l.adjustY&&E,(c.adjustX||c.adjustY)&&(b=hse(v,p,h,c))}return b.width!==p.width&&on.css(u,"width",on.width(u)+b.width-p.width),b.height!==p.height&&on.css(u,"height",on.height(u)+b.height-p.height),on.offset(u,{left:b.left,top:b.top},{useCssRight:i.useCssRight,useCssBottom:i.useCssBottom,useCssTransform:i.useCssTransform,ignoreShake:i.ignoreShake}),{points:o,offset:s,targetOffset:a,overflow:c}}function mse(n,e){var i=NR(n,e),r=OR(n);return!i||r.left+r.width<=i.left||r.top+r.height<=i.top||r.left>=i.right||r.top>=i.bottom}function DR(n,e,i){var r=i.target||e,o=OR(r),s=!mse(r,i.overflow&&i.overflow.alwaysByViewport);return L8(n,o,i,s)}DR.__getOffsetParent=jE;DR.__getVisibleRectForElement=NR;function vse(n,e,i){var r,o,s=on.getDocument(n),a=s.defaultView||s.parentWindow,l=on.getWindowScrollLeft(a),u=on.getWindowScrollTop(a),c=on.viewportWidth(a),d=on.viewportHeight(a);"pageX"in e?r=e.pageX:r=l+e.clientX,"pageY"in e?o=e.pageY:o=u+e.clientY;var f={left:r,top:o,width:0,height:0},h=r>=0&&r<=l+c&&o>=0&&o<=u+d,p=[i.points[0],"cc"];return L8(n,f,yL(yL({},i),{},{points:p}),h)}function Ii(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=n;if(Array.isArray(n)&&(o=Po(n)[0]),!o)return null;const s=ts(o,e,r);return s.props=i?O(O({},s.props),e):s.props,HS(typeof s.props.class!="object"),s}const B8=n=>(n||[]).some(e=>Sr(e)?!(e.type===oo||e.type===mn&&!B8(e.children)):!0)?n:null;function KS(n,e,i,r){var o;const s=(o=n[e])===null||o===void 0?void 0:o.call(n,i);return B8(s)?s:r==null?void 0:r()}const LR=n=>{if(!n)return!1;if(n.offsetParent)return!0;if(n.getBBox){const e=n.getBBox();if(e.width||e.height)return!0}if(n.getBoundingClientRect){const e=n.getBoundingClientRect();if(e.width||e.height)return!0}return!1};function yse(n,e){return n===e?!0:!n||!e?!1:"pageX"in e&&"pageY"in e?n.pageX===e.pageX&&n.pageY===e.pageY:"clientX"in e&&"clientY"in e?n.clientX===e.clientX&&n.clientY===e.clientY:!1}function bse(n,e){n!==document.activeElement&&Jd(e,n)&&typeof n.focus=="function"&&n.focus()}function IL(n,e){let i=null,r=null;function o(a){let[{target:l}]=a;if(!document.documentElement.contains(l))return;const{width:u,height:c}=l.getBoundingClientRect(),d=Math.floor(u),f=Math.floor(c);(i!==d||r!==f)&&Promise.resolve().then(()=>{e({width:d,height:f})}),i=d,r=f}const s=new I6(o);return n&&s.observe(n),()=>{s.disconnect()}}const xse=(n,e)=>{let i=!1,r=null;function o(){clearTimeout(r)}function s(a){if(!i||a===!0){if(n()===!1)return;i=!0,o(),r=setTimeout(()=>{i=!1},e.value)}else o(),r=setTimeout(()=>{i=!1,s()},e.value)}return[s,()=>{i=!1,o()}]};function _se(){this.__data__=[],this.size=0}function BR(n,e){return n===e||n!==n&&e!==e}function XS(n,e){for(var i=n.length;i--;)if(BR(n[i][0],e))return i;return-1}var Sse=Array.prototype,wse=Sse.splice;function Cse(n){var e=this.__data__,i=XS(e,n);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():wse.call(e,i,1),--this.size,!0}function Tse(n){var e=this.__data__,i=XS(e,n);return i<0?void 0:e[i][1]}function Ase(n){return XS(this.__data__,n)>-1}function Ese(n,e){var i=this.__data__,r=XS(i,n);return r<0?(++this.size,i.push([n,e])):i[r][1]=e,this}function qu(n){var e=-1,i=n==null?0:n.length;for(this.clear();++e<i;){var r=n[e];this.set(r[0],r[1])}}qu.prototype.clear=_se;qu.prototype.delete=Cse;qu.prototype.get=Tse;qu.prototype.has=Ase;qu.prototype.set=Ese;function Mse(){this.__data__=new qu,this.size=0}function Rse(n){var e=this.__data__,i=e.delete(n);return this.size=e.size,i}function Pse(n){return this.__data__.get(n)}function Ise(n){return this.__data__.has(n)}var F8=typeof global=="object"&&global&&global.Object===Object&&global,Nse=typeof self=="object"&&self&&self.Object===Object&&self,Pl=F8||Nse||Function("return this")(),_l=Pl.Symbol,$8=Object.prototype,Ose=$8.hasOwnProperty,Dse=$8.toString,cm=_l?_l.toStringTag:void 0;function Lse(n){var e=Ose.call(n,cm),i=n[cm];try{n[cm]=void 0;var r=!0}catch{}var o=Dse.call(n);return r&&(e?n[cm]=i:delete n[cm]),o}var Bse=Object.prototype,Fse=Bse.toString;function $se(n){return Fse.call(n)}var Use="[object Null]",kse="[object Undefined]",NL=_l?_l.toStringTag:void 0;function Yf(n){return n==null?n===void 0?kse:Use:NL&&NL in Object(n)?Lse(n):$se(n)}function Uu(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var zse="[object AsyncFunction]",Hse="[object Function]",Gse="[object GeneratorFunction]",Vse="[object Proxy]";function U8(n){if(!Uu(n))return!1;var e=Yf(n);return e==Hse||e==Gse||e==zse||e==Vse}var FC=Pl["__core-js_shared__"],OL=function(){var n=/[^.]+$/.exec(FC&&FC.keys&&FC.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Wse(n){return!!OL&&OL in n}var jse=Function.prototype,Kse=jse.toString;function Qf(n){if(n!=null){try{return Kse.call(n)}catch{}try{return n+""}catch{}}return""}var Xse=/[\\^$.*+?()[\]{}|]/g,qse=/^\[object .+?Constructor\]$/,Yse=Function.prototype,Qse=Object.prototype,Zse=Yse.toString,Jse=Qse.hasOwnProperty,eae=RegExp("^"+Zse.call(Jse).replace(Xse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tae(n){if(!Uu(n)||Wse(n))return!1;var e=U8(n)?eae:qse;return e.test(Qf(n))}function nae(n,e){return n==null?void 0:n[e]}function Zf(n,e){var i=nae(n,e);return tae(i)?i:void 0}var Vv=Zf(Pl,"Map"),Wv=Zf(Object,"create");function iae(){this.__data__=Wv?Wv(null):{},this.size=0}function rae(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var oae="__lodash_hash_undefined__",sae=Object.prototype,aae=sae.hasOwnProperty;function lae(n){var e=this.__data__;if(Wv){var i=e[n];return i===oae?void 0:i}return aae.call(e,n)?e[n]:void 0}var uae=Object.prototype,cae=uae.hasOwnProperty;function dae(n){var e=this.__data__;return Wv?e[n]!==void 0:cae.call(e,n)}var fae="__lodash_hash_undefined__";function hae(n,e){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=Wv&&e===void 0?fae:e,this}function Df(n){var e=-1,i=n==null?0:n.length;for(this.clear();++e<i;){var r=n[e];this.set(r[0],r[1])}}Df.prototype.clear=iae;Df.prototype.delete=rae;Df.prototype.get=lae;Df.prototype.has=dae;Df.prototype.set=hae;function pae(){this.size=0,this.__data__={hash:new Df,map:new(Vv||qu),string:new Df}}function gae(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function qS(n,e){var i=n.__data__;return gae(e)?i[typeof e=="string"?"string":"hash"]:i.map}function mae(n){var e=qS(this,n).delete(n);return this.size-=e?1:0,e}function vae(n){return qS(this,n).get(n)}function yae(n){return qS(this,n).has(n)}function bae(n,e){var i=qS(this,n),r=i.size;return i.set(n,e),this.size+=i.size==r?0:1,this}function Yu(n){var e=-1,i=n==null?0:n.length;for(this.clear();++e<i;){var r=n[e];this.set(r[0],r[1])}}Yu.prototype.clear=pae;Yu.prototype.delete=mae;Yu.prototype.get=vae;Yu.prototype.has=yae;Yu.prototype.set=bae;var xae=200;function _ae(n,e){var i=this.__data__;if(i instanceof qu){var r=i.__data__;if(!Vv||r.length<xae-1)return r.push([n,e]),this.size=++i.size,this;i=this.__data__=new Yu(r)}return i.set(n,e),this.size=i.size,this}function Pu(n){var e=this.__data__=new qu(n);this.size=e.size}Pu.prototype.clear=Mse;Pu.prototype.delete=Rse;Pu.prototype.get=Pse;Pu.prototype.has=Ise;Pu.prototype.set=_ae;var Sae="__lodash_hash_undefined__";function wae(n){return this.__data__.set(n,Sae),this}function Cae(n){return this.__data__.has(n)}function jv(n){var e=-1,i=n==null?0:n.length;for(this.__data__=new Yu;++e<i;)this.add(n[e])}jv.prototype.add=jv.prototype.push=wae;jv.prototype.has=Cae;function Tae(n,e){for(var i=-1,r=n==null?0:n.length;++i<r;)if(e(n[i],i,n))return!0;return!1}function k8(n,e){return n.has(e)}var Aae=1,Eae=2;function z8(n,e,i,r,o,s){var a=i&Aae,l=n.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(n),d=s.get(e);if(c&&d)return c==e&&d==n;var f=-1,h=!0,p=i&Eae?new jv:void 0;for(s.set(n,e),s.set(e,n);++f<l;){var v=n[f],b=e[f];if(r)var y=a?r(b,v,f,e,n,s):r(v,b,f,n,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!Tae(e,function(m,_){if(!k8(p,_)&&(v===m||o(v,m,i,r,s)))return p.push(_)})){h=!1;break}}else if(!(v===b||o(v,b,i,r,s))){h=!1;break}}return s.delete(n),s.delete(e),h}var DL=Pl.Uint8Array;function Mae(n){var e=-1,i=Array(n.size);return n.forEach(function(r,o){i[++e]=[o,r]}),i}function FR(n){var e=-1,i=Array(n.size);return n.forEach(function(r){i[++e]=r}),i}var Rae=1,Pae=2,Iae="[object Boolean]",Nae="[object Date]",Oae="[object Error]",Dae="[object Map]",Lae="[object Number]",Bae="[object RegExp]",Fae="[object Set]",$ae="[object String]",Uae="[object Symbol]",kae="[object ArrayBuffer]",zae="[object DataView]",LL=_l?_l.prototype:void 0,$C=LL?LL.valueOf:void 0;function Hae(n,e,i,r,o,s,a){switch(i){case zae:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case kae:return!(n.byteLength!=e.byteLength||!s(new DL(n),new DL(e)));case Iae:case Nae:case Lae:return BR(+n,+e);case Oae:return n.name==e.name&&n.message==e.message;case Bae:case $ae:return n==e+"";case Dae:var l=Mae;case Fae:var u=r&Rae;if(l||(l=FR),n.size!=e.size&&!u)return!1;var c=a.get(n);if(c)return c==e;r|=Pae,a.set(n,e);var d=z8(l(n),l(e),r,o,s,a);return a.delete(n),d;case Uae:if($C)return $C.call(n)==$C.call(e)}return!1}function H8(n,e){for(var i=-1,r=e.length,o=n.length;++i<r;)n[o+i]=e[i];return n}var ua=Array.isArray;function Gae(n,e,i){var r=e(n);return ua(n)?r:H8(r,i(n))}function Vae(n,e){for(var i=-1,r=n==null?0:n.length,o=0,s=[];++i<r;){var a=n[i];e(a,i,n)&&(s[o++]=a)}return s}function Wae(){return[]}var jae=Object.prototype,Kae=jae.propertyIsEnumerable,BL=Object.getOwnPropertySymbols,Xae=BL?function(n){return n==null?[]:(n=Object(n),Vae(BL(n),function(e){return Kae.call(n,e)}))}:Wae;function qae(n,e){for(var i=-1,r=Array(n);++i<n;)r[i]=e(i);return r}function Lf(n){return n!=null&&typeof n=="object"}var Yae="[object Arguments]";function FL(n){return Lf(n)&&Yf(n)==Yae}var G8=Object.prototype,Qae=G8.hasOwnProperty,Zae=G8.propertyIsEnumerable,YS=FL(function(){return arguments}())?FL:function(n){return Lf(n)&&Qae.call(n,"callee")&&!Zae.call(n,"callee")};function Jae(){return!1}var V8=typeof Mu=="object"&&Mu&&!Mu.nodeType&&Mu,$L=V8&&typeof Ru=="object"&&Ru&&!Ru.nodeType&&Ru,ele=$L&&$L.exports===V8,UL=ele?Pl.Buffer:void 0,tle=UL?UL.isBuffer:void 0,P_=tle||Jae,nle=9007199254740991,ile=/^(?:0|[1-9]\d*)$/;function $R(n,e){var i=typeof n;return e=e??nle,!!e&&(i=="number"||i!="symbol"&&ile.test(n))&&n>-1&&n%1==0&&n<e}var rle=9007199254740991;function UR(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=rle}var ole="[object Arguments]",sle="[object Array]",ale="[object Boolean]",lle="[object Date]",ule="[object Error]",cle="[object Function]",dle="[object Map]",fle="[object Number]",hle="[object Object]",ple="[object RegExp]",gle="[object Set]",mle="[object String]",vle="[object WeakMap]",yle="[object ArrayBuffer]",ble="[object DataView]",xle="[object Float32Array]",_le="[object Float64Array]",Sle="[object Int8Array]",wle="[object Int16Array]",Cle="[object Int32Array]",Tle="[object Uint8Array]",Ale="[object Uint8ClampedArray]",Ele="[object Uint16Array]",Mle="[object Uint32Array]",yi={};yi[xle]=yi[_le]=yi[Sle]=yi[wle]=yi[Cle]=yi[Tle]=yi[Ale]=yi[Ele]=yi[Mle]=!0;yi[ole]=yi[sle]=yi[yle]=yi[ale]=yi[ble]=yi[lle]=yi[ule]=yi[cle]=yi[dle]=yi[fle]=yi[hle]=yi[ple]=yi[gle]=yi[mle]=yi[vle]=!1;function Rle(n){return Lf(n)&&UR(n.length)&&!!yi[Yf(n)]}function Ple(n){return function(e){return n(e)}}var W8=typeof Mu=="object"&&Mu&&!Mu.nodeType&&Mu,fv=W8&&typeof Ru=="object"&&Ru&&!Ru.nodeType&&Ru,Ile=fv&&fv.exports===W8,UC=Ile&&F8.process,kL=function(){try{var n=fv&&fv.require&&fv.require("util").types;return n||UC&&UC.binding&&UC.binding("util")}catch{}}(),zL=kL&&kL.isTypedArray,kR=zL?Ple(zL):Rle,Nle=Object.prototype,Ole=Nle.hasOwnProperty;function Dle(n,e){var i=ua(n),r=!i&&YS(n),o=!i&&!r&&P_(n),s=!i&&!r&&!o&&kR(n),a=i||r||o||s,l=a?qae(n.length,String):[],u=l.length;for(var c in n)Ole.call(n,c)&&!(a&&(c=="length"||o&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||$R(c,u)))&&l.push(c);return l}var Lle=Object.prototype;function j8(n){var e=n&&n.constructor,i=typeof e=="function"&&e.prototype||Lle;return n===i}function K8(n,e){return function(i){return n(e(i))}}var Ble=K8(Object.keys,Object),Fle=Object.prototype,$le=Fle.hasOwnProperty;function X8(n){if(!j8(n))return Ble(n);var e=[];for(var i in Object(n))$le.call(n,i)&&i!="constructor"&&e.push(i);return e}function zR(n){return n!=null&&UR(n.length)&&!U8(n)}function HR(n){return zR(n)?Dle(n):X8(n)}function HL(n){return Gae(n,HR,Xae)}var Ule=1,kle=Object.prototype,zle=kle.hasOwnProperty;function Hle(n,e,i,r,o,s){var a=i&Ule,l=HL(n),u=l.length,c=HL(e),d=c.length;if(u!=d&&!a)return!1;for(var f=u;f--;){var h=l[f];if(!(a?h in e:zle.call(e,h)))return!1}var p=s.get(n),v=s.get(e);if(p&&v)return p==e&&v==n;var b=!0;s.set(n,e),s.set(e,n);for(var y=a;++f<u;){h=l[f];var m=n[h],_=e[h];if(r)var S=a?r(_,m,h,e,n,s):r(m,_,h,n,e,s);if(!(S===void 0?m===_||o(m,_,i,r,s):S)){b=!1;break}y||(y=h=="constructor")}if(b&&!y){var w=n.constructor,T=e.constructor;w!=T&&"constructor"in n&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof T=="function"&&T instanceof T)&&(b=!1)}return s.delete(n),s.delete(e),b}var KE=Zf(Pl,"DataView"),XE=Zf(Pl,"Promise"),wp=Zf(Pl,"Set"),qE=Zf(Pl,"WeakMap"),GL="[object Map]",Gle="[object Object]",VL="[object Promise]",WL="[object Set]",jL="[object WeakMap]",KL="[object DataView]",Vle=Qf(KE),Wle=Qf(Vv),jle=Qf(XE),Kle=Qf(wp),Xle=Qf(qE),hu=Yf;(KE&&hu(new KE(new ArrayBuffer(1)))!=KL||Vv&&hu(new Vv)!=GL||XE&&hu(XE.resolve())!=VL||wp&&hu(new wp)!=WL||qE&&hu(new qE)!=jL)&&(hu=function(n){var e=Yf(n),i=e==Gle?n.constructor:void 0,r=i?Qf(i):"";if(r)switch(r){case Vle:return KL;case Wle:return GL;case jle:return VL;case Kle:return WL;case Xle:return jL}return e});var qle=1,XL="[object Arguments]",qL="[object Array]",sb="[object Object]",Yle=Object.prototype,YL=Yle.hasOwnProperty;function Qle(n,e,i,r,o,s){var a=ua(n),l=ua(e),u=a?qL:hu(n),c=l?qL:hu(e);u=u==XL?sb:u,c=c==XL?sb:c;var d=u==sb,f=c==sb,h=u==c;if(h&&P_(n)){if(!P_(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new Pu),a||kR(n)?z8(n,e,i,r,o,s):Hae(n,e,u,i,r,o,s);if(!(i&qle)){var p=d&&YL.call(n,"__wrapped__"),v=f&&YL.call(e,"__wrapped__");if(p||v){var b=p?n.value():n,y=v?e.value():e;return s||(s=new Pu),o(b,y,i,r,s)}}return h?(s||(s=new Pu),Hle(n,e,i,r,o,s)):!1}function QS(n,e,i,r,o){return n===e?!0:n==null||e==null||!Lf(n)&&!Lf(e)?n!==n&&e!==e:Qle(n,e,i,r,QS,o)}function Zle(n,e){return QS(n,e)}const Jle={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function QL(n){return typeof n!="function"?null:n()}function ZL(n){return typeof n!="object"||!n?null:n}const eue=We({compatConfig:{MODE:3},name:"Align",props:Jle,emits:["align"],setup(n,e){let{expose:i,slots:r}=e;const o=He({}),s=He(),[a,l]=xse(()=>{const{disabled:h,target:p,align:v,onAlign:b}=n;if(!h&&p&&s.value){const y=s.value;let m;const _=QL(p),S=ZL(p);o.value.element=_,o.value.point=S,o.value.align=v;const{activeElement:w}=document;return _&&LR(_)?m=DR(y,_,v):S&&(m=vse(y,S,v)),bse(w,y),b&&m&&b(y,m),!0}return!1},K(()=>n.monitorBufferTime)),u=He({cancel:()=>{}}),c=He({cancel:()=>{}}),d=()=>{const h=n.target,p=QL(h),v=ZL(h);s.value!==c.value.element&&(c.value.cancel(),c.value.element=s.value,c.value.cancel=IL(s.value,a)),(o.value.element!==p||!yse(o.value.point,v)||!Zle(o.value.align,n.align))&&(a(),u.value.element!==p&&(u.value.cancel(),u.value.element=p,u.value.cancel=IL(p,a)))};Jt(()=>{Un(()=>{d()})}),fa(()=>{Un(()=>{d()})}),ut(()=>n.disabled,h=>{h?l():a()},{immediate:!0,flush:"post"});const f=He(null);return ut(()=>n.monitorWindowResize,h=>{h?f.value||(f.value=ea(window,"resize",a)):f.value&&(f.value.remove(),f.value=null)},{flush:"post"}),Ha(()=>{u.value.cancel(),c.value.cancel(),f.value&&f.value.remove(),l()}),i({forceAlign:()=>a(!0)}),()=>{const h=r==null?void 0:r.default();return h?Ii(h[0],{ref:s},!0,!0):null}}});If("bottomLeft","bottomRight","topLeft","topRight");const tue=n=>n!==void 0&&(n==="topLeft"||n==="topRight")?"slide-down":"slide-up",Kp=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O(n?{name:n,appear:!0,enterFromClass:`${n}-enter ${n}-enter-prepare ${n}-enter-start`,enterActiveClass:`${n}-enter ${n}-enter-prepare`,enterToClass:`${n}-enter ${n}-enter-active`,leaveFromClass:` ${n}-leave`,leaveActiveClass:`${n}-leave ${n}-leave-active`,leaveToClass:`${n}-leave ${n}-leave-active`}:{css:!1},e)},nue=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O(n?{name:n,appear:!0,appearActiveClass:`${n}`,appearToClass:`${n}-appear ${n}-appear-active`,enterFromClass:`${n}-appear ${n}-enter ${n}-appear-prepare ${n}-enter-prepare`,enterActiveClass:`${n}`,enterToClass:`${n}-enter ${n}-appear ${n}-appear-active ${n}-enter-active`,leaveActiveClass:`${n} ${n}-leave`,leaveToClass:`${n}-leave-active`}:{css:!1},e)},I_=(n,e,i)=>i!==void 0?i:`${n}-${e}`,iue=We({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:RR,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(n,e){let{expose:i,attrs:r,slots:o}=e;const s=Ne(),a=Ne(),l=Ne(),[u,c]=Voe(Zn(n,"stretch")),d=()=>{n.stretch&&c(n.getRootDomNode())},f=Ne(!1);let h;ut(()=>n.visible,A=>{clearTimeout(h),A?h=setTimeout(()=>{f.value=n.visible}):f.value=!1},{immediate:!0});const[p,v]=Goe(f,d),b=Ne(),y=()=>n.point?n.point:n.getRootDomNode,m=()=>{var A;(A=s.value)===null||A===void 0||A.forceAlign()},_=(A,C)=>{var R;const E=n.getClassNameFromAlign(C),P=l.value;l.value!==E&&(l.value=E),p.value==="align"&&(P!==E?Promise.resolve().then(()=>{m()}):v(()=>{var N;(N=b.value)===null||N===void 0||N.call(b)}),(R=n.onAlign)===null||R===void 0||R.call(n,A,C))},S=K(()=>{const A=typeof n.animation=="object"?n.animation:A8(n);return["onAfterEnter","onAfterLeave"].forEach(C=>{const R=A[C];A[C]=E=>{v(),p.value="stable",R==null||R(E)}}),A}),w=()=>new Promise(A=>{b.value=A});ut([S,p],()=>{!S.value&&p.value==="motion"&&v()},{immediate:!0}),i({forceAlign:m,getElement:()=>a.value.$el||a.value});const T=K(()=>{var A;return!(!((A=n.align)===null||A===void 0)&&A.points&&(p.value==="align"||p.value==="stable"))});return()=>{var A;const{zIndex:C,align:R,prefixCls:E,destroyPopupOnHide:P,onMouseenter:N,onMouseleave:D,onTouchstart:$=()=>{},onMousedown:L}=n,F=p.value,U=[O(O({},u.value),{zIndex:C,opacity:F==="motion"||F==="stable"||!f.value?null:0,pointerEvents:!f.value&&F!=="stable"?"none":null}),r.style];let k=tr((A=o.default)===null||A===void 0?void 0:A.call(o,{visible:n.visible}));k.length>1&&(k=I("div",{class:`${E}-content`},[k]));const H=Ye(E,r.class,l.value,!n.arrow&&`${E}-arrow-hidden`),Q=f.value||!n.visible?Kp(S.value.name,S.value):{};return I($a,be(be({ref:a},Q),{},{onBeforeEnter:w}),{default:()=>!P||n.visible?So(I(eue,{target:y(),key:"popup",ref:s,monitorWindowResize:!0,disabled:T.value,align:R,onAlign:_},{default:()=>I("div",{class:H,onMouseenter:N,onMouseleave:D,onMousedown:$3(L,["capture"]),[ro?"onTouchstartPassive":"onTouchstart"]:$3($,["capture"]),style:U},[k])}),[[Vo,f.value]]):null})}}}),rue=We({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:koe,setup(n,e){let{attrs:i,slots:r,expose:o}=e;const s=Ne(!1),a=Ne(!1),l=Ne(),u=Ne();return ut([()=>n.visible,()=>n.mobile],()=>{s.value=n.visible,n.visible&&n.mobile&&(a.value=!0)},{immediate:!0,flush:"post"}),o({forceAlign:()=>{var c;(c=l.value)===null||c===void 0||c.forceAlign()},getElement:()=>{var c;return(c=l.value)===null||c===void 0?void 0:c.getElement()}}),()=>{const c=O(O(O({},n),i),{visible:s.value}),d=a.value?I(zoe,be(be({},c),{},{mobile:n.mobile,ref:l}),{default:r.default}):I(iue,be(be({},c),{},{ref:l}),{default:r.default});return I("div",{ref:u},[I(E8,c,null),d])}}});function oue(n,e,i){return i?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function JL(n,e,i){const r=n[e]||{};return O(O({},r),i)}function sue(n,e,i,r){const{points:o}=i,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(oue(n[l].points,o,r))return`${e}-placement-${l}`}return""}const q8={methods:{setState(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=typeof n=="function"?n(this.$data,this.$props):n;if(this.getDerivedStateFromProps){const r=this.getDerivedStateFromProps(bie(this),O(O({},this.$data),i));if(r===null)return;i=O(O({},i),r||{})}O(this.$data,i),this._.isMounted&&this.$forceUpdate(),Un(()=>{e&&e()})},__emit(){const n=[].slice.call(arguments,0);let e=n[0];e=`on${e[0].toUpperCase()}${e.substring(1)}`;const i=this.$props[e]||this.$attrs[e];if(n.length&&i)if(Array.isArray(i))for(let r=0,o=i.length;r<o;r++)i[r](...n.slice(1));else i(...n.slice(1))}}},Y8=Symbol("PortalContextKey"),Q8=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};Wn(Y8,{inTriggerContext:e.inTriggerContext,shouldRender:K(()=>{const{sPopupVisible:i,popupRef:r,forceRender:o,autoDestroy:s}=n||{};let a=!1;return(i||r||o)&&(a=!0),!i&&s&&(a=!1),a})})},aue=()=>{Q8({},{inTriggerContext:!1});const n=Xt(Y8,{shouldRender:K(()=>!1),inTriggerContext:!1});return{shouldRender:K(()=>n.shouldRender.value||n.inTriggerContext===!1)}},lue=We({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:_e.func.isRequired,didUpdate:Function},setup(n,e){let{slots:i}=e,r=!0,o;const{shouldRender:s}=aue();function a(){s.value&&(o=n.getContainer())}dR(()=>{r=!1,a()}),Jt(()=>{o||a()});const l=ut(s,()=>{s.value&&!o&&(o=n.getContainer()),o&&l()});return fa(()=>{Un(()=>{var u;s.value&&((u=n.didUpdate)===null||u===void 0||u.call(n,n))})}),()=>{var u;return s.value?r?(u=i.default)===null||u===void 0?void 0:u.call(i):o?I(z5,{to:o},i):null:null}}});let kC;function N_(n){if(typeof document>"u")return 0;if(kC===void 0){const e=document.createElement("div");e.style.width="100%",e.style.height="200px";const i=document.createElement("div"),r=i.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",i.appendChild(e),document.body.appendChild(i);const o=e.offsetWidth;i.style.overflow="scroll";let s=e.offsetWidth;o===s&&(s=i.clientWidth),document.body.removeChild(i),kC=o-s}return kC}function eB(n){const e=n.match(/^(.*)px$/),i=Number(e==null?void 0:e[1]);return Number.isNaN(i)?N_():i}function uue(n){if(typeof document>"u"||!n||!(n instanceof Element))return{width:0,height:0};const{width:e,height:i}=getComputedStyle(n,"::-webkit-scrollbar");return{width:eB(e),height:eB(i)}}const cue=`vc-util-locker-${Date.now()}`;let tB=0;function due(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function fue(n){const e=K(()=>!!n&&!!n.value);tB+=1;const i=`${cue}_${tB}`;an(r=>{if(aa()){if(e.value){const o=N_(),s=due();T_(`
html body {
  overflow-y: hidden;
  ${s?`width: calc(100% - ${o}px);`:""}
}`,i)}else C_(i);r(()=>{C_(i)})}},{flush:"post"})}let Od=0;const $x=aa(),nB=n=>{if(!$x)return null;if(n){if(typeof n=="string")return document.querySelectorAll(n)[0];if(typeof n=="function")return n();if(typeof n=="object"&&n instanceof window.HTMLElement)return n}return document.body},Z8=We({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:_e.any,visible:{type:Boolean,default:void 0},autoLock:Pt(),didUpdate:Function},setup(n,e){let{slots:i}=e;const r=Ne(),o=Ne(),s=Ne(),a=Ne(1),l=aa()&&document.createElement("div"),u=()=>{var p,v;r.value===l&&((v=(p=r.value)===null||p===void 0?void 0:p.parentNode)===null||v===void 0||v.removeChild(r.value)),r.value=null};let c=null;const d=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||r.value&&!r.value.parentNode?(c=nB(n.getContainer),c?(c.appendChild(r.value),!0):!1):!0},f=()=>$x?(r.value||(r.value=l,d(!0)),h(),r.value):null,h=()=>{const{wrapperClassName:p}=n;r.value&&p&&p!==r.value.className&&(r.value.className=p)};return fa(()=>{h(),d()}),fue(K(()=>n.autoLock&&n.visible&&aa()&&(r.value===document.body||r.value===l))),Jt(()=>{let p=!1;ut([()=>n.visible,()=>n.getContainer],(v,b)=>{let[y,m]=v,[_,S]=b;$x&&(c=nB(n.getContainer),c===document.body&&(y&&!_?Od+=1:p&&(Od-=1))),p&&(typeof m=="function"&&typeof S=="function"?m.toString()!==S.toString():m!==S)&&u(),p=!0},{immediate:!0,flush:"post"}),Un(()=>{d()||(s.value=bn(()=>{a.value+=1}))})}),Rn(()=>{const{visible:p}=n;$x&&c===document.body&&(Od=p&&Od?Od-1:Od),u(),bn.cancel(s.value)}),()=>{const{forceRender:p,visible:v}=n;let b=null;const y={getOpenCount:()=>Od,getContainer:f};return a.value&&(p||v||o.value)&&(b=I(lue,{getContainer:f,ref:o,didUpdate:n.didUpdate},{default:()=>{var m;return(m=i.default)===null||m===void 0?void 0:m.call(i,y)}})),b}}}),hue=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],ZS=We({compatConfig:{MODE:3},name:"Trigger",mixins:[q8],inheritAttrs:!1,props:$oe(),setup(n){const e=K(()=>{const{popupPlacement:o,popupAlign:s,builtinPlacements:a}=n;return o&&a?JL(a,o,s):s}),i=Ne(null),r=o=>{i.value=o};return{vcTriggerContext:Xt("vcTriggerContext",{}),popupRef:i,setPopupRef:r,triggerRef:Ne(null),align:e,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const n=this.$props;let e;return this.popupVisible!==void 0?e=!!n.popupVisible:e=!!n.defaultPopupVisible,hue.forEach(i=>{this[`fire${i}`]=r=>{this.fireEvents(i,r)}}),{prevPopupVisible:e,sPopupVisible:e,point:null}},watch:{popupVisible(n){n!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=n)}},created(){Wn("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),Q8(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),bn.cancel(this.attachId)},methods:{updatedCal(){const n=this.$props;if(this.$data.sPopupVisible){let i;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(i=n.getDocument(this.getRootDomNode()),this.clickOutsideHandler=ea(i,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(i=i||n.getDocument(this.getRootDomNode()),this.touchOutsideHandler=ea(i,"touchstart",this.onDocumentClick,ro?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(i=i||n.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=ea(i,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=ea(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(n){const{mouseEnterDelay:e}=this.$props;this.fireEvents("onMouseenter",n),this.delaySetPopupVisible(!0,e,e?null:n)},onMouseMove(n){this.fireEvents("onMousemove",n),this.setPoint(n)},onMouseleave(n){this.fireEvents("onMouseleave",n),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:n={}}=this;n.onPopupMouseenter&&n.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(n){var e;if(n&&n.relatedTarget&&!n.relatedTarget.setTimeout&&Jd((e=this.popupRef)===null||e===void 0?void 0:e.getElement(),n.relatedTarget))return;this.isMouseLeaveToHide()&&this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:i={}}=this;i.onPopupMouseleave&&i.onPopupMouseleave(n)},onFocus(n){this.fireEvents("onFocus",n),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(n){this.fireEvents("onMousedown",n),this.preClickTime=Date.now()},onTouchstart(n){this.fireEvents("onTouchstart",n),this.preTouchTime=Date.now()},onBlur(n){Jd(n.target,n.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",n),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(n){n.preventDefault(),this.fireEvents("onContextmenu",n),this.setPopupVisible(!0,n)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(n){if(this.fireEvents("onClick",n),this.focusTime){let i;if(this.preClickTime&&this.preTouchTime?i=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?i=this.preClickTime:this.preTouchTime&&(i=this.preTouchTime),Math.abs(i-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&n&&n.preventDefault&&n.preventDefault(),n&&n.domEvent&&n.domEvent.preventDefault();const e=!this.$data.sPopupVisible;(this.isClickToHide()&&!e||e&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,n)},onPopupMouseDown(){const{vcTriggerContext:n={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),n.onPopupMouseDown&&n.onPopupMouseDown(...arguments)},onDocumentClick(n){if(this.$props.mask&&!this.$props.maskClosable)return;const e=n.target,i=this.getRootDomNode(),r=this.getPopupDomNode();(!Jd(i,e)||this.isContextMenuOnly())&&!Jd(r,e)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var n;return((n=this.popupRef)===null||n===void 0?void 0:n.getElement())||null},getRootDomNode(){var n,e,i,r;const{getTriggerDOMNode:o}=this.$props;if(o){const s=((e=(n=this.triggerRef)===null||n===void 0?void 0:n.$el)===null||e===void 0?void 0:e.nodeName)==="#comment"?null:Su(this.triggerRef);return Su(o(s))}try{const s=((r=(i=this.triggerRef)===null||i===void 0?void 0:i.$el)===null||r===void 0?void 0:r.nodeName)==="#comment"?null:Su(this.triggerRef);if(s)return s}catch{}return Su(this)},handleGetPopupClassFromAlign(n){const e=[],i=this.$props,{popupPlacement:r,builtinPlacements:o,prefixCls:s,alignPoint:a,getPopupClassNameFromAlign:l}=i;return r&&o&&e.push(sue(o,s,n,a)),l&&e.push(l(n)),e.join(" ")},getPopupAlign(){const n=this.$props,{popupPlacement:e,popupAlign:i,builtinPlacements:r}=n;return e&&r?JL(r,e,i):i},getComponent(){const n={};this.isMouseEnterToShow()&&(n.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(n.onMouseleave=this.onPopupMouseleave),n.onMousedown=this.onPopupMouseDown,n[ro?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:e,getRootDomNode:i,$attrs:r}=this,{prefixCls:o,destroyPopupOnHide:s,popupClassName:a,popupAnimation:l,popupTransitionName:u,popupStyle:c,mask:d,maskAnimation:f,maskTransitionName:h,zIndex:p,stretch:v,alignPoint:b,mobile:y,arrow:m,forceRender:_}=this.$props,{sPopupVisible:S,point:w}=this.$data,T=O(O({prefixCls:o,arrow:m,destroyPopupOnHide:s,visible:S,point:b?w:null,align:this.align,animation:l,getClassNameFromAlign:e,stretch:v,getRootDomNode:i,mask:d,zIndex:p,transitionName:u,maskAnimation:f,maskTransitionName:h,class:a,style:c,onAlign:r.onPopupAlign||T8},n),{ref:this.setPopupRef,mobile:y,forceRender:_});return I(rue,T,{default:this.$slots.popup||(()=>D6(this,"popup"))})},attachParent(n){bn.cancel(this.attachId);const{getPopupContainer:e,getDocument:i}=this.$props,r=this.getRootDomNode();let o;e?(r||e.length===0)&&(o=e(r)):o=i(this.getRootDomNode()).body,o?o.appendChild(n):this.attachId=bn(()=>{this.attachParent(n)})},getContainer(){const{$props:n}=this,{getDocument:e}=n,i=e(this.getRootDomNode()).createElement("div");return i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.width="100%",this.attachParent(i),i},setPopupVisible(n,e){const{alignPoint:i,sPopupVisible:r,onPopupVisibleChange:o}=this;this.clearDelayTimer(),r!==n&&(op(this,"popupVisible")||this.setState({sPopupVisible:n,prevPopupVisible:r}),o&&o(n)),i&&e&&n&&this.setPoint(e)},setPoint(n){const{alignPoint:e}=this.$props;!e||!n||this.setState({point:{pageX:n.pageX,pageY:n.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(n,e,i){const r=e*1e3;if(this.clearDelayTimer(),r){const o=i?{pageX:i.pageX,pageY:i.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(n,o),this.clearDelayTimer()},r)}else this.setPopupVisible(n,i)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(n){let e=()=>{};const i=G3(this);return this.childOriginEvents[n]&&i[n]?this[`fire${n}`]:(e=this.childOriginEvents[n]||i[n]||e,e)},isClickToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("click")!==-1||e.indexOf("click")!==-1},isContextMenuOnly(){const{action:n}=this.$props;return n==="contextmenu"||n.length===1&&n[0]==="contextmenu"},isContextmenuToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("contextmenu")!==-1||e.indexOf("contextmenu")!==-1},isClickToHide(){const{action:n,hideAction:e}=this.$props;return n.indexOf("click")!==-1||e.indexOf("click")!==-1},isMouseEnterToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("hover")!==-1||e.indexOf("mouseenter")!==-1},isMouseLeaveToHide(){const{action:n,hideAction:e}=this.$props;return n.indexOf("hover")!==-1||e.indexOf("mouseleave")!==-1},isFocusToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("focus")!==-1||e.indexOf("focus")!==-1},isBlurToHide(){const{action:n,hideAction:e}=this.$props;return n.indexOf("focus")!==-1||e.indexOf("blur")!==-1},forcePopupAlign(){var n;this.$data.sPopupVisible&&((n=this.popupRef)===null||n===void 0||n.forceAlign())},fireEvents(n,e){this.childOriginEvents[n]&&this.childOriginEvents[n](e);const i=this.$props[n]||this.$attrs[n];i&&i(e)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:n}=this,e=Po(yie(this)),{alignPoint:i,getPopupContainer:r}=this.$props,o=e[0];this.childOriginEvents=G3(o);const s={key:"trigger"};this.isContextmenuToShow()?s.onContextmenu=this.onContextmenu:s.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(s.onClick=this.onClick,s.onMousedown=this.onMousedown,s[ro?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(s.onClick=this.createTwoChains("onClick"),s.onMousedown=this.createTwoChains("onMousedown"),s[ro?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(s.onMouseenter=this.onMouseenter,i&&(s.onMousemove=this.onMouseMove)):s.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?s.onMouseleave=this.onMouseleave:s.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(s.onFocus=this.onFocus,s.onBlur=this.onBlur):(s.onFocus=this.createTwoChains("onFocus"),s.onBlur=c=>{c&&(!c.relatedTarget||!Jd(c.target,c.relatedTarget))&&this.createTwoChains("onBlur")(c)});const a=Ye(o&&o.props&&o.props.class,n.class);a&&(s.class=a);const l=Ii(o,O(O({},s),{ref:"triggerRef"}),!0,!0),u=I(Z8,{key:"portal",getContainer:r&&(()=>r(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return I(mn,null,[l,u])}});var pue=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const gue=n=>{const e=n===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}}}},mue=We({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:_e.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:_e.oneOfType([Number,Boolean]).def(!0),popupElement:_e.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function,onPopupFocusin:Function,onPopupFocusout:Function},setup(n,e){let{slots:i,attrs:r,expose:o}=e;const s=K(()=>{const{dropdownMatchSelectWidth:l}=n;return gue(l)}),a=He();return o({getPopupElement:()=>a.value}),()=>{const l=O(O({},n),r),{empty:u=!1}=l,c=pue(l,["empty"]),{visible:d,dropdownAlign:f,prefixCls:h,popupElement:p,dropdownClassName:v,dropdownStyle:b,direction:y="ltr",placement:m,dropdownMatchSelectWidth:_,containerWidth:S,dropdownRender:w,animation:T,transitionName:A,getPopupContainer:C,getTriggerDOMNode:R,onPopupVisibleChange:E,onPopupMouseEnter:P,onPopupFocusin:N,onPopupFocusout:D}=c,$=`${h}-dropdown`;let L=p;w&&(L=w({menuNode:p,props:n}));const F=T?`${$}-${T}`:A,U=O({minWidth:`${S}px`},b);return typeof _=="number"?U.width=`${_}px`:_&&(U.width=`${S}px`),I(ZS,be(be({},n),{},{showAction:E?["click"]:[],hideAction:E?["click"]:[],popupPlacement:m||(y==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:s.value,prefixCls:$,popupTransitionName:F,popupAlign:f,popupVisible:d,getPopupContainer:C,popupClassName:Ye(v,{[`${$}-empty`]:u}),popupStyle:U,getTriggerDOMNode:R,onPopupVisibleChange:E}),{default:i.default,popup:()=>I("div",{ref:a,onMouseenter:P,onFocusin:N,onFocusout:D},[L])})}}}),st={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){const{keyCode:i}=e;if(e.altKey&&!e.ctrlKey||e.metaKey||i>=st.F1&&i<=st.F12)return!1;switch(i){case st.ALT:case st.CAPS_LOCK:case st.CONTEXT_MENU:case st.CTRL:case st.DOWN:case st.END:case st.ESC:case st.HOME:case st.INSERT:case st.LEFT:case st.MAC_FF_META:case st.META:case st.NUMLOCK:case st.NUM_CENTER:case st.PAGE_DOWN:case st.PAGE_UP:case st.PAUSE:case st.PRINT_SCREEN:case st.RIGHT:case st.SHIFT:case st.UP:case st.WIN_KEY:case st.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=st.ZERO&&e<=st.NINE||e>=st.NUM_ZERO&&e<=st.NUM_MULTIPLY||e>=st.A&&e<=st.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case st.SPACE:case st.QUESTION_MARK:case st.NUM_PLUS:case st.NUM_MINUS:case st.NUM_PERIOD:case st.NUM_DIVISION:case st.SEMICOLON:case st.DASH:case st.EQUALS:case st.COMMA:case st.PERIOD:case st.SLASH:case st.APOSTROPHE:case st.SINGLE_QUOTE:case st.OPEN_SQUARE_BRACKET:case st.BACKSLASH:case st.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Bf=(n,e)=>{let{slots:i}=e;var r;const{class:o,customizeIcon:s,customizeIconProps:a,onMousedown:l,onClick:u}=n;let c;return typeof s=="function"?c=s(a):c=Sr(s)?ts(s):s,I("span",{class:o,onMousedown:d=>{d.preventDefault(),l&&l(d)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:u,"aria-hidden":!0},[c!==void 0?c:I("span",{class:o.split(/\s+/).map(d=>`${d}-icon`)},[(r=i.default)===null||r===void 0?void 0:r.call(i)])])};Bf.inheritAttrs=!1;Bf.displayName="TransBtn";Bf.props={class:String,customizeIcon:_e.any,customizeIconProps:_e.any,onMousedown:Function,onClick:Function};var vue=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const yue=We({compatConfig:{MODE:3},props:{disabled:_e.looseBool,type:_e.string,value:_e.any,tag:{type:String,default:"input"},size:_e.string,onChange:Function,onInput:Function,onBlur:Function,onFocus:Function,onKeydown:Function,onCompositionstart:Function,onCompositionend:Function,onKeyup:Function,onPaste:Function,onMousedown:Function},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(n,e){let{expose:i}=e;const r=Ne(null);return i({focus:()=>{r.value&&r.value.focus()},blur:()=>{r.value&&r.value.blur()},input:r,setSelectionRange:(u,c,d)=>{var f;(f=r.value)===null||f===void 0||f.setSelectionRange(u,c,d)},select:()=>{var u;(u=r.value)===null||u===void 0||u.select()},getSelectionStart:()=>{var u;return(u=r.value)===null||u===void 0?void 0:u.selectionStart},getSelectionEnd:()=>{var u;return(u=r.value)===null||u===void 0?void 0:u.selectionEnd},getScrollTop:()=>{var u;return(u=r.value)===null||u===void 0?void 0:u.scrollTop}}),()=>{const{tag:u,value:c}=n,d=vue(n,["tag","value"]);return I(u,be(be({},d),{},{ref:r,value:c}),null)}}});function iB(n){const e=n.getBoundingClientRect(),i=document.documentElement;return{left:e.left+(window.scrollX||i.scrollLeft)-(i.clientLeft||document.body.clientLeft||0),top:e.top+(window.scrollY||i.scrollTop)-(i.clientTop||document.body.clientTop||0)}}function bue(n){return Object.keys(n).reduce((e,i)=>{const r=n[i];return typeof r>"u"||r===null||(e+=`${i}: ${n[i]};`),e},"")}var xue=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Ly=We({compatConfig:{MODE:3},inheritAttrs:!1,props:{disabled:_e.looseBool,type:_e.string,value:_e.any,lazy:_e.bool.def(!0),tag:{type:String,default:"input"},size:_e.string,style:_e.oneOfType([String,Object]),class:_e.string},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(n,e){let{emit:i,attrs:r,expose:o}=e;const s=Ne(null),a=He(),l=He(!1);ut([()=>n.value,l],()=>{l.value||(a.value=n.value)},{immediate:!0});const u=C=>{i("change",C)},c=C=>{l.value=!0,C.target.composing=!0,i("compositionstart",C)},d=C=>{l.value=!1,C.target.composing=!1,i("compositionend",C);const R=document.createEvent("HTMLEvents");R.initEvent("input",!0,!0),C.target.dispatchEvent(R),u(C)},f=C=>{if(l.value&&n.lazy){a.value=C.target.value;return}i("input",C)},h=C=>{i("blur",C)},p=C=>{i("focus",C)},v=()=>{s.value&&s.value.focus()},b=()=>{s.value&&s.value.blur()},y=C=>{i("keydown",C)},m=C=>{i("keyup",C)},_=(C,R,E)=>{var P;(P=s.value)===null||P===void 0||P.setSelectionRange(C,R,E)},S=()=>{var C;(C=s.value)===null||C===void 0||C.select()};o({focus:v,blur:b,input:K(()=>{var C;return(C=s.value)===null||C===void 0?void 0:C.input}),setSelectionRange:_,select:S,getSelectionStart:()=>{var C;return(C=s.value)===null||C===void 0?void 0:C.getSelectionStart()},getSelectionEnd:()=>{var C;return(C=s.value)===null||C===void 0?void 0:C.getSelectionEnd()},getScrollTop:()=>{var C;return(C=s.value)===null||C===void 0?void 0:C.getScrollTop()}});const w=C=>{i("mousedown",C)},T=C=>{i("paste",C)},A=K(()=>n.style&&typeof n.style!="string"?bue(n.style):n.style);return()=>{const C=xue(n,["style","lazy"]);return I(yue,be(be(be({},C),r),{},{style:A.value,onInput:f,onChange:u,onBlur:h,onFocus:p,ref:s,value:a.value,onCompositionstart:c,onCompositionend:d,onKeyup:m,onKeydown:y,onPaste:T,onMousedown:w}),null)}}}),_ue={inputRef:_e.any,prefixCls:String,id:String,inputElement:_e.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:_e.oneOfType([_e.number,_e.string]),attrs:_e.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},J8=We({compatConfig:{MODE:3},name:"SelectInput",inheritAttrs:!1,props:_ue,setup(n){let e=null;const i=Xt("VCSelectContainerEvent");return()=>{var r;const{prefixCls:o,id:s,inputElement:a,disabled:l,tabindex:u,autofocus:c,autocomplete:d,editable:f,activeDescendantId:h,value:p,onKeydown:v,onMousedown:b,onChange:y,onPaste:m,onCompositionstart:_,onCompositionend:S,onFocus:w,onBlur:T,open:A,inputRef:C,attrs:R}=n;let E=a||I(Ly,null,null);const P=E.props||{},{onKeydown:N,onInput:D,onFocus:$,onBlur:L,onMousedown:F,onCompositionstart:U,onCompositionend:k,style:H}=P;return E=Ii(E,O(O(O(O(O({type:"search"},P),{id:s,ref:C,disabled:l,tabindex:u,lazy:!1,autocomplete:d||"off",autofocus:c,class:Ye(`${o}-selection-search-input`,(r=E==null?void 0:E.props)===null||r===void 0?void 0:r.class),role:"combobox","aria-expanded":A,"aria-haspopup":"listbox","aria-owns":`${s}_list`,"aria-autocomplete":"list","aria-controls":`${s}_list`,"aria-activedescendant":h}),R),{value:f?p:"",readonly:!f,unselectable:f?null:"on",style:O(O({},H),{opacity:f?null:0}),onKeydown:z=>{v(z),N&&N(z)},onMousedown:z=>{b(z),F&&F(z)},onInput:z=>{y(z),D&&D(z)},onCompositionstart(z){_(z),U&&U(z)},onCompositionend(z){S(z),k&&k(z)},onPaste:m,onFocus:function(){clearTimeout(e),$&&$(arguments.length<=0?void 0:arguments[0]),w&&w(arguments.length<=0?void 0:arguments[0]),i==null||i.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var z=arguments.length,Q=new Array(z),Z=0;Z<z;Z++)Q[Z]=arguments[Z];e=setTimeout(()=>{L&&L(Q[0]),T&&T(Q[0]),i==null||i.blur(Q[0])},100)}}),E.type==="textarea"?{}:{type:"search"}),!0,!0),E}}}),Sue=`accept acceptcharset accesskey action allowfullscreen allowtransparency
alt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge
charset checked classid classname colspan cols content contenteditable contextmenu
controls coords crossorigin data datetime default defer dir disabled download draggable
enctype form formaction formenctype formmethod formnovalidate formtarget frameborder
headers height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity
is keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media
mediagroup method min minlength multiple muted name novalidate nonce open
optimum pattern placeholder poster preload radiogroup readonly rel required
reversed role rowspan rows sandbox scope scoped scrolling seamless selected
shape size sizes span spellcheck src srcdoc srclang srcset start step style
summary tabindex target title type usemap value width wmode wrap`,wue=`onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown
    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick
    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown
    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel
    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough
    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata
    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError`,rB=`${Sue} ${wue}`.split(/[\s\n]+/),Cue="aria-",Tue="data-";function oB(n,e){return n.indexOf(e)===0}function Jf(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i;e===!1?i={aria:!0,data:!0,attr:!0}:e===!0?i={aria:!0}:i=O({},e);const r={};return Object.keys(n).forEach(o=>{(i.aria&&(o==="role"||oB(o,Cue))||i.data&&oB(o,Tue)||i.attr&&(rB.includes(o)||rB.includes(o.toLowerCase())))&&(r[o]=n[o])}),r}const eH=Symbol("OverflowContextProviderKey"),YE=We({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup(n,e){let{slots:i}=e;return Wn(eH,K(()=>n.value)),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}}),Aue=()=>Xt(eH,K(()=>null));var Eue=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const _h=void 0,Ux=We({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:_e.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:_e.any,invalidate:Boolean},setup(n,e){let{slots:i,expose:r}=e;const o=K(()=>n.responsive&&!n.display),s=He();r({itemNodeRef:s});function a(l){n.registerSize(n.itemKey,l)}return Ha(()=>{a(null)}),()=>{var l;const{prefixCls:u,invalidate:c,item:d,renderItem:f,responsive:h,registerSize:p,itemKey:v,display:b,order:y,component:m="div"}=n,_=Eue(n,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),S=(l=i.default)===null||l===void 0?void 0:l.call(i),w=f&&d!==_h?f(d):S;let T;c||(T={opacity:o.value?0:1,height:o.value?0:_h,overflowY:o.value?"hidden":_h,order:h?y:_h,pointerEvents:o.value?"none":_h,position:o.value?"absolute":_h});const A={};return o.value&&(A["aria-hidden"]=!0),I(ed,{disabled:!h,onResize:C=>{let{offsetWidth:R}=C;a(R)}},{default:()=>I(m,be(be(be({class:Ye(!c&&u),style:T},A),_),{},{ref:s}),{default:()=>[w]})})}}});var zC=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Mue=We({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:_e.any,title:_e.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},role:String,tabindex:Number},setup(n,e){let{slots:i,attrs:r}=e;const o=Aue();return()=>{var s;if(!o.value){const{component:f="div"}=n,h=zC(n,["component"]);return I(f,be(be({},h),r),{default:()=>[(s=i.default)===null||s===void 0?void 0:s.call(i)]})}const a=o.value,{className:l}=a,u=zC(a,["className"]),{class:c}=r,d=zC(r,["class"]);return I(YE,{value:null},{default:()=>[I(Ux,be(be(be({class:Ye(l,c)},u),d),n),i)]})}}});var Rue=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const tH="responsive",nH="invalidate";function Pue(n){return`+ ${n.length} ...`}const Iue=()=>({id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:_e.any,component:String,itemComponent:_e.any,onVisibleChange:Function,ssr:String,onMousedown:Function,role:String}),Iu=We({name:"Overflow",inheritAttrs:!1,props:Iue(),emits:["visibleChange"],setup(n,e){let{attrs:i,emit:r,slots:o}=e;const s=K(()=>n.ssr==="full"),a=Ne(null),l=K(()=>a.value||0),u=Ne(new Map),c=Ne(0),d=Ne(0),f=Ne(0),h=Ne(null),p=Ne(null),v=K(()=>p.value===null&&s.value?Number.MAX_SAFE_INTEGER:p.value||0),b=Ne(!1),y=K(()=>`${n.prefixCls}-item`),m=K(()=>Math.max(c.value,d.value)),_=K(()=>!!(n.data.length&&n.maxCount===tH)),S=K(()=>n.maxCount===nH),w=K(()=>_.value||typeof n.maxCount=="number"&&n.data.length>n.maxCount),T=K(()=>{let F=n.data;return _.value?a.value===null&&s.value?F=n.data:F=n.data.slice(0,Math.min(n.data.length,l.value/n.itemWidth)):typeof n.maxCount=="number"&&(F=n.data.slice(0,n.maxCount)),F}),A=K(()=>_.value?n.data.slice(v.value+1):n.data.slice(T.value.length)),C=(F,U)=>{var k;return typeof n.itemKey=="function"?n.itemKey(F):(k=n.itemKey&&(F==null?void 0:F[n.itemKey]))!==null&&k!==void 0?k:U},R=K(()=>n.renderItem||(F=>F)),E=(F,U)=>{p.value=F,U||(b.value=F<n.data.length-1,r("visibleChange",F))},P=(F,U)=>{a.value=U.clientWidth},N=(F,U)=>{const k=new Map(u.value);U===null?k.delete(F):k.set(F,U),u.value=k},D=(F,U)=>{c.value=d.value,d.value=U},$=(F,U)=>{f.value=U},L=F=>u.value.get(C(T.value[F],F));return ut([l,u,d,f,()=>n.itemKey,T],()=>{if(l.value&&m.value&&T.value){let F=f.value;const U=T.value.length,k=U-1;if(!U){E(0),h.value=null;return}for(let H=0;H<U;H+=1){const z=L(H);if(z===void 0){E(H-1,!0);break}if(F+=z,k===0&&F<=l.value||H===k-1&&F+L(k)<=l.value){E(k),h.value=null;break}else if(F+m.value>l.value){E(H-1),h.value=F-z-f.value+d.value;break}}n.suffix&&L(0)+f.value>l.value&&(h.value=null)}}),()=>{const F=b.value&&!!A.value.length,{itemComponent:U,renderRawItem:k,renderRawRest:H,renderRest:z,prefixCls:Q="rc-overflow",suffix:Z,component:ie="div",id:we,onMousedown:J}=n,{class:se,style:ee}=i,ne=Rue(i,["class","style"]);let ue={};h.value!==null&&_.value&&(ue={position:"absolute",left:`${h.value}px`,top:0});const Y={prefixCls:y.value,responsive:_.value,component:U,invalidate:S.value},le=k?(V,Ce)=>{const pe=C(V,Ce);return I(YE,{key:pe,value:O(O({},Y),{order:Ce,item:V,itemKey:pe,registerSize:N,display:Ce<=v.value})},{default:()=>[k(V,Ce)]})}:(V,Ce)=>{const pe=C(V,Ce);return I(Ux,be(be({},Y),{},{order:Ce,key:pe,item:V,renderItem:R.value,itemKey:pe,registerSize:N,display:Ce<=v.value}),null)};let he=()=>null;const W={order:F?v.value:Number.MAX_SAFE_INTEGER,className:`${y.value} ${y.value}-rest`,registerSize:D,display:F};if(H)H&&(he=()=>I(YE,{value:O(O({},Y),W)},{default:()=>[H(A.value)]}));else{const V=z||Pue;he=()=>I(Ux,be(be({},Y),W),{default:()=>typeof V=="function"?V(A.value):V})}const X=()=>{var V;return I(ie,be({id:we,class:Ye(!S.value&&Q,se),style:ee,onMousedown:J,role:n.role},ne),{default:()=>[T.value.map(le),w.value?he():null,Z&&I(Ux,be(be({},Y),{},{order:v.value,class:`${y.value}-suffix`,registerSize:$,display:!0,style:ue}),{default:()=>Z}),(V=o.default)===null||V===void 0?void 0:V.call(o)]})};return I(ed,{disabled:!_.value,onResize:P},{default:X})}}});Iu.Item=Mue;Iu.RESPONSIVE=tH;Iu.INVALIDATE=nH;const Nue=Symbol("TreeSelectLegacyContextPropsKey");function GR(){return Xt(Nue,{})}const Oue={id:String,prefixCls:String,values:_e.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:_e.any,placeholder:_e.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:_e.oneOfType([_e.number,_e.string]),compositionStatus:Boolean,removeIcon:_e.any,choiceTransitionName:String,maxTagCount:_e.oneOfType([_e.number,_e.string]),maxTagTextLength:Number,maxTagPlaceholder:_e.any.def(()=>n=>`+ ${n.length} ...`),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},sB=n=>{n.preventDefault(),n.stopPropagation()},Due=We({name:"MultipleSelectSelector",inheritAttrs:!1,props:Oue,setup(n){const e=Ne(),i=Ne(0),r=Ne(!1),o=GR(),s=K(()=>`${n.prefixCls}-selection`),a=K(()=>n.open||n.mode==="tags"?n.searchValue:""),l=K(()=>n.mode==="tags"||n.showSearch&&(n.open||r.value)),u=He("");an(()=>{u.value=a.value}),Jt(()=>{ut(u,()=>{i.value=e.value.scrollWidth},{flush:"post",immediate:!0})});function c(v,b,y,m,_){return I("span",{class:Ye(`${s.value}-item`,{[`${s.value}-item-disabled`]:y}),title:typeof v=="string"||typeof v=="number"?v.toString():void 0},[I("span",{class:`${s.value}-item-content`},[b]),m&&I(Bf,{class:`${s.value}-item-remove`,onMousedown:sB,onClick:_,customizeIcon:n.removeIcon},{default:()=>[Ji("×")]})])}function d(v,b,y,m,_,S){var w;const T=C=>{sB(C),n.onToggleOpen(!open)};let A=S;return o.keyEntities&&(A=((w=o.keyEntities[v])===null||w===void 0?void 0:w.node)||{}),I("span",{key:v,onMousedown:T},[n.tagRender({label:b,value:v,disabled:y,closable:m,onClose:_,option:A})])}function f(v){const{disabled:b,label:y,value:m,option:_}=v,S=!n.disabled&&!b;let w=y;if(typeof n.maxTagTextLength=="number"&&(typeof y=="string"||typeof y=="number")){const A=String(w);A.length>n.maxTagTextLength&&(w=`${A.slice(0,n.maxTagTextLength)}...`)}const T=A=>{var C;A&&A.stopPropagation(),(C=n.onRemove)===null||C===void 0||C.call(n,v)};return typeof n.tagRender=="function"?d(m,w,b,S,T,_):c(y,w,b,S,T)}function h(v){const{maxTagPlaceholder:b=m=>`+ ${m.length} ...`}=n,y=typeof b=="function"?b(v):b;return c(y,y,!1)}const p=v=>{const b=v.target.composing;u.value=v.target.value,b||n.onInputChange(v)};return()=>{const{id:v,prefixCls:b,values:y,open:m,inputRef:_,placeholder:S,disabled:w,autofocus:T,autocomplete:A,activeDescendantId:C,tabindex:R,compositionStatus:E,onInputPaste:P,onInputKeyDown:N,onInputMouseDown:D,onInputCompositionStart:$,onInputCompositionEnd:L}=n,F=I("div",{class:`${s.value}-search`,style:{width:i.value+"px"},key:"input"},[I(J8,{inputRef:_,open:m,prefixCls:b,id:v,inputElement:null,disabled:w,autofocus:T,autocomplete:A,editable:l.value,activeDescendantId:C,value:u.value,onKeydown:N,onMousedown:D,onChange:p,onPaste:P,onCompositionstart:$,onCompositionend:L,tabindex:R,attrs:Jf(n,!0),onFocus:()=>r.value=!0,onBlur:()=>r.value=!1},null),I("span",{ref:e,class:`${s.value}-search-mirror`,"aria-hidden":!0},[u.value,Ji(" ")])]),U=I(Iu,{prefixCls:`${s.value}-overflow`,data:y,renderItem:f,renderRest:h,suffix:F,itemKey:"key",maxCount:n.maxTagCount,key:"overflow"},null);return I(mn,null,[U,!y.length&&!a.value&&!E&&I("span",{class:`${s.value}-placeholder`},[S])])}}}),Lue={inputElement:_e.any,id:String,prefixCls:String,values:_e.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:_e.any,placeholder:_e.any,compositionStatus:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:_e.oneOfType([_e.number,_e.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},VR=We({name:"SingleSelector",setup(n){const e=Ne(!1),i=K(()=>n.mode==="combobox"),r=K(()=>i.value||n.showSearch),o=K(()=>{let d=n.searchValue||"";return i.value&&n.activeValue&&!e.value&&(d=n.activeValue),d}),s=GR();ut([i,()=>n.activeValue],()=>{i.value&&(e.value=!1)},{immediate:!0});const a=K(()=>n.mode!=="combobox"&&!n.open&&!n.showSearch?!1:!!o.value||n.compositionStatus),l=K(()=>{const d=n.values[0];return d&&(typeof d.label=="string"||typeof d.label=="number")?d.label.toString():void 0}),u=()=>{if(n.values[0])return null;const d=a.value?{visibility:"hidden"}:void 0;return I("span",{class:`${n.prefixCls}-selection-placeholder`,style:d},[n.placeholder])},c=d=>{d.target.composing||(e.value=!0,n.onInputChange(d))};return()=>{var d,f,h,p;const{inputElement:v,prefixCls:b,id:y,values:m,inputRef:_,disabled:S,autofocus:w,autocomplete:T,activeDescendantId:A,open:C,tabindex:R,optionLabelRender:E,onInputKeyDown:P,onInputMouseDown:N,onInputPaste:D,onInputCompositionStart:$,onInputCompositionEnd:L}=n,F=m[0];let U=null;if(F&&s.customSlots){const k=(d=F.key)!==null&&d!==void 0?d:F.value,H=((f=s.keyEntities[k])===null||f===void 0?void 0:f.node)||{};U=s.customSlots[(h=H.slots)===null||h===void 0?void 0:h.title]||s.customSlots.title||F.label,typeof U=="function"&&(U=U(H))}else U=E&&F?E(F.option):F==null?void 0:F.label;return I(mn,null,[I("span",{class:`${b}-selection-search`},[I(J8,{inputRef:_,prefixCls:b,id:y,open:C,inputElement:v,disabled:S,autofocus:w,autocomplete:T,editable:r.value,activeDescendantId:A,value:o.value,onKeydown:P,onMousedown:N,onChange:c,onPaste:D,onCompositionstart:$,onCompositionend:L,tabindex:R,attrs:Jf(n,!0)},null)]),!i.value&&F&&!a.value&&I("span",{class:`${b}-selection-item`,title:l.value},[I(mn,{key:(p=F.key)!==null&&p!==void 0?p:F.value},[U])]),u()])}}});VR.props=Lue;VR.inheritAttrs=!1;function Bue(n){return![st.ESC,st.SHIFT,st.BACKSPACE,st.TAB,st.WIN_KEY,st.ALT,st.META,st.WIN_KEY_RIGHT,st.CTRL,st.SEMICOLON,st.EQUALS,st.CAPS_LOCK,st.CONTEXT_MENU,st.F1,st.F2,st.F3,st.F4,st.F5,st.F6,st.F7,st.F8,st.F9,st.F10,st.F11,st.F12].includes(n)}function iH(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=null,i;Rn(()=>{clearTimeout(i)});function r(o){(o||e===null)&&(e=o),clearTimeout(i),i=setTimeout(()=>{e=null},n)}return[()=>e,r]}function Kv(){const n=e=>{n.current=e};return n}const Fue=We({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:_e.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:_e.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:_e.oneOfType([_e.number,_e.string]),disabled:{type:Boolean,default:void 0},placeholder:_e.any,removeIcon:_e.any,maxTagCount:_e.oneOfType([_e.number,_e.string]),maxTagTextLength:Number,maxTagPlaceholder:_e.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup(n,e){let{expose:i}=e;const r=Kv(),o=He(!1),[s,a]=iH(0),l=m=>{const{which:_}=m;(_===st.UP||_===st.DOWN)&&m.preventDefault(),n.onInputKeyDown&&n.onInputKeyDown(m),_===st.ENTER&&n.mode==="tags"&&!o.value&&!n.open&&n.onSearchSubmit(m.target.value),Bue(_)&&n.onToggleOpen(!0)},u=()=>{a(!0)};let c=null;const d=m=>{n.onSearch(m,!0,o.value)!==!1&&n.onToggleOpen(!0)},f=()=>{o.value=!0},h=m=>{o.value=!1,n.mode!=="combobox"&&d(m.target.value)},p=m=>{let{target:{value:_}}=m;if(n.tokenWithEnter&&c&&/[\r\n]/.test(c)){const S=c.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");_=_.replace(S,c)}c=null,d(_)},v=m=>{const{clipboardData:_}=m;c=_.getData("text")},b=m=>{let{target:_}=m;_!==r.current&&(document.body.style.msTouchAction!==void 0?setTimeout(()=>{r.current.focus()}):r.current.focus())},y=m=>{const _=s();m.target!==r.current&&!_&&m.preventDefault(),(n.mode!=="combobox"&&(!n.showSearch||!_)||!n.open)&&(n.open&&n.onSearch("",!0,!1),n.onToggleOpen())};return i({focus:()=>{r.current.focus()},blur:()=>{r.current.blur()}}),()=>{const{prefixCls:m,domRef:_,mode:S}=n,w={inputRef:r,onInputKeyDown:l,onInputMouseDown:u,onInputChange:p,onInputPaste:v,compositionStatus:o.value,onInputCompositionStart:f,onInputCompositionEnd:h},T=S==="multiple"||S==="tags"?I(Due,be(be({},n),w),null):I(VR,be(be({},n),w),null);return I("div",{ref:_,class:`${m}-selector`,onClick:b,onMousedown:y},[T])}}});function $ue(n,e,i){function r(o){var s,a,l;let u=o.target;u.shadowRoot&&o.composed&&(u=o.composedPath()[0]||u);const c=[(s=n[0])===null||s===void 0?void 0:s.value,(l=(a=n[1])===null||a===void 0?void 0:a.value)===null||l===void 0?void 0:l.getPopupElement()];e.value&&c.every(d=>d&&!d.contains(u)&&d!==u)&&i(!1)}Jt(()=>{window.addEventListener("mousedown",r)}),Rn(()=>{window.removeEventListener("mousedown",r)})}function Uue(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;const e=Ne(!1);let i;const r=()=>{clearTimeout(i)};return Jt(()=>{r()}),[e,(s,a)=>{r(),i=setTimeout(()=>{e.value=s,a&&a()},n)},r]}const rH=Symbol("BaseSelectContextKey");function kue(n){return Wn(rH,n)}function zue(){return Xt(rH,{})}const oH=()=>{if(typeof navigator>"u"||typeof window>"u")return!1;const n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substring(0,4))};function sH(n){if(!Hi(n))return Wi(n);const e=new Proxy({},{get(i,r,o){return Reflect.get(n.value,r,o)},set(i,r,o){return n.value[r]=o,!0},deleteProperty(i,r){return Reflect.deleteProperty(n.value,r)},has(i,r){return Reflect.has(n.value,r)},ownKeys(){return Object.keys(n.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Wi(e)}var Hue=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Gue=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],Vue=()=>({prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:_e.any,emptyOptions:Boolean}),aH=()=>({showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:_e.any,placeholder:_e.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:_e.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:_e.any,clearIcon:_e.any,removeIcon:_e.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}),Wue=()=>O(O({},Vue()),aH());function lH(n){return n==="tags"||n==="multiple"}const jue=We({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:ui(Wue(),{showAction:[],notFoundContent:"Not Found"}),setup(n,e){let{attrs:i,expose:r,slots:o}=e;const s=K(()=>lH(n.mode)),a=K(()=>n.showSearch!==void 0?n.showSearch:s.value||n.mode==="combobox"),l=Ne(!1);Jt(()=>{l.value=oH()});const u=GR(),c=Ne(null),d=Kv(),f=Ne(null),h=Ne(null),p=Ne(null),v=He(!1),[b,y,m]=Uue();r({focus:()=>{var le;(le=h.value)===null||le===void 0||le.focus()},blur:()=>{var le;(le=h.value)===null||le===void 0||le.blur()},scrollTo:le=>{var he;return(he=p.value)===null||he===void 0?void 0:he.scrollTo(le)}});const w=K(()=>{var le;if(n.mode!=="combobox")return n.searchValue;const he=(le=n.displayValues[0])===null||le===void 0?void 0:le.value;return typeof he=="string"||typeof he=="number"?String(he):""}),T=n.open!==void 0?n.open:n.defaultOpen,A=Ne(T),C=Ne(T),R=le=>{A.value=n.open!==void 0?n.open:le,C.value=A.value};ut(()=>n.open,()=>{R(n.open)});const E=K(()=>!n.notFoundContent&&n.emptyOptions);an(()=>{C.value=A.value,(n.disabled||E.value&&C.value&&n.mode==="combobox")&&(C.value=!1)});const P=K(()=>E.value?!1:C.value),N=le=>{const he=le!==void 0?le:!C.value;C.value!==he&&!n.disabled&&(R(he),n.onDropdownVisibleChange&&n.onDropdownVisibleChange(he),!he&&ie.value&&(ie.value=!1,y(!1,()=>{Q.value=!1,v.value=!1})))},D=K(()=>(n.tokenSeparators||[]).some(le=>[`
`,`\r
`].includes(le))),$=(le,he,W)=>{var X,V;let Ce=!0,pe=le;(X=n.onActiveValueChange)===null||X===void 0||X.call(n,null);const Se=W?null:Loe(le,n.tokenSeparators);return n.mode!=="combobox"&&Se&&(pe="",(V=n.onSearchSplit)===null||V===void 0||V.call(n,Se),N(!1),Ce=!1),n.onSearch&&w.value!==pe&&n.onSearch(pe,{source:he?"typing":"effect"}),Ce},L=le=>{var he;!le||!le.trim()||(he=n.onSearch)===null||he===void 0||he.call(n,le,{source:"submit"})};ut(C,()=>{!C.value&&!s.value&&n.mode!=="combobox"&&$("",!1,!1)},{immediate:!0,flush:"post"}),ut(()=>n.disabled,()=>{A.value&&n.disabled&&R(!1),n.disabled&&!v.value&&y(!1)},{immediate:!0});const[F,U]=iH(),k=function(le){var he;const W=F(),{which:X}=le;if(X===st.ENTER&&(n.mode!=="combobox"&&le.preventDefault(),C.value||N(!0)),U(!!w.value),X===st.BACKSPACE&&!W&&s.value&&!w.value&&n.displayValues.length){const Se=[...n.displayValues];let fe=null;for(let ge=Se.length-1;ge>=0;ge-=1){const ve=Se[ge];if(!ve.disabled){Se.splice(ge,1),fe=ve;break}}fe&&n.onDisplayValuesChange(Se,{type:"remove",values:[fe]})}for(var V=arguments.length,Ce=new Array(V>1?V-1:0),pe=1;pe<V;pe++)Ce[pe-1]=arguments[pe];C.value&&p.value&&p.value.onKeydown(le,...Ce),(he=n.onKeydown)===null||he===void 0||he.call(n,le,...Ce)},H=function(le){for(var he=arguments.length,W=new Array(he>1?he-1:0),X=1;X<he;X++)W[X-1]=arguments[X];C.value&&p.value&&p.value.onKeyup(le,...W),n.onKeyup&&n.onKeyup(le,...W)},z=le=>{const he=n.displayValues.filter(W=>W!==le);n.onDisplayValuesChange(he,{type:"remove",values:[le]})},Q=Ne(!1),Z=function(){y(!0),n.disabled||(n.onFocus&&!Q.value&&n.onFocus(...arguments),n.showAction&&n.showAction.includes("focus")&&N(!0)),Q.value=!0},ie=He(!1),we=function(){if(ie.value||(v.value=!0,y(!1,()=>{Q.value=!1,v.value=!1,N(!1)}),n.disabled))return;const le=w.value;le&&(n.mode==="tags"?n.onSearch(le,{source:"submit"}):n.mode==="multiple"&&n.onSearch("",{source:"blur"})),n.onBlur&&n.onBlur(...arguments)},J=()=>{ie.value=!0},se=()=>{ie.value=!1};Wn("VCSelectContainerEvent",{focus:Z,blur:we});const ee=[];Jt(()=>{ee.forEach(le=>clearTimeout(le)),ee.splice(0,ee.length)}),Rn(()=>{ee.forEach(le=>clearTimeout(le)),ee.splice(0,ee.length)});const ne=function(le){var he,W;const{target:X}=le,V=(he=f.value)===null||he===void 0?void 0:he.getPopupElement();if(V&&V.contains(X)){const fe=setTimeout(()=>{var ge;const ve=ee.indexOf(fe);ve!==-1&&ee.splice(ve,1),m(),!l.value&&!V.contains(document.activeElement)&&((ge=h.value)===null||ge===void 0||ge.focus())});ee.push(fe)}for(var Ce=arguments.length,pe=new Array(Ce>1?Ce-1:0),Se=1;Se<Ce;Se++)pe[Se-1]=arguments[Se];(W=n.onMousedown)===null||W===void 0||W.call(n,le,...pe)},ue=Ne(null),Y=()=>{};return Jt(()=>{ut(P,()=>{var le;if(P.value){const he=Math.ceil((le=c.value)===null||le===void 0?void 0:le.offsetWidth);ue.value!==he&&!Number.isNaN(he)&&(ue.value=he)}},{immediate:!0,flush:"post"})}),$ue([c,f],P,N),kue(sH(O(O({},sv(n)),{open:C,triggerOpen:P,showSearch:a,multiple:s,toggleOpen:N}))),()=>{const le=O(O({},n),i),{prefixCls:he,id:W,open:X,defaultOpen:V,mode:Ce,showSearch:pe,searchValue:Se,onSearch:fe,allowClear:ge,clearIcon:ve,showArrow:j,inputIcon:G,disabled:ce,loading:Ee,getInputElement:de,getPopupContainer:re,placement:ye,animation:De,transitionName:Ge,dropdownStyle:ft,dropdownClassName:Te,dropdownMatchSelectWidth:Pe,dropdownRender:Ue,dropdownAlign:qe,showAction:je,direction:lt,tokenSeparators:rt,tagRender:At,optionLabelRender:Ae,onPopupScroll:nt,onDropdownVisibleChange:$e,onFocus:Ve,onBlur:gt,onKeyup:yt,onKeydown:Ot,onMousedown:qt,onClear:$n,omitDomProps:tn,getRawInputElement:Ci,displayValues:Ki,onDisplayValuesChange:Br,emptyOptions:Va,activeDescendantId:Er,activeValue:os,OptionList:rc}=le,oc=Hue(le,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),ha=Ce==="combobox"&&de&&de()||null,Ns=typeof Ci=="function"&&Ci(),Os=O({},oc);let Dl;Ns&&(Dl=Ie=>{N(Ie)}),Gue.forEach(Ie=>{delete Os[Ie]}),tn==null||tn.forEach(Ie=>{delete Os[Ie]});const Ll=j!==void 0?j:Ee||!s.value&&Ce!=="combobox";let Bl;Ll&&(Bl=I(Bf,{class:Ye(`${he}-arrow`,{[`${he}-arrow-loading`]:Ee}),customizeIcon:G,customizeIconProps:{loading:Ee,searchValue:w.value,open:C.value,focused:b.value,showSearch:a.value}},null));let sc;const pa=()=>{$n==null||$n(),Br([],{type:"clear",values:Ki}),$("",!1,!1)};!ce&&ge&&(Ki.length||w.value)&&(sc=I(Bf,{class:`${he}-clear`,onMousedown:pa,customizeIcon:ve},{default:()=>[Ji("×")]}));const zg=I(rc,{ref:p},O(O({},u.customSlots),{option:o.option})),Hg=Ye(he,i.class,{[`${he}-focused`]:b.value,[`${he}-multiple`]:s.value,[`${he}-single`]:!s.value,[`${he}-allow-clear`]:ge,[`${he}-show-arrow`]:Ll,[`${he}-disabled`]:ce,[`${he}-loading`]:Ee,[`${he}-open`]:C.value,[`${he}-customize-input`]:ha,[`${he}-show-search`]:a.value}),sh=I(mue,{ref:f,disabled:ce,prefixCls:he,visible:P.value,popupElement:zg,containerWidth:ue.value,animation:De,transitionName:Ge,dropdownStyle:ft,dropdownClassName:Te,direction:lt,dropdownMatchSelectWidth:Pe,dropdownRender:Ue,dropdownAlign:qe,placement:ye,getPopupContainer:re,empty:Va,getTriggerDOMNode:()=>d.current,onPopupVisibleChange:Dl,onPopupMouseEnter:Y,onPopupFocusin:J,onPopupFocusout:se},{default:()=>Ns?lo(Ns)&&Ii(Ns,{ref:d},!1,!0):I(Fue,be(be({},n),{},{domRef:d,prefixCls:he,inputElement:ha,ref:h,id:W,showSearch:a.value,mode:Ce,activeDescendantId:Er,tagRender:At,optionLabelRender:Ae,values:Ki,open:C.value,onToggleOpen:N,activeValue:os,searchValue:w.value,onSearch:$,onSearchSubmit:L,onRemove:z,tokenWithEnter:D.value}),null)});let oe;return Ns?oe=sh:oe=I("div",be(be({},Os),{},{class:Hg,ref:c,onMousedown:ne,onKeydown:k,onKeyup:H}),[b.value&&!C.value&&I("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},[`${Ki.map(Ie=>{let{label:ke,value:ze}=Ie;return["number","string"].includes(typeof ke)?ke:ze}).join(", ")}`]),sh,Bl,sc]),oe}}}),JS=(n,e)=>{let{height:i,offset:r,prefixCls:o,onInnerResize:s}=n,{slots:a}=e;var l;let u={},c={display:"flex",flexDirection:"column"};return r!==void 0&&(u={height:`${i}px`,position:"relative",overflow:"hidden"},c=O(O({},c),{transform:`translateY(${r}px)`,position:"absolute",left:0,right:0,top:0})),I("div",{style:u},[I(ed,{onResize:d=>{let{offsetHeight:f}=d;f&&s&&s()}},{default:()=>[I("div",{style:c,class:Ye({[`${o}-holder-inner`]:o})},[(l=a.default)===null||l===void 0?void 0:l.call(a)])]})])};JS.displayName="Filter";JS.inheritAttrs=!1;JS.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const uH=(n,e)=>{let{setRef:i}=n,{slots:r}=e;var o;const s=tr((o=r.default)===null||o===void 0?void 0:o.call(r));return s.length?ts(s[0],{ref:i}):s};uH.props={setRef:{type:Function,default:()=>{}}};const Kue=20;function aB(n){return"touches"in n?n.touches[0].pageY:n.pageY}const Xue=We({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup(){return{moveRaf:null,scrollbarRef:Kv(),thumbRef:Kv(),visibleTimeout:null,state:Wi({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler(){this.delayHidden()},flush:"post"}},mounted(){var n,e;(n=this.scrollbarRef.current)===null||n===void 0||n.addEventListener("touchstart",this.onScrollbarTouchStart,ro?{passive:!1}:!1),(e=this.thumbRef.current)===null||e===void 0||e.addEventListener("touchstart",this.onMouseDown,ro?{passive:!1}:!1)},beforeUnmount(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden(){clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(()=>{this.state.visible=!1},2e3)},onScrollbarTouchStart(n){n.preventDefault()},onContainerMouseDown(n){n.stopPropagation(),n.preventDefault()},patchEvents(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,ro?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,ro?{passive:!1}:!1),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,ro?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,ro?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),bn.cancel(this.moveRaf)},onMouseDown(n){const{onStartMove:e}=this.$props;O(this.state,{dragging:!0,pageY:aB(n),startTop:this.getTop()}),e(),this.patchEvents(),n.stopPropagation(),n.preventDefault()},onMouseMove(n){const{dragging:e,pageY:i,startTop:r}=this.state,{onScroll:o}=this.$props;if(bn.cancel(this.moveRaf),e){const s=aB(n)-i,a=r+s,l=this.getEnableScrollRange(),u=this.getEnableHeightRange(),c=u?a/u:0,d=Math.ceil(c*l);this.moveRaf=bn(()=>{o(d)})}},onMouseUp(){const{onStopMove:n}=this.$props;this.state.dragging=!1,n(),this.removeEvents()},getSpinHeight(){const{height:n,scrollHeight:e}=this.$props;let i=n/e*100;return i=Math.max(i,Kue),i=Math.min(i,n/2),Math.floor(i)},getEnableScrollRange(){const{scrollHeight:n,height:e}=this.$props;return n-e||0},getEnableHeightRange(){const{height:n}=this.$props,e=this.getSpinHeight();return n-e||0},getTop(){const{scrollTop:n}=this.$props,e=this.getEnableScrollRange(),i=this.getEnableHeightRange();return n===0||e===0?0:n/e*i},showScroll(){const{height:n,scrollHeight:e}=this.$props;return e>n}},render(){const{dragging:n,visible:e}=this.state,{prefixCls:i}=this.$props,r=this.getSpinHeight()+"px",o=this.getTop()+"px",s=this.showScroll(),a=s&&e;return I("div",{ref:this.scrollbarRef,class:Ye(`${i}-scrollbar`,{[`${i}-scrollbar-show`]:s}),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:a?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[I("div",{ref:this.thumbRef,class:Ye(`${i}-scrollbar-thumb`,{[`${i}-scrollbar-thumb-moving`]:n}),style:{width:"100%",height:r,top:o,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function que(n,e,i,r){const o=new Map,s=new Map,a=He(Symbol("update"));ut(n,()=>{a.value=Symbol("update")});let l;function u(){bn.cancel(l)}function c(){u(),l=bn(()=>{o.forEach((f,h)=>{if(f&&f.offsetParent){const{offsetHeight:p}=f;s.get(h)!==p&&(a.value=Symbol("update"),s.set(h,f.offsetHeight))}})})}function d(f,h){const p=e(f);o.get(p),h?(o.set(p,h.$el||h),c()):o.delete(p)}return Ha(()=>{u()}),[d,c,s,a]}function Yue(n,e,i,r,o,s,a,l){let u;return c=>{if(c==null){l();return}bn.cancel(u);const d=e.value,f=r.itemHeight;if(typeof c=="number")a(c);else if(c&&typeof c=="object"){let h;const{align:p}=c;"index"in c?{index:h}=c:h=d.findIndex(y=>o(y)===c.key);const{offset:v=0}=c,b=(y,m)=>{if(y<0||!n.value)return;const _=n.value.clientHeight;let S=!1,w=m;if(_){const T=m||p;let A=0,C=0,R=0;const E=Math.min(d.length,h);for(let D=0;D<=E;D+=1){const $=o(d[D]);C=A;const L=i.get($);R=C+(L===void 0?f:L),A=R,D===h&&L===void 0&&(S=!0)}const P=n.value.scrollTop;let N=null;switch(T){case"top":N=C-v;break;case"bottom":N=R-_+v;break;default:{const D=P+_;C<P?w="top":R>D&&(w="bottom")}}N!==null&&N!==P&&a(N)}u=bn(()=>{S&&s(),b(y-1,w)},2)};b(5)}}}const Que=typeof navigator=="object"&&/Firefox/i.test(navigator.userAgent),cH=(n,e)=>{let i=!1,r=null;function o(){clearTimeout(r),i=!0,r=setTimeout(()=>{i=!1},50)}return function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const l=s<0&&n.value||s>0&&e.value;return a&&l?(clearTimeout(r),i=!1):(!l||i)&&o(),!i&&l}};function Zue(n,e,i,r){let o=0,s=null,a=null,l=!1;const u=cH(e,i);function c(f){if(!n.value)return;bn.cancel(s);const{deltaY:h}=f;o+=h,a=h,!u(h)&&(Que||f.preventDefault(),s=bn(()=>{r(o*(l?10:1)),o=0}))}function d(f){n.value&&(l=f.detail===a)}return[c,d]}const Jue=14/15;function ece(n,e,i){let r=!1,o=0,s=null,a=null;const l=()=>{s&&(s.removeEventListener("touchmove",u),s.removeEventListener("touchend",c))},u=h=>{if(r){const p=Math.ceil(h.touches[0].pageY);let v=o-p;o=p,i(v)&&h.preventDefault(),clearInterval(a),a=setInterval(()=>{v*=Jue,(!i(v,!0)||Math.abs(v)<=.1)&&clearInterval(a)},16)}},c=()=>{r=!1,l()},d=h=>{l(),h.touches.length===1&&!r&&(r=!0,o=Math.ceil(h.touches[0].pageY),s=h.target,s.addEventListener("touchmove",u,{passive:!1}),s.addEventListener("touchend",c))},f=()=>{};Jt(()=>{document.addEventListener("touchmove",f,{passive:!1}),ut(n,h=>{e.value.removeEventListener("touchstart",d),l(),clearInterval(a),h&&e.value.addEventListener("touchstart",d,{passive:!1})},{immediate:!0})}),Rn(()=>{document.removeEventListener("touchmove",f)})}var tce=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const nce=[],ice={overflowY:"auto",overflowAnchor:"none"};function rce(n,e,i,r,o,s){let{getKey:a}=s;return n.slice(e,i+1).map((l,u)=>{const c=e+u,d=o(l,c,{}),f=a(l);return I(uH,{key:f,setRef:h=>r(l,h)},{default:()=>[d]})})}const dH=We({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:_e.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup(n,e){let{expose:i}=e;const r=K(()=>{const{height:z,itemHeight:Q,virtual:Z}=n;return!!(Z!==!1&&z&&Q)}),o=K(()=>{const{height:z,itemHeight:Q,data:Z}=n;return r.value&&Z&&Q*Z.length>z}),s=Wi({scrollTop:0,scrollMoving:!1}),a=K(()=>n.data||nce),l=Ne([]);ut(a,()=>{l.value=hn(a.value).slice()},{immediate:!0});const u=Ne(z=>{});ut(()=>n.itemKey,z=>{typeof z=="function"?u.value=z:u.value=Q=>Q==null?void 0:Q[z]},{immediate:!0});const c=Ne(),d=Ne(),f=Ne(),h=z=>u.value(z),p={getKey:h};function v(z){let Q;typeof z=="function"?Q=z(s.scrollTop):Q=z;const Z=A(Q);c.value&&(c.value.scrollTop=Z),s.scrollTop=Z}const[b,y,m,_]=que(l,h),S=Wi({scrollHeight:void 0,start:0,end:0,offset:void 0}),w=Ne(0);Jt(()=>{Un(()=>{var z;w.value=((z=d.value)===null||z===void 0?void 0:z.offsetHeight)||0})}),fa(()=>{Un(()=>{var z;w.value=((z=d.value)===null||z===void 0?void 0:z.offsetHeight)||0})}),ut([r,l],()=>{r.value||O(S,{scrollHeight:void 0,start:0,end:l.value.length-1,offset:void 0})},{immediate:!0}),ut([r,l,w,o],()=>{r.value&&!o.value&&O(S,{scrollHeight:w.value,start:0,end:l.value.length-1,offset:void 0}),c.value&&(s.scrollTop=c.value.scrollTop)},{immediate:!0}),ut([o,r,()=>s.scrollTop,l,_,()=>n.height,w],()=>{if(!r.value||!o.value)return;let z=0,Q,Z,ie;const we=l.value.length,J=l.value,se=s.scrollTop,{itemHeight:ee,height:ne}=n,ue=se+ne;for(let Y=0;Y<we;Y+=1){const le=J[Y],he=h(le);let W=m.get(he);W===void 0&&(W=ee);const X=z+W;Q===void 0&&X>=se&&(Q=Y,Z=z),ie===void 0&&X>ue&&(ie=Y),z=X}Q===void 0&&(Q=0,Z=0,ie=Math.ceil(ne/ee)),ie===void 0&&(ie=we-1),ie=Math.min(ie+1,we),O(S,{scrollHeight:z,start:Q,end:ie,offset:Z})},{immediate:!0});const T=K(()=>S.scrollHeight-n.height);function A(z){let Q=z;return Number.isNaN(T.value)||(Q=Math.min(Q,T.value)),Q=Math.max(Q,0),Q}const C=K(()=>s.scrollTop<=0),R=K(()=>s.scrollTop>=T.value),E=cH(C,R);function P(z){v(z)}function N(z){var Q;const{scrollTop:Z}=z.currentTarget;Z!==s.scrollTop&&v(Z),(Q=n.onScroll)===null||Q===void 0||Q.call(n,z)}const[D,$]=Zue(r,C,R,z=>{v(Q=>Q+z)});ece(r,c,(z,Q)=>E(z,Q)?!1:(D({preventDefault(){},deltaY:z}),!0));function L(z){r.value&&z.preventDefault()}const F=()=>{c.value&&(c.value.removeEventListener("wheel",D,ro?{passive:!1}:!1),c.value.removeEventListener("DOMMouseScroll",$),c.value.removeEventListener("MozMousePixelScroll",L))};an(()=>{Un(()=>{c.value&&(F(),c.value.addEventListener("wheel",D,ro?{passive:!1}:!1),c.value.addEventListener("DOMMouseScroll",$),c.value.addEventListener("MozMousePixelScroll",L))})}),Rn(()=>{F()});const U=Yue(c,l,m,n,h,y,v,()=>{var z;(z=f.value)===null||z===void 0||z.delayHidden()});i({scrollTo:U});const k=K(()=>{let z=null;return n.height&&(z=O({[n.fullHeight?"height":"maxHeight"]:n.height+"px"},ice),r.value&&(z.overflowY="hidden",s.scrollMoving&&(z.pointerEvents="none"))),z});return ut([()=>S.start,()=>S.end,l],()=>{if(n.onVisibleChange){const z=l.value.slice(S.start,S.end+1);n.onVisibleChange(z,l.value)}},{flush:"post"}),{state:s,mergedData:l,componentStyle:k,onFallbackScroll:N,onScrollBar:P,componentRef:c,useVirtual:r,calRes:S,collectHeight:y,setInstance:b,sharedConfig:p,scrollBarRef:f,fillerInnerRef:d,delayHideScrollBar:()=>{var z;(z=f.value)===null||z===void 0||z.delayHidden()}}},render(){const n=O(O({},this.$props),this.$attrs),{prefixCls:e="rc-virtual-list",height:i,itemHeight:r,fullHeight:o,data:s,itemKey:a,virtual:l,component:u="div",onScroll:c,children:d=this.$slots.default,style:f,class:h}=n,p=tce(n,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),v=Ye(e,h),{scrollTop:b}=this.state,{scrollHeight:y,offset:m,start:_,end:S}=this.calRes,{componentStyle:w,onFallbackScroll:T,onScrollBar:A,useVirtual:C,collectHeight:R,sharedConfig:E,setInstance:P,mergedData:N,delayHideScrollBar:D}=this;return I("div",be({style:O(O({},f),{position:"relative"}),class:v},p),[I(u,{class:`${e}-holder`,style:w,ref:"componentRef",onScroll:T,onMouseenter:D},{default:()=>[I(JS,{prefixCls:e,height:y,offset:m,onInnerResize:R,ref:"fillerInnerRef"},{default:()=>rce(N,_,S,P,d,E)})]}),C&&I(Xue,{ref:"scrollBarRef",prefixCls:e,scrollTop:b,height:i,scrollHeight:y,count:N.length,onScroll:A,onStartMove:()=>{this.state.scrollMoving=!0},onStopMove:()=>{this.state.scrollMoving=!1}},null)])}});function oce(n,e,i){const r=He(n());return ut(e,(o,s)=>{i(o,s)&&(r.value=n())}),r}function sce(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}const fH=Symbol("SelectContextKey");function ace(n){return Wn(fH,n)}function lce(){return Xt(fH,{})}var uce=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function lB(n){return typeof n=="string"||typeof n=="number"}const cce=We({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(n,e){let{expose:i,slots:r}=e;const o=zue(),s=lce(),a=K(()=>`${o.prefixCls}-item`),l=oce(()=>s.flattenOptions,[()=>o.open,()=>s.flattenOptions],T=>T[0]),u=Kv(),c=T=>{T.preventDefault()},d=T=>{u.current&&u.current.scrollTo(typeof T=="number"?{index:T}:T)},f=function(T){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const C=l.value.length;for(let R=0;R<C;R+=1){const E=(T+R*A+C)%C,{group:P,data:N}=l.value[E];if(!P&&!N.disabled)return E}return-1},h=Wi({activeIndex:f(0)}),p=function(T){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;h.activeIndex=T;const C={source:A?"keyboard":"mouse"},R=l.value[T];if(!R){s.onActiveValue(null,-1,C);return}s.onActiveValue(R.value,T,C)};ut([()=>l.value.length,()=>o.searchValue],()=>{p(s.defaultActiveFirstOption!==!1?f(0):-1)},{immediate:!0});const v=T=>s.rawValues.has(T)&&o.mode!=="combobox";ut([()=>o.open,()=>o.searchValue],()=>{if(!o.multiple&&o.open&&s.rawValues.size===1){const T=Array.from(s.rawValues)[0],A=hn(l.value).findIndex(C=>{let{data:R}=C;return R[s.fieldNames.value]===T});A!==-1&&(p(A),Un(()=>{d(A)}))}o.open&&Un(()=>{var T;(T=u.current)===null||T===void 0||T.scrollTo(void 0)})},{immediate:!0,flush:"post"});const b=T=>{T!==void 0&&s.onSelect(T,{selected:!s.rawValues.has(T)}),o.multiple||o.toggleOpen(!1)},y=T=>typeof T.label=="function"?T.label():T.label;function m(T){const A=l.value[T];if(!A)return null;const C=A.data||{},{value:R}=C,{group:E}=A,P=Jf(C,!0),N=y(A);return A?I("div",be(be({"aria-label":typeof N=="string"&&!E?N:null},P),{},{key:T,role:E?"presentation":"option",id:`${o.id}_list_${T}`,"aria-selected":v(R)}),[R]):null}return i({onKeydown:T=>{const{which:A,ctrlKey:C}=T;switch(A){case st.N:case st.P:case st.UP:case st.DOWN:{let R=0;if(A===st.UP?R=-1:A===st.DOWN?R=1:sce()&&C&&(A===st.N?R=1:A===st.P&&(R=-1)),R!==0){const E=f(h.activeIndex+R,R);d(E),p(E,!0)}break}case st.ENTER:{const R=l.value[h.activeIndex];R&&!R.data.disabled?b(R.value):b(void 0),o.open&&T.preventDefault();break}case st.ESC:o.toggleOpen(!1),o.open&&T.stopPropagation()}},onKeyup:()=>{},scrollTo:T=>{d(T)}}),()=>{const{id:T,notFoundContent:A,onPopupScroll:C}=o,{menuItemSelectedIcon:R,fieldNames:E,virtual:P,listHeight:N,listItemHeight:D}=s,$=r.option,{activeIndex:L}=h,F=Object.keys(E).map(U=>E[U]);return l.value.length===0?I("div",{role:"listbox",id:`${T}_list`,class:`${a.value}-empty`,onMousedown:c},[A]):I(mn,null,[I("div",{role:"listbox",id:`${T}_list`,style:{height:0,width:0,overflow:"hidden"}},[m(L-1),m(L),m(L+1)]),I(dH,{itemKey:"key",ref:u,data:l.value,height:N,itemHeight:D,fullHeight:!1,onMousedown:c,onScroll:C,virtual:P},{default:(U,k)=>{var H;const{group:z,groupOption:Q,data:Z,value:ie}=U,{key:we}=Z,J=typeof U.label=="function"?U.label():U.label;if(z){const ve=(H=Z.title)!==null&&H!==void 0?H:lB(J)&&J;return I("div",{class:Ye(a.value,`${a.value}-group`),title:ve},[$?$(Z):J!==void 0?J:we])}const{disabled:se,title:ee,children:ne,style:ue,class:Y,className:le}=Z,he=uce(Z,["disabled","title","children","style","class","className"]),W=wi(he,F),X=v(ie),V=`${a.value}-option`,Ce=Ye(a.value,V,Y,le,{[`${V}-grouped`]:Q,[`${V}-active`]:L===k&&!se,[`${V}-disabled`]:se,[`${V}-selected`]:X}),pe=y(U),Se=!R||typeof R=="function"||X,fe=typeof pe=="number"?pe:pe||ie;let ge=lB(fe)?fe.toString():void 0;return ee!==void 0&&(ge=ee),I("div",be(be({},W),{},{"aria-selected":X,class:Ce,title:ge,onMousemove:ve=>{he.onMousemove&&he.onMousemove(ve),!(L===k||se)&&p(k)},onClick:ve=>{se||b(ie),he.onClick&&he.onClick(ve)},style:ue}),[I("div",{class:`${V}-content`},[$?$(Z):fe]),lo(R)||X,Se&&I(Bf,{class:`${a.value}-option-state`,customizeIcon:R,customizeIconProps:{isSelected:X}},{default:()=>[X?"✓":null]})])}})])}}});var dce=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function fce(n){const e=n,{key:i,children:r}=e,o=e.props,{value:s,disabled:a}=o,l=dce(o,["value","disabled"]),u=r==null?void 0:r.default;return O({key:i,value:s!==void 0?s:i,children:u,disabled:a||a===""},l)}function hH(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return tr(n).map((r,o)=>{var s;if(!lo(r)||!r.type)return null;const{type:{isSelectOptGroup:a},key:l,children:u,props:c}=r;if(e||!a)return fce(r);const d=u&&u.default?u.default():void 0,f=(c==null?void 0:c.label)||((s=u.label)===null||s===void 0?void 0:s.call(u))||l;return O(O({key:`__RC_SELECT_GRP__${l===null?o:String(l)}__`},c),{label:f,options:hH(d||[])})}).filter(r=>r)}function hce(n,e,i){const r=Ne(),o=Ne(),s=Ne(),a=Ne([]);return ut([n,e],()=>{n.value?a.value=hn(n.value).slice():a.value=hH(e.value)},{immediate:!0,deep:!0}),an(()=>{const l=a.value,u=new Map,c=new Map,d=i.value;function f(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(let v=0;v<h.length;v+=1){const b=h[v];!b[d.options]||p?(u.set(b[d.value],b),c.set(b[d.label],b)):f(b[d.options],!0)}}f(l),r.value=l,o.value=u,s.value=c}),{options:r,valueOptions:o,labelOptions:s}}let uB=0;const pce=aa();function gce(){let n;return pce?(n=uB,uB+=1):n="TEST_OR_SSR",n}function mce(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:He("");const e=`rc_select_${gce()}`;return n.value||e}function pH(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}function HC(n,e){return pH(n).join("").toUpperCase().includes(e)}const vce=(n,e,i,r,o)=>K(()=>{const s=i.value,a=o==null?void 0:o.value,l=r==null?void 0:r.value;if(!s||l===!1)return n.value;const{options:u,label:c,value:d}=e.value,f=[],h=typeof l=="function",p=s.toUpperCase(),v=h?l:(y,m)=>a?HC(m[a],p):m[u]?HC(m[c!=="children"?c:"label"],p):HC(m[d],p),b=h?y=>HE(y):y=>y;return n.value.forEach(y=>{if(y[u]){if(v(s,b(y)))f.push(y);else{const _=y[u].filter(S=>v(s,b(S)));_.length&&f.push(O(O({},y),{[u]:_}))}return}v(s,b(y))&&f.push(y)}),f}),yce=(n,e)=>{const i=Ne({values:new Map,options:new Map});return[K(()=>{const{values:s,options:a}=i.value,l=n.value.map(d=>{var f;return d.label===void 0?O(O({},d),{label:(f=s.get(d.value))===null||f===void 0?void 0:f.label}):d}),u=new Map,c=new Map;return l.forEach(d=>{u.set(d.value,d),c.set(d.value,e.value.get(d.value)||a.get(d.value))}),i.value.values=u,i.value.options=c,l}),s=>e.value.get(s)||i.value.options.get(s)]};function Xp(n,e){const{defaultValue:i,value:r=He()}=e||{};let o=typeof n=="function"?n():n;r.value!==void 0&&(o=Hr(r)),i!==void 0&&(o=typeof i=="function"?i():i);const s=He(o),a=He(o);an(()=>{let u=r.value!==void 0?r.value:s.value;e.postState&&(u=e.postState(u)),a.value=u});function l(u){const c=a.value;s.value=u,hn(a.value)!==u&&e.onChange&&e.onChange(u,c)}return ut(r,()=>{s.value=r.value}),[a,l]}function Vn(n){const e=typeof n=="function"?n():n,i=He(e);function r(o){i.value=o}return[i,r]}const bce=["inputValue"];function gH(){return O(O({},aH()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:_e.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:_e.any,defaultValue:_e.any,onChange:Function,children:Array})}function xce(n){return!n||typeof n!="object"}const _ce=We({compatConfig:{MODE:3},name:"VcSelect",inheritAttrs:!1,props:ui(gH(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup(n,e){let{expose:i,attrs:r,slots:o}=e;const s=mce(Zn(n,"id")),a=K(()=>lH(n.mode)),l=K(()=>!!(!n.options&&n.children)),u=K(()=>n.filterOption===void 0&&n.mode==="combobox"?!1:n.filterOption),c=K(()=>C8(n.fieldNames,l.value)),[d,f]=Xp("",{value:K(()=>n.searchValue!==void 0?n.searchValue:n.inputValue),postState:Y=>Y||""}),h=hce(Zn(n,"options"),Zn(n,"children"),c),{valueOptions:p,labelOptions:v,options:b}=h,y=Y=>pH(Y).map(he=>{var W,X;let V,Ce,pe,Se;xce(he)?V=he:(pe=he.key,Ce=he.label,V=(W=he.value)!==null&&W!==void 0?W:pe);const fe=p.value.get(V);return fe&&(Ce===void 0&&(Ce=fe==null?void 0:fe[n.optionLabelProp||c.value.label]),pe===void 0&&(pe=(X=fe==null?void 0:fe.key)!==null&&X!==void 0?X:V),Se=fe==null?void 0:fe.disabled),{label:Ce,value:V,key:pe,disabled:Se,option:fe}}),[m,_]=Xp(n.defaultValue,{value:Zn(n,"value")}),S=K(()=>{var Y;const le=y(m.value);return n.mode==="combobox"&&!(!((Y=le[0])===null||Y===void 0)&&Y.value)?[]:le}),[w,T]=yce(S,p),A=K(()=>{if(!n.mode&&w.value.length===1){const Y=w.value[0];if(Y.value===null&&(Y.label===null||Y.label===void 0))return[]}return w.value.map(Y=>{var le;return O(O({},Y),{label:(le=typeof Y.label=="function"?Y.label():Y.label)!==null&&le!==void 0?le:Y.value})})}),C=K(()=>new Set(w.value.map(Y=>Y.value)));an(()=>{var Y;if(n.mode==="combobox"){const le=(Y=w.value[0])===null||Y===void 0?void 0:Y.value;le!=null&&f(String(le))}},{flush:"post"});const R=(Y,le)=>{const he=le??Y;return{[c.value.value]:Y,[c.value.label]:he}},E=Ne();an(()=>{if(n.mode!=="tags"){E.value=b.value;return}const Y=b.value.slice(),le=he=>p.value.has(he);[...w.value].sort((he,W)=>he.value<W.value?-1:1).forEach(he=>{const W=he.value;le(W)||Y.push(R(W,he.label))}),E.value=Y});const P=vce(E,c,d,u,Zn(n,"optionFilterProp")),N=K(()=>n.mode!=="tags"||!d.value||P.value.some(Y=>Y[n.optionFilterProp||"value"]===d.value)?P.value:[R(d.value),...P.value]),D=K(()=>n.filterSort?[...N.value].sort((Y,le)=>n.filterSort(Y,le)):N.value),$=K(()=>Doe(D.value,{fieldNames:c.value,childrenAsData:l.value})),L=Y=>{const le=y(Y);if(_(le),n.onChange&&(le.length!==w.value.length||le.some((he,W)=>{var X;return((X=w.value[W])===null||X===void 0?void 0:X.value)!==(he==null?void 0:he.value)}))){const he=n.labelInValue?le.map(X=>O(O({},X),{originLabel:X.label,label:typeof X.label=="function"?X.label():X.label})):le.map(X=>X.value),W=le.map(X=>HE(T(X.value)));n.onChange(a.value?he:he[0],a.value?W:W[0])}},[F,U]=Vn(null),[k,H]=Vn(0),z=K(()=>n.defaultActiveFirstOption!==void 0?n.defaultActiveFirstOption:n.mode!=="combobox"),Q=function(Y,le){let{source:he="keyboard"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};H(le),n.backfill&&n.mode==="combobox"&&Y!==null&&he==="keyboard"&&U(String(Y))},Z=(Y,le)=>{const he=()=>{var W;const X=T(Y),V=X==null?void 0:X[c.value.label];return[n.labelInValue?{label:typeof V=="function"?V():V,originLabel:V,value:Y,key:(W=X==null?void 0:X.key)!==null&&W!==void 0?W:Y}:Y,HE(X)]};if(le&&n.onSelect){const[W,X]=he();n.onSelect(W,X)}else if(!le&&n.onDeselect){const[W,X]=he();n.onDeselect(W,X)}},ie=(Y,le)=>{let he;const W=a.value?le.selected:!0;W?he=a.value?[...w.value,Y]:[Y]:he=w.value.filter(X=>X.value!==Y),L(he),Z(Y,W),n.mode==="combobox"?U(""):(!a.value||n.autoClearSearchValue)&&(f(""),U(""))},we=(Y,le)=>{L(Y),(le.type==="remove"||le.type==="clear")&&le.values.forEach(he=>{Z(he.value,!1)})},J=(Y,le)=>{var he;if(f(Y),U(null),le.source==="submit"){const W=(Y||"").trim();if(W){const X=Array.from(new Set([...C.value,W]));L(X),Z(W,!0),f("")}return}le.source!=="blur"&&(n.mode==="combobox"&&L(Y),(he=n.onSearch)===null||he===void 0||he.call(n,Y))},se=Y=>{let le=Y;n.mode!=="tags"&&(le=Y.map(W=>{const X=v.value.get(W);return X==null?void 0:X.value}).filter(W=>W!==void 0));const he=Array.from(new Set([...C.value,...le]));L(he),he.forEach(W=>{Z(W,!0)})},ee=K(()=>n.virtual!==!1&&n.dropdownMatchSelectWidth!==!1);ace(sH(O(O({},h),{flattenOptions:$,onActiveValue:Q,defaultActiveFirstOption:z,onSelect:ie,menuItemSelectedIcon:Zn(n,"menuItemSelectedIcon"),rawValues:C,fieldNames:c,virtual:ee,listHeight:Zn(n,"listHeight"),listItemHeight:Zn(n,"listItemHeight"),childrenAsData:l})));const ne=He();i({focus(){var Y;(Y=ne.value)===null||Y===void 0||Y.focus()},blur(){var Y;(Y=ne.value)===null||Y===void 0||Y.blur()},scrollTo(Y){var le;(le=ne.value)===null||le===void 0||le.scrollTo(Y)}});const ue=K(()=>wi(n,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"]));return()=>I(jue,be(be(be({},ue.value),r),{},{id:s,prefixCls:n.prefixCls,ref:ne,omitDomProps:bce,mode:n.mode,displayValues:A.value,onDisplayValuesChange:we,searchValue:d.value,onSearch:J,onSearchSplit:se,dropdownMatchSelectWidth:n.dropdownMatchSelectWidth,OptionList:cce,emptyOptions:!$.value.length,activeValue:F.value,activeDescendantId:`${s}_list_${k.value}`}),o)}}),WR=()=>null;WR.isSelectOption=!0;WR.displayName="ASelectOption";const jR=()=>null;jR.isSelectOptGroup=!0;jR.displayName="ASelectOptGroup";var Sce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},wce=Symbol("iconContext"),mH=function(){return Xt(wce,{prefixCls:He("anticon"),rootClassName:He(""),csp:He()})};function KR(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Cce(n,e){return n&&n.contains?n.contains(e):!1}var cB="data-vc-order",Tce="vc-icon-key",QE=new Map;function vH(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Tce}function XR(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function Ace(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function yH(n){return Array.from((QE.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function bH(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!KR())return null;var i=e.csp,r=e.prepend,o=document.createElement("style");o.setAttribute(cB,Ace(r)),i&&i.nonce&&(o.nonce=i.nonce),o.innerHTML=n;var s=XR(e),a=s.firstChild;if(r){if(r==="queue"){var l=yH(s).filter(function(u){return["prepend","prependQueue"].includes(u.getAttribute(cB))});if(l.length)return s.insertBefore(o,l[l.length-1].nextSibling),o}s.insertBefore(o,a)}else s.appendChild(o);return o}function Ece(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=XR(e);return yH(i).find(function(r){return r.getAttribute(vH(e))===n})}function Mce(n,e){var i=QE.get(n);if(!i||!Cce(document,i)){var r=bH("",e),o=r.parentNode;QE.set(n,o),n.removeChild(r)}}function Rce(n,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=XR(i);Mce(r,i);var o=Ece(e,i);if(o)return i.csp&&i.csp.nonce&&o.nonce!==i.csp.nonce&&(o.nonce=i.csp.nonce),o.innerHTML!==n&&(o.innerHTML=n),o;var s=bH(n,i);return s.setAttribute(vH(i),e),s}function dB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Pce(n,o,i[o])})}return n}function Pce(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function fB(n){return typeof n=="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(typeof n.icon=="object"||typeof n.icon=="function")}function ZE(n,e,i){return i?Fu(n.tag,dB({key:e},i,n.attrs),(n.children||[]).map(function(r,o){return ZE(r,"".concat(e,"-").concat(n.tag,"-").concat(o))})):Fu(n.tag,dB({key:e},n.attrs),(n.children||[]).map(function(r,o){return ZE(r,"".concat(e,"-").concat(n.tag,"-").concat(o))}))}function xH(n){return zv(n)[0]}function _H(n){return n?Array.isArray(n)?n:[n]:[]}var Ice=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;function SH(n){return n&&n.getRootNode&&n.getRootNode()}function Nce(n){return KR()?SH(n)instanceof ShadowRoot:!1}function Oce(n){return Nce(n)?SH(n):null}var Dce=function(){var e=mH(),i=e.prefixCls,r=e.csp,o=is(),s=Ice;i&&(s=s.replace(/anticon/g,i.value)),Un(function(){if(KR()){var a=o.vnode.el,l=Oce(a);Rce(s,"@ant-design-vue-icons",{prepend:!0,csp:r.value,attachTo:l})}})},Lce=["icon","primaryColor","secondaryColor"];function Bce(n,e){if(n==null)return{};var i=Fce(n,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(i[r]=n[r])}return i}function Fce(n,e){if(n==null)return{};var i={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(i[o]=n[o]);return i}function kx(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){$ce(n,o,i[o])})}return n}function $ce(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var hv=Wi({primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1});function Uce(n){var e=n.primaryColor,i=n.secondaryColor;hv.primaryColor=e,hv.secondaryColor=i||xH(e),hv.calculated=!!i}function kce(){return kx({},hv)}var dd=function(e,i){var r=kx({},e,i.attrs),o=r.icon,s=r.primaryColor,a=r.secondaryColor,l=Bce(r,Lce),u=hv;if(s&&(u={primaryColor:s,secondaryColor:a||xH(s)}),fB(o),!fB(o))return null;var c=o;return c&&typeof c.icon=="function"&&(c=kx({},c,{icon:c.icon(u.primaryColor,u.secondaryColor)})),ZE(c.icon,"svg-".concat(c.name),kx({},l,{"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};dd.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};dd.inheritAttrs=!1;dd.displayName="IconBase";dd.getTwoToneColors=kce;dd.setTwoToneColors=Uce;function zce(n,e){return Wce(n)||Vce(n,e)||Gce(n,e)||Hce()}function Hce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gce(n,e){if(n){if(typeof n=="string")return hB(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return hB(n,e)}}function hB(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=n[i];return r}function Vce(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r=[],o=!0,s=!1,a,l;try{for(i=i.call(n);!(o=(a=i.next()).done)&&(r.push(a.value),!(e&&r.length===e));o=!0);}catch(u){s=!0,l=u}finally{try{!o&&i.return!=null&&i.return()}finally{if(s)throw l}}return r}}function Wce(n){if(Array.isArray(n))return n}function wH(n){var e=_H(n),i=zce(e,2),r=i[0],o=i[1];return dd.setTwoToneColors({primaryColor:r,secondaryColor:o})}function jce(){var n=dd.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var Kce=We({name:"InsertStyles",setup:function(){return Dce(),function(){return null}}}),Xce=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function qce(n,e){return Jce(n)||Zce(n,e)||Qce(n,e)||Yce()}function Yce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qce(n,e){if(n){if(typeof n=="string")return pB(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return pB(n,e)}}function pB(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=n[i];return r}function Zce(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r=[],o=!0,s=!1,a,l;try{for(i=i.call(n);!(o=(a=i.next()).done)&&(r.push(a.value),!(e&&r.length===e));o=!0);}catch(u){s=!0,l=u}finally{try{!o&&i.return!=null&&i.return()}finally{if(s)throw l}}return r}}function Jce(n){if(Array.isArray(n))return n}function gB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Vm(n,o,i[o])})}return n}function Vm(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function ede(n,e){if(n==null)return{};var i=tde(n,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(i[r]=n[r])}return i}function tde(n,e){if(n==null)return{};var i={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(i[o]=n[o]);return i}wH(Fre.primary);var xn=function(e,i){var r,o=gB({},e,i.attrs),s=o.class,a=o.icon,l=o.spin,u=o.rotate,c=o.tabindex,d=o.twoToneColor,f=o.onClick,h=ede(o,Xce),p=mH(),v=p.prefixCls,b=p.rootClassName,y=(r={},Vm(r,b.value,!!b.value),Vm(r,v.value,!0),Vm(r,"".concat(v.value,"-").concat(a.name),!!a.name),Vm(r,"".concat(v.value,"-spin"),!!l||a.name==="loading"),r),m=c;m===void 0&&f&&(m=-1);var _=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,S=_H(d),w=qce(S,2),T=w[0],A=w[1];return I("span",gB({role:"img","aria-label":a.name},h,{onClick:f,class:[y,s],tabindex:m}),[I(dd,{icon:a,primaryColor:T,secondaryColor:A,style:_},null),I(Kce,null,null)])};xn.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:[String,Array]};xn.displayName="AntdIcon";xn.inheritAttrs=!1;xn.getTwoToneColor=jce;xn.setTwoToneColor=wH;function mB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){nde(n,o,i[o])})}return n}function nde(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var ew=function(e,i){var r=mB({},e,i.attrs);return I(xn,mB({},r,{icon:Sce}),null)};ew.displayName="DownOutlined";ew.inheritAttrs=!1;var ide={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};function vB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){rde(n,o,i[o])})}return n}function rde(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var Sl=function(e,i){var r=vB({},e,i.attrs);return I(xn,vB({},r,{icon:ide}),null)};Sl.displayName="LoadingOutlined";Sl.inheritAttrs=!1;var ode={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};function yB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){sde(n,o,i[o])})}return n}function sde(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var tw=function(e,i){var r=yB({},e,i.attrs);return I(xn,yB({},r,{icon:ode}),null)};tw.displayName="CheckOutlined";tw.inheritAttrs=!1;var ade={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};function bB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){lde(n,o,i[o])})}return n}function lde(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var fd=function(e,i){var r=bB({},e,i.attrs);return I(xn,bB({},r,{icon:ade}),null)};fd.displayName="CloseOutlined";fd.inheritAttrs=!1;var ude={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};function xB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){cde(n,o,i[o])})}return n}function cde(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var eh=function(e,i){var r=xB({},e,i.attrs);return I(xn,xB({},r,{icon:ude}),null)};eh.displayName="CloseCircleFilled";eh.inheritAttrs=!1;var dde={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function _B(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){fde(n,o,i[o])})}return n}function fde(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var Mg=function(e,i){var r=_B({},e,i.attrs);return I(xn,_B({},r,{icon:dde}),null)};Mg.displayName="SearchOutlined";Mg.inheritAttrs=!1;function hde(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{loading:i,multiple:r,prefixCls:o,hasFeedback:s,feedbackIcon:a,showArrow:l}=n,u=n.suffixIcon||e.suffixIcon&&e.suffixIcon(),c=n.clearIcon||e.clearIcon&&e.clearIcon(),d=n.menuItemSelectedIcon||e.menuItemSelectedIcon&&e.menuItemSelectedIcon(),f=n.removeIcon||e.removeIcon&&e.removeIcon(),h=c??I(eh,null,null),p=m=>I(mn,null,[l!==!1&&m,s&&a]);let v=null;if(u!==void 0)v=p(u);else if(i)v=p(I(Sl,{spin:!0},null));else{const m=`${o}-suffix`;v=_=>{let{open:S,showSearch:w}=_;return p(S&&w?I(Mg,{class:m},null):I(ew,{class:m},null))}}let b=null;d!==void 0?b=d:r?b=I(tw,null,null):b=null;let y=null;return f!==void 0?y=f:y=I(fd,null,null),{clearIcon:h,suffixIcon:v,itemIcon:b,removeIcon:y}}function qR(n){const e=Symbol("contextKey");return{useProvide:(o,s)=>{const a=Wi({});return Wn(e,a),an(()=>{O(a,o,s||{})}),a},useInject:()=>Xt(e,n)||{}}}const SB=Symbol("ContextProps"),wB=Symbol("InternalContextProps"),CB={id:K(()=>{}),onFieldBlur:()=>{},onFieldChange:()=>{},clearValidate:()=>{}},TB={addFormItemField:()=>{},removeFormItemField:()=>{}},Qu=()=>{const n=Xt(wB,TB),e=Symbol("FormItemFieldKey"),i=is();return n.addFormItemField(e,i.type),Rn(()=>{n.removeFormItemField(e)}),Wn(wB,TB),Wn(SB,CB),Xt(SB,CB)},ku=qR({}),AB=We({name:"NoFormStatus",setup(n,e){let{slots:i}=e;return ku.useProvide({}),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}});function Cp(n,e,i){return Ye({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:i})}const nw=(n,e)=>e||n,pde=n=>{const{componentCls:e}=n;return{[e]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},gde=n=>{const{componentCls:e}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item`]:{"&:empty":{display:"none"}}}}},mde=Di("Space",n=>[gde(n),pde(n)]);var vde="[object Symbol]";function iw(n){return typeof n=="symbol"||Lf(n)&&Yf(n)==vde}function yde(n,e){for(var i=-1,r=n==null?0:n.length,o=Array(r);++i<r;)o[i]=e(n[i],i,n);return o}var EB=_l?_l.prototype:void 0,MB=EB?EB.toString:void 0;function CH(n){if(typeof n=="string")return n;if(ua(n))return yde(n,CH)+"";if(iw(n))return MB?MB.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var bde=/\s/;function xde(n){for(var e=n.length;e--&&bde.test(n.charAt(e)););return e}var _de=/^\s+/;function Sde(n){return n&&n.slice(0,xde(n)+1).replace(_de,"")}var RB=NaN,wde=/^[-+]0x[0-9a-f]+$/i,Cde=/^0b[01]+$/i,Tde=/^0o[0-7]+$/i,Ade=parseInt;function PB(n){if(typeof n=="number")return n;if(iw(n))return RB;if(Uu(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Uu(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Sde(n);var i=Cde.test(n);return i||Tde.test(n)?Ade(n.slice(2),i?2:8):wde.test(n)?RB:+n}function TH(n){return n}function Ede(n,e,i){switch(i.length){case 0:return n.call(e);case 1:return n.call(e,i[0]);case 2:return n.call(e,i[0],i[1]);case 3:return n.call(e,i[0],i[1],i[2])}return n.apply(e,i)}function Mde(){}var Rde=800,Pde=16,Ide=Date.now;function Nde(n){var e=0,i=0;return function(){var r=Ide(),o=Pde-(r-i);if(i=r,o>0){if(++e>=Rde)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Ode(n){return function(){return n}}var O_=function(){try{var n=Zf(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Dde=O_?function(n,e){return O_(n,"toString",{configurable:!0,enumerable:!1,value:Ode(e),writable:!0})}:TH,Lde=Nde(Dde);function Bde(n,e,i,r){for(var o=n.length,s=i+-1;++s<o;)if(e(n[s],s,n))return s;return-1}function Fde(n){return n!==n}function $de(n,e,i){for(var r=i-1,o=n.length;++r<o;)if(n[r]===e)return r;return-1}function Ude(n,e,i){return e===e?$de(n,e,i):Bde(n,Fde,i)}function kde(n,e){var i=n==null?0:n.length;return!!i&&Ude(n,e,0)>-1}function zde(n,e,i){e=="__proto__"&&O_?O_(n,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[e]=i}var Hde=Object.prototype,Gde=Hde.hasOwnProperty;function Vde(n,e,i){var r=n[e];(!(Gde.call(n,e)&&BR(r,i))||i===void 0&&!(e in n))&&zde(n,e,i)}var IB=Math.max;function Wde(n,e,i){return e=IB(e===void 0?n.length-1:e,0),function(){for(var r=arguments,o=-1,s=IB(r.length-e,0),a=Array(s);++o<s;)a[o]=r[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=r[o];return l[e]=i(a),Ede(n,this,l)}}var jde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kde=/^\w*$/;function YR(n,e){if(ua(n))return!1;var i=typeof n;return i=="number"||i=="symbol"||i=="boolean"||n==null||iw(n)?!0:Kde.test(n)||!jde.test(n)||e!=null&&n in Object(e)}var Xde="Expected a function";function QR(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(Xde);var i=function(){var r=arguments,o=e?e.apply(this,r):r[0],s=i.cache;if(s.has(o))return s.get(o);var a=n.apply(this,r);return i.cache=s.set(o,a)||s,a};return i.cache=new(QR.Cache||Yu),i}QR.Cache=Yu;var qde=500;function Yde(n){var e=QR(n,function(r){return i.size===qde&&i.clear(),r}),i=e.cache;return e}var Qde=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zde=/\\(\\)?/g,Jde=Yde(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Qde,function(i,r,o,s){e.push(o?s.replace(Zde,"$1"):r||i)}),e});function efe(n){return n==null?"":CH(n)}function rw(n,e){return ua(n)?n:YR(n,e)?[n]:Jde(efe(n))}function By(n){if(typeof n=="string"||iw(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function ZR(n,e){e=rw(e,n);for(var i=0,r=e.length;n!=null&&i<r;)n=n[By(e[i++])];return i&&i==r?n:void 0}function tfe(n,e,i){var r=n==null?void 0:ZR(n,e);return r===void 0?i:r}var NB=_l?_l.isConcatSpreadable:void 0;function nfe(n){return ua(n)||YS(n)||!!(NB&&n&&n[NB])}function ife(n,e,i,r,o){var s=-1,a=n.length;for(i||(i=nfe),o||(o=[]);++s<a;){var l=n[s];i(l)?H8(o,l):o[o.length]=l}return o}function rfe(n){var e=n==null?0:n.length;return e?ife(n):[]}function ofe(n){return Lde(Wde(n,void 0,rfe),n+"")}var sfe=K8(Object.getPrototypeOf,Object),afe="[object Object]",lfe=Function.prototype,ufe=Object.prototype,AH=lfe.toString,cfe=ufe.hasOwnProperty,dfe=AH.call(Object);function EH(n){if(!Lf(n)||Yf(n)!=afe)return!1;var e=sfe(n);if(e===null)return!0;var i=cfe.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&AH.call(i)==dfe}var ffe=1,hfe=2;function pfe(n,e,i,r){var o=i.length,s=o;if(n==null)return!s;for(n=Object(n);o--;){var a=i[o];if(a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++o<s;){a=i[o];var l=a[0],u=n[l],c=a[1];if(a[2]){if(u===void 0&&!(l in n))return!1}else{var d=new Pu,f;if(!(f===void 0?QS(c,u,ffe|hfe,r,d):f))return!1}}return!0}function MH(n){return n===n&&!Uu(n)}function gfe(n){for(var e=HR(n),i=e.length;i--;){var r=e[i],o=n[r];e[i]=[r,o,MH(o)]}return e}function RH(n,e){return function(i){return i==null?!1:i[n]===e&&(e!==void 0||n in Object(i))}}function mfe(n){var e=gfe(n);return e.length==1&&e[0][2]?RH(e[0][0],e[0][1]):function(i){return i===n||pfe(i,n,e)}}function vfe(n,e){return n!=null&&e in Object(n)}function yfe(n,e,i){e=rw(e,n);for(var r=-1,o=e.length,s=!1;++r<o;){var a=By(e[r]);if(!(s=n!=null&&i(n,a)))break;n=n[a]}return s||++r!=o?s:(o=n==null?0:n.length,!!o&&UR(o)&&$R(a,o)&&(ua(n)||YS(n)))}function PH(n,e){return n!=null&&yfe(n,e,vfe)}var bfe=1,xfe=2;function _fe(n,e){return YR(n)&&MH(e)?RH(By(n),e):function(i){var r=tfe(i,n);return r===void 0&&r===e?PH(i,n):QS(e,r,bfe|xfe)}}function Sfe(n){return function(e){return e==null?void 0:e[n]}}function wfe(n){return function(e){return ZR(e,n)}}function Cfe(n){return YR(n)?Sfe(By(n)):wfe(n)}function Tfe(n){return typeof n=="function"?n:n==null?TH:typeof n=="object"?ua(n)?_fe(n[0],n[1]):mfe(n):Cfe(n)}function Afe(n,e,i,r){for(var o=-1,s=n==null?0:n.length;++o<s;){var a=n[o];e(r,a,i(a),n)}return r}function Efe(n){return function(e,i,r){for(var o=-1,s=Object(e),a=r(e),l=a.length;l--;){var u=a[++o];if(i(s[u],u,s)===!1)break}return e}}var Mfe=Efe();function Rfe(n,e){return n&&Mfe(n,e,HR)}function Pfe(n,e){return function(i,r){if(i==null)return i;if(!zR(i))return n(i,r);for(var o=i.length,s=-1,a=Object(i);++s<o&&r(a[s],s,a)!==!1;);return i}}var Ife=Pfe(Rfe);function Nfe(n,e,i,r){return Ife(n,function(o,s,a){e(r,o,i(o),a)}),r}function Ofe(n,e){return function(i,r){var o=ua(i)?Afe:Nfe,s=e();return o(i,n,Tfe(r),s)}}var GC=function(){return Pl.Date.now()},Dfe="Expected a function",Lfe=Math.max,Bfe=Math.min;function JR(n,e,i){var r,o,s,a,l,u,c=0,d=!1,f=!1,h=!0;if(typeof n!="function")throw new TypeError(Dfe);e=PB(e)||0,Uu(i)&&(d=!!i.leading,f="maxWait"in i,s=f?Lfe(PB(i.maxWait)||0,e):s,h="trailing"in i?!!i.trailing:h);function p(A){var C=r,R=o;return r=o=void 0,c=A,a=n.apply(R,C),a}function v(A){return c=A,l=setTimeout(m,e),d?p(A):a}function b(A){var C=A-u,R=A-c,E=e-C;return f?Bfe(E,s-R):E}function y(A){var C=A-u,R=A-c;return u===void 0||C>=e||C<0||f&&R>=s}function m(){var A=GC();if(y(A))return _(A);l=setTimeout(m,b(A))}function _(A){return l=void 0,h&&r?p(A):(r=o=void 0,a)}function S(){l!==void 0&&clearTimeout(l),c=0,r=u=o=l=void 0}function w(){return l===void 0?a:_(GC())}function T(){var A=GC(),C=y(A);if(r=arguments,o=this,u=A,C){if(l===void 0)return v(u);if(f)return clearTimeout(l),l=setTimeout(m,e),p(u)}return l===void 0&&(l=setTimeout(m,e)),a}return T.cancel=S,T.flush=w,T}function Ffe(n){for(var e=-1,i=n==null?0:n.length,r={};++e<i;){var o=n[e];r[o[0]]=o[1]}return r}var $fe="[object Map]",Ufe="[object Set]",kfe=Object.prototype,zfe=kfe.hasOwnProperty;function IH(n){if(n==null)return!0;if(zR(n)&&(ua(n)||typeof n=="string"||typeof n.splice=="function"||P_(n)||kR(n)||YS(n)))return!n.length;var e=hu(n);if(e==$fe||e==Ufe)return!n.size;if(j8(n))return!X8(n).length;for(var i in n)if(zfe.call(n,i))return!1;return!0}function Hfe(n,e,i,r){if(!Uu(n))return n;e=rw(e,n);for(var o=-1,s=e.length,a=s-1,l=n;l!=null&&++o<s;){var u=By(e[o]),c=i;if(u==="__proto__"||u==="constructor"||u==="prototype")return n;if(o!=a){var d=l[u];c=void 0,c===void 0&&(c=Uu(d)?d:$R(e[o+1])?[]:{})}Vde(l,u,c),l=l[u]}return n}function Gfe(n,e,i){for(var r=-1,o=e.length,s={};++r<o;){var a=e[r],l=ZR(n,a);i(l,a)&&Hfe(s,rw(a,n),l)}return s}var Vfe=Ofe(function(n,e,i){n[i?0:1].push(e)},function(){return[[],[]]});function Wfe(n,e){return Gfe(n,e,function(i,r){return PH(n,r)})}var NH=ofe(function(n,e){return n==null?{}:Wfe(n,e)}),jfe="Expected a function";function Kfe(n,e,i){var r=!0,o=!0;if(typeof n!="function")throw new TypeError(jfe);return Uu(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),JR(n,e,{leading:r,maxWait:e,trailing:o})}var Xfe=1/0,qfe=wp&&1/FR(new wp([,-0]))[1]==Xfe?function(n){return new wp(n)}:Mde,Yfe=200;function Qfe(n,e,i){var r=-1,o=kde,s=n.length,a=!0,l=[],u=l;if(s>=Yfe){var c=qfe(n);if(c)return FR(c);a=!1,o=k8,u=new jv}else u=l;e:for(;++r<s;){var d=n[r],f=d;if(d=d!==0?d:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;l.push(d)}else o(u,f,i)||(u!==l&&u.push(f),l.push(d))}return l}function VC(n){return n&&n.length?Qfe(n):[]}const Zfe=()=>({compactSize:String,compactDirection:_e.oneOf(If("horizontal","vertical")).def("horizontal"),isFirstItem:Pt(),isLastItem:Pt()}),ow=qR(null),eP=(n,e)=>{const i=ow.useInject(),r=K(()=>{if(!i||IH(i))return"";const{compactDirection:o,isFirstItem:s,isLastItem:a}=i,l=o==="vertical"?"-vertical-":"-";return Ye({[`${n.value}-compact${l}item`]:!0,[`${n.value}-compact${l}first-item`]:s,[`${n.value}-compact${l}last-item`]:a,[`${n.value}-compact${l}item-rtl`]:e.value==="rtl"})});return{compactSize:K(()=>i==null?void 0:i.compactSize),compactDirection:K(()=>i==null?void 0:i.compactDirection),compactItemClassnames:r}},JE=We({name:"NoCompactStyle",setup(n,e){let{slots:i}=e;return ow.useProvide(null),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}}),Jfe=()=>({prefixCls:String,size:{type:String},direction:_e.oneOf(If("horizontal","vertical")).def("horizontal"),align:_e.oneOf(If("start","end","center","baseline")),block:{type:Boolean,default:void 0}}),ehe=We({name:"CompactItem",props:Zfe(),setup(n,e){let{slots:i}=e;return ow.useProvide(n),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}});Jfe();const the=n=>({animationDuration:n,animationFillMode:"both"}),nhe=n=>({animationDuration:n,animationFillMode:"both"}),tP=function(n,e,i,r){const s=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${s}${n}-enter,
      ${s}${n}-appear
    `]:O(O({},the(r)),{animationPlayState:"paused"}),[`${s}${n}-leave`]:O(O({},nhe(r)),{animationPlayState:"paused"}),[`
      ${s}${n}-enter${n}-enter-active,
      ${s}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${s}${n}-leave${n}-leave-active`]:{animationName:i,animationPlayState:"running",pointerEvents:"none"}}},ihe=new On("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),rhe=new On("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),ohe=new On("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),she=new On("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),ahe=new On("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),lhe=new On("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),uhe=new On("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),che=new On("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),dhe={"move-up":{inKeyframes:uhe,outKeyframes:che},"move-down":{inKeyframes:ihe,outKeyframes:rhe},"move-left":{inKeyframes:ohe,outKeyframes:she},"move-right":{inKeyframes:ahe,outKeyframes:lhe}},D_=(n,e)=>{const{antCls:i}=n,r=`${i}-${e}`,{inKeyframes:o,outKeyframes:s}=dhe[e];return[tP(r,o,s,n.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:n.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},nP=new On("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),iP=new On("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),rP=new On("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),oP=new On("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),fhe=new On("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),hhe=new On("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),phe=new On("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),ghe=new On("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),mhe={"slide-up":{inKeyframes:nP,outKeyframes:iP},"slide-down":{inKeyframes:rP,outKeyframes:oP},"slide-left":{inKeyframes:fhe,outKeyframes:hhe},"slide-right":{inKeyframes:phe,outKeyframes:ghe}},td=(n,e)=>{const{antCls:i}=n,r=`${i}-${e}`,{inKeyframes:o,outKeyframes:s}=mhe[e];return[tP(r,o,s,n.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},vhe=new On("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),yhe=new On("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),OB=new On("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),DB=new On("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),bhe=new On("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),xhe=new On("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),_he=new On("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),She=new On("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),whe=new On("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Che=new On("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),The=new On("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Ahe=new On("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Ehe={zoom:{inKeyframes:vhe,outKeyframes:yhe},"zoom-big":{inKeyframes:OB,outKeyframes:DB},"zoom-big-fast":{inKeyframes:OB,outKeyframes:DB},"zoom-left":{inKeyframes:_he,outKeyframes:She},"zoom-right":{inKeyframes:whe,outKeyframes:Che},"zoom-up":{inKeyframes:bhe,outKeyframes:xhe},"zoom-down":{inKeyframes:The,outKeyframes:Ahe}},sP=(n,e)=>{const{antCls:i}=n,r=`${i}-${e}`,{inKeyframes:o,outKeyframes:s}=Ehe[e];return[tP(r,o,s,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},aP=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),LB=n=>{const{controlPaddingHorizontal:e}=n;return{position:"relative",display:"block",minHeight:n.controlHeight,padding:`${(n.controlHeight-n.fontSize*n.lineHeight)/2}px ${e}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,boxSizing:"border-box"}},Mhe=n=>{const{antCls:e,componentCls:i}=n,r=`${i}-item`;return[{[`${i}-dropdown`]:O(O({},li(n)),{position:"absolute",top:-9999,zIndex:n.zIndexPopup,boxSizing:"border-box",padding:n.paddingXXS,overflow:"hidden",fontSize:n.fontSize,fontVariant:"initial",backgroundColor:n.colorBgElevated,borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,[`
            &${e}-slide-up-enter${e}-slide-up-enter-active${i}-dropdown-placement-bottomLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${i}-dropdown-placement-bottomLeft
          `]:{animationName:nP},[`
            &${e}-slide-up-enter${e}-slide-up-enter-active${i}-dropdown-placement-topLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${i}-dropdown-placement-topLeft
          `]:{animationName:rP},[`&${e}-slide-up-leave${e}-slide-up-leave-active${i}-dropdown-placement-bottomLeft`]:{animationName:iP},[`&${e}-slide-up-leave${e}-slide-up-leave-active${i}-dropdown-placement-topLeft`]:{animationName:oP},"&-hidden":{display:"none"},"&-empty":{color:n.colorTextDisabled},[`${r}-empty`]:O(O({},LB(n)),{color:n.colorTextDisabled}),[`${r}`]:O(O({},LB(n)),{cursor:"pointer",transition:`background ${n.motionDurationSlow} ease`,borderRadius:n.borderRadiusSM,"&-group":{color:n.colorTextDescription,fontSize:n.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":O({flex:"auto"},yl),"&-state":{flex:"none"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:n.controlItemBgHover},[`&-selected:not(${r}-option-disabled)`]:{color:n.colorText,fontWeight:n.fontWeightStrong,backgroundColor:n.controlItemBgActive,[`${r}-option-state`]:{color:n.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:n.colorBgContainerDisabled},color:n.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:n.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},td(n,"slide-up"),td(n,"slide-down"),D_(n,"move-up"),D_(n,"move-down")]},Sh=2;function OH(n){let{controlHeightSM:e,controlHeight:i,lineWidth:r}=n;const o=(i-e)/2-r,s=Math.ceil(o/2);return[o,s]}function WC(n,e){const{componentCls:i,iconCls:r}=n,o=`${i}-selection-overflow`,s=n.controlHeightSM,[a]=OH(n),l=e?`${i}-${e}`:"";return{[`${i}-multiple${l}`]:{fontSize:n.fontSize,[o]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${i}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:`${a-Sh}px ${Sh*2}px`,borderRadius:n.borderRadius,[`${i}-show-search&`]:{cursor:"text"},[`${i}-disabled&`]:{background:n.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Sh}px 0`,lineHeight:`${s}px`,content:'"\\a0"'}},[`
        &${i}-show-arrow ${i}-selector,
        &${i}-allow-clear ${i}-selector
      `]:{paddingInlineEnd:n.fontSizeIcon+n.controlPaddingHorizontal},[`${i}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:s,marginTop:Sh,marginBottom:Sh,lineHeight:`${s-n.lineWidth*2}px`,background:n.colorFillSecondary,border:`${n.lineWidth}px solid ${n.colorSplit}`,borderRadius:n.borderRadiusSM,cursor:"default",transition:`font-size ${n.motionDurationSlow}, line-height ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,userSelect:"none",marginInlineEnd:Sh*2,paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS/2,[`${i}-disabled&`]:{color:n.colorTextDisabled,borderColor:n.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:n.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":O(O({},TR()),{display:"inline-block",color:n.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${r}`]:{verticalAlign:"-0.2em"},"&:hover":{color:n.colorIconHover}})},[`${o}-item + ${o}-item`]:{[`${i}-selection-search`]:{marginInlineStart:0}},[`${i}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:n.inputPaddingHorizontalBase-a,"\n          &-input,\n          &-mirror\n        ":{height:s,fontFamily:n.fontFamily,lineHeight:`${s}px`,transition:`all ${n.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${i}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:n.inputPaddingHorizontalBase,insetInlineEnd:n.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${n.motionDurationSlow}`}}}}function Rhe(n){const{componentCls:e}=n,i=Nn(n,{controlHeight:n.controlHeightSM,controlHeightSM:n.controlHeightXS,borderRadius:n.borderRadiusSM,borderRadiusSM:n.borderRadiusXS}),[,r]=OH(n);return[WC(n),WC(i,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInlineStart:n.controlPaddingHorizontalSM-n.lineWidth,insetInlineEnd:"auto"},[`${e}-selection-search`]:{marginInlineStart:r}}},WC(Nn(n,{fontSize:n.fontSizeLG,controlHeight:n.controlHeightLG,controlHeightSM:n.controlHeight,borderRadius:n.borderRadiusLG,borderRadiusSM:n.borderRadius}),"lg")]}function jC(n,e){const{componentCls:i,inputPaddingHorizontalBase:r,borderRadius:o}=n,s=n.controlHeight-n.lineWidth*2,a=Math.ceil(n.fontSize*1.25),l=e?`${i}-${e}`:"";return{[`${i}-single${l}`]:{fontSize:n.fontSize,[`${i}-selector`]:O(O({},li(n)),{display:"flex",borderRadius:o,[`${i}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%"}},[`
          ${i}-selection-item,
          ${i}-selection-placeholder
        `]:{padding:0,lineHeight:`${s}px`,transition:`all ${n.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${s}px`}},[`${i}-selection-item`]:{position:"relative",userSelect:"none"},[`${i}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${i}-selection-item:after`,`${i}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${i}-show-arrow ${i}-selection-item,
        &${i}-show-arrow ${i}-selection-placeholder
      `]:{paddingInlineEnd:a},[`&${i}-open ${i}-selection-item`]:{color:n.colorTextPlaceholder},[`&:not(${i}-customize-input)`]:{[`${i}-selector`]:{width:"100%",height:n.controlHeight,padding:`0 ${r}px`,[`${i}-selection-search-input`]:{height:s},"&:after":{lineHeight:`${s}px`}}},[`&${i}-customize-input`]:{[`${i}-selector`]:{"&:after":{display:"none"},[`${i}-selection-search`]:{position:"static",width:"100%"},[`${i}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${r}px`,"&:after":{display:"none"}}}}}}}function Phe(n){const{componentCls:e}=n,i=n.controlPaddingHorizontalSM-n.lineWidth;return[jC(n),jC(Nn(n,{controlHeight:n.controlHeightSM,borderRadius:n.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:i,insetInlineEnd:i},[`${e}-selector`]:{padding:`0 ${i}px`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:i+n.fontSize*1.5},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:n.fontSize*1.5}}}},jC(Nn(n,{controlHeight:n.controlHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG}),"lg")]}function Ihe(n,e,i){const{focusElCls:r,focus:o,borderElCls:s}=i,a=s?"> *":"",l=["hover",o?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${a}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-n.lineWidth},"&-item":O(O({[l]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function Nhe(n,e,i){const{borderElCls:r}=i,o=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${o}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${o}, &${n}-sm ${o}, &${n}-lg ${o}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${o}, &${n}-sm ${o}, &${n}-lg ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function lP(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:i}=n,r=`${i}-compact`;return{[r]:O(O({},Ihe(n,r,e)),Nhe(i,r,e))}}const Ohe=n=>{const{componentCls:e}=n;return{position:"relative",backgroundColor:n.colorBgContainer,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${e}-disabled&`]:{color:n.colorTextDisabled,background:n.colorBgContainerDisabled,cursor:"not-allowed",[`${e}-multiple&`]:{background:n.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},KC=function(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:r,borderHoverColor:o,outlineColor:s,antCls:a}=e,l=i?{[`${r}-selector`]:{borderColor:o}}:{};return{[n]:{[`&:not(${r}-disabled):not(${r}-customize-input):not(${a}-pagination-size-changer)`]:O(O({},l),{[`${r}-focused& ${r}-selector`]:{borderColor:o,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${s}`,borderInlineEndWidth:`${e.controlLineWidth}px !important`,outline:0},[`&:hover ${r}-selector`]:{borderColor:o,borderInlineEndWidth:`${e.controlLineWidth}px !important`}})}}},Dhe=n=>{const{componentCls:e}=n;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Lhe=n=>{const{componentCls:e,inputPaddingHorizontalBase:i,iconCls:r}=n;return{[e]:O(O({},li(n)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${e}-customize-input) ${e}-selector`]:O(O({},Ohe(n)),Dhe(n)),[`${e}-selection-item`]:O({flex:1,fontWeight:"normal"},yl),[`${e}-selection-placeholder`]:O(O({},yl),{flex:1,color:n.colorTextPlaceholder,pointerEvents:"none"}),[`${e}-arrow`]:O(O({},TR()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:n.fontSizeIcon,marginTop:-n.fontSizeIcon/2,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[r]:{verticalAlign:"top",transition:`transform ${n.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${e}-suffix)`]:{pointerEvents:"auto"}},[`${e}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${e}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:n.fontSizeIcon,height:n.fontSizeIcon,marginTop:-n.fontSizeIcon/2,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:n.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${n.motionDurationMid} ease, opacity ${n.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:n.colorTextTertiary}},"&:hover":{[`${e}-clear`]:{opacity:1}}}),[`${e}-has-feedback`]:{[`${e}-clear`]:{insetInlineEnd:i+n.fontSize+n.paddingXXS}}}},Bhe=n=>{const{componentCls:e}=n;return[{[e]:{[`&-borderless ${e}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${e}-in-form-item`]:{width:"100%"}}},Lhe(n),Phe(n),Rhe(n),Mhe(n),{[`${e}-rtl`]:{direction:"rtl"}},KC(e,Nn(n,{borderHoverColor:n.colorPrimaryHover,outlineColor:n.controlOutline})),KC(`${e}-status-error`,Nn(n,{borderHoverColor:n.colorErrorHover,outlineColor:n.colorErrorOutline}),!0),KC(`${e}-status-warning`,Nn(n,{borderHoverColor:n.colorWarningHover,outlineColor:n.colorWarningOutline}),!0),lP(n,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},Fhe=Di("Select",(n,e)=>{let{rootPrefixCls:i}=e;const r=Nn(n,{rootPrefixCls:i,inputPaddingHorizontalBase:n.paddingSM-1});return[Bhe(r)]},n=>({zIndexPopup:n.zIndexPopupBase+50})),uP=()=>O(O({},wi(gH(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:Mi([Array,Object,String,Number]),defaultValue:Mi([Array,Object,String,Number]),notFoundContent:_e.any,suffixIcon:_e.any,itemIcon:_e.any,size:In(),mode:In(),bordered:Pt(!0),transitionName:String,choiceTransitionName:In(""),popupClassName:String,dropdownClassName:String,placement:In(),status:In(),"onUpdate:value":pt()}),BB="SECRET_COMBOBOX_MODE_DO_NOT_USE",Ss=We({compatConfig:{MODE:3},name:"ASelect",Option:WR,OptGroup:jR,inheritAttrs:!1,props:ui(uP(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:BB,slots:Object,setup(n,e){let{attrs:i,emit:r,slots:o,expose:s}=e;const a=He(),l=Qu(),u=ku.useInject(),c=K(()=>nw(u.status,n.status)),d=()=>{var ie;(ie=a.value)===null||ie===void 0||ie.focus()},f=()=>{var ie;(ie=a.value)===null||ie===void 0||ie.blur()},h=ie=>{var we;(we=a.value)===null||we===void 0||we.scrollTo(ie)},p=K(()=>{const{mode:ie}=n;if(ie!=="combobox")return ie===BB?"combobox":ie}),{prefixCls:v,direction:b,configProvider:y,renderEmpty:m,size:_,getPrefixCls:S,getPopupContainer:w,disabled:T,select:A}=en("select",n),{compactSize:C,compactItemClassnames:R}=eP(v,b),E=K(()=>C.value||_.value),P=vl(),N=K(()=>{var ie;return(ie=T.value)!==null&&ie!==void 0?ie:P.value}),[D,$]=Fhe(v),L=K(()=>S()),F=K(()=>n.placement!==void 0?n.placement:b.value==="rtl"?"bottomRight":"bottomLeft"),U=K(()=>I_(L.value,tue(F.value),n.transitionName)),k=K(()=>Ye({[`${v.value}-lg`]:E.value==="large",[`${v.value}-sm`]:E.value==="small",[`${v.value}-rtl`]:b.value==="rtl",[`${v.value}-borderless`]:!n.bordered,[`${v.value}-in-form-item`]:u.isFormItemInput},Cp(v.value,c.value,u.hasFeedback),R.value,$.value)),H=function(){for(var ie=arguments.length,we=new Array(ie),J=0;J<ie;J++)we[J]=arguments[J];r("update:value",we[0]),r("change",...we),l.onFieldChange()},z=ie=>{r("blur",ie),l.onFieldBlur()};s({blur:f,focus:d,scrollTo:h});const Q=K(()=>p.value==="multiple"||p.value==="tags"),Z=K(()=>n.showArrow!==void 0?n.showArrow:n.loading||!(Q.value||p.value==="combobox"));return()=>{var ie,we,J,se;const{notFoundContent:ee,listHeight:ne=256,listItemHeight:ue=24,popupClassName:Y,dropdownClassName:le,virtual:he,dropdownMatchSelectWidth:W,id:X=l.id.value,placeholder:V=(ie=o.placeholder)===null||ie===void 0?void 0:ie.call(o),showArrow:Ce}=n,{hasFeedback:pe,feedbackIcon:Se}=u;let fe;ee!==void 0?fe=ee:o.notFoundContent?fe=o.notFoundContent():p.value==="combobox"?fe=null:fe=(m==null?void 0:m("Select"))||I(g8,{componentName:"Select"},null);const{suffixIcon:ge,itemIcon:ve,removeIcon:j,clearIcon:G}=hde(O(O({},n),{multiple:Q.value,prefixCls:v.value,hasFeedback:pe,feedbackIcon:Se,showArrow:Z.value}),o),ce=wi(n,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered","status"]),Ee=Ye(Y||le,{[`${v.value}-dropdown-${b.value}`]:b.value==="rtl"},$.value);return D(I(_ce,be(be(be({ref:a,virtual:he,dropdownMatchSelectWidth:W},ce),i),{},{showSearch:(we=n.showSearch)!==null&&we!==void 0?we:(J=A==null?void 0:A.value)===null||J===void 0?void 0:J.showSearch,placeholder:V,listHeight:ne,listItemHeight:ue,mode:p.value,prefixCls:v.value,direction:b.value,inputIcon:ge,menuItemSelectedIcon:ve,removeIcon:j,clearIcon:G,notFoundContent:fe,class:[k.value,i.class],getPopupContainer:w==null?void 0:w.value,dropdownClassName:Ee,onChange:H,onBlur:z,id:X,dropdownRender:ce.dropdownRender||o.dropdownRender,transitionName:U.value,children:(se=o.default)===null||se===void 0?void 0:se.call(o),tagRender:n.tagRender||o.tagRender,optionLabelRender:o.optionLabel,maxTagPlaceholder:n.maxTagPlaceholder||o.maxTagPlaceholder,showArrow:pe||Ce,disabled:N.value}),{option:o.option}))}}});Ss.install=function(n){return n.component(Ss.name,Ss),n.component(Ss.Option.displayName,Ss.Option),n.component(Ss.OptGroup.displayName,Ss.OptGroup),n};Ss.Option;Ss.OptGroup;var $he={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function FB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Uhe(n,o,i[o])})}return n}function Uhe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var cP=function(e,i){var r=FB({},e,i.attrs);return I(xn,FB({},r,{icon:$he}),null)};cP.displayName="CheckCircleOutlined";cP.inheritAttrs=!1;var khe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function $B(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){zhe(n,o,i[o])})}return n}function zhe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var dP=function(e,i){var r=$B({},e,i.attrs);return I(xn,$B({},r,{icon:khe}),null)};dP.displayName="ExclamationCircleOutlined";dP.inheritAttrs=!1;var Hhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function UB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Ghe(n,o,i[o])})}return n}function Ghe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var fP=function(e,i){var r=UB({},e,i.attrs);return I(xn,UB({},r,{icon:Hhe}),null)};fP.displayName="InfoCircleOutlined";fP.inheritAttrs=!1;var Vhe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function kB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Whe(n,o,i[o])})}return n}function Whe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var hP=function(e,i){var r=kB({},e,i.attrs);return I(xn,kB({},r,{icon:Vhe}),null)};hP.displayName="CloseCircleOutlined";hP.inheritAttrs=!1;var jhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function zB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Khe(n,o,i[o])})}return n}function Khe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var sw=function(e,i){var r=zB({},e,i.attrs);return I(xn,zB({},r,{icon:jhe}),null)};sw.displayName="CheckCircleFilled";sw.inheritAttrs=!1;var Xhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};function HB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){qhe(n,o,i[o])})}return n}function qhe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var pP=function(e,i){var r=HB({},e,i.attrs);return I(xn,HB({},r,{icon:Xhe}),null)};pP.displayName="ExclamationCircleFilled";pP.inheritAttrs=!1;var Yhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};function GB(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Qhe(n,o,i[o])})}return n}function Qhe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var gP=function(e,i){var r=GB({},e,i.attrs);return I(xn,GB({},r,{icon:Yhe}),null)};gP.displayName="InfoCircleFilled";gP.inheritAttrs=!1;const ab=(n,e,i,r,o)=>({backgroundColor:n,border:`${r.lineWidth}px ${r.lineType} ${e}`,[`${o}-icon`]:{color:i}}),Zhe=n=>{const{componentCls:e,motionDurationSlow:i,marginXS:r,marginSM:o,fontSize:s,fontSizeLG:a,lineHeight:l,borderRadiusLG:u,motionEaseInOutCirc:c,alertIconSizeLG:d,colorText:f,paddingContentVerticalSM:h,alertPaddingHorizontal:p,paddingMD:v,paddingContentHorizontalLG:b}=n;return{[e]:O(O({},li(n)),{position:"relative",display:"flex",alignItems:"center",padding:`${h}px ${p}px`,wordWrap:"break-word",borderRadius:u,[`&${e}-rtl`]:{direction:"rtl"},[`${e}-content`]:{flex:1,minWidth:0},[`${e}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:s,lineHeight:l},"&-message":{color:f},[`&${e}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${i} ${c}, opacity ${i} ${c},
        padding-top ${i} ${c}, padding-bottom ${i} ${c},
        margin-bottom ${i} ${c}`},[`&${e}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${e}-with-description`]:{alignItems:"flex-start",paddingInline:b,paddingBlock:v,[`${e}-icon`]:{marginInlineEnd:o,fontSize:d,lineHeight:0},[`${e}-message`]:{display:"block",marginBottom:r,color:f,fontSize:a},[`${e}-description`]:{display:"block"}},[`${e}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Jhe=n=>{const{componentCls:e,colorSuccess:i,colorSuccessBorder:r,colorSuccessBg:o,colorWarning:s,colorWarningBorder:a,colorWarningBg:l,colorError:u,colorErrorBorder:c,colorErrorBg:d,colorInfo:f,colorInfoBorder:h,colorInfoBg:p}=n;return{[e]:{"&-success":ab(o,r,i,n,e),"&-info":ab(p,h,f,n,e),"&-warning":ab(l,a,s,n,e),"&-error":O(O({},ab(d,c,u,n,e)),{[`${e}-description > pre`]:{margin:0,padding:0}})}}},epe=n=>{const{componentCls:e,iconCls:i,motionDurationMid:r,marginXS:o,fontSizeIcon:s,colorIcon:a,colorIconHover:l}=n;return{[e]:{"&-action":{marginInlineStart:o},[`${e}-close-icon`]:{marginInlineStart:o,padding:0,overflow:"hidden",fontSize:s,lineHeight:`${s}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${i}-close`]:{color:a,transition:`color ${r}`,"&:hover":{color:l}}},"&-close-text":{color:a,transition:`color ${r}`,"&:hover":{color:l}}}}},tpe=n=>[Zhe(n),Jhe(n),epe(n)],npe=Di("Alert",n=>{const{fontSizeHeading3:e}=n,i=Nn(n,{alertIconSizeLG:e,alertPaddingHorizontal:12});return[tpe(i)]}),ipe={success:sw,info:gP,error:eh,warning:pP},rpe={success:cP,info:fP,error:hP,warning:dP},ope=If("success","info","warning","error"),spe=()=>({type:_e.oneOf(ope),closable:{type:Boolean,default:void 0},closeText:_e.any,message:_e.any,description:_e.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:_e.any,closeIcon:_e.any,onClose:Function}),ape=We({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:spe(),setup(n,e){let{slots:i,emit:r,attrs:o,expose:s}=e;const{prefixCls:a,direction:l}=en("alert",n),[u,c]=npe(a),d=Ne(!1),f=Ne(!1),h=Ne(),p=m=>{m.preventDefault();const _=h.value;_.style.height=`${_.offsetHeight}px`,_.style.height=`${_.offsetHeight}px`,d.value=!0,r("close",m)},v=()=>{var m;d.value=!1,f.value=!0,(m=n.afterClose)===null||m===void 0||m.call(n)},b=K(()=>{const{type:m}=n;return m!==void 0?m:n.banner?"warning":"info"});s({animationEnd:v});const y=Ne({});return()=>{var m,_,S,w,T,A,C,R,E,P;const{banner:N,closeIcon:D=(m=i.closeIcon)===null||m===void 0?void 0:m.call(i)}=n;let{closable:$,showIcon:L}=n;const F=(_=n.closeText)!==null&&_!==void 0?_:(S=i.closeText)===null||S===void 0?void 0:S.call(i),U=(w=n.description)!==null&&w!==void 0?w:(T=i.description)===null||T===void 0?void 0:T.call(i),k=(A=n.message)!==null&&A!==void 0?A:(C=i.message)===null||C===void 0?void 0:C.call(i),H=(R=n.icon)!==null&&R!==void 0?R:(E=i.icon)===null||E===void 0?void 0:E.call(i),z=(P=i.action)===null||P===void 0?void 0:P.call(i);L=N&&L===void 0?!0:L;const Q=(U?rpe:ipe)[b.value]||null;F&&($=!0);const Z=a.value,ie=Ye(Z,{[`${Z}-${b.value}`]:!0,[`${Z}-closing`]:d.value,[`${Z}-with-description`]:!!U,[`${Z}-no-icon`]:!L,[`${Z}-banner`]:!!N,[`${Z}-closable`]:$,[`${Z}-rtl`]:l.value==="rtl",[c.value]:!0}),we=$?I("button",{type:"button",onClick:p,class:`${Z}-close-icon`,tabindex:0},[F?I("span",{class:`${Z}-close-text`},[F]):D===void 0?I(fd,null,null):D]):null,J=H&&(lo(H)?Ii(H,{class:`${Z}-icon`}):I("span",{class:`${Z}-icon`},[H]))||I(Q,{class:`${Z}-icon`},null),se=Kp(`${Z}-motion`,{appear:!1,css:!0,onAfterLeave:v,onBeforeLeave:ee=>{ee.style.maxHeight=`${ee.offsetHeight}px`},onLeave:ee=>{ee.style.maxHeight="0px"}});return u(f.value?null:I($a,se,{default:()=>[So(I("div",be(be({role:"alert"},o),{},{style:[o.style,y.value],class:[o.class,ie],"data-show":!d.value,ref:h}),[L?J:null,I("div",{class:`${Z}-content`},[k?I("div",{class:`${Z}-message`},[k]):null,U?I("div",{class:`${Z}-description`},[U]):null]),z?I("div",{class:`${Z}-action`},[z]):null,we]),[[Vo,!d.value]])]}))}}}),lpe=cd(ape),upe=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`,xxxl:`{min-width: ${n.screenXXXL}px}`});function cpe(){const[,n]=Oy();return K(()=>{const e=upe(n.value),i=new Map;let r=-1,o={};return{matchHandlers:{},dispatch(s){return o=s,i.forEach(a=>a(o)),i.size>=1},subscribe(s){return i.size||this.register(),r+=1,i.set(r,s),s(o),r},unsubscribe(s){i.delete(s),i.size||this.unregister()},unregister(){Object.keys(e).forEach(s=>{const a=e[s],l=this.matchHandlers[a];l==null||l.mql.removeListener(l==null?void 0:l.listener)}),i.clear()},register(){Object.keys(e).forEach(s=>{const a=e[s],l=c=>{let{matches:d}=c;this.dispatch(O(O({},o),{[s]:d}))},u=window.matchMedia(a);u.addListener(l),this.matchHandlers[a]={mql:u,listener:l},l(u)})},responsiveMap:e}})}function DH(){const n=Ne({});let e=null;const i=cpe();return Jt(()=>{e=i.value.subscribe(r=>{n.value=r})}),Ha(()=>{i.value.unsubscribe(e)}),n}function Ca(n){const e=Ne();return an(()=>{e.value=n()},{flush:"sync"}),e}const Gs={adjustX:1,adjustY:1},Vs=[0,0],LH={left:{points:["cr","cl"],overflow:Gs,offset:[-4,0],targetOffset:Vs},right:{points:["cl","cr"],overflow:Gs,offset:[4,0],targetOffset:Vs},top:{points:["bc","tc"],overflow:Gs,offset:[0,-4],targetOffset:Vs},bottom:{points:["tc","bc"],overflow:Gs,offset:[0,4],targetOffset:Vs},topLeft:{points:["bl","tl"],overflow:Gs,offset:[0,-4],targetOffset:Vs},leftTop:{points:["tr","tl"],overflow:Gs,offset:[-4,0],targetOffset:Vs},topRight:{points:["br","tr"],overflow:Gs,offset:[0,-4],targetOffset:Vs},rightTop:{points:["tl","tr"],overflow:Gs,offset:[4,0],targetOffset:Vs},bottomRight:{points:["tr","br"],overflow:Gs,offset:[0,4],targetOffset:Vs},rightBottom:{points:["bl","br"],overflow:Gs,offset:[4,0],targetOffset:Vs},bottomLeft:{points:["tl","bl"],overflow:Gs,offset:[0,4],targetOffset:Vs},leftBottom:{points:["br","bl"],overflow:Gs,offset:[-4,0],targetOffset:Vs}},dpe={prefixCls:String,id:String,overlayInnerStyle:_e.any},fpe=We({compatConfig:{MODE:3},name:"TooltipContent",props:dpe,setup(n,e){let{slots:i}=e;return()=>{var r;return I("div",{class:`${n.prefixCls}-inner`,id:n.id,role:"tooltip",style:n.overlayInnerStyle},[(r=i.overlay)===null||r===void 0?void 0:r.call(i)])}}});var hpe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function VB(){}const ppe=We({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:_e.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:_e.string.def("right"),transitionName:String,animation:_e.any,afterVisibleChange:_e.func.def(()=>{}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:_e.string.def("rc-tooltip"),mouseEnterDelay:_e.number.def(.1),mouseLeaveDelay:_e.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:_e.object.def(()=>({})),arrowContent:_e.any.def(null),tipId:String,builtinPlacements:_e.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function,arrow:{type:Boolean,default:!0}},setup(n,e){let{slots:i,attrs:r,expose:o}=e;const s=Ne(),a=()=>{const{prefixCls:d,tipId:f,overlayInnerStyle:h}=n;return[n.arrow?I("div",{class:`${d}-arrow`,key:"arrow"},[na(i,n,"arrowContent")]):null,I(fpe,{key:"content",prefixCls:d,id:f,overlayInnerStyle:h},{overlay:i.overlay})]};o({getPopupDomNode:()=>s.value.getPopupDomNode(),triggerDOM:s,forcePopupAlign:()=>{var d;return(d=s.value)===null||d===void 0?void 0:d.forcePopupAlign()}});const u=Ne(!1),c=Ne(!1);return an(()=>{const{destroyTooltipOnHide:d}=n;if(typeof d=="boolean")u.value=d;else if(d&&typeof d=="object"){const{keepParent:f}=d;u.value=f===!0,c.value=f===!1}}),()=>{const{overlayClassName:d,trigger:f,mouseEnterDelay:h,mouseLeaveDelay:p,overlayStyle:v,prefixCls:b,afterVisibleChange:y,transitionName:m,animation:_,placement:S,align:w,destroyTooltipOnHide:T,defaultVisible:A}=n,C=hpe(n,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"]),R=O({},C);n.visible!==void 0&&(R.popupVisible=n.visible);const E=O(O(O({popupClassName:d,prefixCls:b,action:f,builtinPlacements:LH,popupPlacement:S,popupAlign:w,afterPopupVisibleChange:y,popupTransitionName:m,popupAnimation:_,defaultPopupVisible:A,destroyPopupOnHide:u.value,autoDestroy:c.value,mouseLeaveDelay:p,popupStyle:v,mouseEnterDelay:h},R),r),{onPopupVisibleChange:n.onVisibleChange||VB,onPopupAlign:n.onPopupAlign||VB,ref:s,arrow:!!n.arrow,popup:a()});return I(ZS,E,{default:i.default})}}}),gpe=()=>({trigger:[String,Array],open:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:vn(),overlayInnerStyle:vn(),overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},arrow:{type:[Boolean,Object],default:!0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:vn(),builtinPlacements:vn(),children:Array,onVisibleChange:Function,"onUpdate:visible":Function,onOpenChange:Function,"onUpdate:open":Function}),mpe={adjustX:1,adjustY:1},WB={adjustX:0,adjustY:0},vpe=[0,0];function jB(n){return typeof n=="boolean"?n?mpe:WB:O(O({},WB),n)}function BH(n){const{arrowWidth:e=4,horizontalArrowShift:i=16,verticalArrowShift:r=8,autoAdjustOverflow:o,arrowPointAtCenter:s}=n,a={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+e),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(r+e)]},topRight:{points:["br","tc"],offset:[i+e,-4]},rightTop:{points:["tl","cr"],offset:[4,-(r+e)]},bottomRight:{points:["tr","bc"],offset:[i+e,4]},rightBottom:{points:["bl","cr"],offset:[4,r+e]},bottomLeft:{points:["tl","bc"],offset:[-(i+e),4]},leftBottom:{points:["br","cl"],offset:[-4,r+e]}};return Object.keys(a).forEach(l=>{a[l]=s?O(O({},a[l]),{overflow:jB(o),targetOffset:vpe}):O(O({},LH[l]),{overflow:jB(o)}),a[l].ignoreShake=!0}),a}function eM(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(let e=0,i=n.length;e<i;e++)if(n[e]!==void 0)return n[e]}const ype=E_.map(n=>`${n}-inverse`),bpe=["success","processing","error","default","warning"];function FH(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[...ype,...E_].includes(n):E_.includes(n)}function xpe(n){return bpe.includes(n)}function _pe(n,e){const i=FH(e),r=Ye({[`${n}-${e}`]:e&&i}),o={},s={};return e&&!i&&(o.background=e,s["--antd-arrow-background-color"]=e),{className:r,overlayStyle:o,arrowStyle:s}}function lb(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return n.map(i=>`${e}${i}`).join(",")}const $H=8;function UH(n){const e=$H,{sizePopupArrow:i,contentRadius:r,borderRadiusOuter:o,limitVerticalRadius:s}=n,a=i/2-Math.ceil(o*(Math.sqrt(2)-1)),l=(r>12?r+2:12)-a,u=s?e-a:l;return{dropdownArrowOffset:l,dropdownArrowOffsetVertical:u}}function Spe(n,e){const{componentCls:i,sizePopupArrow:r,marginXXS:o,borderRadiusXS:s,borderRadiusOuter:a,boxShadowPopoverArrow:l}=n,{colorBg:u,showArrowCls:c,contentRadius:d=n.borderRadiusLG,limitVerticalRadius:f}=e,{dropdownArrowOffsetVertical:h,dropdownArrowOffset:p}=UH({sizePopupArrow:r,contentRadius:d,borderRadiusOuter:a,limitVerticalRadius:f}),v=r/2+o;return{[i]:{[`${i}-arrow`]:[O(O({position:"absolute",zIndex:1,display:"block"},d8(r,s,a,u,l)),{"&:before":{background:u}})],[[`&-placement-top ${i}-arrow`,`&-placement-topLeft ${i}-arrow`,`&-placement-topRight ${i}-arrow`].join(",")]:{bottom:0,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${i}-arrow`]:{left:{_skip_check_:!0,value:p}},[`&-placement-topRight ${i}-arrow`]:{right:{_skip_check_:!0,value:p}},[[`&-placement-bottom ${i}-arrow`,`&-placement-bottomLeft ${i}-arrow`,`&-placement-bottomRight ${i}-arrow`].join(",")]:{top:0,transform:"translateY(-100%)"},[`&-placement-bottom ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${i}-arrow`]:{left:{_skip_check_:!0,value:p}},[`&-placement-bottomRight ${i}-arrow`]:{right:{_skip_check_:!0,value:p}},[[`&-placement-left ${i}-arrow`,`&-placement-leftTop ${i}-arrow`,`&-placement-leftBottom ${i}-arrow`].join(",")]:{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${i}-arrow`]:{top:h},[`&-placement-leftBottom ${i}-arrow`]:{bottom:h},[[`&-placement-right ${i}-arrow`,`&-placement-rightTop ${i}-arrow`,`&-placement-rightBottom ${i}-arrow`].join(",")]:{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${i}-arrow`]:{top:h},[`&-placement-rightBottom ${i}-arrow`]:{bottom:h},[lb(["&-placement-topLeft","&-placement-top","&-placement-topRight"].map(b=>b+=":not(&-arrow-hidden)"),c)]:{paddingBottom:v},[lb(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"].map(b=>b+=":not(&-arrow-hidden)"),c)]:{paddingTop:v},[lb(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"].map(b=>b+=":not(&-arrow-hidden)"),c)]:{paddingRight:{_skip_check_:!0,value:v}},[lb(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"].map(b=>b+=":not(&-arrow-hidden)"),c)]:{paddingLeft:{_skip_check_:!0,value:v}}}}}const wpe=n=>{const{componentCls:e,tooltipMaxWidth:i,tooltipColor:r,tooltipBg:o,tooltipBorderRadius:s,zIndexPopup:a,controlHeight:l,boxShadowSecondary:u,paddingSM:c,paddingXS:d,tooltipRadiusOuter:f}=n;return[{[e]:O(O(O(O({},li(n)),{position:"absolute",zIndex:a,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:i,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${e}-inner`]:{minWidth:l,minHeight:l,padding:`${c/2}px ${d}px`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:s,boxShadow:u},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(s,$H)}},[`${e}-content`]:{position:"relative"}}),f8(n,(h,p)=>{let{darkColor:v}=p;return{[`&${e}-${h}`]:{[`${e}-inner`]:{backgroundColor:v},[`${e}-arrow`]:{"--antd-arrow-background-color":v}}}})),{"&-rtl":{direction:"rtl"}})},Spe(Nn(n,{borderRadiusOuter:f}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:s,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none"}}]},Cpe=(n,e)=>Di("Tooltip",r=>{if((e==null?void 0:e.value)===!1)return[];const{borderRadius:o,colorTextLightSolid:s,colorBgDefault:a,borderRadiusOuter:l}=r,u=Nn(r,{tooltipMaxWidth:250,tooltipColor:s,tooltipBorderRadius:o,tooltipBg:a,tooltipRadiusOuter:l>4?4:l});return[wpe(u),sP(r,"zoom-big-fast")]},r=>{let{zIndexPopupBase:o,colorBgSpotlight:s}=r;return{zIndexPopup:o+70,colorBgDefault:s}})(n),Tpe=(n,e)=>{const i={},r=O({},n);return e.forEach(o=>{n&&o in n&&(i[o]=n[o],delete r[o])}),{picked:i,omitted:r}},Ape=()=>O(O({},gpe()),{title:_e.any}),Epe=We({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:ui(Ape(),{trigger:"hover",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:Object,setup(n,e){let{slots:i,emit:r,attrs:o,expose:s}=e;const{prefixCls:a,getPopupContainer:l,direction:u,rootPrefixCls:c}=en("tooltip",n),d=K(()=>{var P;return(P=n.open)!==null&&P!==void 0?P:n.visible}),f=He(eM([n.open,n.visible])),h=He();let p;ut(d,P=>{bn.cancel(p),p=bn(()=>{f.value=!!P})});const v=()=>{var P;const N=(P=n.title)!==null&&P!==void 0?P:i.title;return!N&&N!==0},b=P=>{const N=v();d.value===void 0&&(f.value=N?!1:P),N||(r("update:visible",P),r("visibleChange",P),r("update:open",P),r("openChange",P))};s({getPopupDomNode:()=>h.value.getPopupDomNode(),open:f,forcePopupAlign:()=>{var P;return(P=h.value)===null||P===void 0?void 0:P.forcePopupAlign()}});const m=K(()=>{var P;const{builtinPlacements:N,autoAdjustOverflow:D,arrow:$,arrowPointAtCenter:L}=n;let F=L;return typeof $=="object"&&(F=(P=$.pointAtCenter)!==null&&P!==void 0?P:L),N||BH({arrowPointAtCenter:F,autoAdjustOverflow:D})}),_=P=>P||P==="",S=P=>{const N=P.type;if(typeof N=="object"&&P.props&&((N.__ANT_BUTTON===!0||N==="button")&&_(P.props.disabled)||N.__ANT_SWITCH===!0&&(_(P.props.disabled)||_(P.props.loading))||N.__ANT_RADIO===!0&&_(P.props.disabled))){const{picked:D,omitted:$}=Tpe(xie(P),["position","left","right","top","bottom","float","display","zIndex"]),L=O(O({display:"inline-block"},D),{cursor:"not-allowed",lineHeight:1,width:P.props&&P.props.block?"100%":void 0}),F=O(O({},$),{pointerEvents:"none"}),U=Ii(P,{style:F},!0);return I("span",{style:L,class:`${a.value}-disabled-compatible-wrapper`},[U])}return P},w=()=>{var P,N;return(P=n.title)!==null&&P!==void 0?P:(N=i.title)===null||N===void 0?void 0:N.call(i)},T=(P,N)=>{const D=m.value,$=Object.keys(D).find(L=>{var F,U;return D[L].points[0]===((F=N.points)===null||F===void 0?void 0:F[0])&&D[L].points[1]===((U=N.points)===null||U===void 0?void 0:U[1])});if($){const L=P.getBoundingClientRect(),F={top:"50%",left:"50%"};$.indexOf("top")>=0||$.indexOf("Bottom")>=0?F.top=`${L.height-N.offset[1]}px`:($.indexOf("Top")>=0||$.indexOf("bottom")>=0)&&(F.top=`${-N.offset[1]}px`),$.indexOf("left")>=0||$.indexOf("Right")>=0?F.left=`${L.width-N.offset[0]}px`:($.indexOf("right")>=0||$.indexOf("Left")>=0)&&(F.left=`${-N.offset[0]}px`),P.style.transformOrigin=`${F.left} ${F.top}`}},A=K(()=>_pe(a.value,n.color)),C=K(()=>o["data-popover-inject"]),[R,E]=Cpe(a,K(()=>!C.value));return()=>{var P,N;const{openClassName:D,overlayClassName:$,overlayStyle:L,overlayInnerStyle:F}=n;let U=(N=Po((P=i.default)===null||P===void 0?void 0:P.call(i)))!==null&&N!==void 0?N:null;U=U.length===1?U[0]:U;let k=f.value;if(d.value===void 0&&v()&&(k=!1),!U)return null;const H=S(lo(U)&&!_ie(U)?U:I("span",null,[U])),z=Ye({[D||`${a.value}-open`]:!0,[H.props&&H.props.class]:H.props&&H.props.class}),Q=Ye($,{[`${a.value}-rtl`]:u.value==="rtl"},A.value.className,E.value),Z=O(O({},A.value.overlayStyle),F),ie=A.value.arrowStyle,we=O(O(O({},o),n),{prefixCls:a.value,arrow:!!n.arrow,getPopupContainer:l==null?void 0:l.value,builtinPlacements:m.value,visible:k,ref:h,overlayClassName:Q,overlayStyle:O(O({},ie),L),overlayInnerStyle:Z,onVisibleChange:b,onPopupAlign:T,transitionName:I_(c.value,"zoom-big-fast",n.transitionName)});return R(I(ppe,we,{default:()=>[f.value?Ii(H,{class:z}):H],arrowContent:()=>I("span",{class:`${a.value}-arrow-content`},null),overlay:w}))}}}),aw=cd(Epe),KB=n=>!isNaN(parseFloat(n))&&isFinite(n),wh={adjustX:1,adjustY:1},Ch=[0,0],Mpe={topLeft:{points:["bl","tl"],overflow:wh,offset:[0,-4],targetOffset:Ch},topCenter:{points:["bc","tc"],overflow:wh,offset:[0,-4],targetOffset:Ch},topRight:{points:["br","tr"],overflow:wh,offset:[0,-4],targetOffset:Ch},bottomLeft:{points:["tl","bl"],overflow:wh,offset:[0,4],targetOffset:Ch},bottomCenter:{points:["tc","bc"],overflow:wh,offset:[0,4],targetOffset:Ch},bottomRight:{points:["tr","br"],overflow:wh,offset:[0,4],targetOffset:Ch}};var Rpe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const kH=We({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:_e.string.def("rc-dropdown"),transitionName:String,overlayClassName:_e.string.def(""),openClassName:String,animation:_e.any,align:_e.object,overlayStyle:{type:Object,default:void 0},placement:_e.string.def("bottomLeft"),overlay:_e.any,trigger:_e.oneOfType([_e.string,_e.arrayOf(_e.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:_e.array,hideAction:_e.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:_e.number.def(.15),mouseLeaveDelay:_e.number.def(.1)},emits:["visibleChange","overlayClick"],setup(n,e){let{slots:i,emit:r,expose:o}=e;const s=He(!!n.visible);ut(()=>n.visible,p=>{p!==void 0&&(s.value=p)});const a=He();o({triggerRef:a});const l=p=>{n.visible===void 0&&(s.value=!1),r("overlayClick",p)},u=p=>{n.visible===void 0&&(s.value=p),r("visibleChange",p)},c=()=>{var p;const v=(p=i.overlay)===null||p===void 0?void 0:p.call(i),b={prefixCls:`${n.prefixCls}-menu`,onClick:l};return I(mn,{key:O6},[n.arrow&&I("div",{class:`${n.prefixCls}-arrow`},null),Ii(v,b,!1)])},d=K(()=>{const{minOverlayWidthMatchTrigger:p=!n.alignPoint}=n;return p}),f=()=>{var p;const v=(p=i.default)===null||p===void 0?void 0:p.call(i);return s.value&&v?Ii(v[0],{class:n.openClassName||`${n.prefixCls}-open`},!1):v},h=K(()=>!n.hideAction&&n.trigger.indexOf("contextmenu")!==-1?["click"]:n.hideAction);return()=>{const{prefixCls:p,arrow:v,showAction:b,overlayStyle:y,trigger:m,placement:_,align:S,getPopupContainer:w,transitionName:T,animation:A,overlayClassName:C}=n,R=Rpe(n,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return I(ZS,be(be({},R),{},{prefixCls:p,ref:a,popupClassName:Ye(C,{[`${p}-show-arrow`]:v}),popupStyle:y,builtinPlacements:Mpe,action:m,showAction:b,hideAction:h.value||[],popupPlacement:_,popupAlign:S,popupTransitionName:T,popupAnimation:A,popupVisible:s.value,stretch:d.value?"minWidth":"",onPopupVisibleChange:u,getPopupContainer:w}),{popup:c,default:f})}}}),Ppe=n=>{const{componentCls:e,colorPrimary:i}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${i})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},Ipe=Di("Wave",n=>[Ppe(n)]);function Npe(n){const e=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function XC(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&Npe(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function Ope(n){const{borderTopColor:e,borderColor:i,backgroundColor:r}=getComputedStyle(n);return XC(e)?e:XC(i)?i:XC(r)?r:null}function qC(n){return Number.isNaN(n)?0:n}const Dpe=We({props:{target:vn(),className:String},setup(n){const e=Ne(null),[i,r]=Vn(null),[o,s]=Vn([]),[a,l]=Vn(0),[u,c]=Vn(0),[d,f]=Vn(0),[h,p]=Vn(0),[v,b]=Vn(!1);function y(){const{target:C}=n,R=getComputedStyle(C);r(Ope(C));const E=R.position==="static",{borderLeftWidth:P,borderTopWidth:N}=R;l(E?C.offsetLeft:qC(-parseFloat(P))),c(E?C.offsetTop:qC(-parseFloat(N))),f(C.offsetWidth),p(C.offsetHeight);const{borderTopLeftRadius:D,borderTopRightRadius:$,borderBottomLeftRadius:L,borderBottomRightRadius:F}=R;s([D,$,F,L].map(U=>qC(parseFloat(U))))}let m,_,S;const w=()=>{clearTimeout(S),bn.cancel(_),m==null||m.disconnect()},T=()=>{var C;const R=(C=e.value)===null||C===void 0?void 0:C.parentElement;R&&(PE(null,R),R.parentElement&&R.parentElement.removeChild(R))};Jt(()=>{w(),S=setTimeout(()=>{T()},5e3);const{target:C}=n;C&&(_=bn(()=>{y(),b(!0)}),typeof ResizeObserver<"u"&&(m=new ResizeObserver(y),m.observe(C)))}),Rn(()=>{w()});const A=C=>{C.propertyName==="opacity"&&T()};return()=>{if(!v.value)return null;const C={left:`${a.value}px`,top:`${u.value}px`,width:`${d.value}px`,height:`${h.value}px`,borderRadius:o.value.map(R=>`${R}px`).join(" ")};return i&&(C["--wave-color"]=i.value),I($a,{appear:!0,name:"wave-motion",appearFromClass:"wave-motion-appear",appearActiveClass:"wave-motion-appear",appearToClass:"wave-motion-appear wave-motion-appear-active"},{default:()=>[I("div",{ref:e,class:n.className,style:C,onTransitionend:A},null)]})}}});function Lpe(n,e){const i=document.createElement("div");return i.style.position="absolute",i.style.left="0px",i.style.top="0px",n==null||n.insertBefore(i,n==null?void 0:n.firstChild),PE(I(Dpe,{target:n,className:e},null),i),()=>{PE(null,i),i.parentElement&&i.parentElement.removeChild(i)}}function Bpe(n,e){const i=is();let r;function o(){var s;const a=Su(i);r==null||r(),!(!((s=e==null?void 0:e.value)===null||s===void 0)&&s.disabled||!a)&&(r=Lpe(a,n.value))}return Rn(()=>{r==null||r()}),o}const mP=We({compatConfig:{MODE:3},name:"Wave",props:{disabled:Boolean},setup(n,e){let{slots:i}=e;const r=is(),{prefixCls:o,wave:s}=en("wave",n),[,a]=Ipe(o),l=Bpe(K(()=>Ye(o.value,a.value)),s);let u;const c=()=>{Su(r).removeEventListener("click",u,!0)};return Jt(()=>{ut(()=>n.disabled,()=>{c(),Un(()=>{const d=Su(r);d==null||d.removeEventListener("click",u,!0),!(!d||d.nodeType!==1||n.disabled)&&(u=f=>{f.target.tagName==="INPUT"||!LR(f.target)||!d.getAttribute||d.getAttribute("disabled")||d.disabled||d.className.includes("disabled")||d.className.includes("-leave")||l()},d.addEventListener("click",u,!0))})},{immediate:!0,flush:"post"})}),Rn(()=>{c()}),()=>{var d;return(d=i.default)===null||d===void 0?void 0:d.call(i)[0]}}}),zH=()=>({prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:_e.any,href:String,target:String,title:String,onClick:zp(),onMousedown:zp()}),XB=n=>{n&&(n.style.width="0px",n.style.opacity="0",n.style.transform="scale(0)")},qB=n=>{Un(()=>{n&&(n.style.width=`${n.scrollWidth}px`,n.style.opacity="1",n.style.transform="scale(1)")})},YB=n=>{n&&n.style&&(n.style.width=null,n.style.opacity=null,n.style.transform=null)},Fpe=We({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup(n){return()=>{const{existIcon:e,prefixCls:i,loading:r}=n;if(e)return I("span",{class:`${i}-loading-icon`},[I(Sl,null,null)]);const o=!!r;return I($a,{name:`${i}-loading-icon-motion`,onBeforeEnter:XB,onEnter:qB,onAfterEnter:YB,onBeforeLeave:qB,onLeave:s=>{setTimeout(()=>{XB(s)})},onAfterLeave:YB},{default:()=>[o?I("span",{class:`${i}-loading-icon`},[I(Sl,null,null)]):null]})}}}),QB=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),$pe=n=>{const{componentCls:e,fontSize:i,lineWidth:r,colorPrimaryHover:o,colorErrorHover:s}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:i}},QB(`${e}-primary`,o),QB(`${e}-danger`,s)]}};function Upe(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-n.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function kpe(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function zpe(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:O(O({},Upe(n,e)),kpe(n.componentCls,e))}}const Hpe=n=>{const{componentCls:e,iconCls:i}=n;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:n.lineHeight,color:n.colorText,"> span":{display:"inline-block"},[`> ${i} + span, > span + ${i}`]:{marginInlineStart:n.marginXS},"> a":{color:"currentColor"},"&:not(:disabled)":O({},Nf(n)),[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:n.lineWidth,height:`calc(100% + ${n.lineWidth*2}px)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:`calc(100% + ${n.lineWidth*2}px)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},zu=(n,e)=>({"&:not(:disabled)":{"&:hover":n,"&:active":e}}),Gpe=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Vpe=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.controlHeight/2,paddingInlineEnd:n.controlHeight/2}),tM=n=>({cursor:"not-allowed",borderColor:n.colorBorder,color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,boxShadow:"none"}),L_=(n,e,i,r,o,s,a)=>({[`&${n}-background-ghost`]:O(O({color:e||void 0,backgroundColor:"transparent",borderColor:i||void 0,boxShadow:"none"},zu(O({backgroundColor:"transparent"},s),O({backgroundColor:"transparent"},a))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:o||void 0}})}),vP=n=>({"&:disabled":O({},tM(n))}),HH=n=>O({},vP(n)),B_=n=>({"&:disabled":{cursor:"not-allowed",color:n.colorTextDisabled}}),GH=n=>O(O(O(O(O({},HH(n)),{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`}),zu({color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),L_(n.componentCls,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)),{[`&${n.componentCls}-dangerous`]:O(O(O({color:n.colorError,borderColor:n.colorError},zu({color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),L_(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder)),vP(n))}),Wpe=n=>O(O(O(O(O({},HH(n)),{color:n.colorTextLightSolid,backgroundColor:n.colorPrimary,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`}),zu({color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryHover},{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryActive})),L_(n.componentCls,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),{[`&${n.componentCls}-dangerous`]:O(O(O({backgroundColor:n.colorError,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`},zu({backgroundColor:n.colorErrorHover},{backgroundColor:n.colorErrorActive})),L_(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),vP(n))}),jpe=n=>O(O({},GH(n)),{borderStyle:"dashed"}),Kpe=n=>O(O(O({color:n.colorLink},zu({color:n.colorLinkHover},{color:n.colorLinkActive})),B_(n)),{[`&${n.componentCls}-dangerous`]:O(O({color:n.colorError},zu({color:n.colorErrorHover},{color:n.colorErrorActive})),B_(n))}),Xpe=n=>O(O(O({},zu({color:n.colorText,backgroundColor:n.colorBgTextHover},{color:n.colorText,backgroundColor:n.colorBgTextActive})),B_(n)),{[`&${n.componentCls}-dangerous`]:O(O({color:n.colorError},B_(n)),zu({color:n.colorErrorHover,backgroundColor:n.colorErrorBg},{color:n.colorErrorHover,backgroundColor:n.colorErrorBg}))}),qpe=n=>O(O({},tM(n)),{[`&${n.componentCls}:hover`]:O({},tM(n))}),Ype=n=>{const{componentCls:e}=n;return{[`${e}-default`]:GH(n),[`${e}-primary`]:Wpe(n),[`${e}-dashed`]:jpe(n),[`${e}-link`]:Kpe(n),[`${e}-text`]:Xpe(n),[`${e}-disabled`]:qpe(n)}},yP=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:i,iconCls:r,controlHeight:o,fontSize:s,lineHeight:a,lineWidth:l,borderRadius:u,buttonPaddingHorizontal:c}=n,d=Math.max(0,(o-s*a)/2-l),f=c-l,h=`${i}-icon-only`;return[{[`${i}${e}`]:{fontSize:s,height:o,padding:`${d}px ${f}px`,borderRadius:u,[`&${h}`]:{width:o,paddingInlineStart:0,paddingInlineEnd:0,[`&${i}-round`]:{width:"auto"},"> span":{transform:"scale(1.143)"}},[`&${i}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${i}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`},[`&:not(${h}) ${i}-loading-icon > ${r}`]:{marginInlineEnd:n.marginXS}}},{[`${i}${i}-circle${e}`]:Gpe(n)},{[`${i}${i}-round${e}`]:Vpe(n)}]},Qpe=n=>yP(n),Zpe=n=>{const e=Nn(n,{controlHeight:n.controlHeightSM,padding:n.paddingXS,buttonPaddingHorizontal:8,borderRadius:n.borderRadiusSM});return yP(e,`${n.componentCls}-sm`)},Jpe=n=>{const e=Nn(n,{controlHeight:n.controlHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG});return yP(e,`${n.componentCls}-lg`)},ege=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},tge=Di("Button",n=>{const{controlTmpOutline:e,paddingContentHorizontal:i}=n,r=Nn(n,{colorOutlineDefault:e,buttonPaddingHorizontal:i});return[Hpe(r),Zpe(r),Qpe(r),Jpe(r),ege(r),Ype(r),$pe(r),lP(n,{focus:!1}),zpe(n)]}),nge=()=>({prefixCls:String,size:{type:String}}),VH=qR(),nM=We({compatConfig:{MODE:3},name:"AButtonGroup",props:nge(),setup(n,e){let{slots:i}=e;const{prefixCls:r,direction:o}=en("btn-group",n),[,,s]=Oy();VH.useProvide(Wi({size:K(()=>n.size)}));const a=K(()=>{const{size:l}=n;let u="";switch(l){case"large":u="lg";break;case"small":u="sm";break;case"middle":case void 0:break;default:fi(!l,"Button.Group","Invalid prop `size`.")}return{[`${r.value}`]:!0,[`${r.value}-${u}`]:u,[`${r.value}-rtl`]:o.value==="rtl",[s.value]:!0}});return()=>{var l;return I("div",{class:a.value},[tr((l=i.default)===null||l===void 0?void 0:l.call(i))])}}}),ZB=/^[\u4e00-\u9fa5]{2}$/,JB=ZB.test.bind(ZB);function ub(n){return n==="text"||n==="link"}const Es=We({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:ui(zH(),{type:"default"}),slots:Object,setup(n,e){let{slots:i,attrs:r,emit:o,expose:s}=e;const{prefixCls:a,autoInsertSpaceInButton:l,direction:u,size:c}=en("btn",n),[d,f]=tge(a),h=VH.useInject(),p=vl(),v=K(()=>{var F;return(F=n.disabled)!==null&&F!==void 0?F:p.value}),b=Ne(null),y=Ne(void 0);let m=!1;const _=Ne(!1),S=Ne(!1),w=K(()=>l.value!==!1),{compactSize:T,compactItemClassnames:A}=eP(a,u),C=K(()=>typeof n.loading=="object"&&n.loading.delay?n.loading.delay||!0:!!n.loading);ut(C,F=>{clearTimeout(y.value),typeof C.value=="number"?y.value=setTimeout(()=>{_.value=F},C.value):_.value=F},{immediate:!0});const R=K(()=>{const{type:F,shape:U="default",ghost:k,block:H,danger:z}=n,Q=a.value,Z={large:"lg",small:"sm",middle:void 0},ie=T.value||(h==null?void 0:h.size)||c.value,we=ie&&Z[ie]||"";return[A.value,{[f.value]:!0,[`${Q}`]:!0,[`${Q}-${U}`]:U!=="default"&&U,[`${Q}-${F}`]:F,[`${Q}-${we}`]:we,[`${Q}-loading`]:_.value,[`${Q}-background-ghost`]:k&&!ub(F),[`${Q}-two-chinese-chars`]:S.value&&w.value,[`${Q}-block`]:H,[`${Q}-dangerous`]:!!z,[`${Q}-rtl`]:u.value==="rtl"}]}),E=()=>{const F=b.value;if(!F||l.value===!1)return;const U=F.textContent;m&&JB(U)?S.value||(S.value=!0):S.value&&(S.value=!1)},P=F=>{if(_.value||v.value){F.preventDefault();return}o("click",F)},N=F=>{o("mousedown",F)},D=(F,U)=>{const k=U?" ":"";if(F.type===Xf){let H=F.children.trim();return JB(H)&&(H=H.split("").join(k)),I("span",null,[H])}return F};return an(()=>{fi(!(n.ghost&&ub(n.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),Jt(E),fa(E),Rn(()=>{y.value&&clearTimeout(y.value)}),s({focus:()=>{var F;(F=b.value)===null||F===void 0||F.focus()},blur:()=>{var F;(F=b.value)===null||F===void 0||F.blur()}}),()=>{var F,U;const{icon:k=(F=i.icon)===null||F===void 0?void 0:F.call(i)}=n,H=tr((U=i.default)===null||U===void 0?void 0:U.call(i));m=H.length===1&&!k&&!ub(n.type);const{type:z,htmlType:Q,href:Z,title:ie,target:we}=n,J=_.value?"loading":k,se=O(O({},r),{title:ie,disabled:v.value,class:[R.value,r.class,{[`${a.value}-icon-only`]:H.length===0&&!!J}],onClick:P,onMousedown:N});v.value||delete se.disabled;const ee=k&&!_.value?k:I(Fpe,{existIcon:!!k,prefixCls:a.value,loading:!!_.value},null),ne=H.map(Y=>D(Y,m&&w.value));if(Z!==void 0)return d(I("a",be(be({},se),{},{href:Z,target:we,ref:b}),[ee,ne]));let ue=I("button",be(be({},se),{},{ref:b,type:Q}),[ee,ne]);if(!ub(z)){const Y=function(){return ue}();ue=I(mP,{ref:"wave",disabled:!!_.value},{default:()=>[Y]})}return d(ue)}}});Es.Group=nM;Es.install=function(n){return n.component(Es.name,Es),n.component(nM.name,nM),n};const WH=()=>({arrow:Mi([Boolean,Object]),trigger:{type:[Array,String]},menu:vn(),overlay:_e.any,visible:Pt(),open:Pt(),disabled:Pt(),danger:Pt(),autofocus:Pt(),align:vn(),getPopupContainer:Function,prefixCls:String,transitionName:String,placement:String,overlayClassName:String,overlayStyle:vn(),forceRender:Pt(),mouseEnterDelay:Number,mouseLeaveDelay:Number,openClassName:String,minOverlayWidthMatchTrigger:Pt(),destroyPopupOnHide:Pt(),onVisibleChange:{type:Function},"onUpdate:visible":{type:Function},onOpenChange:{type:Function},"onUpdate:open":{type:Function}}),YC=zH(),ige=()=>O(O({},WH()),{type:YC.type,size:String,htmlType:YC.htmlType,href:String,disabled:Pt(),prefixCls:String,icon:_e.any,title:String,loading:YC.loading,onClick:zp()});var rge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};function eF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){oge(n,o,i[o])})}return n}function oge(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var Fy=function(e,i){var r=eF({},e,i.attrs);return I(xn,eF({},r,{icon:rge}),null)};Fy.displayName="EllipsisOutlined";Fy.inheritAttrs=!1;const sge=n=>{const{componentCls:e,antCls:i,paddingXS:r,opacityLoading:o}=n;return{[`${e}-button`]:{whiteSpace:"nowrap",[`&${i}-btn-group > ${i}-btn`]:{[`&-loading, &-loading + ${i}-btn`]:{cursor:"default",pointerEvents:"none",opacity:o},[`&:last-child:not(:first-child):not(${i}-btn-icon-only)`]:{paddingInline:r}}}}},age=n=>{const{componentCls:e,menuCls:i,colorError:r,colorTextLightSolid:o}=n,s=`${i}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${i} ${s}`]:{[`&${s}-danger:not(${s}-disabled)`]:{color:r,"&:hover":{color:o,backgroundColor:r}}}}}},lge=n=>{const{componentCls:e,menuCls:i,zIndexPopup:r,dropdownArrowDistance:o,dropdownArrowOffset:s,sizePopupArrow:a,antCls:l,iconCls:u,motionDurationMid:c,dropdownPaddingVertical:d,fontSize:f,dropdownEdgeChildPadding:h,colorTextDisabled:p,fontSizeIcon:v,controlPaddingHorizontal:b,colorBgElevated:y,boxShadowPopoverArrow:m}=n;return[{[e]:O(O({},li(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:-o+a/2,zIndex:-9999,opacity:1e-4,content:'""'},[`${e}-wrap`]:{position:"relative",[`${l}-btn > ${u}-down`]:{fontSize:v},[`${u}-down::before`]:{transition:`transform ${c}`}},[`${e}-wrap-open`]:{[`${u}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`
        &-show-arrow${e}-placement-topLeft,
        &-show-arrow${e}-placement-top,
        &-show-arrow${e}-placement-topRight
      `]:{paddingBottom:o},[`
        &-show-arrow${e}-placement-bottomLeft,
        &-show-arrow${e}-placement-bottom,
        &-show-arrow${e}-placement-bottomRight
      `]:{paddingTop:o},[`${e}-arrow`]:O({position:"absolute",zIndex:1,display:"block"},d8(a,n.borderRadiusXS,n.borderRadiusOuter,y,m)),[`
        &-placement-top > ${e}-arrow,
        &-placement-topLeft > ${e}-arrow,
        &-placement-topRight > ${e}-arrow
      `]:{bottom:o,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${e}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${e}-arrow`]:{left:{_skip_check_:!0,value:s}},[`&-placement-topRight > ${e}-arrow`]:{right:{_skip_check_:!0,value:s}},[`
          &-placement-bottom > ${e}-arrow,
          &-placement-bottomLeft > ${e}-arrow,
          &-placement-bottomRight > ${e}-arrow
        `]:{top:o,transform:"translateY(-100%)"},[`&-placement-bottom > ${e}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateY(-100%) translateX(-50%)"},[`&-placement-bottomLeft > ${e}-arrow`]:{left:{_skip_check_:!0,value:s}},[`&-placement-bottomRight > ${e}-arrow`]:{right:{_skip_check_:!0,value:s}},[`&${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottomLeft,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottomLeft,
          &${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottom,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottom,
          &${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottomRight,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:nP},[`&${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-topLeft,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-topLeft,
          &${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-top,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-top,
          &${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-topRight,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-topRight`]:{animationName:rP},[`&${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottomLeft,
          &${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottom,
          &${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:iP},[`&${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-topLeft,
          &${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-top,
          &${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-topRight`]:{animationName:oP}})},{[`${e} ${i}`]:{position:"relative",margin:0},[`${i}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul,li":{listStyle:"none"},ul:{marginInline:"0.3em"}},[`${e}, ${e}-menu-submenu`]:{[i]:O(O({padding:h,listStyleType:"none",backgroundColor:y,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary},Nf(n)),{[`${i}-item-group-title`]:{padding:`${d}px ${b}px`,color:n.colorTextDescription,transition:`all ${c}`},[`${i}-item`]:{position:"relative",display:"flex",alignItems:"center",borderRadius:n.borderRadiusSM},[`${i}-item-icon`]:{minWidth:f,marginInlineEnd:n.marginXS,fontSize:n.fontSizeSM},[`${i}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${c}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${i}-item, ${i}-submenu-title`]:O(O({clear:"both",margin:0,padding:`${d}px ${b}px`,color:n.colorText,fontWeight:"normal",fontSize:f,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${c}`,"&:hover, &-active":{backgroundColor:n.controlItemBgHover}},Nf(n)),{"&-selected":{color:n.colorPrimary,backgroundColor:n.controlItemBgActive,"&:hover, &-active":{backgroundColor:n.controlItemBgActiveHover}},"&-disabled":{color:p,cursor:"not-allowed","&:hover":{color:p,backgroundColor:y,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${n.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:n.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:n.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:n.colorTextDescription,fontSize:v,fontStyle:"normal"}}}),[`${i}-item-group-list`]:{margin:`0 ${n.marginXS}px`,padding:0,listStyle:"none"},[`${i}-submenu-title`]:{paddingInlineEnd:b+n.fontSizeSM},[`${i}-submenu-vertical`]:{position:"relative"},[`${i}-submenu${i}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:p,backgroundColor:y,cursor:"not-allowed"}},[`${i}-submenu-selected ${e}-menu-submenu-title`]:{color:n.colorPrimary}})}},[td(n,"slide-up"),td(n,"slide-down"),D_(n,"move-up"),D_(n,"move-down"),sP(n,"zoom-big")]]},jH=Di("Dropdown",(n,e)=>{let{rootPrefixCls:i}=e;const{marginXXS:r,sizePopupArrow:o,controlHeight:s,fontSize:a,lineHeight:l,paddingXXS:u,componentCls:c,borderRadiusOuter:d,borderRadiusLG:f}=n,h=(s-a*l)/2,{dropdownArrowOffset:p}=UH({sizePopupArrow:o,contentRadius:f,borderRadiusOuter:d}),v=Nn(n,{menuCls:`${c}-menu`,rootPrefixCls:i,dropdownArrowDistance:o/2+r,dropdownArrowOffset:p,dropdownPaddingVertical:h,dropdownEdgeChildPadding:u});return[lge(v),sge(v),age(v)]},n=>({zIndexPopup:n.zIndexPopupBase+50}));var uge=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const cge=Es.Group,F_=We({compatConfig:{MODE:3},name:"ADropdownButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:ui(ige(),{trigger:"hover",placement:"bottomRight",type:"default"}),slots:Object,setup(n,e){let{slots:i,attrs:r,emit:o}=e;const s=h=>{o("update:visible",h),o("visibleChange",h),o("update:open",h),o("openChange",h)},{prefixCls:a,direction:l,getPopupContainer:u}=en("dropdown",n),c=K(()=>`${a.value}-button`),[d,f]=jH(a);return()=>{var h,p;const v=O(O({},n),r),{type:b="default",disabled:y,danger:m,loading:_,htmlType:S,class:w="",overlay:T=(h=i.overlay)===null||h===void 0?void 0:h.call(i),trigger:A,align:C,open:R,visible:E,onVisibleChange:P,placement:N=l.value==="rtl"?"bottomLeft":"bottomRight",href:D,title:$,icon:L=((p=i.icon)===null||p===void 0?void 0:p.call(i))||I(Fy,null,null),mouseEnterDelay:F,mouseLeaveDelay:U,overlayClassName:k,overlayStyle:H,destroyPopupOnHide:z,onClick:Q,"onUpdate:open":Z}=v,ie=uge(v,["type","disabled","danger","loading","htmlType","class","overlay","trigger","align","open","visible","onVisibleChange","placement","href","title","icon","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","onClick","onUpdate:open"]),we={align:C,disabled:y,trigger:y?[]:A,placement:N,getPopupContainer:u==null?void 0:u.value,onOpenChange:s,mouseEnterDelay:F,mouseLeaveDelay:U,open:R??E,overlayClassName:k,overlayStyle:H,destroyPopupOnHide:z},J=I(Es,{danger:m,type:b,disabled:y,loading:_,onClick:Q,htmlType:S,href:D,title:$},{default:i.default}),se=I(Es,{danger:m,type:b,icon:L},null);return d(I(cge,be(be({},ie),{},{class:Ye(c.value,w,f.value)}),{default:()=>[i.leftButton?i.leftButton({button:J}):J,I(Xc,we,{default:()=>[i.rightButton?i.rightButton({button:se}):se],overlay:()=>T})]}))}}});var dge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};function tF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){fge(n,o,i[o])})}return n}function fge(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var qp=function(e,i){var r=tF({},e,i.attrs);return I(xn,tF({},r,{icon:dge}),null)};qp.displayName="RightOutlined";qp.inheritAttrs=!1;const KH=Symbol("OverrideContextKey"),XH=()=>Xt(KH,void 0),qH=n=>{var e,i,r;const{prefixCls:o,mode:s,selectable:a,validator:l,onClick:u,expandIcon:c}=XH()||{};Wn(KH,{prefixCls:K(()=>{var d,f;return(f=(d=n.prefixCls)===null||d===void 0?void 0:d.value)!==null&&f!==void 0?f:o==null?void 0:o.value}),mode:K(()=>{var d,f;return(f=(d=n.mode)===null||d===void 0?void 0:d.value)!==null&&f!==void 0?f:s==null?void 0:s.value}),selectable:K(()=>{var d,f;return(f=(d=n.selectable)===null||d===void 0?void 0:d.value)!==null&&f!==void 0?f:a==null?void 0:a.value}),validator:(e=n.validator)!==null&&e!==void 0?e:l,onClick:(i=n.onClick)!==null&&i!==void 0?i:u,expandIcon:(r=n.expandIcon)!==null&&r!==void 0?r:c==null?void 0:c.value})},Xc=We({compatConfig:{MODE:3},name:"ADropdown",inheritAttrs:!1,props:ui(WH(),{mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft",trigger:"hover"}),slots:Object,setup(n,e){let{slots:i,attrs:r,emit:o}=e;const{prefixCls:s,rootPrefixCls:a,direction:l,getPopupContainer:u}=en("dropdown",n),[c,d]=jH(s),f=K(()=>{const{placement:y="",transitionName:m}=n;return m!==void 0?m:y.includes("top")?`${a.value}-slide-down`:`${a.value}-slide-up`});qH({prefixCls:K(()=>`${s.value}-menu`),expandIcon:K(()=>I("span",{class:`${s.value}-menu-submenu-arrow`},[I(qp,{class:`${s.value}-menu-submenu-arrow-icon`},null)])),mode:K(()=>"vertical"),selectable:K(()=>!1),onClick:()=>{},validator:y=>{}});const h=()=>{var y,m,_;const S=n.overlay||((y=i.overlay)===null||y===void 0?void 0:y.call(i)),w=Array.isArray(S)?S[0]:S;if(!w)return null;const T=w.props||{};fi(!T.mode||T.mode==="vertical","Dropdown",`mode="${T.mode}" is not supported for Dropdown's Menu.`);const{selectable:A=!1,expandIcon:C=(_=(m=w.children)===null||m===void 0?void 0:m.expandIcon)===null||_===void 0?void 0:_.call(m)}=T,R=typeof C<"u"&&lo(C)?C:I("span",{class:`${s.value}-menu-submenu-arrow`},[I(qp,{class:`${s.value}-menu-submenu-arrow-icon`},null)]);return lo(w)?Ii(w,{mode:"vertical",selectable:A,expandIcon:()=>R}):w},p=K(()=>{const y=n.placement;if(!y)return l.value==="rtl"?"bottomRight":"bottomLeft";if(y.includes("Center")){const m=y.slice(0,y.indexOf("Center"));return fi(!y.includes("Center"),"Dropdown",`You are using '${y}' placement in Dropdown, which is deprecated. Try to use '${m}' instead.`),m}return y}),v=K(()=>typeof n.visible=="boolean"?n.visible:n.open),b=y=>{o("update:visible",y),o("visibleChange",y),o("update:open",y),o("openChange",y)};return()=>{var y,m;const{arrow:_,trigger:S,disabled:w,overlayClassName:T}=n,A=(y=i.default)===null||y===void 0?void 0:y.call(i)[0],C=Ii(A,O({class:Ye((m=A==null?void 0:A.props)===null||m===void 0?void 0:m.class,{[`${s.value}-rtl`]:l.value==="rtl"},`${s.value}-trigger`)},w?{disabled:w}:{})),R=Ye(T,d.value,{[`${s.value}-rtl`]:l.value==="rtl"}),E=w?[]:S;let P;E&&E.includes("contextmenu")&&(P=!0);const N=BH({arrowPointAtCenter:typeof _=="object"&&_.pointAtCenter,autoAdjustOverflow:!0}),D=wi(O(O(O({},n),r),{visible:v.value,builtinPlacements:N,overlayClassName:R,arrow:!!_,alignPoint:P,prefixCls:s.value,getPopupContainer:u==null?void 0:u.value,transitionName:f.value,trigger:E,onVisibleChange:b,placement:p.value}),["overlay","onUpdate:visible"]);return c(I(kH,D,{default:()=>[C],overlay:h}))}}});Xc.Button=F_;function hge(n,e,i,r){let o;if(o!==void 0)return!!o;if(n===e)return!0;if(typeof n!="object"||!n||typeof e!="object"||!e)return!1;const s=Object.keys(n),a=Object.keys(e);if(s.length!==a.length)return!1;const l=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<s.length;u++){const c=s[u];if(!l(c))return!1;const d=n[c],f=e[c];if(o=void 0,o===!1||o===void 0&&d!==f)return!1}return!0}function dm(n,e){return hge(hn(n),hn(e))}const YH=Symbol("menuContextKey"),QH=n=>{Wn(YH,n)},Zu=()=>Xt(YH),ZH=Symbol("ForceRenderKey"),pge=n=>{Wn(ZH,n)},JH=()=>Xt(ZH,!1),eG=Symbol("menuFirstLevelContextKey"),tG=n=>{Wn(eG,n)},gge=()=>Xt(eG,!0),$_=We({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0}},setup(n,e){let{slots:i}=e;const r=Zu(),o=O({},r);return n.mode!==void 0&&(o.mode=Zn(n,"mode")),n.overflowDisabled!==void 0&&(o.overflowDisabled=Zn(n,"overflowDisabled")),QH(o),()=>{var s;return(s=i.default)===null||s===void 0?void 0:s.call(i)}}}),mge=Symbol("siderCollapsed"),cb="$$__vc-menu-more__key",nG=Symbol("KeyPathContext"),bP=()=>Xt(nG,{parentEventKeys:K(()=>[]),parentKeys:K(()=>[]),parentInfo:{}}),vge=(n,e,i)=>{const{parentEventKeys:r,parentKeys:o}=bP(),s=K(()=>[...r.value,n]),a=K(()=>[...o.value,e]);return Wn(nG,{parentEventKeys:s,parentKeys:a,parentInfo:i}),a},iG=Symbol("measure"),nF=We({compatConfig:{MODE:3},setup(n,e){let{slots:i}=e;return Wn(iG,!0),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}}),xP=()=>Xt(iG,!1);function rG(n){const{mode:e,rtl:i,inlineIndent:r}=Zu();return K(()=>e.value!=="inline"?null:i.value?{paddingRight:`${n.value*r.value}px`}:{paddingLeft:`${n.value*r.value}px`})}let yge=0;const bge=()=>({id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:_e.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,originItemValue:vn()}),Yp=We({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:bge(),slots:Object,setup(n,e){let{slots:i,emit:r,attrs:o}=e;const s=is(),a=xP(),l=typeof s.vnode.key=="symbol"?String(s.vnode.key):s.vnode.key;fi(typeof s.vnode.key!="symbol","MenuItem",`MenuItem \`:key="${String(l)}"\` not support Symbol type`);const u=`menu_item_${++yge}_$$_${l}`,{parentEventKeys:c,parentKeys:d}=bP(),{prefixCls:f,activeKeys:h,disabled:p,changeActiveKeys:v,rtl:b,inlineCollapsed:y,siderCollapsed:m,onItemClick:_,selectedKeys:S,registerMenuInfo:w,unRegisterMenuInfo:T}=Zu(),A=gge(),C=Ne(!1),R=K(()=>[...d.value,l]);w(u,{eventKey:u,key:l,parentEventKeys:c,parentKeys:d,isLeaf:!0}),Rn(()=>{T(u)}),ut(h,()=>{C.value=!!h.value.find(Z=>Z===l)},{immediate:!0});const P=K(()=>p.value||n.disabled),N=K(()=>S.value.includes(l)),D=K(()=>{const Z=`${f.value}-item`;return{[`${Z}`]:!0,[`${Z}-danger`]:n.danger,[`${Z}-active`]:C.value,[`${Z}-selected`]:N.value,[`${Z}-disabled`]:P.value}}),$=Z=>({key:l,eventKey:u,keyPath:R.value,eventKeyPath:[...c.value,u],domEvent:Z,item:O(O({},n),o)}),L=Z=>{if(P.value)return;const ie=$(Z);r("click",Z),_(ie)},F=Z=>{P.value||(v(R.value),r("mouseenter",Z))},U=Z=>{P.value||(v([]),r("mouseleave",Z))},k=Z=>{if(r("keydown",Z),Z.which===st.ENTER){const ie=$(Z);r("click",Z),_(ie)}},H=Z=>{v(R.value),r("focus",Z)},z=(Z,ie)=>{const we=I("span",{class:`${f.value}-title-content`},[ie]);return(!Z||lo(ie)&&ie.type==="span")&&y.value&&A&&typeof ie=="string"?I("div",{class:`${f.value}-inline-collapsed-noicon`},[ie.charAt(0)]):we},Q=rG(K(()=>R.value.length));return()=>{var Z,ie,we,J,se;if(a)return null;const ee=(Z=n.title)!==null&&Z!==void 0?Z:(ie=i.title)===null||ie===void 0?void 0:ie.call(i),ne=tr((we=i.default)===null||we===void 0?void 0:we.call(i)),ue=ne.length;let Y=ee;typeof ee>"u"?Y=A&&ue?ne:"":ee===!1&&(Y="");const le={title:Y};!m.value&&!y.value&&(le.title=null,le.open=!1);const he={};n.role==="option"&&(he["aria-selected"]=N.value);const W=(J=n.icon)!==null&&J!==void 0?J:(se=i.icon)===null||se===void 0?void 0:se.call(i,n);return I(aw,be(be({},le),{},{placement:b.value?"left":"right",overlayClassName:`${f.value}-inline-collapsed-tooltip`}),{default:()=>[I(Iu.Item,be(be(be({component:"li"},o),{},{id:n.id,style:O(O({},o.style||{}),Q.value),class:[D.value,{[`${o.class}`]:!!o.class,[`${f.value}-item-only-child`]:(W?ue+1:ue)===1}],role:n.role||"menuitem",tabindex:n.disabled?null:-1,"data-menu-id":l,"aria-disabled":n.disabled},he),{},{onMouseenter:F,onMouseleave:U,onClick:L,onKeydown:k,onFocus:H,title:typeof ee=="string"?ee:void 0}),{default:()=>[Ii(typeof W=="function"?W(n.originItemValue):W,{class:`${f.value}-item-icon`},!1),z(W,ne)]})]})}}}),Wc={adjustX:1,adjustY:1},xge={topLeft:{points:["bl","tl"],overflow:Wc,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Wc,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Wc,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Wc,offset:[4,0]}},_ge={topLeft:{points:["bl","tl"],overflow:Wc,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Wc,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Wc,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Wc,offset:[4,0]}},Sge={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},iF=We({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:Object,emits:["visibleChange"],setup(n,e){let{slots:i,emit:r}=e;const o=Ne(!1),{getPopupContainer:s,rtl:a,subMenuOpenDelay:l,subMenuCloseDelay:u,builtinPlacements:c,triggerSubMenuAction:d,forceSubMenuRender:f,motion:h,defaultMotions:p,rootClassName:v}=Zu(),b=JH(),y=K(()=>a.value?O(O({},_ge),c.value):O(O({},xge),c.value)),m=K(()=>Sge[n.mode]),_=Ne();ut(()=>n.visible,T=>{bn.cancel(_.value),_.value=bn(()=>{o.value=T})},{immediate:!0}),Rn(()=>{bn.cancel(_.value)});const S=T=>{r("visibleChange",T)},w=K(()=>{var T,A;const C=h.value||((T=p.value)===null||T===void 0?void 0:T[n.mode])||((A=p.value)===null||A===void 0?void 0:A.other),R=typeof C=="function"?C():C;return R?Kp(R.name,{css:!0}):void 0});return()=>{const{prefixCls:T,popupClassName:A,mode:C,popupOffset:R,disabled:E}=n;return I(ZS,{prefixCls:T,popupClassName:Ye(`${T}-popup`,{[`${T}-rtl`]:a.value},A,v.value),stretch:C==="horizontal"?"minWidth":null,getPopupContainer:s.value,builtinPlacements:y.value,popupPlacement:m.value,popupVisible:o.value,popupAlign:R&&{offset:R},action:E?[]:[d.value],mouseEnterDelay:l.value,mouseLeaveDelay:u.value,onPopupVisibleChange:S,forceRender:b||f.value,popupAnimation:w.value},{popup:i.popup,default:i.default})}}}),_P=(n,e)=>{let{slots:i,attrs:r}=e;var o;const{prefixCls:s,mode:a}=Zu();return I("ul",be(be({},r),{},{class:Ye(s.value,`${s.value}-sub`,`${s.value}-${a.value==="inline"?"inline":"vertical"}`),"data-menu-list":!0}),[(o=i.default)===null||o===void 0?void 0:o.call(i)])};_P.displayName="SubMenuList";const wge=We({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup(n,e){let{slots:i}=e;const r=K(()=>"inline"),{motion:o,mode:s,defaultMotions:a}=Zu(),l=K(()=>s.value===r.value),u=He(!l.value),c=K(()=>l.value?n.open:!1);ut(s,()=>{l.value&&(u.value=!1)},{flush:"post"});const d=K(()=>{var f,h;const p=o.value||((f=a.value)===null||f===void 0?void 0:f[r.value])||((h=a.value)===null||h===void 0?void 0:h.other),v=typeof p=="function"?p():p;return O(O({},v),{appear:n.keyPath.length<=1})});return()=>{var f;return u.value?null:I($_,{mode:r.value},{default:()=>[I($a,d.value,{default:()=>[So(I(_P,{id:n.id},{default:()=>[(f=i.default)===null||f===void 0?void 0:f.call(i)]}),[[Vo,c.value]])]})]})}}});let rF=0;const Cge=()=>({icon:_e.any,title:_e.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,theme:String,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function,originItemValue:vn()}),Qp=We({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:Cge(),slots:Object,setup(n,e){let{slots:i,attrs:r,emit:o}=e;var s,a;tG(!1);const l=xP(),u=is(),c=typeof u.vnode.key=="symbol"?String(u.vnode.key):u.vnode.key;fi(typeof u.vnode.key!="symbol","SubMenu",`SubMenu \`:key="${String(c)}"\` not support Symbol type`);const d=NE(c)?c:`sub_menu_${++rF}_$$_not_set_key`,f=(s=n.eventKey)!==null&&s!==void 0?s:NE(c)?`sub_menu_${++rF}_$$_${c}`:d,{parentEventKeys:h,parentInfo:p,parentKeys:v}=bP(),b=K(()=>[...v.value,d]),y=Ne([]),m={eventKey:f,key:d,parentEventKeys:h,childrenEventKeys:y,parentKeys:v};(a=p.childrenEventKeys)===null||a===void 0||a.value.push(f),Rn(()=>{var ge;p.childrenEventKeys&&(p.childrenEventKeys.value=(ge=p.childrenEventKeys)===null||ge===void 0?void 0:ge.value.filter(ve=>ve!=f))}),vge(f,d,m);const{prefixCls:_,activeKeys:S,disabled:w,changeActiveKeys:T,mode:A,inlineCollapsed:C,openKeys:R,overflowDisabled:E,onOpenChange:P,registerMenuInfo:N,unRegisterMenuInfo:D,selectedSubMenuKeys:$,expandIcon:L,theme:F}=Zu(),U=c!=null,k=!l&&(JH()||!U);pge(k),(l&&U||!l&&!U||k)&&(N(f,m),Rn(()=>{D(f)}));const H=K(()=>`${_.value}-submenu`),z=K(()=>w.value||n.disabled),Q=Ne(),Z=Ne(),ie=K(()=>R.value.includes(d)),we=K(()=>!E.value&&ie.value),J=K(()=>$.value.includes(d)),se=Ne(!1);ut(S,()=>{se.value=!!S.value.find(ge=>ge===d)},{immediate:!0});const ee=ge=>{z.value||(o("titleClick",ge,d),A.value==="inline"&&P(d,!ie.value))},ne=ge=>{z.value||(T(b.value),o("mouseenter",ge))},ue=ge=>{z.value||(T([]),o("mouseleave",ge))},Y=rG(K(()=>b.value.length)),le=ge=>{A.value!=="inline"&&P(d,ge)},he=()=>{T(b.value)},W=f&&`${f}-popup`,X=K(()=>Ye(_.value,`${_.value}-${n.theme||F.value}`,n.popupClassName)),V=(ge,ve)=>{if(!ve)return C.value&&!v.value.length&&ge&&typeof ge=="string"?I("div",{class:`${_.value}-inline-collapsed-noicon`},[ge.charAt(0)]):I("span",{class:`${_.value}-title-content`},[ge]);const j=lo(ge)&&ge.type==="span";return I(mn,null,[Ii(typeof ve=="function"?ve(n.originItemValue):ve,{class:`${_.value}-item-icon`},!1),j?ge:I("span",{class:`${_.value}-title-content`},[ge])])},Ce=K(()=>A.value!=="inline"&&b.value.length>1?"vertical":A.value),pe=K(()=>A.value==="horizontal"?"vertical":A.value),Se=K(()=>Ce.value==="horizontal"?"vertical":Ce.value),fe=()=>{var ge,ve;const j=H.value,G=(ge=n.icon)!==null&&ge!==void 0?ge:(ve=i.icon)===null||ve===void 0?void 0:ve.call(i,n),ce=n.expandIcon||i.expandIcon||L.value,Ee=V(na(i,n,"title"),G);return I("div",{style:Y.value,class:`${j}-title`,tabindex:z.value?null:-1,ref:Q,title:typeof Ee=="string"?Ee:null,"data-menu-id":d,"aria-expanded":we.value,"aria-haspopup":!0,"aria-controls":W,"aria-disabled":z.value,onClick:ee,onFocus:he},[Ee,A.value!=="horizontal"&&ce?ce(O(O({},n),{isOpen:we.value})):I("i",{class:`${j}-arrow`},null)])};return()=>{var ge;if(l)return U?(ge=i.default)===null||ge===void 0?void 0:ge.call(i):null;const ve=H.value;let j=()=>null;if(!E.value&&A.value!=="inline"){const G=A.value==="horizontal"?[0,8]:[10,0];j=()=>I(iF,{mode:Ce.value,prefixCls:ve,visible:!n.internalPopupClose&&we.value,popupClassName:X.value,popupOffset:n.popupOffset||G,disabled:z.value,onVisibleChange:le},{default:()=>[fe()],popup:()=>I($_,{mode:Se.value},{default:()=>[I(_P,{id:W,ref:Z},{default:i.default})]})})}else j=()=>I(iF,null,{default:fe});return I($_,{mode:pe.value},{default:()=>[I(Iu.Item,be(be({component:"li"},r),{},{role:"none",class:Ye(ve,`${ve}-${A.value}`,r.class,{[`${ve}-open`]:we.value,[`${ve}-active`]:se.value,[`${ve}-selected`]:J.value,[`${ve}-disabled`]:z.value}),onMouseenter:ne,onMouseleave:ue,"data-submenu-id":d}),{default:()=>I(mn,null,[j(),!E.value&&I(wge,{id:W,open:we.value,keyPath:b.value},{default:i.default})])})]})}}});function oG(n,e){return n.classList?n.classList.contains(e):` ${n.className} `.indexOf(` ${e} `)>-1}function iM(n,e){n.classList?n.classList.add(e):oG(n,e)||(n.className=`${n.className} ${e}`)}function rM(n,e){if(n.classList)n.classList.remove(e);else if(oG(n,e)){const i=n.className;n.className=` ${i} `.replace(` ${e} `," ")}}const SP=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{name:n,appear:e,css:!0,onBeforeEnter:i=>{i.style.height="0px",i.style.opacity="0",iM(i,n)},onEnter:i=>{Un(()=>{i.style.height=`${i.scrollHeight}px`,i.style.opacity="1"})},onAfterEnter:i=>{i&&(rM(i,n),i.style.height=null,i.style.opacity=null)},onBeforeLeave:i=>{iM(i,n),i.style.height=`${i.offsetHeight}px`,i.style.opacity=null},onLeave:i=>{setTimeout(()=>{i.style.height="0px",i.style.opacity="0"})},onAfterLeave:i=>{i&&(rM(i,n),i.style&&(i.style.height=null,i.style.opacity=null))}}},Tge=()=>({title:_e.any,originItemValue:vn()}),U_=We({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:Tge(),slots:Object,setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o}=Zu(),s=K(()=>`${o.value}-item-group`),a=xP();return()=>{var l,u;return a?(l=i.default)===null||l===void 0?void 0:l.call(i):I("li",be(be({},r),{},{onClick:c=>c.stopPropagation(),class:s.value}),[I("div",{title:typeof n.title=="string"?n.title:void 0,class:`${s.value}-title`},[na(i,n,"title")]),I("ul",{class:`${s.value}-list`},[(u=i.default)===null||u===void 0?void 0:u.call(i)])])}}}),Age=()=>({prefixCls:String,dashed:Boolean}),k_=We({compatConfig:{MODE:3},name:"AMenuDivider",props:Age(),setup(n){const{prefixCls:e}=Zu(),i=K(()=>({[`${e.value}-item-divider`]:!0,[`${e.value}-item-divider-dashed`]:!!n.dashed}));return()=>I("li",{class:i.value},null)}});var Ege=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function oM(n,e,i){return(n||[]).map((r,o)=>{if(r&&typeof r=="object"){const s=r,{label:a,children:l,key:u,type:c}=s,d=Ege(s,["label","children","key","type"]),f=u??`tmp-${o}`,h=i?i.parentKeys.slice():[],p=[],v={eventKey:f,key:f,parentEventKeys:He(h),parentKeys:He(h),childrenEventKeys:He(p),isLeaf:!1};if(l||c==="group"){if(c==="group"){const y=oM(l,e,i);return I(U_,be(be({key:f},d),{},{title:a,originItemValue:r}),{default:()=>[y]})}e.set(f,v),i&&i.childrenEventKeys.push(f);const b=oM(l,e,{childrenEventKeys:p,parentKeys:[].concat(h,f)});return I(Qp,be(be({key:f},d),{},{title:a,originItemValue:r}),{default:()=>[b]})}return c==="divider"?I(k_,be({key:f},d),null):(v.isLeaf=!0,e.set(f,v),I(Yp,be(be({key:f},d),{},{originItemValue:r}),{default:()=>[a]}))}return null}).filter(r=>r)}function Mge(n){const e=Ne([]),i=Ne(!1),r=Ne(new Map);return ut(()=>n.items,()=>{const o=new Map;i.value=!1,n.items?(i.value=!0,e.value=oM(n.items,o)):e.value=void 0,r.value=o},{immediate:!0,deep:!0}),{itemsNodes:e,store:r,hasItmes:i}}const Rge=n=>{const{componentCls:e,motionDurationSlow:i,menuHorizontalHeight:r,colorSplit:o,lineWidth:s,lineType:a,menuItemPaddingInline:l}=n;return{[`${e}-horizontal`]:{lineHeight:`${r}px`,border:0,borderBottom:`${s}px ${a} ${o}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:l},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${i}`,`background ${i}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},Pge=n=>{let{componentCls:e,menuArrowOffset:i}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${i})`},"&::after":{transform:`rotate(45deg) translateY(${i})`}}}}},oF=n=>O({},$u(n)),sF=(n,e)=>{const{componentCls:i,colorItemText:r,colorItemTextSelected:o,colorGroupTitle:s,colorItemBg:a,colorSubItemBg:l,colorItemBgSelected:u,colorActiveBarHeight:c,colorActiveBarWidth:d,colorActiveBarBorderSize:f,motionDurationSlow:h,motionEaseInOut:p,motionEaseOut:v,menuItemPaddingInline:b,motionDurationMid:y,colorItemTextHover:m,lineType:_,colorSplit:S,colorItemTextDisabled:w,colorDangerItemText:T,colorDangerItemTextHover:A,colorDangerItemTextSelected:C,colorDangerItemBgActive:R,colorDangerItemBgSelected:E,colorItemBgHover:P,menuSubMenuBg:N,colorItemTextSelectedHorizontal:D,colorItemBgSelectedHorizontal:$}=n;return{[`${i}-${e}`]:{color:r,background:a,[`&${i}-root:focus-visible`]:O({},oF(n)),[`${i}-item-group-title`]:{color:s},[`${i}-submenu-selected`]:{[`> ${i}-submenu-title`]:{color:o}},[`${i}-item-disabled, ${i}-submenu-disabled`]:{color:`${w} !important`},[`${i}-item:hover, ${i}-submenu-title:hover`]:{[`&:not(${i}-item-selected):not(${i}-submenu-selected)`]:{color:m}},[`&:not(${i}-horizontal)`]:{[`${i}-item:not(${i}-item-selected)`]:{"&:hover":{backgroundColor:P},"&:active":{backgroundColor:u}},[`${i}-submenu-title`]:{"&:hover":{backgroundColor:P},"&:active":{backgroundColor:u}}},[`${i}-item-danger`]:{color:T,[`&${i}-item:hover`]:{[`&:not(${i}-item-selected):not(${i}-submenu-selected)`]:{color:A}},[`&${i}-item:active`]:{background:R}},[`${i}-item a`]:{"&, &:hover":{color:"inherit"}},[`${i}-item-selected`]:{color:o,[`&${i}-item-danger`]:{color:C},"a, a:hover":{color:"inherit"}},[`& ${i}-item-selected`]:{backgroundColor:u,[`&${i}-item-danger`]:{backgroundColor:E}},[`${i}-item, ${i}-submenu-title`]:{[`&:not(${i}-item-disabled):focus-visible`]:O({},oF(n))},[`&${i}-submenu > ${i}`]:{backgroundColor:N},[`&${i}-popup > ${i}`]:{backgroundColor:a},[`&${i}-horizontal`]:O(O({},e==="dark"?{borderBottom:0}:{}),{[`> ${i}-item, > ${i}-submenu`]:{top:f,marginTop:-f,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:b,bottom:0,borderBottom:`${c}px solid transparent`,transition:`border-color ${h} ${p}`,content:'""'},"&:hover, &-active, &-open":{"&::after":{borderBottomWidth:c,borderBottomColor:D}},"&-selected":{color:D,backgroundColor:$,"&::after":{borderBottomWidth:c,borderBottomColor:D}}}}),[`&${i}-root`]:{[`&${i}-inline, &${i}-vertical`]:{borderInlineEnd:`${f}px ${_} ${S}`}},[`&${i}-inline`]:{[`${i}-sub${i}-inline`]:{background:l},[`${i}-item, ${i}-submenu-title`]:f&&d?{width:`calc(100% + ${f}px)`}:{},[`${i}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${d}px solid ${o}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${y} ${v}`,`opacity ${y} ${v}`].join(","),content:'""'},[`&${i}-item-danger`]:{"&::after":{borderInlineEndColor:C}}},[`${i}-selected, ${i}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${y} ${p}`,`opacity ${y} ${p}`].join(",")}}}}}},aF=n=>{const{componentCls:e,menuItemHeight:i,itemMarginInline:r,padding:o,menuArrowSize:s,marginXS:a,marginXXS:l}=n,u=o+s+a;return{[`${e}-item`]:{position:"relative"},[`${e}-item, ${e}-submenu-title`]:{height:i,lineHeight:`${i}px`,paddingInline:o,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:l,width:`calc(100% - ${r*2}px)`},[`${e}-submenu`]:{paddingBottom:.02},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:i,lineHeight:`${i}px`},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:u}}},Ige=n=>{const{componentCls:e,iconCls:i,menuItemHeight:r,colorTextLightSolid:o,dropdownWidth:s,controlHeightLG:a,motionDurationMid:l,motionEaseOut:u,paddingXL:c,fontSizeSM:d,fontSizeLG:f,motionDurationSlow:h,paddingXS:p,boxShadowSecondary:v}=n,b={height:r,lineHeight:`${r}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":O({[`&${e}-root`]:{boxShadow:"none"}},aF(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:O(O({},aF(n)),{boxShadow:v})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:s,maxHeight:`calc(100vh - ${a*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${h}`,`background ${h}`,`padding ${l} ${u}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:b,[`& ${e}-item-group-title`]:{paddingInlineStart:c}},[`${e}-item`]:b}},{[`${e}-inline-collapsed`]:{width:r*2,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:f,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${d}px)`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${i}`]:{margin:0,fontSize:f,lineHeight:`${r}px`,"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${i}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${i}`]:{display:"none"},"a, a:hover":{color:o}},[`${e}-item-group-title`]:O(O({},yl),{paddingInline:p})}}]},lF=n=>{const{componentCls:e,fontSize:i,motionDurationSlow:r,motionDurationMid:o,motionEaseInOut:s,motionEaseOut:a,iconCls:l,controlHeightSM:u}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${r}`,`background ${r}`,`padding ${r} ${s}`].join(","),[`${e}-item-icon, ${l}`]:{minWidth:i,fontSize:i,transition:[`font-size ${o} ${a}`,`margin ${r} ${s}`,`color ${r}`].join(","),"+ span":{marginInlineStart:u-i,opacity:1,transition:[`opacity ${r} ${s}`,`margin ${r}`,`color ${r}`].join(",")}},[`${e}-item-icon`]:O({},TR()),[`&${e}-item-only-child`]:{[`> ${l}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},uF=n=>{const{componentCls:e,motionDurationSlow:i,motionEaseInOut:r,borderRadius:o,menuArrowSize:s,menuArrowOffset:a}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:s,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${i} ${r}, opacity ${i}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:s*.6,height:s*.15,backgroundColor:"currentcolor",borderRadius:o,transition:[`background ${i} ${r}`,`transform ${i} ${r}`,`top ${i} ${r}`,`color ${i} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${a})`},"&::after":{transform:`rotate(-45deg) translateY(${a})`}}}}},Nge=n=>{const{antCls:e,componentCls:i,fontSize:r,motionDurationSlow:o,motionDurationMid:s,motionEaseInOut:a,lineHeight:l,paddingXS:u,padding:c,colorSplit:d,lineWidth:f,zIndexPopup:h,borderRadiusLG:p,radiusSubMenuItem:v,menuArrowSize:b,menuArrowOffset:y,lineType:m,menuPanelMaskInset:_}=n;return[{"":{[`${i}`]:O(O({},bl()),{"&-hidden":{display:"none"}})},[`${i}-submenu-hidden`]:{display:"none"}},{[i]:O(O(O(O(O(O(O({},li(n)),bl()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${o} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${i}-item`]:{flex:"none"}},[`${i}-item, ${i}-submenu, ${i}-submenu-title`]:{borderRadius:n.radiusItem},[`${i}-item-group-title`]:{padding:`${u}px ${c}px`,fontSize:r,lineHeight:l,transition:`all ${o}`},[`&-horizontal ${i}-submenu`]:{transition:[`border-color ${o} ${a}`,`background ${o} ${a}`].join(",")},[`${i}-submenu, ${i}-submenu-inline`]:{transition:[`border-color ${o} ${a}`,`background ${o} ${a}`,`padding ${s} ${a}`].join(",")},[`${i}-submenu ${i}-sub`]:{cursor:"initial",transition:[`background ${o} ${a}`,`padding ${o} ${a}`].join(",")},[`${i}-title-content`]:{transition:`color ${o}`},[`${i}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${i}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:d,borderStyle:m,borderWidth:0,borderTopWidth:f,marginBlock:f,padding:0,"&-dashed":{borderStyle:"dashed"}}}),lF(n)),{[`${i}-item-group`]:{[`${i}-item-group-list`]:{margin:0,padding:0,[`${i}-item, ${i}-submenu-title`]:{paddingInline:`${r*2}px ${c}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:h,background:"transparent",borderRadius:p,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:`${_}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:_},[`> ${i}`]:O(O(O({borderRadius:p},lF(n)),uF(n)),{[`${i}-item, ${i}-submenu > ${i}-submenu-title`]:{borderRadius:v},[`${i}-submenu-title::after`]:{transition:`transform ${o} ${a}`}})}}),uF(n)),{[`&-inline-collapsed ${i}-submenu-arrow,
        &-inline ${i}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${y})`},"&::after":{transform:`rotate(45deg) translateX(-${y})`}},[`${i}-submenu-open${i}-submenu-inline > ${i}-submenu-title > ${i}-submenu-arrow`]:{transform:`translateY(-${b*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${y})`},"&::before":{transform:`rotate(45deg) translateX(${y})`}}})},{[`${e}-layout-header`]:{[i]:{lineHeight:"inherit"}}}]},Oge=(n,e)=>Di("Menu",(r,o)=>{let{overrideComponentToken:s}=o;if((e==null?void 0:e.value)===!1)return[];const{colorBgElevated:a,colorPrimary:l,colorError:u,colorErrorHover:c,colorTextLightSolid:d}=r,{controlHeightLG:f,fontSize:h}=r,p=h/7*5,v=Nn(r,{menuItemHeight:f,menuItemPaddingInline:r.margin,menuArrowSize:p,menuHorizontalHeight:f*1.15,menuArrowOffset:`${p*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:a}),b=new zi(d).setAlpha(.65).toRgbString(),y=Nn(v,{colorItemText:b,colorItemTextHover:d,colorGroupTitle:b,colorItemTextSelected:d,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:l,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new zi(d).setAlpha(.25).toRgbString(),colorDangerItemText:u,colorDangerItemTextHover:c,colorDangerItemTextSelected:d,colorDangerItemBgActive:u,colorDangerItemBgSelected:u,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:d,colorItemBgSelectedHorizontal:l},O({},s));return[Nge(v),Rge(v),Ige(v),sF(v,"light"),sF(y,"dark"),Pge(v),aP(v),td(v,"slide-up"),td(v,"slide-down"),sP(v,"zoom-big")]},r=>{const{colorPrimary:o,colorError:s,colorTextDisabled:a,colorErrorBg:l,colorText:u,colorTextDescription:c,colorBgContainer:d,colorFillAlter:f,colorFillContent:h,lineWidth:p,lineWidthBold:v,controlItemBgActive:b,colorBgTextHover:y}=r;return{dropdownWidth:160,zIndexPopup:r.zIndexPopupBase+50,radiusItem:r.borderRadiusLG,radiusSubMenuItem:r.borderRadiusSM,colorItemText:u,colorItemTextHover:u,colorItemTextHoverHorizontal:o,colorGroupTitle:c,colorItemTextSelected:o,colorItemTextSelectedHorizontal:o,colorItemBg:d,colorItemBgHover:y,colorItemBgActive:h,colorSubItemBg:f,colorItemBgSelected:b,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:v,colorActiveBarBorderSize:p,colorItemTextDisabled:a,colorDangerItemText:s,colorDangerItemTextHover:s,colorDangerItemTextSelected:s,colorDangerItemBgActive:l,colorDangerItemBgSelected:l,itemMarginInline:r.marginXXS}})(n),Dge=()=>({id:String,prefixCls:String,items:Array,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},tabindex:{type:[Number,String]},motion:Object,role:String,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:0},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}),cF=[],ia=We({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:Dge(),slots:Object,setup(n,e){let{slots:i,emit:r,attrs:o}=e;const{direction:s,getPrefixCls:a}=en("menu",n),l=XH(),u=K(()=>{var ne;return a("menu",n.prefixCls||((ne=l==null?void 0:l.prefixCls)===null||ne===void 0?void 0:ne.value))}),[c,d]=Oge(u,K(()=>!l)),f=Ne(new Map),h=Xt(mge,He(void 0)),p=K(()=>h.value!==void 0?h.value:n.inlineCollapsed),{itemsNodes:v}=Mge(n),b=Ne(!1);Jt(()=>{b.value=!0}),an(()=>{fi(!(n.inlineCollapsed===!0&&n.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),fi(!(h.value!==void 0&&n.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});const y=He([]),m=He([]),_=He({});ut(f,()=>{const ne={};for(const ue of f.value.values())ne[ue.key]=ue;_.value=ne},{flush:"post"}),an(()=>{if(n.activeKey!==void 0){let ne=[];const ue=n.activeKey?_.value[n.activeKey]:void 0;ue&&n.activeKey!==void 0?ne=VC([].concat(Hr(ue.parentKeys),n.activeKey)):ne=[],dm(y.value,ne)||(y.value=ne)}}),ut(()=>n.selectedKeys,ne=>{ne&&(m.value=ne.slice())},{immediate:!0,deep:!0});const S=He([]);ut([_,m],()=>{let ne=[];m.value.forEach(ue=>{const Y=_.value[ue];Y&&(ne=ne.concat(Hr(Y.parentKeys)))}),ne=VC(ne),dm(S.value,ne)||(S.value=ne)},{immediate:!0});const w=ne=>{if(n.selectable){const{key:ue}=ne,Y=m.value.includes(ue);let le;n.multiple?Y?le=m.value.filter(W=>W!==ue):le=[...m.value,ue]:le=[ue];const he=O(O({},ne),{selectedKeys:le});dm(le,m.value)||(n.selectedKeys===void 0&&(m.value=le),r("update:selectedKeys",le),Y&&n.multiple?r("deselect",he):r("select",he))}P.value!=="inline"&&!n.multiple&&T.value.length&&$(cF)},T=He([]);ut(()=>n.openKeys,function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.value;dm(T.value,ne)||(T.value=ne.slice())},{immediate:!0,deep:!0});let A;const C=ne=>{clearTimeout(A),A=setTimeout(()=>{n.activeKey===void 0&&(y.value=ne),r("update:activeKey",ne[ne.length-1])})},R=K(()=>!!n.disabled),E=K(()=>s.value==="rtl"),P=He("vertical"),N=Ne(!1);an(()=>{var ne;(n.mode==="inline"||n.mode==="vertical")&&p.value?(P.value="vertical",N.value=p.value):(P.value=n.mode,N.value=!1),!((ne=l==null?void 0:l.mode)===null||ne===void 0)&&ne.value&&(P.value=l.mode.value)});const D=K(()=>P.value==="inline"),$=ne=>{T.value=ne,r("update:openKeys",ne),r("openChange",ne)},L=He(T.value),F=Ne(!1);ut(T,()=>{D.value&&(L.value=T.value)},{immediate:!0}),ut(D,()=>{if(!F.value){F.value=!0;return}D.value?T.value=L.value:$(cF)},{immediate:!0});const U=K(()=>({[`${u.value}`]:!0,[`${u.value}-root`]:!0,[`${u.value}-${P.value}`]:!0,[`${u.value}-inline-collapsed`]:N.value,[`${u.value}-rtl`]:E.value,[`${u.value}-${n.theme}`]:!0})),k=K(()=>a()),H=K(()=>({horizontal:{name:`${k.value}-slide-up`},inline:SP(`${k.value}-motion-collapse`),other:{name:`${k.value}-zoom-big`}}));tG(!0);const z=function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const ue=[],Y=f.value;return ne.forEach(le=>{const{key:he,childrenEventKeys:W}=Y.get(le);ue.push(he,...z(Hr(W)))}),ue},Q=ne=>{var ue;r("click",ne),w(ne),(ue=l==null?void 0:l.onClick)===null||ue===void 0||ue.call(l)},Z=(ne,ue)=>{var Y;const le=((Y=_.value[ne])===null||Y===void 0?void 0:Y.childrenEventKeys)||[];let he=T.value.filter(W=>W!==ne);if(ue)he.push(ne);else if(P.value!=="inline"){const W=z(Hr(le));he=VC(he.filter(X=>!W.includes(X)))}dm(T,he)||$(he)},ie=(ne,ue)=>{f.value.set(ne,ue),f.value=new Map(f.value)},we=ne=>{f.value.delete(ne),f.value=new Map(f.value)},J=He(0),se=K(()=>{var ne;return n.expandIcon||i.expandIcon||!((ne=l==null?void 0:l.expandIcon)===null||ne===void 0)&&ne.value?ue=>{let Y=n.expandIcon||i.expandIcon;return Y=typeof Y=="function"?Y(ue):Y,Ii(Y,{class:`${u.value}-submenu-expand-icon`},!1)}:null});QH({prefixCls:u,activeKeys:y,openKeys:T,selectedKeys:m,changeActiveKeys:C,disabled:R,rtl:E,mode:P,inlineIndent:K(()=>n.inlineIndent),subMenuCloseDelay:K(()=>n.subMenuCloseDelay),subMenuOpenDelay:K(()=>n.subMenuOpenDelay),builtinPlacements:K(()=>n.builtinPlacements),triggerSubMenuAction:K(()=>n.triggerSubMenuAction),getPopupContainer:K(()=>n.getPopupContainer),inlineCollapsed:N,theme:K(()=>n.theme),siderCollapsed:h,defaultMotions:K(()=>b.value?H.value:null),motion:K(()=>b.value?n.motion:null),overflowDisabled:Ne(void 0),onOpenChange:Z,onItemClick:Q,registerMenuInfo:ie,unRegisterMenuInfo:we,selectedSubMenuKeys:S,expandIcon:se,forceSubMenuRender:K(()=>n.forceSubMenuRender),rootClassName:d});const ee=()=>{var ne;return v.value||tr((ne=i.default)===null||ne===void 0?void 0:ne.call(i))};return()=>{var ne;const ue=ee(),Y=J.value>=ue.length-1||P.value!=="horizontal"||n.disabledOverflow,le=W=>P.value!=="horizontal"||n.disabledOverflow?W:W.map((X,V)=>I($_,{key:X.key,overflowDisabled:V>J.value},{default:()=>X})),he=((ne=i.overflowedIndicator)===null||ne===void 0?void 0:ne.call(i))||I(Fy,null,null);return c(I(Iu,be(be({},o),{},{onMousedown:n.onMousedown,prefixCls:`${u.value}-overflow`,component:"ul",itemComponent:Yp,class:[U.value,o.class,d.value],role:"menu",id:n.id,data:le(ue),renderRawItem:W=>W,renderRawRest:W=>{const X=W.length,V=X?ue.slice(-X):null;return I(mn,null,[I(Qp,{eventKey:cb,key:cb,title:he,disabled:Y,internalPopupClose:X===0},{default:()=>V}),I(nF,null,{default:()=>[I(Qp,{eventKey:cb,key:cb,title:he,disabled:Y,internalPopupClose:X===0},{default:()=>V})]})])},maxCount:P.value!=="horizontal"||n.disabledOverflow?Iu.INVALIDATE:Iu.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:W=>{J.value=W}}),{default:()=>[I(z5,{to:"body"},{default:()=>[I("div",{style:{display:"none"},"aria-hidden":!0},[I(nF,null,{default:()=>[le(ee())]})])]})]}))}}});ia.install=function(n){return n.component(ia.name,ia),n.component(Yp.name,Yp),n.component(Qp.name,Qp),n.component(k_.name,k_),n.component(U_.name,U_),n};ia.Item=Yp;ia.Divider=k_;ia.SubMenu=Qp;ia.ItemGroup=U_;var db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lge=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Bge={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:_e.any,required:Boolean},sG=We({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:ui(Bge,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup(n,e){let{attrs:i,emit:r,expose:o}=e;const s=He(n.checked===void 0?n.defaultChecked:n.checked),a=He();ut(()=>n.checked,()=>{s.value=n.checked}),o({focus(){var d;(d=a.value)===null||d===void 0||d.focus()},blur(){var d;(d=a.value)===null||d===void 0||d.blur()}});const l=He(),u=d=>{if(n.disabled)return;n.checked===void 0&&(s.value=d.target.checked),d.shiftKey=l.value;const f={target:O(O({},n),{checked:d.target.checked}),stopPropagation(){d.stopPropagation()},preventDefault(){d.preventDefault()},nativeEvent:d};n.checked!==void 0&&(a.value.checked=!!n.checked),r("change",f),l.value=!1},c=d=>{r("click",d),l.value=d.shiftKey};return()=>{const{prefixCls:d,name:f,id:h,type:p,disabled:v,readonly:b,tabindex:y,autofocus:m,value:_,required:S}=n,w=Lge(n,["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"]),{class:T,onFocus:A,onBlur:C,onKeydown:R,onKeypress:E,onKeyup:P}=i,N=O(O({},w),i),D=Object.keys(N).reduce((F,U)=>((U.startsWith("data-")||U.startsWith("aria-")||U==="role")&&(F[U]=N[U]),F),{}),$=Ye(d,T,{[`${d}-checked`]:s.value,[`${d}-disabled`]:v}),L=O(O({name:f,id:h,type:p,readonly:b,disabled:v,tabindex:y,class:`${d}-input`,checked:!!s.value,autofocus:m,value:_},D),{onChange:u,onClick:c,onFocus:A,onBlur:C,onKeydown:R,onKeypress:E,onKeyup:P,required:S});return I("span",{class:$},[I("input",be({ref:a},L),null),I("span",{class:`${d}-inner`},null)])}}}),aG=Symbol("radioGroupContextKey"),Fge=n=>{Wn(aG,n)},$ge=()=>Xt(aG,void 0),lG=Symbol("radioOptionTypeContextKey"),Uge=n=>{Wn(lG,n)},kge=()=>Xt(lG,void 0),zge=new On("antRadioEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),Hge=n=>{const{componentCls:e,antCls:i}=n,r=`${e}-group`;return{[r]:O(O({},li(n)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`${i}-badge ${i}-badge-count`]:{zIndex:1},[`> ${i}-badge:not(:first-child) > ${i}-button-wrapper`]:{borderInlineStart:"none"}})}},Gge=n=>{const{componentCls:e,radioWrapperMarginRight:i,radioCheckedColor:r,radioSize:o,motionDurationSlow:s,motionDurationMid:a,motionEaseInOut:l,motionEaseInOutCirc:u,radioButtonBg:c,colorBorder:d,lineWidth:f,radioDotSize:h,colorBgContainerDisabled:p,colorTextDisabled:v,paddingXS:b,radioDotDisabledColor:y,lineType:m,radioDotDisabledSize:_,wireframe:S,colorWhite:w}=n,T=`${e}-inner`;return{[`${e}-wrapper`]:O(O({},li(n)),{position:"relative",display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:i,cursor:"pointer",[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:n.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${f}px ${m} ${r}`,borderRadius:"50%",visibility:"hidden",animationName:zge,animationDuration:s,animationTimingFunction:l,animationFillMode:"both",content:'""'},[e]:O(O({},li(n)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center"}),[`${e}-wrapper:hover &,
        &:hover ${T}`]:{borderColor:r},[`${e}-input:focus-visible + ${T}`]:O({},$u(n)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:o,height:o,marginBlockStart:o/-2,marginInlineStart:o/-2,backgroundColor:S?r:w,borderBlockStart:0,borderInlineStart:0,borderRadius:o,transform:"scale(0)",opacity:0,transition:`all ${s} ${u}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:o,height:o,backgroundColor:c,borderColor:d,borderStyle:"solid",borderWidth:f,borderRadius:"50%",transition:`all ${a}`},[`${e}-input`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,insetBlockEnd:0,insetInlineStart:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[T]:{borderColor:r,backgroundColor:S?c:r,"&::after":{transform:`scale(${h/o})`,opacity:1,transition:`all ${s} ${u}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[T]:{backgroundColor:p,borderColor:d,cursor:"not-allowed","&::after":{backgroundColor:y}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:v,cursor:"not-allowed"},[`&${e}-checked`]:{[T]:{"&::after":{transform:`scale(${_/o})`}}}},[`span${e} + *`]:{paddingInlineStart:b,paddingInlineEnd:b}})}},Vge=n=>{const{radioButtonColor:e,controlHeight:i,componentCls:r,lineWidth:o,lineType:s,colorBorder:a,motionDurationSlow:l,motionDurationMid:u,radioButtonPaddingHorizontal:c,fontSize:d,radioButtonBg:f,fontSizeLG:h,controlHeightLG:p,controlHeightSM:v,paddingXS:b,borderRadius:y,borderRadiusSM:m,borderRadiusLG:_,radioCheckedColor:S,radioButtonCheckedBg:w,radioButtonHoverColor:T,radioButtonActiveColor:A,radioSolidCheckedColor:C,colorTextDisabled:R,colorBgContainerDisabled:E,radioDisabledButtonCheckedColor:P,radioDisabledButtonCheckedBg:N}=n;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:i,margin:0,paddingInline:c,paddingBlock:0,color:e,fontSize:d,lineHeight:`${i-o*2}px`,background:f,border:`${o}px ${s} ${a}`,borderBlockStartWidth:o+.02,borderInlineStartWidth:0,borderInlineEndWidth:o,cursor:"pointer",transition:[`color ${u}`,`background ${u}`,`border-color ${u}`,`box-shadow ${u}`].join(","),a:{color:e},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:-o,insetInlineStart:-o,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:o,paddingInline:0,backgroundColor:a,transition:`background-color ${l}`,content:'""'}},"&:first-child":{borderInlineStart:`${o}px ${s} ${a}`,borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y},"&:first-child:last-child":{borderRadius:y},[`${r}-group-large &`]:{height:p,fontSize:h,lineHeight:`${p-o*2}px`,"&:first-child":{borderStartStartRadius:_,borderEndStartRadius:_},"&:last-child":{borderStartEndRadius:_,borderEndEndRadius:_}},[`${r}-group-small &`]:{height:v,paddingInline:b-o,paddingBlock:0,lineHeight:`${v-o*2}px`,"&:first-child":{borderStartStartRadius:m,borderEndStartRadius:m},"&:last-child":{borderStartEndRadius:m,borderEndEndRadius:m}},"&:hover":{position:"relative",color:S},"&:has(:focus-visible)":O({},$u(n)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:S,background:w,borderColor:S,"&::before":{backgroundColor:S},"&:first-child":{borderColor:S},"&:hover":{color:T,borderColor:T,"&::before":{backgroundColor:T}},"&:active":{color:A,borderColor:A,"&::before":{backgroundColor:A}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:C,background:S,borderColor:S,"&:hover":{color:C,background:T,borderColor:T},"&:active":{color:C,background:A,borderColor:A}},"&-disabled":{color:R,backgroundColor:E,borderColor:a,cursor:"not-allowed","&:first-child, &:hover":{color:R,backgroundColor:E,borderColor:a}},[`&-disabled${r}-button-wrapper-checked`]:{color:P,backgroundColor:N,borderColor:a,boxShadow:"none"}}}},uG=Di("Radio",n=>{const{padding:e,lineWidth:i,controlItemBgActiveDisabled:r,colorTextDisabled:o,colorBgContainer:s,fontSizeLG:a,controlOutline:l,colorPrimaryHover:u,colorPrimaryActive:c,colorText:d,colorPrimary:f,marginXS:h,controlOutlineWidth:p,colorTextLightSolid:v,wireframe:b}=n,y=`0 0 0 ${p}px ${l}`,m=y,_=a,S=4,w=_-S*2,T=b?w:_-(S+i)*2,A=f,C=d,R=u,E=c,P=e-i,$=Nn(n,{radioFocusShadow:y,radioButtonFocusShadow:m,radioSize:_,radioDotSize:T,radioDotDisabledSize:w,radioCheckedColor:A,radioDotDisabledColor:o,radioSolidCheckedColor:v,radioButtonBg:s,radioButtonCheckedBg:s,radioButtonColor:C,radioButtonHoverColor:R,radioButtonActiveColor:E,radioButtonPaddingHorizontal:P,radioDisabledButtonCheckedBg:r,radioDisabledButtonCheckedColor:o,radioWrapperMarginRight:h});return[Hge($),Gge($),Vge($)]});var Wge=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const cG=()=>({prefixCls:String,checked:Pt(),disabled:Pt(),isGroup:Pt(),value:_e.any,name:String,id:String,autofocus:Pt(),onChange:pt(),onFocus:pt(),onBlur:pt(),onClick:pt(),"onUpdate:checked":pt(),"onUpdate:value":pt()}),Ho=We({compatConfig:{MODE:3},name:"ARadio",inheritAttrs:!1,props:cG(),setup(n,e){let{emit:i,expose:r,slots:o,attrs:s}=e;const a=Qu(),l=ku.useInject(),u=kge(),c=$ge(),d=vl(),f=K(()=>{var R;return(R=b.value)!==null&&R!==void 0?R:d.value}),h=He(),{prefixCls:p,direction:v,disabled:b}=en("radio",n),y=K(()=>(c==null?void 0:c.optionType.value)==="button"||u==="button"?`${p.value}-button`:p.value),m=vl(),[_,S]=uG(p);r({focus:()=>{h.value.focus()},blur:()=>{h.value.blur()}});const A=R=>{const E=R.target.checked;i("update:checked",E),i("update:value",E),i("change",R),a.onFieldChange()},C=R=>{i("change",R),c&&c.onChange&&c.onChange(R)};return()=>{var R;const E=c,{prefixCls:P,id:N=a.id.value}=n,D=Wge(n,["prefixCls","id"]),$=O(O({prefixCls:y.value,id:N},wi(D,["onUpdate:checked","onUpdate:value"])),{disabled:(R=b.value)!==null&&R!==void 0?R:m.value});E?($.name=E.name.value,$.onChange=C,$.checked=n.value===E.value.value,$.disabled=f.value||E.disabled.value):$.onChange=A;const L=Ye({[`${y.value}-wrapper`]:!0,[`${y.value}-wrapper-checked`]:$.checked,[`${y.value}-wrapper-disabled`]:$.disabled,[`${y.value}-wrapper-rtl`]:v.value==="rtl",[`${y.value}-wrapper-in-form-item`]:l.isFormItemInput},s.class,S.value);return _(I("label",be(be({},s),{},{class:L}),[I(sG,be(be({},$),{},{type:"radio",ref:h}),null),o.default&&I("span",null,[o.default()])]))}}}),jge=()=>({prefixCls:String,value:_e.any,size:In(),options:Ri(),disabled:Pt(),name:String,buttonStyle:In("outline"),id:String,optionType:In("default"),onChange:pt(),"onUpdate:value":pt()}),dG=We({compatConfig:{MODE:3},name:"ARadioGroup",inheritAttrs:!1,props:jge(),setup(n,e){let{slots:i,emit:r,attrs:o}=e;const s=Qu(),{prefixCls:a,direction:l,size:u}=en("radio",n),[c,d]=uG(a),f=He(n.value),h=He(!1);return ut(()=>n.value,v=>{f.value=v,h.value=!1}),Fge({onChange:v=>{const b=f.value,{value:y}=v.target;"value"in n||(f.value=y),!h.value&&y!==b&&(h.value=!0,r("update:value",y),r("change",v),s.onFieldChange()),Un(()=>{h.value=!1})},value:f,disabled:K(()=>n.disabled),name:K(()=>n.name),optionType:K(()=>n.optionType)}),()=>{var v;const{options:b,buttonStyle:y,id:m=s.id.value}=n,_=`${a.value}-group`,S=Ye(_,`${_}-${y}`,{[`${_}-${u.value}`]:u.value,[`${_}-rtl`]:l.value==="rtl"},o.class,d.value);let w=null;return b&&b.length>0?w=b.map(T=>{if(typeof T=="string"||typeof T=="number")return I(Ho,{key:T,prefixCls:a.value,disabled:n.disabled,value:T,checked:f.value===T},{default:()=>[T]});const{value:A,disabled:C,label:R}=T;return I(Ho,{key:`radio-group-value-options-${A}`,prefixCls:a.value,disabled:C||n.disabled,value:A,checked:f.value===A},{default:()=>[R]})}):w=(v=i.default)===null||v===void 0?void 0:v.call(i),c(I("div",be(be({},o),{},{class:S,id:m}),[w]))}}}),fG=We({compatConfig:{MODE:3},name:"ARadioButton",inheritAttrs:!1,props:cG(),setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o}=en("radio",n);return Uge("button"),()=>{var s;return I(Ho,be(be(be({},r),n),{},{prefixCls:o.value}),{default:()=>[(s=i.default)===null||s===void 0?void 0:s.call(i)]})}}});Ho.Group=dG;Ho.Button=fG;Ho.install=function(n){return n.component(Ho.name,Ho),n.component(Ho.Group.name,Ho.Group),n.component(Ho.Button.name,Ho.Button),n};const Kge=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),CP=n=>({borderColor:n.inputBorderHoverColor,borderInlineEndWidth:n.lineWidth}),sM=n=>({borderColor:n.inputBorderHoverColor,boxShadow:`0 0 0 ${n.controlOutlineWidth}px ${n.controlOutline}`,borderInlineEndWidth:n.lineWidth,outline:0}),Xge=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":O({},CP(Nn(n,{inputBorderHoverColor:n.colorBorder})))}),hG=n=>{const{inputPaddingVerticalLG:e,fontSizeLG:i,lineHeightLG:r,borderRadiusLG:o,inputPaddingHorizontalLG:s}=n;return{padding:`${e}px ${s}px`,fontSize:i,lineHeight:r,borderRadius:o}},TP=n=>({padding:`${n.inputPaddingVerticalSM}px ${n.controlPaddingHorizontalSM-1}px`,borderRadius:n.borderRadiusSM}),pG=(n,e)=>{const{componentCls:i,colorError:r,colorWarning:o,colorErrorOutline:s,colorWarningOutline:a,colorErrorBorderHover:l,colorWarningBorderHover:u}=n;return{[`&-status-error:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:r,"&:hover":{borderColor:l},"&:focus, &-focused":O({},sM(Nn(n,{inputBorderActiveColor:r,inputBorderHoverColor:r,controlOutline:s}))),[`${i}-prefix`]:{color:r}},[`&-status-warning:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:o,"&:hover":{borderColor:u},"&:focus, &-focused":O({},sM(Nn(n,{inputBorderActiveColor:o,inputBorderHoverColor:o,controlOutline:a}))),[`${i}-prefix`]:{color:o}}}},AP=n=>O(O({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${n.inputPaddingVertical}px ${n.inputPaddingHorizontal}px`,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,backgroundColor:n.colorBgContainer,backgroundImage:"none",borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:n.colorBorder,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},Kge(n.colorTextPlaceholder)),{"&:hover":O({},CP(n)),"&:focus, &-focused":O({},sM(n)),"&-disabled, &[disabled]":O({},Xge(n)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":O({},hG(n)),"&-sm":O({},TP(n)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),qge=n=>{const{componentCls:e,antCls:i}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:O({},hG(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:O({},TP(n)),[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${n.inputPaddingHorizontal}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,textAlign:"center",backgroundColor:n.colorFillAlter,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${i}-select`]:{margin:`-${n.inputPaddingVertical+1}px -${n.inputPaddingHorizontal}px`,[`&${i}-select-single:not(${i}-select-customize-input)`]:{[`${i}-select-selector`]:{backgroundColor:"inherit",border:`${n.lineWidth}px ${n.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${i}-select-selector`]:{color:n.colorPrimary}}},[`${i}-cascader-picker`]:{margin:`-9px -${n.inputPaddingHorizontal}px`,backgroundColor:"transparent",[`${i}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${e}`]:{float:"inline-start",width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${i}-select ${i}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${i}-select ${i}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:O(O({display:"block"},bl()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`& > ${e}-affix-wrapper`]:{display:"inline-flex"},[`& > ${i}-picker-range`]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-n.lineWidth,borderInlineEndWidth:n.lineWidth},[`${e}`]:{float:"none"},[`& > ${i}-select > ${i}-select-selector,
      & > ${i}-select-auto-complete ${e},
      & > ${i}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${i}-select-focused`]:{zIndex:1},[`& > ${i}-select > ${i}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${i}-select:first-child > ${i}-select-selector,
      & > ${i}-select-auto-complete:first-child ${e},
      & > ${i}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${i}-select:last-child > ${i}-select-selector,
      & > ${i}-cascader-picker:last-child ${e},
      & > ${i}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${i}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:-n.lineWidth,[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}}),[`&&-sm ${i}-btn`]:{fontSize:n.fontSizeSM,height:n.controlHeightSM,lineHeight:"normal"},[`&&-lg ${i}-btn`]:{fontSize:n.fontSizeLG,height:n.controlHeightLG,lineHeight:"normal"},[`&&-lg ${i}-select-single ${i}-select-selector`]:{height:`${n.controlHeightLG}px`,[`${i}-select-selection-item, ${i}-select-selection-placeholder`]:{lineHeight:`${n.controlHeightLG-2}px`},[`${i}-select-selection-search-input`]:{height:`${n.controlHeightLG}px`}},[`&&-sm ${i}-select-single ${i}-select-selector`]:{height:`${n.controlHeightSM}px`,[`${i}-select-selection-item, ${i}-select-selection-placeholder`]:{lineHeight:`${n.controlHeightSM-2}px`},[`${i}-select-selection-search-input`]:{height:`${n.controlHeightSM}px`}}}},Yge=n=>{const{componentCls:e,controlHeightSM:i,lineWidth:r}=n,s=(i-r*2-16)/2;return{[e]:O(O(O(O({},li(n)),AP(n)),pG(n,e)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:i,paddingTop:s,paddingBottom:s}}})}},Qge=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${n.inputAffixPadding}px`}},"&-textarea-with-clear-btn":{padding:"0 !important",border:"0 !important",[`${e}-clear-icon`]:{position:"absolute",insetBlockStart:n.paddingXS,insetInlineEnd:n.paddingXS,zIndex:1}}}},Zge=n=>{const{componentCls:e,inputAffixPadding:i,colorTextDescription:r,motionDurationSlow:o,colorIcon:s,colorIconHover:a,iconCls:l}=n;return{[`${e}-affix-wrapper`]:O(O(O(O(O({},AP(n)),{display:"inline-flex",[`&:not(${e}-affix-wrapper-disabled):hover`]:O(O({},CP(n)),{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${e}[disabled]`]:{background:"transparent"}},[`> input${e}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${e}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:i},"&-suffix":{marginInlineStart:i}}}),Qge(n)),{[`${l}${e}-password-icon`]:{color:s,cursor:"pointer",transition:`all ${o}`,"&:hover":{color:a}}}),pG(n,`${e}-affix-wrapper`))}},Jge=n=>{const{componentCls:e,colorError:i,colorSuccess:r,borderRadiusLG:o,borderRadiusSM:s}=n;return{[`${e}-group`]:O(O(O({},li(n)),qge(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:o}},"&-sm":{[`${e}-group-addon`]:{borderRadius:s}},"&-status-error":{[`${e}-group-addon`]:{color:i,borderColor:i}},"&-status-warning":{[`${e}-group-addon:last-child`]:{color:r,borderColor:r}}}})}},eme=n=>{const{componentCls:e,antCls:i}=n,r=`${e}-search`;return{[r]:{[`${e}`]:{"&:hover, &:focus":{borderColor:n.colorPrimaryHover,[`+ ${e}-group-addon ${r}-button:not(${i}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:n.lineHeightLG-2e-4},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius,borderEndStartRadius:0},[`${r}-button:not(${i}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${i}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:n.controlHeightLG},[`&-small ${r}-button`]:{height:n.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:-n.lineWidth,borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}};function gG(n){return Nn(n,{inputAffixPadding:n.paddingXXS,inputPaddingVertical:Math.max(Math.round((n.controlHeight-n.fontSize*n.lineHeight)/2*10)/10-n.lineWidth,3),inputPaddingVerticalLG:Math.ceil((n.controlHeightLG-n.fontSizeLG*n.lineHeightLG)/2*10)/10-n.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((n.controlHeightSM-n.fontSize*n.lineHeight)/2*10)/10-n.lineWidth,0),inputPaddingHorizontal:n.paddingSM-n.lineWidth,inputPaddingHorizontalSM:n.paddingXS-n.lineWidth,inputPaddingHorizontalLG:n.controlPaddingHorizontal-n.lineWidth,inputBorderHoverColor:n.colorPrimaryHover,inputBorderActiveColor:n.colorPrimaryHover})}const tme=n=>{const{componentCls:e,inputPaddingHorizontal:i,paddingLG:r}=n,o=`${e}-textarea`;return{[o]:{position:"relative",[`${o}-suffix`]:{position:"absolute",top:0,insetInlineEnd:i,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},"&-status-error,\n        &-status-warning,\n        &-status-success,\n        &-status-validating":{[`&${o}-has-feedback`]:{[`${e}`]:{paddingInlineEnd:r}}},"&-show-count":{[`> ${e}`]:{height:"100%"},"&::after":{color:n.colorTextDescription,whiteSpace:"nowrap",content:"attr(data-count)",pointerEvents:"none",float:"right"}},"&-rtl":{"&::after":{float:"left"}}}}},EP=Di("Input",n=>{const e=gG(n);return[Yge(e),tme(e),Zge(e),Jge(e),eme(e),lP(e)]});function nme(n){const e=Ne(),i=Ne(!1);function r(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];i.value||(bn.cancel(e.value),e.value=bn(()=>{n(...s)}))}return Rn(()=>{i.value=!0,bn.cancel(e.value)}),r}function ime(n){const e=Ne([]),i=Ne(typeof n=="function"?n():n),r=nme(()=>{let s=i.value;e.value.forEach(a=>{s=a(s)}),e.value=[],i.value=s});function o(s){e.value.push(s),r()}return[i,o]}const rme=We({compatConfig:{MODE:3},name:"TabNode",props:{id:{type:String},prefixCls:{type:String},tab:{type:Object},active:{type:Boolean},closable:{type:Boolean},editable:{type:Object},onClick:{type:Function},onResize:{type:Function},renderWrapper:{type:Function},removeAriaLabel:{type:String},onFocus:{type:Function}},emits:["click","resize","remove","focus"],setup(n,e){let{expose:i,attrs:r}=e;const o=He();function s(u){var c;!((c=n.tab)===null||c===void 0)&&c.disabled||n.onClick(u)}i({domRef:o});function a(u){var c;u.preventDefault(),u.stopPropagation(),n.editable.onEdit("remove",{key:(c=n.tab)===null||c===void 0?void 0:c.key,event:u})}const l=K(()=>{var u;return n.editable&&n.closable!==!1&&!(!((u=n.tab)===null||u===void 0)&&u.disabled)});return()=>{var u;const{prefixCls:c,id:d,active:f,tab:{key:h,tab:p,disabled:v,closeIcon:b},renderWrapper:y,removeAriaLabel:m,editable:_,onFocus:S}=n,w=`${c}-tab`,T=I("div",{key:h,ref:o,class:Ye(w,{[`${w}-with-remove`]:l.value,[`${w}-active`]:f,[`${w}-disabled`]:v}),style:r.style,onClick:s},[I("div",{role:"tab","aria-selected":f,id:d&&`${d}-tab-${h}`,class:`${w}-btn`,"aria-controls":d&&`${d}-panel-${h}`,"aria-disabled":v,tabindex:v?null:0,onClick:A=>{A.stopPropagation(),s(A)},onKeydown:A=>{[st.SPACE,st.ENTER].includes(A.which)&&(A.preventDefault(),s(A))},onFocus:S},[typeof p=="function"?p():p]),l.value&&I("button",{type:"button","aria-label":m||"remove",tabindex:0,class:`${w}-remove`,onClick:A=>{A.stopPropagation(),a(A)}},[(b==null?void 0:b())||((u=_.removeIcon)===null||u===void 0?void 0:u.call(_))||"×"])]);return y?y(T):T}}}),dF={width:0,height:0,left:0,top:0};function ome(n,e){const i=He(new Map);return an(()=>{var r,o;const s=new Map,a=n.value,l=e.value.get((r=a[0])===null||r===void 0?void 0:r.key)||dF,u=l.left+l.width;for(let c=0;c<a.length;c+=1){const{key:d}=a[c];let f=e.value.get(d);f||(f=e.value.get((o=a[c-1])===null||o===void 0?void 0:o.key)||dF);const h=s.get(d)||O({},f);h.right=u-h.left-h.width,s.set(d,h)}i.value=new Map(s)}),i}const mG=We({compatConfig:{MODE:3},name:"AddButton",inheritAttrs:!1,props:{prefixCls:String,editable:{type:Object},locale:{type:Object,default:void 0}},setup(n,e){let{expose:i,attrs:r}=e;const o=He();return i({domRef:o}),()=>{const{prefixCls:s,editable:a,locale:l}=n;return!a||a.showAdd===!1?null:I("button",{ref:o,type:"button",class:`${s}-nav-add`,style:r.style,"aria-label":(l==null?void 0:l.addAriaLabel)||"Add tab",onClick:u=>{a.onEdit("add",{event:u})}},[a.addIcon?a.addIcon():"+"])}}}),sme={prefixCls:{type:String},id:{type:String},tabs:{type:Object},rtl:{type:Boolean},tabBarGutter:{type:Number},activeKey:{type:[String,Number]},mobile:{type:Boolean},moreIcon:_e.any,moreTransitionName:{type:String},editable:{type:Object},locale:{type:Object,default:void 0},removeAriaLabel:String,onTabClick:{type:Function},popupClassName:String,getPopupContainer:pt()},ame=We({compatConfig:{MODE:3},name:"OperationNode",inheritAttrs:!1,props:sme,emits:["tabClick"],slots:Object,setup(n,e){let{attrs:i,slots:r}=e;const[o,s]=Vn(!1),[a,l]=Vn(null),u=p=>{const v=n.tabs.filter(m=>!m.disabled);let b=v.findIndex(m=>m.key===a.value)||0;const y=v.length;for(let m=0;m<y;m+=1){b=(b+p+y)%y;const _=v[b];if(!_.disabled){l(_.key);return}}},c=p=>{const{which:v}=p;if(!o.value){[st.DOWN,st.SPACE,st.ENTER].includes(v)&&(s(!0),p.preventDefault());return}switch(v){case st.UP:u(-1),p.preventDefault();break;case st.DOWN:u(1),p.preventDefault();break;case st.ESC:s(!1);break;case st.SPACE:case st.ENTER:a.value!==null&&n.onTabClick(a.value,p);break}},d=K(()=>`${n.id}-more-popup`),f=K(()=>a.value!==null?`${d.value}-${a.value}`:null),h=(p,v)=>{p.preventDefault(),p.stopPropagation(),n.editable.onEdit("remove",{key:v,event:p})};return Jt(()=>{ut(a,()=>{const p=document.getElementById(f.value);p&&p.scrollIntoView&&p.scrollIntoView(!1)},{flush:"post",immediate:!0})}),ut(o,()=>{o.value||l(null)}),qH({}),()=>{var p;const{prefixCls:v,id:b,tabs:y,locale:m,mobile:_,moreIcon:S=((p=r.moreIcon)===null||p===void 0?void 0:p.call(r))||I(Fy,null,null),moreTransitionName:w,editable:T,tabBarGutter:A,rtl:C,onTabClick:R,popupClassName:E}=n;if(!y.length)return null;const P=`${v}-dropdown`,N=m==null?void 0:m.dropdownAriaLabel,D={[C?"marginRight":"marginLeft"]:A};y.length||(D.visibility="hidden",D.order=1);const $=Ye({[`${P}-rtl`]:C,[`${E}`]:!0}),L=_?null:I(kH,{prefixCls:P,trigger:["hover"],visible:o.value,transitionName:w,onVisibleChange:s,overlayClassName:$,mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:n.getPopupContainer},{overlay:()=>I(ia,{onClick:F=>{let{key:U,domEvent:k}=F;R(U,k),s(!1)},id:d.value,tabindex:-1,role:"listbox","aria-activedescendant":f.value,selectedKeys:[a.value],"aria-label":N!==void 0?N:"expanded dropdown"},{default:()=>[y.map(F=>{var U,k;const H=T&&F.closable!==!1&&!F.disabled;return I(Yp,{key:F.key,id:`${d.value}-${F.key}`,role:"option","aria-controls":b&&`${b}-panel-${F.key}`,disabled:F.disabled},{default:()=>[I("span",null,[typeof F.tab=="function"?F.tab():F.tab]),H&&I("button",{type:"button","aria-label":n.removeAriaLabel||"remove",tabindex:0,class:`${P}-menu-item-remove`,onClick:z=>{z.stopPropagation(),h(z,F.key)}},[((U=F.closeIcon)===null||U===void 0?void 0:U.call(F))||((k=T.removeIcon)===null||k===void 0?void 0:k.call(T))||"×"])]})})]}),default:()=>I("button",{type:"button",class:`${v}-nav-more`,style:D,tabindex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":d.value,id:`${b}-more`,"aria-expanded":o.value,onKeydown:c},[S])});return I("div",{class:Ye(`${v}-nav-operations`,i.class),style:i.style},[L,I(mG,{prefixCls:v,locale:m,editable:T},null)])}}}),vG=Symbol("tabsContextKey"),lme=n=>{Wn(vG,n)},yG=()=>Xt(vG,{tabs:He([]),prefixCls:He()}),ume=.1,fF=.01,zx=20,hF=Math.pow(.995,zx);function cme(n,e){const[i,r]=Vn(),[o,s]=Vn(0),[a,l]=Vn(0),[u,c]=Vn(),d=He();function f(T){const{screenX:A,screenY:C}=T.touches[0];r({x:A,y:C}),clearInterval(d.value)}function h(T){if(!i.value)return;T.preventDefault();const{screenX:A,screenY:C}=T.touches[0],R=A-i.value.x,E=C-i.value.y;e(R,E),r({x:A,y:C});const P=Date.now();l(P-o.value),s(P),c({x:R,y:E})}function p(){if(!i.value)return;const T=u.value;if(r(null),c(null),T){const A=T.x/a.value,C=T.y/a.value,R=Math.abs(A),E=Math.abs(C);if(Math.max(R,E)<ume)return;let P=A,N=C;d.value=setInterval(()=>{if(Math.abs(P)<fF&&Math.abs(N)<fF){clearInterval(d.value);return}P*=hF,N*=hF,e(P*zx,N*zx)},zx)}}const v=He();function b(T){const{deltaX:A,deltaY:C}=T;let R=0;const E=Math.abs(A),P=Math.abs(C);E===P?R=v.value==="x"?A:C:E>P?(R=A,v.value="x"):(R=C,v.value="y"),e(-R,-R)&&T.preventDefault()}const y=He({onTouchStart:f,onTouchMove:h,onTouchEnd:p,onWheel:b});function m(T){y.value.onTouchStart(T)}function _(T){y.value.onTouchMove(T)}function S(T){y.value.onTouchEnd(T)}function w(T){y.value.onWheel(T)}Jt(()=>{var T,A;document.addEventListener("touchmove",_,{passive:!1}),document.addEventListener("touchend",S,{passive:!1}),(T=n.value)===null||T===void 0||T.addEventListener("touchstart",m,{passive:!1}),(A=n.value)===null||A===void 0||A.addEventListener("wheel",w,{passive:!1})}),Rn(()=>{document.removeEventListener("touchmove",_),document.removeEventListener("touchend",S)})}function pF(n,e){const i=He(n);function r(o){const s=typeof o=="function"?o(i.value):o;s!==i.value&&e(s,i.value),i.value=s}return[i,r]}const bG=()=>{const n=He(new Map),e=i=>r=>{n.value.set(i,r)};return fR(()=>{n.value=new Map}),[e,n]},gF={width:0,height:0,left:0,top:0,right:0},dme=()=>({id:{type:String},tabPosition:{type:String},activeKey:{type:[String,Number]},rtl:{type:Boolean},animated:vn(),editable:vn(),moreIcon:_e.any,moreTransitionName:{type:String},mobile:{type:Boolean},tabBarGutter:{type:Number},renderTabBar:{type:Function},locale:vn(),popupClassName:String,getPopupContainer:pt(),onTabClick:{type:Function},onTabScroll:{type:Function}}),fme=(n,e)=>{const{offsetWidth:i,offsetHeight:r,offsetTop:o,offsetLeft:s}=n,{width:a,height:l,x:u,y:c}=n.getBoundingClientRect();return Math.abs(a-i)<1?[a,l,u-e.x,c-e.y]:[i,r,s,o]},mF=We({compatConfig:{MODE:3},name:"TabNavList",inheritAttrs:!1,props:dme(),slots:Object,emits:["tabClick","tabScroll"],setup(n,e){let{attrs:i,slots:r}=e;const{tabs:o,prefixCls:s}=yG(),a=Ne(),l=Ne(),u=Ne(),c=Ne(),[d,f]=bG(),h=K(()=>n.tabPosition==="top"||n.tabPosition==="bottom"),[p,v]=pF(0,(fe,ge)=>{h.value&&n.onTabScroll&&n.onTabScroll({direction:fe>ge?"left":"right"})}),[b,y]=pF(0,(fe,ge)=>{!h.value&&n.onTabScroll&&n.onTabScroll({direction:fe>ge?"top":"bottom"})}),[m,_]=Vn(0),[S,w]=Vn(0),[T,A]=Vn(null),[C,R]=Vn(null),[E,P]=Vn(0),[N,D]=Vn(0),[$,L]=ime(new Map),F=ome(o,$),U=K(()=>`${s.value}-nav-operations-hidden`),k=Ne(0),H=Ne(0);an(()=>{h.value?n.rtl?(k.value=0,H.value=Math.max(0,m.value-T.value)):(k.value=Math.min(0,T.value-m.value),H.value=0):(k.value=Math.min(0,C.value-S.value),H.value=0)});const z=fe=>fe<k.value?k.value:fe>H.value?H.value:fe,Q=Ne(),[Z,ie]=Vn(),we=()=>{ie(Date.now())},J=()=>{clearTimeout(Q.value)},se=(fe,ge)=>{fe(ve=>z(ve+ge))};cme(a,(fe,ge)=>{if(h.value){if(T.value>=m.value)return!1;se(v,fe)}else{if(C.value>=S.value)return!1;se(y,ge)}return J(),we(),!0}),ut(Z,()=>{J(),Z.value&&(Q.value=setTimeout(()=>{ie(0)},100))});const ee=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.activeKey;const ge=F.value.get(fe)||{width:0,height:0,left:0,right:0,top:0};if(h.value){let ve=p.value;n.rtl?ge.right<p.value?ve=ge.right:ge.right+ge.width>p.value+T.value&&(ve=ge.right+ge.width-T.value):ge.left<-p.value?ve=-ge.left:ge.left+ge.width>-p.value+T.value&&(ve=-(ge.left+ge.width-T.value)),y(0),v(z(ve))}else{let ve=b.value;ge.top<-b.value?ve=-ge.top:ge.top+ge.height>-b.value+C.value&&(ve=-(ge.top+ge.height-C.value)),v(0),y(z(ve))}},ne=Ne(0),ue=Ne(0);an(()=>{let fe,ge,ve,j,G,ce;const Ee=F.value;["top","bottom"].includes(n.tabPosition)?(fe="width",j=T.value,G=m.value,ce=E.value,ge=n.rtl?"right":"left",ve=Math.abs(p.value)):(fe="height",j=C.value,G=m.value,ce=N.value,ge="top",ve=-b.value);let de=j;G+ce>j&&G<j&&(de=j-ce);const re=o.value;if(!re.length)return[ne.value,ue.value]=[0,0];const ye=re.length;let De=ye;for(let ft=0;ft<ye;ft+=1){const Te=Ee.get(re[ft].key)||gF;if(Te[ge]+Te[fe]>ve+de){De=ft-1;break}}let Ge=0;for(let ft=ye-1;ft>=0;ft-=1)if((Ee.get(re[ft].key)||gF)[ge]<ve){Ge=ft+1;break}return[ne.value,ue.value]=[Ge,De]});const Y=()=>{L(()=>{var fe;const ge=new Map,ve=(fe=l.value)===null||fe===void 0?void 0:fe.getBoundingClientRect();return o.value.forEach(j=>{let{key:G}=j;const ce=f.value.get(G),Ee=(ce==null?void 0:ce.$el)||ce;if(Ee){const[de,re,ye,De]=fme(Ee,ve);ge.set(G,{width:de,height:re,left:ye,top:De})}}),ge})};ut(()=>o.value.map(fe=>fe.key).join("%%"),()=>{Y()},{flush:"post"});const le=()=>{var fe,ge,ve,j,G;const ce=((fe=a.value)===null||fe===void 0?void 0:fe.offsetWidth)||0,Ee=((ge=a.value)===null||ge===void 0?void 0:ge.offsetHeight)||0,de=((ve=c.value)===null||ve===void 0?void 0:ve.$el)||{},re=de.offsetWidth||0,ye=de.offsetHeight||0;A(ce),R(Ee),P(re),D(ye);const De=(((j=l.value)===null||j===void 0?void 0:j.offsetWidth)||0)-re,Ge=(((G=l.value)===null||G===void 0?void 0:G.offsetHeight)||0)-ye;_(De),w(Ge),Y()},he=K(()=>[...o.value.slice(0,ne.value),...o.value.slice(ue.value+1)]),[W,X]=Vn(),V=K(()=>F.value.get(n.activeKey)),Ce=Ne(),pe=()=>{bn.cancel(Ce.value)};ut([V,h,()=>n.rtl],()=>{const fe={};V.value&&(h.value?(n.rtl?fe.right=Zd(V.value.right):fe.left=Zd(V.value.left),fe.width=Zd(V.value.width)):(fe.top=Zd(V.value.top),fe.height=Zd(V.value.height))),pe(),Ce.value=bn(()=>{X(fe)})}),ut([()=>n.activeKey,V,F,h],()=>{ee()},{flush:"post"}),ut([()=>n.rtl,()=>n.tabBarGutter,()=>n.activeKey,()=>o.value],()=>{le()},{flush:"post"});const Se=fe=>{let{position:ge,prefixCls:ve,extra:j}=fe;if(!j)return null;const G=j==null?void 0:j({position:ge});return G?I("div",{class:`${ve}-extra-content`},[G]):null};return Rn(()=>{J(),pe()}),()=>{const{id:fe,animated:ge,activeKey:ve,rtl:j,editable:G,locale:ce,tabPosition:Ee,tabBarGutter:de,onTabClick:re}=n,{class:ye,style:De}=i,Ge=s.value,ft=!!he.value.length,Te=`${Ge}-nav-wrap`;let Pe,Ue,qe,je;h.value?j?(Ue=p.value>0,Pe=p.value+T.value<m.value):(Pe=p.value<0,Ue=-p.value+T.value<m.value):(qe=b.value<0,je=-b.value+C.value<S.value);const lt={};Ee==="top"||Ee==="bottom"?lt[j?"marginRight":"marginLeft"]=typeof de=="number"?`${de}px`:de:lt.marginTop=typeof de=="number"?`${de}px`:de;const rt=o.value.map((At,Ae)=>{const{key:nt}=At;return I(rme,{id:fe,prefixCls:Ge,key:nt,tab:At,style:Ae===0?void 0:lt,closable:At.closable,editable:G,active:nt===ve,removeAriaLabel:ce==null?void 0:ce.removeAriaLabel,ref:d(nt),onClick:$e=>{re(nt,$e)},onFocus:()=>{ee(nt),we(),a.value&&(j||(a.value.scrollLeft=0),a.value.scrollTop=0)}},r)});return I("div",{role:"tablist",class:Ye(`${Ge}-nav`,ye),style:De,onKeydown:()=>{we()}},[I(Se,{position:"left",prefixCls:Ge,extra:r.leftExtra},null),I(ed,{onResize:le},{default:()=>[I("div",{class:Ye(Te,{[`${Te}-ping-left`]:Pe,[`${Te}-ping-right`]:Ue,[`${Te}-ping-top`]:qe,[`${Te}-ping-bottom`]:je}),ref:a},[I(ed,{onResize:le},{default:()=>[I("div",{ref:l,class:`${Ge}-nav-list`,style:{transform:`translate(${p.value}px, ${b.value}px)`,transition:Z.value?"none":void 0}},[rt,I(mG,{ref:c,prefixCls:Ge,locale:ce,editable:G,style:O(O({},rt.length===0?void 0:lt),{visibility:ft?"hidden":null})},null),I("div",{class:Ye(`${Ge}-ink-bar`,{[`${Ge}-ink-bar-animated`]:ge.inkBar}),style:W.value},null)])]})])]}),I(ame,be(be({},n),{},{removeAriaLabel:ce==null?void 0:ce.removeAriaLabel,ref:u,prefixCls:Ge,tabs:he.value,class:!ft&&U.value}),NH(r,["moreIcon"])),I(Se,{position:"right",prefixCls:Ge,extra:r.rightExtra},null),I(Se,{position:"right",prefixCls:Ge,extra:r.tabBarExtraContent},null)])}}}),hme=We({compatConfig:{MODE:3},name:"TabPanelList",inheritAttrs:!1,props:{activeKey:{type:[String,Number]},id:{type:String},rtl:{type:Boolean},animated:{type:Object,default:void 0},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean}},setup(n){const{tabs:e,prefixCls:i}=yG();return()=>{const{id:r,activeKey:o,animated:s,tabPosition:a,rtl:l,destroyInactiveTabPane:u}=n,c=s.tabPane,d=i.value,f=e.value.findIndex(h=>h.key===o);return I("div",{class:`${d}-content-holder`},[I("div",{class:[`${d}-content`,`${d}-content-${a}`,{[`${d}-content-animated`]:c}],style:f&&c?{[l?"marginRight":"marginLeft"]:`-${f}00%`}:null},[e.value.map(h=>Ii(h.node,{key:h.key,prefixCls:d,tabKey:h.key,id:r,animated:c,active:h.key===o,destroyInactiveTabPane:u}))])])}}});var pme={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};function vF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){gme(n,o,i[o])})}return n}function gme(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var MP=function(e,i){var r=vF({},e,i.attrs);return I(xn,vF({},r,{icon:pme}),null)};MP.displayName="PlusOutlined";MP.inheritAttrs=!1;const mme=n=>{const{componentCls:e,motionDurationSlow:i}=n;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${i}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${i}`}}}}},[td(n,"slide-up"),td(n,"slide-down")]]},vme=n=>{const{componentCls:e,tabsCardHorizontalPadding:i,tabsCardHeadBackground:r,tabsCardGutter:o,colorSplit:s}=n;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:i,background:r,border:`${n.lineWidth}px ${n.lineType} ${s}`,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`},[`${e}-tab-active`]:{color:n.colorPrimary,background:n.colorBgContainer},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:`${o}px`}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`},[`${e}-tab-active`]:{borderBottomColor:n.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px`},[`${e}-tab-active`]:{borderTopColor:n.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:`${o}px`}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${n.borderRadiusLG}px 0 0 ${n.borderRadiusLG}px`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:n.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:n.colorBgContainer}}}}}}},yme=n=>{const{componentCls:e,tabsHoverColor:i,dropdownEdgeChildVerticalPadding:r}=n;return{[`${e}-dropdown`]:O(O({},li(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:n.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:n.tabsDropdownHeight,margin:0,padding:`${r}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:n.colorBgContainer,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,"&-item":O(O({},yl),{display:"flex",alignItems:"center",minWidth:n.tabsDropdownWidth,margin:0,padding:`${n.paddingXXS}px ${n.paddingSM}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:n.marginSM},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:i}},"&:hover":{background:n.controlItemBgHover},"&-disabled":{"&, &:hover":{color:n.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},bme=n=>{const{componentCls:e,margin:i,colorSplit:r}=n;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:`0 0 ${i}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${n.lineWidth}px ${n.lineType} ${r}`,content:"''"},[`${e}-ink-bar`]:{height:n.lineWidthBold,"&-animated":{transition:`width ${n.motionDurationSlow}, left ${n.motionDurationSlow},
            right ${n.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:n.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:`${i}px`,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:n.controlHeight*1.25,[`${e}-tab`]:{padding:`${n.paddingXS}px ${n.paddingLG}px`,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:`${n.margin}px 0 0 0`},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:n.controlHeight},"&::before":{top:0,boxShadow:n.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:n.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:n.lineWidthBold,"&-animated":{transition:`height ${n.motionDurationSlow}, top ${n.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${n.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:n.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-n.lineWidth},borderRight:{_skip_check_:!0,value:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:n.paddingLG}}}}}},xme=n=>{const{componentCls:e,padding:i}=n;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${n.paddingXS}px 0`,fontSize:n.fontSize}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${i}px 0`,fontSize:n.fontSizeLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${n.paddingXXS*1.5}px ${i}px`}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${n.borderRadius}px ${n.borderRadius}px`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${n.borderRadius}px ${n.borderRadius}px 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${n.borderRadius}px ${n.borderRadius}px 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${n.borderRadius}px 0 0 ${n.borderRadius}px`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${n.paddingXS}px ${i}px ${n.paddingXXS*1.5}px`}}}}}},_me=n=>{const{componentCls:e,tabsActiveColor:i,tabsHoverColor:r,iconCls:o,tabsHorizontalGutter:s}=n,a=`${e}-tab`;return{[a]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${n.paddingSM}px 0`,fontSize:`${n.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":O({"&:focus:not(:focus-visible), &:active":{color:i}},Nf(n)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-n.marginXXS},marginLeft:{_skip_check_:!0,value:n.marginXS},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextHeading}},"&:hover":{color:r},[`&${a}-active ${a}-btn`]:{color:n.colorPrimary,textShadow:n.tabsActiveTextShadow},[`&${a}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${a}-disabled ${a}-btn, &${a}-disabled ${e}-remove`]:{"&:focus, &:active":{color:n.colorTextDisabled}},[`& ${a}-remove ${o}`]:{margin:0},[o]:{marginRight:{_skip_check_:!0,value:n.marginSM}}},[`${a} + ${a}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${s}px`}}}},Sme=n=>{const{componentCls:e,tabsHorizontalGutter:i,iconCls:r,tabsCardGutter:o}=n;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${i}px`},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${n.marginSM}px`}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${n.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${n.marginXXS}px`},[r]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:`${o}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},wme=n=>{const{componentCls:e,tabsCardHorizontalPadding:i,tabsCardHeight:r,tabsCardGutter:o,tabsHoverColor:s,tabsActiveColor:a,colorSplit:l}=n;return{[e]:O(O(O(O({},li(n)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${n.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${n.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:i,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:n.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:O({minWidth:`${r}px`,marginLeft:{_skip_check_:!0,value:`${o}px`},padding:`0 ${n.paddingXS}px`,background:"transparent",border:`${n.lineWidth}px ${n.lineType} ${l}`,borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:n.colorText,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`,"&:hover":{color:s},"&:active, &:focus:not(:focus-visible)":{color:a}},Nf(n))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:n.colorPrimary,pointerEvents:"none"}}),_me(n)),{[`${e}-content`]:{position:"relative",display:"flex",width:"100%","&-animated":{transition:"margin 0.3s"}},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:{outline:"none",flex:"none",width:"100%"}}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},Cme=Di("Tabs",n=>{const e=n.controlHeightLG,i=Nn(n,{tabsHoverColor:n.colorPrimaryHover,tabsActiveColor:n.colorPrimaryActive,tabsCardHorizontalPadding:`${(e-Math.round(n.fontSize*n.lineHeight))/2-n.lineWidth}px ${n.padding}px`,tabsCardHeight:e,tabsCardGutter:n.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:n.colorFillAlter,dropdownEdgeChildVerticalPadding:n.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[xme(i),Sme(i),bme(i),yme(i),vme(i),wme(i),mme(i)]},n=>({zIndexPopup:n.zIndexPopupBase+50}));let yF=0;const xG=()=>({prefixCls:{type:String},id:{type:String},popupClassName:String,getPopupContainer:pt(),activeKey:{type:[String,Number]},defaultActiveKey:{type:[String,Number]},direction:In(),animated:Mi([Boolean,Object]),renderTabBar:pt(),tabBarGutter:{type:Number},tabBarStyle:vn(),tabPosition:In(),destroyInactiveTabPane:Pt(),hideAdd:Boolean,type:In(),size:In(),centered:Boolean,onEdit:pt(),onChange:pt(),onTabClick:pt(),onTabScroll:pt(),"onUpdate:activeKey":pt(),locale:vn(),onPrevClick:pt(),onNextClick:pt(),tabBarExtraContent:_e.any});function Tme(n){return n.map(e=>{if(lo(e)){const i=O({},e.props||{});for(const[h,p]of Object.entries(i))delete i[h],i[Ny(h)]=p;const r=e.children||{},o=e.key!==void 0?e.key:void 0,{tab:s=r.tab,disabled:a,forceRender:l,closable:u,animated:c,active:d,destroyInactiveTabPane:f}=i;return O(O({key:o},i),{node:e,closeIcon:r.closeIcon,tab:s,disabled:a===""||a,forceRender:l===""||l,closable:u===""||u,animated:c===""||c,active:d===""||d,destroyInactiveTabPane:f===""||f})}return null}).filter(e=>e)}const Ame=We({compatConfig:{MODE:3},name:"InternalTabs",inheritAttrs:!1,props:O(O({},ui(xG(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}})),{tabs:Ri()}),slots:Object,setup(n,e){let{attrs:i,slots:r}=e;fi(n.onPrevClick===void 0&&n.onNextClick===void 0,"Tabs","`onPrevClick / @prevClick` and `onNextClick / @nextClick` has been removed. Please use `onTabScroll / @tabScroll` instead."),fi(n.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` prop has been removed. Please use `rightExtra` slot instead."),fi(r.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` slot is deprecated. Please use `rightExtra` slot instead.");const{prefixCls:o,direction:s,size:a,rootPrefixCls:l,getPopupContainer:u}=en("tabs",n),[c,d]=Cme(o),f=K(()=>s.value==="rtl"),h=K(()=>{const{animated:C,tabPosition:R}=n;return C===!1||["left","right"].includes(R)?{inkBar:!1,tabPane:!1}:C===!0?{inkBar:!0,tabPane:!0}:O({inkBar:!0,tabPane:!1},typeof C=="object"?C:{})}),[p,v]=Vn(!1);Jt(()=>{v(oH())});const[b,y]=Xp(()=>{var C;return(C=n.tabs[0])===null||C===void 0?void 0:C.key},{value:K(()=>n.activeKey),defaultValue:n.defaultActiveKey}),[m,_]=Vn(()=>n.tabs.findIndex(C=>C.key===b.value));an(()=>{var C;let R=n.tabs.findIndex(E=>E.key===b.value);R===-1&&(R=Math.max(0,Math.min(m.value,n.tabs.length-1)),y((C=n.tabs[R])===null||C===void 0?void 0:C.key)),_(R)});const[S,w]=Xp(null,{value:K(()=>n.id)}),T=K(()=>p.value&&!["left","right"].includes(n.tabPosition)?"top":n.tabPosition);Jt(()=>{n.id||(w(`rc-tabs-${yF}`),yF+=1)});const A=(C,R)=>{var E,P;(E=n.onTabClick)===null||E===void 0||E.call(n,C,R);const N=C!==b.value;y(C),N&&((P=n.onChange)===null||P===void 0||P.call(n,C))};return lme({tabs:K(()=>n.tabs),prefixCls:o}),()=>{const{id:C,type:R,tabBarGutter:E,tabBarStyle:P,locale:N,destroyInactiveTabPane:D,renderTabBar:$=r.renderTabBar,onTabScroll:L,hideAdd:F,centered:U}=n,k={id:S.value,activeKey:b.value,animated:h.value,tabPosition:T.value,rtl:f.value,mobile:p.value};let H;R==="editable-card"&&(H={onEdit:(ie,we)=>{let{key:J,event:se}=we;var ee;(ee=n.onEdit)===null||ee===void 0||ee.call(n,ie==="add"?se:J,ie)},removeIcon:()=>I(fd,null,null),addIcon:r.addIcon?r.addIcon:()=>I(MP,null,null),showAdd:F!==!0});let z;const Q=O(O({},k),{moreTransitionName:`${l.value}-slide-up`,editable:H,locale:N,tabBarGutter:E,onTabClick:A,onTabScroll:L,style:P,getPopupContainer:u.value,popupClassName:Ye(n.popupClassName,d.value)});$?z=$(O(O({},Q),{DefaultTabBar:mF})):z=I(mF,Q,NH(r,["moreIcon","leftExtra","rightExtra","tabBarExtraContent"]));const Z=o.value;return c(I("div",be(be({},i),{},{id:C,class:Ye(Z,`${Z}-${T.value}`,{[d.value]:!0,[`${Z}-${a.value}`]:a.value,[`${Z}-card`]:["card","editable-card"].includes(R),[`${Z}-editable-card`]:R==="editable-card",[`${Z}-centered`]:U,[`${Z}-mobile`]:p.value,[`${Z}-editable`]:R==="editable-card",[`${Z}-rtl`]:f.value},i.class)}),[z,I(hme,be(be({destroyInactiveTabPane:D},k),{},{animated:h.value}),null)]))}}}),bf=We({compatConfig:{MODE:3},name:"ATabs",inheritAttrs:!1,props:ui(xG(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}}),slots:Object,setup(n,e){let{attrs:i,slots:r,emit:o}=e;const s=a=>{o("update:activeKey",a),o("change",a)};return()=>{var a;const l=Tme(tr((a=r.default)===null||a===void 0?void 0:a.call(r)));return I(Ame,be(be(be({},wi(n,["onUpdate:activeKey"])),i),{},{onChange:s,tabs:l}),r)}}}),Eme=()=>({tab:_e.any,disabled:{type:Boolean},forceRender:{type:Boolean},closable:{type:Boolean},animated:{type:Boolean},active:{type:Boolean},destroyInactiveTabPane:{type:Boolean},prefixCls:{type:String},tabKey:{type:[String,Number]},id:{type:String}}),z_=We({compatConfig:{MODE:3},name:"ATabPane",inheritAttrs:!1,__ANT_TAB_PANE:!0,props:Eme(),slots:Object,setup(n,e){let{attrs:i,slots:r}=e;const o=He(n.forceRender);ut([()=>n.active,()=>n.destroyInactiveTabPane],()=>{n.active?o.value=!0:n.destroyInactiveTabPane&&(o.value=!1)},{immediate:!0});const s=K(()=>n.active?{}:n.animated?{visibility:"hidden",height:0,overflowY:"hidden"}:{display:"none"});return()=>{var a;const{prefixCls:l,forceRender:u,id:c,active:d,tabKey:f}=n;return I("div",{id:c&&`${c}-panel-${f}`,role:"tabpanel",tabindex:d?0:-1,"aria-labelledby":c&&`${c}-tab-${f}`,"aria-hidden":!d,style:[s.value,i.style],class:[`${l}-tabpane`,d&&`${l}-tabpane-active`,i.class]},[(d||o.value||u)&&((a=r.default)===null||a===void 0?void 0:a.call(r))])}}});bf.TabPane=z_;bf.install=function(n){return n.component(bf.name,bf),n.component(z_.name,z_),n};const Mme=n=>{const{antCls:e,componentCls:i,cardHeadHeight:r,cardPaddingBase:o,cardHeadTabsMarginBottom:s}=n;return O(O({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${o}px`,color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG,background:"transparent",borderBottom:`${n.lineWidth}px ${n.lineType} ${n.colorBorderSecondary}`,borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`},bl()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":O(O({display:"inline-block",flex:1},yl),{[`
          > ${i}-typography,
          > ${i}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${e}-tabs-top`]:{clear:"both",marginBottom:s,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,"&-bar":{borderBottom:`${n.lineWidth}px ${n.lineType} ${n.colorBorderSecondary}`}}})},Rme=n=>{const{cardPaddingBase:e,colorBorderSecondary:i,cardShadow:r,lineWidth:o}=n;return{width:"33.33%",padding:e,border:0,borderRadius:0,boxShadow:`
      ${o}px 0 0 0 ${i},
      0 ${o}px 0 0 ${i},
      ${o}px ${o}px 0 0 ${i},
      ${o}px 0 0 0 ${i} inset,
      0 ${o}px 0 0 ${i} inset;
    `,transition:`all ${n.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},Pme=n=>{const{componentCls:e,iconCls:i,cardActionsLiMargin:r,cardActionsIconSize:o,colorBorderSecondary:s}=n;return O(O({margin:0,padding:0,listStyle:"none",background:n.colorBgContainer,borderTop:`${n.lineWidth}px ${n.lineType} ${s}`,display:"flex",borderRadius:`0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px `},bl()),{"& > li":{margin:r,color:n.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:n.cardActionsIconSize*2,fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer","&:hover":{color:n.colorPrimary,transition:`color ${n.motionDurationMid}`},[`a:not(${e}-btn), > ${i}`]:{display:"inline-block",width:"100%",color:n.colorTextDescription,lineHeight:`${n.fontSize*n.lineHeight}px`,transition:`color ${n.motionDurationMid}`,"&:hover":{color:n.colorPrimary}},[`> ${i}`]:{fontSize:o,lineHeight:`${o*n.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${n.lineWidth}px ${n.lineType} ${s}`}}})},Ime=n=>O(O({margin:`-${n.marginXXS}px 0`,display:"flex"},bl()),{"&-avatar":{paddingInlineEnd:n.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:n.marginXS}},"&-title":O({color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG},yl),"&-description":{color:n.colorTextDescription}}),Nme=n=>{const{componentCls:e,cardPaddingBase:i,colorFillAlter:r}=n;return{[`${e}-head`]:{padding:`0 ${i}px`,background:r,"&-title":{fontSize:n.fontSize}},[`${e}-body`]:{padding:`${n.padding}px ${i}px`}}},Ome=n=>{const{componentCls:e}=n;return{overflow:"hidden",[`${e}-body`]:{userSelect:"none"}}},Dme=n=>{const{componentCls:e,cardShadow:i,cardHeadPadding:r,colorBorderSecondary:o,boxShadow:s,cardPaddingBase:a}=n;return{[e]:O(O({},li(n)),{position:"relative",background:n.colorBgContainer,borderRadius:n.borderRadiusLG,[`&:not(${e}-bordered)`]:{boxShadow:s},[`${e}-head`]:Mme(n),[`${e}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:n.fontSize},[`${e}-body`]:O({padding:a,borderRadius:` 0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px`},bl()),[`${e}-grid`]:Rme(n),[`${e}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`}},[`${e}-actions`]:Pme(n),[`${e}-meta`]:Ime(n)}),[`${e}-bordered`]:{border:`${n.lineWidth}px ${n.lineType} ${o}`,[`${e}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${e}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${n.motionDurationMid}, border-color ${n.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:i}},[`${e}-contain-grid`]:{[`${e}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${e}-loading) ${e}-body`]:{marginBlockStart:-n.lineWidth,marginInlineStart:-n.lineWidth,padding:0}},[`${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{paddingTop:r}}},[`${e}-type-inner`]:Nme(n),[`${e}-loading`]:Ome(n),[`${e}-rtl`]:{direction:"rtl"}}},Lme=n=>{const{componentCls:e,cardPaddingSM:i,cardHeadHeightSM:r}=n;return{[`${e}-small`]:{[`> ${e}-head`]:{minHeight:r,padding:`0 ${i}px`,fontSize:n.fontSize,[`> ${e}-head-wrapper`]:{[`> ${e}-extra`]:{fontSize:n.fontSize}}},[`> ${e}-body`]:{padding:i}},[`${e}-small${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{minHeight:r,paddingTop:0,display:"flex",alignItems:"center"}}}}},Bme=Di("Card",n=>{const e=Nn(n,{cardShadow:n.boxShadowCard,cardHeadHeight:n.fontSizeLG*n.lineHeightLG+n.padding*2,cardHeadHeightSM:n.fontSize*n.lineHeight+n.paddingXS*2,cardHeadPadding:n.padding,cardPaddingBase:n.paddingLG,cardHeadTabsMarginBottom:-n.padding-n.lineWidth,cardActionsLiMargin:`${n.paddingSM}px 0`,cardActionsIconSize:n.fontSize,cardPaddingSM:12});return[Dme(e),Lme(e)]}),Fme=()=>({prefixCls:String,width:{type:[Number,String]}}),RP=We({compatConfig:{MODE:3},name:"SkeletonTitle",props:Fme(),setup(n){return()=>{const{prefixCls:e,width:i}=n,r=typeof i=="number"?`${i}px`:i;return I("h3",{class:e,style:{width:r}},null)}}}),$me=()=>({prefixCls:String,width:{type:[Number,String,Array]},rows:Number}),Ume=We({compatConfig:{MODE:3},name:"SkeletonParagraph",props:$me(),setup(n){const e=i=>{const{width:r,rows:o=2}=n;if(Array.isArray(r))return r[i];if(o-1===i)return r};return()=>{const{prefixCls:i,rows:r}=n,o=[...Array(r)].map((s,a)=>{const l=e(a);return I("li",{key:a,style:{width:typeof l=="number"?`${l}px`:l}},null)});return I("ul",{class:i},[o])}}}),lw=()=>({prefixCls:String,size:[String,Number],shape:String,active:{type:Boolean,default:void 0}}),$y=n=>{const{prefixCls:e,size:i,shape:r}=n,o=Ye({[`${e}-lg`]:i==="large",[`${e}-sm`]:i==="small"}),s=Ye({[`${e}-circle`]:r==="circle",[`${e}-square`]:r==="square",[`${e}-round`]:r==="round"}),a=typeof i=="number"?{width:`${i}px`,height:`${i}px`,lineHeight:`${i}px`}:{};return I("span",{class:Ye(e,o,s),style:a},null)};$y.displayName="SkeletonElement";const kme=new On("ant-skeleton-loading",{"0%":{transform:"translateX(-37.5%)"},"100%":{transform:"translateX(37.5%)"}}),uw=n=>({height:n,lineHeight:`${n}px`}),Tp=n=>O({width:n},uw(n)),zme=n=>({position:"relative",zIndex:0,overflow:"hidden",background:"transparent","&::after":{position:"absolute",top:0,insetInlineEnd:"-150%",bottom:0,insetInlineStart:"-150%",background:n.skeletonLoadingBackground,animationName:kme,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite",content:'""'}}),QC=n=>O({width:n*5,minWidth:n*5},uw(n)),Hme=n=>{const{skeletonAvatarCls:e,color:i,controlHeight:r,controlHeightLG:o,controlHeightSM:s}=n;return{[`${e}`]:O({display:"inline-block",verticalAlign:"top",background:i},Tp(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:O({},Tp(o)),[`${e}${e}-sm`]:O({},Tp(s))}},Gme=n=>{const{controlHeight:e,borderRadiusSM:i,skeletonInputCls:r,controlHeightLG:o,controlHeightSM:s,color:a}=n;return{[`${r}`]:O({display:"inline-block",verticalAlign:"top",background:a,borderRadius:i},QC(e)),[`${r}-lg`]:O({},QC(o)),[`${r}-sm`]:O({},QC(s))}},bF=n=>O({width:n},uw(n)),Vme=n=>{const{skeletonImageCls:e,imageSizeBase:i,color:r,borderRadiusSM:o}=n;return{[`${e}`]:O(O({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:o},bF(i*2)),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:O(O({},bF(i)),{maxWidth:i*4,maxHeight:i*4}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},ZC=(n,e,i)=>{const{skeletonButtonCls:r}=n;return{[`${i}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${i}${r}-round`]:{borderRadius:e}}},JC=n=>O({width:n*2,minWidth:n*2},uw(n)),Wme=n=>{const{borderRadiusSM:e,skeletonButtonCls:i,controlHeight:r,controlHeightLG:o,controlHeightSM:s,color:a}=n;return O(O(O(O(O({[`${i}`]:O({display:"inline-block",verticalAlign:"top",background:a,borderRadius:e,width:r*2,minWidth:r*2},JC(r))},ZC(n,r,i)),{[`${i}-lg`]:O({},JC(o))}),ZC(n,o,`${i}-lg`)),{[`${i}-sm`]:O({},JC(s))}),ZC(n,s,`${i}-sm`))},jme=n=>{const{componentCls:e,skeletonAvatarCls:i,skeletonTitleCls:r,skeletonParagraphCls:o,skeletonButtonCls:s,skeletonInputCls:a,skeletonImageCls:l,controlHeight:u,controlHeightLG:c,controlHeightSM:d,color:f,padding:h,marginSM:p,borderRadius:v,skeletonTitleHeight:b,skeletonBlockRadius:y,skeletonParagraphLineHeight:m,controlHeightXS:_,skeletonParagraphMarginTop:S}=n;return{[`${e}`]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:h,verticalAlign:"top",[`${i}`]:O({display:"inline-block",verticalAlign:"top",background:f},Tp(u)),[`${i}-circle`]:{borderRadius:"50%"},[`${i}-lg`]:O({},Tp(c)),[`${i}-sm`]:O({},Tp(d))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${r}`]:{width:"100%",height:b,background:f,borderRadius:y,[`+ ${o}`]:{marginBlockStart:d}},[`${o}`]:{padding:0,"> li":{width:"100%",height:m,listStyle:"none",background:f,borderRadius:y,"+ li":{marginBlockStart:_}}},[`${o}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${o} > li`]:{borderRadius:v}}},[`${e}-with-avatar ${e}-content`]:{[`${r}`]:{marginBlockStart:p,[`+ ${o}`]:{marginBlockStart:S}}},[`${e}${e}-element`]:O(O(O(O({display:"inline-block",width:"auto"},Wme(n)),Hme(n)),Gme(n)),Vme(n)),[`${e}${e}-block`]:{width:"100%",[`${s}`]:{width:"100%"},[`${a}`]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${o} > li,
        ${i},
        ${s},
        ${a},
        ${l}
      `]:O({},zme(n))}}},Uy=Di("Skeleton",n=>{const{componentCls:e}=n,i=Nn(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n.controlHeight*1.5,skeletonTitleHeight:n.controlHeight/2,skeletonBlockRadius:n.borderRadiusSM,skeletonParagraphLineHeight:n.controlHeight/2,skeletonParagraphMarginTop:n.marginLG+n.marginXXS,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.color} 25%, ${n.colorGradientEnd} 37%, ${n.color} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[jme(i)]},n=>{const{colorFillContent:e,colorFill:i}=n;return{color:e,colorGradientEnd:i}}),Kme=()=>({active:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},prefixCls:String,avatar:{type:[Boolean,Object],default:void 0},title:{type:[Boolean,Object],default:void 0},paragraph:{type:[Boolean,Object],default:void 0},round:{type:Boolean,default:void 0}});function eT(n){return n&&typeof n=="object"?n:{}}function Xme(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function qme(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function Yme(n,e){const i={};return(!n||!e)&&(i.width="61%"),!n&&e?i.rows=3:i.rows=2,i}const zo=We({compatConfig:{MODE:3},name:"ASkeleton",props:ui(Kme(),{avatar:!1,title:!0,paragraph:!0}),setup(n,e){let{slots:i}=e;const{prefixCls:r,direction:o}=en("skeleton",n),[s,a]=Uy(r);return()=>{var l;const{loading:u,avatar:c,title:d,paragraph:f,active:h,round:p}=n,v=r.value;if(u||n.loading===void 0){const b=!!c||c==="",y=!!d||d==="",m=!!f||f==="";let _;if(b){const T=O(O({prefixCls:`${v}-avatar`},Xme(y,m)),eT(c));_=I("div",{class:`${v}-header`},[I($y,T,null)])}let S;if(y||m){let T;if(y){const C=O(O({prefixCls:`${v}-title`},qme(b,m)),eT(d));T=I(RP,C,null)}let A;if(m){const C=O(O({prefixCls:`${v}-paragraph`},Yme(b,y)),eT(f));A=I(Ume,C,null)}S=I("div",{class:`${v}-content`},[T,A])}const w=Ye(v,{[`${v}-with-avatar`]:b,[`${v}-active`]:h,[`${v}-rtl`]:o.value==="rtl",[`${v}-round`]:p,[a.value]:!0});return s(I("div",{class:w},[_,S]))}return(l=i.default)===null||l===void 0?void 0:l.call(i)}}}),Qme=()=>O(O({},lw()),{size:String,block:Boolean}),_G=We({compatConfig:{MODE:3},name:"ASkeletonButton",props:ui(Qme(),{size:"default"}),setup(n){const{prefixCls:e}=en("skeleton",n),[i,r]=Uy(e),o=K(()=>Ye(e.value,`${e.value}-element`,{[`${e.value}-active`]:n.active,[`${e.value}-block`]:n.block},r.value));return()=>i(I("div",{class:o.value},[I($y,be(be({},n),{},{prefixCls:`${e.value}-button`}),null)]))}}),SG=We({compatConfig:{MODE:3},name:"ASkeletonInput",props:O(O({},wi(lw(),["shape"])),{size:String,block:Boolean}),setup(n){const{prefixCls:e}=en("skeleton",n),[i,r]=Uy(e),o=K(()=>Ye(e.value,`${e.value}-element`,{[`${e.value}-active`]:n.active,[`${e.value}-block`]:n.block},r.value));return()=>i(I("div",{class:o.value},[I($y,be(be({},n),{},{prefixCls:`${e.value}-input`}),null)]))}}),Zme="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",wG=We({compatConfig:{MODE:3},name:"ASkeletonImage",props:wi(lw(),["size","shape","active"]),setup(n){const{prefixCls:e}=en("skeleton",n),[i,r]=Uy(e),o=K(()=>Ye(e.value,`${e.value}-element`,r.value));return()=>i(I("div",{class:o.value},[I("div",{class:`${e.value}-image`},[I("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",class:`${e.value}-image-svg`},[I("path",{d:Zme,class:`${e.value}-image-path`},null)])])]))}}),Jme=()=>O(O({},lw()),{shape:String}),CG=We({compatConfig:{MODE:3},name:"ASkeletonAvatar",props:ui(Jme(),{size:"default",shape:"circle"}),setup(n){const{prefixCls:e}=en("skeleton",n),[i,r]=Uy(e),o=K(()=>Ye(e.value,`${e.value}-element`,{[`${e.value}-active`]:n.active},r.value));return()=>i(I("div",{class:o.value},[I($y,be(be({},n),{},{prefixCls:`${e.value}-avatar`}),null)]))}});zo.Button=_G;zo.Avatar=CG;zo.Input=SG;zo.Image=wG;zo.Title=RP;zo.install=function(n){return n.component(zo.name,zo),n.component(zo.Button.name,_G),n.component(zo.Avatar.name,CG),n.component(zo.Input.name,SG),n.component(zo.Image.name,wG),n.component(zo.Title.name,RP),n};const{TabPane:eve}=bf,tve=()=>({prefixCls:String,title:_e.any,extra:_e.any,bordered:{type:Boolean,default:!0},bodyStyle:{type:Object,default:void 0},headStyle:{type:Object,default:void 0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},type:{type:String},size:{type:String},actions:_e.any,tabList:{type:Array},tabBarExtraContent:_e.any,activeTabKey:String,defaultActiveTabKey:String,cover:_e.any,onTabChange:{type:Function}}),Ap=We({compatConfig:{MODE:3},name:"ACard",inheritAttrs:!1,props:tve(),slots:Object,setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o,direction:s,size:a}=en("card",n),[l,u]=Bme(o),c=h=>h.map((v,b)=>Sr(v)&&!yR(v)||!Sr(v)?I("li",{style:{width:`${100/h.length}%`},key:`action-${b}`},[I("span",null,[v])]):null),d=h=>{var p;(p=n.onTabChange)===null||p===void 0||p.call(n,h)},f=function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p;return h.forEach(v=>{v&&EH(v.type)&&v.type.__ANT_CARD_GRID&&(p=!0)}),p};return()=>{var h,p,v,b,y,m;const{headStyle:_={},bodyStyle:S={},loading:w,bordered:T=!0,type:A,tabList:C,hoverable:R,activeTabKey:E,defaultActiveTabKey:P,tabBarExtraContent:N=am((h=i.tabBarExtraContent)===null||h===void 0?void 0:h.call(i)),title:D=am((p=i.title)===null||p===void 0?void 0:p.call(i)),extra:$=am((v=i.extra)===null||v===void 0?void 0:v.call(i)),actions:L=am((b=i.actions)===null||b===void 0?void 0:b.call(i)),cover:F=am((y=i.cover)===null||y===void 0?void 0:y.call(i))}=n,U=tr((m=i.default)===null||m===void 0?void 0:m.call(i)),k=o.value,H={[`${k}`]:!0,[u.value]:!0,[`${k}-loading`]:w,[`${k}-bordered`]:T,[`${k}-hoverable`]:!!R,[`${k}-contain-grid`]:f(U),[`${k}-contain-tabs`]:C&&C.length,[`${k}-${a.value}`]:a.value,[`${k}-type-${A}`]:!!A,[`${k}-rtl`]:s.value==="rtl"},z=I(zo,{loading:!0,active:!0,paragraph:{rows:4},title:!1},{default:()=>[U]}),Q=E!==void 0,Z={size:"large",[Q?"activeKey":"defaultActiveKey"]:Q?E:P,onChange:d,class:`${k}-head-tabs`};let ie;const we=C&&C.length?I(bf,Z,{default:()=>[C.map(ne=>{const{tab:ue,slots:Y}=ne,le=Y==null?void 0:Y.tab;fi(!Y,"Card","tabList slots is deprecated, Please use `customTab` instead.");let he=ue!==void 0?ue:i[le]?i[le](ne):null;return he=KS(i,"customTab",ne,()=>[he]),I(eve,{tab:he,key:ne.key,disabled:ne.disabled},null)})],rightExtra:N?()=>N:null}):null;(D||$||we)&&(ie=I("div",{class:`${k}-head`,style:_},[I("div",{class:`${k}-head-wrapper`},[D&&I("div",{class:`${k}-head-title`},[D]),$&&I("div",{class:`${k}-extra`},[$])]),we]));const J=F?I("div",{class:`${k}-cover`},[F]):null,se=I("div",{class:`${k}-body`,style:S},[w?z:U]),ee=L&&L.length?I("ul",{class:`${k}-actions`},[c(L)]):null;return l(I("div",be(be({ref:"cardContainerRef"},r),{},{class:[H,r.class]}),[ie,J,U.length?se:null,ee]))}}}),nve=()=>({prefixCls:String,title:CC(),description:CC(),avatar:CC()}),aM=We({compatConfig:{MODE:3},name:"ACardMeta",props:nve(),slots:Object,setup(n,e){let{slots:i}=e;const{prefixCls:r}=en("card",n);return()=>{const o={[`${r.value}-meta`]:!0},s=na(i,n,"avatar"),a=na(i,n,"title"),l=na(i,n,"description"),u=s?I("div",{class:`${r.value}-meta-avatar`},[s]):null,c=a?I("div",{class:`${r.value}-meta-title`},[a]):null,d=l?I("div",{class:`${r.value}-meta-description`},[l]):null,f=c||d?I("div",{class:`${r.value}-meta-detail`},[c,d]):null;return I("div",{class:o},[u,f])}}}),ive=()=>({prefixCls:String,hoverable:{type:Boolean,default:!0}}),lM=We({compatConfig:{MODE:3},name:"ACardGrid",__ANT_CARD_GRID:!0,props:ive(),setup(n,e){let{slots:i}=e;const{prefixCls:r}=en("card",n),o=K(()=>({[`${r.value}-grid`]:!0,[`${r.value}-grid-hoverable`]:n.hoverable}));return()=>{var s;return I("div",{class:o.value},[(s=i.default)===null||s===void 0?void 0:s.call(i)])}}});Ap.Meta=aM;Ap.Grid=lM;Ap.install=function(n){return n.component(Ap.name,Ap),n.component(aM.name,aM),n.component(lM.name,lM),n};const TG=Symbol("TreeContextKey"),rve=We({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(n,e){let{slots:i}=e;return Wn(TG,K(()=>n.value)),()=>{var r;return(r=i.default)===null||r===void 0?void 0:r.call(i)}}}),PP=()=>Xt(TG,K(()=>({}))),AG=Symbol("KeysStateKey"),ove=n=>{Wn(AG,n)},EG=()=>Xt(AG,{expandedKeys:Ne([]),selectedKeys:Ne([]),loadedKeys:Ne([]),loadingKeys:Ne([]),checkedKeys:Ne([]),halfCheckedKeys:Ne([]),expandedKeysSet:K(()=>new Set),selectedKeysSet:K(()=>new Set),loadedKeysSet:K(()=>new Set),loadingKeysSet:K(()=>new Set),checkedKeysSet:K(()=>new Set),halfCheckedKeysSet:K(()=>new Set),flattenNodes:Ne([])}),sve=n=>{let{prefixCls:e,level:i,isStart:r,isEnd:o}=n;const s=`${e}-indent-unit`,a=[];for(let l=0;l<i;l+=1)a.push(I("span",{key:l,class:{[s]:!0,[`${s}-start`]:r[l],[`${s}-end`]:o[l]}},null));return I("span",{"aria-hidden":"true",class:`${e}-indent`},[a])},MG={eventKey:[String,Number],prefixCls:String,title:_e.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:_e.any,switcherIcon:_e.any,domRef:{type:Function}},ave={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},RG=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:_e.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:_e.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:_e.any,switcherIcon:_e.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var lve=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const xF="open",_F="close",uve="---",uM=We({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:MG,isTreeNode:1,setup(n,e){let{attrs:i,slots:r,expose:o}=e;"slots"in n.data,`${Object.keys(n.data.slots||{}).map(de=>"`v-slot:"+de+"` ")}`;const s=Ne(!1),a=PP(),{expandedKeysSet:l,selectedKeysSet:u,loadedKeysSet:c,loadingKeysSet:d,checkedKeysSet:f,halfCheckedKeysSet:h}=EG(),{dragOverNodeKey:p,dropPosition:v,keyEntities:b}=a.value,y=K(()=>Hx(n.eventKey,{expandedKeysSet:l.value,selectedKeysSet:u.value,loadedKeysSet:c.value,loadingKeysSet:d.value,checkedKeysSet:f.value,halfCheckedKeysSet:h.value,dragOverNodeKey:p,dropPosition:v,keyEntities:b})),m=Ca(()=>y.value.expanded),_=Ca(()=>y.value.selected),S=Ca(()=>y.value.checked),w=Ca(()=>y.value.loaded),T=Ca(()=>y.value.loading),A=Ca(()=>y.value.halfChecked),C=Ca(()=>y.value.dragOver),R=Ca(()=>y.value.dragOverGapTop),E=Ca(()=>y.value.dragOverGapBottom),P=Ca(()=>y.value.pos),N=Ne(),D=K(()=>{const{eventKey:de}=n,{keyEntities:re}=a.value,{children:ye}=re[de]||{};return!!(ye||[]).length}),$=K(()=>{const{isLeaf:de}=n,{loadData:re}=a.value,ye=D.value;return de===!1?!1:de||!re&&!ye||re&&w.value&&!ye}),L=K(()=>$.value?null:m.value?xF:_F),F=K(()=>{const{disabled:de}=n,{disabled:re}=a.value;return!!(re||de)}),U=K(()=>{const{checkable:de}=n,{checkable:re}=a.value;return!re||de===!1?!1:re}),k=K(()=>{const{selectable:de}=n,{selectable:re}=a.value;return typeof de=="boolean"?de:re}),H=K(()=>{const{data:de,active:re,checkable:ye,disableCheckbox:De,disabled:Ge,selectable:ft}=n;return O(O({active:re,checkable:ye,disableCheckbox:De,disabled:Ge,selectable:ft},de),{dataRef:de,data:de,isLeaf:$.value,checked:S.value,expanded:m.value,loading:T.value,selected:_.value,halfChecked:A.value})}),z=is(),Q=K(()=>{const{eventKey:de}=n,{keyEntities:re}=a.value,{parent:ye}=re[de]||{};return O(O({},Gx(O({},n,y.value))),{parent:ye})}),Z=Wi({eventData:Q,eventKey:K(()=>n.eventKey),selectHandle:N,pos:P,key:z.vnode.key});o(Z);const ie=de=>{const{onNodeDoubleClick:re}=a.value;re(de,Q.value)},we=de=>{if(F.value)return;const{onNodeSelect:re}=a.value;de.preventDefault(),re(de,Q.value)},J=de=>{if(F.value)return;const{disableCheckbox:re}=n,{onNodeCheck:ye}=a.value;if(!U.value||re)return;de.preventDefault();const De=!S.value;ye(de,Q.value,De)},se=de=>{const{onNodeClick:re}=a.value;re(de,Q.value),k.value?we(de):J(de)},ee=de=>{const{onNodeMouseEnter:re}=a.value;re(de,Q.value)},ne=de=>{const{onNodeMouseLeave:re}=a.value;re(de,Q.value)},ue=de=>{const{onNodeContextMenu:re}=a.value;re(de,Q.value)},Y=de=>{const{onNodeDragStart:re}=a.value;de.stopPropagation(),s.value=!0,re(de,Z);try{de.dataTransfer.setData("text/plain","")}catch{}},le=de=>{const{onNodeDragEnter:re}=a.value;de.preventDefault(),de.stopPropagation(),re(de,Z)},he=de=>{const{onNodeDragOver:re}=a.value;de.preventDefault(),de.stopPropagation(),re(de,Z)},W=de=>{const{onNodeDragLeave:re}=a.value;de.stopPropagation(),re(de,Z)},X=de=>{const{onNodeDragEnd:re}=a.value;de.stopPropagation(),s.value=!1,re(de,Z)},V=de=>{const{onNodeDrop:re}=a.value;de.preventDefault(),de.stopPropagation(),s.value=!1,re(de,Z)},Ce=de=>{const{onNodeExpand:re}=a.value;T.value||re(de,Q.value)},pe=()=>{const{data:de}=n,{draggable:re}=a.value;return!!(re&&(!re.nodeDraggable||re.nodeDraggable(de)))},Se=()=>{const{draggable:de,prefixCls:re}=a.value;return de&&(de!=null&&de.icon)?I("span",{class:`${re}-draggable-icon`},[de.icon]):null},fe=()=>{var de,re,ye;const{switcherIcon:De=r.switcherIcon||((de=a.value.slots)===null||de===void 0?void 0:de[(ye=(re=n.data)===null||re===void 0?void 0:re.slots)===null||ye===void 0?void 0:ye.switcherIcon])}=n,{switcherIcon:Ge}=a.value,ft=De||Ge;return typeof ft=="function"?ft(H.value):ft},ge=()=>{const{loadData:de,onNodeLoad:re}=a.value;T.value||de&&m.value&&!$.value&&!D.value&&!w.value&&re(Q.value)};Jt(()=>{ge()}),fa(()=>{ge()});const ve=()=>{const{prefixCls:de}=a.value,re=fe();if($.value)return re!==!1?I("span",{class:Ye(`${de}-switcher`,`${de}-switcher-noop`)},[re]):null;const ye=Ye(`${de}-switcher`,`${de}-switcher_${m.value?xF:_F}`);return re!==!1?I("span",{onClick:Ce,class:ye},[re]):null},j=()=>{var de,re;const{disableCheckbox:ye}=n,{prefixCls:De}=a.value,Ge=F.value;return U.value?I("span",{class:Ye(`${De}-checkbox`,S.value&&`${De}-checkbox-checked`,!S.value&&A.value&&`${De}-checkbox-indeterminate`,(Ge||ye)&&`${De}-checkbox-disabled`),onClick:J},[(re=(de=a.value).customCheckable)===null||re===void 0?void 0:re.call(de)]):null},G=()=>{const{prefixCls:de}=a.value;return I("span",{class:Ye(`${de}-iconEle`,`${de}-icon__${L.value||"docu"}`,T.value&&`${de}-icon_loading`)},null)},ce=()=>{const{disabled:de,eventKey:re}=n,{draggable:ye,dropLevelOffset:De,dropPosition:Ge,prefixCls:ft,indent:Te,dropIndicatorRender:Pe,dragOverNodeKey:Ue,direction:qe}=a.value;return!de&&ye!==!1&&Ue===re?Pe({dropPosition:Ge,dropLevelOffset:De,indent:Te,prefixCls:ft,direction:qe}):null},Ee=()=>{var de,re,ye,De,Ge,ft;const{icon:Te=r.icon,data:Pe}=n,Ue=r.title||((de=a.value.slots)===null||de===void 0?void 0:de[(ye=(re=n.data)===null||re===void 0?void 0:re.slots)===null||ye===void 0?void 0:ye.title])||((De=a.value.slots)===null||De===void 0?void 0:De.title)||n.title,{prefixCls:qe,showIcon:je,icon:lt,loadData:rt}=a.value,At=F.value,Ae=`${qe}-node-content-wrapper`;let nt;if(je){const gt=Te||((Ge=a.value.slots)===null||Ge===void 0?void 0:Ge[(ft=Pe==null?void 0:Pe.slots)===null||ft===void 0?void 0:ft.icon])||lt;nt=gt?I("span",{class:Ye(`${qe}-iconEle`,`${qe}-icon__customize`)},[typeof gt=="function"?gt(H.value):gt]):G()}else rt&&T.value&&(nt=G());let $e;typeof Ue=="function"?$e=Ue(H.value):$e=Ue,$e=$e===void 0?uve:$e;const Ve=I("span",{class:`${qe}-title`},[$e]);return I("span",{ref:N,title:typeof Ue=="string"?Ue:"",class:Ye(`${Ae}`,`${Ae}-${L.value||"normal"}`,!At&&(_.value||s.value)&&`${qe}-node-selected`),onMouseenter:ee,onMouseleave:ne,onContextmenu:ue,onClick:se,onDblclick:ie},[nt,Ve,ce()])};return()=>{const de=O(O({},n),i),{eventKey:re,isLeaf:ye,isStart:De,isEnd:Ge,domRef:ft,active:Te,data:Pe,onMousemove:Ue,selectable:qe}=de,je=lve(de,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:lt,filterTreeNode:rt,keyEntities:At,dropContainerKey:Ae,dropTargetKey:nt,draggingNodeKey:$e}=a.value,Ve=F.value,gt=Jf(je,{aria:!0,data:!0}),{level:yt}=At[re]||{},Ot=Ge[Ge.length-1],qt=pe(),$n=!Ve&&qt,tn=$e===re,Ci=qe!==void 0?{"aria-selected":!!qe}:void 0;return I("div",be(be({ref:ft,class:Ye(i.class,`${lt}-treenode`,{[`${lt}-treenode-disabled`]:Ve,[`${lt}-treenode-switcher-${m.value?"open":"close"}`]:!ye,[`${lt}-treenode-checkbox-checked`]:S.value,[`${lt}-treenode-checkbox-indeterminate`]:A.value,[`${lt}-treenode-selected`]:_.value,[`${lt}-treenode-loading`]:T.value,[`${lt}-treenode-active`]:Te,[`${lt}-treenode-leaf-last`]:Ot,[`${lt}-treenode-draggable`]:$n,dragging:tn,"drop-target":nt===re,"drop-container":Ae===re,"drag-over":!Ve&&C.value,"drag-over-gap-top":!Ve&&R.value,"drag-over-gap-bottom":!Ve&&E.value,"filter-node":rt&&rt(Q.value)}),style:i.style,draggable:$n,"aria-grabbed":tn,onDragstart:$n?Y:void 0,onDragenter:qt?le:void 0,onDragover:qt?he:void 0,onDragleave:qt?W:void 0,onDrop:qt?V:void 0,onDragend:qt?X:void 0,onMousemove:Ue},Ci),gt),[I(sve,{prefixCls:lt,level:yt,isStart:De,isEnd:Ge},null),Se(),ve(),j(),Ee()])}}});function Qa(n,e){if(!n)return[];const i=n.slice(),r=i.indexOf(e);return r>=0&&i.splice(r,1),i}function uu(n,e){const i=(n||[]).slice();return i.indexOf(e)===-1&&i.push(e),i}function IP(n){return n.split("-")}function PG(n,e){return`${n}-${e}`}function cve(n){return n&&n.type&&n.type.isTreeNode}function dve(n,e){const i=[],r=e[n];function o(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(a=>{let{key:l,children:u}=a;i.push(l),o(u)})}return o(r.children),i}function fve(n){if(n.parent){const e=IP(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function hve(n){const e=IP(n.pos);return Number(e[e.length-1])===0}function SF(n,e,i,r,o,s,a,l,u,c){var d;const{clientX:f,clientY:h}=n,{top:p,height:v}=n.target.getBoundingClientRect(),y=((c==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-f)-12)/r;let m=l[i.eventKey];if(h<p+v/2){const P=a.findIndex($=>$.key===m.key),N=P<=0?0:P-1,D=a[N].key;m=l[D]}const _=m.key,S=m,w=m.key;let T=0,A=0;if(!u.has(_))for(let P=0;P<y&&fve(m);P+=1)m=m.parent,A+=1;const C=e.eventData,R=m.node;let E=!0;return hve(m)&&m.level===0&&h<p+v/2&&s({dragNode:C,dropNode:R,dropPosition:-1})&&m.key===i.eventKey?T=-1:(S.children||[]).length&&u.has(w)?s({dragNode:C,dropNode:R,dropPosition:0})?T=0:E=!1:A===0?y>-1.5?s({dragNode:C,dropNode:R,dropPosition:1})?T=1:E=!1:s({dragNode:C,dropNode:R,dropPosition:0})?T=0:s({dragNode:C,dropNode:R,dropPosition:1})?T=1:E=!1:s({dragNode:C,dropNode:R,dropPosition:1})?T=1:E=!1,{dropPosition:T,dropLevelOffset:A,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:w,dropContainerKey:T===0?null:((d=m.parent)===null||d===void 0?void 0:d.key)||null,dropAllowed:E}}function wF(n,e){if(!n)return;const{multiple:i}=e;return i?n.slice():n.length?[n[0]]:n}function tT(n){if(!n)return null;let e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if(typeof n=="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return null;return e}function cM(n,e){const i=new Set;function r(o){if(i.has(o))return;const s=e[o];if(!s)return;i.add(o);const{parent:a,node:l}=s;l.disabled||a&&r(a.key)}return(n||[]).forEach(o=>{r(o)}),[...i]}var pve=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function ky(n,e){return n??e}function cw(n){const{title:e,_title:i,key:r,children:o}=n||{},s=e||"title";return{title:s,_title:i||[s],key:r||"key",children:o||"children"}}function dM(n){function e(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Po(i).map(o=>{var s,a,l,u;if(!cve(o))return null;const c=o.children||{},d=o.key,f={};for(const[P,N]of Object.entries(o.props))f[Ny(P)]=N;const{isLeaf:h,checkable:p,selectable:v,disabled:b,disableCheckbox:y}=f,m={isLeaf:h||h===""||void 0,checkable:p||p===""||void 0,selectable:v||v===""||void 0,disabled:b||b===""||void 0,disableCheckbox:y||y===""||void 0},_=O(O({},f),m),{title:S=(s=c.title)===null||s===void 0?void 0:s.call(c,_),icon:w=(a=c.icon)===null||a===void 0?void 0:a.call(c,_),switcherIcon:T=(l=c.switcherIcon)===null||l===void 0?void 0:l.call(c,_)}=f,A=pve(f,["title","icon","switcherIcon"]),C=(u=c.default)===null||u===void 0?void 0:u.call(c),R=O(O(O({},A),{title:S,icon:w,switcherIcon:T,key:d,isLeaf:h}),m),E=e(C);return E.length&&(R.children=E),R})}return e(n)}function gve(n,e,i){const{_title:r,key:o,children:s}=cw(i),a=new Set(e===!0?[]:e),l=[];function u(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return c.map((f,h)=>{const p=PG(d?d.pos:"0",h),v=ky(f[o],p);let b;for(let m=0;m<r.length;m+=1){const _=r[m];if(f[_]!==void 0){b=f[_];break}}const y=O(O({},wi(f,[...r,o,s])),{title:b,key:v,parent:d,pos:p,children:null,data:f,isStart:[...d?d.isStart:[],h===0],isEnd:[...d?d.isEnd:[],h===c.length-1]});return l.push(y),e===!0||a.has(v)?y.children=u(f[s]||[],y):y.children=[],y})}return u(n),l}function mve(n,e,i){let r={};typeof i=="object"?r=i:r={externalGetKey:i},r=r||{};const{childrenPropName:o,externalGetKey:s,fieldNames:a}=r,{key:l,children:u}=cw(a),c=o||u;let d;s?typeof s=="string"?d=h=>h[s]:typeof s=="function"&&(d=h=>s(h)):d=(h,p)=>ky(h[l],p);function f(h,p,v,b){const y=h?h[c]:n,m=h?PG(v.pos,p):"0",_=h?[...b,h]:[];if(h){const S=d(h,m),w={node:h,index:p,pos:m,key:S,parentPos:v.node?v.pos:null,level:v.level+1,nodes:_};e(w)}y&&y.forEach((S,w)=>{f(S,w,{node:h,pos:m,level:v?v.level+1:-1},_)})}f(null)}function NP(n){let{initWrapper:e,processEntity:i,onProcessFinished:r,externalGetKey:o,childrenPropName:s,fieldNames:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const u=o||l,c={},d={};let f={posEntities:c,keyEntities:d};return e&&(f=e(f)||f),mve(n,h=>{const{node:p,index:v,pos:b,key:y,parentPos:m,level:_,nodes:S}=h,w={node:p,nodes:S,index:v,key:y,pos:b,level:_},T=ky(y,b);c[b]=w,d[T]=w,w.parent=c[m],w.parent&&(w.parent.children=w.parent.children||[],w.parent.children.push(w)),i&&i(w,f)},{externalGetKey:u,childrenPropName:s,fieldNames:a}),r&&r(f),f}function Hx(n,e){let{expandedKeysSet:i,selectedKeysSet:r,loadedKeysSet:o,loadingKeysSet:s,checkedKeysSet:a,halfCheckedKeysSet:l,dragOverNodeKey:u,dropPosition:c,keyEntities:d}=e;const f=d[n];return{eventKey:n,expanded:i.has(n),selected:r.has(n),loaded:o.has(n),loading:s.has(n),checked:a.has(n),halfChecked:l.has(n),pos:String(f?f.pos:""),parent:f.parent,dragOver:u===n&&c===0,dragOverGapTop:u===n&&c===-1,dragOverGapBottom:u===n&&c===1}}function Gx(n){const{data:e,expanded:i,selected:r,checked:o,loaded:s,loading:a,halfChecked:l,dragOver:u,dragOverGapTop:c,dragOverGapBottom:d,pos:f,active:h,eventKey:p}=n,v=O(O({dataRef:e},e),{expanded:i,selected:r,checked:o,loaded:s,loading:a,halfChecked:l,dragOver:u,dragOverGapTop:c,dragOverGapBottom:d,pos:f,active:h,eventKey:p,key:p});return"props"in v||Object.defineProperty(v,"props",{get(){return n}}),v}function IG(n,e){const i=new Set;return n.forEach(r=>{e.has(r)||i.add(r)}),i}function vve(n){const{disabled:e,disableCheckbox:i,checkable:r}=n||{};return!!(e||i)||r===!1}function yve(n,e,i,r){const o=new Set(n),s=new Set;for(let l=0;l<=i;l+=1)(e.get(l)||new Set).forEach(c=>{const{key:d,node:f,children:h=[]}=c;o.has(d)&&!r(f)&&h.filter(p=>!r(p.node)).forEach(p=>{o.add(p.key)})});const a=new Set;for(let l=i;l>=0;l-=1)(e.get(l)||new Set).forEach(c=>{const{parent:d,node:f}=c;if(r(f)||!c.parent||a.has(c.parent.key))return;if(r(c.parent.node)){a.add(d.key);return}let h=!0,p=!1;(d.children||[]).filter(v=>!r(v.node)).forEach(v=>{let{key:b}=v;const y=o.has(b);h&&!y&&(h=!1),!p&&(y||s.has(b))&&(p=!0)}),h&&o.add(d.key),p&&s.add(d.key),a.add(d.key)});return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(IG(s,o))}}function bve(n,e,i,r,o){const s=new Set(n);let a=new Set(e);for(let u=0;u<=r;u+=1)(i.get(u)||new Set).forEach(d=>{const{key:f,node:h,children:p=[]}=d;!s.has(f)&&!a.has(f)&&!o(h)&&p.filter(v=>!o(v.node)).forEach(v=>{s.delete(v.key)})});a=new Set;const l=new Set;for(let u=r;u>=0;u-=1)(i.get(u)||new Set).forEach(d=>{const{parent:f,node:h}=d;if(o(h)||!d.parent||l.has(d.parent.key))return;if(o(d.parent.node)){l.add(f.key);return}let p=!0,v=!1;(f.children||[]).filter(b=>!o(b.node)).forEach(b=>{let{key:y}=b;const m=s.has(y);p&&!m&&(p=!1),!v&&(m||a.has(y))&&(v=!0)}),p||s.delete(f.key),v&&a.add(f.key),l.add(f.key)});return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(IG(a,s))}}function Ep(n,e,i,r,o,s){let a;s?a=s:a=vve;const l=new Set(n.filter(c=>!!i[c]));let u;return e===!0?u=yve(l,o,r,a):u=bve(l,e.halfCheckedKeys,o,r,a),u}function NG(n){const e=He(0),i=Ne();return an(()=>{const r=new Map;let o=0;const s=n.value||{};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=s[a],{level:u}=l;let c=r.get(u);c||(c=new Set,r.set(u,c)),c.add(l),o=Math.max(o,u)}e.value=o,i.value=r}),{maxLevel:e,levelEntities:i}}var xve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};function CF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){_ve(n,o,i[o])})}return n}function _ve(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var H_=function(e,i){var r=CF({},e,i.attrs);return I(xn,CF({},r,{icon:xve}),null)};H_.displayName="LeftOutlined";H_.inheritAttrs=!1;const OG=n=>{if(aa()&&window.document.documentElement){const e=Array.isArray(n)?n:[n],{documentElement:i}=window.document;return e.some(r=>r in i.style)}return!1},Sve=(n,e)=>{if(!OG(n))return!1;const i=document.createElement("div"),r=i.style[n];return i.style[n]=e,i.style[n]!==r};function wve(n,e){return!Array.isArray(n)&&e!==void 0?Sve(n,e):OG(n)}const Cve=new On("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),Tve=n=>{const{checkboxCls:e}=n,i=`${e}-wrapper`;return[{[`${e}-group`]:O(O({},li(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[i]:O(O({},li(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${i}`]:{marginInlineStart:0},[`&${i}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:O(O({},li(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:O({},$u(n))},[`${e}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:n.checkboxSize/14*5,height:n.checkboxSize/14*8,border:`${n.lineWidthBold}px solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[e]:{"&-indeterminate":{[`${e}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:n.fontSizeLG/2,height:n.fontSizeLG/2,backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${i}:hover ${e}:after`]:{visibility:"visible"},[`
        ${i}:not(${i}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:n.colorPrimary}},[`${i}:not(${i}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:n.borderRadiusSM,visibility:"hidden",border:`${n.lineWidthBold}px solid ${n.colorPrimary}`,animationName:Cve,animationDuration:n.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${n.motionDurationSlow}`}},[`
        ${i}-checked:not(${i}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}:after`]:{borderColor:n.colorPrimaryHover}}},{[`${i}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:n.colorTextDisabled}}}]};function DG(n,e){const i=Nn(e,{checkboxCls:`.${n}`,checkboxSize:e.controlInteractiveSize});return[Tve(i)]}const LG=Di("Checkbox",(n,e)=>{let{prefixCls:i}=e;return[DG(i,n)]}),Ave=()=>({name:String,prefixCls:String,options:Ri([]),disabled:Boolean,id:String}),Eve=()=>O(O({},Ave()),{defaultValue:Ri(),value:Ri(),onChange:pt(),"onUpdate:value":pt()}),Mve=()=>({prefixCls:String,defaultChecked:Pt(),checked:Pt(),disabled:Pt(),isGroup:Pt(),value:_e.any,name:String,id:String,indeterminate:Pt(),type:In("checkbox"),autofocus:Pt(),onChange:pt(),"onUpdate:checked":pt(),onClick:pt(),skipGroup:Pt(!1)}),Rve=()=>O(O({},Mve()),{indeterminate:Pt(!1)}),BG=Symbol("CheckboxGroupContext");var TF=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const hl=We({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:Rve(),setup(n,e){let{emit:i,attrs:r,slots:o,expose:s}=e;const a=Qu(),l=ku.useInject(),{prefixCls:u,direction:c,disabled:d}=en("checkbox",n),f=vl(),[h,p]=LG(u),v=Xt(BG,void 0),b=Symbol("checkboxUniId"),y=K(()=>(v==null?void 0:v.disabled.value)||d.value);an(()=>{!n.skipGroup&&v&&v.registerValue(b,n.value)}),Rn(()=>{v&&v.cancelValue(b)}),Jt(()=>{HS(!!(n.checked!==void 0||v||n.value===void 0))});const m=T=>{const A=T.target.checked;i("update:checked",A),i("change",T),a.onFieldChange()},_=He();return s({focus:()=>{var T;(T=_.value)===null||T===void 0||T.focus()},blur:()=>{var T;(T=_.value)===null||T===void 0||T.blur()}}),()=>{var T;const A=tr((T=o.default)===null||T===void 0?void 0:T.call(o)),{indeterminate:C,skipGroup:R,id:E=a.id.value}=n,P=TF(n,["indeterminate","skipGroup","id"]),{onMouseenter:N,onMouseleave:D,onInput:$,class:L,style:F}=r,U=TF(r,["onMouseenter","onMouseleave","onInput","class","style"]),k=O(O(O(O({},P),{id:E,prefixCls:u.value}),U),{disabled:y.value});v&&!R?(k.onChange=function(){for(var Z=arguments.length,ie=new Array(Z),we=0;we<Z;we++)ie[we]=arguments[we];i("change",...ie),v.toggleOption({label:A,value:n.value})},k.name=v.name.value,k.checked=v.mergedValue.value.includes(n.value),k.disabled=y.value||f.value,k.indeterminate=C):k.onChange=m;const H=Ye({[`${u.value}-wrapper`]:!0,[`${u.value}-rtl`]:c.value==="rtl",[`${u.value}-wrapper-checked`]:k.checked,[`${u.value}-wrapper-disabled`]:k.disabled,[`${u.value}-wrapper-in-form-item`]:l.isFormItemInput},L,p.value),z=Ye({[`${u.value}-indeterminate`]:C},p.value);return h(I("label",{class:H,style:F,onMouseenter:N,onMouseleave:D},[I(sG,be(be({"aria-checked":C?"mixed":void 0},k),{},{class:z,ref:_}),null),A.length?I("span",null,[A]):null]))}}}),fM=We({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:Eve(),setup(n,e){let{slots:i,attrs:r,emit:o,expose:s}=e;const a=Qu(),{prefixCls:l,direction:u}=en("checkbox",n),c=K(()=>`${l.value}-group`),[d,f]=LG(c),h=He((n.value===void 0?n.defaultValue:n.value)||[]);ut(()=>n.value,()=>{h.value=n.value||[]});const p=K(()=>n.options.map(w=>typeof w=="string"||typeof w=="number"?{label:w,value:w}:w)),v=He(Symbol()),b=He(new Map),y=w=>{b.value.delete(w),v.value=Symbol()},m=(w,T)=>{b.value.set(w,T),v.value=Symbol()},_=He(new Map);return ut(v,()=>{const w=new Map;for(const T of b.value.values())w.set(T,!0);_.value=w}),Wn(BG,{cancelValue:y,registerValue:m,toggleOption:w=>{const T=h.value.indexOf(w.value),A=[...h.value];T===-1?A.push(w.value):A.splice(T,1),n.value===void 0&&(h.value=A);const C=A.filter(R=>_.value.has(R)).sort((R,E)=>{const P=p.value.findIndex(D=>D.value===R),N=p.value.findIndex(D=>D.value===E);return P-N});o("update:value",C),o("change",C),a.onFieldChange()},mergedValue:h,name:K(()=>n.name),disabled:K(()=>n.disabled)}),s({mergedValue:h}),()=>{var w;const{id:T=a.id.value}=n;let A=null;return p.value&&p.value.length>0&&(A=p.value.map(C=>{var R;return I(hl,{prefixCls:l.value,key:C.value.toString(),disabled:"disabled"in C?C.disabled:n.disabled,indeterminate:C.indeterminate,value:C.value,checked:h.value.indexOf(C.value)!==-1,onChange:C.onChange,class:`${c.value}-item`},{default:()=>[i.label!==void 0?(R=i.label)===null||R===void 0?void 0:R.call(i,C):C.label]})})),d(I("div",be(be({},r),{},{class:[c.value,{[`${c.value}-rtl`]:u.value==="rtl"},r.class,f.value],id:T}),[A||((w=i.default)===null||w===void 0?void 0:w.call(i))]))}}});hl.Group=fM;hl.install=function(n){return n.component(hl.name,hl),n.component(fM.name,fM),n};const fb=(n,e,i)=>{const r=Qne(i);return{[`${n.componentCls}-${e}`]:{color:n[`color${i}`],background:n[`color${r}Bg`],borderColor:n[`color${r}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}},Pve=n=>f8(n,(e,i)=>{let{textColor:r,lightBorderColor:o,lightColor:s,darkColor:a}=i;return{[`${n.componentCls}-${e}`]:{color:r,background:s,borderColor:o,"&-inverse":{color:n.colorTextLightSolid,background:a,borderColor:a},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Ive=n=>{const{paddingXXS:e,lineWidth:i,tagPaddingHorizontal:r,componentCls:o}=n,s=r-i,a=e-i;return{[o]:O(O({},li(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:s,fontSize:n.tagFontSize,lineHeight:`${n.tagLineHeight}px`,whiteSpace:"nowrap",background:n.tagDefaultBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.tagDefaultColor},[`${o}-close-icon`]:{marginInlineStart:a,color:n.colorTextDescription,fontSize:n.tagIconSize,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:s}}),[`${o}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}},FG=Di("Tag",n=>{const{fontSize:e,lineHeight:i,lineWidth:r,fontSizeIcon:o}=n,s=Math.round(e*i),a=n.fontSizeSM,l=s-r*2,u=n.colorFillAlter,c=n.colorText,d=Nn(n,{tagFontSize:a,tagLineHeight:l,tagDefaultBg:u,tagDefaultColor:c,tagIconSize:o-2*r,tagPaddingHorizontal:8,tagBorderlessBg:n.colorFillTertiary});return[Ive(d),Pve(d),fb(d,"success","Success"),fb(d,"processing","Info"),fb(d,"error","Error"),fb(d,"warning","Warning")]}),Nve=()=>({prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}),hM=We({compatConfig:{MODE:3},name:"ACheckableTag",inheritAttrs:!1,props:Nve(),setup(n,e){let{slots:i,emit:r,attrs:o}=e;const{prefixCls:s}=en("tag",n),[a,l]=FG(s),u=d=>{const{checked:f}=n;r("update:checked",!f),r("change",!f),r("click",d)},c=K(()=>Ye(s.value,l.value,{[`${s.value}-checkable`]:!0,[`${s.value}-checkable-checked`]:n.checked}));return()=>{var d;return a(I("span",be(be({},o),{},{class:[c.value,o.class],onClick:u}),[(d=i.default)===null||d===void 0?void 0:d.call(i)]))}}}),Ove=()=>({prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:_e.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},onClick:zp(),"onUpdate:visible":Function,icon:_e.any,bordered:{type:Boolean,default:!0}}),pv=We({compatConfig:{MODE:3},name:"ATag",inheritAttrs:!1,props:Ove(),slots:Object,setup(n,e){let{slots:i,emit:r,attrs:o}=e;const{prefixCls:s,direction:a}=en("tag",n),[l,u]=FG(s),c=Ne(!0);an(()=>{n.visible!==void 0&&(c.value=n.visible)});const d=v=>{v.stopPropagation(),r("update:visible",!1),r("close",v),!v.defaultPrevented&&n.visible===void 0&&(c.value=!1)},f=K(()=>FH(n.color)||xpe(n.color)),h=K(()=>Ye(s.value,u.value,{[`${s.value}-${n.color}`]:f.value,[`${s.value}-has-color`]:n.color&&!f.value,[`${s.value}-hidden`]:!c.value,[`${s.value}-rtl`]:a.value==="rtl",[`${s.value}-borderless`]:!n.bordered})),p=v=>{r("click",v)};return()=>{var v,b,y;const{icon:m=(v=i.icon)===null||v===void 0?void 0:v.call(i),color:_,closeIcon:S=(b=i.closeIcon)===null||b===void 0?void 0:b.call(i),closable:w=!1}=n,T=()=>w?S?I("span",{class:`${s.value}-close-icon`,onClick:d},[S]):I(fd,{class:`${s.value}-close-icon`,onClick:d},null):null,A={backgroundColor:_&&!f.value?_:void 0},C=m||null,R=(y=i.default)===null||y===void 0?void 0:y.call(i),E=C?I(mn,null,[C,I("span",null,[R])]):R,P=n.onClick!==void 0,N=I("span",be(be({},o),{},{onClick:p,class:[h.value,o.class],style:[A,o.style]}),[E,T()]);return l(P?I(mP,null,{default:()=>[N]}):N)}}});pv.CheckableTag=hM;pv.install=function(n){return n.component(pv.name,pv),n.component(hM.name,hM),n};Xc.Button=F_;Xc.install=function(n){return n.component(Xc.name,Xc),n.component(F_.name,F_),n};const $G=()=>({prefixCls:String,width:_e.oneOfType([_e.string,_e.number]),height:_e.oneOfType([_e.string,_e.number]),style:{type:Object,default:void 0},class:String,rootClassName:String,rootStyle:vn(),placement:{type:String},wrapperClassName:String,level:{type:[String,Array]},levelMove:{type:[Number,Function,Array]},duration:String,ease:String,showMask:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},maskStyle:{type:Object,default:void 0},afterVisibleChange:Function,keyboard:{type:Boolean,default:void 0},contentWrapperStyle:Ri(),autofocus:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},motion:pt(),maskMotion:vn()}),Dve=()=>O(O({},$G()),{forceRender:{type:Boolean,default:void 0},getContainer:_e.oneOfType([_e.string,_e.func,_e.object,_e.looseBool])}),Lve=()=>O(O({},$G()),{getContainer:Function,getOpenCount:Function,scrollLocker:_e.any,inline:Boolean});function Bve(n){return Array.isArray(n)?n:[n]}const Fve={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"};Object.keys(Fve).filter(n=>{if(typeof document>"u")return!1;const e=document.getElementsByTagName("html")[0];return n in(e?e.style:{})})[0];const $ve=!(typeof window<"u"&&window.document&&window.document.createElement);var Uve=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const AF=We({compatConfig:{MODE:3},inheritAttrs:!1,props:Lve(),emits:["close","handleClick","change"],setup(n,e){let{emit:i,slots:r}=e;const o=Ne(),s=Ne(),a=Ne(),l=Ne(),u=Ne();let c=[];`${Number((Date.now()+Math.random()).toString().replace(".",Math.round(Math.random()*9).toString())).toString(16)}`,Jt(()=>{Un(()=>{var m;const{open:_,getContainer:S,showMask:w,autofocus:T}=n,A=S==null?void 0:S();v(n),_&&(A&&(A.parentNode,document.body),Un(()=>{T&&d()}),w&&((m=n.scrollLocker)===null||m===void 0||m.lock()))})}),ut(()=>n.level,()=>{v(n)},{flush:"post"}),ut(()=>n.open,()=>{const{open:m,getContainer:_,scrollLocker:S,showMask:w,autofocus:T}=n,A=_==null?void 0:_();A&&(A.parentNode,document.body),m?(T&&d(),w&&(S==null||S.lock())):S==null||S.unLock()},{flush:"post"}),Ha(()=>{var m;const{open:_}=n;_&&(document.body.style.touchAction=""),(m=n.scrollLocker)===null||m===void 0||m.unLock()}),ut(()=>n.placement,m=>{m&&(u.value=null)});const d=()=>{var m,_;(_=(m=s.value)===null||m===void 0?void 0:m.focus)===null||_===void 0||_.call(m)},f=m=>{i("close",m)},h=m=>{m.keyCode===st.ESC&&(m.stopPropagation(),f(m))},p=()=>{const{open:m,afterVisibleChange:_}=n;_&&_(!!m)},v=m=>{let{level:_,getContainer:S}=m;if($ve)return;const w=S==null?void 0:S(),T=w?w.parentNode:null;c=[],_==="all"?(T?Array.prototype.slice.call(T.children):[]).forEach(C=>{C.nodeName!=="SCRIPT"&&C.nodeName!=="STYLE"&&C.nodeName!=="LINK"&&C!==w&&c.push(C)}):_&&Bve(_).forEach(A=>{document.querySelectorAll(A).forEach(C=>{c.push(C)})})},b=m=>{i("handleClick",m)},y=Ne(!1);return ut(s,()=>{Un(()=>{y.value=!0})}),()=>{var m,_;const{width:S,height:w,open:T,prefixCls:A,placement:C,level:R,levelMove:E,ease:P,duration:N,getContainer:D,onChange:$,afterVisibleChange:L,showMask:F,maskClosable:U,maskStyle:k,keyboard:H,getOpenCount:z,scrollLocker:Q,contentWrapperStyle:Z,style:ie,class:we,rootClassName:J,rootStyle:se,maskMotion:ee,motion:ne,inline:ue}=n,Y=Uve(n,["width","height","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","keyboard","getOpenCount","scrollLocker","contentWrapperStyle","style","class","rootClassName","rootStyle","maskMotion","motion","inline"]),le=T&&y.value,he=Ye(A,{[`${A}-${C}`]:!0,[`${A}-open`]:le,[`${A}-inline`]:ue,"no-mask":!F,[J]:!0}),W=typeof ne=="function"?ne(C):ne;return I("div",be(be({},wi(Y,["autofocus"])),{},{tabindex:-1,class:he,style:se,ref:s,onKeydown:le&&H?h:void 0}),[I($a,ee,{default:()=>[F&&So(I("div",{class:`${A}-mask`,onClick:U?f:void 0,style:k,ref:a},null),[[Vo,le]])]}),I($a,be(be({},W),{},{onAfterEnter:p,onAfterLeave:p}),{default:()=>[So(I("div",{class:`${A}-content-wrapper`,style:[Z],ref:o},[I("div",{class:[`${A}-content`,we],style:ie,ref:u},[(m=r.default)===null||m===void 0?void 0:m.call(r)]),r.handler?I("div",{onClick:b,ref:l},[(_=r.handler)===null||_===void 0?void 0:_.call(r)]):null]),[[Vo,le]])]})])}}});var EF=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const kve=We({compatConfig:{MODE:3},inheritAttrs:!1,props:ui(Dve(),{prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",afterVisibleChange:()=>{},showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",keyboard:!0,forceRender:!1,autofocus:!0}),emits:["handleClick","close"],setup(n,e){let{emit:i,slots:r}=e;const o=He(null),s=l=>{i("handleClick",l)},a=l=>{i("close",l)};return()=>{const{getContainer:l,wrapperClassName:u,rootClassName:c,rootStyle:d,forceRender:f}=n,h=EF(n,["getContainer","wrapperClassName","rootClassName","rootStyle","forceRender"]);let p=null;if(!l)return I(AF,be(be({},h),{},{rootClassName:c,rootStyle:d,open:n.open,onClose:a,onHandleClick:s,inline:!0}),r);const v=!!r.handler||f;return(v||n.open||o.value)&&(p=I(Z8,{autoLock:!0,visible:n.open,forceRender:v,getContainer:l,wrapperClassName:u},{default:b=>{var{visible:y,afterClose:m}=b,_=EF(b,["visible","afterClose"]);return I(AF,be(be(be({ref:o},h),_),{},{rootClassName:c,rootStyle:d,open:y!==void 0?y:n.open,afterVisibleChange:m!==void 0?m:n.afterVisibleChange,onClose:a,onHandleClick:s}),r)}})),p}}}),zve=n=>{const{componentCls:e,motionDurationSlow:i}=n,r={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${i}`}}};return{[e]:{[`${e}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${i}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${e}-panel-motion`]:{"&-left":[r,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[r,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[r,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[r,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}},Hve=n=>{const{componentCls:e,zIndexPopup:i,colorBgMask:r,colorBgElevated:o,motionDurationSlow:s,motionDurationMid:a,padding:l,paddingLG:u,fontSizeLG:c,lineHeightLG:d,lineWidth:f,lineType:h,colorSplit:p,marginSM:v,colorIcon:b,colorIconHover:y,colorText:m,fontWeightStrong:_,drawerFooterPaddingVertical:S,drawerFooterPaddingHorizontal:w}=n,T=`${e}-content-wrapper`;return{[e]:{position:"fixed",inset:0,zIndex:i,pointerEvents:"none","&-pure":{position:"relative",background:o,[`&${e}-left`]:{boxShadow:n.boxShadowDrawerLeft},[`&${e}-right`]:{boxShadow:n.boxShadowDrawerRight},[`&${e}-top`]:{boxShadow:n.boxShadowDrawerUp},[`&${e}-bottom`]:{boxShadow:n.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${e}-mask`]:{position:"absolute",inset:0,zIndex:i,background:r,pointerEvents:"auto"},[T]:{position:"absolute",zIndex:i,transition:`all ${s}`,"&-hidden":{display:"none"}},[`&-left > ${T}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:n.boxShadowDrawerLeft},[`&-right > ${T}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:n.boxShadowDrawerRight},[`&-top > ${T}`]:{top:0,insetInline:0,boxShadow:n.boxShadowDrawerUp},[`&-bottom > ${T}`]:{bottom:0,insetInline:0,boxShadow:n.boxShadowDrawerDown},[`${e}-content`]:{width:"100%",height:"100%",overflow:"auto",background:o,pointerEvents:"auto"},[`${e}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${e}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${l}px ${u}px`,fontSize:c,lineHeight:d,borderBottom:`${f}px ${h} ${p}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${e}-extra`]:{flex:"none"},[`${e}-close`]:{display:"inline-block",marginInlineEnd:v,color:b,fontWeight:_,fontSize:c,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${a}`,textRendering:"auto","&:focus, &:hover":{color:y,textDecoration:"none"}},[`${e}-title`]:{flex:1,margin:0,color:m,fontWeight:n.fontWeightStrong,fontSize:c,lineHeight:d},[`${e}-body`]:{flex:1,minWidth:0,minHeight:0,padding:u,overflow:"auto"},[`${e}-footer`]:{flexShrink:0,padding:`${S}px ${w}px`,borderTop:`${f}px ${h} ${p}`},"&-rtl":{direction:"rtl"}}}},Gve=Di("Drawer",n=>{const e=Nn(n,{drawerFooterPaddingVertical:n.paddingXS,drawerFooterPaddingHorizontal:n.padding});return[Hve(e),zve(e)]},n=>({zIndexPopup:n.zIndexPopupBase}));var Vve=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Wve=["top","right","bottom","left"],MF={distance:180},jve=()=>({autofocus:{type:Boolean,default:void 0},closable:{type:Boolean,default:void 0},closeIcon:_e.any,destroyOnClose:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},getContainer:{type:[String,Function,Boolean,Object],default:void 0},maskClosable:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},maskStyle:vn(),rootClassName:String,rootStyle:vn(),size:{type:String},drawerStyle:vn(),headerStyle:vn(),bodyStyle:vn(),contentWrapperStyle:{type:Object,default:void 0},title:_e.any,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},width:_e.oneOfType([_e.string,_e.number]),height:_e.oneOfType([_e.string,_e.number]),zIndex:Number,prefixCls:String,push:_e.oneOfType([_e.looseBool,{type:Object}]),placement:_e.oneOf(Wve),keyboard:{type:Boolean,default:void 0},extra:_e.any,footer:_e.any,footerStyle:vn(),level:_e.any,levelMove:{type:[Number,Array,Function]},handle:_e.any,afterVisibleChange:Function,onAfterVisibleChange:Function,onAfterOpenChange:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onClose:Function}),Kve=We({compatConfig:{MODE:3},name:"ADrawer",inheritAttrs:!1,props:ui(jve(),{closable:!0,placement:"right",maskClosable:!0,mask:!0,level:null,keyboard:!0,push:MF}),slots:Object,setup(n,e){let{emit:i,slots:r,attrs:o}=e;const s=Ne(!1),a=Ne(!1),l=Ne(null),u=Ne(!1),c=Ne(!1),d=K(()=>{var z;return(z=n.open)!==null&&z!==void 0?z:n.visible});ut(d,()=>{d.value?u.value=!0:c.value=!1},{immediate:!0}),ut([d,u],()=>{d.value&&u.value&&(c.value=!0)},{immediate:!0});const f=Xt("parentDrawerOpts",null),{prefixCls:h,getPopupContainer:p,direction:v}=en("drawer",n),[b,y]=Gve(h),m=K(()=>n.getContainer===void 0&&(p!=null&&p.value)?()=>p.value(document.body):n.getContainer);fi(!n.afterVisibleChange,"Drawer","`afterVisibleChange` prop is deprecated, please use `@afterVisibleChange` event instead"),Wn("parentDrawerOpts",{setPush:()=>{s.value=!0},setPull:()=>{s.value=!1,Un(()=>{w()})}}),Jt(()=>{d.value&&f&&f.setPush()}),Ha(()=>{f&&f.setPull()}),ut(c,()=>{f&&(c.value?f.setPush():f.setPull())},{flush:"post"});const w=()=>{var z,Q;(Q=(z=l.value)===null||z===void 0?void 0:z.domFocus)===null||Q===void 0||Q.call(z)},T=z=>{i("update:visible",!1),i("update:open",!1),i("close",z)},A=z=>{var Q;z||(a.value===!1&&(a.value=!0),n.destroyOnClose&&(u.value=!1)),(Q=n.afterVisibleChange)===null||Q===void 0||Q.call(n,z),i("afterVisibleChange",z),i("afterOpenChange",z)},C=K(()=>{const{push:z,placement:Q}=n;let Z;return typeof z=="boolean"?Z=z?MF.distance:0:Z=z.distance,Z=parseFloat(String(Z||0)),Q==="left"||Q==="right"?`translateX(${Q==="left"?Z:-Z}px)`:Q==="top"||Q==="bottom"?`translateY(${Q==="top"?Z:-Z}px)`:null}),R=K(()=>{var z;return(z=n.width)!==null&&z!==void 0?z:n.size==="large"?736:378}),E=K(()=>{var z;return(z=n.height)!==null&&z!==void 0?z:n.size==="large"?736:378}),P=K(()=>{const{mask:z,placement:Q}=n;if(!c.value&&!z)return{};const Z={};return Q==="left"||Q==="right"?Z.width=KB(R.value)?`${R.value}px`:R.value:Z.height=KB(E.value)?`${E.value}px`:E.value,Z}),N=K(()=>{const{zIndex:z,contentWrapperStyle:Q}=n,Z=P.value;return[{zIndex:z,transform:s.value?C.value:void 0},O({},Q),Z]}),D=z=>{const{closable:Q,headerStyle:Z}=n,ie=na(r,n,"extra"),we=na(r,n,"title");return!we&&!Q?null:I("div",{class:Ye(`${z}-header`,{[`${z}-header-close-only`]:Q&&!we&&!ie}),style:Z},[I("div",{class:`${z}-header-title`},[$(z),we&&I("div",{class:`${z}-title`},[we])]),ie&&I("div",{class:`${z}-extra`},[ie])])},$=z=>{var Q;const{closable:Z}=n,ie=r.closeIcon?(Q=r.closeIcon)===null||Q===void 0?void 0:Q.call(r):n.closeIcon;return Z&&I("button",{key:"closer",onClick:T,"aria-label":"Close",class:`${z}-close`},[ie===void 0?I(fd,null,null):ie])},L=z=>{var Q;if(a.value&&!n.forceRender&&!u.value)return null;const{bodyStyle:Z,drawerStyle:ie}=n;return I("div",{class:`${z}-wrapper-body`,style:ie},[D(z),I("div",{key:"body",class:`${z}-body`,style:Z},[(Q=r.default)===null||Q===void 0?void 0:Q.call(r)]),F(z)])},F=z=>{const Q=na(r,n,"footer");if(!Q)return null;const Z=`${z}-footer`;return I("div",{class:Z,style:n.footerStyle},[Q])},U=K(()=>Ye({"no-mask":!n.mask,[`${h.value}-rtl`]:v.value==="rtl"},n.rootClassName,y.value)),k=K(()=>Kp(I_(h.value,"mask-motion"))),H=z=>Kp(I_(h.value,`panel-motion-${z}`));return()=>{const{width:z,height:Q,placement:Z,mask:ie,forceRender:we}=n,J=Vve(n,["width","height","placement","mask","forceRender"]),se=O(O(O({},o),wi(J,["size","closeIcon","closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","onAfterVisibleChange","onClose","onUpdate:visible","onUpdate:open","visible"])),{forceRender:we,onClose:T,afterVisibleChange:A,handler:!1,prefixCls:h.value,open:c.value,showMask:ie,placement:Z,ref:l});return b(I(JE,null,{default:()=>[I(kve,be(be({},se),{},{maskMotion:k.value,motion:H,width:R.value,height:E.value,getContainer:m.value,rootClassName:U.value,rootStyle:n.rootStyle,contentWrapperStyle:N.value}),{handler:n.handle?()=>n.handle:r.handle,default:()=>L(h.value)})]}))}}}),Xve=cd(Kve),gv=n=>n!=null&&(Array.isArray(n)?Po(n).length:!0);function OP(n){return gv(n.prefix)||gv(n.suffix)||gv(n.allowClear)}function Vx(n){return gv(n.addonBefore)||gv(n.addonAfter)}function pM(n){return typeof n>"u"||n===null?"":String(n)}function mv(n,e,i,r){if(!i)return;const o=e;if(e.type==="click"){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0});const s=n.cloneNode(!0);o.target=s,o.currentTarget=s,s.value="",i(o);return}if(r!==void 0){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0}),o.target=n,o.currentTarget=n,n.value=r,i(o);return}i(o)}function UG(n,e){if(!n)return;n.focus(e);const{cursor:i}=e||{};if(i){const r=n.value.length;switch(i){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(r,r);break;default:n.setSelectionRange(0,r)}}}const qve=()=>({addonBefore:_e.any,addonAfter:_e.any,prefix:_e.any,suffix:_e.any,clearIcon:_e.any,affixWrapperClassName:String,groupClassName:String,wrapperClassName:String,inputClassName:String,allowClear:{type:Boolean,default:void 0}}),kG=()=>O(O({},qve()),{value:{type:[String,Number,Symbol],default:void 0},defaultValue:{type:[String,Number,Symbol],default:void 0},inputElement:_e.any,prefixCls:String,disabled:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},triggerFocus:Function,readonly:{type:Boolean,default:void 0},handleReset:Function,hidden:{type:Boolean,default:void 0}}),zG=()=>O(O({},kG()),{id:String,placeholder:{type:[String,Number]},autocomplete:String,type:In("text"),name:String,size:{type:String},autofocus:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object,hidden:{type:Boolean,default:void 0},status:String}),Yve=We({name:"BaseInput",inheritAttrs:!1,props:kG(),setup(n,e){let{slots:i,attrs:r}=e;const o=He(),s=l=>{var u;if(!((u=o.value)===null||u===void 0)&&u.contains(l.target)){const{triggerFocus:c}=n;c==null||c()}},a=()=>{var l;const{allowClear:u,value:c,disabled:d,readonly:f,handleReset:h,suffix:p=i.suffix,prefixCls:v}=n;if(!u)return null;const b=!d&&!f&&c,y=`${v}-clear-icon`,m=((l=i.clearIcon)===null||l===void 0?void 0:l.call(i))||"*";return I("span",{onClick:h,onMousedown:_=>_.preventDefault(),class:Ye({[`${y}-hidden`]:!b,[`${y}-has-suffix`]:!!p},y),role:"button",tabindex:-1},[m])};return()=>{var l,u;const{focused:c,value:d,disabled:f,allowClear:h,readonly:p,hidden:v,prefixCls:b,prefix:y=(l=i.prefix)===null||l===void 0?void 0:l.call(i),suffix:m=(u=i.suffix)===null||u===void 0?void 0:u.call(i),addonAfter:_=i.addonAfter,addonBefore:S=i.addonBefore,inputElement:w,affixWrapperClassName:T,wrapperClassName:A,groupClassName:C}=n;let R=Ii(w,{value:d,hidden:v});if(OP({prefix:y,suffix:m,allowClear:h})){const E=`${b}-affix-wrapper`,P=Ye(E,{[`${E}-disabled`]:f,[`${E}-focused`]:c,[`${E}-readonly`]:p,[`${E}-input-with-clear-btn`]:m&&h&&d},!Vx({addonAfter:_,addonBefore:S})&&r.class,T),N=(m||h)&&I("span",{class:`${b}-suffix`},[a(),m]);R=I("span",{class:P,style:r.style,hidden:!Vx({addonAfter:_,addonBefore:S})&&v,onMousedown:s,ref:o},[y&&I("span",{class:`${b}-prefix`},[y]),Ii(w,{style:null,value:d,hidden:null}),N])}if(Vx({addonAfter:_,addonBefore:S})){const E=`${b}-group`,P=`${E}-addon`,N=Ye(`${b}-wrapper`,E,A),D=Ye(`${b}-group-wrapper`,r.class,C);return I("span",{class:D,style:r.style,hidden:v},[I("span",{class:N},[S&&I("span",{class:P},[S]),Ii(R,{style:null,hidden:null}),_&&I("span",{class:P},[_])])])}return R}}});var Qve=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Zve=We({name:"VCInput",inheritAttrs:!1,props:zG(),setup(n,e){let{slots:i,attrs:r,expose:o,emit:s}=e;const a=Ne(n.value===void 0?n.defaultValue:n.value),l=Ne(!1),u=Ne(),c=Ne();ut(()=>n.value,()=>{a.value=n.value}),ut(()=>n.disabled,()=>{n.disabled&&(l.value=!1)});const d=C=>{u.value&&UG(u.value.input,C)},f=()=>{var C;(C=u.value.input)===null||C===void 0||C.blur()},h=(C,R,E)=>{var P;(P=u.value.input)===null||P===void 0||P.setSelectionRange(C,R,E)},p=()=>{var C;(C=u.value.input)===null||C===void 0||C.select()};o({focus:d,blur:f,input:K(()=>{var C;return(C=u.value.input)===null||C===void 0?void 0:C.input}),stateValue:a,setSelectionRange:h,select:p});const v=C=>{s("change",C)},b=(C,R)=>{a.value!==C&&(n.value===void 0?a.value=C:Un(()=>{var E;u.value.input.value!==a.value&&((E=c.value)===null||E===void 0||E.$forceUpdate())}),Un(()=>{R&&R()}))},y=C=>{const{value:R}=C.target;if(a.value===R)return;const E=C.target.value;mv(u.value.input,C,v),b(E)},m=C=>{C.keyCode===13&&s("pressEnter",C),s("keydown",C)},_=C=>{l.value=!0,s("focus",C)},S=C=>{l.value=!1,s("blur",C)},w=C=>{mv(u.value.input,C,v),b("",()=>{d()})},T=()=>{var C,R;const{addonBefore:E=i.addonBefore,addonAfter:P=i.addonAfter,disabled:N,valueModifiers:D={},htmlSize:$,autocomplete:L,prefixCls:F,inputClassName:U,prefix:k=(C=i.prefix)===null||C===void 0?void 0:C.call(i),suffix:H=(R=i.suffix)===null||R===void 0?void 0:R.call(i),allowClear:z,type:Q="text"}=n,Z=wi(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName"]),ie=O(O(O({},Z),r),{autocomplete:L,onChange:y,onInput:y,onFocus:_,onBlur:S,onKeydown:m,class:Ye(F,{[`${F}-disabled`]:N},U,!Vx({addonAfter:P,addonBefore:E})&&!OP({prefix:k,suffix:H,allowClear:z})&&r.class),ref:u,key:"ant-input",size:$,type:Q,lazy:n.lazy});return D.lazy&&delete ie.onInput,ie.autofocus||delete ie.autofocus,I(Ly,wi(ie,["size"]),null)},A=()=>{var C;const{maxlength:R,suffix:E=(C=i.suffix)===null||C===void 0?void 0:C.call(i),showCount:P,prefixCls:N}=n,D=Number(R)>0;if(E||P){const $=[...pM(a.value)].length,L=typeof P=="object"?P.formatter({count:$,maxlength:R}):`${$}${D?` / ${R}`:""}`;return I(mn,null,[!!P&&I("span",{class:Ye(`${N}-show-count-suffix`,{[`${N}-show-count-has-suffix`]:!!E})},[L]),E])}return null};return Jt(()=>{}),()=>{const{prefixCls:C,disabled:R}=n,E=Qve(n,["prefixCls","disabled"]);return I(Yve,be(be(be({},E),r),{},{ref:c,prefixCls:C,inputElement:T(),handleReset:w,value:pM(a.value),focused:l.value,triggerFocus:d,suffix:A(),disabled:R}),i)}}}),dw=()=>wi(zG(),["wrapperClassName","groupClassName","inputClassName","affixWrapperClassName"]),HG=()=>O(O({},wi(dw(),["prefix","addonBefore","addonAfter","suffix"])),{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:zp(),onCompositionend:zp(),valueModifiers:Object});var Jve=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const xr=We({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:dw(),setup(n,e){let{slots:i,attrs:r,expose:o,emit:s}=e;const a=He(),l=Qu(),u=ku.useInject(),c=K(()=>nw(u.status,n.status)),{direction:d,prefixCls:f,size:h,autocomplete:p}=en("input",n),{compactSize:v,compactItemClassnames:b}=eP(f,d),y=K(()=>v.value||h.value),[m,_]=EP(f),S=vl();o({focus:$=>{var L;(L=a.value)===null||L===void 0||L.focus($)},blur:()=>{var $;($=a.value)===null||$===void 0||$.blur()},input:a,setSelectionRange:($,L,F)=>{var U;(U=a.value)===null||U===void 0||U.setSelectionRange($,L,F)},select:()=>{var $;($=a.value)===null||$===void 0||$.select()}});const R=He([]),E=()=>{R.value.push(setTimeout(()=>{var $,L,F,U;!(($=a.value)===null||$===void 0)&&$.input&&((L=a.value)===null||L===void 0?void 0:L.input.getAttribute("type"))==="password"&&(!((F=a.value)===null||F===void 0)&&F.input.hasAttribute("value"))&&((U=a.value)===null||U===void 0||U.input.removeAttribute("value"))}))};Jt(()=>{E()}),fR(()=>{R.value.forEach($=>clearTimeout($))}),Rn(()=>{R.value.forEach($=>clearTimeout($))});const P=$=>{E(),s("blur",$),l.onFieldBlur()},N=$=>{E(),s("focus",$)},D=$=>{s("update:value",$.target.value),s("change",$),s("input",$),l.onFieldChange()};return()=>{var $,L,F,U,k,H;const{hasFeedback:z,feedbackIcon:Q}=u,{allowClear:Z,bordered:ie=!0,prefix:we=($=i.prefix)===null||$===void 0?void 0:$.call(i),suffix:J=(L=i.suffix)===null||L===void 0?void 0:L.call(i),addonAfter:se=(F=i.addonAfter)===null||F===void 0?void 0:F.call(i),addonBefore:ee=(U=i.addonBefore)===null||U===void 0?void 0:U.call(i),id:ne=(k=l.id)===null||k===void 0?void 0:k.value}=n,ue=Jve(n,["allowClear","bordered","prefix","suffix","addonAfter","addonBefore","id"]),Y=(z||J)&&I(mn,null,[J,z&&Q]),le=f.value,he=OP({prefix:we,suffix:J})||!!z,W=i.clearIcon||(()=>I(eh,null,null));return m(I(Zve,be(be(be({},r),wi(ue,["onUpdate:value","onChange","onInput"])),{},{onChange:D,id:ne,disabled:(H=n.disabled)!==null&&H!==void 0?H:S.value,ref:a,prefixCls:le,autocomplete:p.value,onBlur:P,onFocus:N,prefix:we,suffix:Y,allowClear:Z,addonAfter:se&&I(JE,null,{default:()=>[I(AB,null,{default:()=>[se]})]}),addonBefore:ee&&I(JE,null,{default:()=>[I(AB,null,{default:()=>[ee]})]}),class:[r.class,b.value],inputClassName:Ye({[`${le}-sm`]:y.value==="small",[`${le}-lg`]:y.value==="large",[`${le}-rtl`]:d.value==="rtl",[`${le}-borderless`]:!ie},!he&&Cp(le,c.value),_.value),affixWrapperClassName:Ye({[`${le}-affix-wrapper-sm`]:y.value==="small",[`${le}-affix-wrapper-lg`]:y.value==="large",[`${le}-affix-wrapper-rtl`]:d.value==="rtl",[`${le}-affix-wrapper-borderless`]:!ie},Cp(`${le}-affix-wrapper`,c.value,z),_.value),wrapperClassName:Ye({[`${le}-group-rtl`]:d.value==="rtl"},_.value),groupClassName:Ye({[`${le}-group-wrapper-sm`]:y.value==="small",[`${le}-group-wrapper-lg`]:y.value==="large",[`${le}-group-wrapper-rtl`]:d.value==="rtl"},Cp(`${le}-group-wrapper`,c.value,z),_.value)}),O(O({},i),{clearIcon:W})))}}}),eye=We({compatConfig:{MODE:3},name:"AInputGroup",inheritAttrs:!1,props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0}},setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o,direction:s,getPrefixCls:a}=en("input-group",n),l=ku.useInject();ku.useProvide(l,{isFormItemInput:!1});const u=K(()=>a("input")),[c,d]=EP(u),f=K(()=>{const h=o.value;return{[`${h}`]:!0,[d.value]:!0,[`${h}-lg`]:n.size==="large",[`${h}-sm`]:n.size==="small",[`${h}-compact`]:n.compact,[`${h}-rtl`]:s.value==="rtl"}});return()=>{var h;return c(I("span",be(be({},r),{},{class:Ye(f.value,r.class)}),[(h=i.default)===null||h===void 0?void 0:h.call(i)]))}}});var tye=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const nye=We({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:O(O({},dw()),{inputPrefixCls:String,enterButton:_e.any,onSearch:{type:Function}}),setup(n,e){let{slots:i,attrs:r,expose:o,emit:s}=e;const a=Ne(),l=Ne(!1);o({focus:()=>{var T;(T=a.value)===null||T===void 0||T.focus()},blur:()=>{var T;(T=a.value)===null||T===void 0||T.blur()}});const d=T=>{s("update:value",T.target.value),T&&T.target&&T.type==="click"&&s("search",T.target.value,T),s("change",T)},f=T=>{var A;document.activeElement===((A=a.value)===null||A===void 0?void 0:A.input)&&T.preventDefault()},h=T=>{var A,C;s("search",(C=(A=a.value)===null||A===void 0?void 0:A.input)===null||C===void 0?void 0:C.stateValue,T)},p=T=>{l.value||n.loading||h(T)},v=T=>{l.value=!0,s("compositionstart",T)},b=T=>{l.value=!1,s("compositionend",T)},{prefixCls:y,getPrefixCls:m,direction:_,size:S}=en("input-search",n),w=K(()=>m("input",n.inputPrefixCls));return()=>{var T,A,C,R;const{disabled:E,loading:P,addonAfter:N=(T=i.addonAfter)===null||T===void 0?void 0:T.call(i),suffix:D=(A=i.suffix)===null||A===void 0?void 0:A.call(i)}=n,$=tye(n,["disabled","loading","addonAfter","suffix"]);let{enterButton:L=(R=(C=i.enterButton)===null||C===void 0?void 0:C.call(i))!==null&&R!==void 0?R:!1}=n;L=L||L==="";const F=typeof L=="boolean"?I(Mg,null,null):null,U=`${y.value}-button`,k=Array.isArray(L)?L[0]:L;let H;const z=k.type&&EH(k.type)&&k.type.__ANT_BUTTON;if(z||k.tagName==="button")H=Ii(k,O({onMousedown:f,onClick:h,key:"enterButton"},z?{class:U,size:S.value}:{}),!1);else{const Z=F&&!L;H=I(Es,{class:U,type:L?"primary":void 0,size:S.value,disabled:E,key:"enterButton",onMousedown:f,onClick:h,loading:P,icon:Z?F:null},{default:()=>[Z?null:F||L]})}N&&(H=[H,N]);const Q=Ye(y.value,{[`${y.value}-rtl`]:_.value==="rtl",[`${y.value}-${S.value}`]:!!S.value,[`${y.value}-with-button`]:!!L},r.class);return I(xr,be(be(be({ref:a},wi($,["onUpdate:value","onSearch","enterButton"])),r),{},{onPressEnter:p,onCompositionstart:v,onCompositionend:b,size:S.value,prefixCls:w.value,addonAfter:H,suffix:D,onChange:d,class:Q,disabled:E}),i)}}}),RF=n=>n!=null&&(Array.isArray(n)?Po(n).length:!0);function iye(n){return RF(n.addonBefore)||RF(n.addonAfter)}const rye=["text","input"],oye=We({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:_e.oneOf(If("text","input")),value:_s(),defaultValue:_s(),allowClear:{type:Boolean,default:void 0},element:_s(),handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:_s(),prefix:_s(),addonBefore:_s(),addonAfter:_s(),readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean,status:String,hashId:String},setup(n,e){let{slots:i,attrs:r}=e;const o=ku.useInject(),s=l=>{const{value:u,disabled:c,readonly:d,handleReset:f,suffix:h=i.suffix}=n,p=!c&&!d&&u,v=`${l}-clear-icon`;return I(eh,{onClick:f,onMousedown:b=>b.preventDefault(),class:Ye({[`${v}-hidden`]:!p,[`${v}-has-suffix`]:!!h},v),role:"button"},null)},a=(l,u)=>{const{value:c,allowClear:d,direction:f,bordered:h,hidden:p,status:v,addonAfter:b=i.addonAfter,addonBefore:y=i.addonBefore,hashId:m}=n,{status:_,hasFeedback:S}=o;if(!d)return Ii(u,{value:c,disabled:n.disabled});const w=Ye(`${l}-affix-wrapper`,`${l}-affix-wrapper-textarea-with-clear-btn`,Cp(`${l}-affix-wrapper`,nw(_,v),S),{[`${l}-affix-wrapper-rtl`]:f==="rtl",[`${l}-affix-wrapper-borderless`]:!h,[`${r.class}`]:!iye({addonAfter:b,addonBefore:y})&&r.class},m);return I("span",{class:w,style:r.style,hidden:p},[Ii(u,{style:null,value:c,disabled:n.disabled}),s(l)])};return()=>{var l;const{prefixCls:u,inputType:c,element:d=(l=i.element)===null||l===void 0?void 0:l.call(i)}=n;return c===rye[0]?a(u,d):null}}}),sye=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,aye=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],nT={};let Ws;function lye(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&nT[i])return nT[i];const r=window.getComputedStyle(n),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),s=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),u={sizingStyle:aye.map(c=>`${c}:${r.getPropertyValue(c)}`).join(";"),paddingSize:s,borderSize:a,boxSizing:o};return e&&i&&(nT[i]=u),u}function uye(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Ws||(Ws=document.createElement("textarea"),Ws.setAttribute("tab-index","-1"),Ws.setAttribute("aria-hidden","true"),document.body.appendChild(Ws)),n.getAttribute("wrap")?Ws.setAttribute("wrap",n.getAttribute("wrap")):Ws.removeAttribute("wrap");const{paddingSize:o,borderSize:s,boxSizing:a,sizingStyle:l}=lye(n,e);Ws.setAttribute("style",`${l};${sye}`),Ws.value=n.value||n.placeholder||"";let u,c,d,f=Ws.scrollHeight;if(a==="border-box"?f+=s:a==="content-box"&&(f-=o),i!==null||r!==null){Ws.value=" ";const p=Ws.scrollHeight-o;i!==null&&(u=p*i,a==="border-box"&&(u=u+o+s),f=Math.max(u,f)),r!==null&&(c=p*r,a==="border-box"&&(c=c+o+s),d=f>c?"":"hidden",f=Math.min(c,f))}const h={height:`${f}px`,overflowY:d,resize:"none"};return u&&(h.minHeight=`${u}px`),c&&(h.maxHeight=`${c}px`),h}const iT=0,rT=1,oT=2,cye=We({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:HG(),setup(n,e){let{attrs:i,emit:r,expose:o}=e,s,a;const l=He(),u=He({}),c=He(oT);Rn(()=>{bn.cancel(s),bn.cancel(a)});const d=()=>{try{if(l.value&&document.activeElement===l.value.input){const A=l.value.getSelectionStart(),C=l.value.getSelectionEnd(),R=l.value.getScrollTop();l.value.setSelectionRange(A,C),l.value.setScrollTop(R)}}catch{}},f=He(),h=He();an(()=>{const A=n.autoSize||n.autosize;A?(f.value=A.minRows,h.value=A.maxRows):(f.value=void 0,h.value=void 0)});const p=K(()=>!!(n.autoSize||n.autosize)),v=()=>{c.value=iT};ut([()=>n.value,f,h,p],()=>{p.value&&v()},{immediate:!0});const b=He();ut([c,l],()=>{if(l.value)if(c.value===iT)c.value=rT;else if(c.value===rT){const A=uye(l.value.input,!1,f.value,h.value);c.value=oT,b.value=A}else d()},{immediate:!0,flush:"post"});const y=is(),m=He(),_=()=>{bn.cancel(m.value)},S=A=>{c.value===oT&&(r("resize",A),p.value&&(_(),m.value=bn(()=>{v()})))};Rn(()=>{_()}),o({resizeTextarea:()=>{v()},textArea:K(()=>{var A;return(A=l.value)===null||A===void 0?void 0:A.input}),instance:y}),HS(n.autosize===void 0);const T=()=>{const{prefixCls:A,disabled:C}=n,R=wi(n,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","maxlength","valueModifiers"]),E=Ye(A,i.class,{[`${A}-disabled`]:C}),P=p.value?b.value:null,N=[i.style,u.value,P],D=O(O(O({},R),i),{style:N,class:E});return(c.value===iT||c.value===rT)&&N.push({overflowX:"hidden",overflowY:"hidden"}),D.autofocus||delete D.autofocus,D.rows===0&&delete D.rows,I(ed,{onResize:S,disabled:!p.value},{default:()=>[I(Ly,be(be({},D),{},{ref:l,tag:"textarea"}),null)]})};return()=>T()}});function GG(n,e){return[...n||""].slice(0,e).join("")}function PF(n,e,i,r){let o=i;return n?o=GG(i,r):[...e||""].length<i.length&&[...i||""].length>r&&(o=e),o}const dye=We({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:HG(),setup(n,e){let{attrs:i,expose:r,emit:o}=e;var s;const a=Qu(),l=ku.useInject(),u=K(()=>nw(l.status,n.status)),c=Ne((s=n.value)!==null&&s!==void 0?s:n.defaultValue),d=Ne(),f=Ne(""),{prefixCls:h,size:p,direction:v}=en("input",n),[b,y]=EP(h),m=vl(),_=K(()=>n.showCount===""||n.showCount||!1),S=K(()=>Number(n.maxlength)>0),w=Ne(!1),T=Ne(),A=Ne(0),C=z=>{w.value=!0,T.value=f.value,A.value=z.currentTarget.selectionStart,o("compositionstart",z)},R=z=>{var Q;w.value=!1;let Z=z.currentTarget.value;if(S.value){const ie=A.value>=n.maxlength+1||A.value===((Q=T.value)===null||Q===void 0?void 0:Q.length);Z=PF(ie,T.value,Z,n.maxlength)}Z!==f.value&&(D(Z),mv(z.currentTarget,z,F,Z)),o("compositionend",z)},E=is();ut(()=>n.value,()=>{var z;"value"in E.vnode.props,c.value=(z=n.value)!==null&&z!==void 0?z:""});const P=z=>{var Q;UG((Q=d.value)===null||Q===void 0?void 0:Q.textArea,z)},N=()=>{var z,Q;(Q=(z=d.value)===null||z===void 0?void 0:z.textArea)===null||Q===void 0||Q.blur()},D=(z,Q)=>{c.value!==z&&(n.value===void 0?c.value=z:Un(()=>{var Z,ie,we;d.value.textArea.value!==f.value&&((we=(Z=d.value)===null||Z===void 0?void 0:(ie=Z.instance).update)===null||we===void 0||we.call(ie))}),Un(()=>{Q&&Q()}))},$=z=>{z.keyCode===13&&o("pressEnter",z),o("keydown",z)},L=z=>{const{onBlur:Q}=n;Q==null||Q(z),a.onFieldBlur()},F=z=>{o("update:value",z.target.value),o("change",z),o("input",z),a.onFieldChange()},U=z=>{mv(d.value.textArea,z,F),D("",()=>{P()})},k=z=>{let Q=z.target.value;if(c.value!==Q){if(S.value){const Z=z.target,ie=Z.selectionStart>=n.maxlength+1||Z.selectionStart===Q.length||!Z.selectionStart;Q=PF(ie,f.value,Q,n.maxlength)}mv(z.currentTarget,z,F,Q),D(Q)}},H=()=>{var z,Q;const{class:Z}=i,{bordered:ie=!0}=n,we=O(O(O({},wi(n,["allowClear"])),i),{class:[{[`${h.value}-borderless`]:!ie,[`${Z}`]:Z&&!_.value,[`${h.value}-sm`]:p.value==="small",[`${h.value}-lg`]:p.value==="large"},Cp(h.value,u.value),y.value],disabled:m.value,showCount:null,prefixCls:h.value,onInput:k,onChange:k,onBlur:L,onKeydown:$,onCompositionstart:C,onCompositionend:R});return!((z=n.valueModifiers)===null||z===void 0)&&z.lazy&&delete we.onInput,I(cye,be(be({},we),{},{id:(Q=we==null?void 0:we.id)!==null&&Q!==void 0?Q:a.id.value,ref:d,maxlength:n.maxlength,lazy:n.lazy}),null)};return r({focus:P,blur:N,resizableTextArea:d}),an(()=>{let z=pM(c.value);!w.value&&S.value&&(n.value===null||n.value===void 0)&&(z=GG(z,n.maxlength)),f.value=z}),()=>{var z;const{maxlength:Q,bordered:Z=!0,hidden:ie}=n,{style:we,class:J}=i,se=O(O(O({},n),i),{prefixCls:h.value,inputType:"text",handleReset:U,direction:v.value,bordered:Z,style:_.value?void 0:we,hashId:y.value,disabled:(z=n.disabled)!==null&&z!==void 0?z:m.value});let ee=I(oye,be(be({},se),{},{value:f.value,status:n.status}),{element:H});if(_.value||l.hasFeedback){const ne=[...f.value].length;let ue="";typeof _.value=="object"?ue=_.value.formatter({value:f.value,count:ne,maxlength:Q}):ue=`${ne}${S.value?` / ${Q}`:""}`,ee=I("div",{hidden:ie,class:Ye(`${h.value}-textarea`,{[`${h.value}-textarea-rtl`]:v.value==="rtl",[`${h.value}-textarea-show-count`]:_.value,[`${h.value}-textarea-in-form-item`]:l.isFormItemInput},`${h.value}-textarea-show-count`,J,y.value),style:we,"data-count":typeof ue!="object"?ue:void 0},[ee,l.hasFeedback&&I("span",{class:`${h.value}-textarea-suffix`},[l.feedbackIcon])])}return b(ee)}}});var fye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};function IF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){hye(n,o,i[o])})}return n}function hye(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var fw=function(e,i){var r=IF({},e,i.attrs);return I(xn,IF({},r,{icon:fye}),null)};fw.displayName="EyeOutlined";fw.inheritAttrs=!1;var pye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};function NF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){gye(n,o,i[o])})}return n}function gye(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var DP=function(e,i){var r=NF({},e,i.attrs);return I(xn,NF({},r,{icon:pye}),null)};DP.displayName="EyeInvisibleOutlined";DP.inheritAttrs=!1;var mye=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const vye={click:"onClick",hover:"onMouseover"},yye=n=>I(n?fw:DP,null,null),bye=We({compatConfig:{MODE:3},name:"AInputPassword",inheritAttrs:!1,props:O(O({},dw()),{prefixCls:String,inputPrefixCls:String,action:{type:String,default:"click"},visibilityToggle:{type:Boolean,default:!0},visible:{type:Boolean,default:void 0},"onUpdate:visible":Function,iconRender:Function}),setup(n,e){let{slots:i,attrs:r,expose:o,emit:s}=e;const a=Ne(!1),l=()=>{const{disabled:y}=n;y||(a.value=!a.value,s("update:visible",a.value))};an(()=>{n.visible!==void 0&&(a.value=!!n.visible)});const u=Ne();o({focus:()=>{var y;(y=u.value)===null||y===void 0||y.focus()},blur:()=>{var y;(y=u.value)===null||y===void 0||y.blur()}});const f=y=>{const{action:m,iconRender:_=i.iconRender||yye}=n,S=vye[m]||"",w=_(a.value),T={[S]:l,class:`${y}-icon`,key:"passwordIcon",onMousedown:A=>{A.preventDefault()},onMouseup:A=>{A.preventDefault()}};return Ii(lo(w)?w:I("span",null,[w]),T)},{prefixCls:h,getPrefixCls:p}=en("input-password",n),v=K(()=>p("input",n.inputPrefixCls)),b=()=>{const{size:y,visibilityToggle:m}=n,_=mye(n,["size","visibilityToggle"]),S=m&&f(h.value),w=Ye(h.value,r.class,{[`${h.value}-${y}`]:!!y}),T=O(O(O({},wi(_,["suffix","iconRender","action"])),r),{type:a.value?"text":"password",class:w,prefixCls:v.value,suffix:S});return y&&(T.size=y),I(xr,be({ref:u},T),i)};return()=>b()}});xr.Group=eye;xr.Search=nye;xr.TextArea=dye;xr.Password=bye;xr.install=function(n){return n.component(xr.name,xr),n.component(xr.Group.name,xr.Group),n.component(xr.Search.name,xr.Search),n.component(xr.TextArea.name,xr.TextArea),n.component(xr.Password.name,xr.Password),n};function xye(n,e,i){var r=i,o=r.noTrailing,s=o===void 0?!1:o,a=r.noLeading,l=a===void 0?!1:a,u=r.debounceMode,c=u===void 0?void 0:u,d,f=!1,h=0;function p(){d&&clearTimeout(d)}function v(y){var m=y||{},_=m.upcomingOnly,S=_===void 0?!1:_;p(),f=!S}function b(){for(var y=arguments.length,m=new Array(y),_=0;_<y;_++)m[_]=arguments[_];var S=this,w=Date.now()-h;if(f)return;function T(){h=Date.now(),e.apply(S,m)}function A(){d=void 0}!l&&c&&!d&&T(),p(),c===void 0&&w>n?l?(h=Date.now(),s||(d=setTimeout(c?A:T,n))):T():s!==!0&&(d=setTimeout(c?A:T,c===void 0?n-w:n))}return b.cancel=v,b}function _ye(n,e,i){var r={},o=r.atBegin,s=o===void 0?!1:o;return xye(n,e,{debounceMode:s!==!1})}const Sye=new On("antSpinMove",{to:{opacity:1}}),wye=new On("antRotate",{to:{transform:"rotate(405deg)"}}),Cye=n=>({[`${n.componentCls}`]:O(O({},li(n)),{position:"absolute",display:"none",color:n.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${n.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${n.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-n.spinDotSize/2},[`${n.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(n.spinDotSize-n.fontSize)/2+2,textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSize/2)-10},"&-sm":{[`${n.componentCls}-dot`]:{margin:-n.spinDotSizeSM/2},[`${n.componentCls}-text`]:{paddingTop:(n.spinDotSizeSM-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSizeSM/2)-10}},"&-lg":{[`${n.componentCls}-dot`]:{margin:-(n.spinDotSizeLG/2)},[`${n.componentCls}-text`]:{paddingTop:(n.spinDotSizeLG-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSizeLG/2)-10}}},[`${n.componentCls}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${n.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${n.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:n.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(n.spinDotSize-n.marginXXS/2)/2,height:(n.spinDotSize-n.marginXXS/2)/2,backgroundColor:n.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Sye,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:wye,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${n.componentCls}-dot`]:{fontSize:n.spinDotSizeSM,i:{width:(n.spinDotSizeSM-n.marginXXS/2)/2,height:(n.spinDotSizeSM-n.marginXXS/2)/2}},[`&-lg ${n.componentCls}-dot`]:{fontSize:n.spinDotSizeLG,i:{width:(n.spinDotSizeLG-n.marginXXS)/2,height:(n.spinDotSizeLG-n.marginXXS)/2}},[`&${n.componentCls}-show-text ${n.componentCls}-text`]:{display:"block"}})}),Tye=Di("Spin",n=>{const e=Nn(n,{spinDotDefault:n.colorTextDescription,spinDotSize:n.controlHeightLG/2,spinDotSizeSM:n.controlHeightLG*.35,spinDotSizeLG:n.controlHeight});return[Cye(e)]},{contentHeight:400});var Aye=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Eye=()=>({prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:_e.any,delay:Number,indicator:_e.any});let Wx=null;function Mye(n,e){return!!n&&!!e&&!isNaN(Number(e))}function Rye(n){const e=n.indicator;Wx=typeof e=="function"?e:()=>I(e,null,null)}const Mp=We({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:ui(Eye(),{size:"default",spinning:!0,wrapperClassName:""}),setup(n,e){let{attrs:i,slots:r}=e;const{prefixCls:o,size:s,direction:a}=en("spin",n),[l,u]=Tye(o),c=Ne(n.spinning&&!Mye(n.spinning,n.delay));let d;return ut([()=>n.spinning,()=>n.delay],()=>{d==null||d.cancel(),d=_ye(n.delay,()=>{c.value=n.spinning}),d==null||d()},{immediate:!0,flush:"post"}),Rn(()=>{d==null||d.cancel()}),()=>{var f,h;const{class:p}=i,v=Aye(i,["class"]),{tip:b=(f=r.tip)===null||f===void 0?void 0:f.call(r)}=n,y=(h=r.default)===null||h===void 0?void 0:h.call(r),m={[u.value]:!0,[o.value]:!0,[`${o.value}-sm`]:s.value==="small",[`${o.value}-lg`]:s.value==="large",[`${o.value}-spinning`]:c.value,[`${o.value}-show-text`]:!!b,[`${o.value}-rtl`]:a.value==="rtl",[p]:!!p};function _(w){const T=`${w}-dot`;let A=na(r,n,"indicator");return A===null?null:(Array.isArray(A)&&(A=A.length===1?A[0]:A),Sr(A)?ts(A,{class:T}):Wx&&Sr(Wx())?ts(Wx(),{class:T}):I("span",{class:`${T} ${w}-dot-spin`},[I("i",{class:`${w}-dot-item`},null),I("i",{class:`${w}-dot-item`},null),I("i",{class:`${w}-dot-item`},null),I("i",{class:`${w}-dot-item`},null)]))}const S=I("div",be(be({},v),{},{class:m,"aria-live":"polite","aria-busy":c.value}),[_(o.value),b?I("div",{class:`${o.value}-text`},[b]):null]);if(y&&Po(y).length){const w={[`${o.value}-container`]:!0,[`${o.value}-blur`]:c.value};return l(I("div",{class:[`${o.value}-nested-loading`,n.wrapperClassName,u.value]},[c.value&&I("div",{key:"loading"},[S]),I("div",{class:w,key:"container"},[y])]))}return l(S)}}});Mp.setDefaultIndicator=Rye;Mp.install=function(n){return n.component(Mp.name,Mp),n};var Pye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};function OF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Iye(n,o,i[o])})}return n}function Iye(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var G_=function(e,i){var r=OF({},e,i.attrs);return I(xn,OF({},r,{icon:Pye}),null)};G_.displayName="DoubleLeftOutlined";G_.inheritAttrs=!1;var Nye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};function DF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Oye(n,o,i[o])})}return n}function Oye(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var V_=function(e,i){var r=DF({},e,i.attrs);return I(xn,DF({},r,{icon:Nye}),null)};V_.displayName="DoubleRightOutlined";V_.inheritAttrs=!1;const Dye=We({name:"MiniSelect",compatConfig:{MODE:3},inheritAttrs:!1,props:uP(),Option:Ss.Option,setup(n,e){let{attrs:i,slots:r}=e;return()=>{const o=O(O(O({},n),{size:"small"}),i);return I(Ss,o,r)}}}),Lye=We({name:"MiddleSelect",inheritAttrs:!1,props:uP(),Option:Ss.Option,setup(n,e){let{attrs:i,slots:r}=e;return()=>{const o=O(O(O({},n),{size:"middle"}),i);return I(Ss,o,r)}}}),Dd=We({compatConfig:{MODE:3},name:"Pager",inheritAttrs:!1,props:{rootPrefixCls:String,page:Number,active:{type:Boolean,default:void 0},last:{type:Boolean,default:void 0},locale:_e.object,showTitle:{type:Boolean,default:void 0},itemRender:{type:Function,default:()=>{}},onClick:{type:Function},onKeypress:{type:Function}},eimt:["click","keypress"],setup(n,e){let{emit:i,attrs:r}=e;const o=()=>{i("click",n.page)},s=a=>{i("keypress",a,o,n.page)};return()=>{const{showTitle:a,page:l,itemRender:u}=n,{class:c,style:d}=r,f=`${n.rootPrefixCls}-item`,h=Ye(f,`${f}-${n.page}`,{[`${f}-active`]:n.active,[`${f}-disabled`]:!n.page},c);return I("li",{onClick:o,onKeypress:s,title:a?String(l):null,tabindex:"0",class:h,style:d},[u({page:l,type:"page",originalElement:I("a",{rel:"nofollow"},[l])})])}}}),Vd={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Bye=We({compatConfig:{MODE:3},props:{disabled:{type:Boolean,default:void 0},changeSize:Function,quickGo:Function,selectComponentClass:_e.any,current:Number,pageSizeOptions:_e.array.def(["10","20","50","100"]),pageSize:Number,buildOptionText:Function,locale:_e.object,rootPrefixCls:String,selectPrefixCls:String,goButton:_e.any},setup(n){const e=He(""),i=K(()=>!e.value||isNaN(e.value)?void 0:Number(e.value)),r=u=>`${u.value} ${n.locale.items_per_page}`,o=u=>{const{value:c}=u.target;e.value!==c&&(e.value=c)},s=u=>{const{goButton:c,quickGo:d,rootPrefixCls:f}=n;if(!(c||e.value===""))if(u.relatedTarget&&(u.relatedTarget.className.indexOf(`${f}-item-link`)>=0||u.relatedTarget.className.indexOf(`${f}-item`)>=0)){e.value="";return}else d(i.value),e.value=""},a=u=>{e.value!==""&&(u.keyCode===Vd.ENTER||u.type==="click")&&(n.quickGo(i.value),e.value="")},l=K(()=>{const{pageSize:u,pageSizeOptions:c}=n;return c.some(d=>d.toString()===u.toString())?c:c.concat([u.toString()]).sort((d,f)=>{const h=isNaN(Number(d))?0:Number(d),p=isNaN(Number(f))?0:Number(f);return h-p})});return()=>{const{rootPrefixCls:u,locale:c,changeSize:d,quickGo:f,goButton:h,selectComponentClass:p,selectPrefixCls:v,pageSize:b,disabled:y}=n,m=`${u}-options`;let _=null,S=null,w=null;if(!d&&!f)return null;if(d&&p){const T=n.buildOptionText||r,A=l.value.map((C,R)=>I(p.Option,{key:R,value:C},{default:()=>[T({value:C})]}));_=I(p,{disabled:y,prefixCls:v,showSearch:!1,class:`${m}-size-changer`,optionLabelProp:"children",value:(b||l.value[0]).toString(),onChange:C=>d(Number(C)),getPopupContainer:C=>C.parentNode},{default:()=>[A]})}return f&&(h&&(w=typeof h=="boolean"?I("button",{type:"button",onClick:a,onKeyup:a,disabled:y,class:`${m}-quick-jumper-button`},[c.jump_to_confirm]):I("span",{onClick:a,onKeyup:a},[h])),S=I("div",{class:`${m}-quick-jumper`},[c.jump_to,I(Ly,{disabled:y,type:"text",value:e.value,onInput:o,onChange:o,onKeyup:a,onBlur:s},null),c.page,w])),I("li",{class:`${m}`},[_,S])}}}),Fye={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"};var $ye=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function Uye(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function kye(n){let{originalElement:e}=n;return e}function Yl(n,e,i){const r=typeof n>"u"?e.statePageSize:n;return Math.floor((i.total-1)/r)+1}const zye=We({compatConfig:{MODE:3},name:"Pagination",mixins:[q8],inheritAttrs:!1,props:{disabled:{type:Boolean,default:void 0},prefixCls:_e.string.def("rc-pagination"),selectPrefixCls:_e.string.def("rc-select"),current:Number,defaultCurrent:_e.number.def(1),total:_e.number.def(0),pageSize:Number,defaultPageSize:_e.number.def(10),hideOnSinglePage:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:void 0},showLessItems:{type:Boolean,default:!1},selectComponentClass:_e.any,showPrevNextJumpers:{type:Boolean,default:!0},showQuickJumper:_e.oneOfType([_e.looseBool,_e.object]).def(!1),showTitle:{type:Boolean,default:!0},pageSizeOptions:_e.arrayOf(_e.oneOfType([_e.number,_e.string])),buildOptionText:Function,showTotal:Function,simple:{type:Boolean,default:void 0},locale:_e.object.def(Fye),itemRender:_e.func.def(kye),prevIcon:_e.any,nextIcon:_e.any,jumpPrevIcon:_e.any,jumpNextIcon:_e.any,totalBoundaryShowSizeChanger:_e.number.def(50)},data(){const n=this.$props;let e=eM([this.current,this.defaultCurrent]);const i=eM([this.pageSize,this.defaultPageSize]);return e=Math.min(e,Yl(i,void 0,n)),{stateCurrent:e,stateCurrentInputValue:e,statePageSize:i}},watch:{current(n){this.setState({stateCurrent:n,stateCurrentInputValue:n})},pageSize(n){const e={};let i=this.stateCurrent;const r=Yl(n,this.$data,this.$props);i=i>r?r:i,op(this,"current")||(e.stateCurrent=i,e.stateCurrentInputValue=i),e.statePageSize=n,this.setState(e)},stateCurrent(n,e){this.$nextTick(()=>{if(this.$refs.paginationNode){const i=this.$refs.paginationNode.querySelector(`.${this.prefixCls}-item-${e}`);i&&document.activeElement===i&&i.blur()}})},total(){const n={},e=Yl(this.pageSize,this.$data,this.$props);if(op(this,"current")){const i=Math.min(this.current,e);n.stateCurrent=i,n.stateCurrentInputValue=i}else{let i=this.stateCurrent;i===0&&e>0?i=1:i=Math.min(this.stateCurrent,e),n.stateCurrent=i}this.setState(n)}},methods:{getJumpPrevPage(){return Math.max(1,this.stateCurrent-(this.showLessItems?3:5))},getJumpNextPage(){return Math.min(Yl(void 0,this.$data,this.$props),this.stateCurrent+(this.showLessItems?3:5))},getItemIcon(n,e){const{prefixCls:i}=this.$props;return D6(this,n,this.$props)||I("button",{type:"button","aria-label":e,class:`${i}-item-link`},null)},getValidValue(n){const e=n.target.value,i=Yl(void 0,this.$data,this.$props),{stateCurrentInputValue:r}=this.$data;let o;return e===""?o=e:isNaN(Number(e))?o=r:e>=i?o=i:o=Number(e),o},isValid(n){return Uye(n)&&n!==this.stateCurrent},shouldDisplayQuickJumper(){const{showQuickJumper:n,pageSize:e,total:i}=this.$props;return i<=e?!1:n},handleKeyDown(n){(n.keyCode===Vd.ARROW_UP||n.keyCode===Vd.ARROW_DOWN)&&n.preventDefault()},handleKeyUp(n){const e=this.getValidValue(n),i=this.stateCurrentInputValue;e!==i&&this.setState({stateCurrentInputValue:e}),n.keyCode===Vd.ENTER?this.handleChange(e):n.keyCode===Vd.ARROW_UP?this.handleChange(e-1):n.keyCode===Vd.ARROW_DOWN&&this.handleChange(e+1)},changePageSize(n){let e=this.stateCurrent;const i=e,r=Yl(n,this.$data,this.$props);e=e>r?r:e,r===0&&(e=this.stateCurrent),typeof n=="number"&&(op(this,"pageSize")||this.setState({statePageSize:n}),op(this,"current")||this.setState({stateCurrent:e,stateCurrentInputValue:e})),this.__emit("update:pageSize",n),e!==i&&this.__emit("update:current",e),this.__emit("showSizeChange",e,n),this.__emit("change",e,n)},handleChange(n){const{disabled:e}=this.$props;let i=n;if(this.isValid(i)&&!e){const r=Yl(void 0,this.$data,this.$props);return i>r?i=r:i<1&&(i=1),op(this,"current")||this.setState({stateCurrent:i,stateCurrentInputValue:i}),this.__emit("update:current",i),this.__emit("change",i,this.statePageSize),i}return this.stateCurrent},prev(){this.hasPrev()&&this.handleChange(this.stateCurrent-1)},next(){this.hasNext()&&this.handleChange(this.stateCurrent+1)},jumpPrev(){this.handleChange(this.getJumpPrevPage())},jumpNext(){this.handleChange(this.getJumpNextPage())},hasPrev(){return this.stateCurrent>1},hasNext(){return this.stateCurrent<Yl(void 0,this.$data,this.$props)},getShowSizeChanger(){const{showSizeChanger:n,total:e,totalBoundaryShowSizeChanger:i}=this.$props;return typeof n<"u"?n:e>i},runIfEnter(n,e){if(n.key==="Enter"||n.charCode===13){n.preventDefault();for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e(...r)}},runIfEnterPrev(n){this.runIfEnter(n,this.prev)},runIfEnterNext(n){this.runIfEnter(n,this.next)},runIfEnterJumpPrev(n){this.runIfEnter(n,this.jumpPrev)},runIfEnterJumpNext(n){this.runIfEnter(n,this.jumpNext)},handleGoTO(n){(n.keyCode===Vd.ENTER||n.type==="click")&&this.handleChange(this.stateCurrentInputValue)},renderPrev(n){const{itemRender:e}=this.$props,i=e({page:n,type:"prev",originalElement:this.getItemIcon("prevIcon","prev page")}),r=!this.hasPrev();return lo(i)?Ii(i,r?{disabled:r}:{}):i},renderNext(n){const{itemRender:e}=this.$props,i=e({page:n,type:"next",originalElement:this.getItemIcon("nextIcon","next page")}),r=!this.hasNext();return lo(i)?Ii(i,r?{disabled:r}:{}):i}},render(){const{prefixCls:n,disabled:e,hideOnSinglePage:i,total:r,locale:o,showQuickJumper:s,showLessItems:a,showTitle:l,showTotal:u,simple:c,itemRender:d,showPrevNextJumpers:f,jumpPrevIcon:h,jumpNextIcon:p,selectComponentClass:v,selectPrefixCls:b,pageSizeOptions:y}=this.$props,{stateCurrent:m,statePageSize:_}=this,S=N6(this.$attrs).extraAttrs,{class:w}=S,T=$ye(S,["class"]);if(i===!0&&this.total<=_)return null;const A=Yl(void 0,this.$data,this.$props),C=[];let R=null,E=null,P=null,N=null,D=null;const $=s&&s.goButton,L=a?1:2,F=m-1>0?m-1:0,U=m+1<A?m+1:A,k=this.hasPrev(),H=this.hasNext();if(c)return $&&(typeof $=="boolean"?D=I("button",{type:"button",onClick:this.handleGoTO,onKeyup:this.handleGoTO},[o.jump_to_confirm]):D=I("span",{onClick:this.handleGoTO,onKeyup:this.handleGoTO},[$]),D=I("li",{title:l?`${o.jump_to}${m}/${A}`:null,class:`${n}-simple-pager`},[D])),I("ul",be({class:Ye(`${n} ${n}-simple`,{[`${n}-disabled`]:e},w)},T),[I("li",{title:l?o.prev_page:null,onClick:this.prev,tabindex:k?0:null,onKeypress:this.runIfEnterPrev,class:Ye(`${n}-prev`,{[`${n}-disabled`]:!k}),"aria-disabled":!k},[this.renderPrev(F)]),I("li",{title:l?`${m}/${A}`:null,class:`${n}-simple-pager`},[I(Ly,{type:"text",value:this.stateCurrentInputValue,disabled:e,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onInput:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"},null),I("span",{class:`${n}-slash`},[Ji("／")]),A]),I("li",{title:l?o.next_page:null,onClick:this.next,tabindex:H?0:null,onKeypress:this.runIfEnterNext,class:Ye(`${n}-next`,{[`${n}-disabled`]:!H}),"aria-disabled":!H},[this.renderNext(U)]),D]);if(A<=3+L*2){const we={locale:o,rootPrefixCls:n,showTitle:l,itemRender:d,onClick:this.handleChange,onKeypress:this.runIfEnter};A||C.push(I(Dd,be(be({},we),{},{key:"noPager",page:1,class:`${n}-item-disabled`}),null));for(let J=1;J<=A;J+=1){const se=m===J;C.push(I(Dd,be(be({},we),{},{key:J,page:J,active:se}),null))}}else{const we=a?o.prev_3:o.prev_5,J=a?o.next_3:o.next_5;f&&(R=I("li",{title:this.showTitle?we:null,key:"prev",onClick:this.jumpPrev,tabindex:"0",onKeypress:this.runIfEnterJumpPrev,class:Ye(`${n}-jump-prev`,{[`${n}-jump-prev-custom-icon`]:!!h})},[d({page:this.getJumpPrevPage(),type:"jump-prev",originalElement:this.getItemIcon("jumpPrevIcon","prev page")})]),E=I("li",{title:this.showTitle?J:null,key:"next",tabindex:"0",onClick:this.jumpNext,onKeypress:this.runIfEnterJumpNext,class:Ye(`${n}-jump-next`,{[`${n}-jump-next-custom-icon`]:!!p})},[d({page:this.getJumpNextPage(),type:"jump-next",originalElement:this.getItemIcon("jumpNextIcon","next page")})])),N=I(Dd,{locale:o,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:A,page:A,active:!1,showTitle:l,itemRender:d},null),P=I(Dd,{locale:o,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:1,page:1,active:!1,showTitle:l,itemRender:d},null);let se=Math.max(1,m-L),ee=Math.min(m+L,A);m-1<=L&&(ee=1+L*2),A-m<=L&&(se=A-L*2);for(let ne=se;ne<=ee;ne+=1){const ue=m===ne;C.push(I(Dd,{locale:o,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:ne,page:ne,active:ue,showTitle:l,itemRender:d},null))}m-1>=L*2&&m!==3&&(C[0]=I(Dd,{locale:o,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:se,page:se,class:`${n}-item-after-jump-prev`,active:!1,showTitle:this.showTitle,itemRender:d},null),C.unshift(R)),A-m>=L*2&&m!==A-2&&(C[C.length-1]=I(Dd,{locale:o,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:ee,page:ee,class:`${n}-item-before-jump-next`,active:!1,showTitle:this.showTitle,itemRender:d},null),C.push(E)),se!==1&&C.unshift(P),ee!==A&&C.push(N)}let z=null;u&&(z=I("li",{class:`${n}-total-text`},[u(r,[r===0?0:(m-1)*_+1,m*_>r?r:m*_])]));const Q=!k||!A,Z=!H||!A,ie=this.buildOptionText||this.$slots.buildOptionText;return I("ul",be(be({unselectable:"on",ref:"paginationNode"},T),{},{class:Ye({[`${n}`]:!0,[`${n}-disabled`]:e},w)}),[z,I("li",{title:l?o.prev_page:null,onClick:this.prev,tabindex:Q?null:0,onKeypress:this.runIfEnterPrev,class:Ye(`${n}-prev`,{[`${n}-disabled`]:Q}),"aria-disabled":Q},[this.renderPrev(F)]),C,I("li",{title:l?o.next_page:null,onClick:this.next,tabindex:Z?null:0,onKeypress:this.runIfEnterNext,class:Ye(`${n}-next`,{[`${n}-disabled`]:Z}),"aria-disabled":Z},[this.renderNext(U)]),I(Bye,{disabled:e,locale:o,rootPrefixCls:n,selectComponentClass:v,selectPrefixCls:b,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:m,pageSize:_,pageSizeOptions:y,buildOptionText:ie||null,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:$},null)])}}),Hye=n=>{const{componentCls:e}=n;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`&${e}-mini`]:{[`
          &:hover ${e}-item:not(${e}-item-active),
          &:active ${e}-item:not(${e}-item-active),
          &:hover ${e}-item-link,
          &:active ${e}-item-link
        `]:{backgroundColor:"transparent"}},[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:n.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:n.colorBorder,backgroundColor:n.paginationItemDisabledBgActive,"&:hover, &:active":{backgroundColor:n.paginationItemDisabledBgActive},a:{color:n.paginationItemDisabledColorActive}}},[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:n.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},Gye=n=>{const{componentCls:e}=n;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`},[`&${e}-mini ${e}-item`]:{minWidth:n.paginationItemSizeSM,height:n.paginationItemSizeSM,margin:0,lineHeight:`${n.paginationItemSizeSM-2}px`},[`&${e}-mini ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:n.paginationItemSizeSM,height:n.paginationItemSizeSM,margin:0,lineHeight:`${n.paginationItemSizeSM}px`,[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:n.paginationItemSizeSM,marginInlineEnd:0,lineHeight:`${n.paginationItemSizeSM}px`},[`&${e}-mini ${e}-options`]:{marginInlineStart:n.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:n.paginationMiniOptionsSizeChangerTop},"&-quick-jumper":{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`,input:O(O({},TP(n)),{width:n.paginationMiniQuickJumperInputWidth,height:n.controlHeightSM})}}}},Vye=n=>{const{componentCls:e}=n;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`,verticalAlign:"top",[`${e}-item-link`]:{height:n.paginationItemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive},"&::after":{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:n.paginationItemSizeSM,marginInlineEnd:n.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:n.marginXS,padding:`0 ${n.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:n.paginationItemInputBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,outline:"none",transition:`border-color ${n.motionDurationMid}`,color:"inherit","&:hover":{borderColor:n.colorPrimary},"&:focus":{borderColor:n.colorPrimaryHover,boxShadow:`${n.inputOutlineOffset}px 0 ${n.controlOutlineWidth}px ${n.controlOutline}`},"&[disabled]":{color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,cursor:"not-allowed"}}}}},Wye=n=>{const{componentCls:e}=n;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:n.colorPrimary,fontSize:n.fontSizeSM,opacity:0,transition:`all ${n.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:n.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:n.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:n.paginationEllipsisTextIndent,opacity:1,transition:`all ${n.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},"&:focus-visible":O({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},$u(n))},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:n.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:n.paginationItemSize,height:n.paginationItemSize,color:n.colorText,fontFamily:n.paginationFontFamily,lineHeight:`${n.paginationItemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:n.borderRadius,cursor:"pointer",transition:`all ${n.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:n.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:n.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:"none",transition:`all ${n.motionDurationMid}`},[`&:focus-visible ${e}-item-link`]:O({},$u(n)),[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:n.paginationSlashMarginInlineEnd,marginInlineStart:n.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:n.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:n.controlHeight,marginInlineStart:n.marginXS,lineHeight:`${n.controlHeight}px`,verticalAlign:"top",input:O(O({},AP(n)),{width:n.controlHeightLG*1.25,height:n.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:n.marginXS,marginInlineEnd:n.marginXS})}}}},jye=n=>{const{componentCls:e}=n;return{[`${e}-item`]:O(O({display:"inline-block",minWidth:n.paginationItemSize,height:n.paginationItemSize,marginInlineEnd:n.marginXS,fontFamily:n.paginationFontFamily,lineHeight:`${n.paginationItemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${n.paginationItemPaddingInline}px`,color:n.colorText,transition:"none","&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${n.motionDurationMid}`,backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}}},Nf(n)),{"&-active":{fontWeight:n.paginationFontWeightActive,backgroundColor:n.paginationItemBgActive,borderColor:n.colorPrimary,a:{color:n.colorPrimary},"&:hover":{borderColor:n.colorPrimaryHover},"&:hover a":{color:n.colorPrimaryHover}}})}},Kye=n=>{const{componentCls:e}=n;return{[e]:O(O(O(O(O(O(O(O({},li(n)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:n.paginationItemSize,marginInlineEnd:n.marginXS,lineHeight:`${n.paginationItemSize-2}px`,verticalAlign:"middle"}}),jye(n)),Wye(n)),Vye(n)),Gye(n)),Hye(n)),{[`@media only screen and (max-width: ${n.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${n.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${n.componentCls}-rtl`]:{direction:"rtl"}}},Xye=n=>{const{componentCls:e}=n;return{[`${e}${e}-disabled`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:n.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:n.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,a:{color:n.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:n.paginationItemDisabledBgActive}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,color:n.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder}}},[e]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:n.colorPrimaryHover,backgroundColor:n.paginationItemBg},[`${e}-item-link`]:{backgroundColor:n.paginationItemLinkBg,borderColor:n.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:n.colorPrimary,backgroundColor:n.paginationItemBg,color:n.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:n.colorBorder,color:n.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:n.paginationItemBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:n.colorPrimary,backgroundColor:n.paginationItemBg,a:{color:n.colorPrimary}},"&-active":{borderColor:n.colorPrimary}}}}},qye=Di("Pagination",n=>{const e=Nn(n,{paginationItemSize:n.controlHeight,paginationFontFamily:n.fontFamily,paginationItemBg:n.colorBgContainer,paginationItemBgActive:n.colorBgContainer,paginationFontWeightActive:n.fontWeightStrong,paginationItemSizeSM:n.controlHeightSM,paginationItemInputBg:n.colorBgContainer,paginationMiniOptionsSizeChangerTop:0,paginationItemDisabledBgActive:n.controlItemBgActiveDisabled,paginationItemDisabledColorActive:n.colorTextDisabled,paginationItemLinkBg:n.colorBgContainer,inputOutlineOffset:"0 0",paginationMiniOptionsMarginInlineStart:n.marginXXS/2,paginationMiniQuickJumperInputWidth:n.controlHeightLG*1.1,paginationItemPaddingInline:n.marginXXS*1.5,paginationEllipsisLetterSpacing:n.marginXXS/2,paginationSlashMarginInlineStart:n.marginXXS,paginationSlashMarginInlineEnd:n.marginSM,paginationEllipsisTextIndent:"0.13em"},gG(n));return[Kye(e),n.wireframe&&Xye(e)]});var Yye=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Qye=()=>({total:Number,defaultCurrent:Number,disabled:Pt(),current:Number,defaultPageSize:Number,pageSize:Number,hideOnSinglePage:Pt(),showSizeChanger:Pt(),pageSizeOptions:Ri(),buildOptionText:pt(),showQuickJumper:Mi([Boolean,Object]),showTotal:pt(),size:In(),simple:Pt(),locale:Object,prefixCls:String,selectPrefixCls:String,totalBoundaryShowSizeChanger:Number,selectComponentClass:String,itemRender:pt(),role:String,responsive:Boolean,showLessItems:Pt(),onChange:pt(),onShowSizeChange:pt(),"onUpdate:current":pt(),"onUpdate:pageSize":pt()}),Zye=We({compatConfig:{MODE:3},name:"APagination",inheritAttrs:!1,props:Qye(),setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o,configProvider:s,direction:a,size:l}=en("pagination",n),[u,c]=qye(o),d=K(()=>s.getPrefixCls("select",n.selectPrefixCls)),f=DH(),[h]=xR("Pagination",k6,Zn(n,"locale")),p=v=>{const b=I("span",{class:`${v}-item-ellipsis`},[Ji("•••")]),y=I("button",{class:`${v}-item-link`,type:"button",tabindex:-1},[a.value==="rtl"?I(qp,null,null):I(H_,null,null)]),m=I("button",{class:`${v}-item-link`,type:"button",tabindex:-1},[a.value==="rtl"?I(H_,null,null):I(qp,null,null)]),_=I("a",{rel:"nofollow",class:`${v}-item-link`},[I("div",{class:`${v}-item-container`},[a.value==="rtl"?I(V_,{class:`${v}-item-link-icon`},null):I(G_,{class:`${v}-item-link-icon`},null),b])]),S=I("a",{rel:"nofollow",class:`${v}-item-link`},[I("div",{class:`${v}-item-container`},[a.value==="rtl"?I(G_,{class:`${v}-item-link-icon`},null):I(V_,{class:`${v}-item-link-icon`},null),b])]);return{prevIcon:y,nextIcon:m,jumpPrevIcon:_,jumpNextIcon:S}};return()=>{var v;const{itemRender:b=i.itemRender,buildOptionText:y=i.buildOptionText,selectComponentClass:m,responsive:_}=n,S=Yye(n,["itemRender","buildOptionText","selectComponentClass","responsive"]),w=l.value==="small"||!!(!((v=f.value)===null||v===void 0)&&v.xs&&!l.value&&_),T=O(O(O(O(O({},S),p(o.value)),{prefixCls:o.value,selectPrefixCls:d.value,selectComponentClass:m||(w?Dye:Lye),locale:h.value,buildOptionText:y}),r),{class:Ye({[`${o.value}-mini`]:w,[`${o.value}-rtl`]:a.value==="rtl"},r.class,c.value),itemRender:b});return u(I(zye,T,null))}}}),Jye=cd(Zye),e0e=["normal","exception","active","success"],hw=()=>({prefixCls:String,type:In(),percent:Number,format:pt(),status:In(),showInfo:Pt(),strokeWidth:Number,strokeLinecap:In(),strokeColor:_s(),trailColor:String,width:Number,success:vn(),gapDegree:Number,gapPosition:In(),size:Mi([String,Number,Array]),steps:Number,successPercent:Number,title:String,progressStatus:In()});function xf(n){return!n||n<0?0:n>100?100:n}function W_(n){let{success:e,successPercent:i}=n,r=i;return e&&"progress"in e&&(fi(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),r=e.progress),e&&"percent"in e&&(r=e.percent),r}function t0e(n){let{percent:e,success:i,successPercent:r}=n;const o=xf(W_({success:i,successPercent:r}));return[o,xf(xf(e)-o)]}function n0e(n){let{success:e={},strokeColor:i}=n;const{strokeColor:r}=e;return[r||_p.green,i||null]}const pw=(n,e,i)=>{var r,o,s,a;let l=-1,u=-1;if(e==="step"){const c=i.steps,d=i.strokeWidth;typeof n=="string"||typeof n>"u"?(l=n==="small"?2:14,u=d??8):typeof n=="number"?[l,u]=[n,n]:[l=14,u=8]=n,l*=c}else if(e==="line"){const c=i==null?void 0:i.strokeWidth;typeof n=="string"||typeof n>"u"?u=c||(n==="small"?6:8):typeof n=="number"?[l,u]=[n,n]:[l=-1,u=8]=n}else(e==="circle"||e==="dashboard")&&(typeof n=="string"||typeof n>"u"?[l,u]=n==="small"?[60,60]:[120,120]:typeof n=="number"?[l,u]=[n,n]:(l=(o=(r=n[0])!==null&&r!==void 0?r:n[1])!==null&&o!==void 0?o:120,u=(a=(s=n[0])!==null&&s!==void 0?s:n[1])!==null&&a!==void 0?a:120));return{width:l,height:u}};var i0e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const r0e=()=>O(O({},hw()),{strokeColor:_s(),direction:In()}),o0e=n=>{let e=[];return Object.keys(n).forEach(i=>{const r=parseFloat(i.replace(/%/g,""));isNaN(r)||e.push({key:r,value:n[i]})}),e=e.sort((i,r)=>i.key-r.key),e.map(i=>{let{key:r,value:o}=i;return`${o} ${r}%`}).join(", ")},s0e=(n,e)=>{const{from:i=_p.blue,to:r=_p.blue,direction:o=e==="rtl"?"to left":"to right"}=n,s=i0e(n,["from","to","direction"]);if(Object.keys(s).length!==0){const a=o0e(s);return{backgroundImage:`linear-gradient(${o}, ${a})`}}return{backgroundImage:`linear-gradient(${o}, ${i}, ${r})`}},a0e=We({compatConfig:{MODE:3},name:"ProgressLine",inheritAttrs:!1,props:r0e(),setup(n,e){let{slots:i,attrs:r}=e;const o=K(()=>{const{strokeColor:p,direction:v}=n;return p&&typeof p!="string"?s0e(p,v):{backgroundColor:p}}),s=K(()=>n.strokeLinecap==="square"||n.strokeLinecap==="butt"?0:void 0),a=K(()=>n.trailColor?{backgroundColor:n.trailColor}:void 0),l=K(()=>{var p;return(p=n.size)!==null&&p!==void 0?p:[-1,n.strokeWidth||(n.size==="small"?6:8)]}),u=K(()=>pw(l.value,"line",{strokeWidth:n.strokeWidth})),c=K(()=>{const{percent:p}=n;return O({width:`${xf(p)}%`,height:`${u.value.height}px`,borderRadius:s.value},o.value)}),d=K(()=>W_(n)),f=K(()=>{const{success:p}=n;return{width:`${xf(d.value)}%`,height:`${u.value.height}px`,borderRadius:s.value,backgroundColor:p==null?void 0:p.strokeColor}}),h={width:u.value.width<0?"100%":u.value.width,height:`${u.value.height}px`};return()=>{var p;return I(mn,null,[I("div",be(be({},r),{},{class:[`${n.prefixCls}-outer`,r.class],style:[r.style,h]}),[I("div",{class:`${n.prefixCls}-inner`,style:a.value},[I("div",{class:`${n.prefixCls}-bg`,style:c.value},null),d.value!==void 0?I("div",{class:`${n.prefixCls}-success-bg`,style:f.value},null):null])]),(p=i.default)===null||p===void 0?void 0:p.call(i)])}}}),l0e={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},u0e=n=>{const e=He(null);return fa(()=>{const i=Date.now();let r=!1;n.value.forEach(o=>{const s=(o==null?void 0:o.$el)||o;if(!s)return;r=!0;const a=s.style;a.transitionDuration=".3s, .3s, .3s, .06s",e.value&&i-e.value<100&&(a.transitionDuration="0s, 0s")}),r&&(e.value=Date.now())}),n},c0e={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String};var d0e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};let LF=0;function BF(n){return+n.replace("%","")}function FF(n){return Array.isArray(n)?n:[n]}function $F(n,e,i,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;const a=50-r/2;let l=0,u=-a,c=0,d=-2*a;switch(s){case"left":l=-a,u=0,c=2*a,d=0;break;case"right":l=a,u=0,c=-2*a,d=0;break;case"bottom":u=a,d=2*a;break}const f=`M 50,50 m ${l},${u}
   a ${a},${a} 0 1 1 ${c},${-d}
   a ${a},${a} 0 1 1 ${-c},${d}`,h=Math.PI*2*a,p={stroke:i,strokeDasharray:`${e/100*(h-o)}px ${h}px`,strokeDashoffset:`-${o/2+n/100*(h-o)}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:f,pathStyle:p}}const f0e=We({compatConfig:{MODE:3},name:"VCCircle",props:ui(c0e,l0e),setup(n){LF+=1;const e=He(LF),i=K(()=>FF(n.percent)),r=K(()=>FF(n.strokeColor)),[o,s]=bG();u0e(s);const a=()=>{const{prefixCls:l,strokeWidth:u,strokeLinecap:c,gapDegree:d,gapPosition:f}=n;let h=0;return i.value.map((p,v)=>{const b=r.value[v]||r.value[r.value.length-1],y=Object.prototype.toString.call(b)==="[object Object]"?`url(#${l}-gradient-${e.value})`:"",{pathString:m,pathStyle:_}=$F(h,p,b,u,d,f);h+=p;const S={key:v,d:m,stroke:y,"stroke-linecap":c,"stroke-width":u,opacity:p===0?0:1,"fill-opacity":"0",class:`${l}-circle-path`,style:_};return I("path",be({ref:o(v)},S),null)})};return()=>{const{prefixCls:l,strokeWidth:u,trailWidth:c,gapDegree:d,gapPosition:f,trailColor:h,strokeLinecap:p,strokeColor:v}=n,b=d0e(n,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),{pathString:y,pathStyle:m}=$F(0,100,h,u,d,f);delete b.percent;const _=r.value.find(w=>Object.prototype.toString.call(w)==="[object Object]"),S={d:y,stroke:h,"stroke-linecap":p,"stroke-width":c||u,"fill-opacity":"0",class:`${l}-circle-trail`,style:m};return I("svg",be({class:`${l}-circle`,viewBox:"0 0 100 100"},b),[_&&I("defs",null,[I("linearGradient",{id:`${l}-gradient-${e.value}`,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(_).sort((w,T)=>BF(w)-BF(T)).map((w,T)=>I("stop",{key:T,offset:w,"stop-color":_[w]},null))])]),I("path",S,null),a().reverse()])}}}),h0e=()=>O(O({},hw()),{strokeColor:_s()}),p0e=3,g0e=n=>p0e/n*100,m0e=We({compatConfig:{MODE:3},name:"ProgressCircle",inheritAttrs:!1,props:ui(h0e(),{trailColor:null}),setup(n,e){let{slots:i,attrs:r}=e;const o=K(()=>{var b;return(b=n.width)!==null&&b!==void 0?b:120}),s=K(()=>{var b;return(b=n.size)!==null&&b!==void 0?b:[o.value,o.value]}),a=K(()=>pw(s.value,"circle")),l=K(()=>{if(n.gapDegree||n.gapDegree===0)return n.gapDegree;if(n.type==="dashboard")return 75}),u=K(()=>({width:`${a.value.width}px`,height:`${a.value.height}px`,fontSize:`${a.value.width*.15+6}px`})),c=K(()=>{var b;return(b=n.strokeWidth)!==null&&b!==void 0?b:Math.max(g0e(a.value.width),6)}),d=K(()=>n.gapPosition||n.type==="dashboard"&&"bottom"||void 0),f=K(()=>t0e(n)),h=K(()=>Object.prototype.toString.call(n.strokeColor)==="[object Object]"),p=K(()=>n0e({success:n.success,strokeColor:n.strokeColor})),v=K(()=>({[`${n.prefixCls}-inner`]:!0,[`${n.prefixCls}-circle-gradient`]:h.value}));return()=>{var b;const y=I(f0e,{percent:f.value,strokeWidth:c.value,trailWidth:c.value,strokeColor:p.value,strokeLinecap:n.strokeLinecap,trailColor:n.trailColor,prefixCls:n.prefixCls,gapDegree:l.value,gapPosition:d.value},null);return I("div",be(be({},r),{},{class:[v.value,r.class],style:[r.style,u.value]}),[a.value.width<=20?I(aw,null,{default:()=>[I("span",null,[y])],title:i.default}):I(mn,null,[y,(b=i.default)===null||b===void 0?void 0:b.call(i)])])}}}),v0e=()=>O(O({},hw()),{steps:Number,strokeColor:Mi(),trailColor:String}),y0e=We({compatConfig:{MODE:3},name:"Steps",props:v0e(),setup(n,e){let{slots:i}=e;const r=K(()=>Math.round(n.steps*((n.percent||0)/100))),o=K(()=>{var l;return(l=n.size)!==null&&l!==void 0?l:[n.size==="small"?2:14,n.strokeWidth||8]}),s=K(()=>pw(o.value,"step",{steps:n.steps,strokeWidth:n.strokeWidth||8})),a=K(()=>{const{steps:l,strokeColor:u,trailColor:c,prefixCls:d}=n,f=[];for(let h=0;h<l;h+=1){const p=Array.isArray(u)?u[h]:u,v={[`${d}-steps-item`]:!0,[`${d}-steps-item-active`]:h<=r.value-1};f.push(I("div",{key:h,class:v,style:{backgroundColor:h<=r.value-1?p:c,width:`${s.value.width/l}px`,height:`${s.value.height}px`}},null))}return f});return()=>{var l;return I("div",{class:`${n.prefixCls}-steps-outer`},[a.value,(l=i.default)===null||l===void 0?void 0:l.call(i)])}}}),b0e=new On("antProgressActive",{"0%":{transform:"translateX(-100%) scaleX(0)",opacity:.1},"20%":{transform:"translateX(-100%) scaleX(0)",opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}}),x0e=n=>{const{componentCls:e,iconCls:i}=n;return{[e]:O(O({},li(n)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:n.fontSize,marginInlineEnd:n.marginXS,marginBottom:n.marginXS},[`${e}-outer`]:{display:"inline-block",width:"100%"},[`&${e}-show-info`]:{[`${e}-outer`]:{marginInlineEnd:`calc(-2em - ${n.marginXS}px)`,paddingInlineEnd:`calc(2em + ${n.paddingXS}px)`}},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:n.progressRemainingColor,borderRadius:n.progressLineRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorInfo}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",backgroundColor:n.colorInfo,borderRadius:n.progressLineRadius,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:n.colorSuccess},[`${e}-text`]:{display:"inline-block",width:"2em",marginInlineStart:n.marginXS,color:n.progressInfoTextColor,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[i]:{fontSize:n.fontSize}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:n.colorBgContainer,borderRadius:n.progressLineRadius,opacity:0,animationName:b0e,animationDuration:n.progressActiveMotionDuration,animationTimingFunction:n.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:n.colorError},[`${e}-text`]:{color:n.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:n.colorSuccess},[`${e}-text`]:{color:n.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorSuccess}}})}},_0e=n=>{const{componentCls:e,iconCls:i}=n;return{[e]:{[`${e}-circle-trail`]:{stroke:n.progressRemainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:n.colorText,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[i]:{fontSize:`${n.fontSize/n.fontSizeSM}em`}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:n.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:n.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},S0e=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:n.progressStepMinWidth,marginInlineEnd:n.progressStepMarginInlineEnd,backgroundColor:n.progressRemainingColor,transition:`all ${n.motionDurationSlow}`,"&-active":{backgroundColor:n.colorInfo}}}}}},w0e=n=>{const{componentCls:e,iconCls:i}=n;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${i}`]:{fontSize:n.fontSizeSM}}}},C0e=Di("Progress",n=>{const e=n.marginXXS/2,i=Nn(n,{progressLineRadius:100,progressInfoTextColor:n.colorText,progressDefaultColor:n.colorInfo,progressRemainingColor:n.colorFillSecondary,progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[x0e(i),_0e(i),S0e(i),w0e(i)]});var T0e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const A0e=We({compatConfig:{MODE:3},name:"AProgress",inheritAttrs:!1,props:ui(hw(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:Object,setup(n,e){let{slots:i,attrs:r}=e;const{prefixCls:o,direction:s}=en("progress",n),[a,l]=C0e(o),u=K(()=>Array.isArray(n.strokeColor)?n.strokeColor[0]:n.strokeColor),c=K(()=>{const{percent:v=0}=n,b=W_(n);return parseInt(b!==void 0?b.toString():v.toString(),10)}),d=K(()=>{const{status:v}=n;return!e0e.includes(v)&&c.value>=100?"success":v||"normal"}),f=K(()=>{const{type:v,showInfo:b,size:y}=n,m=o.value;return{[m]:!0,[`${m}-inline-circle`]:v==="circle"&&pw(y,"circle").width<=20,[`${m}-${v==="dashboard"&&"circle"||v}`]:!0,[`${m}-status-${d.value}`]:!0,[`${m}-show-info`]:b,[`${m}-${y}`]:y,[`${m}-rtl`]:s.value==="rtl",[l.value]:!0}}),h=K(()=>typeof n.strokeColor=="string"||Array.isArray(n.strokeColor)?n.strokeColor:void 0),p=()=>{const{showInfo:v,format:b,type:y,percent:m,title:_}=n,S=W_(n);if(!v)return null;let w;const T=b||(i==null?void 0:i.format)||(C=>`${C}%`),A=y==="line";return b||i!=null&&i.format||d.value!=="exception"&&d.value!=="success"?w=T(xf(m),xf(S)):d.value==="exception"?w=I(A?eh:fd,null,null):d.value==="success"&&(w=I(A?sw:tw,null,null)),I("span",{class:`${o.value}-text`,title:_===void 0&&typeof w=="string"?w:void 0},[w])};return()=>{const{type:v,steps:b,title:y}=n,{class:m}=r,_=T0e(r,["class"]),S=p();let w;return v==="line"?w=b?I(y0e,be(be({},n),{},{strokeColor:h.value,prefixCls:o.value,steps:b}),{default:()=>[S]}):I(a0e,be(be({},n),{},{strokeColor:u.value,prefixCls:o.value,direction:s.value}),{default:()=>[S]}):(v==="circle"||v==="dashboard")&&(w=I(m0e,be(be({},n),{},{prefixCls:o.value,strokeColor:u.value,progressStatus:d.value}),{default:()=>[S]})),a(I("div",be(be({role:"progressbar"},_),{},{class:[f.value,m],title:y}),[w]))}}}),E0e=cd(A0e),M0e=n=>{const{componentCls:e}=n,i=`${e}-inner`;return{[e]:{[`&${e}-small`]:{minWidth:n.switchMinWidthSM,height:n.switchHeightSM,lineHeight:`${n.switchHeightSM}px`,[`${e}-inner`]:{paddingInlineStart:n.switchInnerMarginMaxSM,paddingInlineEnd:n.switchInnerMarginMinSM,[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${n.switchPinSizeSM+n.switchPadding*2}px - ${n.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${n.switchPinSizeSM+n.switchPadding*2}px + ${n.switchInnerMarginMaxSM*2}px)`},[`${i}-unchecked`]:{marginTop:-n.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:n.switchPinSizeSM,height:n.switchPinSizeSM},[`${e}-loading-icon`]:{top:(n.switchPinSizeSM-n.switchLoadingIconSize)/2,fontSize:n.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:n.switchInnerMarginMinSM,paddingInlineEnd:n.switchInnerMarginMaxSM,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${n.switchPinSizeSM+n.switchPadding*2}px + ${n.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${n.switchPinSizeSM+n.switchPadding*2}px - ${n.switchInnerMarginMaxSM*2}px)`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${n.switchPinSizeSM+n.switchPadding}px)`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:n.marginXXS/2,marginInlineEnd:-n.marginXXS/2}},[`&${e}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:-n.marginXXS/2,marginInlineEnd:n.marginXXS/2}}}}}}},R0e=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-loading-icon${n.iconCls}`]:{position:"relative",top:(n.switchPinSize-n.fontSize)/2,color:n.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:n.switchColor}}}},P0e=n=>{const{componentCls:e}=n,i=`${e}-handle`;return{[e]:{[i]:{position:"absolute",top:n.switchPadding,insetInlineStart:n.switchPadding,width:n.switchPinSize,height:n.switchPinSize,transition:`all ${n.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:n.colorWhite,borderRadius:n.switchPinSize/2,boxShadow:n.switchHandleShadow,transition:`all ${n.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${i}`]:{insetInlineStart:`calc(100% - ${n.switchPinSize+n.switchPadding}px)`},[`&:not(${e}-disabled):active`]:{[`${i}::before`]:{insetInlineEnd:n.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${i}::before`]:{insetInlineEnd:0,insetInlineStart:n.switchHandleActiveInset}}}}},I0e=n=>{const{componentCls:e}=n,i=`${e}-inner`;return{[e]:{[i]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:n.switchInnerMarginMax,paddingInlineEnd:n.switchInnerMarginMin,transition:`padding-inline-start ${n.switchDuration} ease-in-out, padding-inline-end ${n.switchDuration} ease-in-out`,[`${i}-checked, ${i}-unchecked`]:{display:"block",color:n.colorTextLightSolid,fontSize:n.fontSizeSM,transition:`margin-inline-start ${n.switchDuration} ease-in-out, margin-inline-end ${n.switchDuration} ease-in-out`,pointerEvents:"none"},[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${n.switchPinSize+n.switchPadding*2}px - ${n.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${n.switchPinSize+n.switchPadding*2}px + ${n.switchInnerMarginMax*2}px)`},[`${i}-unchecked`]:{marginTop:-n.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${i}`]:{paddingInlineStart:n.switchInnerMarginMin,paddingInlineEnd:n.switchInnerMarginMax,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${n.switchPinSize+n.switchPadding*2}px + ${n.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${n.switchPinSize+n.switchPadding*2}px - ${n.switchInnerMarginMax*2}px)`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:n.switchPadding*2,marginInlineEnd:-n.switchPadding*2}},[`&${e}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:-n.switchPadding*2,marginInlineEnd:n.switchPadding*2}}}}}},N0e=n=>{const{componentCls:e}=n;return{[e]:O(O(O(O({},li(n)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:n.switchMinWidth,height:n.switchHeight,lineHeight:`${n.switchHeight}px`,verticalAlign:"middle",background:n.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${n.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:n.colorTextTertiary}}),Nf(n)),{[`&${e}-checked`]:{background:n.switchColor,[`&:hover:not(${e}-disabled)`]:{background:n.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:n.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},O0e=Di("Switch",n=>{const e=n.fontSize*n.lineHeight,i=n.controlHeight/2,r=2,o=e-r*2,s=i-r*2,a=Nn(n,{switchMinWidth:o*2+r*4,switchHeight:e,switchDuration:n.motionDurationMid,switchColor:n.colorPrimary,switchDisabledOpacity:n.opacityLoading,switchInnerMarginMin:o/2,switchInnerMarginMax:o+r+r*2,switchPadding:r,switchPinSize:o,switchBg:n.colorBgContainer,switchMinWidthSM:s*2+r*2,switchHeightSM:i,switchInnerMarginMinSM:s/2,switchInnerMarginMaxSM:s+r+r*2,switchPinSizeSM:s,switchHandleShadow:`0 2px 4px 0 ${new zi("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:n.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${n.opacityLoading})`,switchHandleActiveInset:"-30%"});return[N0e(a),I0e(a),P0e(a),R0e(a),M0e(a)]}),D0e=If("small","default"),L0e=()=>({id:String,prefixCls:String,size:_e.oneOf(D0e),disabled:{type:Boolean,default:void 0},checkedChildren:_e.any,unCheckedChildren:_e.any,tabindex:_e.oneOfType([_e.string,_e.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:_e.oneOfType([_e.string,_e.number,_e.looseBool]),checkedValue:_e.oneOfType([_e.string,_e.number,_e.looseBool]).def(!0),unCheckedValue:_e.oneOfType([_e.string,_e.number,_e.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),B0e=We({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:L0e(),slots:Object,setup(n,e){let{attrs:i,slots:r,expose:o,emit:s}=e;const a=Qu(),l=vl(),u=K(()=>{var E;return(E=n.disabled)!==null&&E!==void 0?E:l.value});dR(()=>{});const c=He(n.checked!==void 0?n.checked:i.defaultChecked),d=K(()=>c.value===n.checkedValue);ut(()=>n.checked,()=>{c.value=n.checked});const{prefixCls:f,direction:h,size:p}=en("switch",n),[v,b]=O0e(f),y=He(),m=()=>{var E;(E=y.value)===null||E===void 0||E.focus()};o({focus:m,blur:()=>{var E;(E=y.value)===null||E===void 0||E.blur()}}),Jt(()=>{Un(()=>{n.autofocus&&!u.value&&y.value.focus()})});const S=(E,P)=>{u.value||(s("update:checked",E),s("change",E,P),a.onFieldChange())},w=E=>{s("blur",E)},T=E=>{m();const P=d.value?n.unCheckedValue:n.checkedValue;S(P,E),s("click",P,E)},A=E=>{E.keyCode===st.LEFT?S(n.unCheckedValue,E):E.keyCode===st.RIGHT&&S(n.checkedValue,E),s("keydown",E)},C=E=>{var P;(P=y.value)===null||P===void 0||P.blur(),s("mouseup",E)},R=K(()=>({[`${f.value}-small`]:p.value==="small",[`${f.value}-loading`]:n.loading,[`${f.value}-checked`]:d.value,[`${f.value}-disabled`]:u.value,[f.value]:!0,[`${f.value}-rtl`]:h.value==="rtl",[b.value]:!0}));return()=>{var E;return v(I(mP,null,{default:()=>[I("button",be(be(be({},wi(n,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),i),{},{id:(E=n.id)!==null&&E!==void 0?E:a.id.value,onKeydown:A,onClick:T,onBlur:w,onMouseup:C,type:"button",role:"switch","aria-checked":c.value,disabled:u.value||n.loading,class:[i.class,R.value],ref:y}),[I("div",{class:`${f.value}-handle`},[n.loading?I(Sl,{class:`${f.value}-loading-icon`},null):null]),I("span",{class:`${f.value}-inner`},[I("span",{class:`${f.value}-inner-checked`},[na(r,n,"checkedChildren")]),I("span",{class:`${f.value}-inner-unchecked`},[na(r,n,"unCheckedChildren")])])])]}))}}}),F0e=cd(B0e),VG=Symbol("TableContextProps"),$0e=n=>{Wn(VG,n)},Il=()=>Xt(VG,{}),U0e="RC_TABLE_KEY";function WG(n){return n==null?[]:Array.isArray(n)?n:[n]}function jG(n,e){if(!e&&typeof e!="number")return n;const i=WG(e);let r=n;for(let o=0;o<i.length;o+=1){if(!r)return null;const s=i[o];r=r[s]}return r}function gw(n){const e=[],i={};return n.forEach(r=>{const{key:o,dataIndex:s}=r||{};let a=o||WG(s).join("-")||U0e;for(;i[a];)a=`${a}_next`;i[a]=!0,e.push(a)}),e}function k0e(){const n={};function e(s,a){a&&Object.keys(a).forEach(l=>{const u=a[l];u&&typeof u=="object"?(s[l]=s[l]||{},e(s[l],u)):s[l]=u})}for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return r.forEach(s=>{e(n,s)}),n}function gM(n){return n!=null}const KG=Symbol("SlotsContextProps"),z0e=n=>{Wn(KG,n)},LP=()=>Xt(KG,K(()=>({}))),XG=Symbol("ContextProps"),H0e=n=>{Wn(XG,n)},G0e=()=>Xt(XG,{onResizeColumn:()=>{}}),Rp="RC_TABLE_INTERNAL_COL_DEFINE",qG=Symbol("HoverContextProps"),V0e=n=>{Wn(qG,n)},W0e=()=>Xt(qG,{startRow:Ne(-1),endRow:Ne(-1),onHover(){}}),mM=Ne(!1),j0e=()=>{Jt(()=>{mM.value=mM.value||wve("position","sticky")})},K0e=()=>mM;var X0e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function q0e(n,e,i,r){const o=n+e-1;return n<=r&&o>=i}function Y0e(n){return n&&typeof n=="object"&&!Array.isArray(n)&&!Sr(n)}const mw=We({name:"Cell",props:["prefixCls","record","index","renderIndex","dataIndex","customRender","component","colSpan","rowSpan","fixLeft","fixRight","firstFixLeft","lastFixLeft","firstFixRight","lastFixRight","appendNode","additionalProps","ellipsis","align","rowType","isSticky","column","cellType","transformCellText"],setup(n,e){let{slots:i}=e;const r=LP(),{onHover:o,startRow:s,endRow:a}=W0e(),l=K(()=>{var b,y,m,_;return(m=(b=n.colSpan)!==null&&b!==void 0?b:(y=n.additionalProps)===null||y===void 0?void 0:y.colSpan)!==null&&m!==void 0?m:(_=n.additionalProps)===null||_===void 0?void 0:_.colspan}),u=K(()=>{var b,y,m,_;return(m=(b=n.rowSpan)!==null&&b!==void 0?b:(y=n.additionalProps)===null||y===void 0?void 0:y.rowSpan)!==null&&m!==void 0?m:(_=n.additionalProps)===null||_===void 0?void 0:_.rowspan}),c=Ca(()=>{const{index:b}=n;return q0e(b,u.value||1,s.value,a.value)}),d=K0e(),f=(b,y)=>{var m;const{record:_,index:S,additionalProps:w}=n;_&&o(S,S+y-1),(m=w==null?void 0:w.onMouseenter)===null||m===void 0||m.call(w,b)},h=b=>{var y;const{record:m,additionalProps:_}=n;m&&o(-1,-1),(y=_==null?void 0:_.onMouseleave)===null||y===void 0||y.call(_,b)},p=b=>{const y=Po(b)[0];return Sr(y)?y.type===Xf?y.children:Array.isArray(y.children)?p(y.children):void 0:y},v=Ne(null);return ut([c,()=>n.prefixCls,v],()=>{const b=Su(v.value);b&&(c.value?iM(b,`${n.prefixCls}-cell-row-hover`):rM(b,`${n.prefixCls}-cell-row-hover`))}),()=>{var b,y,m,_,S,w;const{prefixCls:T,record:A,index:C,renderIndex:R,dataIndex:E,customRender:P,component:N="td",fixLeft:D,fixRight:$,firstFixLeft:L,lastFixLeft:F,firstFixRight:U,lastFixRight:k,appendNode:H=(b=i.appendNode)===null||b===void 0?void 0:b.call(i),additionalProps:z={},ellipsis:Q,align:Z,rowType:ie,isSticky:we,column:J={},cellType:se}=n,ee=`${T}-cell`;let ne,ue;const Y=(y=i.default)===null||y===void 0?void 0:y.call(i);if(gM(Y)||se==="header")ue=Y;else{const de=jG(A,E);if(ue=de,P){const re=P({text:de,value:de,record:A,index:C,renderIndex:R,column:J.__originColumn__});Y0e(re)?(ue=re.children,ne=re.props):ue=re}if(!(Rp in J)&&se==="body"&&r.value.bodyCell&&!(!((m=J.slots)===null||m===void 0)&&m.customRender)){const re=KS(r.value,"bodyCell",{text:de,value:de,record:A,index:C,column:J.__originColumn__},()=>{const ye=ue===void 0?de:ue;return[typeof ye=="object"&&lo(ye)||typeof ye!="object"?ye:null]});ue=tr(re)}n.transformCellText&&(ue=n.transformCellText({text:ue,record:A,index:C,column:J.__originColumn__}))}typeof ue=="object"&&!Array.isArray(ue)&&!Sr(ue)&&(ue=null),Q&&(F||U)&&(ue=I("span",{class:`${ee}-content`},[ue])),Array.isArray(ue)&&ue.length===1&&(ue=ue[0]);const le=ne||{},{colSpan:he,rowSpan:W,style:X,class:V}=le,Ce=X0e(le,["colSpan","rowSpan","style","class"]),pe=(_=he!==void 0?he:l.value)!==null&&_!==void 0?_:1,Se=(S=W!==void 0?W:u.value)!==null&&S!==void 0?S:1;if(pe===0||Se===0)return null;const fe={},ge=typeof D=="number"&&d.value,ve=typeof $=="number"&&d.value;ge&&(fe.position="sticky",fe.left=`${D}px`),ve&&(fe.position="sticky",fe.right=`${$}px`);const j={};Z&&(j.textAlign=Z);let G;const ce=Q===!0?{showTitle:!0}:Q;ce&&(ce.showTitle||ie==="header")&&(typeof ue=="string"||typeof ue=="number"?G=ue.toString():Sr(ue)&&(G=p([ue])));const Ee=O(O(O({title:G},Ce),z),{colSpan:pe!==1?pe:null,rowSpan:Se!==1?Se:null,class:Ye(ee,{[`${ee}-fix-left`]:ge&&d.value,[`${ee}-fix-left-first`]:L&&d.value,[`${ee}-fix-left-last`]:F&&d.value,[`${ee}-fix-right`]:ve&&d.value,[`${ee}-fix-right-first`]:U&&d.value,[`${ee}-fix-right-last`]:k&&d.value,[`${ee}-ellipsis`]:Q,[`${ee}-with-append`]:H,[`${ee}-fix-sticky`]:(ge||ve)&&we&&d.value},z.class,V),onMouseenter:de=>{f(de,Se)},onMouseleave:h,style:[z.style,j,fe,X]});return I(N,be(be({},Ee),{},{ref:v}),{default:()=>[H,ue,(w=i.dragHandle)===null||w===void 0?void 0:w.call(i)]})}}});function BP(n,e,i,r,o){const s=i[n]||{},a=i[e]||{};let l,u;s.fixed==="left"?l=r.left[n]:a.fixed==="right"&&(u=r.right[e]);let c=!1,d=!1,f=!1,h=!1;const p=i[e+1],v=i[n-1];return o==="rtl"?l!==void 0?h=!(v&&v.fixed==="left"):u!==void 0&&(f=!(p&&p.fixed==="right")):l!==void 0?c=!(p&&p.fixed==="left"):u!==void 0&&(d=!(v&&v.fixed==="right")),{fixLeft:l,fixRight:u,lastFixLeft:c,firstFixRight:d,lastFixRight:f,firstFixLeft:h,isSticky:r.isSticky}}const UF={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},kF=50,Q0e=We({compatConfig:{MODE:3},name:"DragHandle",props:{prefixCls:String,width:{type:Number,required:!0},minWidth:{type:Number,default:kF},maxWidth:{type:Number,default:1/0},column:{type:Object,default:void 0}},setup(n){let e=0,i={remove:()=>{}},r={remove:()=>{}};const o=()=>{i.remove(),r.remove()};Ha(()=>{o()}),an(()=>{fi(!isNaN(n.width),"Table","width must be a number when use resizable")});const{onResizeColumn:s}=G0e(),a=K(()=>typeof n.minWidth=="number"&&!isNaN(n.minWidth)?n.minWidth:kF),l=K(()=>typeof n.maxWidth=="number"&&!isNaN(n.maxWidth)?n.maxWidth:1/0),u=is();let c=0;const d=Ne(!1);let f;const h=S=>{let w=0;S.touches?S.touches.length?w=S.touches[0].pageX:w=S.changedTouches[0].pageX:w=S.pageX;const T=e-w;let A=Math.max(c-T,a.value);A=Math.min(A,l.value),bn.cancel(f),f=bn(()=>{s(A,n.column.__originColumn__)})},p=S=>{h(S)},v=S=>{d.value=!1,h(S),o()},b=(S,w)=>{d.value=!0,o(),c=u.vnode.el.parentNode.getBoundingClientRect().width,!(S instanceof MouseEvent&&S.which!==1)&&(S.stopPropagation&&S.stopPropagation(),e=S.touches?S.touches[0].pageX:S.pageX,i=ea(document.documentElement,w.move,p),r=ea(document.documentElement,w.stop,v))},y=S=>{S.stopPropagation(),S.preventDefault(),b(S,UF.mouse)},m=S=>{S.stopPropagation(),S.preventDefault(),b(S,UF.touch)},_=S=>{S.stopPropagation(),S.preventDefault()};return()=>{const{prefixCls:S}=n,w={[ro?"onTouchstartPassive":"onTouchstart"]:T=>m(T)};return I("div",be(be({class:`${S}-resize-handle ${d.value?"dragging":""}`,onMousedown:y},w),{},{onClick:_}),[I("div",{class:`${S}-resize-handle-line`},null)])}}}),Z0e=We({name:"HeaderRow",props:["cells","stickyOffsets","flattenColumns","rowComponent","cellComponent","index","customHeaderRow"],setup(n){const e=Il();return()=>{const{prefixCls:i,direction:r}=e,{cells:o,stickyOffsets:s,flattenColumns:a,rowComponent:l,cellComponent:u,customHeaderRow:c,index:d}=n;let f;c&&(f=c(o.map(p=>p.column),d));const h=gw(o.map(p=>p.column));return I(l,f,{default:()=>[o.map((p,v)=>{const{column:b}=p,y=BP(p.colStart,p.colEnd,a,s,r);let m;b&&b.customHeaderCell&&(m=p.column.customHeaderCell(b));const _=b;return I(mw,be(be(be({},p),{},{cellType:"header",ellipsis:b.ellipsis,align:b.align,component:u,prefixCls:i,key:h[v]},y),{},{additionalProps:m,rowType:"header",column:b}),{default:()=>b.title,dragHandle:()=>_.resizable?I(Q0e,{prefixCls:i,width:_.width,minWidth:_.minWidth,maxWidth:_.maxWidth,column:_},null):null})})]})}}});function J0e(n){const e=[];function i(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[a]=e[a]||[];let l=s;return o.filter(Boolean).map(c=>{const d={key:c.key,class:Ye(c.className,c.class),column:c,colStart:l};let f=1;const h=c.children;return h&&h.length>0&&(f=i(h,l,a+1).reduce((p,v)=>p+v,0),d.hasSubColumns=!0),"colSpan"in c&&({colSpan:f}=c),"rowSpan"in c&&(d.rowSpan=c.rowSpan),d.colSpan=f,d.colEnd=d.colStart+f-1,e[a].push(d),l+=f,f})}i(n,0);const r=e.length;for(let o=0;o<r;o+=1)e[o].forEach(s=>{!("rowSpan"in s)&&!s.hasSubColumns&&(s.rowSpan=r-o)});return e}const zF=We({name:"TableHeader",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow"],setup(n){const e=Il(),i=K(()=>J0e(n.columns));return()=>{const{prefixCls:r,getComponent:o}=e,{stickyOffsets:s,flattenColumns:a,customHeaderRow:l}=n,u=o(["header","wrapper"],"thead"),c=o(["header","row"],"tr"),d=o(["header","cell"],"th");return I(u,{class:`${r}-thead`},{default:()=>[i.value.map((f,h)=>I(Z0e,{key:h,flattenColumns:a,cells:f,stickyOffsets:s,rowComponent:c,cellComponent:d,customHeaderRow:l,index:h},null))]})}}}),YG=Symbol("ExpandedRowProps"),ebe=n=>{Wn(YG,n)},tbe=()=>Xt(YG,{}),QG=We({name:"ExpandedRow",inheritAttrs:!1,props:["prefixCls","component","cellComponent","expanded","colSpan","isEmpty"],setup(n,e){let{slots:i,attrs:r}=e;const o=Il(),s=tbe(),{fixHeader:a,fixColumn:l,componentWidth:u,horizonScroll:c}=s;return()=>{const{prefixCls:d,component:f,cellComponent:h,expanded:p,colSpan:v,isEmpty:b}=n;return I(f,{class:r.class,style:{display:p?null:"none"}},{default:()=>[I(mw,{component:h,prefixCls:d,colSpan:v},{default:()=>{var y;let m=(y=i.default)===null||y===void 0?void 0:y.call(i);return(b?c.value:l.value)&&(m=I("div",{style:{width:`${u.value-(a.value?o.scrollbarSize:0)}px`,position:"sticky",left:0,overflow:"hidden"},class:`${d}-expanded-row-fixed`},[m])),m}})]})}}}),nbe=We({name:"MeasureCell",props:["columnKey"],setup(n,e){let{emit:i}=e;const r=He();return Jt(()=>{r.value&&i("columnResize",n.columnKey,r.value.offsetWidth)}),()=>I(ed,{onResize:o=>{let{offsetWidth:s}=o;i("columnResize",n.columnKey,s)}},{default:()=>[I("td",{ref:r,style:{padding:0,border:0,height:0}},[I("div",{style:{height:0,overflow:"hidden"}},[Ji(" ")])])]})}}),ZG=Symbol("BodyContextProps"),ibe=n=>{Wn(ZG,n)},JG=()=>Xt(ZG,{}),rbe=We({name:"BodyRow",inheritAttrs:!1,props:["record","index","renderIndex","recordKey","expandedKeys","rowComponent","cellComponent","customRow","rowExpandable","indent","rowKey","getRowKey","childrenColumnName"],setup(n,e){let{attrs:i}=e;const r=Il(),o=JG(),s=Ne(!1),a=K(()=>n.expandedKeys&&n.expandedKeys.has(n.recordKey));an(()=>{a.value&&(s.value=!0)});const l=K(()=>o.expandableType==="row"&&(!n.rowExpandable||n.rowExpandable(n.record))),u=K(()=>o.expandableType==="nest"),c=K(()=>n.childrenColumnName&&n.record&&n.record[n.childrenColumnName]),d=K(()=>l.value||u.value),f=(y,m)=>{o.onTriggerExpand(y,m)},h=K(()=>{var y;return((y=n.customRow)===null||y===void 0?void 0:y.call(n,n.record,n.index))||{}}),p=function(y){var m,_;o.expandRowByClick&&d.value&&f(n.record,y);for(var S=arguments.length,w=new Array(S>1?S-1:0),T=1;T<S;T++)w[T-1]=arguments[T];(_=(m=h.value)===null||m===void 0?void 0:m.onClick)===null||_===void 0||_.call(m,y,...w)},v=K(()=>{const{record:y,index:m,indent:_}=n,{rowClassName:S}=o;return typeof S=="string"?S:typeof S=="function"?S(y,m,_):""}),b=K(()=>gw(o.flattenColumns));return()=>{const{class:y,style:m}=i,{record:_,index:S,rowKey:w,indent:T=0,rowComponent:A,cellComponent:C}=n,{prefixCls:R,fixedInfoList:E,transformCellText:P}=r,{flattenColumns:N,expandedRowClassName:D,indentSize:$,expandIcon:L,expandedRowRender:F,expandIconColumnIndex:U}=o,k=I(A,be(be({},h.value),{},{"data-row-key":w,class:Ye(y,`${R}-row`,`${R}-row-level-${T}`,v.value,h.value.class),style:[m,h.value.style],onClick:p}),{default:()=>[N.map((z,Q)=>{const{customRender:Z,dataIndex:ie,className:we}=z,J=b[Q],se=E[Q];let ee;z.customCell&&(ee=z.customCell(_,S,z));const ne=Q===(U||0)&&u.value?I(mn,null,[I("span",{style:{paddingLeft:`${$*T}px`},class:`${R}-row-indent indent-level-${T}`},null),L({prefixCls:R,expanded:a.value,expandable:c.value,record:_,onExpand:f})]):null;return I(mw,be(be({cellType:"body",class:we,ellipsis:z.ellipsis,align:z.align,component:C,prefixCls:R,key:J,record:_,index:S,renderIndex:n.renderIndex,dataIndex:ie,customRender:Z},se),{},{additionalProps:ee,column:z,transformCellText:P,appendNode:ne}),null)})]});let H;if(l.value&&(s.value||a.value)){const z=F({record:_,index:S,indent:T+1,expanded:a.value}),Q=D&&D(_,S,T);H=I(QG,{expanded:a.value,class:Ye(`${R}-expanded-row`,`${R}-expanded-row-level-${T+1}`,Q),prefixCls:R,component:A,cellComponent:C,colSpan:N.length,isEmpty:!1},{default:()=>[z]})}return I(mn,null,[k,H])}}});function eV(n,e,i,r,o,s){const a=[];a.push({record:n,indent:e,index:s});const l=o(n),u=r==null?void 0:r.has(l);if(n&&Array.isArray(n[i])&&u)for(let c=0;c<n[i].length;c+=1){const d=eV(n[i][c],e+1,i,r,o,c);a.push(...d)}return a}function obe(n,e,i,r){return K(()=>{const s=e.value,a=i.value,l=n.value;if(a!=null&&a.size){const u=[];for(let c=0;c<(l==null?void 0:l.length);c+=1){const d=l[c];u.push(...eV(d,0,s,a,r.value,c))}return u}return l==null?void 0:l.map((u,c)=>({record:u,indent:0,index:c}))})}const tV=Symbol("ResizeContextProps"),sbe=n=>{Wn(tV,n)},abe=()=>Xt(tV,{onColumnResize:()=>{}}),lbe=We({name:"TableBody",props:["data","getRowKey","measureColumnWidth","expandedKeys","customRow","rowExpandable","childrenColumnName"],setup(n,e){let{slots:i}=e;const r=abe(),o=Il(),s=JG(),a=obe(Zn(n,"data"),Zn(n,"childrenColumnName"),Zn(n,"expandedKeys"),Zn(n,"getRowKey")),l=Ne(-1),u=Ne(-1);let c;return V0e({startRow:l,endRow:u,onHover:(d,f)=>{clearTimeout(c),c=setTimeout(()=>{l.value=d,u.value=f},100)}}),()=>{var d;const{data:f,getRowKey:h,measureColumnWidth:p,expandedKeys:v,customRow:b,rowExpandable:y,childrenColumnName:m}=n,{onColumnResize:_}=r,{prefixCls:S,getComponent:w}=o,{flattenColumns:T}=s,A=w(["body","wrapper"],"tbody"),C=w(["body","row"],"tr"),R=w(["body","cell"],"td");let E;f.length?E=a.value.map((N,D)=>{const{record:$,indent:L,index:F}=N,U=h($,D);return I(rbe,{key:U,rowKey:U,record:$,recordKey:U,index:D,renderIndex:F,rowComponent:C,cellComponent:R,expandedKeys:v,customRow:b,getRowKey:h,rowExpandable:y,childrenColumnName:m,indent:L},null)}):E=I(QG,{expanded:!0,class:`${S}-placeholder`,prefixCls:S,component:C,cellComponent:R,colSpan:T.length,isEmpty:!0},{default:()=>[(d=i.emptyNode)===null||d===void 0?void 0:d.call(i)]});const P=gw(T);return I(A,{class:`${S}-tbody`},{default:()=>[p&&I("tr",{"aria-hidden":"true",class:`${S}-measure-row`,style:{height:0,fontSize:0}},[P.map(N=>I(nbe,{key:N,columnKey:N,onColumnResize:_},null))]),E]})}}}),Bc={};var ube=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function vM(n){return n.reduce((e,i)=>{const{fixed:r}=i,o=r===!0?"left":r,s=i.children;return s&&s.length>0?[...e,...vM(s).map(a=>O({fixed:o},a))]:[...e,O(O({},i),{fixed:o})]},[])}function cbe(n){return n.map(e=>{const{fixed:i}=e,r=ube(e,["fixed"]);let o=i;return i==="left"?o="right":i==="right"&&(o="left"),O({fixed:o},r)})}function dbe(n,e){let{prefixCls:i,columns:r,expandable:o,expandedKeys:s,getRowKey:a,onTriggerExpand:l,expandIcon:u,rowExpandable:c,expandIconColumnIndex:d,direction:f,expandRowByClick:h,expandColumnWidth:p,expandFixed:v}=n;const b=LP(),y=K(()=>{if(o.value){let S=r.value.slice();if(!S.includes(Bc)){const $=d.value||0;$>=0&&S.splice($,0,Bc)}const w=S.indexOf(Bc);S=S.filter(($,L)=>$!==Bc||L===w);const T=r.value[w];let A;(v.value==="left"||v.value)&&!d.value?A="left":(v.value==="right"||v.value)&&d.value===r.value.length?A="right":A=T?T.fixed:null;const C=s.value,R=c.value,E=u.value,P=i.value,N=h.value,D={[Rp]:{class:`${i.value}-expand-icon-col`,columnType:"EXPAND_COLUMN"},title:KS(b.value,"expandColumnTitle",{},()=>[""]),fixed:A,class:`${i.value}-row-expand-icon-cell`,width:p.value,customRender:$=>{let{record:L,index:F}=$;const U=a.value(L,F),k=C.has(U),H=R?R(L):!0,z=E({prefixCls:P,expanded:k,expandable:H,record:L,onExpand:l});return N?I("span",{onClick:Q=>Q.stopPropagation()},[z]):z}};return S.map($=>$===Bc?D:$)}return r.value.filter(S=>S!==Bc)}),m=K(()=>{let S=y.value;return e.value&&(S=e.value(S)),S.length||(S=[{customRender:()=>null}]),S}),_=K(()=>f.value==="rtl"?cbe(vM(m.value)):vM(m.value));return[m,_]}function nV(n){const e=Ne(n);let i;const r=Ne([]);function o(s){r.value.push(s),bn.cancel(i),i=bn(()=>{const a=r.value;r.value=[],a.forEach(l=>{e.value=l(e.value)})})}return Rn(()=>{bn.cancel(i)}),[e,o]}function fbe(n){const e=He(null),i=He();function r(){clearTimeout(i.value)}function o(a){e.value=a,r(),i.value=setTimeout(()=>{e.value=null,i.value=void 0},100)}function s(){return e.value}return Rn(()=>{r()}),[o,s]}function hbe(n,e,i){return K(()=>{const o=[],s=[];let a=0,l=0;const u=n.value,c=e.value,d=i.value;for(let f=0;f<c;f+=1)if(d==="rtl"){s[f]=l,l+=u[f]||0;const h=c-f-1;o[h]=a,a+=u[h]||0}else{o[f]=a,a+=u[f]||0;const h=c-f-1;s[h]=l,l+=u[h]||0}return{left:o,right:s}})}var pbe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function iV(n){let{colWidths:e,columns:i,columCount:r}=n;const o=[],s=r||i.length;let a=!1;for(let l=s-1;l>=0;l-=1){const u=e[l],c=i&&i[l],d=c&&c[Rp];if(u||d||a){const f=d||{},h=pbe(f,["columnType"]);o.unshift(I("col",be({key:l,style:{width:typeof u=="number"?`${u}px`:u}},h),null)),a=!0}}return I("colgroup",null,[o])}function yM(n,e){let{slots:i}=e;var r;return I("div",null,[(r=i.default)===null||r===void 0?void 0:r.call(i)])}yM.displayName="Panel";let gbe=0;const mbe=We({name:"TableSummary",props:["fixed"],setup(n,e){let{slots:i}=e;const r=Il(),o=`table-summary-uni-key-${++gbe}`,s=K(()=>n.fixed===""||n.fixed);return an(()=>{r.summaryCollect(o,s.value)}),Rn(()=>{r.summaryCollect(o,!1)}),()=>{var a;return(a=i.default)===null||a===void 0?void 0:a.call(i)}}}),vbe=We({compatConfig:{MODE:3},name:"ATableSummaryRow",setup(n,e){let{slots:i}=e;return()=>{var r;return I("tr",null,[(r=i.default)===null||r===void 0?void 0:r.call(i)])}}}),rV=Symbol("SummaryContextProps"),ybe=n=>{Wn(rV,n)},bbe=()=>Xt(rV,{}),xbe=We({name:"ATableSummaryCell",props:["index","colSpan","rowSpan","align"],setup(n,e){let{attrs:i,slots:r}=e;const o=Il(),s=bbe();return()=>{const{index:a,colSpan:l=1,rowSpan:u,align:c}=n,{prefixCls:d,direction:f}=o,{scrollColumnIndex:h,stickyOffsets:p,flattenColumns:v}=s,y=a+l-1+1===h?l+1:l,m=BP(a,a+y-1,v,p,f);return I(mw,be({class:i.class,index:a,component:"td",prefixCls:d,record:null,dataIndex:null,align:c,colSpan:y,rowSpan:u,customRender:()=>{var _;return(_=r.default)===null||_===void 0?void 0:_.call(r)}},m),null)}}}),hb=We({name:"TableFooter",inheritAttrs:!1,props:["stickyOffsets","flattenColumns"],setup(n,e){let{slots:i}=e;const r=Il();return ybe(Wi({stickyOffsets:Zn(n,"stickyOffsets"),flattenColumns:Zn(n,"flattenColumns"),scrollColumnIndex:K(()=>{const o=n.flattenColumns.length-1,s=n.flattenColumns[o];return s!=null&&s.scrollbar?o:null})})),()=>{var o;const{prefixCls:s}=r;return I("tfoot",{class:`${s}-summary`},[(o=i.default)===null||o===void 0?void 0:o.call(i)])}}}),_be=mbe;function Sbe(n){let{prefixCls:e,record:i,onExpand:r,expanded:o,expandable:s}=n;const a=`${e}-row-expand-icon`;if(!s)return I("span",{class:[a,`${e}-row-spaced`]},null);const l=u=>{r(i,u),u.stopPropagation()};return I("span",{class:{[a]:!0,[`${e}-row-expanded`]:o,[`${e}-row-collapsed`]:!o},onClick:l},null)}function wbe(n,e,i){const r=[];function o(s){(s||[]).forEach((a,l)=>{r.push(e(a,l)),o(a[i])})}return o(n),r}const Cbe=We({name:"StickyScrollBar",inheritAttrs:!1,props:["offsetScroll","container","scrollBodyRef","scrollBodySizeInfo"],emits:["scroll"],setup(n,e){let{emit:i,expose:r}=e;const o=Il(),s=Ne(0),a=Ne(0),l=Ne(0);an(()=>{s.value=n.scrollBodySizeInfo.scrollWidth||0,a.value=n.scrollBodySizeInfo.clientWidth||0,l.value=s.value&&a.value*(a.value/s.value)},{flush:"post"});const u=Ne(),[c,d]=nV({scrollLeft:0,isHiddenScrollBar:!0}),f=He({delta:0,x:0}),h=Ne(!1),p=()=>{h.value=!1},v=C=>{f.value={delta:C.pageX-c.value.scrollLeft,x:0},h.value=!0,C.preventDefault()},b=C=>{const{buttons:R}=C||(window==null?void 0:window.event);if(!h.value||R===0){h.value&&(h.value=!1);return}let E=f.value.x+C.pageX-f.value.x-f.value.delta;E<=0&&(E=0),E+l.value>=a.value&&(E=a.value-l.value),i("scroll",{scrollLeft:E/a.value*(s.value+2)}),f.value.x=C.pageX},y=()=>{if(!n.scrollBodyRef.value)return;const C=iB(n.scrollBodyRef.value).top,R=C+n.scrollBodyRef.value.offsetHeight,E=n.container===window?document.documentElement.scrollTop+window.innerHeight:iB(n.container).top+n.container.clientHeight;R-N_()<=E||C>=E-n.offsetScroll?d(P=>O(O({},P),{isHiddenScrollBar:!0})):d(P=>O(O({},P),{isHiddenScrollBar:!1}))};r({setScrollLeft:C=>{d(R=>O(O({},R),{scrollLeft:C/s.value*a.value||0}))}});let _=null,S=null,w=null,T=null;Jt(()=>{_=ea(document.body,"mouseup",p,!1),S=ea(document.body,"mousemove",b,!1),w=ea(window,"resize",y,!1)}),q5(()=>{Un(()=>{y()})}),Jt(()=>{setTimeout(()=>{ut([l,h],()=>{y()},{immediate:!0,flush:"post"})})}),ut(()=>n.container,()=>{T==null||T.remove(),T=ea(n.container,"scroll",y,!1)},{immediate:!0,flush:"post"}),Rn(()=>{_==null||_.remove(),S==null||S.remove(),T==null||T.remove(),w==null||w.remove()}),ut(()=>O({},c.value),(C,R)=>{C.isHiddenScrollBar!==(R==null?void 0:R.isHiddenScrollBar)&&!C.isHiddenScrollBar&&d(E=>{const P=n.scrollBodyRef.value;return P?O(O({},E),{scrollLeft:P.scrollLeft/P.scrollWidth*P.clientWidth}):E})},{immediate:!0});const A=N_();return()=>{if(s.value<=a.value||!l.value||c.value.isHiddenScrollBar)return null;const{prefixCls:C}=o;return I("div",{style:{height:`${A}px`,width:`${a.value}px`,bottom:`${n.offsetScroll}px`},class:`${C}-sticky-scroll`},[I("div",{onMousedown:v,ref:u,class:Ye(`${C}-sticky-scroll-bar`,{[`${C}-sticky-scroll-bar-active`]:h.value}),style:{width:`${l.value}px`,transform:`translate3d(${c.value.scrollLeft}px, 0, 0)`}},null)])}}}),HF=aa()?window:null;function Tbe(n,e){return K(()=>{const{offsetHeader:i=0,offsetSummary:r=0,offsetScroll:o=0,getContainer:s=()=>HF}=typeof n.value=="object"?n.value:{},a=s()||HF,l=!!n.value;return{isSticky:l,stickyClassName:l?`${e.value}-sticky-holder`:"",offsetHeader:i,offsetSummary:r,offsetScroll:o,container:a}})}function Abe(n,e){return K(()=>{const i=[],r=n.value,o=e.value;for(let s=0;s<o;s+=1){const a=r[s];if(a!==void 0)i[s]=a;else return null}return i})}const GF=We({name:"FixedHolder",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow","noData","maxContentScroll","colWidths","columCount","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName"],emits:["scroll"],setup(n,e){let{attrs:i,slots:r,emit:o}=e;const s=Il(),a=K(()=>s.isSticky&&!n.fixHeader?0:s.scrollbarSize),l=He(),u=b=>{const{currentTarget:y,deltaX:m}=b;m&&(o("scroll",{currentTarget:y,scrollLeft:y.scrollLeft+m}),b.preventDefault())},c=He();Jt(()=>{Un(()=>{c.value=ea(l.value,"wheel",u)})}),Rn(()=>{var b;(b=c.value)===null||b===void 0||b.remove()});const d=K(()=>n.flattenColumns.every(b=>b.width&&b.width!==0&&b.width!=="0px")),f=He([]),h=He([]);an(()=>{const b=n.flattenColumns[n.flattenColumns.length-1],y={fixed:b?b.fixed:null,scrollbar:!0,customHeaderCell:()=>({class:`${s.prefixCls}-cell-scrollbar`})};f.value=a.value?[...n.columns,y]:n.columns,h.value=a.value?[...n.flattenColumns,y]:n.flattenColumns});const p=K(()=>{const{stickyOffsets:b,direction:y}=n,{right:m,left:_}=b;return O(O({},b),{left:y==="rtl"?[..._.map(S=>S+a.value),0]:_,right:y==="rtl"?m:[...m.map(S=>S+a.value),0],isSticky:s.isSticky})}),v=Abe(Zn(n,"colWidths"),Zn(n,"columCount"));return()=>{var b;const{noData:y,columCount:m,stickyTopOffset:_,stickyBottomOffset:S,stickyClassName:w,maxContentScroll:T}=n,{isSticky:A}=s;return I("div",{style:O({overflow:"hidden"},A?{top:`${_}px`,bottom:`${S}px`}:{}),ref:l,class:Ye(i.class,{[w]:!!w})},[I("table",{style:{tableLayout:"fixed",visibility:y||v.value?null:"hidden"}},[(!y||!T||d.value)&&I(iV,{colWidths:v.value?[...v.value,a.value]:[],columCount:m+1,columns:h.value},null),(b=r.default)===null||b===void 0?void 0:b.call(r,O(O({},n),{stickyOffsets:p.value,columns:f.value,flattenColumns:h.value}))])])}}});function VF(n){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return Wi(Ffe(i.map(o=>[o,Zn(n,o)])))}const Ebe=[],Mbe={},bM="rc-table-internal-hook",Rbe=We({name:"VcTable",inheritAttrs:!1,props:["prefixCls","data","columns","rowKey","tableLayout","scroll","rowClassName","title","footer","id","showHeader","components","customRow","customHeaderRow","direction","expandFixed","expandColumnWidth","expandedRowKeys","defaultExpandedRowKeys","expandedRowRender","expandRowByClick","expandIcon","onExpand","onExpandedRowsChange","onUpdate:expandedRowKeys","defaultExpandAllRows","indentSize","expandIconColumnIndex","expandedRowClassName","childrenColumnName","rowExpandable","sticky","transformColumns","internalHooks","internalRefs","canExpandable","onUpdateInternalRefs","transformCellText"],emits:["expand","expandedRowsChange","updateInternalRefs","update:expandedRowKeys"],setup(n,e){let{attrs:i,slots:r,emit:o}=e;const s=K(()=>n.data||Ebe),a=K(()=>!!s.value.length),l=K(()=>k0e(n.components,{})),u=(re,ye)=>jG(l.value,re)||ye,c=K(()=>{const re=n.rowKey;return typeof re=="function"?re:ye=>ye&&ye[re]}),d=K(()=>n.expandIcon||Sbe),f=K(()=>n.childrenColumnName||"children"),h=K(()=>n.expandedRowRender?"row":n.canExpandable||s.value.some(re=>re&&typeof re=="object"&&re[f.value])?"nest":!1),p=Ne([]);an(()=>{n.defaultExpandedRowKeys&&(p.value=n.defaultExpandedRowKeys),n.defaultExpandAllRows&&(p.value=wbe(s.value,c.value,f.value))})();const b=K(()=>new Set(n.expandedRowKeys||p.value||[])),y=re=>{const ye=c.value(re,s.value.indexOf(re));let De;const Ge=b.value.has(ye);Ge?(b.value.delete(ye),De=[...b.value]):De=[...b.value,ye],p.value=De,o("expand",!Ge,re),o("update:expandedRowKeys",De),o("expandedRowsChange",De)},m=He(0),[_,S]=dbe(O(O({},sv(n)),{expandable:K(()=>!!n.expandedRowRender),expandedKeys:b,getRowKey:c,onTriggerExpand:y,expandIcon:d}),K(()=>n.internalHooks===bM?n.transformColumns:null)),w=K(()=>({columns:_.value,flattenColumns:S.value})),T=He(),A=He(),C=He(),R=He({scrollWidth:0,clientWidth:0}),E=He(),[P,N]=Vn(!1),[D,$]=Vn(!1),[L,F]=nV(new Map),U=K(()=>gw(S.value)),k=K(()=>U.value.map(re=>L.value.get(re))),H=K(()=>S.value.length),z=hbe(k,H,Zn(n,"direction")),Q=K(()=>n.scroll&&gM(n.scroll.y)),Z=K(()=>n.scroll&&gM(n.scroll.x)||!!n.expandFixed),ie=K(()=>Z.value&&S.value.some(re=>{let{fixed:ye}=re;return ye})),we=He(),J=Tbe(Zn(n,"sticky"),Zn(n,"prefixCls")),se=Wi({}),ee=K(()=>{const re=Object.values(se)[0];return(Q.value||J.value.isSticky)&&re}),ne=(re,ye)=>{ye?se[re]=ye:delete se[re]},ue=He({}),Y=He({}),le=He({});an(()=>{Q.value&&(Y.value={overflowY:"scroll",maxHeight:Zd(n.scroll.y)}),Z.value&&(ue.value={overflowX:"auto"},Q.value||(Y.value={overflowY:"hidden"}),le.value={width:n.scroll.x===!0?"auto":Zd(n.scroll.x),minWidth:"100%"})});const he=(re,ye)=>{LR(T.value)&&F(De=>{if(De.get(re)!==ye){const Ge=new Map(De);return Ge.set(re,ye),Ge}return De})},[W,X]=fbe();function V(re,ye){if(!ye)return;if(typeof ye=="function"){ye(re);return}const De=ye.$el||ye;De.scrollLeft!==re&&(De.scrollLeft=re)}const Ce=re=>{let{currentTarget:ye,scrollLeft:De}=re;var Ge;const ft=n.direction==="rtl",Te=typeof De=="number"?De:ye.scrollLeft,Pe=ye||Mbe;if((!X()||X()===Pe)&&(W(Pe),V(Te,A.value),V(Te,C.value),V(Te,E.value),V(Te,(Ge=we.value)===null||Ge===void 0?void 0:Ge.setScrollLeft)),ye){const{scrollWidth:Ue,clientWidth:qe}=ye;ft?(N(-Te<Ue-qe),$(-Te>0)):(N(Te>0),$(Te<Ue-qe))}},pe=()=>{Z.value&&C.value?Ce({currentTarget:C.value}):(N(!1),$(!1))};let Se;const fe=re=>{re!==m.value&&(pe(),m.value=T.value?T.value.offsetWidth:re)},ge=re=>{let{width:ye}=re;if(clearTimeout(Se),m.value===0){fe(ye);return}Se=setTimeout(()=>{fe(ye)},100)};ut([Z,()=>n.data,()=>n.columns],()=>{Z.value&&pe()},{flush:"post"});const[ve,j]=Vn(0);j0e(),Jt(()=>{Un(()=>{var re,ye;pe(),j(uue(C.value).width),R.value={scrollWidth:((re=C.value)===null||re===void 0?void 0:re.scrollWidth)||0,clientWidth:((ye=C.value)===null||ye===void 0?void 0:ye.clientWidth)||0}})}),fa(()=>{Un(()=>{var re,ye;const De=((re=C.value)===null||re===void 0?void 0:re.scrollWidth)||0,Ge=((ye=C.value)===null||ye===void 0?void 0:ye.clientWidth)||0;(R.value.scrollWidth!==De||R.value.clientWidth!==Ge)&&(R.value={scrollWidth:De,clientWidth:Ge})})}),an(()=>{n.internalHooks===bM&&n.internalRefs&&n.onUpdateInternalRefs({body:C.value?C.value.$el||C.value:null})},{flush:"post"});const G=K(()=>n.tableLayout?n.tableLayout:ie.value?n.scroll.x==="max-content"?"auto":"fixed":Q.value||J.value.isSticky||S.value.some(re=>{let{ellipsis:ye}=re;return ye})?"fixed":"auto"),ce=()=>{var re;return a.value?null:((re=r.emptyText)===null||re===void 0?void 0:re.call(r))||"No Data"};$0e(Wi(O(O({},sv(VF(n,"prefixCls","direction","transformCellText"))),{getComponent:u,scrollbarSize:ve,fixedInfoList:K(()=>S.value.map((re,ye)=>BP(ye,ye,S.value,z.value,n.direction))),isSticky:K(()=>J.value.isSticky),summaryCollect:ne}))),ibe(Wi(O(O({},sv(VF(n,"rowClassName","expandedRowClassName","expandRowByClick","expandedRowRender","expandIconColumnIndex","indentSize"))),{columns:_,flattenColumns:S,tableLayout:G,expandIcon:d,expandableType:h,onTriggerExpand:y}))),sbe({onColumnResize:he}),ebe({componentWidth:m,fixHeader:Q,fixColumn:ie,horizonScroll:Z});const Ee=()=>I(lbe,{data:s.value,measureColumnWidth:Q.value||Z.value||J.value.isSticky,expandedKeys:b.value,rowExpandable:n.rowExpandable,getRowKey:c.value,customRow:n.customRow,childrenColumnName:f.value},{emptyNode:ce}),de=()=>I(iV,{colWidths:S.value.map(re=>{let{width:ye}=re;return ye}),columns:S.value},null);return()=>{var re;const{prefixCls:ye,scroll:De,tableLayout:Ge,direction:ft,title:Te=r.title,footer:Pe=r.footer,id:Ue,showHeader:qe,customHeaderRow:je}=n,{isSticky:lt,offsetHeader:rt,offsetSummary:At,offsetScroll:Ae,stickyClassName:nt,container:$e}=J.value,Ve=u(["table"],"table"),gt=u(["body"]),yt=(re=r.summary)===null||re===void 0?void 0:re.call(r,{pageData:s.value});let Ot=()=>null;const qt={colWidths:k.value,columCount:S.value.length,stickyOffsets:z.value,customHeaderRow:je,fixHeader:Q.value,scroll:De};if(Q.value||lt){let Ci=()=>null;typeof gt=="function"?(Ci=()=>gt(s.value,{scrollbarSize:ve.value,ref:C,onScroll:Ce}),qt.colWidths=S.value.map((Br,Va)=>{let{width:Er}=Br;const os=Va===_.value.length-1?Er-ve.value:Er;return typeof os=="number"&&!Number.isNaN(os)?os:0})):Ci=()=>I("div",{style:O(O({},ue.value),Y.value),onScroll:Ce,ref:C,class:Ye(`${ye}-body`)},[I(Ve,{style:O(O({},le.value),{tableLayout:G.value})},{default:()=>[de(),Ee(),!ee.value&&yt&&I(hb,{stickyOffsets:z.value,flattenColumns:S.value},{default:()=>[yt]})]})]);const Ki=O(O(O({noData:!s.value.length,maxContentScroll:Z.value&&De.x==="max-content"},qt),w.value),{direction:ft,stickyClassName:nt,onScroll:Ce});Ot=()=>I(mn,null,[qe!==!1&&I(GF,be(be({},Ki),{},{stickyTopOffset:rt,class:`${ye}-header`,ref:A}),{default:Br=>I(mn,null,[I(zF,Br,null),ee.value==="top"&&I(hb,Br,{default:()=>[yt]})])}),Ci(),ee.value&&ee.value!=="top"&&I(GF,be(be({},Ki),{},{stickyBottomOffset:At,class:`${ye}-summary`,ref:E}),{default:Br=>I(hb,Br,{default:()=>[yt]})}),lt&&C.value&&I(Cbe,{ref:we,offsetScroll:Ae,scrollBodyRef:C,onScroll:Ce,container:$e,scrollBodySizeInfo:R.value},null)])}else Ot=()=>I("div",{style:O(O({},ue.value),Y.value),class:Ye(`${ye}-content`),onScroll:Ce,ref:C},[I(Ve,{style:O(O({},le.value),{tableLayout:G.value})},{default:()=>[de(),qe!==!1&&I(zF,be(be({},qt),w.value),null),Ee(),yt&&I(hb,{stickyOffsets:z.value,flattenColumns:S.value},{default:()=>[yt]})]})]);const $n=Jf(i,{aria:!0,data:!0}),tn=()=>I("div",be(be({},$n),{},{class:Ye(ye,{[`${ye}-rtl`]:ft==="rtl",[`${ye}-ping-left`]:P.value,[`${ye}-ping-right`]:D.value,[`${ye}-layout-fixed`]:Ge==="fixed",[`${ye}-fixed-header`]:Q.value,[`${ye}-fixed-column`]:ie.value,[`${ye}-scroll-horizontal`]:Z.value,[`${ye}-has-fix-left`]:S.value[0]&&S.value[0].fixed,[`${ye}-has-fix-right`]:S.value[H.value-1]&&S.value[H.value-1].fixed==="right",[i.class]:i.class}),style:i.style,id:Ue,ref:T}),[Te&&I(yM,{class:`${ye}-title`},{default:()=>[Te(s.value)]}),I("div",{class:`${ye}-container`},[Ot()]),Pe&&I(yM,{class:`${ye}-footer`},{default:()=>[Pe(s.value)]})]);return Z.value?I(ed,{onResize:ge},{default:tn}):tn()}}});function Pbe(){const n=O({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const i=e<0||arguments.length<=e?void 0:arguments[e];i&&Object.keys(i).forEach(r=>{const o=i[r];o!==void 0&&(n[r]=o)})}return n}const xM=10;function Ibe(n,e){const i={current:n.current,pageSize:n.pageSize};return Object.keys(e&&typeof e=="object"?e:{}).forEach(o=>{const s=n[o];typeof s!="function"&&(i[o]=s)}),i}function Nbe(n,e,i){const r=K(()=>e.value&&typeof e.value=="object"?e.value:{}),o=K(()=>r.value.total||0),[s,a]=Vn(()=>({current:"defaultCurrent"in r.value?r.value.defaultCurrent:1,pageSize:"defaultPageSize"in r.value?r.value.defaultPageSize:xM})),l=K(()=>{const d=Pbe(s.value,r.value,{total:o.value>0?o.value:n.value}),f=Math.ceil((o.value||n.value)/d.pageSize);return d.current>f&&(d.current=f||1),d}),u=(d,f)=>{e.value!==!1&&a({current:d??1,pageSize:f||l.value.pageSize})},c=(d,f)=>{var h,p;e.value&&((p=(h=r.value).onChange)===null||p===void 0||p.call(h,d,f)),u(d,f),i(d,f||l.value.pageSize)};return[K(()=>e.value===!1?{}:O(O({},l.value),{onChange:c})),u]}function Obe(n,e,i){const r=Ne({});ut([n,e,i],()=>{const s=new Map,a=i.value,l=e.value;function u(c){c.forEach((d,f)=>{const h=a(d,f);s.set(h,d),d&&typeof d=="object"&&l in d&&u(d[l]||[])})}u(n.value),r.value={kvMap:s}},{deep:!0,immediate:!0});function o(s){return r.value.kvMap.get(s)}return[o]}const du={},_M="SELECT_ALL",SM="SELECT_INVERT",wM="SELECT_NONE",Dbe=[];function oV(n,e){let i=[];return(e||[]).forEach(r=>{i.push(r),r&&typeof r=="object"&&n in r&&(i=[...i,...oV(n,r[n])])}),i}function Lbe(n,e){const i=K(()=>{const E=n.value||{},{checkStrictly:P=!0}=E;return O(O({},E),{checkStrictly:P})}),[r,o]=Xp(i.value.selectedRowKeys||i.value.defaultSelectedRowKeys||Dbe,{value:K(()=>i.value.selectedRowKeys)}),s=Ne(new Map),a=E=>{if(i.value.preserveSelectedRowKeys){const P=new Map;E.forEach(N=>{let D=e.getRecordByKey(N);!D&&s.value.has(N)&&(D=s.value.get(N)),P.set(N,D)}),s.value=P}};an(()=>{a(r.value)});const l=K(()=>i.value.checkStrictly?null:NP(e.data.value,{externalGetKey:e.getRowKey.value,childrenPropName:e.childrenColumnName.value}).keyEntities),u=K(()=>oV(e.childrenColumnName.value,e.pageData.value)),c=K(()=>{const E=new Map,P=e.getRowKey.value,N=i.value.getCheckboxProps;return u.value.forEach((D,$)=>{const L=P(D,$),F=(N?N(D):null)||{};E.set(L,F)}),E}),{maxLevel:d,levelEntities:f}=NG(l),h=E=>{var P;return!!(!((P=c.value.get(e.getRowKey.value(E)))===null||P===void 0)&&P.disabled)},p=K(()=>{if(i.value.checkStrictly)return[r.value||[],[]];const{checkedKeys:E,halfCheckedKeys:P}=Ep(r.value,!0,l.value,d.value,f.value,h);return[E||[],P]}),v=K(()=>p.value[0]),b=K(()=>p.value[1]),y=K(()=>{const E=i.value.type==="radio"?v.value.slice(0,1):v.value;return new Set(E)}),m=K(()=>i.value.type==="radio"?new Set:new Set(b.value)),[_,S]=Vn(null),w=E=>{let P,N;a(E);const{preserveSelectedRowKeys:D,onChange:$}=i.value,{getRecordByKey:L}=e;D?(P=E,N=E.map(F=>s.value.get(F))):(P=[],N=[],E.forEach(F=>{const U=L(F);U!==void 0&&(P.push(F),N.push(U))})),o(P),$==null||$(P,N)},T=(E,P,N,D)=>{const{onSelect:$}=i.value,{getRecordByKey:L}=e;if($){const F=N.map(U=>L(U));$(L(E),P,F,D)}w(N)},A=K(()=>{const{onSelectInvert:E,onSelectNone:P,selections:N,hideSelectAll:D}=i.value,{data:$,pageData:L,getRowKey:F,locale:U}=e;return!N||D?null:(N===!0?[_M,SM,wM]:N).map(H=>H===_M?{key:"all",text:U.value.selectionAll,onSelect(){w($.value.map((z,Q)=>F.value(z,Q)).filter(z=>{const Q=c.value.get(z);return!(Q!=null&&Q.disabled)||y.value.has(z)}))}}:H===SM?{key:"invert",text:U.value.selectInvert,onSelect(){const z=new Set(y.value);L.value.forEach((Z,ie)=>{const we=F.value(Z,ie),J=c.value.get(we);J!=null&&J.disabled||(z.has(we)?z.delete(we):z.add(we))});const Q=Array.from(z);E&&(fi(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),E(Q)),w(Q)}}:H===wM?{key:"none",text:U.value.selectNone,onSelect(){P==null||P(),w(Array.from(y.value).filter(z=>{const Q=c.value.get(z);return Q==null?void 0:Q.disabled}))}}:H)}),C=K(()=>u.value.length);return[E=>{var P;const{onSelectAll:N,onSelectMultiple:D,columnWidth:$,type:L,fixed:F,renderCell:U,hideSelectAll:k,checkStrictly:H}=i.value,{prefixCls:z,getRecordByKey:Q,getRowKey:Z,expandType:ie,getPopupContainer:we}=e;if(!n.value)return E.filter(fe=>fe!==du);let J=E.slice();const se=new Set(y.value),ee=u.value.map(Z.value).filter(fe=>!c.value.get(fe).disabled),ne=ee.every(fe=>se.has(fe)),ue=ee.some(fe=>se.has(fe)),Y=()=>{const fe=[];ne?ee.forEach(ve=>{se.delete(ve),fe.push(ve)}):ee.forEach(ve=>{se.has(ve)||(se.add(ve),fe.push(ve))});const ge=Array.from(se);N==null||N(!ne,ge.map(ve=>Q(ve)),fe.map(ve=>Q(ve))),w(ge)};let le;if(L!=="radio"){let fe;if(A.value){const ce=I(ia,{getPopupContainer:we.value},{default:()=>[A.value.map((Ee,de)=>{const{key:re,text:ye,onSelect:De}=Ee;return I(ia.Item,{key:re||de,onClick:()=>{De==null||De(ee)}},{default:()=>[ye]})})]});fe=I("div",{class:`${z.value}-selection-extra`},[I(Xc,{overlay:ce,getPopupContainer:we.value},{default:()=>[I("span",null,[I(ew,null,null)])]})])}const ge=u.value.map((ce,Ee)=>{const de=Z.value(ce,Ee),re=c.value.get(de)||{};return O({checked:se.has(de)},re)}).filter(ce=>{let{disabled:Ee}=ce;return Ee}),ve=!!ge.length&&ge.length===C.value,j=ve&&ge.every(ce=>{let{checked:Ee}=ce;return Ee}),G=ve&&ge.some(ce=>{let{checked:Ee}=ce;return Ee});le=!k&&I("div",{class:`${z.value}-selection`},[I(hl,{checked:ve?j:!!C.value&&ne,indeterminate:ve?!j&&G:!ne&&ue,onChange:Y,disabled:C.value===0||ve,"aria-label":fe?"Custom selection":"Select all",skipGroup:!0},null),fe])}let he;L==="radio"?he=fe=>{let{record:ge,index:ve}=fe;const j=Z.value(ge,ve),G=se.has(j);return{node:I(Ho,be(be({},c.value.get(j)),{},{checked:G,onClick:ce=>ce.stopPropagation(),onChange:ce=>{se.has(j)||T(j,!0,[j],ce.nativeEvent)}}),null),checked:G}}:he=fe=>{let{record:ge,index:ve}=fe;var j;const G=Z.value(ge,ve),ce=se.has(G),Ee=m.value.has(G),de=c.value.get(G);let re;return ie.value==="nest"?(re=Ee,fi(typeof(de==null?void 0:de.indeterminate)!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):re=(j=de==null?void 0:de.indeterminate)!==null&&j!==void 0?j:Ee,{node:I(hl,be(be({},de),{},{indeterminate:re,checked:ce,skipGroup:!0,onClick:ye=>ye.stopPropagation(),onChange:ye=>{let{nativeEvent:De}=ye;const{shiftKey:Ge}=De;let ft=-1,Te=-1;if(Ge&&H){const Pe=new Set([_.value,G]);ee.some((Ue,qe)=>{if(Pe.has(Ue))if(ft===-1)ft=qe;else return Te=qe,!0;return!1})}if(Te!==-1&&ft!==Te&&H){const Pe=ee.slice(ft,Te+1),Ue=[];ce?Pe.forEach(je=>{se.has(je)&&(Ue.push(je),se.delete(je))}):Pe.forEach(je=>{se.has(je)||(Ue.push(je),se.add(je))});const qe=Array.from(se);D==null||D(!ce,qe.map(je=>Q(je)),Ue.map(je=>Q(je))),w(qe)}else{const Pe=v.value;if(H){const Ue=ce?Qa(Pe,G):uu(Pe,G);T(G,!ce,Ue,De)}else{const Ue=Ep([...Pe,G],!0,l.value,d.value,f.value,h),{checkedKeys:qe,halfCheckedKeys:je}=Ue;let lt=qe;if(ce){const rt=new Set(qe);rt.delete(G),lt=Ep(Array.from(rt),{checked:!1,halfCheckedKeys:je},l.value,d.value,f.value,h).checkedKeys}T(G,!ce,lt,De)}}S(G)}}),null),checked:ce}};const W=fe=>{let{record:ge,index:ve}=fe;const{node:j,checked:G}=he({record:ge,index:ve});return U?U(G,ge,ve,j):j};if(!J.includes(du))if(J.findIndex(fe=>{var ge;return((ge=fe[Rp])===null||ge===void 0?void 0:ge.columnType)==="EXPAND_COLUMN"})===0){const[fe,...ge]=J;J=[fe,du,...ge]}else J=[du,...J];const X=J.indexOf(du);J=J.filter((fe,ge)=>fe!==du||ge===X);const V=J[X-1],Ce=J[X+1];let pe=F;pe===void 0&&((Ce==null?void 0:Ce.fixed)!==void 0?pe=Ce.fixed:(V==null?void 0:V.fixed)!==void 0&&(pe=V.fixed)),pe&&V&&((P=V[Rp])===null||P===void 0?void 0:P.columnType)==="EXPAND_COLUMN"&&V.fixed===void 0&&(V.fixed=pe);const Se={fixed:pe,width:$,className:`${z.value}-selection-column`,title:i.value.columnTitle||le,customRender:W,[Rp]:{class:`${z.value}-selection-col`}};return J.map(fe=>fe===du?Se:fe)},y]}var Bbe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};function WF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Fbe(n,o,i[o])})}return n}function Fbe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var FP=function(e,i){var r=WF({},e,i.attrs);return I(xn,WF({},r,{icon:Bbe}),null)};FP.displayName="CaretDownOutlined";FP.inheritAttrs=!1;var $be={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};function jF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Ube(n,o,i[o])})}return n}function Ube(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var $P=function(e,i){var r=jF({},e,i.attrs);return I(xn,jF({},r,{icon:$be}),null)};$P.displayName="CaretUpOutlined";$P.inheritAttrs=!1;var kbe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};function Ff(n,e){return"key"in n&&n.key!==void 0&&n.key!==null?n.key:n.dataIndex?Array.isArray(n.dataIndex)?n.dataIndex.join("."):n.dataIndex:e}function zy(n,e){return e?`${e}-${n}`:`${n}`}function UP(n,e){return typeof n=="function"?n(e):n}function sV(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=tr(n),i=[];return e.forEach(r=>{var o,s,a,l;if(!r)return;const u=r.key,c=((o=r.props)===null||o===void 0?void 0:o.style)||{},d=((s=r.props)===null||s===void 0?void 0:s.class)||"",f=r.props||{};for(const[y,m]of Object.entries(f))f[Ny(y)]=m;const h=r.children||{},{default:p}=h,v=kbe(h,["default"]),b=O(O(O({},v),f),{style:c,class:d});if(u&&(b.key=u),!((a=r.type)===null||a===void 0)&&a.__ANT_TABLE_COLUMN_GROUP)b.children=sV(typeof p=="function"?p():p);else{const y=(l=r.children)===null||l===void 0?void 0:l.default;b.customRender=b.customRender||y}i.push(b)}),i}const jx="ascend",sT="descend";function j_(n){return typeof n.sorter=="object"&&typeof n.sorter.multiple=="number"?n.sorter.multiple:!1}function KF(n){return typeof n=="function"?n:n&&typeof n=="object"&&n.compare?n.compare:!1}function zbe(n,e){return e?n[n.indexOf(e)+1]:n[0]}function CM(n,e,i){let r=[];function o(s,a){r.push({column:s,key:Ff(s,a),multiplePriority:j_(s),sortOrder:s.sortOrder})}return(n||[]).forEach((s,a)=>{const l=zy(a,i);s.children?("sortOrder"in s&&o(s,l),r=[...r,...CM(s.children,e,l)]):s.sorter&&("sortOrder"in s?o(s,l):e&&s.defaultSortOrder&&r.push({column:s,key:Ff(s,l),multiplePriority:j_(s),sortOrder:s.defaultSortOrder}))}),r}function aV(n,e,i,r,o,s,a,l){return(e||[]).map((u,c)=>{const d=zy(c,l);let f=u;if(f.sorter){const h=f.sortDirections||o,p=f.showSorterTooltip===void 0?a:f.showSorterTooltip,v=Ff(f,d),b=i.find(E=>{let{key:P}=E;return P===v}),y=b?b.sortOrder:null,m=zbe(h,y),_=h.includes(jx)&&I($P,{class:Ye(`${n}-column-sorter-up`,{active:y===jx}),role:"presentation"},null),S=h.includes(sT)&&I(FP,{role:"presentation",class:Ye(`${n}-column-sorter-down`,{active:y===sT})},null),{cancelSort:w,triggerAsc:T,triggerDesc:A}=s||{};let C=w;m===sT?C=A:m===jx&&(C=T);const R=typeof p=="object"?p:{title:C};f=O(O({},f),{className:Ye(f.className,{[`${n}-column-sort`]:y}),title:E=>{const P=I("div",{class:`${n}-column-sorters`},[I("span",{class:`${n}-column-title`},[UP(u.title,E)]),I("span",{class:Ye(`${n}-column-sorter`,{[`${n}-column-sorter-full`]:!!(_&&S)})},[I("span",{class:`${n}-column-sorter-inner`},[_,S])])]);return p?I(aw,R,{default:()=>[P]}):P},customHeaderCell:E=>{const P=u.customHeaderCell&&u.customHeaderCell(E)||{},N=P.onClick,D=P.onKeydown;return P.onClick=$=>{r({column:u,key:v,sortOrder:m,multiplePriority:j_(u)}),N&&N($)},P.onKeydown=$=>{$.keyCode===st.ENTER&&(r({column:u,key:v,sortOrder:m,multiplePriority:j_(u)}),D==null||D($))},y&&(P["aria-sort"]=y==="ascend"?"ascending":"descending"),P.class=Ye(P.class,`${n}-column-has-sorters`),P.tabindex=0,P}})}return"children"in f&&(f=O(O({},f),{children:aV(n,f.children,i,r,o,s,a,d)})),f})}function XF(n){const{column:e,sortOrder:i}=n;return{column:e,order:i,field:e.dataIndex,columnKey:e.key}}function qF(n){const e=n.filter(i=>{let{sortOrder:r}=i;return r}).map(XF);return e.length===0&&n.length?O(O({},XF(n[n.length-1])),{column:void 0}):e.length<=1?e[0]||{}:e}function TM(n,e,i){const r=e.slice().sort((a,l)=>l.multiplePriority-a.multiplePriority),o=n.slice(),s=r.filter(a=>{let{column:{sorter:l},sortOrder:u}=a;return KF(l)&&u});return s.length?o.sort((a,l)=>{for(let u=0;u<s.length;u+=1){const c=s[u],{column:{sorter:d},sortOrder:f}=c,h=KF(d);if(h&&f){const p=h(a,l,f);if(p!==0)return f===jx?p:-p}}return 0}).map(a=>{const l=a[i];return l?O(O({},a),{[i]:TM(l,e,i)}):a}):o}function Hbe(n){let{prefixCls:e,mergedColumns:i,onSorterChange:r,sortDirections:o,tableLocale:s,showSorterTooltip:a}=n;const[l,u]=Vn(CM(i.value,!0)),c=K(()=>{let v=!0;const b=CM(i.value,!1);if(!b.length)return l.value;const y=[];function m(S){v?y.push(S):y.push(O(O({},S),{sortOrder:null}))}let _=null;return b.forEach(S=>{_===null?(m(S),S.sortOrder&&(S.multiplePriority===!1?v=!1:_=!0)):(_&&S.multiplePriority!==!1||(v=!1),m(S))}),y}),d=K(()=>{const v=c.value.map(b=>{let{column:y,sortOrder:m}=b;return{column:y,order:m}});return{sortColumns:v,sortColumn:v[0]&&v[0].column,sortOrder:v[0]&&v[0].order}});function f(v){let b;v.multiplePriority===!1||!c.value.length||c.value[0].multiplePriority===!1?b=[v]:b=[...c.value.filter(y=>{let{key:m}=y;return m!==v.key}),v],u(b),r(qF(b),b)}const h=v=>aV(e.value,v,c.value,f,o.value,s.value,a.value),p=K(()=>qF(c.value));return[h,c,d,p]}var Gbe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};function YF(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){Vbe(n,o,i[o])})}return n}function Vbe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var kP=function(e,i){var r=YF({},e,i.attrs);return I(xn,YF({},r,{icon:Gbe}),null)};kP.displayName="FilterFilled";kP.inheritAttrs=!1;const Wbe=n=>{const{keyCode:e}=n;e===st.ENTER&&n.stopPropagation()},jbe=(n,e)=>{let{slots:i}=e;var r;return I("div",{onClick:o=>o.stopPropagation(),onKeydown:Wbe},[(r=i.default)===null||r===void 0?void 0:r.call(i)])},QF=We({compatConfig:{MODE:3},name:"FilterSearch",inheritAttrs:!1,props:{value:In(),onChange:pt(),filterSearch:Mi([Boolean,Function]),tablePrefixCls:In(),locale:vn()},setup(n){return()=>{const{value:e,onChange:i,filterSearch:r,tablePrefixCls:o,locale:s}=n;return r?I("div",{class:`${o}-filter-dropdown-search`},[I(xr,{placeholder:s.filterSearchPlaceholder,onChange:i,value:e,htmlSize:1,class:`${o}-filter-dropdown-search-input`},{prefix:()=>I(Mg,null,null)})]):null}}});var ZF=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Kbe=We({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:O(O({},MG),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(n,e){let{attrs:i,slots:r}=e;const o=Ne(!0),s=PP(),a=Ne(!1),l=K(()=>n.motion?n.motion:SP()),u=(c,d)=>{var f,h,p,v;d==="appear"?(h=(f=l.value)===null||f===void 0?void 0:f.onAfterEnter)===null||h===void 0||h.call(f,c):d==="leave"&&((v=(p=l.value)===null||p===void 0?void 0:p.onAfterLeave)===null||v===void 0||v.call(p,c)),a.value||n.onMotionEnd(),a.value=!0};return ut(()=>n.motionNodes,()=>{n.motionNodes&&n.motionType==="hide"&&o.value&&Un(()=>{o.value=!1})},{immediate:!0,flush:"post"}),Jt(()=>{n.motionNodes&&n.onMotionStart()}),Rn(()=>{n.motionNodes&&u()}),()=>{const{motion:c,motionNodes:d,motionType:f,active:h,eventKey:p}=n,v=ZF(n,["motion","motionNodes","motionType","active","eventKey"]);return d?I($a,be(be({},l.value),{},{appear:f==="show",onAfterAppear:b=>u(b,"appear"),onAfterLeave:b=>u(b,"leave")}),{default:()=>[So(I("div",{class:`${s.value.prefixCls}-treenode-motion`},[d.map(b=>{const y=ZF(b.data,[]),{title:m,key:_,isStart:S,isEnd:w}=b;return delete y.children,I(uM,be(be({},y),{},{title:m,active:h,data:b.data,key:_,eventKey:_,isStart:S,isEnd:w}),r)})]),[[Vo,o.value]])]}):I(uM,be(be({class:i.class,style:i.style},v),{},{active:h,eventKey:p}),r)}}});function Xbe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const i=n.length,r=e.length;if(Math.abs(i-r)!==1)return{add:!1,key:null};function o(s,a){const l=new Map;s.forEach(c=>{l.set(c,!0)});const u=a.filter(c=>!l.has(c));return u.length===1?u[0]:null}return i<r?{add:!0,key:o(n,e)}:{add:!1,key:o(e,n)}}function JF(n,e,i){const r=n.findIndex(a=>a.key===i),o=n[r+1],s=e.findIndex(a=>a.key===i);if(o){const a=e.findIndex(l=>l.key===o.key);return e.slice(s+1,a)}return e.slice(s+1)}var e$=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const t$={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},qbe=()=>{},$f=`RC_TREE_MOTION_${Math.random()}`,AM={key:$f},lV={key:$f,level:0,index:0,pos:"0",node:AM,nodes:[AM]},n$={parent:null,children:[],pos:lV.pos,data:AM,title:null,key:$f,isStart:[],isEnd:[]};function i$(n,e,i,r){return e===!1||!i?n:n.slice(0,Math.ceil(i/r)+1)}function r$(n){const{key:e,pos:i}=n;return ky(e,i)}function Ybe(n){let e=String(n.key),i=n;for(;i.parent;)i=i.parent,e=`${i.key} > ${e}`;return e}const Qbe=We({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:ave,setup(n,e){let{expose:i,attrs:r}=e;const o=He(),s=He(),{expandedKeys:a,flattenNodes:l}=EG();i({scrollTo:b=>{o.value.scrollTo(b)},getIndentWidth:()=>s.value.offsetWidth});const u=Ne(l.value),c=Ne([]),d=He(null);function f(){u.value=l.value,c.value=[],d.value=null,n.onListChangeEnd()}const h=PP();ut([()=>a.value.slice(),l],(b,y)=>{let[m,_]=b,[S,w]=y;const T=Xbe(S,m);if(T.key!==null){const{virtual:A,height:C,itemHeight:R}=n;if(T.add){const E=w.findIndex(D=>{let{key:$}=D;return $===T.key}),P=i$(JF(w,_,T.key),A,C,R),N=w.slice();N.splice(E+1,0,n$),u.value=N,c.value=P,d.value="show"}else{const E=_.findIndex(D=>{let{key:$}=D;return $===T.key}),P=i$(JF(_,w,T.key),A,C,R),N=_.slice();N.splice(E+1,0,n$),u.value=N,c.value=P,d.value="hide"}}else w!==_&&(u.value=_)}),ut(()=>h.value.dragging,b=>{b||f()});const p=K(()=>n.motion===void 0?u.value:l.value),v=()=>{n.onActiveChange(null)};return()=>{const b=O(O({},n),r),{prefixCls:y,selectable:m,checkable:_,disabled:S,motion:w,height:T,itemHeight:A,virtual:C,focusable:R,activeItem:E,focused:P,tabindex:N,onKeydown:D,onFocus:$,onBlur:L,onListChangeStart:F,onListChangeEnd:U}=b,k=e$(b,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return I(mn,null,[P&&E&&I("span",{style:t$,"aria-live":"assertive"},[Ybe(E)]),I("div",null,[I("input",{style:t$,disabled:R===!1||S,tabindex:R!==!1?N:null,onKeydown:D,onFocus:$,onBlur:L,value:"",onChange:qbe,"aria-label":"for screen reader"},null)]),I("div",{class:`${y}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[I("div",{class:`${y}-indent`},[I("div",{ref:s,class:`${y}-indent-unit`},null)])]),I(dH,be(be({},wi(k,["onActiveChange"])),{},{data:p.value,itemKey:r$,height:T,fullHeight:!1,virtual:C,itemHeight:A,prefixCls:`${y}-list`,ref:o,onVisibleChange:(H,z)=>{const Q=new Set(H);z.filter(ie=>!Q.has(ie)).some(ie=>r$(ie)===$f)&&f()}}),{default:H=>{const{pos:z}=H,Q=e$(H.data,[]),{title:Z,key:ie,isStart:we,isEnd:J}=H,se=ky(ie,z);return delete Q.key,delete Q.children,I(Kbe,be(be({},Q),{},{eventKey:se,title:Z,active:!!E&&ie===E.key,data:H.data,isStart:we,isEnd:J,motion:w,motionNodes:ie===$f?c.value:null,motionType:d.value,onMotionStart:F,onMotionEnd:f,onMousemove:v}),null)}})])}}});function Zbe(n){let{dropPosition:e,dropLevelOffset:i,indent:r}=n;const o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(e){case-1:o.top=0,o.left=`${-i*r}px`;break;case 1:o.bottom=0,o.left=`${-i*r}px`;break;case 0:o.bottom=0,o.left=`${r}`;break}return I("div",{style:o},null)}const Jbe=10,exe=We({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:ui(RG(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Zbe,allowDrop:()=>!0}),setup(n,e){let{attrs:i,slots:r,expose:o}=e;const s=Ne(!1);let a={};const l=Ne(),u=Ne([]),c=Ne([]),d=Ne([]),f=Ne([]),h=Ne([]),p=Ne([]),v={},b=Wi({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),y=Ne([]);ut([()=>n.treeData,()=>n.children],()=>{y.value=n.treeData!==void 0?n.treeData.slice():dM(hn(n.children))},{immediate:!0,deep:!0});const m=Ne({}),_=Ne(!1),S=Ne(null),w=Ne(!1),T=K(()=>cw(n.fieldNames)),A=Ne();let C=null,R=null,E=null;const P=K(()=>({expandedKeysSet:N.value,selectedKeysSet:D.value,loadedKeysSet:$.value,loadingKeysSet:L.value,checkedKeysSet:F.value,halfCheckedKeysSet:U.value,dragOverNodeKey:b.dragOverNodeKey,dropPosition:b.dropPosition,keyEntities:m.value})),N=K(()=>new Set(p.value)),D=K(()=>new Set(u.value)),$=K(()=>new Set(f.value)),L=K(()=>new Set(h.value)),F=K(()=>new Set(c.value)),U=K(()=>new Set(d.value));an(()=>{if(y.value){const Te=NP(y.value,{fieldNames:T.value});m.value=O({[$f]:lV},Te.keyEntities)}});let k=!1;ut([()=>n.expandedKeys,()=>n.autoExpandParent,m],(Te,Pe)=>{let[Ue,qe]=Te,[je,lt]=Pe,rt=p.value;if(n.expandedKeys!==void 0||k&&qe!==lt)rt=n.autoExpandParent||!k&&n.defaultExpandParent?cM(n.expandedKeys,m.value):n.expandedKeys;else if(!k&&n.defaultExpandAll){const At=O({},m.value);delete At[$f],rt=Object.keys(At).map(Ae=>At[Ae].key)}else!k&&n.defaultExpandedKeys&&(rt=n.autoExpandParent||n.defaultExpandParent?cM(n.defaultExpandedKeys,m.value):n.defaultExpandedKeys);rt&&(p.value=rt),k=!0},{immediate:!0});const H=Ne([]);an(()=>{H.value=gve(y.value,p.value,T.value)}),an(()=>{n.selectable&&(n.selectedKeys!==void 0?u.value=wF(n.selectedKeys,n):!k&&n.defaultSelectedKeys&&(u.value=wF(n.defaultSelectedKeys,n)))});const{maxLevel:z,levelEntities:Q}=NG(m);an(()=>{if(n.checkable){let Te;if(n.checkedKeys!==void 0?Te=tT(n.checkedKeys)||{}:!k&&n.defaultCheckedKeys?Te=tT(n.defaultCheckedKeys)||{}:y.value&&(Te=tT(n.checkedKeys)||{checkedKeys:c.value,halfCheckedKeys:d.value}),Te){let{checkedKeys:Pe=[],halfCheckedKeys:Ue=[]}=Te;n.checkStrictly||({checkedKeys:Pe,halfCheckedKeys:Ue}=Ep(Pe,!0,m.value,z.value,Q.value)),c.value=Pe,d.value=Ue}}}),an(()=>{n.loadedKeys&&(f.value=n.loadedKeys)});const Z=()=>{O(b,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ie=Te=>{A.value.scrollTo(Te)};ut(()=>n.activeKey,()=>{n.activeKey!==void 0&&(S.value=n.activeKey)},{immediate:!0}),ut(S,Te=>{Un(()=>{Te!==null&&ie({key:Te})})},{immediate:!0,flush:"post"});const we=Te=>{n.expandedKeys===void 0&&(p.value=Te)},J=()=>{b.draggingNodeKey!==null&&O(b,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),C=null,E=null},se=(Te,Pe)=>{const{onDragend:Ue}=n;b.dragOverNodeKey=null,J(),Ue==null||Ue({event:Te,node:Pe.eventData}),R=null},ee=Te=>{se(Te,null),window.removeEventListener("dragend",ee)},ne=(Te,Pe)=>{const{onDragstart:Ue}=n,{eventKey:qe,eventData:je}=Pe;R=Pe,C={x:Te.clientX,y:Te.clientY};const lt=Qa(p.value,qe);b.draggingNodeKey=qe,b.dragChildrenKeys=dve(qe,m.value),l.value=A.value.getIndentWidth(),we(lt),window.addEventListener("dragend",ee),Ue&&Ue({event:Te,node:je})},ue=(Te,Pe)=>{const{onDragenter:Ue,onExpand:qe,allowDrop:je,direction:lt}=n,{pos:rt,eventKey:At}=Pe;if(E!==At&&(E=At),!R){Z();return}const{dropPosition:Ae,dropLevelOffset:nt,dropTargetKey:$e,dropContainerKey:Ve,dropTargetPos:gt,dropAllowed:yt,dragOverNodeKey:Ot}=SF(Te,R,Pe,l.value,C,je,H.value,m.value,N.value,lt);if(b.dragChildrenKeys.indexOf($e)!==-1||!yt){Z();return}if(a||(a={}),Object.keys(a).forEach(qt=>{clearTimeout(a[qt])}),R.eventKey!==Pe.eventKey&&(a[rt]=window.setTimeout(()=>{if(b.draggingNodeKey===null)return;let qt=p.value.slice();const $n=m.value[Pe.eventKey];$n&&($n.children||[]).length&&(qt=uu(p.value,Pe.eventKey)),we(qt),qe&&qe(qt,{node:Pe.eventData,expanded:!0,nativeEvent:Te})},800)),R.eventKey===$e&&nt===0){Z();return}O(b,{dragOverNodeKey:Ot,dropPosition:Ae,dropLevelOffset:nt,dropTargetKey:$e,dropContainerKey:Ve,dropTargetPos:gt,dropAllowed:yt}),Ue&&Ue({event:Te,node:Pe.eventData,expandedKeys:p.value})},Y=(Te,Pe)=>{const{onDragover:Ue,allowDrop:qe,direction:je}=n;if(!R)return;const{dropPosition:lt,dropLevelOffset:rt,dropTargetKey:At,dropContainerKey:Ae,dropAllowed:nt,dropTargetPos:$e,dragOverNodeKey:Ve}=SF(Te,R,Pe,l.value,C,qe,H.value,m.value,N.value,je);b.dragChildrenKeys.indexOf(At)!==-1||!nt||(R.eventKey===At&&rt===0?b.dropPosition===null&&b.dropLevelOffset===null&&b.dropTargetKey===null&&b.dropContainerKey===null&&b.dropTargetPos===null&&b.dropAllowed===!1&&b.dragOverNodeKey===null||Z():lt===b.dropPosition&&rt===b.dropLevelOffset&&At===b.dropTargetKey&&Ae===b.dropContainerKey&&$e===b.dropTargetPos&&nt===b.dropAllowed&&Ve===b.dragOverNodeKey||O(b,{dropPosition:lt,dropLevelOffset:rt,dropTargetKey:At,dropContainerKey:Ae,dropTargetPos:$e,dropAllowed:nt,dragOverNodeKey:Ve}),Ue&&Ue({event:Te,node:Pe.eventData}))},le=(Te,Pe)=>{E===Pe.eventKey&&!Te.currentTarget.contains(Te.relatedTarget)&&(Z(),E=null);const{onDragleave:Ue}=n;Ue&&Ue({event:Te,node:Pe.eventData})},he=function(Te,Pe){let Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var qe;const{dragChildrenKeys:je,dropPosition:lt,dropTargetKey:rt,dropTargetPos:At,dropAllowed:Ae}=b;if(!Ae)return;const{onDrop:nt}=n;if(b.dragOverNodeKey=null,J(),rt===null)return;const $e=O(O({},Hx(rt,hn(P.value))),{active:((qe=ye.value)===null||qe===void 0?void 0:qe.key)===rt,data:m.value[rt].node});je.indexOf(rt);const Ve=IP(At),gt={event:Te,node:Gx($e),dragNode:R?R.eventData:null,dragNodesKeys:[R.eventKey].concat(je),dropToGap:lt!==0,dropPosition:lt+Number(Ve[Ve.length-1])};Ue||nt==null||nt(gt),R=null},W=(Te,Pe)=>{const{expanded:Ue,key:qe}=Pe,je=H.value.filter(rt=>rt.key===qe)[0],lt=Gx(O(O({},Hx(qe,P.value)),{data:je.data}));we(Ue?Qa(p.value,qe):uu(p.value,qe)),ce(Te,lt)},X=(Te,Pe)=>{const{onClick:Ue,expandAction:qe}=n;qe==="click"&&W(Te,Pe),Ue&&Ue(Te,Pe)},V=(Te,Pe)=>{const{onDblclick:Ue,expandAction:qe}=n;(qe==="doubleclick"||qe==="dblclick")&&W(Te,Pe),Ue&&Ue(Te,Pe)},Ce=(Te,Pe)=>{let Ue=u.value;const{onSelect:qe,multiple:je}=n,{selected:lt}=Pe,rt=Pe[T.value.key],At=!lt;At?je?Ue=uu(Ue,rt):Ue=[rt]:Ue=Qa(Ue,rt);const Ae=m.value,nt=Ue.map($e=>{const Ve=Ae[$e];return Ve?Ve.node:null}).filter($e=>$e);n.selectedKeys===void 0&&(u.value=Ue),qe&&qe(Ue,{event:"select",selected:At,node:Pe,selectedNodes:nt,nativeEvent:Te})},pe=(Te,Pe,Ue)=>{const{checkStrictly:qe,onCheck:je}=n,lt=Pe[T.value.key];let rt;const At={event:"check",node:Pe,checked:Ue,nativeEvent:Te},Ae=m.value;if(qe){const nt=Ue?uu(c.value,lt):Qa(c.value,lt),$e=Qa(d.value,lt);rt={checked:nt,halfChecked:$e},At.checkedNodes=nt.map(Ve=>Ae[Ve]).filter(Ve=>Ve).map(Ve=>Ve.node),n.checkedKeys===void 0&&(c.value=nt)}else{let{checkedKeys:nt,halfCheckedKeys:$e}=Ep([...c.value,lt],!0,Ae,z.value,Q.value);if(!Ue){const Ve=new Set(nt);Ve.delete(lt),{checkedKeys:nt,halfCheckedKeys:$e}=Ep(Array.from(Ve),{checked:!1,halfCheckedKeys:$e},Ae,z.value,Q.value)}rt=nt,At.checkedNodes=[],At.checkedNodesPositions=[],At.halfCheckedKeys=$e,nt.forEach(Ve=>{const gt=Ae[Ve];if(!gt)return;const{node:yt,pos:Ot}=gt;At.checkedNodes.push(yt),At.checkedNodesPositions.push({node:yt,pos:Ot})}),n.checkedKeys===void 0&&(c.value=nt,d.value=$e)}je&&je(rt,At)},Se=Te=>{const Pe=Te[T.value.key],Ue=new Promise((qe,je)=>{const{loadData:lt,onLoad:rt}=n;if(!lt||$.value.has(Pe)||L.value.has(Pe))return null;lt(Te).then(()=>{const Ae=uu(f.value,Pe),nt=Qa(h.value,Pe);rt&&rt(Ae,{event:"load",node:Te}),n.loadedKeys===void 0&&(f.value=Ae),h.value=nt,qe()}).catch(Ae=>{const nt=Qa(h.value,Pe);if(h.value=nt,v[Pe]=(v[Pe]||0)+1,v[Pe]>=Jbe){const $e=uu(f.value,Pe);n.loadedKeys===void 0&&(f.value=$e),qe()}je(Ae)}),h.value=uu(h.value,Pe)});return Ue.catch(()=>{}),Ue},fe=(Te,Pe)=>{const{onMouseenter:Ue}=n;Ue&&Ue({event:Te,node:Pe})},ge=(Te,Pe)=>{const{onMouseleave:Ue}=n;Ue&&Ue({event:Te,node:Pe})},ve=(Te,Pe)=>{const{onRightClick:Ue}=n;Ue&&(Te.preventDefault(),Ue({event:Te,node:Pe}))},j=Te=>{const{onFocus:Pe}=n;_.value=!0,Pe&&Pe(Te)},G=Te=>{const{onBlur:Pe}=n;_.value=!1,re(null),Pe&&Pe(Te)},ce=(Te,Pe)=>{let Ue=p.value;const{onExpand:qe,loadData:je}=n,{expanded:lt}=Pe,rt=Pe[T.value.key];if(w.value)return;Ue.indexOf(rt);const At=!lt;if(At?Ue=uu(Ue,rt):Ue=Qa(Ue,rt),we(Ue),qe&&qe(Ue,{node:Pe,expanded:At,nativeEvent:Te}),At&&je){const Ae=Se(Pe);Ae&&Ae.then(()=>{}).catch(nt=>{const $e=Qa(p.value,rt);we($e),Promise.reject(nt)})}},Ee=()=>{w.value=!0},de=()=>{setTimeout(()=>{w.value=!1})},re=Te=>{const{onActiveChange:Pe}=n;S.value!==Te&&(n.activeKey!==void 0&&(S.value=Te),Te!==null&&ie({key:Te}),Pe&&Pe(Te))},ye=K(()=>S.value===null?null:H.value.find(Te=>{let{key:Pe}=Te;return Pe===S.value})||null),De=Te=>{let Pe=H.value.findIndex(qe=>{let{key:je}=qe;return je===S.value});Pe===-1&&Te<0&&(Pe=H.value.length),Pe=(Pe+Te+H.value.length)%H.value.length;const Ue=H.value[Pe];if(Ue){const{key:qe}=Ue;re(qe)}else re(null)},Ge=K(()=>Gx(O(O({},Hx(S.value,P.value)),{data:ye.value.data,active:!0}))),ft=Te=>{const{onKeydown:Pe,checkable:Ue,selectable:qe}=n;switch(Te.which){case st.UP:{De(-1),Te.preventDefault();break}case st.DOWN:{De(1),Te.preventDefault();break}}const je=ye.value;if(je&&je.data){const lt=je.data.isLeaf===!1||!!(je.data.children||[]).length,rt=Ge.value;switch(Te.which){case st.LEFT:{lt&&N.value.has(S.value)?ce({},rt):je.parent&&re(je.parent.key),Te.preventDefault();break}case st.RIGHT:{lt&&!N.value.has(S.value)?ce({},rt):je.children&&je.children.length&&re(je.children[0].key),Te.preventDefault();break}case st.ENTER:case st.SPACE:{Ue&&!rt.disabled&&rt.checkable!==!1&&!rt.disableCheckbox?pe({},rt,!F.value.has(S.value)):!Ue&&qe&&!rt.disabled&&rt.selectable!==!1&&Ce({},rt);break}}}Pe&&Pe(Te)};return o({onNodeExpand:ce,scrollTo:ie,onKeydown:ft,selectedKeys:K(()=>u.value),checkedKeys:K(()=>c.value),halfCheckedKeys:K(()=>d.value),loadedKeys:K(()=>f.value),loadingKeys:K(()=>h.value),expandedKeys:K(()=>p.value)}),Ha(()=>{window.removeEventListener("dragend",ee),s.value=!0}),ove({expandedKeys:p,selectedKeys:u,loadedKeys:f,loadingKeys:h,checkedKeys:c,halfCheckedKeys:d,expandedKeysSet:N,selectedKeysSet:D,loadedKeysSet:$,loadingKeysSet:L,checkedKeysSet:F,halfCheckedKeysSet:U,flattenNodes:H}),()=>{const{draggingNodeKey:Te,dropLevelOffset:Pe,dropContainerKey:Ue,dropTargetKey:qe,dropPosition:je,dragOverNodeKey:lt}=b,{prefixCls:rt,showLine:At,focusable:Ae,tabindex:nt=0,selectable:$e,showIcon:Ve,icon:gt=r.icon,switcherIcon:yt,draggable:Ot,checkable:qt,checkStrictly:$n,disabled:tn,motion:Ci,loadData:Ki,filterTreeNode:Br,height:Va,itemHeight:Er,virtual:os,dropIndicatorRender:rc,onContextmenu:oc,onScroll:ha,direction:Ns,rootClassName:Os,rootStyle:Dl}=n,{class:Ll,style:Bl}=i,sc=Jf(O(O({},n),i),{aria:!0,data:!0});let pa;return Ot?typeof Ot=="object"?pa=Ot:typeof Ot=="function"?pa={nodeDraggable:Ot}:pa={}:pa=!1,I(rve,{value:{prefixCls:rt,selectable:$e,showIcon:Ve,icon:gt,switcherIcon:yt,draggable:pa,draggingNodeKey:Te,checkable:qt,customCheckable:r.checkable,checkStrictly:$n,disabled:tn,keyEntities:m.value,dropLevelOffset:Pe,dropContainerKey:Ue,dropTargetKey:qe,dropPosition:je,dragOverNodeKey:lt,dragging:Te!==null,indent:l.value,direction:Ns,dropIndicatorRender:rc,loadData:Ki,filterTreeNode:Br,onNodeClick:X,onNodeDoubleClick:V,onNodeExpand:ce,onNodeSelect:Ce,onNodeCheck:pe,onNodeLoad:Se,onNodeMouseEnter:fe,onNodeMouseLeave:ge,onNodeContextMenu:ve,onNodeDragStart:ne,onNodeDragEnter:ue,onNodeDragOver:Y,onNodeDragLeave:le,onNodeDragEnd:se,onNodeDrop:he,slots:r}},{default:()=>[I("div",{role:"tree",class:Ye(rt,Ll,Os,{[`${rt}-show-line`]:At,[`${rt}-focused`]:_.value,[`${rt}-active-focused`]:S.value!==null}),style:Dl},[I(Qbe,be({ref:A,prefixCls:rt,style:Bl,disabled:tn,selectable:$e,checkable:!!qt,motion:Ci,height:Va,itemHeight:Er,virtual:os,focusable:Ae,focused:_.value,tabindex:nt,activeItem:ye.value,onFocus:j,onBlur:G,onKeydown:ft,onActiveChange:re,onListChangeStart:Ee,onListChangeEnd:de,onContextmenu:oc,onScroll:ha},sc),null)])]})}}});var txe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function o$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){nxe(n,o,i[o])})}return n}function nxe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var vw=function(e,i){var r=o$({},e,i.attrs);return I(xn,o$({},r,{icon:txe}),null)};vw.displayName="FileOutlined";vw.inheritAttrs=!1;var ixe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function s$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){rxe(n,o,i[o])})}return n}function rxe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var zP=function(e,i){var r=s$({},e,i.attrs);return I(xn,s$({},r,{icon:ixe}),null)};zP.displayName="MinusSquareOutlined";zP.inheritAttrs=!1;var oxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function a$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){sxe(n,o,i[o])})}return n}function sxe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var HP=function(e,i){var r=a$({},e,i.attrs);return I(xn,a$({},r,{icon:oxe}),null)};HP.displayName="PlusSquareOutlined";HP.inheritAttrs=!1;var axe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function l$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){lxe(n,o,i[o])})}return n}function lxe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var GP=function(e,i){var r=l$({},e,i.attrs);return I(xn,l$({},r,{icon:axe}),null)};GP.displayName="CaretDownFilled";GP.inheritAttrs=!1;function uxe(n,e,i,r,o){const{isLeaf:s,expanded:a,loading:l}=i;let u=e;if(l)return I(Sl,{class:`${n}-switcher-loading-icon`},null);let c;o&&typeof o=="object"&&(c=o.showLeafIcon);let d=null;const f=`${n}-switcher-icon`;return s?o?c&&r?r(i):(typeof o=="object"&&!c?d=I("span",{class:`${n}-switcher-leaf-line`},null):d=I(vw,{class:`${n}-switcher-line-icon`},null),d):null:(d=I(GP,{class:f},null),o&&(d=a?I(zP,{class:`${n}-switcher-line-icon`},null):I(HP,{class:`${n}-switcher-line-icon`},null)),typeof e=="function"?u=e(O(O({},i),{defaultIcon:d,switcherCls:f})):lo(u)&&(u=ts(u,{class:f})),u||d)}const u$=4;function cxe(n){const{dropPosition:e,dropLevelOffset:i,prefixCls:r,indent:o,direction:s="ltr"}=n,a=s==="ltr"?"left":"right",l=s==="ltr"?"right":"left",u={[a]:`${-i*o+u$}px`,[l]:0};switch(e){case-1:u.top="-3px";break;case 1:u.bottom="-3px";break;default:u.bottom="-3px",u[a]=`${o+u$}px`;break}return I("div",{style:u,class:`${r}-drop-indicator`},null)}const dxe=new On("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),fxe=(n,e)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${e.motionDurationSlow}`}}}),hxe=(n,e)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,borderRadius:"50%",content:'""'}}}),pxe=(n,e)=>{const{treeCls:i,treeNodeCls:r,treeNodePadding:o,treeTitleHeight:s}=e,a=(s-e.fontSizeLG)/2,l=e.paddingXS;return{[i]:O(O({},li(e)),{background:e.colorBgContainer,borderRadius:e.borderRadius,transition:`background-color ${e.motionDurationSlow}`,[`&${i}-rtl`]:{[`${i}-switcher`]:{"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${i}-active-focused)`]:O({},$u(e)),[`${i}-list-holder-inner`]:{alignItems:"flex-start"},[`&${i}-block-node`]:{[`${i}-list-holder-inner`]:{alignItems:"stretch",[`${i}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,border:`1px solid ${e.colorPrimary}`,opacity:0,animationName:dxe,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${r}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${o}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${i}-node-content-wrapper`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${i}-node-content-wrapper`]:O({},$u(e)),[`&:not(${r}-disabled).filter-node ${i}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${i}-draggable-icon`]:{width:s,lineHeight:`${s}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${e.motionDurationSlow}`,[`${r}:hover &`]:{opacity:.45}},[`&${r}-disabled`]:{[`${i}-draggable-icon`]:{visibility:"hidden"}}}},[`${i}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${i}-draggable-icon`]:{visibility:"hidden"},[`${i}-switcher`]:O(O({},fxe(n,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:s,margin:0,lineHeight:`${s}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-o,marginInlineStart:-1,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:s/2*.8,height:s/2,borderBottom:`1px solid ${e.colorBorder}`,content:'""'}}}),[`${i}-checkbox`]:{top:"initial",marginInlineEnd:l,marginBlockStart:a},[`${i}-node-content-wrapper, ${i}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:s,margin:0,padding:`0 ${e.paddingXS/2}px`,color:"inherit",lineHeight:`${s}px`,background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:e.controlItemBgHover},[`&${i}-node-selected`]:{backgroundColor:e.controlItemBgActive},[`${i}-iconEle`]:{display:"inline-block",width:s,height:s,lineHeight:`${s}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${i}-unselectable ${i}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${i}-node-content-wrapper`]:O({lineHeight:`${s}px`,userSelect:"none"},hxe(n,e)),[`${r}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${e.colorPrimary}`}},"&-show-line":{[`${i}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-o,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${i}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last`]:{[`${i}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${s/2}px !important`}}}}})}},gxe=n=>{const{treeCls:e,treeNodeCls:i,treeNodePadding:r}=n;return{[`${e}${e}-directory`]:{[i]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:r,insetInlineStart:0,transition:`background-color ${n.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:n.controlItemBgHover}},"> *":{zIndex:1},[`${e}-switcher`]:{transition:`color ${n.motionDurationMid}`},[`${e}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${e}-node-selected`]:{color:n.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:n.colorPrimary},[`${e}-switcher`]:{color:n.colorTextLightSolid},[`${e}-node-content-wrapper`]:{color:n.colorTextLightSolid,background:"transparent"}}}}}},mxe=(n,e)=>{const i=`.${n}`,r=`${i}-treenode`,o=e.paddingXS/2,s=e.controlHeightSM,a=Nn(e,{treeCls:i,treeNodeCls:r,treeNodePadding:o,treeTitleHeight:s});return[pxe(n,a),gxe(a)]},vxe=Di("Tree",(n,e)=>{let{prefixCls:i}=e;return[{[n.componentCls]:DG(`${i}-checkbox`,n)},mxe(i,n),aP(n)]}),uV=()=>{const n=RG();return O(O({},n),{showLine:Mi([Boolean,Object]),multiple:Pt(),autoExpandParent:Pt(),checkStrictly:Pt(),checkable:Pt(),disabled:Pt(),defaultExpandAll:Pt(),defaultExpandParent:Pt(),defaultExpandedKeys:Ri(),expandedKeys:Ri(),checkedKeys:Mi([Array,Object]),defaultCheckedKeys:Ri(),selectedKeys:Ri(),defaultSelectedKeys:Ri(),selectable:Pt(),loadedKeys:Ri(),draggable:Pt(),showIcon:Pt(),icon:pt(),switcherIcon:_e.any,prefixCls:String,replaceFields:vn(),blockNode:Pt(),openAnimation:_e.any,onDoubleclick:n.onDblclick,"onUpdate:selectedKeys":pt(),"onUpdate:checkedKeys":pt(),"onUpdate:expandedKeys":pt()})},Kx=We({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:ui(uV(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(n,e){let{attrs:i,expose:r,emit:o,slots:s}=e;n.treeData===void 0&&s.default;const{prefixCls:a,direction:l,virtual:u}=en("tree",n),[c,d]=vxe(a),f=He();r({treeRef:f,onNodeExpand:function(){var y;(y=f.value)===null||y===void 0||y.onNodeExpand(...arguments)},scrollTo:y=>{var m;(m=f.value)===null||m===void 0||m.scrollTo(y)},selectedKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.selectedKeys}),checkedKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.checkedKeys}),halfCheckedKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.halfCheckedKeys}),loadedKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.loadedKeys}),loadingKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.loadingKeys}),expandedKeys:K(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.expandedKeys})}),an(()=>{fi(n.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const p=(y,m)=>{o("update:checkedKeys",y),o("check",y,m)},v=(y,m)=>{o("update:expandedKeys",y),o("expand",y,m)},b=(y,m)=>{o("update:selectedKeys",y),o("select",y,m)};return()=>{const{showIcon:y,showLine:m,switcherIcon:_=s.switcherIcon,icon:S=s.icon,blockNode:w,checkable:T,selectable:A,fieldNames:C=n.replaceFields,motion:R=n.openAnimation,itemHeight:E=28,onDoubleclick:P,onDblclick:N}=n,D=O(O(O({},i),wi(n,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!m,dropIndicatorRender:cxe,fieldNames:C,icon:S,itemHeight:E}),$=s.default?Po(s.default()):void 0;return c(I(exe,be(be({},D),{},{virtual:u.value,motion:R,ref:f,prefixCls:a.value,class:Ye({[`${a.value}-icon-hide`]:!y,[`${a.value}-block-node`]:w,[`${a.value}-unselectable`]:!A,[`${a.value}-rtl`]:l.value==="rtl"},i.class,d.value),direction:l.value,checkable:T,selectable:A,switcherIcon:L=>uxe(a.value,_,L,s.leafIcon,m),onCheck:p,onExpand:v,onSelect:b,onDblclick:N||P,children:$}),O(O({},s),{checkable:()=>I("span",{class:`${a.value}-checkbox-inner`},null)})))}}});var yxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function c$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){bxe(n,o,i[o])})}return n}function bxe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var VP=function(e,i){var r=c$({},e,i.attrs);return I(xn,c$({},r,{icon:yxe}),null)};VP.displayName="FolderOpenOutlined";VP.inheritAttrs=!1;var xxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function d$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){_xe(n,o,i[o])})}return n}function _xe(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var WP=function(e,i){var r=d$({},e,i.attrs);return I(xn,d$({},r,{icon:xxe}),null)};WP.displayName="FolderOutlined";WP.inheritAttrs=!1;var fu;(function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"})(fu||(fu={}));function jP(n,e,i){function r(o){const s=o[e.key],a=o[e.children];i(s,o)!==!1&&jP(a||[],e,i)}n.forEach(r)}function Sxe(n){let{treeData:e,expandedKeys:i,startKey:r,endKey:o,fieldNames:s={title:"title",key:"key",children:"children"}}=n;const a=[];let l=fu.None;if(r&&r===o)return[r];if(!r||!o)return[];function u(c){return c===r||c===o}return jP(e,s,c=>{if(l===fu.End)return!1;if(u(c)){if(a.push(c),l===fu.None)l=fu.Start;else if(l===fu.Start)return l=fu.End,!1}else l===fu.Start&&a.push(c);return i.includes(c)}),a}function aT(n,e,i){const r=[...e],o=[];return jP(n,i,(s,a)=>{const l=r.indexOf(s);return l!==-1&&(o.push(a),r.splice(l,1)),!!r.length}),o}var wxe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Cxe=()=>O(O({},uV()),{expandAction:Mi([Boolean,String])});function Txe(n){const{isLeaf:e,expanded:i}=n;return I(e?vw:i?VP:WP,null,null)}const lT=We({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:ui(Cxe(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(n,e){let{attrs:i,slots:r,emit:o,expose:s}=e;var a;const l=He(n.treeData||dM(Po((a=r.default)===null||a===void 0?void 0:a.call(r))));ut(()=>n.treeData,()=>{l.value=n.treeData}),fa(()=>{Un(()=>{var E;n.treeData===void 0&&r.default&&(l.value=dM(Po((E=r.default)===null||E===void 0?void 0:E.call(r))))})});const u=He(),c=He(),d=K(()=>cw(n.fieldNames)),f=He();s({scrollTo:E=>{var P;(P=f.value)===null||P===void 0||P.scrollTo(E)},selectedKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.selectedKeys}),checkedKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.checkedKeys}),halfCheckedKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.halfCheckedKeys}),loadedKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.loadedKeys}),loadingKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.loadingKeys}),expandedKeys:K(()=>{var E;return(E=f.value)===null||E===void 0?void 0:E.expandedKeys})});const p=()=>{const{keyEntities:E}=NP(l.value,{fieldNames:d.value});let P;return n.defaultExpandAll?P=Object.keys(E):n.defaultExpandParent?P=cM(n.expandedKeys||n.defaultExpandedKeys||[],E):P=n.expandedKeys||n.defaultExpandedKeys,P},v=He(n.selectedKeys||n.defaultSelectedKeys||[]),b=He(p());ut(()=>n.selectedKeys,()=>{n.selectedKeys!==void 0&&(v.value=n.selectedKeys)},{immediate:!0}),ut(()=>n.expandedKeys,()=>{n.expandedKeys!==void 0&&(b.value=n.expandedKeys)},{immediate:!0});const m=JR((E,P)=>{const{isLeaf:N}=P;N||E.shiftKey||E.metaKey||E.ctrlKey||f.value.onNodeExpand(E,P)},200,{leading:!0}),_=(E,P)=>{n.expandedKeys===void 0&&(b.value=E),o("update:expandedKeys",E),o("expand",E,P)},S=(E,P)=>{const{expandAction:N}=n;N==="click"&&m(E,P),o("click",E,P)},w=(E,P)=>{const{expandAction:N}=n;(N==="dblclick"||N==="doubleclick")&&m(E,P),o("doubleclick",E,P),o("dblclick",E,P)},T=(E,P)=>{const{multiple:N}=n,{node:D,nativeEvent:$}=P,L=D[d.value.key],F=O(O({},P),{selected:!0}),U=($==null?void 0:$.ctrlKey)||($==null?void 0:$.metaKey),k=$==null?void 0:$.shiftKey;let H;N&&U?(H=E,u.value=L,c.value=H,F.selectedNodes=aT(l.value,H,d.value)):N&&k?(H=Array.from(new Set([...c.value||[],...Sxe({treeData:l.value,expandedKeys:b.value,startKey:L,endKey:u.value,fieldNames:d.value})])),F.selectedNodes=aT(l.value,H,d.value)):(H=[L],u.value=L,c.value=H,F.selectedNodes=aT(l.value,H,d.value)),o("update:selectedKeys",H),o("select",H,F),n.selectedKeys===void 0&&(v.value=H)},A=(E,P)=>{o("update:checkedKeys",E),o("check",E,P)},{prefixCls:C,direction:R}=en("tree",n);return()=>{const E=Ye(`${C.value}-directory`,{[`${C.value}-directory-rtl`]:R.value==="rtl"},i.class),{icon:P=r.icon,blockNode:N=!0}=n,D=wxe(n,["icon","blockNode"]);return I(Kx,be(be(be({},i),{},{icon:P||Txe,ref:f,blockNode:N},D),{},{prefixCls:C.value,class:E,expandedKeys:b.value,selectedKeys:v.value,onSelect:T,onClick:S,onDblclick:w,onExpand:_,onCheck:A}),r)}}}),uT=uM,Axe=O(Kx,{DirectoryTree:lT,TreeNode:uT,install:n=>(n.component(Kx.name,Kx),n.component(uT.name,uT),n.component(lT.name,lT),n)});function f$(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=new Set;function o(s,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const u=r.has(s);if(Y6(!u,"Warning: There may be circular references"),u)return!1;if(s===a)return!0;if(i&&l>1)return!1;r.add(s);const c=l+1;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(let d=0;d<s.length;d++)if(!o(s[d],a[d],c))return!1;return!0}if(s&&a&&typeof s=="object"&&typeof a=="object"){const d=Object.keys(s);return d.length!==Object.keys(a).length?!1:d.every(f=>o(s[f],a[f],c))}return!1}return o(n,e)}const{SubMenu:Exe,Item:Mxe}=ia;function Rxe(n){return n.some(e=>{let{children:i}=e;return i&&i.length>0})}function cV(n,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(n.trim().toLowerCase()):!1}function dV(n){let{filters:e,prefixCls:i,filteredKeys:r,filterMultiple:o,searchValue:s,filterSearch:a}=n;return e.map((l,u)=>{const c=String(l.value);if(l.children)return I(Exe,{key:c||u,title:l.text,popupClassName:`${i}-dropdown-submenu`},{default:()=>[dV({filters:l.children,prefixCls:i,filteredKeys:r,filterMultiple:o,searchValue:s,filterSearch:a})]});const d=o?hl:Ho,f=I(Mxe,{key:l.value!==void 0?c:u},{default:()=>[I(d,{checked:r.includes(c)},null),I("span",null,[l.text])]});return s.trim()?typeof a=="function"?a(s,l)?f:void 0:cV(s,l.text)?f:void 0:f})}const Pxe=We({name:"FilterDropdown",props:["tablePrefixCls","prefixCls","dropdownPrefixCls","column","filterState","filterMultiple","filterMode","filterSearch","columnKey","triggerFilter","locale","getPopupContainer"],setup(n,e){let{slots:i}=e;const r=LP(),o=K(()=>{var ie;return(ie=n.filterMode)!==null&&ie!==void 0?ie:"menu"}),s=K(()=>{var ie;return(ie=n.filterSearch)!==null&&ie!==void 0?ie:!1}),a=K(()=>n.column.filterDropdownOpen||n.column.filterDropdownVisible),l=K(()=>n.column.onFilterDropdownOpenChange||n.column.onFilterDropdownVisibleChange),u=Ne(!1),c=K(()=>{var ie;return!!(n.filterState&&(!((ie=n.filterState.filteredKeys)===null||ie===void 0)&&ie.length||n.filterState.forceFiltered))}),d=K(()=>{var ie;return yw((ie=n.column)===null||ie===void 0?void 0:ie.filters)}),f=K(()=>{const{filterDropdown:ie,slots:we={},customFilterDropdown:J}=n.column;return ie||we.filterDropdown&&r.value[we.filterDropdown]||J&&r.value.customFilterDropdown}),h=K(()=>{const{filterIcon:ie,slots:we={}}=n.column;return ie||we.filterIcon&&r.value[we.filterIcon]||r.value.customFilterIcon}),p=ie=>{var we;u.value=ie,(we=l.value)===null||we===void 0||we.call(l,ie)},v=K(()=>typeof a.value=="boolean"?a.value:u.value),b=K(()=>{var ie;return(ie=n.filterState)===null||ie===void 0?void 0:ie.filteredKeys}),y=Ne([]),m=ie=>{let{selectedKeys:we}=ie;y.value=we},_=(ie,we)=>{let{node:J,checked:se}=we;n.filterMultiple?m({selectedKeys:ie}):m({selectedKeys:se&&J.key?[J.key]:[]})};ut(b,()=>{u.value&&m({selectedKeys:b.value||[]})},{immediate:!0});const S=Ne([]),w=Ne(),T=ie=>{w.value=setTimeout(()=>{S.value=ie})},A=()=>{clearTimeout(w.value)};Rn(()=>{clearTimeout(w.value)});const C=Ne(""),R=ie=>{const{value:we}=ie.target;C.value=we};ut(u,()=>{u.value||(C.value="")});const E=ie=>{const{column:we,columnKey:J,filterState:se}=n,ee=ie&&ie.length?ie:null;if(ee===null&&(!se||!se.filteredKeys)||f$(ee,se==null?void 0:se.filteredKeys,!0))return null;n.triggerFilter({column:we,key:J,filteredKeys:ee})},P=()=>{p(!1),E(y.value)},N=function(){let{confirm:ie,closeDropdown:we}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};ie&&E([]),we&&p(!1),C.value="",n.column.filterResetToDefaultFilteredValue?y.value=(n.column.defaultFilteredValue||[]).map(J=>String(J)):y.value=[]},D=function(){let{closeDropdown:ie}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};ie&&p(!1),E(y.value)},$=ie=>{ie&&b.value!==void 0&&(y.value=b.value||[]),p(ie),!ie&&!f.value&&P()},{direction:L}=en("",n),F=ie=>{if(ie.target.checked){const we=d.value;y.value=we}else y.value=[]},U=ie=>{let{filters:we}=ie;return(we||[]).map((J,se)=>{const ee=String(J.value),ne={title:J.text,key:J.value!==void 0?ee:se};return J.children&&(ne.children=U({filters:J.children})),ne})},k=ie=>{var we;return O(O({},ie),{text:ie.title,value:ie.key,children:((we=ie.children)===null||we===void 0?void 0:we.map(J=>k(J)))||[]})},H=K(()=>U({filters:n.column.filters})),z=K(()=>Ye({[`${n.dropdownPrefixCls}-menu-without-submenu`]:!Rxe(n.column.filters||[])})),Q=()=>{const ie=y.value,{column:we,locale:J,tablePrefixCls:se,filterMultiple:ee,dropdownPrefixCls:ne,getPopupContainer:ue,prefixCls:Y}=n;return(we.filters||[]).length===0?I(tf,{image:tf.PRESENTED_IMAGE_SIMPLE,description:J.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}},null):o.value==="tree"?I(mn,null,[I(QF,{filterSearch:s.value,value:C.value,onChange:R,tablePrefixCls:se,locale:J},null),I("div",{class:`${se}-filter-dropdown-tree`},[ee?I(hl,{class:`${se}-filter-dropdown-checkall`,onChange:F,checked:ie.length===d.value.length,indeterminate:ie.length>0&&ie.length<d.value.length},{default:()=>[J.filterCheckall]}):null,I(Axe,{checkable:!0,selectable:!1,blockNode:!0,multiple:ee,checkStrictly:!ee,class:`${ne}-menu`,onCheck:_,checkedKeys:ie,selectedKeys:ie,showIcon:!1,treeData:H.value,autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:C.value.trim()?le=>typeof s.value=="function"?s.value(C.value,k(le)):cV(C.value,le.title):void 0},null)])]):I(mn,null,[I(QF,{filterSearch:s.value,value:C.value,onChange:R,tablePrefixCls:se,locale:J},null),I(ia,{multiple:ee,prefixCls:`${ne}-menu`,class:z.value,onClick:A,onSelect:m,onDeselect:m,selectedKeys:ie,getPopupContainer:ue,openKeys:S.value,onOpenChange:T},{default:()=>dV({filters:we.filters||[],filterSearch:s.value,prefixCls:Y,filteredKeys:y.value,filterMultiple:ee,searchValue:C.value})})])},Z=K(()=>{const ie=y.value;return n.column.filterResetToDefaultFilteredValue?f$((n.column.defaultFilteredValue||[]).map(we=>String(we)),ie,!0):ie.length===0});return()=>{var ie;const{tablePrefixCls:we,prefixCls:J,column:se,dropdownPrefixCls:ee,locale:ne,getPopupContainer:ue}=n;let Y;typeof f.value=="function"?Y=f.value({prefixCls:`${ee}-custom`,setSelectedKeys:W=>m({selectedKeys:W}),selectedKeys:y.value,confirm:D,clearFilters:N,filters:se.filters,visible:v.value,column:se.__originColumn__,close:()=>{p(!1)}}):f.value?Y=f.value:Y=I(mn,null,[Q(),I("div",{class:`${J}-dropdown-btns`},[I(Es,{type:"link",size:"small",disabled:Z.value,onClick:()=>N()},{default:()=>[ne.filterReset]}),I(Es,{type:"primary",size:"small",onClick:P},{default:()=>[ne.filterConfirm]})])]);const le=I(jbe,{class:`${J}-dropdown`},{default:()=>[Y]});let he;return typeof h.value=="function"?he=h.value({filtered:c.value,column:se.__originColumn__}):h.value?he=h.value:he=I(kP,null,null),I("div",{class:`${J}-column`},[I("span",{class:`${we}-column-title`},[(ie=i.default)===null||ie===void 0?void 0:ie.call(i)]),I(Xc,{overlay:le,trigger:["click"],open:v.value,onOpenChange:$,getPopupContainer:ue,placement:L.value==="rtl"?"bottomLeft":"bottomRight"},{default:()=>[I("span",{role:"button",tabindex:-1,class:Ye(`${J}-trigger`,{active:c.value}),onClick:W=>{W.stopPropagation()}},[he])]})])}}});function EM(n,e,i){let r=[];return(n||[]).forEach((o,s)=>{var a,l;const u=zy(s,i),c=o.filterDropdown||((a=o==null?void 0:o.slots)===null||a===void 0?void 0:a.filterDropdown)||o.customFilterDropdown;if(o.filters||c||"onFilter"in o)if("filteredValue"in o){let d=o.filteredValue;c||(d=(l=d==null?void 0:d.map(String))!==null&&l!==void 0?l:d),r.push({column:o,key:Ff(o,u),filteredKeys:d,forceFiltered:o.filtered})}else r.push({column:o,key:Ff(o,u),filteredKeys:e&&o.defaultFilteredValue?o.defaultFilteredValue:void 0,forceFiltered:o.filtered});"children"in o&&(r=[...r,...EM(o.children,e,u)])}),r}function fV(n,e,i,r,o,s,a,l){return i.map((u,c)=>{var d;const f=zy(c,l),{filterMultiple:h=!0,filterMode:p,filterSearch:v}=u;let b=u;const y=u.filterDropdown||((d=u==null?void 0:u.slots)===null||d===void 0?void 0:d.filterDropdown)||u.customFilterDropdown;if(b.filters||y){const m=Ff(b,f),_=r.find(S=>{let{key:w}=S;return m===w});b=O(O({},b),{title:S=>I(Pxe,{tablePrefixCls:n,prefixCls:`${n}-filter`,dropdownPrefixCls:e,column:b,columnKey:m,filterState:_,filterMultiple:h,filterMode:p,filterSearch:v,triggerFilter:s,locale:o,getPopupContainer:a},{default:()=>[UP(u.title,S)]})})}return"children"in b&&(b=O(O({},b),{children:fV(n,e,b.children,r,o,s,a,f)})),b})}function yw(n){let e=[];return(n||[]).forEach(i=>{let{value:r,children:o}=i;e.push(r),o&&(e=[...e,...yw(o)])}),e}function h$(n){const e={};return n.forEach(i=>{let{key:r,filteredKeys:o,column:s}=i;var a;const l=s.filterDropdown||((a=s==null?void 0:s.slots)===null||a===void 0?void 0:a.filterDropdown)||s.customFilterDropdown,{filters:u}=s;if(l)e[r]=o||null;else if(Array.isArray(o)){const c=yw(u);e[r]=c.filter(d=>o.includes(String(d)))}else e[r]=null}),e}function p$(n,e){return e.reduce((i,r)=>{const{column:{onFilter:o,filters:s},filteredKeys:a}=r;return o&&a&&a.length?i.filter(l=>a.some(u=>{const c=yw(s),d=c.findIndex(h=>String(h)===String(u)),f=d!==-1?c[d]:u;return o(f,l)})):i},n)}function hV(n){return n.flatMap(e=>"children"in e?[e,...hV(e.children||[])]:[e])}function Ixe(n){let{prefixCls:e,dropdownPrefixCls:i,mergedColumns:r,locale:o,onFilterChange:s,getPopupContainer:a}=n;const l=K(()=>hV(r.value)),[u,c]=Vn(EM(l.value,!0)),d=K(()=>{const v=EM(l.value,!1);if(v.length===0)return v;let b=!0,y=!0;if(v.forEach(m=>{let{filteredKeys:_}=m;_!==void 0?b=!1:y=!1}),b){const m=(l.value||[]).map((_,S)=>Ff(_,zy(S)));return u.value.filter(_=>{let{key:S}=_;return m.includes(S)}).map(_=>{const S=l.value[m.findIndex(w=>w===_.key)];return O(O({},_),{column:O(O({},_.column),S),forceFiltered:S.filtered})})}return fi(y,"Table","Columns should all contain `filteredValue` or not contain `filteredValue`."),v}),f=K(()=>h$(d.value)),h=v=>{const b=d.value.filter(y=>{let{key:m}=y;return m!==v.key});b.push(v),c(b),s(h$(b),b)};return[v=>fV(e.value,i.value,v,d.value,o.value,h,a.value),d,f]}function pV(n,e){return n.map(i=>{const r=O({},i);return r.title=UP(r.title,e),"children"in r&&(r.children=pV(r.children,e)),r})}function Nxe(n){return[i=>pV(i,n.value)]}function Oxe(n){return function(i){let{prefixCls:r,onExpand:o,record:s,expanded:a,expandable:l}=i;const u=`${r}-row-expand-icon`;return I("button",{type:"button",onClick:c=>{o(s,c),c.stopPropagation()},class:Ye(u,{[`${u}-spaced`]:!l,[`${u}-expanded`]:l&&a,[`${u}-collapsed`]:l&&!a}),"aria-label":a?n.collapse:n.expand,"aria-expanded":a},null)}}function gV(n,e){const i=e.value;return n.map(r=>{var o;if(r===du||r===Bc)return r;const s=O({},r),{slots:a={}}=s;return s.__originColumn__=r,fi(!("slots"in s),"Table","`column.slots` is deprecated. Please use `v-slot:headerCell` `v-slot:bodyCell` instead."),Object.keys(a).forEach(l=>{const u=a[l];s[l]===void 0&&i[u]&&(s[l]=i[u])}),e.value.headerCell&&!(!((o=r.slots)===null||o===void 0)&&o.title)&&(s.title=KS(e.value,"headerCell",{title:r.title,column:r},()=>[r.title])),"children"in s&&Array.isArray(s.children)&&(s.children=gV(s.children,e)),s})}function Dxe(n){return[i=>gV(i,n)]}const Lxe=n=>{const{componentCls:e}=n,i=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`,r=(o,s,a)=>({[`&${e}-${o}`]:{[`> ${e}-container`]:{[`> ${e}-content, > ${e}-body`]:{"> table > tbody > tr > td":{[`> ${e}-expanded-row-fixed`]:{margin:`-${s}px -${a+n.lineWidth}px`}}}}}});return{[`${e}-wrapper`]:{[`${e}${e}-bordered`]:O(O(O({[`> ${e}-title`]:{border:i,borderBottom:0},[`> ${e}-container`]:{borderInlineStart:i,[`
            > ${e}-content,
            > ${e}-header,
            > ${e}-body,
            > ${e}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:i},"> thead":{"> tr:not(:last-child) > th":{borderBottom:i},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${e}-cell-fix-right-first::after`]:{borderInlineEnd:i}},"> tbody > tr > td":{[`> ${e}-expanded-row-fixed`]:{margin:`-${n.tablePaddingVertical}px -${n.tablePaddingHorizontal+n.lineWidth}px`,"&::after":{position:"absolute",top:0,insetInlineEnd:n.lineWidth,bottom:0,borderInlineEnd:i,content:'""'}}}}},[`
            > ${e}-content,
            > ${e}-header
          `]:{"> table":{borderTop:i}}},[`&${e}-scroll-horizontal`]:{[`> ${e}-container > ${e}-body`]:{"> table > tbody":{[`
                > tr${e}-expanded-row,
                > tr${e}-placeholder
              `]:{"> td":{borderInlineEnd:0}}}}}},r("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle)),r("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall)),{[`> ${e}-footer`]:{border:i,borderTop:0}}),[`${e}-cell`]:{[`${e}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${n.lineWidth}px 0 ${n.lineWidth}px ${n.tableHeaderBg}`}}}}},Bxe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-cell-ellipsis`]:O(O({},yl),{wordBreak:"keep-all",[`
          &${e}-cell-fix-left-last,
          &${e}-cell-fix-right-first
        `]:{overflow:"visible",[`${e}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${e}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},Fxe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-tbody > tr${e}-placeholder`]:{textAlign:"center",color:n.colorTextDisabled,"&:hover > td":{background:n.colorBgContainer}}}}},$xe=n=>{const{componentCls:e,antCls:i,controlInteractiveSize:r,motionDurationSlow:o,lineWidth:s,paddingXS:a,lineType:l,tableBorderColor:u,tableExpandIconBg:c,tableExpandColumnWidth:d,borderRadius:f,fontSize:h,fontSizeSM:p,lineHeight:v,tablePaddingVertical:b,tablePaddingHorizontal:y,tableExpandedRowBg:m,paddingXXS:_}=n,S=r/2-s,w=S*2+s*3,T=`${s}px ${l} ${u}`,A=_-s;return{[`${e}-wrapper`]:{[`${e}-expand-icon-col`]:{width:d},[`${e}-row-expand-icon-cell`]:{textAlign:"center",[`${e}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${e}-row-indent`]:{height:1,float:"left"},[`${e}-row-expand-icon`]:O(O({},Yre(n)),{position:"relative",float:"left",boxSizing:"border-box",width:w,height:w,padding:0,color:"inherit",lineHeight:`${w}px`,background:c,border:T,borderRadius:f,transform:`scale(${r/w})`,transition:`all ${o}`,userSelect:"none","&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${o} ease-out`,content:'""'},"&::before":{top:S,insetInlineEnd:A,insetInlineStart:A,height:s},"&::after":{top:A,bottom:A,insetInlineStart:S,width:s,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${e}-row-indent + ${e}-row-expand-icon`]:{marginTop:(h*v-s*3)/2-Math.ceil((p*1.4-s*3)/2),marginInlineEnd:a},[`tr${e}-expanded-row`]:{"&, &:hover":{"> td":{background:m}},[`${i}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"auto"}}},[`${e}-expanded-row-fixed`]:{position:"relative",margin:`-${b}px -${y}px`,padding:`${b}px ${y}px`}}}},Uxe=n=>{const{componentCls:e,antCls:i,iconCls:r,tableFilterDropdownWidth:o,tableFilterDropdownSearchWidth:s,paddingXXS:a,paddingXS:l,colorText:u,lineWidth:c,lineType:d,tableBorderColor:f,tableHeaderIconColor:h,fontSizeSM:p,tablePaddingHorizontal:v,borderRadius:b,motionDurationSlow:y,colorTextDescription:m,colorPrimary:_,tableHeaderFilterActiveBg:S,colorTextDisabled:w,tableFilterDropdownBg:T,tableFilterDropdownHeight:A,controlItemBgHover:C,controlItemBgActive:R,boxShadowSecondary:E}=n,P=`${i}-dropdown`,N=`${e}-filter-dropdown`,D=`${i}-tree`,$=`${c}px ${d} ${f}`;return[{[`${e}-wrapper`]:{[`${e}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${e}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:-a,marginInline:`${a}px ${-v/2}px`,padding:`0 ${a}px`,color:h,fontSize:p,borderRadius:b,cursor:"pointer",transition:`all ${y}`,"&:hover":{color:m,background:S},"&.active":{color:_}}}},{[`${i}-dropdown`]:{[N]:O(O({},li(n)),{minWidth:o,backgroundColor:T,borderRadius:b,boxShadow:E,[`${P}-menu`]:{maxHeight:A,overflowX:"hidden",border:0,boxShadow:"none","&:empty::after":{display:"block",padding:`${l}px 0`,color:w,fontSize:p,textAlign:"center",content:'"Not Found"'}},[`${N}-tree`]:{paddingBlock:`${l}px 0`,paddingInline:l,[D]:{padding:0},[`${D}-treenode ${D}-node-content-wrapper:hover`]:{backgroundColor:C},[`${D}-treenode-checkbox-checked ${D}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:R}}},[`${N}-search`]:{padding:l,borderBottom:$,"&-input":{input:{minWidth:s},[r]:{color:w}}},[`${N}-checkall`]:{width:"100%",marginBottom:a,marginInlineStart:a},[`${N}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${l-c}px ${l}px`,overflow:"hidden",backgroundColor:"inherit",borderTop:$}})}},{[`${i}-dropdown ${N}, ${N}-submenu`]:{[`${i}-checkbox-wrapper + span`]:{paddingInlineStart:l,color:u},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},kxe=n=>{const{componentCls:e,lineWidth:i,colorSplit:r,motionDurationSlow:o,zIndexTableFixed:s,tableBg:a,zIndexTableSticky:l}=n,u=r;return{[`${e}-wrapper`]:{[`
        ${e}-cell-fix-left,
        ${e}-cell-fix-right
      `]:{position:"sticky !important",zIndex:s,background:a},[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:-i,width:30,transform:"translateX(100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${e}-cell-fix-left-all::after`]:{display:"none"},[`
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:-i,left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${e}-container`]:{"&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:l+1,width:30,transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${e}-ping-left`]:{[`&:not(${e}-has-fix-left) ${e}-container`]:{position:"relative","&::before":{boxShadow:`inset 10px 0 8px -8px ${u}`}},[`
          ${e}-cell-fix-left-first::after,
          ${e}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${u}`},[`${e}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${e}-ping-right`]:{[`&:not(${e}-has-fix-right) ${e}-container`]:{position:"relative","&::after":{boxShadow:`inset -10px 0 8px -8px ${u}`}},[`
          ${e}-cell-fix-right-first::after,
          ${e}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${u}`}}}}},zxe=n=>{const{componentCls:e,antCls:i}=n;return{[`${e}-wrapper`]:{[`${e}-pagination${i}-pagination`]:{margin:`${n.margin}px 0`},[`${e}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:n.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},Hxe=n=>{const{componentCls:e,tableRadius:i}=n;return{[`${e}-wrapper`]:{[e]:{[`${e}-title, ${e}-header`]:{borderRadius:`${i}px ${i}px 0 0`},[`${e}-title + ${e}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,table:{borderRadius:0,"> thead > tr:first-child":{"th:first-child":{borderRadius:0},"th:last-child":{borderRadius:0}}}},"&-container":{borderStartStartRadius:i,borderStartEndRadius:i,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:i},"> *:last-child":{borderStartEndRadius:i}}},"&-footer":{borderRadius:`0 0 ${i}px ${i}px`}}}}},Gxe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${e}-pagination-left`]:{justifyContent:"flex-end"},[`${e}-pagination-right`]:{justifyContent:"flex-start"},[`${e}-row-expand-icon`]:{"&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}}}}},Vxe=n=>{const{componentCls:e,antCls:i,iconCls:r,fontSizeIcon:o,paddingXS:s,tableHeaderIconColor:a,tableHeaderIconColorHover:l}=n;return{[`${e}-wrapper`]:{[`${e}-selection-col`]:{width:n.tableSelectionColumnWidth},[`${e}-bordered ${e}-selection-col`]:{width:n.tableSelectionColumnWidth+s*2},[`
        table tr th${e}-selection-column,
        table tr td${e}-selection-column
      `]:{paddingInlineEnd:n.paddingXS,paddingInlineStart:n.paddingXS,textAlign:"center",[`${i}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${e}-selection-column${e}-cell-fix-left`]:{zIndex:n.zIndexTableFixed+1},[`table tr th${e}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${e}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${e}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:`${n.tablePaddingHorizontal/4}px`,[r]:{color:a,fontSize:o,verticalAlign:"baseline","&:hover":{color:l}}}}}},Wxe=n=>{const{componentCls:e}=n,i=(r,o,s,a)=>({[`${e}${e}-${r}`]:{fontSize:a,[`
        ${e}-title,
        ${e}-footer,
        ${e}-thead > tr > th,
        ${e}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${o}px ${s}px`},[`${e}-filter-trigger`]:{marginInlineEnd:`-${s/2}px`},[`${e}-expanded-row-fixed`]:{margin:`-${o}px -${s}px`},[`${e}-tbody`]:{[`${e}-wrapper:only-child ${e}`]:{marginBlock:`-${o}px`,marginInline:`${n.tableExpandColumnWidth-s}px -${s}px`}},[`${e}-selection-column`]:{paddingInlineStart:`${s/4}px`}}});return{[`${e}-wrapper`]:O(O({},i("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle,n.tableFontSizeMiddle)),i("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall,n.tableFontSizeSmall))}},jxe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper ${e}-resize-handle`]:{position:"absolute",top:0,height:"100% !important",bottom:0,left:" auto !important",right:" -8px",cursor:"col-resize",touchAction:"none",userSelect:"auto",width:"16px",zIndex:1,"&-line":{display:"block",width:"1px",marginLeft:"7px",height:"100% !important",backgroundColor:n.colorPrimary,opacity:0},"&:hover &-line":{opacity:1}},[`${e}-wrapper  ${e}-resize-handle.dragging`]:{overflow:"hidden",[`${e}-resize-handle-line`]:{opacity:1},"&:before":{position:"absolute",top:0,bottom:0,content:'" "',width:"200vw",transform:"translateX(-50%)",opacity:0}}}},Kxe=n=>{const{componentCls:e,marginXXS:i,fontSizeIcon:r,tableHeaderIconColor:o,tableHeaderIconColorHover:s}=n;return{[`${e}-wrapper`]:{[`${e}-thead th${e}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{background:n.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:n.colorPrimary},[`
          &${e}-cell-fix-left:hover,
          &${e}-cell-fix-right:hover
        `]:{background:n.tableFixedHeaderSortActiveBg}},[`${e}-thead th${e}-column-sort`]:{background:n.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${e}-column-sort`]:{background:n.tableBodySortBg},[`${e}-column-title`]:{position:"relative",zIndex:1,flex:1},[`${e}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${e}-column-sorter`]:{marginInlineStart:i,color:o,fontSize:0,transition:`color ${n.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:n.colorPrimary}},[`${e}-column-sorter-up + ${e}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${e}-column-sorters:hover ${e}-column-sorter`]:{color:s}}}},Xxe=n=>{const{componentCls:e,opacityLoading:i,tableScrollThumbBg:r,tableScrollThumbBgHover:o,tableScrollThumbSize:s,tableScrollBg:a,zIndexTableSticky:l}=n,u=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`;return{[`${e}-wrapper`]:{[`${e}-sticky`]:{"&-holder":{position:"sticky",zIndex:l,background:n.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${s}px !important`,zIndex:l,display:"flex",alignItems:"center",background:a,borderTop:u,opacity:i,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:s,backgroundColor:r,borderRadius:100,transition:`all ${n.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:o}}}}}}},g$=n=>{const{componentCls:e,lineWidth:i,tableBorderColor:r}=n,o=`${i}px ${n.lineType} ${r}`;return{[`${e}-wrapper`]:{[`${e}-summary`]:{position:"relative",zIndex:n.zIndexTableFixed,background:n.tableBg,"> tr":{"> th, > td":{borderBottom:o}}},[`div${e}-summary`]:{boxShadow:`0 -${i}px 0 ${r}`}}}},qxe=n=>{const{componentCls:e,fontWeightStrong:i,tablePaddingVertical:r,tablePaddingHorizontal:o,lineWidth:s,lineType:a,tableBorderColor:l,tableFontSize:u,tableBg:c,tableRadius:d,tableHeaderTextColor:f,motionDurationMid:h,tableHeaderBg:p,tableHeaderCellSplitColor:v,tableRowHoverBg:b,tableSelectedRowBg:y,tableSelectedRowHoverBg:m,tableFooterTextColor:_,tableFooterBg:S,paddingContentVerticalLG:w}=n,T=`${s}px ${a} ${l}`;return{[`${e}-wrapper`]:O(O({clear:"both",maxWidth:"100%"},bl()),{[e]:O(O({},li(n)),{fontSize:u,background:c,borderRadius:`${d}px ${d}px 0 0`}),table:{width:"100%",textAlign:"start",borderRadius:`${d}px ${d}px 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${e}-thead > tr > th,
          ${e}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${w}px ${o}px`,overflowWrap:"break-word"},[`${e}-title`]:{padding:`${r}px ${o}px`},[`${e}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:f,fontWeight:i,textAlign:"start",background:p,borderBottom:T,transition:`background ${h} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${e}-selection-column):not(${e}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:v,transform:"translateY(-50%)",transition:`background-color ${h}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${e}:not(${e}-bordered)`]:{[`${e}-tbody`]:{"> tr":{"> td":{borderTop:T,borderBottom:"transparent"},"&:last-child > td":{borderBottom:T},[`&:first-child > td,
              &${e}-measure-row + tr > td`]:{borderTop:"none",borderTopColor:"transparent"}}}},[`${e}${e}-bordered`]:{[`${e}-tbody`]:{"> tr":{"> td":{borderBottom:T}}}},[`${e}-tbody`]:{"> tr":{"> td":{transition:`background ${h}, border-color ${h}`,[`
              > ${e}-wrapper:only-child,
              > ${e}-expanded-row-fixed > ${e}-wrapper:only-child
            `]:{[e]:{marginBlock:`-${r}px`,marginInline:`${n.tableExpandColumnWidth-o}px -${o}px`,[`${e}-tbody > tr:last-child > td`]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},[`
            &${e}-row:hover > td,
            > td${e}-cell-row-hover
          `]:{background:b},[`&${e}-row-selected`]:{"> td":{background:y},"&:hover > td":{background:m}}}},[`${e}-footer`]:{padding:`${r}px ${o}px`,color:_,background:S}})}},Yxe=Di("Table",n=>{const{controlItemBgActive:e,controlItemBgActiveHover:i,colorTextPlaceholder:r,colorTextHeading:o,colorSplit:s,colorBorderSecondary:a,fontSize:l,padding:u,paddingXS:c,paddingSM:d,controlHeight:f,colorFillAlter:h,colorIcon:p,colorIconHover:v,opacityLoading:b,colorBgContainer:y,borderRadiusLG:m,colorFillContent:_,colorFillSecondary:S,controlInteractiveSize:w}=n,T=new zi(p),A=new zi(v),C=e,R=2,E=new zi(S).onBackground(y).toHexString(),P=new zi(_).onBackground(y).toHexString(),N=new zi(h).onBackground(y).toHexString(),D=Nn(n,{tableFontSize:l,tableBg:y,tableRadius:m,tablePaddingVertical:u,tablePaddingHorizontal:u,tablePaddingVerticalMiddle:d,tablePaddingHorizontalMiddle:c,tablePaddingVerticalSmall:c,tablePaddingHorizontalSmall:c,tableBorderColor:a,tableHeaderTextColor:o,tableHeaderBg:N,tableFooterTextColor:o,tableFooterBg:N,tableHeaderCellSplitColor:a,tableHeaderSortBg:E,tableHeaderSortHoverBg:P,tableHeaderIconColor:T.clone().setAlpha(T.getAlpha()*b).toRgbString(),tableHeaderIconColorHover:A.clone().setAlpha(A.getAlpha()*b).toRgbString(),tableBodySortBg:N,tableFixedHeaderSortActiveBg:E,tableHeaderFilterActiveBg:_,tableFilterDropdownBg:y,tableRowHoverBg:N,tableSelectedRowBg:C,tableSelectedRowHoverBg:i,zIndexTableFixed:R,zIndexTableSticky:R+1,tableFontSizeMiddle:l,tableFontSizeSmall:l,tableSelectionColumnWidth:f,tableExpandIconBg:y,tableExpandColumnWidth:w+2*n.padding,tableExpandedRowBg:h,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:r,tableScrollThumbBgHover:o,tableScrollBg:s});return[qxe(D),zxe(D),g$(D),Kxe(D),Uxe(D),Lxe(D),Hxe(D),$xe(D),g$(D),Fxe(D),Vxe(D),kxe(D),Xxe(D),Bxe(D),Wxe(D),jxe(D),Gxe(D)]}),Qxe=[],mV=()=>({prefixCls:In(),columns:Ri(),rowKey:Mi([String,Function]),tableLayout:In(),rowClassName:Mi([String,Function]),title:pt(),footer:pt(),id:In(),showHeader:Pt(),components:vn(),customRow:pt(),customHeaderRow:pt(),direction:In(),expandFixed:Mi([Boolean,String]),expandColumnWidth:Number,expandedRowKeys:Ri(),defaultExpandedRowKeys:Ri(),expandedRowRender:pt(),expandRowByClick:Pt(),expandIcon:pt(),onExpand:pt(),onExpandedRowsChange:pt(),"onUpdate:expandedRowKeys":pt(),defaultExpandAllRows:Pt(),indentSize:Number,expandIconColumnIndex:Number,showExpandColumn:Pt(),expandedRowClassName:pt(),childrenColumnName:In(),rowExpandable:pt(),sticky:Mi([Boolean,Object]),dropdownPrefixCls:String,dataSource:Ri(),pagination:Mi([Boolean,Object]),loading:Mi([Boolean,Object]),size:In(),bordered:Pt(),locale:vn(),onChange:pt(),onResizeColumn:pt(),rowSelection:vn(),getPopupContainer:pt(),scroll:vn(),sortDirections:Ri(),showSorterTooltip:Mi([Boolean,Object],!0),transformCellText:pt()}),Zxe=We({name:"InternalTable",inheritAttrs:!1,props:ui(O(O({},mV()),{contextSlots:vn()}),{rowKey:"key"}),setup(n,e){let{attrs:i,slots:r,expose:o,emit:s}=e;fi(!(typeof n.rowKey=="function"&&n.rowKey.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected."),z0e(K(()=>n.contextSlots)),H0e({onResizeColumn:(pe,Se)=>{s("resizeColumn",pe,Se)}});const a=DH(),l=K(()=>{const pe=new Set(Object.keys(a.value).filter(Se=>a.value[Se]));return n.columns.filter(Se=>!Se.responsive||Se.responsive.some(fe=>pe.has(fe)))}),{size:u,renderEmpty:c,direction:d,prefixCls:f,configProvider:h}=en("table",n),[p,v]=Yxe(f),b=K(()=>{var pe;return n.transformCellText||((pe=h.transformCellText)===null||pe===void 0?void 0:pe.value)}),[y]=xR("Table",$v.Table,Zn(n,"locale")),m=K(()=>n.dataSource||Qxe),_=K(()=>h.getPrefixCls("dropdown",n.dropdownPrefixCls)),S=K(()=>n.childrenColumnName||"children"),w=K(()=>m.value.some(pe=>pe==null?void 0:pe[S.value])?"nest":n.expandedRowRender?"row":null),T=Wi({body:null}),A=pe=>{O(T,pe)},C=K(()=>typeof n.rowKey=="function"?n.rowKey:pe=>pe==null?void 0:pe[n.rowKey]),[R]=Obe(m,S,C),E={},P=function(pe,Se){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{pagination:ge,scroll:ve,onChange:j}=n,G=O(O({},E),pe);fe&&(E.resetPagination(),G.pagination.current&&(G.pagination.current=1),ge&&ge.onChange&&ge.onChange(1,G.pagination.pageSize)),ve&&ve.scrollToFirstRowOnChange!==!1&&T.body&&hoe(0,{getContainer:()=>T.body}),j==null||j(G.pagination,G.filters,G.sorter,{currentDataSource:p$(TM(m.value,G.sorterStates,S.value),G.filterStates),action:Se})},N=(pe,Se)=>{P({sorter:pe,sorterStates:Se},"sort",!1)},[D,$,L,F]=Hbe({prefixCls:f,mergedColumns:l,onSorterChange:N,sortDirections:K(()=>n.sortDirections||["ascend","descend"]),tableLocale:y,showSorterTooltip:Zn(n,"showSorterTooltip")}),U=K(()=>TM(m.value,$.value,S.value)),k=(pe,Se)=>{P({filters:pe,filterStates:Se},"filter",!0)},[H,z,Q]=Ixe({prefixCls:f,locale:y,dropdownPrefixCls:_,mergedColumns:l,onFilterChange:k,getPopupContainer:Zn(n,"getPopupContainer")}),Z=K(()=>p$(U.value,z.value)),[ie]=Dxe(Zn(n,"contextSlots")),we=K(()=>{const pe={},Se=Q.value;return Object.keys(Se).forEach(fe=>{Se[fe]!==null&&(pe[fe]=Se[fe])}),O(O({},L.value),{filters:pe})}),[J]=Nxe(we),se=(pe,Se)=>{P({pagination:O(O({},E.pagination),{current:pe,pageSize:Se})},"paginate")},[ee,ne]=Nbe(K(()=>Z.value.length),Zn(n,"pagination"),se);an(()=>{E.sorter=F.value,E.sorterStates=$.value,E.filters=Q.value,E.filterStates=z.value,E.pagination=n.pagination===!1?{}:Ibe(ee.value,n.pagination),E.resetPagination=ne});const ue=K(()=>{if(n.pagination===!1||!ee.value.pageSize)return Z.value;const{current:pe=1,total:Se,pageSize:fe=xM}=ee.value;return fi(pe>0,"Table","`current` should be positive number."),Z.value.length<Se?Z.value.length>fe?Z.value.slice((pe-1)*fe,pe*fe):Z.value:Z.value.slice((pe-1)*fe,pe*fe)});an(()=>{Un(()=>{const{total:pe,pageSize:Se=xM}=ee.value;Z.value.length<pe&&Z.value.length>Se&&fi(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode.")})},{flush:"post"});const Y=K(()=>n.showExpandColumn===!1?-1:w.value==="nest"&&n.expandIconColumnIndex===void 0?n.rowSelection?1:0:n.expandIconColumnIndex>0&&n.rowSelection?n.expandIconColumnIndex-1:n.expandIconColumnIndex),le=He();ut(()=>n.rowSelection,()=>{le.value=n.rowSelection?O({},n.rowSelection):n.rowSelection},{deep:!0,immediate:!0});const[he,W]=Lbe(le,{prefixCls:f,data:Z,pageData:ue,getRowKey:C,getRecordByKey:R,expandType:w,childrenColumnName:S,locale:y,getPopupContainer:K(()=>n.getPopupContainer)}),X=(pe,Se,fe)=>{let ge;const{rowClassName:ve}=n;return typeof ve=="function"?ge=Ye(ve(pe,Se,fe)):ge=Ye(ve),Ye({[`${f.value}-row-selected`]:W.value.has(C.value(pe,Se))},ge)};o({selectedKeySet:W});const V=K(()=>typeof n.indentSize=="number"?n.indentSize:15),Ce=pe=>J(he(H(D(ie(pe)))));return()=>{var pe;const{expandIcon:Se=r.expandIcon||Oxe(y.value),pagination:fe,loading:ge,bordered:ve}=n;let j,G;if(fe!==!1&&(!((pe=ee.value)===null||pe===void 0)&&pe.total)){let re;ee.value.size?re=ee.value.size:re=u.value==="small"||u.value==="middle"?"small":void 0;const ye=ft=>I(Jye,be(be({},ee.value),{},{class:[`${f.value}-pagination ${f.value}-pagination-${ft}`,ee.value.class],size:re}),null),De=d.value==="rtl"?"left":"right",{position:Ge}=ee.value;if(Ge!==null&&Array.isArray(Ge)){const ft=Ge.find(Ue=>Ue.includes("top")),Te=Ge.find(Ue=>Ue.includes("bottom")),Pe=Ge.every(Ue=>`${Ue}`=="none");!ft&&!Te&&!Pe&&(G=ye(De)),ft&&(j=ye(ft.toLowerCase().replace("top",""))),Te&&(G=ye(Te.toLowerCase().replace("bottom","")))}else G=ye(De)}let ce;typeof ge=="boolean"?ce={spinning:ge}:typeof ge=="object"&&(ce=O({spinning:!0},ge));const Ee=Ye(`${f.value}-wrapper`,{[`${f.value}-wrapper-rtl`]:d.value==="rtl"},i.class,v.value),de=wi(n,["columns"]);return p(I("div",{class:Ee,style:i.style},[I(Mp,be({spinning:!1},ce),{default:()=>[j,I(Rbe,be(be(be({},i),de),{},{expandedRowKeys:n.expandedRowKeys,defaultExpandedRowKeys:n.defaultExpandedRowKeys,expandIconColumnIndex:Y.value,indentSize:V.value,expandIcon:Se,columns:l.value,direction:d.value,prefixCls:f.value,class:Ye({[`${f.value}-middle`]:u.value==="middle",[`${f.value}-small`]:u.value==="small",[`${f.value}-bordered`]:ve,[`${f.value}-empty`]:m.value.length===0}),data:ue.value,rowKey:C.value,rowClassName:X,internalHooks:bM,internalRefs:T,onUpdateInternalRefs:A,transformColumns:Ce,transformCellText:b.value}),O(O({},r),{emptyText:()=>{var re,ye;return((re=r.emptyText)===null||re===void 0?void 0:re.call(r))||((ye=n.locale)===null||ye===void 0?void 0:ye.emptyText)||c("Table")}})),G]})]))}}}),cT=We({name:"ATable",inheritAttrs:!1,props:ui(mV(),{rowKey:"key"}),slots:Object,setup(n,e){let{attrs:i,slots:r,expose:o}=e;const s=He();return o({table:s}),()=>{var a;const l=n.columns||sV((a=r.default)===null||a===void 0?void 0:a.call(r));return I(Zxe,be(be(be({ref:s},i),n),{},{columns:l,expandedRowRender:r.expandedRowRender||n.expandedRowRender,contextSlots:O({},r)}),r)}}}),dT=We({name:"ATableColumn",slots:Object,render(){return null}}),fT=We({name:"ATableColumnGroup",slots:Object,__ANT_TABLE_COLUMN_GROUP:!0,render(){return null}}),MM=vbe,RM=xbe,hT=O(_be,{Cell:RM,Row:MM,name:"ATableSummary"}),Jxe=O(cT,{SELECTION_ALL:_M,SELECTION_INVERT:SM,SELECTION_NONE:wM,SELECTION_COLUMN:du,EXPAND_COLUMN:Bc,Column:dT,ColumnGroup:fT,Summary:hT,install:n=>(n.component(hT.name,hT),n.component(RM.name,RM),n.component(MM.name,MM),n.component(cT.name,cT),n.component(dT.name,dT),n.component(fT.name,fT),n)});var e_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};function m$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){t_e(n,o,i[o])})}return n}function t_e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var KP=function(e,i){var r=m$({},e,i.attrs);return I(xn,m$({},r,{icon:e_e}),null)};KP.displayName="DeleteOutlined";KP.inheritAttrs=!1;function n_e(n,e){const i=`cannot ${n.method} ${n.action} ${e.status}'`,r=new Error(i);return r.status=e.status,r.method=n.method,r.url=n.action,r}function v$(n){const e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function i_e(n){const e=new XMLHttpRequest;n.onProgress&&e.upload&&(e.upload.onprogress=function(s){s.total>0&&(s.percent=s.loaded/s.total*100),n.onProgress(s)});const i=new FormData;n.data&&Object.keys(n.data).forEach(o=>{const s=n.data[o];if(Array.isArray(s)){s.forEach(a=>{i.append(`${o}[]`,a)});return}i.append(o,s)}),n.file instanceof Blob?i.append(n.filename,n.file,n.file.name):i.append(n.filename,n.file),e.onerror=function(s){n.onError(s)},e.onload=function(){return e.status<200||e.status>=300?n.onError(n_e(n,e),v$(e)):n.onSuccess(v$(e),e)},e.open(n.method,n.action,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=n.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(o=>{r[o]!==null&&e.setRequestHeader(o,r[o])}),e.send(i),{abort(){e.abort()}}}const r_e=+new Date;let o_e=0;function pT(){return`vc-upload-${r_e}-${++o_e}`}const gT=(n,e)=>{if(n&&e){const i=Array.isArray(e)?e:e.split(","),r=n.name||"",o=n.type||"",s=o.replace(/\/.*$/,"");return i.some(a=>{const l=a.trim();if(/^\*(\/\*)?$/.test(a))return!0;if(l.charAt(0)==="."){const u=r.toLowerCase(),c=l.toLowerCase();let d=[c];return(c===".jpg"||c===".jpeg")&&(d=[".jpg",".jpeg"]),d.some(f=>u.endsWith(f))}return/\/\*$/.test(l)?s===l.replace(/\/.*$/,""):!!(o===l||/^\w+$/.test(l))})}return!0};function s_e(n,e){const i=n.createReader();let r=[];function o(){i.readEntries(s=>{const a=Array.prototype.slice.apply(s);r=r.concat(a),!a.length?e(r):o()})}o()}const a_e=(n,e,i)=>{const r=(o,s)=>{o.path=s||"",o.isFile?o.file(a=>{i(a)&&(o.fullPath&&!a.webkitRelativePath&&(Object.defineProperties(a,{webkitRelativePath:{writable:!0}}),a.webkitRelativePath=o.fullPath.replace(/^\//,""),Object.defineProperties(a,{webkitRelativePath:{writable:!1}})),e([a]))}):o.isDirectory&&s_e(o,a=>{a.forEach(l=>{r(l,`${s}${o.name}/`)})})};n.forEach(o=>{r(o.webkitGetAsEntry())})},vV=()=>({capture:[Boolean,String],multipart:{type:Boolean,default:void 0},name:String,disabled:{type:Boolean,default:void 0},componentTag:String,action:[String,Function],method:String,directory:{type:Boolean,default:void 0},data:[Object,Function],headers:Object,accept:String,multiple:{type:Boolean,default:void 0},onBatchStart:Function,onReject:Function,onStart:Function,onError:Function,onSuccess:Function,onProgress:Function,beforeUpload:Function,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},prefixCls:String,id:String,onMouseenter:Function,onMouseleave:Function,onClick:Function});var l_e=function(n,e,i,r){function o(s){return s instanceof i?s:new i(function(a){a(s)})}return new(i||(i=Promise))(function(s,a){function l(d){try{c(r.next(d))}catch(f){a(f)}}function u(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):o(d.value).then(l,u)}c((r=r.apply(n,e||[])).next())})},u_e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const c_e=We({compatConfig:{MODE:3},name:"AjaxUploader",inheritAttrs:!1,props:vV(),setup(n,e){let{slots:i,attrs:r,expose:o}=e;const s=He(pT()),a={},l=He();let u=!1;const c=(_,S)=>l_e(this,void 0,void 0,function*(){const{beforeUpload:w}=n;let T=_;if(w){try{T=yield w(_,S)}catch{T=!1}if(T===!1)return{origin:_,parsedFile:null,action:null,data:null}}const{action:A}=n;let C;typeof A=="function"?C=yield A(_):C=A;const{data:R}=n;let E;typeof R=="function"?E=yield R(_):E=R;const P=(typeof T=="object"||typeof T=="string")&&T?T:_;let N;P instanceof File?N=P:N=new File([P],_.name,{type:_.type});const D=N;return D.uid=_.uid,{origin:_,data:E,parsedFile:D,action:C}}),d=_=>{let{data:S,origin:w,action:T,parsedFile:A}=_;if(!u)return;const{onStart:C,customRequest:R,name:E,headers:P,withCredentials:N,method:D}=n,{uid:$}=w,L=R||i_e,F={action:T,filename:E,data:S,file:A,headers:P,withCredentials:N,method:D||"post",onProgress:U=>{const{onProgress:k}=n;k==null||k(U,A)},onSuccess:(U,k)=>{const{onSuccess:H}=n;H==null||H(U,A,k),delete a[$]},onError:(U,k)=>{const{onError:H}=n;H==null||H(U,k,A),delete a[$]}};C(w),a[$]=L(F)},f=()=>{s.value=pT()},h=_=>{if(_){const S=_.uid?_.uid:_;a[S]&&a[S].abort&&a[S].abort(),delete a[S]}else Object.keys(a).forEach(S=>{a[S]&&a[S].abort&&a[S].abort(),delete a[S]})};Jt(()=>{u=!0}),Rn(()=>{u=!1,h()});const p=_=>{const S=[..._],w=S.map(T=>(T.uid=pT(),c(T,S)));Promise.all(w).then(T=>{const{onBatchStart:A}=n;A==null||A(T.map(C=>{let{origin:R,parsedFile:E}=C;return{file:R,parsedFile:E}})),T.filter(C=>C.parsedFile!==null).forEach(C=>{d(C)})})},v=_=>{const{accept:S,directory:w}=n,{files:T}=_.target,A=[...T].filter(C=>!w||gT(C,S));p(A),f()},b=_=>{const S=l.value;if(!S)return;const{onClick:w}=n;S.click(),w&&w(_)},y=_=>{_.key==="Enter"&&b(_)},m=_=>{const{multiple:S}=n;if(_.preventDefault(),_.type!=="dragover")if(n.directory)a_e(Array.prototype.slice.call(_.dataTransfer.items),p,w=>gT(w,n.accept));else{const w=Vfe(Array.prototype.slice.call(_.dataTransfer.files),C=>gT(C,n.accept));let T=w[0];const A=w[1];S===!1&&(T=T.slice(0,1)),p(T),A.length&&n.onReject&&n.onReject(A)}};return o({abort:h}),()=>{var _;const{componentTag:S,prefixCls:w,disabled:T,id:A,multiple:C,accept:R,capture:E,directory:P,openFileDialogOnClick:N,onMouseenter:D,onMouseleave:$}=n,L=u_e(n,["componentTag","prefixCls","disabled","id","multiple","accept","capture","directory","openFileDialogOnClick","onMouseenter","onMouseleave"]),F={[w]:!0,[`${w}-disabled`]:T,[r.class]:!!r.class},U=P?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return I(S,be(be({},T?{}:{onClick:N?b:()=>{},onKeydown:N?y:()=>{},onMouseenter:D,onMouseleave:$,onDrop:m,onDragover:m,tabindex:"0"}),{},{class:F,role:"button",style:r.style}),{default:()=>[I("input",be(be(be({},Jf(L,{aria:!0,data:!0})),{},{id:A,type:"file",ref:l,onClick:H=>H.stopPropagation(),onCancel:H=>H.stopPropagation(),key:s.value,style:{display:"none"},accept:R},U),{},{multiple:C,onChange:v},E!=null?{capture:E}:{}),null),(_=i.default)===null||_===void 0?void 0:_.call(i)]})}}});function mT(){}const y$=We({compatConfig:{MODE:3},name:"Upload",inheritAttrs:!1,props:ui(vV(),{componentTag:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:mT,onError:mT,onSuccess:mT,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0}),setup(n,e){let{slots:i,attrs:r,expose:o}=e;const s=He();return o({abort:l=>{var u;(u=s.value)===null||u===void 0||u.abort(l)}}),()=>I(c_e,be(be(be({},n),r),{},{ref:s}),i)}});var d_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};function b$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){f_e(n,o,i[o])})}return n}function f_e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var XP=function(e,i){var r=b$({},e,i.attrs);return I(xn,b$({},r,{icon:d_e}),null)};XP.displayName="PaperClipOutlined";XP.inheritAttrs=!1;var h_e={icon:function(e,i){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:i}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:i}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:i}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};function x$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){p_e(n,o,i[o])})}return n}function p_e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var qP=function(e,i){var r=x$({},e,i.attrs);return I(xn,x$({},r,{icon:h_e}),null)};qP.displayName="PictureTwoTone";qP.inheritAttrs=!1;var g_e={icon:function(e,i){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:i}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};function _$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){m_e(n,o,i[o])})}return n}function m_e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var YP=function(e,i){var r=_$({},e,i.attrs);return I(xn,_$({},r,{icon:g_e}),null)};YP.displayName="FileTwoTone";YP.inheritAttrs=!1;function yV(){return{capture:Mi([Boolean,String]),type:In(),name:String,defaultFileList:Ri(),fileList:Ri(),action:Mi([String,Function]),directory:Pt(),data:Mi([Object,Function]),method:In(),headers:vn(),showUploadList:Mi([Boolean,Object]),multiple:Pt(),accept:String,beforeUpload:pt(),onChange:pt(),"onUpdate:fileList":pt(),onDrop:pt(),listType:In(),onPreview:pt(),onDownload:pt(),onReject:pt(),onRemove:pt(),remove:pt(),supportServerRender:Pt(),disabled:Pt(),prefixCls:String,customRequest:pt(),withCredentials:Pt(),openFileDialogOnClick:Pt(),locale:vn(),id:String,previewFile:pt(),transformFile:pt(),iconRender:pt(),isImageUrl:pt(),progress:vn(),itemRender:pt(),maxCount:Number,height:Mi([Number,String]),removeIcon:pt(),downloadIcon:pt(),previewIcon:pt()}}function v_e(){return{listType:In(),onPreview:pt(),onDownload:pt(),onRemove:pt(),items:Ri(),progress:vn(),prefixCls:In(),showRemoveIcon:Pt(),showDownloadIcon:Pt(),showPreviewIcon:Pt(),removeIcon:pt(),downloadIcon:pt(),previewIcon:pt(),locale:vn(void 0),previewFile:pt(),iconRender:pt(),isImageUrl:pt(),appendAction:pt(),appendActionVisible:Pt(),itemRender:pt()}}function pb(n){return O(O({},n),{lastModified:n.lastModified,lastModifiedDate:n.lastModifiedDate,name:n.name,size:n.size,type:n.type,uid:n.uid,percent:0,originFileObj:n})}function gb(n,e){const i=[...e],r=i.findIndex(o=>{let{uid:s}=o;return s===n.uid});return r===-1?i.push(n):i[r]=n,i}function vT(n,e){const i=n.uid!==void 0?"uid":"name";return e.filter(r=>r[i]===n[i])[0]}function y_e(n,e){const i=n.uid!==void 0?"uid":"name",r=e.filter(o=>o[i]!==n[i]);return r.length===e.length?null:r}const b_e=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},bV=n=>n.indexOf("image/")===0,x_e=n=>{if(n.type&&!n.thumbUrl)return bV(n.type);const e=n.thumbUrl||n.url||"",i=b_e(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(i)?!0:!(/^data:/.test(e)||i)},yc=200;function __e(n){return new Promise(e=>{if(!n.type||!bV(n.type)){e("");return}const i=document.createElement("canvas");i.width=yc,i.height=yc,i.style.cssText=`position: fixed; left: 0; top: 0; width: ${yc}px; height: ${yc}px; z-index: 9999; display: none;`,document.body.appendChild(i);const r=i.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:s,height:a}=o;let l=yc,u=yc,c=0,d=0;s>a?(u=a*(yc/s),d=-(u-l)/2):(l=s*(yc/a),c=-(l-u)/2),r.drawImage(o,c,d,l,u);const f=i.toDataURL();document.body.removeChild(i),e(f)},o.crossOrigin="anonymous",n.type.startsWith("image/svg+xml")){const s=new FileReader;s.addEventListener("load",()=>{s.result&&(o.src=s.result)}),s.readAsDataURL(n)}else o.src=window.URL.createObjectURL(n)})}var S_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};function S$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){w_e(n,o,i[o])})}return n}function w_e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var QP=function(e,i){var r=S$({},e,i.attrs);return I(xn,S$({},r,{icon:S_e}),null)};QP.displayName="DownloadOutlined";QP.inheritAttrs=!1;const C_e=()=>({prefixCls:String,locale:vn(void 0),file:vn(),items:Ri(),listType:In(),isImgUrl:pt(),showRemoveIcon:Pt(),showDownloadIcon:Pt(),showPreviewIcon:Pt(),removeIcon:pt(),downloadIcon:pt(),previewIcon:pt(),iconRender:pt(),actionIconRender:pt(),itemRender:pt(),onPreview:pt(),onClose:pt(),onDownload:pt(),progress:vn()}),T_e=We({compatConfig:{MODE:3},name:"ListItem",inheritAttrs:!1,props:C_e(),setup(n,e){let{slots:i,attrs:r}=e;var o;const s=Ne(!1),a=Ne();Jt(()=>{a.value=setTimeout(()=>{s.value=!0},300)}),Rn(()=>{clearTimeout(a.value)});const l=Ne((o=n.file)===null||o===void 0?void 0:o.status);ut(()=>{var d;return(d=n.file)===null||d===void 0?void 0:d.status},d=>{d!=="removed"&&(l.value=d)});const{rootPrefixCls:u}=en("upload",n),c=K(()=>Kp(`${u.value}-fade`));return()=>{var d,f;const{prefixCls:h,locale:p,listType:v,file:b,items:y,progress:m,iconRender:_=i.iconRender,actionIconRender:S=i.actionIconRender,itemRender:w=i.itemRender,isImgUrl:T,showPreviewIcon:A,showRemoveIcon:C,showDownloadIcon:R,previewIcon:E=i.previewIcon,removeIcon:P=i.removeIcon,downloadIcon:N=i.downloadIcon,onPreview:D,onDownload:$,onClose:L}=n,{class:F,style:U}=r,k=_({file:b});let H=I("div",{class:`${h}-text-icon`},[k]);if(v==="picture"||v==="picture-card")if(l.value==="uploading"||!b.thumbUrl&&!b.url){const X={[`${h}-list-item-thumbnail`]:!0,[`${h}-list-item-file`]:l.value!=="uploading"};H=I("div",{class:X},[k])}else{const X=T!=null&&T(b)?I("img",{src:b.thumbUrl||b.url,alt:b.name,class:`${h}-list-item-image`,crossorigin:b.crossOrigin},null):k,V={[`${h}-list-item-thumbnail`]:!0,[`${h}-list-item-file`]:T&&!T(b)};H=I("a",{class:V,onClick:Ce=>D(b,Ce),href:b.url||b.thumbUrl,target:"_blank",rel:"noopener noreferrer"},[X])}const z={[`${h}-list-item`]:!0,[`${h}-list-item-${l.value}`]:!0},Q=typeof b.linkProps=="string"?JSON.parse(b.linkProps):b.linkProps,Z=C?S({customIcon:P?P({file:b}):I(KP,null,null),callback:()=>L(b),prefixCls:h,title:p.removeFile}):null,ie=R&&l.value==="done"?S({customIcon:N?N({file:b}):I(QP,null,null),callback:()=>$(b),prefixCls:h,title:p.downloadFile}):null,we=v!=="picture-card"&&I("span",{key:"download-delete",class:[`${h}-list-item-actions`,{picture:v==="picture"}]},[ie,Z]),J=`${h}-list-item-name`,se=b.url?[I("a",be(be({key:"view",target:"_blank",rel:"noopener noreferrer",class:J,title:b.name},Q),{},{href:b.url,onClick:X=>D(b,X)}),[b.name]),we]:[I("span",{key:"view",class:J,onClick:X=>D(b,X),title:b.name},[b.name]),we],ee={pointerEvents:"none",opacity:.5},ne=A?I("a",{href:b.url||b.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:b.url||b.thumbUrl?void 0:ee,onClick:X=>D(b,X),title:p.previewFile},[E?E({file:b}):I(fw,null,null)]):null,ue=v==="picture-card"&&l.value!=="uploading"&&I("span",{class:`${h}-list-item-actions`},[ne,l.value==="done"&&ie,Z]),Y=I("div",{class:z},[H,se,ue,s.value&&I($a,c.value,{default:()=>[So(I("div",{class:`${h}-list-item-progress`},["percent"in b?I(E0e,be(be({},m),{},{type:"line",percent:b.percent}),null):null]),[[Vo,l.value==="uploading"]])]})]),le={[`${h}-list-item-container`]:!0,[`${F}`]:!!F},he=b.response&&typeof b.response=="string"?b.response:((d=b.error)===null||d===void 0?void 0:d.statusText)||((f=b.error)===null||f===void 0?void 0:f.message)||p.uploadError,W=l.value==="error"?I(aw,{title:he,getPopupContainer:X=>X.parentNode},{default:()=>[Y]}):Y;return I("div",{class:le,style:U},[w?w({originNode:W,file:b,fileList:y,actions:{download:$.bind(null,b),preview:D.bind(null,b),remove:L.bind(null,b)}}):W])}}}),A_e=(n,e)=>{let{slots:i}=e;var r;return Po((r=i.default)===null||r===void 0?void 0:r.call(i))[0]},E_e=We({compatConfig:{MODE:3},name:"AUploadList",props:ui(v_e(),{listType:"text",progress:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,previewFile:__e,isImageUrl:x_e,items:[],appendActionVisible:!0}),setup(n,e){let{slots:i,expose:r}=e;const o=Ne(!1);Jt(()=>{o.value==!0});const s=Ne([]);ut(()=>n.items,function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.value=b.slice()},{immediate:!0,deep:!0}),an(()=>{if(n.listType!=="picture"&&n.listType!=="picture-card")return;let b=!1;(n.items||[]).forEach((y,m)=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(y.originFileObj instanceof File||y.originFileObj instanceof Blob)||y.thumbUrl!==void 0||(y.thumbUrl="",n.previewFile&&n.previewFile(y.originFileObj).then(_=>{const S=_||"";S!==y.thumbUrl&&(s.value[m].thumbUrl=S,b=!0)}))}),b&&jee(s)});const a=(b,y)=>{if(n.onPreview)return y==null||y.preventDefault(),n.onPreview(b)},l=b=>{typeof n.onDownload=="function"?n.onDownload(b):b.url&&window.open(b.url)},u=b=>{var y;(y=n.onRemove)===null||y===void 0||y.call(n,b)},c=b=>{let{file:y}=b;const m=n.iconRender||i.iconRender;if(m)return m({file:y,listType:n.listType});const _=y.status==="uploading",S=n.isImageUrl&&n.isImageUrl(y)?I(qP,null,null):I(YP,null,null);let w=I(_?Sl:XP,null,null);return n.listType==="picture"?w=_?I(Sl,null,null):S:n.listType==="picture-card"&&(w=_?n.locale.uploading:S),w},d=b=>{const{customIcon:y,callback:m,prefixCls:_,title:S}=b,w={type:"text",size:"small",title:S,onClick:()=>{m()},class:`${_}-list-item-action`};return lo(y)?I(Es,w,{icon:()=>y}):I(Es,w,{default:()=>[I("span",null,[y])]})};r({handlePreview:a,handleDownload:l});const{prefixCls:f,rootPrefixCls:h}=en("upload",n),p=K(()=>({[`${f.value}-list`]:!0,[`${f.value}-list-${n.listType}`]:!0})),v=K(()=>{const b=O({},SP(`${h.value}-motion-collapse`));delete b.onAfterAppear,delete b.onAfterEnter,delete b.onAfterLeave;const y=O(O({},nue(`${f.value}-${n.listType==="picture-card"?"animate-inline":"animate"}`)),{class:p.value,appear:o.value});return n.listType!=="picture-card"?O(O({},b),y):y});return()=>{const{listType:b,locale:y,isImageUrl:m,showPreviewIcon:_,showRemoveIcon:S,showDownloadIcon:w,removeIcon:T,previewIcon:A,downloadIcon:C,progress:R,appendAction:E,itemRender:P,appendActionVisible:N}=n,D=E==null?void 0:E(),$=s.value;return I(Mne,be(be({},v.value),{},{tag:"div"}),{default:()=>[$.map(L=>{const{uid:F}=L;return I(T_e,{key:F,locale:y,prefixCls:f.value,file:L,items:$,progress:R,listType:b,isImgUrl:m,showPreviewIcon:_,showRemoveIcon:S,showDownloadIcon:w,onPreview:a,onDownload:l,onClose:u,removeIcon:T,previewIcon:A,downloadIcon:C,itemRender:P},O(O({},i),{iconRender:c,actionIconRender:d}))}),E?So(I(A_e,{key:"__ant_upload_appendAction"},{default:()=>D}),[[Vo,!!N]]):null]})}}}),M_e=n=>{const{componentCls:e,iconCls:i}=n;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:n.colorFillAlter,border:`${n.lineWidth}px dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[e]:{padding:`${n.padding}px 0`},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none"},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:n.margin,[i]:{color:n.colorPrimary,fontSize:n.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${n.marginXXS}px`,color:n.colorTextHeading,fontSize:n.fontSizeLG},[`p${e}-hint`]:{color:n.colorTextDescription,fontSize:n.fontSize},[`&${e}-disabled`]:{cursor:"not-allowed",[`p${e}-drag-icon ${i},
            p${e}-text,
            p${e}-hint
          `]:{color:n.colorTextDisabled}}}}}},R_e=n=>{const{componentCls:e,antCls:i,iconCls:r,fontSize:o,lineHeight:s}=n,a=`${e}-list-item`,l=`${a}-actions`,u=`${a}-action`,c=Math.round(o*s);return{[`${e}-wrapper`]:{[`${e}-list`]:O(O({},bl()),{lineHeight:n.lineHeight,[a]:{position:"relative",height:n.lineHeight*o,marginTop:n.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${n.motionDurationSlow}`,"&:hover":{backgroundColor:n.controlItemBgHover},[`${a}-name`]:O(O({},yl),{padding:`0 ${n.paddingXS}px`,lineHeight:s,flex:"auto",transition:`all ${n.motionDurationSlow}`}),[l]:{[u]:{opacity:0},[`${u}${i}-btn-sm`]:{height:c,border:0,lineHeight:1,"> span":{transform:"scale(1)"}},[`
              ${u}:focus,
              &.picture ${u}
            `]:{opacity:1},[r]:{color:n.colorTextDescription,transition:`all ${n.motionDurationSlow}`},[`&:hover ${r}`]:{color:n.colorText}},[`${e}-icon ${r}`]:{color:n.colorTextDescription,fontSize:o},[`${a}-progress`]:{position:"absolute",bottom:-n.uploadProgressOffset,width:"100%",paddingInlineStart:o+n.paddingXS,fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${a}:hover ${u}`]:{opacity:1,color:n.colorText},[`${a}-error`]:{color:n.colorError,[`${a}-name, ${e}-icon ${r}`]:{color:n.colorError},[l]:{[`${r}, ${r}:hover`]:{color:n.colorError},[u]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},w$=new On("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),C$=new On("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),P_e=n=>{const{componentCls:e}=n,i=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${i}-appear, ${i}-enter, ${i}-leave`]:{animationDuration:n.motionDurationSlow,animationTimingFunction:n.motionEaseInOutCirc,animationFillMode:"forwards"},[`${i}-appear, ${i}-enter`]:{animationName:w$},[`${i}-leave`]:{animationName:C$}}},w$,C$]},I_e=n=>{const{componentCls:e,iconCls:i,uploadThumbnailSize:r,uploadProgressOffset:o}=n,s=`${e}-list`,a=`${s}-item`;return{[`${e}-wrapper`]:{[`${s}${s}-picture, ${s}${s}-picture-card`]:{[a]:{position:"relative",height:r+n.lineWidth*2+n.paddingXS*2,padding:n.paddingXS,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusLG,"&:hover":{background:"transparent"},[`${a}-thumbnail`]:O(O({},yl),{width:r,height:r,lineHeight:`${r+n.paddingSM}px`,textAlign:"center",flex:"none",[i]:{fontSize:n.fontSizeHeading2,color:n.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${a}-progress`]:{bottom:o,width:`calc(100% - ${n.paddingSM*2}px)`,marginTop:0,paddingInlineStart:r+n.paddingXS}},[`${a}-error`]:{borderColor:n.colorError,[`${a}-thumbnail ${i}`]:{"svg path[fill='#e6f7ff']":{fill:n.colorErrorBg},"svg path[fill='#1890ff']":{fill:n.colorError}}},[`${a}-uploading`]:{borderStyle:"dashed",[`${a}-name`]:{marginBottom:o}}}}}},N_e=n=>{const{componentCls:e,iconCls:i,fontSizeLG:r,colorTextLightSolid:o}=n,s=`${e}-list`,a=`${s}-item`,l=n.uploadPicCardSize;return{[`${e}-wrapper${e}-picture-card-wrapper`]:O(O({},bl()),{display:"inline-block",width:"100%",[`${e}${e}-select`]:{width:l,height:l,marginInlineEnd:n.marginXS,marginBottom:n.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:n.colorFillAlter,border:`${n.lineWidth}px dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimary}},[`${s}${s}-picture-card`]:{[`${s}-item-container`]:{display:"inline-block",width:l,height:l,marginBlock:`0 ${n.marginXS}px`,marginInline:`0 ${n.marginXS}px`,verticalAlign:"top"},"&::after":{display:"none"},[a]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${n.paddingXS*2}px)`,height:`calc(100% - ${n.paddingXS*2}px)`,backgroundColor:n.colorBgMask,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'" "'}},[`${a}:hover`]:{[`&::before, ${a}-actions`]:{opacity:1}},[`${a}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${n.motionDurationSlow}`,[`${i}-eye, ${i}-download, ${i}-delete`]:{zIndex:10,width:r,margin:`0 ${n.marginXXS}px`,fontSize:r,cursor:"pointer",transition:`all ${n.motionDurationSlow}`}},[`${a}-actions, ${a}-actions:hover`]:{[`${i}-eye, ${i}-download, ${i}-delete`]:{color:new zi(o).setAlpha(.65).toRgbString(),"&:hover":{color:o}}},[`${a}-thumbnail, ${a}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${a}-name`]:{display:"none",textAlign:"center"},[`${a}-file + ${a}-name`]:{position:"absolute",bottom:n.margin,display:"block",width:`calc(100% - ${n.paddingXS*2}px)`},[`${a}-uploading`]:{[`&${a}`]:{backgroundColor:n.colorFillAlter},[`&::before, ${i}-eye, ${i}-download, ${i}-delete`]:{display:"none"}},[`${a}-progress`]:{bottom:n.marginXL,width:`calc(100% - ${n.paddingXS*2}px)`,paddingInlineStart:0}}})}},O_e=n=>{const{componentCls:e}=n;return{[`${e}-rtl`]:{direction:"rtl"}}},D_e=n=>{const{componentCls:e,colorTextDisabled:i}=n;return{[`${e}-wrapper`]:O(O({},li(n)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-disabled`]:{color:i,cursor:"not-allowed"}})}},L_e=Di("Upload",n=>{const{fontSizeHeading3:e,fontSize:i,lineHeight:r,lineWidth:o,controlHeightLG:s}=n,a=Math.round(i*r),l=Nn(n,{uploadThumbnailSize:e*2,uploadProgressOffset:a/2+o,uploadPicCardSize:s*2.55});return[D_e(l),M_e(l),I_e(l),N_e(l),R_e(l),P_e(l),O_e(l),aP(l)]});var B_e=function(n,e,i,r){function o(s){return s instanceof i?s:new i(function(a){a(s)})}return new(i||(i=Promise))(function(s,a){function l(d){try{c(r.next(d))}catch(f){a(f)}}function u(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):o(d.value).then(l,u)}c((r=r.apply(n,e||[])).next())})},F_e=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Wm=`__LIST_IGNORE_${Date.now()}__`,Xx=We({compatConfig:{MODE:3},name:"AUpload",inheritAttrs:!1,props:ui(yV(),{type:"select",multiple:!1,action:"",data:{},accept:"",showUploadList:!0,listType:"text",supportServerRender:!0}),setup(n,e){let{slots:i,attrs:r,expose:o}=e;const s=Qu(),{prefixCls:a,direction:l,disabled:u}=en("upload",n),[c,d]=L_e(a),f=vl(),h=K(()=>{var N;return(N=u.value)!==null&&N!==void 0?N:f.value}),[p,v]=Xp(n.defaultFileList||[],{value:Zn(n,"fileList"),postState:N=>{const D=Date.now();return(N??[]).map(($,L)=>(!$.uid&&!Object.isFrozen($)&&($.uid=`__AUTO__${D}_${L}__`),$))}}),b=He("drop"),y=He(null);Jt(()=>{fi(n.fileList!==void 0||r.value===void 0,"Upload","`value` is not a valid prop, do you mean `fileList`?"),fi(n.transformFile===void 0,"Upload","`transformFile` is deprecated. Please use `beforeUpload` directly."),fi(n.remove===void 0,"Upload","`remove` props is deprecated. Please use `remove` event.")});const m=(N,D,$)=>{var L,F;let U=[...D];n.maxCount===1?U=U.slice(-1):n.maxCount&&(U=U.slice(0,n.maxCount)),v(U);const k={file:N,fileList:U};$&&(k.event=$),(L=n["onUpdate:fileList"])===null||L===void 0||L.call(n,k.fileList),(F=n.onChange)===null||F===void 0||F.call(n,k),s.onFieldChange()},_=(N,D)=>B_e(this,void 0,void 0,function*(){const{beforeUpload:$,transformFile:L}=n;let F=N;if($){const U=yield $(N,D);if(U===!1)return!1;if(delete N[Wm],U===Wm)return Object.defineProperty(N,Wm,{value:!0,configurable:!0}),!1;typeof U=="object"&&U&&(F=U)}return L&&(F=yield L(F)),F}),S=N=>{const D=N.filter(F=>!F.file[Wm]);if(!D.length)return;const $=D.map(F=>pb(F.file));let L=[...p.value];$.forEach(F=>{L=gb(F,L)}),$.forEach((F,U)=>{let k=F;if(D[U].parsedFile)F.status="uploading";else{const{originFileObj:H}=F;let z;try{z=new File([H],H.name,{type:H.type})}catch{z=new Blob([H],{type:H.type}),z.name=H.name,z.lastModifiedDate=new Date,z.lastModified=new Date().getTime()}z.uid=F.uid,k=z}m(k,L)})},w=(N,D,$)=>{try{typeof N=="string"&&(N=JSON.parse(N))}catch{}if(!vT(D,p.value))return;const L=pb(D);L.status="done",L.percent=100,L.response=N,L.xhr=$;const F=gb(L,p.value);m(L,F)},T=(N,D)=>{if(!vT(D,p.value))return;const $=pb(D);$.status="uploading",$.percent=N.percent;const L=gb($,p.value);m($,L,N)},A=(N,D,$)=>{if(!vT($,p.value))return;const L=pb($);L.error=N,L.response=D,L.status="error";const F=gb(L,p.value);m(L,F)},C=N=>{let D;const $=n.onRemove||n.remove;Promise.resolve(typeof $=="function"?$(N):$).then(L=>{var F,U;if(L===!1)return;const k=y_e(N,p.value);k&&(D=O(O({},N),{status:"removed"}),(F=p.value)===null||F===void 0||F.forEach(H=>{const z=D.uid!==void 0?"uid":"name";H[z]===D[z]&&!Object.isFrozen(H)&&(H.status="removed")}),(U=y.value)===null||U===void 0||U.abort(D),m(D,k))})},R=N=>{var D;b.value=N.type,N.type==="drop"&&((D=n.onDrop)===null||D===void 0||D.call(n,N))};o({onBatchStart:S,onSuccess:w,onProgress:T,onError:A,fileList:p,upload:y});const[E]=xR("Upload",$v.Upload,K(()=>n.locale)),P=(N,D)=>{const{removeIcon:$,previewIcon:L,downloadIcon:F,previewFile:U,onPreview:k,onDownload:H,isImageUrl:z,progress:Q,itemRender:Z,iconRender:ie,showUploadList:we}=n,{showDownloadIcon:J,showPreviewIcon:se,showRemoveIcon:ee}=typeof we=="boolean"?{}:we;return we?I(E_e,{prefixCls:a.value,listType:n.listType,items:p.value,previewFile:U,onPreview:k,onDownload:H,onRemove:C,showRemoveIcon:!h.value&&ee,showPreviewIcon:se,showDownloadIcon:J,removeIcon:$,previewIcon:L,downloadIcon:F,iconRender:ie,locale:E.value,isImageUrl:z,progress:Q,itemRender:Z,appendActionVisible:D,appendAction:N},O({},i)):N==null?void 0:N()};return()=>{var N,D,$;const{listType:L,type:F}=n,{class:U,style:k}=r,H=F_e(r,["class","style"]),z=O(O(O({onBatchStart:S,onError:A,onProgress:T,onSuccess:w},H),n),{id:(N=n.id)!==null&&N!==void 0?N:s.id.value,prefixCls:a.value,beforeUpload:_,onChange:void 0,disabled:h.value});delete z.remove,(!i.default||h.value)&&delete z.id;const Q={[`${a.value}-rtl`]:l.value==="rtl"};if(F==="drag"){const J=Ye(a.value,{[`${a.value}-drag`]:!0,[`${a.value}-drag-uploading`]:p.value.some(se=>se.status==="uploading"),[`${a.value}-drag-hover`]:b.value==="dragover",[`${a.value}-disabled`]:h.value,[`${a.value}-rtl`]:l.value==="rtl"},r.class,d.value);return c(I("span",be(be({},r),{},{class:Ye(`${a.value}-wrapper`,Q,U,d.value)}),[I("div",{class:J,onDrop:R,onDragover:R,onDragleave:R,style:r.style},[I(y$,be(be({},z),{},{ref:y,class:`${a.value}-btn`}),be({default:()=>[I("div",{class:`${a.value}-drag-container`},[(D=i.default)===null||D===void 0?void 0:D.call(i)])]},i))]),P()]))}const Z=Ye(a.value,{[`${a.value}-select`]:!0,[`${a.value}-select-${L}`]:!0,[`${a.value}-disabled`]:h.value,[`${a.value}-rtl`]:l.value==="rtl"}),ie=tr(($=i.default)===null||$===void 0?void 0:$.call(i)),we=J=>I("div",{class:Z,style:J},[I(y$,be(be({},z),{},{ref:y}),i)]);return c(L==="picture-card"?I("span",be(be({},r),{},{class:Ye(`${a.value}-wrapper`,`${a.value}-picture-card-wrapper`,Q,r.class,d.value)}),[P(we,!!ie.length)]):I("span",be(be({},r),{},{class:Ye(`${a.value}-wrapper`,Q,r.class,d.value)}),[we(ie.length?void 0:{display:"none"}),P()]))}}});var T$=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const yT=We({compatConfig:{MODE:3},name:"AUploadDragger",inheritAttrs:!1,props:yV(),setup(n,e){let{slots:i,attrs:r}=e;return()=>{const{height:o}=n,s=T$(n,["height"]),{style:a}=r,l=T$(r,["style"]),u=O(O(O({},s),l),{type:"drag",style:O(O({},a),{height:typeof o=="number"?`${o}px`:o})});return I(Xx,u,i)}}}),$_e=O(Xx,{Dragger:yT,LIST_IGNORE:Wm,install(n){return n.component(Xx.name,Xx),n.component(yT.name,yT),n}});var U_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function A$(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),r.forEach(function(o){k_e(n,o,i[o])})}return n}function k_e(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var ZP=function(e,i){var r=A$({},e,i.attrs);return I(xn,A$({},r,{icon:U_e}),null)};ZP.displayName="UploadOutlined";ZP.inheritAttrs=!1;const E$=["BOOLEAN","INT32","INT64","INT96","FLOAT","DOUBLE","BYTE_ARRAY","FIXED_LEN_BYTE_ARRAY"],nf=["PLAIN",void 0,"PLAIN_DICTIONARY","RLE","BIT_PACKED","DELTA_BINARY_PACKED","DELTA_LENGTH_BYTE_ARRAY","DELTA_BYTE_ARRAY","RLE_DICTIONARY","BYTE_STREAM_SPLIT"],z_e=["REQUIRED","OPTIONAL","REPEATED"],H_e=["UTF8","MAP","MAP_KEY_VALUE","LIST","ENUM","DECIMAL","DATE","TIME_MILLIS","TIME_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UINT_8","UINT_16","UINT_32","UINT_64","INT_8","INT_16","INT_32","INT_64","JSON","BSON","INTERVAL"],G_e=["UNCOMPRESSED","SNAPPY","GZIP","LZO","BROTLI","LZ4","ZSTD","LZ4_RAW"],xV=["DATA_PAGE","INDEX_PAGE","DICTIONARY_PAGE","DATA_PAGE_V2"],_V=864e5;function M$(n,e,i,r,o=!0){if(e&&r.endsWith("_DICTIONARY")){e=R$(e,i,o);let s=n;n instanceof Uint8Array&&!(e instanceof Uint8Array)&&(s=new e.constructor(n.length));for(let a=0;a<n.length;a++)s[a]=e[n[a]];return s}else return R$(n,i,o)}function R$(n,e,i=!0){var o,s;const r=e.converted_type;if(r==="DECIMAL"){const a=e.scale||0,l=Math.pow(10,-a),u=new Array(n.length);for(let c=0;c<u.length;c++)n[0]instanceof Uint8Array?u[c]=SV(n[c])*l:u[c]=Number(n[c])*l;return u}if(r===void 0&&e.type==="INT96")return Array.from(n).map(V_e);if(r==="DATE"){const a=new Array(n.length);for(let l=0;l<a.length;l++)a[l]=new Date(n[l]*_V);return a}if(r==="TIMESTAMP_MILLIS"){const a=new Array(n.length);for(let l=0;l<a.length;l++)a[l]=new Date(Number(n[l]));return a}if(r==="TIMESTAMP_MICROS"){const a=new Array(n.length);for(let l=0;l<a.length;l++)a[l]=new Date(Number(n[l]/1000n));return a}if(r==="JSON"){const a=new TextDecoder;return n.map(l=>JSON.parse(a.decode(l)))}if(r==="BSON")throw new Error("parquet bson not supported");if(r==="INTERVAL")throw new Error("parquet interval not supported");if(r==="UTF8"||i&&e.type==="BYTE_ARRAY"){const a=new TextDecoder,l=new Array(n.length);for(let u=0;u<l.length;u++)l[u]=n[u]&&a.decode(n[u]);return l}if(r==="UINT_64"){const a=new BigUint64Array(n.length);for(let l=0;l<a.length;l++)a[l]=BigInt(n[l]);return a}if(((o=e.logical_type)==null?void 0:o.type)==="FLOAT16")return Array.from(n).map(wV);if(((s=e.logical_type)==null?void 0:s.type)==="TIMESTAMP"){const{unit:a}=e.logical_type;let l=1n;a==="MICROS"&&(l=1000n),a==="NANOS"&&(l=1000000n);const u=new Array(n.length);for(let c=0;c<u.length;c++)u[c]=new Date(Number(n[c]/l));return u}return n}function SV(n){let e=0;for(const i of n)e=e<<8|i;return e}function V_e(n){const e=Number((n>>64n)-2440588n),i=Number((n&0xffffffffffffffffn)/1000000n),r=e*_V+i;return new Date(r)}function wV(n){if(!n)return;const e=n[1]<<8|n[0],i=e>>15?-1:1,r=e>>10&31,o=e&1023;return r===0?i*Math.pow(2,-14)*(o/1024):r===31?o?NaN:i*(1/0):i*Math.pow(2,r-15)*(1+o/1024)}function CV(n,e,i){const r=n[e],o=[];let s=1;if(r.num_children)for(;o.length<r.num_children;){const a=n[e+s],l=CV(n,e+s,[...i,a.name]);s+=l.count,o.push(l)}return{count:s,element:r,children:o,path:i}}function P$(n,e){let i=CV(n,0,[]);const r=[i];for(const o of e){const s=i.children.find(a=>a.element.name===o);if(!s)throw new Error(`parquet schema element not found: ${e}`);r.push(s),i=s}return r}function TV(n){let e=0;for(const{element:i}of n)i.repetition_type==="REPEATED"&&e++;return e}function K_(n){let e=0;for(const{element:i}of n.slice(1))i.repetition_type!=="REQUIRED"&&e++;return e}function W_e(n){if(!n||n.element.converted_type!=="LIST"||n.children.length>1)return!1;const e=n.children[0];return!(e.children.length>1||e.element.repetition_type!=="REPEATED")}function j_e(n){if(!n||n.element.converted_type!=="MAP"||n.children.length>1)return!1;const e=n.children[0];if(e.children.length!==2||e.element.repetition_type!=="REPEATED")return!1;const i=e.children.find(o=>o.element.name==="key");if((i==null?void 0:i.element.repetition_type)==="REPEATED")return!1;const r=e.children.find(o=>o.element.name==="value");return(r==null?void 0:r.element.repetition_type)!=="REPEATED"}const zr={STOP:0,TRUE:1,FALSE:2,BYTE:3,I16:4,I32:5,I64:6,DOUBLE:7,BINARY:8,LIST:9,SET:10,MAP:11,STRUCT:12,UUID:13};function AV(n){let e=0;const i={};for(;n.offset<n.view.byteLength;){const[r,o,s]=MV(n,e);if(e=s,r===zr.STOP)break;i[`field_${o}`]=qx(n,r)}return i}function qx(n,e){switch(e){case zr.TRUE:return!0;case zr.FALSE:return!1;case zr.BYTE:return n.view.getInt8(n.offset++);case zr.I16:case zr.I32:return X_e(n);case zr.I64:return PM(n);case zr.DOUBLE:{const i=n.view.getFloat64(n.offset,!0);return n.offset+=8,i}case zr.BINARY:{const i=_f(n),r=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,i);return n.offset+=i,r}case zr.LIST:{const[i,r]=q_e(n),o=i===zr.TRUE||i===zr.FALSE,s=new Array(r);for(let a=0;a<r;a++)s[a]=o?qx(n,zr.BYTE)===1:qx(n,i);return s}case zr.STRUCT:{const i={};let r=0;for(;;){let o,s;if([o,s,r]=MV(n,r),o===zr.STOP)break;i[`field_${s}`]=qx(n,o)}return i}case zr.UUID:{let i="";for(let r=0;r<16;r++)i+=n.view.getUint8(n.offset++).toString(16).padStart(2,"0");return i}default:throw new Error(`thrift unhandled type: ${e}`)}}function _f(n){let e=0,i=0;for(;;){const r=n.view.getUint8(n.offset++);if(e|=(r&127)<<i,!(r&128))return e;i+=7}}function K_e(n){let e=0n,i=0n;for(;;){const r=n.view.getUint8(n.offset++);if(e|=BigInt(r&127)<<i,!(r&128))return e;i+=7n}}function X_e(n){const e=_f(n);return e>>>1^-(e&1)}function PM(n){const e=K_e(n);return e>>BigInt(1)^-(e&BigInt(1))}function EV(n){return n&15}function MV(n,e){const i=n.view.getUint8(n.offset++);if((i&15)===zr.STOP)return[0,0,e];const r=i>>4;let o;if(r)o=e+r;else throw new Error("non-delta field id not supported");return[EV(i),o,o]}function q_e(n){const e=n.view.getUint8(n.offset++),i=e>>4,r=EV(e);if(i===15){const o=_f(n);return[r,o]}return[r,i]}async function Y_e(n,e=1<<19){if(!n)throw new Error("parquet file is required");if(!(n.byteLength>=0))throw new Error("parquet file byteLength is required");const i=Math.max(0,n.byteLength-e),r=await n.slice(i,n.byteLength),o=new DataView(r);if(o.getUint32(r.byteLength-4,!0)!==827474256)throw new Error("parquet file invalid (footer != PAR1)");const s=o.getUint32(r.byteLength-8,!0);if(s>n.byteLength-8)throw new Error(`parquet metadata length ${s} exceeds available buffer ${n.byteLength-8}`);if(s+8>e){const a=n.byteLength-s-8,l=await n.slice(a,i),u=new ArrayBuffer(s+8),c=new Uint8Array(u);return c.set(new Uint8Array(l)),c.set(new Uint8Array(r),i-a),I$(u)}else return I$(r)}function I$(n){var y;if(!n)throw new Error("parquet file is required");const e=new DataView(n);if(e.byteLength<8)throw new Error("parquet file is too short");if(e.getUint32(e.byteLength-4,!0)!==827474256)throw new Error("parquet file invalid (footer != PAR1)");const i=e.byteLength-8,r=e.getUint32(i,!0);if(r>e.byteLength-8)throw new Error(`parquet metadata length ${r} exceeds available buffer ${e.byteLength-8}`);const o=i-r,a=AV({view:e,offset:o}),l=new TextDecoder;function u(m){return m&&l.decode(m)}const c=a.field_1,d=a.field_2.map(m=>({type:E$[m.field_1],type_length:m.field_2,repetition_type:z_e[m.field_3],name:u(m.field_4),num_children:m.field_5,converted_type:H_e[m.field_6],scale:m.field_7,precision:m.field_8,field_id:m.field_9,logical_type:Q_e(m.field_10)})),f=d.filter(m=>m.type),h=a.field_3,p=a.field_4.map(m=>{var _;return{columns:m.field_1.map((S,w)=>{var T,A;return{file_path:u(S.field_1),file_offset:S.field_2,meta_data:S.field_3&&{type:E$[S.field_3.field_1],encodings:(T=S.field_3.field_2)==null?void 0:T.map(C=>nf[C]),path_in_schema:S.field_3.field_3.map(u),codec:G_e[S.field_3.field_4],num_values:S.field_3.field_5,total_uncompressed_size:S.field_3.field_6,total_compressed_size:S.field_3.field_7,key_value_metadata:S.field_3.field_8,data_page_offset:S.field_3.field_9,index_page_offset:S.field_3.field_10,dictionary_page_offset:S.field_3.field_11,statistics:Z_e(S.field_3.field_12,f[w]),encoding_stats:(A=S.field_3.field_13)==null?void 0:A.map(C=>({page_type:xV[C.field_1],encoding:nf[C.field_2],count:C.field_3})),bloom_filter_offset:S.field_3.field_14,bloom_filter_length:S.field_3.field_15,size_statistics:S.field_3.field_16&&{unencoded_byte_array_data_bytes:S.field_3.field_16.field_1,repetition_level_histogram:S.field_3.field_16.field_2,definition_level_histogram:S.field_3.field_16.field_3}},offset_index_offset:S.field_4,offset_index_length:S.field_5,column_index_offset:S.field_6,column_index_length:S.field_7,crypto_metadata:S.field_7,encrypted_column_metadata:S.field_8}}),total_byte_size:m.field_2,num_rows:m.field_3,sorting_columns:(_=m.field_4)==null?void 0:_.map(S=>({column_idx:S.field_1,descending:S.field_2,nulls_first:S.field_3})),file_offset:m.field_5,total_compressed_size:m.field_6,ordinal:m.field_7}}),v=(y=a.field_5)==null?void 0:y.map(m=>({key:u(m.field_1),value:u(m.field_2)})),b=u(a.field_6);return{version:c,schema:d,num_rows:h,row_groups:p,key_value_metadata:v,created_by:b,metadata_length:r}}function Q_e(n){return n!=null&&n.field_1?{type:"STRING"}:n!=null&&n.field_2?{type:"MAP"}:n!=null&&n.field_3?{type:"LIST"}:n!=null&&n.field_4?{type:"ENUM"}:n!=null&&n.field_5?{type:"DECIMAL",scale:n.field_5.field_1,precision:n.field_5.field_2}:n!=null&&n.field_6?{type:"DATE"}:n!=null&&n.field_7?{type:"TIME",isAdjustedToUTC:n.field_7.field_1,unit:N$(n.field_7.field_2)}:n!=null&&n.field_8?{type:"TIMESTAMP",isAdjustedToUTC:n.field_8.field_1,unit:N$(n.field_8.field_2)}:n!=null&&n.field_10?{type:"INTEGER",bitWidth:n.field_10.field_1,isSigned:n.field_10.field_2}:n!=null&&n.field_11?{type:"NULL"}:n!=null&&n.field_12?{type:"JSON"}:n!=null&&n.field_13?{type:"BSON"}:n!=null&&n.field_14?{type:"UUID"}:n!=null&&n.field_15?{type:"FLOAT16"}:n}function N$(n){if(n.field_1)return"MILLIS";if(n.field_2)return"MICROS";if(n.field_3)return"NANOS";throw new Error("parquet time unit required")}function Z_e(n,e){return n&&{max:mb(n.field_1,e),min:mb(n.field_2,e),null_count:n.field_3,distinct_count:n.field_4,max_value:mb(n.field_5,e),min_value:mb(n.field_6,e),is_max_value_exact:n.field_7,is_min_value_exact:n.field_8}}function mb(n,e){const{type:i,converted_type:r,logical_type:o}=e;if(n===void 0)return n;if(i==="BOOLEAN")return n[0]===1;if(i==="BYTE_ARRAY")return new TextDecoder().decode(n);const s=new DataView(n.buffer,n.byteOffset,n.byteLength);return i==="FLOAT"&&s.byteLength===4?s.getFloat32(0,!0):i==="DOUBLE"&&s.byteLength===8?s.getFloat64(0,!0):i==="INT32"&&r==="DATE"?new Date(s.getInt32(0,!0)*864e5):i==="INT64"&&r==="TIMESTAMP_MICROS"?new Date(Number(s.getBigInt64(0,!0)/1000n)):i==="INT64"&&r==="TIMESTAMP_MILLIS"?new Date(Number(s.getBigInt64(0,!0))):i==="INT64"&&(o==null?void 0:o.type)==="TIMESTAMP"&&(o==null?void 0:o.unit)==="NANOS"?new Date(Number(s.getBigInt64(0,!0)/1000000n)):i==="INT64"&&(o==null?void 0:o.type)==="TIMESTAMP"&&(o==null?void 0:o.unit)==="MICROS"?new Date(Number(s.getBigInt64(0,!0)/1000n)):i==="INT64"&&(o==null?void 0:o.type)==="TIMESTAMP"?new Date(Number(s.getBigInt64(0,!0))):i==="INT32"&&s.byteLength===4?s.getInt32(0,!0):i==="INT64"&&s.byteLength===8?s.getBigInt64(0,!0):r==="DECIMAL"?SV(n)*Math.pow(10,-(e.scale||0)):(o==null?void 0:o.type)==="FLOAT16"?wV(n):n}function O$(n,e,i,r,o,s){const a=(e==null?void 0:e.length)||i.length;let l=0;const u=[n];let c=n,d=0,f=0,h=0;if(i[0])for(;d<o.length-2&&h<i[0];)c=c.at(-1),u.push(c),d++,o[d]!=="REQUIRED"&&f++,o[d]==="REPEATED"&&h++;for(let p=0;p<a;p++){const v=e!=null&&e.length?e[p]:s,b=i[p];for(;d&&(b<h||o[d]!=="REPEATED");)o[d]!=="REQUIRED"&&(u.pop(),f--),o[d]==="REPEATED"&&h--,d--;for(c=u.at(-1);(d<o.length-2||o[d+1]==="REPEATED")&&(f<v||o[d+1]==="REQUIRED");){if(d++,o[d]!=="REQUIRED"){const y=[];c.push(y),c=y,u.push(y),f++}o[d]==="REPEATED"&&h++}v===s?c.push(r[l++]):d===o.length-2?c.push(null):c.push([])}if(!n.length)for(let p=0;p<s;p++){const v=[];c.push(v),c=v}return n}function jm(n,e,i=0){const r=e.path.join("."),o=e.element.repetition_type==="OPTIONAL",s=o?i+1:i;if(W_e(e)){let a=e.children[0],l=s;a.children.length===1&&(a=a.children[0],l++),jm(n,a,l);const u=a.path.join("."),c=n.get(u);if(!c)throw new Error("parquet list column missing values");o&&Yx(c,i),n.set(r,c),n.delete(u);return}if(j_e(e)){const a=e.children[0].element.name;jm(n,e.children[0].children[0],s+1),jm(n,e.children[0].children[1],s+1);const l=n.get(`${r}.${a}.key`),u=n.get(`${r}.${a}.value`);if(!l)throw new Error("parquet map column missing keys");if(!u)throw new Error("parquet map column missing values");if(l.length!==u.length)throw new Error("parquet map column key/value length mismatch");const c=RV(l,u,s);o&&Yx(c,i),n.delete(`${r}.${a}.key`),n.delete(`${r}.${a}.value`),n.set(r,c);return}if(e.children.length){const a=e.element.repetition_type==="REQUIRED"?i:i+1,l={};for(const c of e.children){jm(n,c,a);const d=n.get(c.path.join("."));if(!d)throw new Error("parquet struct missing child data");l[c.element.name]=d}for(const c of e.children)n.delete(c.path.join("."));const u=PV(l,a);o&&Yx(u,i),n.set(r,u)}}function Yx(n,e){for(let i=0;i<n.length;i++)e?Yx(n[i],e-1):n[i]=n[i][0]}function RV(n,e,i){const r=[];for(let o=0;o<n.length;o++)if(i)r.push(RV(n[o],e[o],i-1));else if(n[o]){const s={};for(let a=0;a<n[o].length;a++){const l=e[o][a];s[n[o][a]]=l===void 0?null:l}r.push(s)}else r.push(void 0);return r}function PV(n,e){var s;const i=Object.keys(n),r=(s=n[i[0]])==null?void 0:s.length,o=[];for(let a=0;a<r;a++){const l={};for(const u of i){if(n[u].length!==r)throw new Error("parquet struct parsing error");l[u]=n[u][a]}e?o.push(PV(l,e-1)):o.push(l)}return o}function X_(n,e,i){const r=i instanceof Int32Array,o=_f(n),s=_f(n);_f(n);let a=PM(n),l=0;i[l++]=r?Number(a):a;const u=o/s;for(;l<e;){const c=PM(n),d=new Uint8Array(s);for(let f=0;f<s;f++)d[f]=n.view.getUint8(n.offset++);for(let f=0;f<s&&l<e;f++){const h=BigInt(d[f]);if(h){let p=0n,v=u;const b=(1n<<h)-1n;for(;v&&l<e;){let y=BigInt(n.view.getUint8(n.offset))>>p&b;for(p+=h;p>=8;)p-=8n,n.offset++,p&&(y|=BigInt(n.view.getUint8(n.offset))<<h-p&b);const m=c+y;a+=m,i[l++]=r?Number(a):a,v--}v&&(n.offset+=Math.ceil((v*Number(h)+Number(p))/8))}else for(let p=0;p<u&&l<e;p++)a+=c,i[l++]=r?Number(a):a}}}function J_e(n,e,i){const r=new Int32Array(e);X_(n,e,r);for(let o=0;o<e;o++)i[o]=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,r[o]),n.offset+=r[o]}function eSe(n,e,i){const r=new Int32Array(e);X_(n,e,r);const o=new Int32Array(e);X_(n,e,o);for(let s=0;s<e;s++){const a=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,o[s]);r[s]?(i[s]=new Uint8Array(r[s]+o[s]),i[s].set(i[s-1].subarray(0,r[s])),i[s].set(a,r[s])):i[s]=a,n.offset+=o[s]}}function bw(n){return 32-Math.clz32(n)}function Uf(n,e,i,r){i||(n.offset+=4);let o=0;for(;o<r.length;){const s=_f(n);if(s&1)o=nSe(n,s,e,r,o);else{const a=s>>>1;tSe(n,a,e,r,o),o+=a}}}function tSe(n,e,i,r,o){const s=i+7>>3;let a=0;for(let l=0;l<s;l++)a|=n.view.getUint8(n.offset++)<<(l<<3);for(let l=0;l<e;l++)r[o+l]=a}function nSe(n,e,i,r,o){let s=e>>1<<3;const a=(1<<i)-1;let l=0;if(n.offset<n.view.byteLength)l=n.view.getUint8(n.offset++);else if(a)throw new Error(`parquet bitpack offset ${n.offset} out of range`);let u=8,c=0;for(;s;)c>8?(c-=8,u-=8,l>>>=8):u-c<i?(l|=n.view.getUint8(n.offset)<<u,n.offset++,u+=8):(o<r.length&&(r[o++]=l>>c&a),s--,c+=i);return o}function IV(n,e,i,r){const o=iSe(i,r),s=new Uint8Array(e*o);for(let a=0;a<o;a++)for(let l=0;l<e;l++)s[l*o+a]=n.view.getUint8(n.offset++);if(i==="FLOAT")return new Float32Array(s.buffer);if(i==="DOUBLE")return new Float64Array(s.buffer);if(i==="INT32")return new Int32Array(s.buffer);if(i==="INT64")return new BigInt64Array(s.buffer);if(i==="FIXED_LEN_BYTE_ARRAY"){const a=new Array(e);for(let l=0;l<e;l++)a[l]=s.subarray(l*o,(l+1)*o);return a}throw new Error(`parquet byte_stream_split unsupported type: ${i}`)}function iSe(n,e){switch(n){case"INT32":case"FLOAT":return 4;case"INT64":case"DOUBLE":return 8;case"FIXED_LEN_BYTE_ARRAY":if(!e)throw new Error("parquet byteWidth missing type_length");return e;default:throw new Error(`parquet unsupported type: ${n}`)}}function JP(n,e,i,r){if(i===0)return[];if(e==="BOOLEAN")return rSe(n,i);if(e==="INT32")return oSe(n,i);if(e==="INT64")return sSe(n,i);if(e==="INT96")return aSe(n,i);if(e==="FLOAT")return lSe(n,i);if(e==="DOUBLE")return uSe(n,i);if(e==="BYTE_ARRAY")return cSe(n,i);if(e==="FIXED_LEN_BYTE_ARRAY"){if(!r)throw new Error("parquet missing fixed length");return dSe(n,i,r)}else throw new Error(`parquet unhandled type: ${e}`)}function rSe(n,e){const i=new Array(e);for(let r=0;r<e;r++){const o=n.offset+(r/8|0),s=r%8,a=n.view.getUint8(o);i[r]=(a&1<<s)!==0}return n.offset+=Math.ceil(e/8),i}function oSe(n,e){const i=(n.view.byteOffset+n.offset)%4?new Int32Array(xw(n.view.buffer,n.view.byteOffset+n.offset,e*4)):new Int32Array(n.view.buffer,n.view.byteOffset+n.offset,e);return n.offset+=e*4,i}function sSe(n,e){const i=(n.view.byteOffset+n.offset)%8?new BigInt64Array(xw(n.view.buffer,n.view.byteOffset+n.offset,e*8)):new BigInt64Array(n.view.buffer,n.view.byteOffset+n.offset,e);return n.offset+=e*8,i}function aSe(n,e){const i=new Array(e);for(let r=0;r<e;r++){const o=n.view.getBigInt64(n.offset+r*12,!0),s=n.view.getInt32(n.offset+r*12+8,!0);i[r]=BigInt(s)<<64n|o}return n.offset+=e*12,i}function lSe(n,e){const i=(n.view.byteOffset+n.offset)%4?new Float32Array(xw(n.view.buffer,n.view.byteOffset+n.offset,e*4)):new Float32Array(n.view.buffer,n.view.byteOffset+n.offset,e);return n.offset+=e*4,i}function uSe(n,e){const i=(n.view.byteOffset+n.offset)%8?new Float64Array(xw(n.view.buffer,n.view.byteOffset+n.offset,e*8)):new Float64Array(n.view.buffer,n.view.byteOffset+n.offset,e);return n.offset+=e*8,i}function cSe(n,e){const i=new Array(e);for(let r=0;r<e;r++){const o=n.view.getInt32(n.offset,!0);n.offset+=4,i[r]=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,o),n.offset+=o}return i}function dSe(n,e,i){const r=new Array(e);for(let o=0;o<e;o++)r[o]=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,i),n.offset+=i;return r}function xw(n,e,i){const r=new ArrayBuffer(i);return new Uint8Array(r).set(new Uint8Array(n,e,i)),r}const fSe=[0,255,65535,16777215,4294967295];function hSe(n,e,i,r,o){for(let s=0;s<o;s++)i[r+s]=n[e+s]}function pSe(n,e,i,r){for(let o=0;o<r;o++)n[e+o]=n[e-i+o]}function gSe(n,e){const i=n.byteLength,r=e.byteLength;let o=0,s=0;for(;o<i;){const a=n[o];if(o++,a<128)break}if(r&&o>=i)throw new Error("invalid snappy length header");for(;o<i;){const a=n[o];let l=0;if(o++,o>=i)throw new Error("missing eof marker");if(a&3){let u=0;switch(a&3){case 1:l=(a>>>2&7)+4,u=n[o]+(a>>>5<<8),o++;break;case 2:if(i<=o+1)throw new Error("snappy error end of input");l=(a>>>2)+1,u=n[o]+(n[o+1]<<8),o+=2;break;case 3:if(i<=o+3)throw new Error("snappy error end of input");l=(a>>>2)+1,u=n[o]+(n[o+1]<<8)+(n[o+2]<<16)+(n[o+3]<<24),o+=4;break}if(u===0||isNaN(u))throw new Error(`invalid offset ${u} pos ${o} inputLength ${i}`);if(u>s)throw new Error("cannot copy from before start of buffer");pSe(e,s,u,l),s+=l}else{let u=(a>>>2)+1;if(u>60){if(o+3>=i)throw new Error("snappy error literal pos + 3 >= inputLength");const c=u-60;u=n[o]+(n[o+1]<<8)+(n[o+2]<<16)+(n[o+3]<<24),u=(u&fSe[c])+1,o+=c}if(o+u>i)throw new Error("snappy error literal exceeds input length");hSe(n,o,e,s,u),o+=u,s+=u}}if(s!==r)throw new Error("premature end of input")}function mSe(n,e,i,{type:r}){const o=new DataView(n.buffer,n.byteOffset,n.byteLength),s={view:o,offset:0};let a;const l=ySe(s,e,i),{definitionLevels:u,numNulls:c}=bSe(s,e,i),d=e.num_values-c;if(e.encoding==="PLAIN"){const{type_length:f}=i[i.length-1].element;a=JP(s,r,d,f)}else if(e.encoding==="PLAIN_DICTIONARY"||e.encoding==="RLE_DICTIONARY"||e.encoding==="RLE"){const f=r==="BOOLEAN"?1:o.getUint8(s.offset++);f?(a=new Array(d),Uf(s,f,o.byteLength-s.offset,a)):a=new Uint8Array(d)}else if(e.encoding==="BYTE_STREAM_SPLIT"){const{type_length:f}=i[i.length-1].element;a=IV(s,d,r,f)}else throw new Error(`parquet unsupported encoding: ${e.encoding}`);return{definitionLevels:u,repetitionLevels:l,dataPage:a}}function vSe(n,e,i,r){const s={view:new DataView(n.buffer,n.byteOffset,n.byteLength),offset:0};return JP(s,i.type,e.num_values,r)}function ySe(n,e,i){if(i.length>1){const r=TV(i);if(r){const o=new Array(e.num_values);return Uf(n,bw(r),0,o),o}}return[]}function bSe(n,e,i){const r=K_(i);if(!r)return{definitionLevels:[],numNulls:0};const o=new Array(e.num_values);Uf(n,bw(r),0,o);let s=e.num_values;for(const a of o)a===r&&s--;return s===0&&(o.length=0),{definitionLevels:o,numNulls:s}}function IM(n,e,i,r){let o;const s=r==null?void 0:r[i];if(i==="UNCOMPRESSED")o=n;else if(s)o=s(n,e);else if(i==="SNAPPY")o=new Uint8Array(e),gSe(n,o);else throw new Error(`parquet unsupported compression codec: ${i}`);if((o==null?void 0:o.length)!==e)throw new Error(`parquet decompressed page length ${o==null?void 0:o.length} does not match header ${e}`);return o}function xSe(n,e,i,r,o){const a={view:new DataView(n.buffer,n.byteOffset,n.byteLength),offset:0},{codec:l,type:u}=r,c=e.data_page_header_v2;if(!c)throw new Error("parquet data page header v2 is undefined");const d=_Se(a,c,i);a.offset=c.repetition_levels_byte_length;const f=SSe(a,c,i),h=e.uncompressed_page_size-c.definition_levels_byte_length-c.repetition_levels_byte_length;let p=n.subarray(a.offset);c.is_compressed!==!1&&(p=IM(p,h,l,o));const v=new DataView(p.buffer,p.byteOffset,p.byteLength),b={view:v,offset:0};let y;const m=c.num_values-c.num_nulls;if(c.encoding==="PLAIN"){const{type_length:_}=i[i.length-1].element;y=JP(b,u,m,_)}else if(c.encoding==="RLE")y=new Array(m),Uf(b,1,0,y),y=y.map(_=>!!_);else if(c.encoding==="PLAIN_DICTIONARY"||c.encoding==="RLE_DICTIONARY"){const _=v.getUint8(b.offset++);y=new Array(m),Uf(b,_,h-1,y)}else if(c.encoding==="DELTA_BINARY_PACKED")y=u==="INT32"?new Int32Array(m):new BigInt64Array(m),X_(b,m,y);else if(c.encoding==="DELTA_LENGTH_BYTE_ARRAY")y=new Array(m),J_e(b,m,y);else if(c.encoding==="DELTA_BYTE_ARRAY")y=new Array(m),eSe(b,m,y);else if(c.encoding==="BYTE_STREAM_SPLIT"){const{type_length:_}=i[i.length-1].element;y=IV(a,m,u,_)}else throw new Error(`parquet unsupported encoding: ${c.encoding}`);return{definitionLevels:f,repetitionLevels:d,dataPage:y}}function _Se(n,e,i){const r=TV(i);if(!r)return[];const o=new Array(e.num_values);return Uf(n,bw(r),e.repetition_levels_byte_length,o),o}function SSe(n,e,i){const r=K_(i);if(r){const o=new Array(e.num_values);return Uf(n,bw(r),e.definition_levels_byte_length,o),o}}function NM(n,e){for(let r=0;r<e.length;r+=1e4)n.push(...e.slice(r,r+1e4))}function wSe(n,e,i,r,{compressors:o,utf8:s}){const{element:a}=r[r.length-1];let l;const u=[],c=e!==void 0&&e>=0&&isFinite(e);for(;(!c||u.length<e)&&!(n.offset>=n.view.byteLength-1);){const d=CSe(n),f=new Uint8Array(n.view.buffer,n.view.byteOffset+n.offset,d.compressed_page_size);let h;if(d.type==="DATA_PAGE"){const p=d.data_page_header;if(!p)throw new Error("parquet data page header is undefined");const v=IM(f,Number(d.uncompressed_page_size),i.codec,o),{definitionLevels:b,repetitionLevels:y,dataPage:m}=mSe(v,p,r,i);if(h=M$(m,l,a,p.encoding,s),y.length||b!=null&&b.length){const _=K_(r),S=r.map(({element:w})=>w.repetition_type);O$(u,b,y,h,S,_)}else{for(let _=2;_<r.length;_++)r[_].element.repetition_type!=="REQUIRED"&&(h=Array.from(h,S=>[S]));NM(u,h)}}else if(d.type==="DATA_PAGE_V2"){const p=d.data_page_header_v2;if(!p)throw new Error("parquet data page header v2 is undefined");const{definitionLevels:v,repetitionLevels:b,dataPage:y}=xSe(f,d,r,i,o);if(h=M$(y,l,a,p.encoding,s),b.length||v!=null&&v.length){const m=K_(r),_=r.map(({element:S})=>S.repetition_type);O$(u,v,b,h,_,m)}else NM(u,h)}else if(d.type==="DICTIONARY_PAGE"){const p=d.dictionary_page_header;if(!p)throw new Error("parquet dictionary page header is undefined");const v=IM(f,Number(d.uncompressed_page_size),i.codec,o);l=vSe(v,p,i,a.type_length)}else throw new Error(`parquet unsupported page type: ${d.type}`);n.offset+=d.compressed_page_size}if(c){if(u.length<e)throw new Error(`parquet row data length ${u.length} does not match row group limit ${e}}`);u.length>e&&(u.length=e)}return u}function D$({dictionary_page_offset:n,data_page_offset:e,total_compressed_size:i}){let r=n;return(!r||e<r)&&(r=e),[r,r+i]}function CSe(n){const e=AV(n),i=xV[e.field_1],r=e.field_2,o=e.field_3,s=e.field_4,a=e.field_5&&{num_values:e.field_5.field_1,encoding:nf[e.field_5.field_2],definition_level_encoding:nf[e.field_5.field_3],repetition_level_encoding:nf[e.field_5.field_4],statistics:e.field_5.field_5&&{max:e.field_5.field_5.field_1,min:e.field_5.field_5.field_2,null_count:e.field_5.field_5.field_3,distinct_count:e.field_5.field_5.field_4,max_value:e.field_5.field_5.field_5,min_value:e.field_5.field_5.field_6}},l=e.field_6,u=e.field_7&&{num_values:e.field_7.field_1,encoding:nf[e.field_7.field_2],is_sorted:e.field_7.field_3},c=e.field_8&&{num_values:e.field_8.field_1,num_nulls:e.field_8.field_2,num_rows:e.field_8.field_3,encoding:nf[e.field_8.field_4],definition_levels_byte_length:e.field_8.field_5,repetition_levels_byte_length:e.field_8.field_6,is_compressed:e.field_8.field_7===void 0?!0:e.field_8.field_7,statistics:e.field_8.field_8};return{type:i,uncompressed_page_size:r,compressed_page_size:o,crc:s,data_page_header:a,index_page_header:l,dictionary_page_header:u,data_page_header_v2:c}}async function TSe(n){if(!n.file)throw new Error("parquet file is required");if(n.metadata||(n.metadata=await Y_e(n.file)),!n.metadata)throw new Error("parquet metadata not found");const{metadata:e,onComplete:i,rowEnd:r}=n,o=n.rowStart||0,s=[];let a=0;for(const l of e.row_groups){const u=Number(l.num_rows);if(a+u>=o&&(r===void 0||a<r)){const c=r&&r-a,d=await ASe(n,l,a,c);if(i){const f=Math.max(o-a,0),h=r===void 0?void 0:r-a;NM(s,d.slice(f,h))}}a+=u}i&&i(s)}async function ASe(n,e,i,r){const{file:o,metadata:s,columns:a}=n;if(!s)throw new Error("parquet metadata not found");(r===void 0||r>e.num_rows)&&(r=Number(e.num_rows));let[l,u]=[o.byteLength,0];if(e.columns.forEach(({meta_data:v})=>{if(!v)throw new Error("parquet column metadata is undefined");if(a&&!a.includes(v.path_in_schema[0]))return;const[b,y]=D$(v).map(Number);l=Math.min(l,b),u=Math.max(u,y)}),l>=u&&(a!=null&&a.length))throw new Error(`parquet columns not found: ${a.join(", ")}`);let c;u-l<=1<<25&&(c=await o.slice(l,u));const d=[],{children:f}=P$(s.schema,[])[0],h=new Map(f.map(v=>[v.element.name,NV(v)])),p=new Map;for(let v=0;v<e.columns.length;v++){const b=e.columns[v].meta_data;if(!b)throw new Error("parquet column metadata is undefined");const y=b.path_in_schema[0];if(a&&!a.includes(y))continue;const[m,_]=D$(b).map(Number),S=_-m;if(S>1<<30){console.warn(`parquet skipping huge column "${b.path_in_schema}" ${S.toLocaleString()} bytes`);continue}let w,T=0;c?(w=Promise.resolve(c),T=m-l):w=Promise.resolve(o.slice(m,_)),d.push(w.then(A=>{var D;const C=P$(s.schema,b.path_in_schema),R={view:new DataView(A),offset:T};let E=wSe(R,r,b,C,n);const P=b.path_in_schema.join(".");p.set(P,E),E=void 0;const N=h.get(y);if(N!=null&&N.every($=>p.has($))&&(jm(p,C[1]),E=p.get(y),!E))throw new Error(`parquet column data not assembled: ${y}`);E&&((D=n.onChunk)==null||D.call(n,{columnName:y,columnData:E,rowStart:i,rowEnd:i+E.length}))}))}if(await Promise.all(d),n.onComplete){const v=new Array(r),b=f.map(_=>_.element.name).filter(_=>!a||a.includes(_)),y=a||b,m=y.map(_=>b.includes(_)?p.get(_):void 0);for(let _=0;_<r;_++)if(n.rowFormat==="object"){const S={};y.forEach((w,T)=>{var A;S[w]=(A=m[T])==null?void 0:A[_]}),v[_]=S}else v[_]=m.map(S=>S==null?void 0:S[_]);return v}return[]}function NV(n,e=[]){if(n.children.length)for(const i of n.children)NV(i,e);else e.push(n.path.join("."));return e}var ESe=ArrayBuffer,nr=Uint8Array,q_=Uint16Array,MSe=Int16Array,_w=Int32Array,bT=function(n,e,i){if(nr.prototype.slice)return nr.prototype.slice.call(n,e,i);(e==null||e<0)&&(e=0),(i==null||i>n.length)&&(i=n.length);var r=new nr(i-e);return r.set(n.subarray(e,i)),r},vv=function(n,e,i,r){if(nr.prototype.fill)return nr.prototype.fill.call(n,e,i,r);for((i==null||i<0)&&(i=0),(r==null||r>n.length)&&(r=n.length);i<r;++i)n[i]=e;return n},RSe=function(n,e,i,r){if(nr.prototype.copyWithin)return nr.prototype.copyWithin.call(n,e,i,r);for((i==null||i<0)&&(i=0),(r==null||r>n.length)&&(r=n.length);i<r;)n[e++]=n[i++]},PSe=["invalid zstd data","window size too large (>2046MB)","invalid block type","FSE accuracy too high","match distance too far back","unexpected EOF"],ur=function(n,e,i){var r=new Error(e||PSe[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,ur),!i)throw r;return r},L$=function(n,e,i){for(var r=0,o=0;r<i;++r)o|=n[e++]<<(r<<3);return o},ISe=function(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0},NSe=function(n,e){var i=n[0]|n[1]<<8|n[2]<<16;if(i==3126568&&n[3]==253){var r=n[4],o=r>>5&1,s=r>>2&1,a=r&3,l=r>>6;r&8&&ur(0);var u=6-o,c=a==3?4:a,d=L$(n,u,c);u+=c;var f=l?1<<l:o,h=L$(n,u,f)+(l==1&&256),p=h;if(!o){var v=1<<10+(n[5]>>3);p=v+(v>>3)*(n[5]&7)}p>2145386496&&ur(1);var b=new nr((e==1?h||p:e?0:p)+12);return b[0]=1,b[4]=4,b[8]=8,{b:u+f,y:0,l:0,d,w:e&&e!=1?e:b.subarray(12),e:p,o:new _w(b.buffer,0,3),u:h,c:s,m:Math.min(131072,p)}}else if((i>>4|n[3]<<20)==25481893)return ISe(n,4)+8;ur(0)},Sf=function(n){for(var e=0;1<<e<=n;++e);return e-1},Hy=function(n,e,i){var r=(e<<3)+4,o=(n[e]&15)+5;o>i&&ur(3);for(var s=1<<o,a=s,l=-1,u=-1,c=-1,d=s,f=new ESe(512+(s<<2)),h=new MSe(f,0,256),p=new q_(f,0,256),v=new q_(f,512,s),b=512+(s<<1),y=new nr(f,b,s),m=new nr(f,b+s);l<255&&a>0;){var _=Sf(a+1),S=r>>3,w=(1<<_+1)-1,T=(n[S]|n[S+1]<<8|n[S+2]<<16)>>(r&7)&w,A=(1<<_)-1,C=w-a-1,R=T&A;if(R<C?(r+=_,T=R):(r+=_+1,T>A&&(T-=C)),h[++l]=--T,T==-1?(a+=T,y[--d]=l):a-=T,!T)do{var E=r>>3;u=(n[E]|n[E+1]<<8)>>(r&7)&3,r+=2,l+=u}while(u==3)}(l>255||a)&&ur(0);for(var P=0,N=(s>>1)+(s>>3)+3,D=s-1,$=0;$<=l;++$){var L=h[$];if(L<1){p[$]=-L;continue}for(c=0;c<L;++c){y[P]=$;do P=P+N&D;while(P>=d)}}for(P&&ur(0),c=0;c<s;++c){var F=p[y[c]]++,U=m[c]=o-Sf(F);v[c]=(F<<U)-s}return[r+7>>3,{b:o,s:y,n:m,t:v}]},OSe=function(n,e){var i=0,r=-1,o=new nr(292),s=n[e],a=o.subarray(0,256),l=o.subarray(256,268),u=new q_(o.buffer,268);if(s<128){var c=Hy(n,e+1,6),d=c[0],f=c[1];e+=s;var h=d<<3,p=n[e];p||ur(0);for(var v=0,b=0,y=f.b,m=y,_=(++e<<3)-8+Sf(p);_-=y,!(_<h);){var S=_>>3;if(v+=(n[S]|n[S+1]<<8)>>(_&7)&(1<<y)-1,a[++r]=f.s[v],_-=m,_<h)break;S=_>>3,b+=(n[S]|n[S+1]<<8)>>(_&7)&(1<<m)-1,a[++r]=f.s[b],y=f.n[v],v=f.t[v],m=f.n[b],b=f.t[b]}++r>255&&ur(0)}else{for(r=s-127;i<r;i+=2){var w=n[++e];a[i]=w>>4,a[i+1]=w&15}++e}var T=0;for(i=0;i<r;++i){var A=a[i];A>11&&ur(0),T+=A&&1<<A-1}var C=Sf(T)+1,R=1<<C,E=R-T;for(E&E-1&&ur(0),a[r++]=Sf(E)+1,i=0;i<r;++i){var A=a[i];++l[a[i]=A&&C+1-A]}var P=new nr(R<<1),N=P.subarray(0,R),D=P.subarray(R);for(u[C]=0,i=C;i>0;--i){var $=u[i];vv(D,i,$,u[i-1]=$+l[i]*(1<<C-i))}for(u[0]!=R&&ur(0),i=0;i<r;++i){var L=a[i];if(L){var F=u[L];vv(N,i,F,u[L]=F+(1<<C-L))}}return[e,{n:D,b:C,s:N}]},DSe=Hy(new nr([81,16,99,140,49,198,24,99,12,33,196,24,99,102,102,134,70,146,4]),0,6)[1],LSe=Hy(new nr([33,20,196,24,99,140,33,132,16,66,8,33,132,16,66,8,33,68,68,68,68,68,68,68,68,36,9]),0,6)[1],BSe=Hy(new nr([32,132,16,66,102,70,68,68,68,68,36,73,2]),0,5)[1],OV=function(n,e){for(var i=n.length,r=new _w(i),o=0;o<i;++o)r[o]=e,e+=1<<n[o];return r},OM=new nr(new _w([0,0,0,0,16843009,50528770,134678020,202050057,269422093]).buffer,0,36),FSe=OV(OM,0),DM=new nr(new _w([0,0,0,0,0,0,0,0,16843009,50528770,117769220,185207048,252579084,16]).buffer,0,53),$Se=OV(DM,3),Km=function(n,e,i){var r=n.length,o=e.length,s=n[r-1],a=(1<<i.b)-1,l=-i.b;s||ur(0);for(var u=0,c=i.b,d=(r<<3)-8+Sf(s)-c,f=-1;d>l&&f<o;){var h=d>>3,p=(n[h]|n[h+1]<<8|n[h+2]<<16)>>(d&7);u=(u<<c|p)&a,e[++f]=i.s[u],d-=c=i.n[u]}(d!=l||f+1!=o)&&ur(0)},USe=function(n,e,i){var r=6,o=e.length,s=o+3>>2,a=s<<1,l=s+a;Km(n.subarray(r,r+=n[0]|n[1]<<8),e.subarray(0,s),i),Km(n.subarray(r,r+=n[2]|n[3]<<8),e.subarray(s,a),i),Km(n.subarray(r,r+=n[4]|n[5]<<8),e.subarray(a,l),i),Km(n.subarray(r),e.subarray(l),i)},kSe=function(n,e,i){var r,o=e.b,s=n[o],a=s>>1&3;e.l=s&1;var l=s>>3|n[o+1]<<5|n[o+2]<<13,u=(o+=3)+l;if(a==1)return o>=n.length?void 0:(e.b=o+1,i?(vv(i,n[o],e.y,e.y+=l),i):vv(new nr(l),n[o]));if(!(u>n.length)){if(a==0)return e.b=u,i?(i.set(n.subarray(o,u),e.y),e.y+=l,i):bT(n,o,u);if(a==2){var c=n[o],d=c&3,f=c>>2&3,h=c>>4,p=0,v=0;d<2?f&1?h|=n[++o]<<4|(f&2&&n[++o]<<12):h=c>>3:(v=f,f<2?(h|=(n[++o]&63)<<4,p=n[o]>>6|n[++o]<<2):f==2?(h|=n[++o]<<4|(n[++o]&3)<<12,p=n[o]>>2|n[++o]<<6):(h|=n[++o]<<4|(n[++o]&63)<<12,p=n[o]>>6|n[++o]<<2|n[++o]<<10)),++o;var b=i?i.subarray(e.y,e.y+e.m):new nr(e.m),y=b.length-h;if(d==0)b.set(n.subarray(o,o+=h),y);else if(d==1)vv(b,n[o++],y);else{var m=e.h;if(d==2){var _=OSe(n,o);p+=o-(o=_[0]),e.h=m=_[1]}else m||ur(0);(v?USe:Km)(n.subarray(o,o+=p),b.subarray(y),m)}var S=n[o++];if(S){S==255?S=(n[o++]|n[o++]<<8)+32512:S>127&&(S=S-128<<8|n[o++]);var w=n[o++];w&3&&ur(0);for(var T=[LSe,BSe,DSe],A=2;A>-1;--A){var C=w>>(A<<1)+2&3;if(C==1){var R=new nr([0,0,n[o++]]);T[A]={s:R.subarray(2,3),n:R.subarray(0,1),t:new q_(R.buffer,0,1),b:0}}else C==2?(r=Hy(n,o,9-(A&1)),o=r[0],T[A]=r[1]):C==3&&(e.t||ur(0),T[A]=e.t[A])}var E=e.t=T,P=E[0],N=E[1],D=E[2],$=n[u-1];$||ur(0);var L=(u<<3)-8+Sf($)-D.b,F=L>>3,U=0,k=(n[F]|n[F+1]<<8)>>(L&7)&(1<<D.b)-1;F=(L-=N.b)>>3;var H=(n[F]|n[F+1]<<8)>>(L&7)&(1<<N.b)-1;F=(L-=P.b)>>3;var z=(n[F]|n[F+1]<<8)>>(L&7)&(1<<P.b)-1;for(++S;--S;){var Q=D.s[k],Z=D.n[k],ie=P.s[z],we=P.n[z],J=N.s[H],se=N.n[H];F=(L-=J)>>3;var ee=1<<J,ne=ee+((n[F]|n[F+1]<<8|n[F+2]<<16|n[F+3]<<24)>>>(L&7)&ee-1);F=(L-=DM[ie])>>3;var ue=$Se[ie]+((n[F]|n[F+1]<<8|n[F+2]<<16)>>(L&7)&(1<<DM[ie])-1);F=(L-=OM[Q])>>3;var Y=FSe[Q]+((n[F]|n[F+1]<<8|n[F+2]<<16)>>(L&7)&(1<<OM[Q])-1);if(F=(L-=Z)>>3,k=D.t[k]+((n[F]|n[F+1]<<8)>>(L&7)&(1<<Z)-1),F=(L-=we)>>3,z=P.t[z]+((n[F]|n[F+1]<<8)>>(L&7)&(1<<we)-1),F=(L-=se)>>3,H=N.t[H]+((n[F]|n[F+1]<<8)>>(L&7)&(1<<se)-1),ne>3)e.o[2]=e.o[1],e.o[1]=e.o[0],e.o[0]=ne-=3;else{var le=ne-(Y!=0);le?(ne=le==3?e.o[0]-1:e.o[le],le>1&&(e.o[2]=e.o[1]),e.o[1]=e.o[0],e.o[0]=ne):ne=e.o[0]}for(var A=0;A<Y;++A)b[U+A]=b[y+A];U+=Y,y+=Y;var he=U-ne;if(he<0){var W=-he,X=e.e+he;W>ue&&(W=ue);for(var A=0;A<W;++A)b[U+A]=e.w[X+A];U+=W,ue-=W,he=0}for(var A=0;A<ue;++A)b[U+A]=b[he+A];U+=ue}if(U!=y)for(;y<b.length;)b[U++]=b[y++];else U=b.length;i?e.y+=U:b=bT(b,0,U)}else if(i){if(e.y+=h,y)for(var A=0;A<h;++A)b[A]=b[y+A]}else y&&(b=bT(b,y));return e.b=u,b}ur(2)}},zSe=function(n,e){if(n.length==1)return n[0];for(var i=new nr(e),r=0,o=0;r<n.length;++r){var s=n[r];i.set(s,o),o+=s.length}return i};function HSe(n,e){for(var i=[],r=+!e,o=0,s=0;n.length;){var a=NSe(n,r||e);if(typeof a=="object"){for(r?(e=null,a.w.length==a.u&&(i.push(e=a.w),s+=a.u)):(i.push(e),a.e=0);!a.l;){var l=kSe(n,a,e);l||ur(5),e?a.e=a.y:(i.push(l),s+=l.length,RSe(a.w,0,l.length),a.w.set(l,a.w.length-l.length))}o=a.b+a.c*4}else o=a;n=n.subarray(o)}return zSe(i,s)}function GSe(){const n=VSe();return(e,i)=>{const{memory:r,uncompress:o}=n.exports,s=68e3,a=s+e.byteLength,l=s+e.byteLength+i;if(r.buffer.byteLength<l){const f=r.buffer.byteLength/65536,p=Math.ceil(l/65536)-f;r.grow(p)}const u=new Uint8Array(r.buffer);u.set(e,s);const c=o(s,e.byteLength,a);if(c===-1)throw new Error("invalid snappy length header");if(c===-2)throw new Error("missing eof marker");if(c===-3)throw new Error("premature end of input");if(c)throw new Error(`failed to uncompress data ${c}`);return u.slice(a,a+i)}}function VSe(){const n=atob(WSe),e=new Uint8Array(n.length);for(let r=0;r<n.length;r+=1)e[r]=n.charCodeAt(r);const i=new WebAssembly.Module(e);return new WebAssembly.Instance(i)}const WSe="AGFzbQEAAAABEANgAABgA39/fwF/YAF/AX8DBgUAAQEBAgUDAQACBj8KfwFBoIwEC38AQYAIC38AQaAMC38AQaAMC38AQaCMBAt/AEGACAt/AEGgjAQLfwBBgIAIC38AQQALfwBBAQsHwQEOBm1lbW9yeQIAEV9fd2FzbV9jYWxsX2N0b3JzAAAGbWVtY3B5AAEHbWVtbW92ZQACCnVuY29tcHJlc3MAAwxfX2Rzb19oYW5kbGUDAQpfX2RhdGFfZW5kAwILX19zdGFja19sb3cDAwxfX3N0YWNrX2hpZ2gDBA1fX2dsb2JhbF9iYXNlAwULX19oZWFwX2Jhc2UDBgpfX2hlYXBfZW5kAwcNX19tZW1vcnlfYmFzZQMIDF9fdGFibGVfYmFzZQMJCuASBQIAC8sBAQN/AkAgAkUNAAJAAkAgAkEHcSIDDQAgACEEIAIhBQwBCyAAIQQgAiEFA0AgBCABLQAAOgAAIARBAWohBCABQQFqIQEgBUF/aiEFIANBf2oiAw0ACwsgAkEISQ0AA0AgBCABLQAAOgAAIAQgAS0AAToAASAEIAEtAAI6AAIgBCABLQADOgADIAQgAS0ABDoABCAEIAEtAAU6AAUgBCABLQAGOgAGIAQgAS0ABzoAByAEQQhqIQQgAUEIaiEBIAVBeGoiBQ0ACwsgAAugAwEEfwJAIAAgAUYNAAJAAkAgACABSQ0AIAEgAmoiAyAASw0BCyACRQ0BAkACQCACQQdxIgMNACAAIQQgAiEFDAELIAAhBCACIQUDQCAEIAEtAAA6AAAgBEEBaiEEIAFBAWohASAFQX9qIQUgA0F/aiIDDQALCyACQQhJDQEDQCAEIAEtAAA6AAAgBCABLQABOgABIAQgAS0AAjoAAiAEIAEtAAM6AAMgBCABLQAEOgAEIAQgAS0ABToABSAEIAEtAAY6AAYgBCABLQAHOgAHIARBCGohBCABQQhqIQEgBUF4aiIFDQAMAgsLIAJFDQACQAJAIAJBA3EiBA0AIAAgAmohBiACIQUMAQsgAiEFA0AgBUF/aiIFIABqIgYgBSABaiIDLQAAOgAAIARBf2oiBA0ACwsgAkEESQ0AIAZBfGohASADQXxqIQQDQCABQQNqIARBA2otAAA6AAAgAUECaiAEQQJqLQAAOgAAIAFBAWogBEEBai0AADoAACABIAQtAAA6AAAgAUF8aiEBIARBfGohBCAFQXxqIgUNAAsLIAALswoBCX8jgICAgABBIGsiAySAgICAACADQQlqQgA3AAAgA0IANwIEIAMgA0EYajYCAEF/IQQCQCABRQ0AIAMgAUF/aiIFNgIcIAMgAEEBajYCGCAALAAAIgZB/wBxIQcCQCAGQX9KDQAgBUUNASADIAFBfmoiBTYCHCADIABBAmo2AhggACwAASIGQf8AcUEHdCAHciEHQX8hBCAGQX9KDQAgBUUNASADIAFBfWoiBTYCHCADIABBA2o2AhggACwAAiIGQf8AcUEOdCAHciEHQX8hBCAGQX9KDQAgBUUNASADIAFBfGoiBTYCHCADIABBBGo2AhggACwAAyIGQf8AcUEVdCAHciEHQX8hBCAGQX9KDQAgBUUNASADIAFBe2o2AhwgAyAAQQVqNgIYIAAsAAQiAUEASA0BIAFBHHQgB3IhBwsgAiAHaiEIAkACQCADEISAgIAADQAgAiEADAELIAMoAgQhASACIQADQAJAIAMoAgggAWtBBEoNACADIAE2AgQgAxCEgICAAEUNAiADKAIEIQELIAFBAWohBQJAAkAgAS0AACIGQQNxDQAgCCAAayEJIAMoAggiCiAFayEEIAZBAnYiC0EBaiEHAkAgBkE/Sw0AIARBEEkNACAJQRBIDQAgACABKAIBNgIAIAAgASgCBTYCBCAAIAEoAgk2AgggACABKAINNgIMIAAgB2ohACADKAIIIAUgB2oiAWtBBEoNAyADIAE2AgQgAxCEgICAAEUNBAwCCwJAAkAgBkHwAU8NACAFIQYMAQsgCiAFIAtBRWoiAWoiBmshBCABQQJ0QYCIgIAAaigCACAFKAIAcUEBaiEHCwJAIAcgBE0NAANAIAggAGsgBEkNBSAAIAYgBBCBgICAACEAIAMoAgAiASABKAIAIgkgAygCDCIFaiIGNgIAIAFBBGoiASABKAIAIgogBWsiATYCACADIAE2AgwgACAEaiEAIAFFDQUgAyAJIApqNgIIIAcgBGshByABIQQgByABSw0ACyAIIABrIQkLIAkgB0kNAyAAIAYgBxCBgICAACAHaiEAIAMoAgggBiAHaiIBa0EESg0CIAMgATYCBCADEISAgIAADQEMAwsgACACayAGQQF0QaCIgIAAai8BACIBQQt2IgpBAnRBgIiAgABqKAIAIAUoAgBxIAFBgA5xaiIHQX9qTQ0CIAggAGshBAJAAkAgAUH/AXEiCUEQSw0AIAdBCEkNACAEQRBJDQAgACAAIAdrIgEoAgA2AgAgACABKAIENgIEIAAgASgCCDYCCCAAIAFBDGooAgA2AgwMAQsCQAJAAkAgBCAJQQpqSQ0AIAAgB2shBCAAIQEgCSEGIAdBB0wNAQwCCyAEIAlJDQUgCUEBaiEEQQAgB2shByAAIQEDQCABIAEgB2otAAA6AAAgAUEBaiEBIARBf2oiBEEBSw0ADAMLCwNAIAEgBCgCADYCACABIAQoAgQ2AgQgBiAHayEGIAEgB2oiASAEayIHQQhIDQALCyAGQQFIDQAgBkEIaiEHA0AgASAEKAIANgIAIAEgBCgCBDYCBCABQQhqIQEgBEEIaiEEIAdBeGoiB0EISw0ACwsgACAJaiEAIAMoAgggBSAKaiIBa0EESg0BIAMgATYCBCADEISAgIAARQ0CCyADKAIEIQEMAAsLIAMoAgAiASABKAIEIAMoAgwiBGs2AgQgASAEIAEoAgBqNgIAAkAgAy0AEA0AQX4hBAwBC0EAQX0gCCAARhshBAsgA0EgaiSAgICAACAEC7YDAQd/AkAgACgCBCIBIAAoAggiAkcNACAAKAIAIgIgAigCACIDIAAoAgwiBGoiATYCACACQQRqIgIgAigCACICIARrIgU2AgAgACAFNgIMAkAgAiAERw0AIABBAToAEEEADwsgACADIAJqIgI2AggLAkACQAJAIAIgAWsiAiABLQAAQQF0QaCIgIAAai8BAEELdkEBaiIFTw0AIABBEWogASACEIKAgIAAIQYgACgCDCEEQQAhByAAQQA2AgwgACgCACIBIAEoAgQgBGs2AgQgASAEIAEoAgBqIgM2AgADQCABQQRqKAIAIgFFDQMgBiACaiADIAUgAmsiBCABIAQgAUkbIgQQgYCAgAAaIAAoAgAiASABKAIEIARrNgIEIAEgASgCACAEaiIDNgIAIAQgAmoiAiAFSQ0ACyAAIAY2AgQgACAGIAVqNgIIDAELAkAgAkEESw0AIAAgAEERaiABIAIQgoCAgAAiASACajYCCCAAIAE2AgQgACgCDCECIABBADYCDCAAKAIAIgEgASgCBCACazYCBCABIAIgASgCAGo2AgAMAQsgACABNgIEC0EBIQcLIAcLC6gEAQBBgAgLoAQAAAAA/wAAAP//AAD///8A/////wAAAAAAAAAAAAAAAAEABAgBEAEgAgAFCAIQAiADAAYIAxADIAQABwgEEAQgBQAICAUQBSAGAAkIBhAGIAcACggHEAcgCAALCAgQCCAJAAQJCRAJIAoABQkKEAogCwAGCQsQCyAMAAcJDBAMIA0ACAkNEA0gDgAJCQ4QDiAPAAoJDxAPIBAACwkQEBAgEQAEChEQESASAAUKEhASIBMABgoTEBMgFAAHChQQFCAVAAgKFRAVIBYACQoWEBYgFwAKChcQFyAYAAsKGBAYIBkABAsZEBkgGgAFCxoQGiAbAAYLGxAbIBwABwscEBwgHQAICx0QHSAeAAkLHhAeIB8ACgsfEB8gIAALCyAQICAhAAQMIRAhICIABQwiECIgIwAGDCMQIyAkAAcMJBAkICUACAwlECUgJgAJDCYQJiAnAAoMJxAnICgACwwoECggKQAEDSkQKSAqAAUNKhAqICsABg0rECsgLAAHDSwQLCAtAAgNLRAtIC4ACQ0uEC4gLwAKDS8QLyAwAAsNMBAwIDEABA4xEDEgMgAFDjIQMiAzAAYOMxAzIDQABw40EDQgNQAIDjUQNSA2AAkONhA2IDcACg43EDcgOAALDjgQOCA5AAQPORA5IDoABQ86EDogOwAGDzsQOyA8AAcPPBA8IAEICA89ED0gARAJDz4QPiABGAoPPxA/IAEgCw9AEEAgAGQEbmFtZQE9BQARX193YXNtX2NhbGxfY3RvcnMBBm1lbWNweQIHbWVtbW92ZQMKdW5jb21wcmVzcwQKcmVmaWxsX3RhZwcSAQAPX19zdGFja19wb2ludGVyCQoBAAcucm9kYXRhADIJcHJvZHVjZXJzAQxwcm9jZXNzZWQtYnkBDFVidW50dSBjbGFuZwsxNi4wLjYgKDE1KQAsD3RhcmdldF9mZWF0dXJlcwIrD211dGFibGUtZ2xvYmFscysIc2lnbi1leHQ=",hf=4096,jSe=2*hf+32,DV=2*hf-1,KSe=new Uint32Array([0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215]);function Ba(n){this.buf_=new Uint8Array(jSe),this.input_=n,this.buf_ptr_=0,this.val_=0,this.pos_=0,this.reset()}Ba.READ_SIZE=hf;Ba.IBUF_MASK=DV;Ba.prototype.reset=function(){this.buf_ptr_=0,this.val_=0,this.pos_=0,this.bit_pos_=0,this.bit_end_pos_=0,this.eos_=0,this.readMoreInput();for(let n=0;n<4;n++)this.val_|=this.buf_[this.pos_]<<8*n,this.pos_++;return this.bit_end_pos_>0};Ba.prototype.readMoreInput=function(){if(!(this.bit_end_pos_>256))if(this.eos_){if(this.bit_pos_>this.bit_end_pos_)throw new Error("Unexpected end of input "+this.bit_pos_+" "+this.bit_end_pos_)}else{const n=this.buf_ptr_,e=this.input_.read(this.buf_,n,hf);if(e<0)throw new Error("Unexpected end of input");if(e<hf){this.eos_=1;for(let i=0;i<32;i++)this.buf_[n+e+i]=0}if(n===0){for(let i=0;i<32;i++)this.buf_[(hf<<1)+i]=this.buf_[i];this.buf_ptr_=hf}else this.buf_ptr_=0;this.bit_end_pos_+=e<<3}};Ba.prototype.fillBitWindow=function(){for(;this.bit_pos_>=8;)this.val_>>>=8,this.val_|=this.buf_[this.pos_&DV]<<24,this.pos_++,this.bit_pos_=this.bit_pos_-8>>>0,this.bit_end_pos_=this.bit_end_pos_-8>>>0};Ba.prototype.readBits=function(n){32-this.bit_pos_<n&&this.fillBitWindow();const e=this.val_>>>this.bit_pos_&KSe[n];return this.bit_pos_+=n,e};const B$=new Uint8Array([0,0,0,0,0,0,0,0,0,4,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,12,16,12,12,20,12,16,24,28,12,12,32,12,36,12,44,44,44,44,44,44,44,44,44,44,32,32,24,40,28,12,12,48,52,52,52,48,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,24,12,28,12,12,12,56,60,60,60,56,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,24,12,28,12,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,56,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,22,22,22,22,23,23,23,23,24,24,24,24,25,25,25,25,26,26,26,26,27,27,27,27,28,28,28,28,29,29,29,29,30,30,30,30,31,31,31,31,32,32,32,32,33,33,33,33,34,34,34,34,35,35,35,35,36,36,36,36,37,37,37,37,38,38,38,38,39,39,39,39,40,40,40,40,41,41,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,53,53,53,53,54,54,54,54,55,55,55,55,56,56,56,56,57,57,57,57,58,58,58,58,59,59,59,59,60,60,60,60,61,61,61,61,62,62,62,62,63,63,63,63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),vb=new Uint16Array([1024,1536,1280,1536,0,256,768,512]),XSe=8,LM=8,qSe=255,BM=18,YSe=new Uint8Array([1,2,3,4,0,5,17,6,16,7,8,9,10,11,12,13,14,15]);function vi(n,e){this.bits=n,this.value=e}const F$=16,ap=15;function $$(n,e){let i=1<<e-1;for(;n&i;)i>>=1;return(n&i-1)+i}function U$(n,e,i,r,o){do r-=i,n[e+r]=new vi(o.bits,o.value);while(r>0)}function QSe(n,e,i){let r=1<<e-i;for(;e<ap&&(r-=n[e],!(r<=0));)++e,r<<=1;return e-i}function LV(n,e,i,r,o){const s=e,a=new Int32Array(ap+1),l=new Int32Array(ap+1),u=new Int32Array(o);for(let y=0;y<o;y++)a[r[y]]++;l[1]=0;for(let y=1;y<ap;y++)l[y+1]=l[y]+a[y];for(let y=0;y<o;y++)r[y]!==0&&(u[l[r[y]]++]=y);let c=i,d=1<<c,f=d;if(l[ap]===1){for(let y=0;y<f;++y)n[e+y]=new vi(0,u[0]&65535);return f}let h=0,p=0;for(let y=1,m=2;y<=i;++y,m<<=1)for(;a[y]>0;--a[y]){const _=new vi(y&255,u[p++]&65535);U$(n,e+h,m,d,_),h=$$(h,y)}const v=f-1;let b=-1;for(let y=i+1,m=2;y<=ap;++y,m<<=1)for(;a[y]>0;--a[y]){(h&v)!==b&&(e+=d,c=QSe(a,y,i),d=1<<c,f+=d,b=h&v,n[s+b]=new vi(c+i&255,e-s-b&65535));const _=new vi(y-i&255,u[p++]&65535);U$(n,e+(h>>i),m,d,_),h=$$(h,y)}return f}function Y_(n,e,i,r){const o=new Uint8Array(n);r.readMoreInput();const s=r.readBits(2);if(s===1){let l=n-1,u=0;const c=new Int32Array(4),d=r.readBits(2)+1;for(;l;)l>>=1,u++;for(let f=0;f<d;f++)c[f]=r.readBits(u)%n,o[c[f]]=2;switch(o[c[0]]=1,d){case 1:break;case 3:if(c[0]===c[1]||c[0]===c[2]||c[1]===c[2])throw new Error("[ReadHuffmanCode] invalid symbols");break;case 2:if(c[0]===c[1])throw new Error("[ReadHuffmanCode] invalid symbols");o[c[1]]=1;break;case 4:if(c[0]===c[1]||c[0]===c[2]||c[0]===c[3]||c[1]===c[2]||c[1]===c[3]||c[2]===c[3])throw new Error("[ReadHuffmanCode] invalid symbols");r.readBits(1)?(o[c[2]]=3,o[c[3]]=3):o[c[0]]=2;break}}else{const l=new Uint8Array(BM);let u=32,c=0;const d=[new vi(2,0),new vi(2,4),new vi(2,3),new vi(3,2),new vi(2,0),new vi(2,4),new vi(2,3),new vi(4,1),new vi(2,0),new vi(2,4),new vi(2,3),new vi(3,2),new vi(2,0),new vi(2,4),new vi(2,3),new vi(4,5)];for(let f=s;f<BM&&u>0;f++){const h=YSe[f];let p=0;r.fillBitWindow(),p+=r.val_>>>r.bit_pos_&15,r.bit_pos_+=d[p].bits;const v=d[p].value;l[h]=v,v!==0&&(u-=32>>v,c++)}if(!(c===1||u===0))throw new Error("[ReadHuffmanCode] invalid num_codes or space");ZSe(l,n,o,r)}const a=LV(e,i,LM,o,n);if(!a)throw new Error("brotli BuildHuffmanTable failed");return a}function Pp(n,e,i){i.fillBitWindow(),e+=i.val_>>>i.bit_pos_&qSe;const r=n[e].bits-LM;return r>0&&(i.bit_pos_+=LM,e+=n[e].value,e+=i.val_>>>i.bit_pos_&(1<<r)-1),i.bit_pos_+=n[e].bits,n[e].value}function ZSe(n,e,i,r){let o=0,s=XSe,a=0,l=0,u=32768;const c=[];for(let d=0;d<32;d++)c.push(new vi(0,0));for(LV(c,0,5,n,BM);o<e&&u>0;){let d=0;r.readMoreInput(),r.fillBitWindow(),d+=r.val_>>>r.bit_pos_&31,r.bit_pos_+=c[d].bits;const f=c[d].value&255;if(f<F$)a=0,i[o++]=f,f!==0&&(s=f,u-=32768>>f);else{const h=f-14;let p=0;f===F$&&(p=s),l!==p&&(a=0,l=p);const v=a;a>0&&(a-=2,a<<=h),a+=r.readBits(h)+3;const b=a-v;if(o+b>e)throw new Error("[ReadHuffmanCodeLengths] symbol + repeat_delta > num_symbols");for(let y=0;y<b;y++)i[o+y]=l;o+=b,l!==0&&(u-=b<<15-l)}}if(u!==0)throw new Error("[ReadHuffmanCodeLengths] space = "+u);for(;o<e;o++)i[o]=0}function Tt(n,e){this.offset=n,this.nbits=e}const k$=[new Tt(1,2),new Tt(5,2),new Tt(9,2),new Tt(13,2),new Tt(17,3),new Tt(25,3),new Tt(33,3),new Tt(41,3),new Tt(49,4),new Tt(65,4),new Tt(81,4),new Tt(97,4),new Tt(113,5),new Tt(145,5),new Tt(177,5),new Tt(209,5),new Tt(241,6),new Tt(305,6),new Tt(369,7),new Tt(497,8),new Tt(753,9),new Tt(1265,10),new Tt(2289,11),new Tt(4337,12),new Tt(8433,13),new Tt(16625,24)],z$=[new Tt(0,0),new Tt(1,0),new Tt(2,0),new Tt(3,0),new Tt(4,0),new Tt(5,0),new Tt(6,1),new Tt(8,1),new Tt(10,2),new Tt(14,2),new Tt(18,3),new Tt(26,3),new Tt(34,4),new Tt(50,4),new Tt(66,5),new Tt(98,5),new Tt(130,6),new Tt(194,7),new Tt(322,8),new Tt(578,9),new Tt(1090,10),new Tt(2114,12),new Tt(6210,14),new Tt(22594,24)],H$=[new Tt(2,0),new Tt(3,0),new Tt(4,0),new Tt(5,0),new Tt(6,0),new Tt(7,0),new Tt(8,0),new Tt(9,0),new Tt(10,1),new Tt(12,1),new Tt(14,2),new Tt(18,2),new Tt(22,3),new Tt(30,3),new Tt(38,4),new Tt(54,4),new Tt(70,5),new Tt(102,5),new Tt(134,6),new Tt(198,7),new Tt(326,8),new Tt(582,9),new Tt(1094,10),new Tt(2118,24)],JSe=[0,0,8,8,0,16,8,16,16],ewe=[0,8,0,8,16,0,16,8,16];function BV(n){this.buffer=n,this.pos=0}BV.prototype.read=function(n,e,i){this.pos+i>this.buffer.length&&(i=this.buffer.length-this.pos);for(let r=0;r<i;r++)n[e+r]=this.buffer[this.pos+r];return this.pos+=i,i};function FV(n){this.buffer=n,this.pos=0}FV.prototype.write=function(n,e){if(this.pos+e>this.buffer.length)throw new Error("brotli output buffer is not large enough");return this.buffer.set(n.subarray(0,e),this.pos),this.pos+=e,e};const $V=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),UV=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),twe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);function kV(n,e){const i=new Uint16Array(31);for(let o=0;o<31;o++)i[o]=e+=1<<n[o-1];const r=new Int32Array(i[30]);for(let o=1;o<30;o++)for(let s=i[o];s<i[o+1];++s)r[s]=s-i[o]<<5|o;return{base:i,rev:r}}const{base:zV,rev:nwe}=kV($V,2);zV[28]=258;nwe[258]=28;const{base:iwe}=kV(UV,0),HV=new Uint16Array(32768);for(let n=0;n<32768;n++){let e=(n&43690)>>1|(n&21845)<<1;e=(e&52428)>>2|(e&13107)<<2,e=(e&61680)>>4|(e&3855)<<4,HV[n]=((e&65280)>>8|(e&255)<<8)>>1}function yv(n,e,i){const r=new Uint16Array(e);for(let a=0;a<n.length;a++)n[a]&&++r[n[a]-1];const o=new Uint16Array(e);for(let a=1;a<e;a++)o[a]=o[a-1]+r[a-1]<<1;let s;{s=new Uint16Array(1<<e);const a=15-e;for(let l=0;l<n.length;l++)if(n[l]){const u=l<<4|n[l],c=e-n[l];let d=o[n[l]-1]++<<c;for(const f=d|(1<<c)-1;d<=f;d++)s[HV[d]>>a]=u}}return s}const Gy=new Uint8Array(288);for(let n=0;n<144;n++)Gy[n]=8;for(let n=144;n<256;n++)Gy[n]=9;for(let n=256;n<280;n++)Gy[n]=7;for(let n=280;n<288;n++)Gy[n]=8;const GV=new Uint8Array(32);for(let n=0;n<32;n++)GV[n]=5;const rwe=yv(Gy,9),owe=yv(GV,5);function xT(n){let e=n[0];for(let i=1;i<n.length;i++)n[i]>e&&(e=n[i]);return e}function ba(n,e,i){const r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&i}function _T(n,e){const i=e/8|0;return(n[i]|n[i+1]<<8|n[i+2]<<16)>>(e&7)}function swe(n){return(n+7)/8|0}function awe(n,e){if(n[e++]!==31||n[e++]!==139||n[e++]!==8)throw new Error("invalid gzip data");const i=n[e++];e+=6,i&4&&(e+=(n[e+10]|n[e+11]<<8)+2);for(let r=(i>>3&1)+(i>>4&1);r>0;r-=+!n[e++]);return e+(i&2)}function eI(n,e,i=0,r=0){if(!(n.length-i))return;const o=awe(n,i);if(o===n.length-8)return;if(o>n.length-8)throw new Error("unexpected EOF");let s=o*8,a=0,l=0,u=0,c,d;const f=n.length*8;do{if(!c){a=ba(n,s,1);const b=ba(n,s+1,3);if(s+=3,b)if(b===1)c=rwe,d=owe,l=9,u=5;else if(b===2){const y=ba(n,s,31)+257,m=ba(n,s+10,15)+4,_=y+ba(n,s+5,31)+1;s+=14;const S=new Uint8Array(_),w=new Uint8Array(19);for(let P=0;P<m;++P)w[twe[P]]=ba(n,s+P*3,7);s+=m*3;const T=xT(w),A=(1<<T)-1,C=yv(w,T);for(let P=0;P<_;){const N=C[ba(n,s,A)];s+=N&15;const D=N>>4;if(D<16)S[P++]=D;else{let $=0,L=0;for(D===16?(L=3+ba(n,s,3),s+=2,$=S[P-1]):D===17?(L=3+ba(n,s,7),s+=3):D===18&&(L=11+ba(n,s,127),s+=7);L--;)S[P++]=$}}const R=S.subarray(0,y),E=S.subarray(y);l=xT(R),u=xT(E),c=yv(R,l),d=yv(E,u)}else throw new Error("invalid block type");else{const y=swe(s)+4,m=n[y-4]|n[y-3]<<8,_=y+m;if(_>n.length)throw new Error("unexpected EOF");e.set(n.subarray(y,_),r),r+=m,s=_*8;continue}if(s>f)throw new Error("unexpected EOF")}const h=(1<<l)-1,p=(1<<u)-1;let v=s;for(;;v=s){const b=c[_T(n,s)&h],y=b>>4;if(s+=b&15,s>f)throw new Error("unexpected EOF");if(!b)throw new Error("invalid length/literal");if(y<256)e[r++]=y;else if(y===256){v=s,c=void 0;break}else{let m=y-254;if(y>264){const A=y-257,C=$V[A];m=ba(n,s,(1<<C)-1)+zV[A],s+=C}if(!d)throw new Error("invalid distance map");const _=d[_T(n,s)&p],S=_>>4;if(!_)throw new Error("invalid distance");s+=_&15;let w=iwe[S];if(S>3){const A=UV[S];w+=_T(n,s)&(1<<A)-1,s+=A}if(s>f)throw new Error("unexpected EOF");const T=r+m;if(r<w)throw new Error("unexpected dictionary case");for(;r<T;r++)e[r]=e[r-w]}}s=v,c&&(a=1)}while(!a);if(r<e.length){const h=Math.ceil(s/8)+8;eI(n,e,h,r)}}const lwe=`
H4sIAAAAAAAAAzy96XIcx7Uu+tuI4DuU2meLxDbRAElNJgYHR0neGrgFyr7bPg5FdlV2dwHVVa3KKoBN
SRHggIHgAFKcBc4zJQIgOGIggYjDF6D+kf8U56K6GxH3Ie73rYRsGRLQnZWVwxq+tXKtlYlf0V40GAZ+
UQe6mBSU2+9GnvZUokw5GozCoGb8RLt+UouqOuxLTRL4/boYaz0Yxf2J3pfUtIqjAR0XIq8W4JdiFFcK
UdRfDVQt8Ad04Ie6rINqOapo43u6EsV81guisJSUdWXA14NFP/SqqoT31kwxDYKyVl6i44pWblnFWhXj
qJLEqa6ouF8VAp1Wo7Dsl8oYpw5U6IV60OgBHYYYj6uMLkRJuRqZJDXaqyhPl9GmrPHeskpCVdGf+WF/
IYhKxt+vC2iP8aFdP/r3QzwTr291/lSOAk+Hnhn0k/IX6B/D8AbRh/FLYYK2ZTWgS+jLaB26KgiqKikP
avw3SE1Fh2nRDypVFSd9kR8mZd8EvklKUYSxam8Q8xzUBt8VTAVzV4GJMJwo9t0y3m8CZZJEK0y3Uivi
mX4/LA36QaDx+aCKvQKeLfqx3oM16w+jQYUO89WwVMH6J5hsECmvhLU3OiiGUaIrqVsuaq5FWIsjt993
ozAKXR1gn8rYE8/X3ifYnzgNdBnrpvrUPj8sRm6QFgI1aAJtTFkFRcM9RF/7o1Bv6uj4D/zHuNigvaCj
WLm6EKTY/zQe1Lq/iL/LIJoS1gmbiP3G2Ms6xJr09+tqUlUGnfrVOIoqn+z9/DPQS7i3VgU9olM80691
tRioEuinH6vjFTGfBOONsecJaLYvrVQTrJaH/jAGfA8KBi1i9LV+rBXWISliX1SaRKCNOO+ChlTQD7qu
DmBNPPRfAa1jR5MkjcNChB/QCTghiCOj0zjYYLDwcRRoPApSTAyWG3ursY+Bl++rlsAalQEV1/BMAloO
DQjGi6Pq30DTblStbcp35LraVY9JsBABdsPHy7A+VfBZvuQXsQaJa8xfSrGq4Q3hu6WkM8Z+YIxJgHka
5aM75eEdDvYv6IvKIWikvxrFmJtJ1n+9rc0DXXa1F3qqURQXOG+s4df53vwg6KYCft1c3df5KfYyVmH/
IPoeVCFoKCAxef/s+FdnVaXBINbbpLH+XxvW/3FQ+UkFewPaM6VImxJ4AltTqmIs77S1OQHoJw39BPvG
fvpBh5VByI99lSBnyNOY4uaO6j4sHcY+iPlGQTEK0acfGFXEt+hZVY0LORCj72IQDRZUoWaqKjTgi/cw
3g/wA9YxoP0EfBcM+v0+ZEJiEhBO7GP6pfYAPDioVX+CvdgNmQO+x5qEBnvYj+2uxWlo+tKgBknWvwn9
lSIVlCACDN6nvZL2ve6c0Yl5H9/l+8xf3sOY/aKzwUQR9hFyAnSYpAW9X5MaQoxDe6DpBNwcYetAXnFl
00fVfS5kQBnrXsA49oOWByIssjK1GDwLmgyqGKOP9XJB/1vwrj7sfaJKpuAnBrQVgPmSfgiwELTbhQUu
YdH+2vvlF16a1L6gfFGBrkUp1j3BEvlhn9q/36VsqmlT9E15cHAwH/sGfRZMNdYDmzAP/K03Y2LbwY8e
xrGlo2NjAXsOKsDY4hCyxCtE+/JF5ccBxoP1Yt9xX4o5a7fsFze8UwWd6QE/+F8bcqCJuBLgWQ/0UIV8
3tjR0cFZerEaLKdgimqUFNPQK4CPyrEuQrIE/bpmEvRRBr2D9yHXdbAJxGhSP8GjwVe9vTmKfOxJ7eNd
e3NYM6180ByH5HsGS9sZqoFaCQyR+FXzxz//+c8YB2SjVwO/m9ZO54dqufoXyO4AfB0MQsHsL2/N/rN9
XYsD4QR5FeRbWrZ9iH6qqSlDkyRYmk4XNPCf7V3tZWi4D7FGkDFJDBnmvPuuA20SYD+hXUBVGETFh4zq
96sJ9h86Cvoh0CXQTBWb8R7WdF3LuhaX9A2ZkMdgugpxjwaDVrDXpdSHnA6wUQavBpMoSqSo0u5XSu/+
8aPNQQpdi36xlJ0gqloJ9FZOKpQSgRenpd1f7doVQj6FWMO/gFgDUiHWfoA6ALyF9XNA/3Gsg1oBOsiA
Vry0X4fKKFdV9SBoo5QGxb2bt2wtg9ZA90kJMgXCH7ovjSGvapsw//XrWztbO3M9FQOh5YN//NgzkC8F
Dc6BHN+76aOt2HpDBsD8gw+wiEXQw/8dumgKUc1AhuTRRW7Pl717CxhPP/autfOHH6C8alg3b8PX/9X6
bao87E29DQq3Df+D0K/imXXAHcneTX/eOuC7kH5ezdOFpAcTgywLQs1xRoN7N32w1YNs0wMq2Lvpw60B
1h90C3JUQRX8E0YDCvxgSjrUzv8dOmOiImRTRSe+yHHTVd4C2ZjGReCAKnRJVxL3QOf6rd+/swH/1RhX
swB6gnyJOzpaOyt+0O+0tfX4cRQC53geeGsQ+2QiP6imiWnvM+3ABrW9mzdv/bR3+xd7N3dsVZ6qYK3w
rs09fRCC6zc666Fik72bN211MB/oWYh6X1UgW7raqz0mSoPPPv1iF/gReCXGGry3tau8qecjrC1EQNef
Qad7O97bWgHW2vreB/8ADWg/dMv/A8wF8uKYV9a3toKuY+xJSUOngrRC4J7Q27rlw398ExW/Wf+v1k7Q
1ka0bSSQiTXihmgwKIAXtr7/wT/+qgbUFryv5fsfWv5jx5b/2LrlvX/06WJx1/+z51PI0vKAD3UH0jbA
F+hj9duUOhT8APqBrkqwdvkC6NADvZaBRSAvgJHCZOuWD/7xyd69e9o2d2wqRtDU6GPXFzudfRA4W99/
7x/bv9z5Px766Gz5oUXv89H+/X9AvxnQTrL+h9ZOYJEErN6pgOZ++KGr/Z/+v/KfQf/0V/7Po0G8JwHN
Kc8zkBYB2HFfZ8sffoDIikLsZR6KoaPj/VasRa0Pot6AqMCxkLNREWvR6mzu6ACNg4exGIB/wKngibjm
Yl+TGihLA1P4UZiHMnOh50p4L3Ri/n2s055yfifkAaCe4KsQfN0PWoGmUSH04T7QiQu6b/Ggc93Ar7ZC
+HyI57AOHTv/ttN8+K+ergR8SQTs/+lPrYPYN4CMqArlEVUTqPxA79723wZ0ErZt/mBvQHkOWv/6q8+c
QhoAl0f9nT+sa/lk17ad4LlWVShAXqtww6Y/fwR8VqZQ6Gr3QVuQJSlxNHCCX9Xft7W809GxuTUE0P/n
pn91/vNfnS2fRSUHeiVZ1/KHP0BflqBTKwXIp9bv1rV0kCawD/3R1v8Pcg1r3bPObG1vd/AgpCLxbWlD
63ctaOpAb67H9KpeqqD/VJL/656PW7Gx36ZRgv+2gMchIX9YB1J4Dz/v4+cD/HyIn4/w8+fNHfLPJvxs
xs8W/KDdZrTbjHab0W4z2m1Guy1otwXttqDdFrTbgnZb0G4L2m1hf/hsE77bhDab0LYDz3Tg2Q5814E2
HWjbgWfQARYDP2iHf4HQ8PMRfj7Ezwf4eR8/7+FnC34242cTftDuI7T7CO0+QruP0O4jtPsI7T5Cu4/Q
7iO0+wjtPkS7D9HuQ7T7EO0+RLsP0e5DtPsQ7T5Euw/R7gO0+wDtPkC7D9DuA7T7AO0+QLsP0O4DtPsA
7d5Hu/fR7n20ex/t3ke799HufbR7H+3eR7v3MeMOzvq9TVv+DLWEyeN/wKxR5dV1WBOJJuiqAsckkReV
gctdCCz1ajYq+BDQr6aUMq+mBnwPesMQcUWQSxEtEvyuXOyt5/dFsN0i4NQQupgWBaQpODYoRd+mr+4T
1YboEzoCUACcAx1UUH18H8k5UqVUVVNAzDACSwJ7Q4YFqU9VByOnFsGeUBCOcdXH+wt4Z8AGQeT5Efgi
5rj8189fP3z9Ej9Lr1/8OvT64a9Dvx769aB89vT1Mj5dwl9zaPUSvz+Rv5ZeP8N3S/hk7tfh15fR9in+
mf31KHo4+vrHX4/+egDfPsLvj/Dfy+zj9ezrq/j3InrCU6+vvb6Fz5++voS2B9Huinz6Av0/fH0eP2fw
c/nXQ/h8Fu97+voC3v/09fzrl/jsBf65gecOvX729sDb8Tc33468HX5zFz/zbw+9PYy/x97MvpnBN3fx
/ZG3o2/H3h5+O4yfQ/iEv4++uffmMX4//OY2nh2VPsbfHsQzo/jsF/R0j79J23H8fhht+d9Db55Ir8No
P/x25M3P+GwcbUbeTMkTw/jmCd7+BNjdJNh4HQWwphOY5bCDsTtAdbT6CTkKxIcxvzXU/rTsAX9AQ7At
fLfow3ImqIyrNHOhooHyYG0BkcFMh0iIPeA/owFq0yo9BobuAgNypBEHc38Qv9Bki60ABjCk5Q47uwqJ
DuyD9+o4hmEcQveqQpQm9AsAWCYBrcFAzP4ENgmkGYxQoMO4JO4FI7Y5qYew2YVZ6qbGhdET0+gLCjRj
CNFggwiVKXolYLcr2jsVvLvmU7PSW2AAv0PaoewerwfagJ4BHAI+gJJ/F4CxE/OAiR3Frq5SQdOQhkYr
+aEq4gnoUj8Blkw1vRn4ArgGqlPvSyJAVyJk9IxP8WyYAMQbU0j9IBHTF0pAA32lXg3M6NG8Dj1DUxP/
xdKVYQrT5WLAmlBrUMdoDOhDV4BHP0WIVRvQQLmmXPT3wbzGgMII6C+m5wXYFDgLOlIFMQzsmBat+TaF
fsaSVHU5ragQWpquC1/8C9DO0PZeARzpwrRxKVqw4sDo5QB2USjGzyBEjaZDx9CbYjx2DRER6wKmD2s+
Tcowk/AsXmew2El5kO4ZTtoD6bnEYgmXM60ksCcoVOKEzpTaDkiGflpwMX1L2FBYqoGqaSKPuMZ31FIx
07lMLhY2webFDkAt6aqaVmkeG1WtBrVPub8F4KpSWoVwpJ+E1IResKaG5rjBBsUQUNhaCsJ+ulpophFw
AxqYFI9VlTyL7klbIb0uIYmGviPt7SWxcuDmY3IARFsIfEBvToSFLSrQL/1KNZWCCLlbBtMPNH0V7Zyg
R2+W8QB3a7DKAhpLKulLYb4mZfooYFeakIMu0E3gRvQn0BnHCWp6RIxbc/lvgGM6WAwla/8gtxl4TodV
X7uE9X5QxEQ1zUpyHvS8X4HJqkgdPoxAwh40BynTZadJPWC/1C0XuM5xVAMqMv0amwcUg/mRLMBgDlcC
YD0py44SXdWiYhEk4UZVzcWEiQUWB3rgTluvHMRCTH8I9EecxERTCrY4phqF2FARMjAxCHd7KTI+I9WB
Vqu1yHVhaupishW43ZRBxQnXACYlGYd+N5PGgDtFvpIEjI3mWqVJ1IndSXSe9leFTAJjTwX/Q8oxeBmm
CnSLJR7Ep3gvzd4QUtCnc8Itf8X+6IqEhIzdMsGPpqfP0M1ovCgtwJKqhW4CbqIVHg1iL3WxRjaA9QKz
mHYpKGEAGwrepbfS7CBf9lJyEXjX+sTTCDsqAM5zdQct8F6KzSr4M6DfBSCXEkEkNQx4CnPrBDX09Bi6
5IyicwKbZzSRK+V4KIPGBlSxhPgzoYvV0MfGb2tkMNjk2HxDXy8Fd0zuDkswoLf0cMtKBN3tlRTyl5vs
7SFzol3oJRGkD2CE722gA7RAjwg9fuylCCPNJ3kHgXh8a8U1/xqMJrR12tthgimPBlqpVk12UcrTWu3c
RWKlLzjn0rqDdAwTceXCvMj1kImB+NUAnRiwhP392pQAPBIM972eOKJjGN/W2MFG0R2ENJ4bU3f4JRjR
g5DQngIBY0GM7qFHRofffN377h+3/LmTWHffNyRqKAIMLewD5fepfXlFq8GAZcp0vTn0HRO8Q56G0Kah
Gsj10AkQiteL3kSQBVYD8j6Ke6l7iDKxgxAK9BObPlUV8RDA7PZBc+CUWFHlYB6bexRsOGAvMCO4KFa5
tvb2v9MFauiHMnQcmz1kYswyKVPnhXRO/MVgAAmYlyQI8EUJl9D9WsTOaKiywVwP1h+MHaeUsVD0f6M+
303JkA91wi1pgflcc75roUeSHnNDtxZJBavtgQa+5WInsfgMC1FMxz9kB4YLYUu/SEKq1H68mSaV+LPp
0zM7yNjgbkg4SnSeExg6lOgIxVrT510hu1CrUZ76RtzbXkrRrPcpU4zB7XSPbPz+ezFUqjmMFZtHt0Qu
onuhqxC39xQxr9jQJ+fpalJ27AkA2NSllOdpgzgvOyFjSiHdVGaQo+JoOyFcunN0X0NlYUafY+ZOPp/v
agd0DUsFTpqHIA49h508VgB5x3EN0gLErovUFSX9Dc9B8hXSBmCIwrfYripPUOSgoKs9iXvo/jEcvKNA
IRRANHUDiLB94BI6Dco8pTFUuC59zY6BEDeAaqG4ho2zAZRKJ7r3DTEEXZ9GsDtJqF9OYoQZyecenQCd
g1QnmJvRG1o7c852wiM8mu7rozu+CpkY0MnT09rpFze0Uch6CsAR8Mro3YRWmD3PXfZps5eqEkqCk9GV
noKKcz15E7vdCSUDBFh3ziU6LIPWapvfE9GXpFUfdFkjDquC6TEJkIb4qg1lRx4CXfP4QAf0D5p215h2
nkB08ogCAiUtFgs+OqVn39D919EPTlOwY9e10KsPTKNT3e1890PnR+IF5JHKd7R/FQ+bXM7XB1mVebzl
xORnglRDz3KupspR1Epn+TYiUJ5WGTDiph7YQGmJDmax0rtps5gfWrGCdHR2VilV6FI0PF8wHfs+6Ojg
qUFO/LgFqo5EYcEqPkQZ0VsAButqp3MZM4JwauPmkaTymEfLHypkEgf2/p93b/vvrvY4Kum4SLf+DvLM
ZjpMechj6EnqAmMmCX3xZjPHAggW9rc633/vBPQM8jQn+GMHRJoDcnJ4bucNcsUp4Dr71Nb/96DxQdVd
9NzHgA41HnvAfiP8xYJVE+qZ7ZSdrc473Y5HzEqvB10tFaijfl2rwLwMeKKWpxvbqRI7g6fDGj2Jhggn
t4nLMUhATg9WpXfvtq/2krYcHzg23OjAlqc7oYUANz/gAwyIKxXyJQRfQsvwAIzQOgqr5F/yTEvUBtzC
Uwk5ajHUlA6dbyG9Lt8pLyro9dxM3+ve1EGF0MnjOie/OV/xeYiWo9sbUAPbs4OYqwBxqDdzpNjk1j/x
l+/pxAb/QROXyeKbNnfkHKpYiL6edS1UEN2eDxBAjscXWHDKzpY/FotFMBEgCxFejvAByhqPtdL7vEl4
ATirGlqHM+whbsUhHlW4XMQcJy2nQ6YNvNbm0dBqeTdIOul5NVvf++gfXTy7bYtTMBpPnhwqSKD1fjEV
qqbbyeU6oQygj7hqm3giAfGvQrrRI0rD7qj7PzbvdiiNYJoXdJdfKTn4yfVsdIp9hr85Oa7f53uj6nae
2OVCPRjUdmJP+t39WrCyHxArk0ne7ymqb3M9+8ttbripA7vZtinX2kkU3s3TQui3NKhRlhg6kzqxel3v
0GMRODz0gLJbJ7vv9NGWIMc73K08OHddyyBxCc8+TEpx4/GoowCm6U/IW+CjnMMzWuBnDI1OEPD3t6DR
NKr4JoItAhnqaTnboWfEVFMaoK9mIzpNXl1PfEhcoIBE0SciMJ6nk6DMFHKGfpSYQ1PorAKRCrhagcqK
1Lfpqyl6VYx59TiIVC31VFHz+IHeEACjhHZmhFElkaGHxQgF84w2UvR2BGmJR2S1iEeT1gGCFSECAF0Y
+lQ5PoUBvZoyHIsCQEs9cdrQeo+AfHVIvAi7ySPDEuzp+NV1wCLO2PXjvsiI20bFRFaAFmk1KtONKmSA
t0FnAJpHUO/KhDzGJzTTnKoCB2oerfniB4IocX1VBLTk8ZEPuIeFrUJSRIUU0yS6jhVILOCfiigSKCfe
j34LNOIwBJABXvTqcSXiJKM+/glc82qhzCZcgxrgv6sqaR8wMtBQXEypSPCiqAT7QPkl4OIBrgsdWAB8
WHzuJZa3gveAtqCvsXd0WYVhBAEGAOVizOAeumANFsenU6oMTRabCKAXK4VVBTO+ehxCcu2P6FgQ35QZ
4JhVNaphpCFBFhiOn0Uu2DmW4yPYSBgLhYjLx+jWMvSShCSa8NV12ny+2ECwnUBGrgxX0ZYMSBuYO+wA
DAOrAXStCZN1FZoYapHd4GnGQtAtBnRLLxpoqBTQ88ZXYyEqCiKZ1rFdwNAHVX9r32EUjSA3KtOpN+Cr
PghfIOhX96lzSPIxbGLQTZ8CeYOeYX6pgBpZB5pmMNCckj0EWI1MkPK4HpuMrgKuG56ghR3TTyiExDAG
lwedA3g5RgUi8aIBYCZDt59RlULEQ1uP7XxFbCu8oEwKqx0AuQ+rC9lPIw7T812FxXg11RfxVdgypYWn
KArABn5sUh1wBJEpiseGHkZut0yQ6wjLnf4o7qqCRRYRlinSbkLdEGif4ReFKKALE6sGIgT44oBeHZB9
cxkHgydga4AY2CMHdJ07jQ54LkXXJyXIfVInmZ18gplQKSkCZvzmir2VgOHRFSULaK2GdcMmBRWgy4gA
UpypNCuAUHxMi9OH7AJlYxIQ+JQlwPNVccaKwaZEqBmfx7jcMtobAOYQPPhY033TR+SoFV2y5l3aqp1e
RC2NjqHwCXpS61QDDRk652qGwxd1UeChTBxrgeEuT6/TKg1fkB4MW8qetAK1hadCmLqUPIQ1oEBYBtW0
AH2JpxgvAzxlSOcVsGCsGCRE55gBn8YuJhTLIWssHidYFVqghGYojlsW9wT2h07HWJcwKj9hnAvYFpYS
xwnejYK0EtLSiiEWaXGLw7BH+/RcAEiXknIR8g1mZ0wXOBYOuA5UDFlLLsYEtHjH0koFK0DLPObqaq9q
nU37YJ55Vcg6tyYqIKGVTxYFhLfSBHoXkgTWHLBEyRPjUhxdRpyEQFI+dnpQzPWqBjFqMl6pBgmZEuvS
kVAEc8eMM0IPrlBSVCwCBoMNMUA6EKFi00KFbgj6AsXJatIqo3+A0QKYS3QTeeLgBTwr86Q6lf7LoNRB
EA1mKj5b82WhT7uJuAWN9faCrCFb3HIscVsVjBAET59dWWgspLLFODFHiHuQGucKfvs2VXTkJZQ5dLAZ
OiC5g5yFxLTwoArjh1lJKxtrFfFwGRYU+sHSf0aZg+kkdEphbSm2K0TwGrJZM2pIe0lUKgVa3NCga54e
k25914UiBRURV1Vq1GSDKklgjcjhdVIUJ3dZsCWjm3I9jGnTHui9mAbCyTWxVcVjwn0HLYC2XAyH0qlk
/ZBG73MZhkIPQIn7ivGUZTGKUPOJuMSth9tgvzA2KAfoJ8Z5RPEAKVN/JStGNgeBkSkJLqiHXczEMHoA
gFs2I+cQ/NEpo5OSeHjIUyQg0CTQWZEgoQYRGlRE0NBb7MJMJrf6ocTbKVLLDnHeRbLL4s+FVPG8QO/i
CSTF4SAdmCXl1irC49jstFRmbJcWsK3pgy/5IcetoJl8vgsKwSUWhwCRswJP/GSE9ox9URx/JOepQj81
MREZDgE159LehBwAv5c9TUkdCy2BY4kBUoiLpMJYwZovnknhNS2ue/OFyBYvpXyw3kQ5OzCM+tIeIYV1
LMEU8gNwLlavRG87z3cLwjt05TEaC6xjPhbZRZ8sLSN6Vl1Zq4J4WYFiY1UFHWD3rC8MwoN0DkiX1DAL
0l4VlmPSZgdRpbytMOSnRI8jFHwKcQxZz/gWgB/03evGfjXBGOicJ5HSqoHI83xyKh1hJHvOsU28CFhH
rAOoEAJBCQ3wJEV7dK5ob4esIRaYDrQynRUqYHwh4wlzDuwbyA2uCWz37+i1wQCL/r5Ijgs+ETrPMzxm
gwvhQQogvgBcw+QDBdRV/kokYSIz4jkG+TyBDPKE/rcLp8P6SJOauIYp30pR0isSTFHSA6kJRUMqcbRW
I4hFnHAHY81vPhcJL1oItE33fK/oAhHzhiPQ3rthwVQ76dQ3Wgxxh6o69LrotnV4Pu7LeU13DswKbCHR
fcBKAxI9QWtoq7O3rB2PHrWSnEuZ7bs+/vQL53OwBPUyHfWu2ANlkcxKTIpP5S0UPInZVcFm616RpeB3
cIOHv93EHguAd8DpvcIX+ZaWL0Nx6miPJkuuZw9wuF8VZ5YpS2QCdg09fClSIpa1FyI2ofgTe0XaeJpO
G7pvg5qzQedL+YIuM+4iIp1gIiAcngNoiQLED0+dxLWbGMJCmZVv7PGTt4UG/veEdJ6it9Wt8QQISk5i
X2HQ72eUHqW90E9PQdcg/drE/0/pVE1EG3rEM6HeHUV0CChGf4pDpOUbiuyceGBFDhuTc9phw+XFGosk
MlUoIf5yH6PROD5sMKSZPyCcGxYlymqndcfSHs2papXaDMyT65HDRcMY137DCGAxwVx6bKFtMGeMVm+D
UgdK5LIRBGM/94iG7SrEGMsglUssp3Til9He99/TLcT553p8q8XAY6pGzs/1MNYI8kSHsD8h11LKEIC4
UNz8ZhM9g9+L+uEa4iM5TcnRc4O3k4g6ORMlukwFm+SMgZ+AyGMelBSxHMlWcTw4cuKV3yZaQA6WjLHH
fZQb3ifWuU9/YPz13t1tH+Xk6NHZLlog7/wd6IYHhX4k/mLgt5CxQTHQZtL336lEqpA+xdcCBAUBnwAF
gQ9g2ZS442RNekmc73wTKyy0qgl6cfFKeg1zPWWRGFwMHuaRv+UIych5aqcsgyfO1y5YCsLd3MO2Nka2
QkL5SQ2TYbQInlepeMOcTXKaERUS+qeJ04wSV9dG59PQpaNEezXhIAc6BPpFDo7zlOjakxOh2jck1vxu
QXR0XGvvc9GYgdGOX9wjmA173a9rrZ0SSyumdUmwmRwvm52CgX9gkO53YB80344+u9qLQuFyspkvCh6W
MwrTJZ5eHtw4HVV8VlEgOgxLTOAYZgBsN8EnnpzHGUbN+OH74oyiUwicRTsgzBMQbVADKhEbAKv3jUxJ
KMEIbyo5Kd5YFO0m6Eti0WkBY5gbhDviXsGBpF327NVyPS3/SWG3t8xthubBTPsIaWqMZe9q51FvsQYc
iy582DNxTY5wu3eIFBVHnKPkhOUbgXE8hlUe5dIAdLGLtZXzlpZesQ6cnXQGuwQmsZz8G/Foe9vovnYY
wRvUvH+fL+d6mAPAcVLgyWm6odmcGolHoJPyn//qlDiEfCmF8RMDHzDSlSPcytNZ7X1JcOHwWCPnQMql
PJHBJsNE4GGYnDVjlQBTisAu0Gg7rCUGgxlSVI6Ee0X7tLT8HVI5USCbWKIDtuJBRlfHRCeJrF6u1fmT
k5Md7ymk5Ag5xzWfi46mxiGSrAoEpEzmMVWuZ0DCDsQGjuUsExoKYIWWYELXWiLYHpsHzRSqgZ5+hj8b
yo1cjxxNm245H5YDYacsvXVYhm9p+TR0HAmT2AM7td9vk0XEOyAHt4vGl7NBp01oabPIHOZI5Ho6xOX6
pUi5NhFPFdIVCIN0y3hGp0PY0ZHgCCPWQasW64/o248ZG5dzHGskSM9twvzQX7v2VbfKkSpzJvyQRjsQ
IwM5jJxrrJOjb6flD+TBHgaH/QGfez0t8m1LQZUZNxRzk0qMtAVPlmDRVmWOJq7i3xIxM7YyN1U/N9qY
Hlp5eboxf2D1lzMry9frB2bweTb5sj52amXxwcrc0Mrcz9nwg2xirjF9vXFypDm9kF2ezCZmVhZv1y8d
z8av188/Wz3/BM1WFhZWFu5mpw80R3/Ons+uvDiwMvdT/ertxqWj2fPbKy8vNQ+caTxerD+6Xr90pPHy
VOOXi/UjQ/i9OXMY3fK9y4c4pF+uNc7cq489X71zbvX6Uz44NFwfR8uZ1fPTqzcuNCbnsuHHK3NHmy9f
1k9eajy5sfJyGY80X2JUz7JL9xoLyytzi2jZfHq4fu5i8+7I6o1T2eSV7Nbx+uN72cgxvn3xUv3Ms+b5
iWxkOJuer5+41zx+Mps7mF1aqD8bwzo07i9gXtnEqWzu0Mri0Mr8WHb7ZTZxtHHmav3JYja51Dgyym9n
z2Z3DtavXKofOVrHs+cerp5frF8awi/1c/PZi4ns2PmVhQf1iZMrS5Mc9sKJ+uST7NZPzeWLWDQsSGPx
auPq7dUDp+tzc/WxiWx+OTs1ng0/W1k8h/6b1+9l00ey4XuNB7IdL37KTl1oLk82rx9rHJzPRhcbR8bq
lw81zjzNpk6uzJ1rnD3WnF5qTl/Pho83n8zXz15sHnyUjV/Lhm9z2OP30C12Njs7gp3Kjv+UTd9onHiI
RVuZG68/fY65rLw8mz1/1FicaODZe0PNmTuNxZHGraXs2ELj4mL28mz90gPs3eqloeadAyuLz+vXXtTP
zNSPHQDZrF4cXj29VD9xG79n08+yxQUMpg4CmDi6emG4ObNYf3w2Wzq68vJ44+U0XlF/emJ16Ej96H2s
Rv3a8+zl6ezI8WxspDG7WD/xI+aYTV5bmQNd3apfOI1VzU6eWL36eGUeMz3ePPRydQjLOIpmoLTG3VMg
ElAmPsdLs1uj2ckxEE926y5GgvFj6RrXzjTuP1uZO432WNLVQ/dWr883Jqfx9tXRY83lC/ULM9mLoezu
0fqh4WzkKVa1efgUaJJ0dfpA48ixbG46G7+PT7Jj50hdCyfZ/9Qd/H9l/lp26WF2eaj+dKJ5d6w+fhYN
QPmNe0exUPXZg/WhE6Ai8Es2dDEbv4pxgkrxFQaAWaNxc3omu3oCRAjKwUJxT1/O1o9ONg9cyG4+rF84
sbK4yN05cDtbeF4/+7B+fLqxdILcOvuy+fLOyuLRxuLxlZcjmAVX7OkB0CpYElwGbuVcZi7XLyw1bi2Q
kBYms+NnsRFgW1AU1rx+5STHP7lUPz8MUsTIs+HnmBc6AZVmY+fBNdjHbO4cKC2bGWlcOwC2It2euJuN
PeOzxxayqwsgD6wtRoX2IKrV0eOcI6h34Vh27lL9wQ1QL6gRXWGRyQULk82hQ82Zs6B2kuLV+eb0FAZM
gjyznC1cqo9huxcaJ2ayG4dW71ysz81kJ49xGe/NghLw1OoQRM1QNv0T927iFDf99IH6tdFsdERed6J5
92Y28hgjxMKKTDuK/rOJ8eaTm1jS+tg5SBgwAmTOyuJNcFzj7gwWJLsNbl3AOnOmZ4ayM9PZKIbxsHFn
ERImWzgDmYNlQXtQI4bUeHGuuQTBchXcB7nXnLlBKsXWXwL/PqZwuHI4WxoD79d/nKqfWWosHm4sjmKO
jalzjckn4BqQRDY+Wb98G3RVv3hw9dxpCs+xh41DU6vn76GT1TPToF6s8+rlK9ncXPPobHNmqnFxKVu4
k80dq1+aJD3cflyfOdNcOtTgGEaadw9zZciJ0yT48/fqh0GfBxqPlrKX9+vnIcYpnVZ/uUBpcw+Ca371
8g3s4+roqezWYch8iJfViydBipB4q6efgd3IKZjU2MjKwi+NI/fJGosTzZO3688hYa5xhNPPsLONu8dB
ciKHn2NSZLrx69Qmp8ab0w8hSah9Fo82n9xbHZ1onHlOUnw5m50+nr04SxUwfhstMWbuxfIvq0NXsx/v
YVW59Q9/giTHRBpnHjdnSKX1a9exI82Z29mJkWziUTbxM7iguXwGYr/5ZGpl/mF28njj7kMRJiOgKDLg
zBPyFMTywpls6r7Iz9PUL/eOZgsToJPm2IP6pUPZ6evsjZv4LJs+tLJ8uT5+qzkEmXNmZXE8u3W/8fP5
bOImRGt96EBj/Bn/fWQ+G/ulOX0Lr8uWh1evL0LmQyNkDyf40rFT2RCplN/+/CP0b3ZsuH70werBm5AP
eC8lIeTnyDDF0UlMbZ6cDv69O4KZrl68Acak3lwexVAbZ2ahU0iokJyjC7LOx/FVfeompDomWL9wtX52
eGXhKOiH+vfaKOZI+T9+vbl0GpyIN4L8sOON60PQFxRlCyNkmcWFxhTo+TS0GxXQyUOQtyQqKJexH7OZ
eby3eQT8PkONPHKM/AtZcelq46fDfPaXo42pI42FuxDm2RWIponVn49l01fI42PPMH0MFVAB42lMLQm/
H81OXM3GJuvnr1FNQAMCEgwdJa4Ad4+N1o+NZsfPkwvOT61OjmSTN0QnCnNBrU9eq0/dagzfBZXWn89m
lx5jjiQ56NPnV4TOr4LIMR7okeYy5vUCCoLMTnl4GpwreoS6hmpl5jBUW/PukWzpPDnl+Amqs4WpbPoY
iKd++Cq/mj7SvDmMBuDQ1YPT1BEQgwt3Vm9eJQq6+LJx+Fnz5QOilPHb7G36IZEMZPt1vPcYGJ+79vAU
xchpSLBLzdvL4ERs4urwj9nCeTwOfbeyeKH+YAkSAOqeUgu7PH2MApbI5Bw0HTTp6o2RbOYFURbme2wR
FAK5wf8vTmTDc1zVyWvZ/ONsAlxwGFyZ3bgCPq1fPgl0RLK8cWVl/ije1TxATVo/O4YdJ23PPwEwg7Ij
xYIgwbYzR4A3oLZWlqfrZ+aziYMrcyfqR05nxx+CQyGNKeVuPGzePUhwMnWBYOzRUuP2leaJ57JQ9zHZ
xuLdxuLUystrwCGU/9CJ964DKUGUEW9ABt66ujo53Lx4on4a6uzS6s0TwBjkx6fPoeVJny9PA9U0rk4R
sl6+jpWvP1psnDvfXD5JhLNwF7OAuofEw7I0x4Bgx0CZxJ+TV4EQyFZnJ1aBoEjbh/EKoseHhyi0H48S
MQLBjt9rPrkKBZGNgE/R1TLAJ6i3fu4l4c3E+eb0PSwOeRYIeeL46p0xoqwXCxS/Q3ebxw5lYHkg5KMX
V16cWj3/COsJIqSWuXS8eXeIgn3iIB4Bs0BIkgexv8uXmzPAUUsr83fA4NyIp0ehGRt3idzA4FwcKLLp
n5oHrzduU+/Uz00BiQFdUAdhhcevgHewm8Cuq6OjnNfJ21BeRCPYu8lpstvYLDRv/dRhootLR6h/b402
b74kqoEgvbSApYPWy6bOg7yx0ZCfFPIjYNhTRE2Xb5AjgB4pD69AsLC3h09AYKBe4aZxYJjmwxv4f/3i
NLiJUmUOZDO+8uIapcHYL/WpY/XJR/Wjt0WPTBI2Dx8nB038TI15/hkV8ePR5r3x5tIS+Aucwh2cvkEY
OXQAvQF4410wGWiVPHkC6d149gi4lMgfGmr0Z7APmB3vgpYB1AG5rl6+z/1aoIalHAbdvoACugn9no1d
W714i4s/NtccP4iFAm7BjtQfXK+fnYPKzh6eoiYd+xE4DZqxfkRGBX48eYIIcPievPcpZMvKy8dQOo2p
M1ANRBrLl1d/ugShhxfVbw6BxrAX2DvoAkyz/uhHbjRk9dxc48xPzdHHHM/JEWJCID3oSkCaW4DEz/DS
5pXj2fxc484EMT9Q1ssbVGSjI8C6lCeArLBxxh7Why7XD4EIT1CPHJ8AF0ATYWrEz7dfgjtowhw7AlFJ
UoQEm4e5dIkE9uIX0Ay2m8bLEUiPwyBFbHf98jJoFSANIguMRnPpwmnMjpBvHJwySRENm+L4KBacanrh
DvfryH3y1NknAKIY3urQNUpO0tj51av3IU+aT+bYDyaIrZycWz1/idIY2uHlLDUdrCrIc+CZ6XmuMJZr
XKyky9chD2kqAj1Oc2tA8AJynmWzw2AcSM7m8hUwKRRQdhx24hIepGnw/G52+zZEBK0YaD0YsJdvW5MW
NAzaI81AmULpQNqPX+Hig6nvjEGjYYPAX6tnLmKjOYWTY8B7EOnZ0AsQGCc7eapx+Sb0MkQTrbCFn6Ge
Vi9QnVGiHlmuHx2GmF09uywct0AUAYsJWhi2yeITcBmEc31+KXt+J5t4DO5eWXwJEoKmAIvBqoL2h6yj
UQbaOHM1OwXz6ia4CfCVNjjo5wWoYr555BFIDvPCvtNUBDdBYsDAPwz6OU5RP3yX2wdNCsG4fJJkA6G0
fL75+CYx2zMA8tHs0lVC5acX67NXYdlRAZ24R+gLow/jvzxFfXrkLq0zkOXQNUgbgha0mV8WW3KhPjHR
XH6YTVyAlUSWX7xKfj8ivHDxfnNmiRDrGCU2cSMsOLz0xCJ10JHjsMppHcw/ARXVLx/E2EADK3MvQb1U
3xeh3Ubql37mHCFvaaTAzr0JCUMsdGQsu3y+ufALdgHzzRZGMGzgdhKe8Avt8UtXm7Py+SHYApcIdw9O
N6ZnAS1op88ehBLMJs5BllIbwlCdnMPKg7WJisdGVn+8CrsGfzauTxNXQ1YvHaVldHkIVkP9CiyFi80Z
IKJpoqDpy80nlyFRCVpunsDc6yfEWoeFNfNjNn0NPAKxQ7h1/2zzl3ONc0v4CoYJJQNGAsH7y0Vq0sPL
jV9u12cmRKRMZbcsR4/gE2qfW/frT26DrYgkJx42DtwERQGjYsr0n8z9DH2UTV+gOwImA5D/5BzV9NiF
xtnbhL54aglm3RiNo6VlAunJKVAg7dCx5Wz2aP3aBMURjESsNshm9Enj5wOkqAOnBYg+EHfKaTBF/fpN
Uuz4YwiTbOJOdusc+Xf4EPA8TQAChgvAbNnkpGjn682fgdJPrP50snH3ANaKy3X3MFRn/dlY88l8NjwL
LsuWLwA40UkFI3TuDvf95HFMtnHxBX0jL4ZgSVGNUrOfF01BSoPEgE1By1EsOPyO3mCtiIl6FTqagJ9o
kz4oohQggctXoaqw1+ACyrFh+iiwOFRGLy407g5hGQH8sCYQoasHxutjj0hFEzfp21m4lT2cJepYvgzz
XCwIMPJBvJqyhZiKLrJsdpYkB3V5+Cq4tT49Toq6fqV+8lL28Gg2C2V6ggba2PPmkxu0lW4+XL0K2EZ3
ED4hnLv8E+XG/COYRZgdRRww1eQ4LeiLp/DJKvj92DCkuvjQntESfDpJCAdD4OikCJxjGAxl2oWZxqUX
jcvYC0CUJ9k9KIhJIkmsz/Ff6Dp4caF+6BrIMrs5SmE4PNs8MkMn2PAwXTQP7mDHVy8CJz/DXIhegEAm
ZmCT4nXQkvQ8wHKBdUkbZIkegxsv0M/Ki/MAvfXzE/SDwVrEpmDjsNFT6HAGlLM6dJAC9sRV7DVAF8Ug
Ojk3CloCtG4sLkPKNe4RBTUWx7BiNDqO3IcdRx/LyUuNowCBk9jxlbnbFHoP55rLl7KRi5zypSOwZBu/
YJ2PwH5pzl4HmWGhOPLbLxuLl/FhdvwADdvlQ83lSUwKhgD0EZ1OLy5k48tsicE/uNl8OpHNw0I5Q2cm
cAKY6+Qp0Q4PKaiBu6aXgBUhc/iWp4eBYMk1156s/jTRuDxE6XTrLp2BF2bqM2dJIRcXKKuPnSOXTR8j
42Czrp6A8KT5A/ELpX/kNORt48wN+jfuHBQP1T1af8uXG4BYk9caT65RPgBbAnsfvEdcNLlEb+ThSVE9
4JGbUFsCmWjjU4NPH6mf+LEO4Dd7ZHX0mEi5SZhvNGzvL6zeOQfwTIvj3OHV+7NE13NH0YbrMALrnvwC
M3xl/sjqhcfZ8BHsPv1RLw6uLExnIwAGRxsn7lPHLd3CvhNDPjwFpQw6oT1+b5Zae/g5um2cWQRoIXp5
TKMV6p5YFED60EvQNh131x9QR8OyuHS0Pjdcv/1T/eSVxoNT9BJfO7C6SFQGyiHZz15tHp3AdhOdzi02
pq+vXnhWn37avLeYjYw3lhebM6cghME42YGfiIhevFiZP0Gjb3qGW/b8duPoUH346Mo8AOdc48QMmfoq
xNEi13z5KdHIFTp7geK4krCUjy1jOm7KMA4dDviM6/Ni35MQydgPfdePEl9XqlE1ir9NtZsyUIUnnl4k
AbOhBGwa1juIlQTOhmFUKcRa4mfDqo6ZhKUYvyohpcb1U095cs4eqTREn9KP8eQTiZqPq7HGe40uvVoI
JY7UDESM5ZDAUsN0klCVVYG5yyU5SGNIrpHQQg6b0Sjfpn7VBj4aia01KiiloXKjONaRTe5kSK8fqzj2
C4w+RG9lGbnmATgPMjhOVSn4axGJjDtlqLlhoN+rqVArxu242gbhSuyohOYWFENwY4mFxXhSxulJbE9U
YcBmMMBoQH6O+coqGQnANRKkG0pVACWRvIbnUIxm5im7p5nPHRV5xiaRnkbiYSJmTvhKgjM5R6yYG1Wq
NnNbG4n24a7FeIEv4Zk8v7WRkLHEfxqP8TeYY+z6qhp5GASztZPI8zlQ/F4IJKiYUQKYa8D6HX7kxr7x
sZvMQ8JOpewBv+siKQSrEmNlJb1KawZGRRJALRHKnpIeVFTk6mEF0FS38eCcK6OMnJUbiVWLGLNk+2c0
KFYqkrhBI1HXBpP1GWXLnBEJozax2v/qMd5Z8DnTlDFuUaC9KNEh9heTfbVgJDqP0bJ+qBjXhPFyZZTL
sKbIfXXd8/dL3Cdj//CUZHsp7v5+UrgfRNhFjpkkH7+6v8/HO149rur9pCpPDbya8nSkB3h2WVXMAq5o
hpAzlJVpQEyXKL667vqBqwp4SCKCJXzVQ594OupTVcxCgmFNQShEIqeNhNHGEi0cFmW1sdfccYb6GknX
5Uwx94IfFFREjgDhkCsNY5iUxDd60esnrxd/nfh1VLLkF14/xM8cs95/PS6fPPr1gOTKP8bvy78O4fOD
0ubpr0fwc0jy6n+ST2bx23PJqV+0mfavf5RnlyULf4q9SY8vfh3Fpy+YrY+/F/lvZvHj2SXJ6n+M1mvf
vz7Dsb2+yvfyO/QnGfySYf/i9YL091j6f8TeZWwvXl9/fe/1Sfz3IZ69a2chzz6Sb/Ekxn1DxvxEPuNb
X8h8Zdb49kf5BG/5dVhmzb5ZY4Atn+Cfl+j5R/vGtbEx1//H30eIZw+s9cA2Q+hx9t8VA+bwxEtZ0yvy
D9d6RN7+UNrYOgasLLAklQOW0DPHaesXLP16AL09+e3W2d9uj/52a/6322Py+9Bvt+bkk7O/3VqST47+
duvMb7ce/nbrZ/n3Pfl2Qhrg/8u/3ZqSp0b5ID9Bm1vy1Lz8e0QenJc2M/yF/15iGza+jd/7FHlaWl7i
//nU8G+3Hvx26478fv63W2Py1ZL8PiGdTMsb7/126+lanxzV7d//jXddkJFc+r2fIXmd9MPfn0rLe/LJ
vd/7RPsjMovp31dgWlpiDI/kkznpbVqeuiOfnJanRuTDB9JgSj55IN3+xAf51T1pc17Wdkh6G3oz//bw
2yNvbvPfb0ffPHxz982NN9NvZt/Mv5nBP3d//xw/T6Wuw8Lb8TezUslhhPUZ0J41GEbQfvbNM7Q7/PbQ
21H8fRefjr0dfntQ6jzMSyWHu/I5W7Biw8/o+SCrO6DfqTf30RPe+/YAPnuO3u7h7bPS8jZHhd+G0eIu
Ws5wtFJbYlwqScy/eYZvx98ewO9Tb36Rt3Jso+j3Jt/45sHaTEbx+2PWosB4Rt7MyJgey7tmMTvOlFUl
HrKWBFrelNoUw+jRjvhnmQlGgKdYo+IpnnqCnyl8MibVKlgN466Mlk/wPbOc1+/PYoQ30fcY5nkXT99c
+3yEb5OxcCZj+Ocgx4uWI2+mudry28/S5zDeePfNdZnduLRh66fcG1mf2bcHWR2Dq8Q1ln2ZkXHclPZY
Z+zdz1xdPDGCzx6gj2EZw8/ckzcP8Nt9rNIIWo7jrcNoz1ksvHmET0Ywh8fccRnPYanSwRW2ozuI9bkn
877LFUZPN4VGWLXjOvdExjG8tneHWNED35LmfsY3HNW9f6/6Y1mZQ/KueaGKGYwP45K3ch3mpbdR6X+U
MwfdzL55zjFIbJjkBjFGkrGnaZCUGeQaFG0EtsA6BjylVYlGlDAlj5U1pLqDRKoVlSn7UdhlY+wl5CSu
Ae5ITq9E0zNdn7rbZgKYOA1DyX6O+DirETCSV2KTmV3DPM5BHUjRReAzN9BpKKUXQs2s9n6iGxXWvBrU
qk3LNxLQN6DcGvpktHmvnRHL0aBTz5fciFhLdnIs88UbCiw/UfalaITNAzBr4cp8C8Nddcx4V0bIsPhA
mZHRgY27zytPch6lsof2BrVEOwu2dJlU7aUuy9zwL4AZhnwync1VoU2e8Ewq0xXQzNwit8y0hTSWOhbM
MmHBkQLARU2ilKV0p2K+pxRui5mYgO8qimnu2oYlGlkCAoKQWAGDKDHODyBHJzWbjyFrzVQyicn3EkCf
EtMUGGlrGJbJeLhAcncJ1kJCd4Yo1wjiMVymjDPMSYK+mFJXldSEgLFMNpdkYx86wyN4u2wn666hb/ul
3sfgWbOWW1FgvKard3GmprzD0llSjhlytUfCpR1gRFv2gaHxiRqQ6DsaCJi7pBuVdC9IgZXuiGfjmqdd
RjYxWZXJI77h/rHuB5aYxRP8hHU2GbxYkoS6gPTBlAEtLY0NdJL6GKxRIfmuLN4IeG2zHIxNyjA2PptF
u7hmJDDsAGOAfckOIWl4fonIvOq7XJ5ttuZKhcYGV14x6DewO23TZKxFpAIQLinSZk+027B4I3GdAI1a
4sYYKcv5pSZxCtpmdpi/WWpNmWwQ1DSTzjzmSDBgjQH+wmMDfgRIiYXE5xylJB0IzXe1p0HPuhYGvbKo
QCB1SSSezw8ZwcfQTabylbSyU2EBNIB6icDXXlXSDMLUvn+nnburJK3775bVGEmbMikHbOSCysEj2tvG
8iFMyaB9A9IocascG+dmg3oZx0dq2JYy6ywp6UTmLqkthkPBX3vsFrtK+NcmyDDPQJJdiOpdzfwBbrCs
tSHVwTLp3iRv+sQKAafbCfWgs8Pug01t8npJISr4wsoeyhBfSjiQScDX5IcdzG4rST2iAgsyMmTTFLTk
kkgsuPZ26jQxTOkJSfMSvx/bOjssJpMM6rXk/qBm7PxAUpx0r2VfyJcqyXNf2S/4CRN+32lr22GFh9TA
YUL1APchSiUKdC3vZS05ZoMVWtWUNqAWOd2dsyH3DgPOpTCHUMinYktyT0AFzCICm9VsYotp28Sagi2S
iBBXdlhhxeK0oc0KIoFVmVpTYoEUhklawSkx/Nr7mNQfQgozC8hjaG1c6fFhuaSeHixrS1LMBPF67Y65
KmGg/jarA2xOkS3wBG4IfT4v0kbXmOeCld/B7MBSVGbJEVX72HI4M4ZAtButCBKSAilq1qUukRkHSLuG
gYmSewXCpwAKavmWFiYL4LUOiMwD7YADtkMyYHN3UOpCSWKJHZab9NFKfxpLLeqcIxnYNo3D0L71pSgz
sxU+syK9nErCox86bAVJoPzY7MAKMp2ZGYYqKMQ2PNuXPKtAWpe2sg5vd85mTzhrSUqM9MeagZkrfsos
kH7MdluFZUjVLk9y4/9l5/651dpMS3GSSCI7u3NUpoHex6hpUkEimQcFRs4OaKn4peM2m35n0+kMazLg
cZb3xdx3gxmK0T4qNwYmQ1fRaBZhBZW1z6+klbIVcpArvhfUIJ8rUoUUVAIFj3Gy7LfEexupbYWpYATa
5lanrPYaKpPUQJ54q9NrcUjMDMVUU5ZEldpXFlZgzUQ3UiZTwKFnvE8JeeftEmyzqGSXR43sGF0iF38V
QZQnjk3nMHuU61vRzNyAtOoMSvkihrtuHdQOy35vEy25lqVhvrHZeiy5hEkrVwQEKyhj36Xohva2OhLK
m1gwVKDWNUkBO1H0E8ZFY4C9VsCzMinWDBIYHZpKJPKFdfLwH984LGjOucdGi6cEW8H61N05UXUgaFYW
GmDMP1MRuA9SubSiuaL78P6KzQeOtU0M2qrFreZhkRzWBWJ4tgIPi0oeVDUuubMtZR6rzTIzOyz4slll
RorAQY+zaJqR1BAMQipgrGupsqY1NHosqZEu641XE8FuDCSOJVnNBm3bNE4WAmOKnLN+PRkPAoRzhzIN
JIcVwhwyxKp5C7C0AlmCKZlWLeKCyWqmNS9JPpJx7K7lIUGTiGvH+sI8G9Tv2BycWIquMU6ftYr0Lgny
hzAWbb+WZLnDQj9ffGZBCFlO6JDKNn5jUyKY0kE6Y0B0rodCPCAslM6oCPBdGyBn/1oamfb+mrI8MvVR
VSrEQQtXzN4yVJxxKtF+ohtuoy9lWZjWqC0zQ8BT3G0VitpYZvkt7X0Z1CoAGt9YIWkTWY0Up8LEAKlC
313LorTpjIzPB1IUH24iwkN2xObHSpGxoFayibBSIgv0Z4vUUPGxG6sULeXnWZWi7FdZsMdnaq2ILsnO
IUxhQSIvTWSrmB3KbEQLGRP5viS8FjAZgTmE2y2eB/rle39wpDDPHgsnoSIprViyHiS2G4QBQW/TE41k
0mlvF3mHGqdIbc9UXAAe3lcAadOrZS5tdpV2WyjNPLKoyCImLB8kpYuorkPmXLJc1oaO1naWku6T6toU
F9aM6E10taxDJhDo0IkKYlRIeaZ1LZ9L5pnDFcNQc44UvbEpywZ6ZTeIvKXlc7CRY3OzjMTyYx+s1Cv6
AslYJANDo8NUyhsy6wIWiqwSCya5PowRgHRj+iwtfaxZLMDZziI5acWWJupJBn1BZhETM2qs7s7ycwq4
PNaOTaNgDRnaY+WYTkQyLdlRcrIEXEKUsmrxuhZnhzXuQOvgSZb0Nxgg3+4oI2/3wT6SWthFtujpYuV7
AAlBDutabL6esWPRdkG2EsyiF9ci4002/UDKi7U4xu5YwdbMsgmnzqCWtLyODluvDfQOIgQMpQSTyh8Q
nj5VuFPwea1CjddbOCxq6nADWRwdf70bK6iETl7XwMrbrLwWljZY4t2JfwFVMXmP9OkzNYSlgPiGbVaU
/A2wDPbnAIiRX6YUMsZlCUIViGp1uv9uhYdUCYOIdUSd2mQVr0tJYi8TkbCYzjbI39gXHVfWO383VxMo
Eo/pLgOcEdOWOwuKgsWwMDdHBglIoxgiA2tKHe4o2pS0PoFH2dlfmZIIyCGZJpLwRjVh0zRsGoizW3Jd
HKIZsm+tSnKT0ocubcWKL3URQ8cvWqMpsQlhHgkIr223UqBgs23axG7ZyoqcYvczLTsv+VO5HowMb01g
gwRarD3SvOT84Dsscuonu+WyAY95T+QL6gFlpD5ergez5DrbNFkASN4Y0MNrMZyC3DKCTVWOSK0KDdS4
1i6ZU/mihQAe9gTqjMVpoNlci9ml5IHYMrS+/ES0fZiKSPqr1FB3RFSahNAPfxal+CRlAbiSZb1Ye9MK
FGewHHG4JNKURTSkMIUByMd4ZelYMlPy3W1Ct+mVmgUOy/hzN6MKt5NICURF/YcX2aTFrkKNm+l8YSHq
HuvssCmvLKdJ9mDiEnR5L9gD/UlNt6C2h5oJEjJyeIJFyyallUyj1NgqCcwZpnYykpVseIUKlon1hGhl
KclrosUOoWOTCDe02UQsMSNyPbR6Er/aa01nW+nA7E3jfgxCCqfqOC8lNDcILmhpKVgalNJ1vIaDeZpr
lR+6v2JdjNiTbPKgVuU9KL6Yxf7vKUQtkuq09Y9pIAwkh2ZGLlIQCQZTwJXy8AIdtJuu+UOMFFPFxHZa
J5dd1patjlQClLpvPMZKIRwqYlBhq+iewvj2SXU7SW9d12KrHOT/sq8SOANyr43YaqwAxzoC3CTeqYA2
Gvi4ra2nNQ+OjTfYjD3Dy1XwAOtA4X9iVu/Xf2MaKAhF0kRB47HbnWvfY31IHrPL6UkSzJdYILhHSmk4
vLXG8cO/snJbWd5MgGlttS7JRu9RjsBg3tsQrpcrReKNzi7r4SnCtiMqI8NE8ScpzaHaNj+2NQ5kKiAb
Wi6fS5mVwOb6mT1rjqWNQFWe49i8wTX3D0vUSiZ9ESzdYktgmI/lJh1nm7Vz+GxFiZ6zlTEAEGsscSc6
QEQz2xtKLyBe37B2HCxz1smPmIQGHJzEO2y1ks9TA2Ri/m7NKxhUFcGm4r2jtsZ6fip5ohuldmZQa6ed
+40Cy8idAlKLYMO2VMoskkVBbta7tfHTUDgOkJg79ol2eEmPTQU32+Qwttbyhz+w4thOGJUaQsjaapIM
l+thajdYRnDPfr0Ndl9ZVTbY0hHfWQaqptJ1q6ixDTbrsWXntr3b/un8J3EicIXYRTQqEoxeEtfphWN1
xZrzjdT7Wy9iBrJMUjmNX9xA2PBpIsN9l5fQdDq5HqlDyxtuQC9fWh+ntkCXV+KI7GHuZlgS9ONEoZT7
FVhRrLmUfOQq65dKoPMHQ1rVrPkZDpA8hVHDEjcM3/EKEJBwzoFF3J3zmLIdVe0bEsyBFGAzZA2Mf46C
1SnBzSpwaby3doqksMmCChiCcn5A1L/4DqFet1nvK2vz6jRW1ockR9pglSAgJhpcm5ioGSPOv2JNBJFU
Xyn6ZG0M2k12WqxIkxXL0yJ76tiCK5KPiV4+k5IHznZq2KhIbSjuxZAXx1ANglL66aTsTyQ5eb1NjMw5
tpRN96CVptTyX/mlzhaZH8thcIbbsFEbHTdOpX4N6xrkeujHRL9ScNOwmB2NbBoG6e+GprFZwQ7YkC4K
wYrdTss6KXqZRFJk4Ctrse+xfuHdFmvsoaOApXmkdMXf/JiktVaQYYd1a+2xaNTmwndWCRVY60LR5fmZ
WKuOrWNitoUATGHN6nfnK+va2WWtcmt+GNdSOTYdlGKhGB0oYvW02UI0X1g8KLmgAJm/V4dQLCdkS3IY
3rJEcCLFgoxIvkKN+lbqdsf96BP0CYKsAXzSFcjv0Lmy8owXRmHjWlp6oSid9VIFeb2tumH6dY0Fw0X3
BwFT1NFSKta2dtI7qQcdW63HkVrZEKaxwwRmKaXQuTbaTvG9Qh9JnrexCbAOvRE6KPZar8puLUnbA6KE
tdRDMmV6YKGWEvqXgGRdqZlAde6wShS1p9mZ9lMq2jJBG8Ug9pNBK/J4CxE2QDmSYpzbmisnSZVvBifa
qhMtUnYoqNlaNLFrDQcyOnsXXBf22uME+jvxooDlnJNa0doWFPIANdraVSalo0n3ihXplC1dfyUlTkKp
H2CSbQHdKUqUjXg9aF4J9s315AWGel4kOKtoF4T1V9GG/hCVlHdajbfDuo5tzRvTapUNhrAG03gjHFGC
FV30yX1qDc2iX0w0L8FxeBlbXkp35uVagtAr2nLysNVYSgg8FUi+dgny2+12PsfL82JkQ/pZZFy1BUCU
I3WtWX8NS8AK9hQC4v9yCmK2xLzZzKH1TDXvsFaCw+AWwfqxVCVZK3LECgqJaKdE6gEHUeoVY7pa0Nnn
4qzYxMMu+ntgQULpbbfuYaL+SB5giNGA5VupEA/wLDXsPF6zApFhazo4UmhEe59Zv/cnUhDKkRufarw4
CH/VxNsEaSoFMyRqiBCDlehzPUZGUOJVP6DB7ZKV3cqqddjs2NZe+hjKmGdn2AAHmiZl7TXP1iMwLA7s
gFisS49lNrnF1I1YCSV2jqVIKQCAR6G5vMhNZSHLrK0vxfRZmaaYWg+UY4te9OxmuTdTo7YXONWHzfS+
tsceHK64FCIe8tgzRUecAa5OBVw4n1t72ubzt2gaE2FS0OJbgyzYwfpo/j4SEbV9xXf/2CH/I+HF9Et5
gKaOLTTmiLYFYgGxyAoCmzrdUl+Y50Cs2mH2WFDKewyIIxN5bzEV5/SA3LlUsrWYoAPExmdsFCxZqeKt
1+q8GPKYppdONIq40VzyB6tw2NJnbbwlhv4CFZJZbGY9ltIhGmvNQ2tuaBWnUWunFA62jEetbaUNT1Op
jmKfdflsySPD8qv4sZ5Z8LpDYbdD0Lax1aec7akYmms1jPZaqwDsK/Rd1axaUYo8VqXbq0qkz23CVFup
tiBYvpIKLaB0hmDJDZQQSLb0wbufsSBQEA5qhyyxw57H/TWFVDcVa6/QtUJdJScTDiS+4Vgg4mjASdXw
9RuF+GBNRWwdtIiGZDla1iehtUGrcA0mQFUQhtryVrZqmNnOGg+x1P/hATj5HqLZ0iAvz3RYfj6G3o53
WzdTH0+vYX2KLs/nrXlMaBKy3I3Dq1NsaSLWwwHfh/KfxMYk5hw5vokd1gimBMXrwkhuKBOqgwypVUCB
YhDwdgsdd9iyEIQHQL8Wj+fa/9PpeuefO8RIc7ojcY44tF3BR3K1m+dY9EuzxfxbvRjHGhcQhnhgUA4H
XWOrn/HaSpZO4Y2QFICYP5duzUcq0s1xbKm4H8Rrt8EWEiyz2Foh2jdoVZ2dmMdabfvBY44XwTSJrXM8
74iCHhzM57CfBTGIS1LxPdrKdcNa5x1xnFl3kfn+++9+6Bz0BQJERVML7fLwnNRITVJNDyeJnVVX9sYq
FUHqGFvAzhoqXWCnXkClbdYLbs3cvLUGkx3WGhSCzDl/9wOAj4pJYcUWeOdYit0q+FJbNy9XAmywxRAd
W3fQSJ2YqBiyJpoKdtiTbNayC5TcVYAFkdsAglqbdfG02SKLXe2B39PSknfEvQjGIxVD/NLRv2vNJy51
vpwBX4mtVmW1ygCkR89enAaCnmNxxrmWGwkKWK8vDSgIy2T6qN9WT9zYbYlow1rhNPGzAgFLkXfWasby
fS6VS5z/4j2rXm2tGhSL97Mz8aV72+WKVyPV+7vaCeqIbWw9RwJ4SOGyXyHV0IwoYBvFjsuzzj9Lg8Pe
5LWOnFYSmby959ET50OVxdKSmqWvrb4QdO0ze9KrHGGFT3RcEB6N/X5Qsq2HmF8r9yjF/9aOvqu8BBLs
JJ602LHy06GPEyYd0AXveKRTFEwSW0wkZ+OOw1OPCu8u9WORtNBxfvJfFvkDC0ehH9l6jc5aecA1PWFL
EtI1Sm9orpUXqW0QZ0DAw21KFFtVbW3QG/fYqAEsI+8YdOgT7845Vp/5oTgDuuwxhq1s87eerv/dDpFI
FxBPpC1YNyzIGgPeihKWO1aUeafbWY+/6Q6Va2vjBCtha8Fs3RarApAcpTDm7lp3EauLcbZyCthmKwZu
BClRb7D6Mr6jygSr7Qi4ciFLqdEZVxJ9a523UhWfYmbtLNJqPEydtbh3WAvTFq8yPdZslZWg1w/YsxDY
knqORFZgKmIV5Ktma875i2NvjklATjzqYsl2bKqtt2ikyD5GxjtE6MbwSDeEFYIS0Hl3jorInkkxzmO7
KsCeCe352JqYEXcDz2ATOYLbZgS+2kp0htznx2Rd+glpdoN+PmHF4SjcvOa5dF2iC1sk1GE5fh6dWpjW
KrfobahSmqF765MFm/01DWpYxj85OSJcHnDS7Qq0RqcT6FEsYbr6HLntdP2f1kMdWkTs2BpqVDYcjq2z
Z3i5MneFZ95qrRCo02VJimBLDiHZcgNLtoERSC4wMcC0vBI678i5mlxgIiU68Xut3fJvoSTIB4qBG/6p
vfNCLhsB9LPwYHN1n7Oluq9PbjPJy61IjrIVVPMwVIhYLD23dYtPrpP0SdUkBWPztk9HVKTTbWu3bqSt
w5vpbGFAW2CKTjIGIPE6TEcZW7PUkwKCsa3N3+JQCUdSZZWIumjphfoxpMfXoduDS051Zc8PBy2sGCyL
F5ZnXeDiQtzD+z6tL8exJ8TdoqSAIFLa9to34j9TskXONq/ix+Lu3ae9Tlv91vncxijtIV1vdChJYj8i
luIRYiwKFvzO0ondObn2hIWg7GEw0a+SmYiQFfQrwlhuPXCwWBUif96L5bCmGXgyTQzkkinW0G1RiggC
v0D2RGKk2UJpRogvpMMM7F8hbOLBii8g0fPFqb2bh7MwXsUzt8EWz6Q/sopubJyHQ2KgUqA1wSNXnjsb
dy3MgMWsfi8m10ZDDVsFKxm6uWZrT5p2q0Z3xBEGrBxb75FXMHBiiZiDIiCwD1o0Xet3jB2DjBOAFVhT
j5dVQaPtlv/lLE/n5IoH5TDJI6oZIimHd8XwEo3QHgbHFSvB0oJcwRBriWUjFANFWpjWI8GPmJiWG3a/
sEcGfmjLAUeyGH9nSdb15gt7rCpFJlUoxwm0A0Q7QmYRtNlyvTUiK7keVzSercv5HWE/KwFKDVXwoESG
5K3v35FKYRvk3qZcT8oa+rkep5cOZTotBkQFQPtCW0F/Yv8IfVnwGMIGk7anco5jjyPoMgFZbcjt/PLz
HZENOBQ+Z1yEmDnOf9mwDVtTkIfIEk8UUf0OWgjdaWFa4q0JapEhYQUGFX0ezOohHhbPl6We9aJFocGl
vq+3nSFcsG+jxJYKk1ph1i7eXBJfTHWHDSHJr9WhtmVfJVihzANYnjsy6JCyzpVeRLfxpMKxIVyMHTA0
FcpSzJDxWZwAZIONhesuWD8fDSlozO5uh26VLkuuLVJulGdZclQrzLhWfDQvGD0KqdihPvPWh8gzLFo2
oN9iFNsCsY6tVYhpyz1jkZWRtuhfnnJQSEwitHZYb72xlYA5aMyGRAqOJsrCjlpxz70jCZNOfMzInv9h
YVmUkbQL+CclDBl6IjDNHlt9U7DwADiYVz18asG6LQG+UTlyhsPHsRRfSP0/R24A0TFvfWfZbHatfq+L
OxiJ33yDLWJsUYWIGsy1zTLgHql7KUsrsCLmVlkr6Rtb/3qjxFlI2KkfeRvpc7fnt9avJoGDcri+FuPJ
2pUErrVtNhAlkXPDWr/FGqKC17WQm7AriqFXURimLFoa7LABjuLsZ0KRUGsUC5Cg1waLiuYb8aEby31l
tkRem41rNl+6PCrjZQ000iwHOPR84YGd1uug6dQjYjFlnqvxnraAJ3eBdTPhz24/kZgVBlgNUE7Y0FJR
KGvFDY0luhZrpOV9mo7Qg9b0snrzG+Xw0jGAoX6WvLehUBuJqDGxbyyBymVhvH+EK7DRRttBwcrCFITx
KnKHHNSn1IF37BmfQz4TNWGIjW0NZcfSmRE0EddskXTj2EOiPTZ+CUKGW2djyL2i3HrIg3VyhxzD+yGj
9ABUqKDpMbMucV5nxMViiV9YPvZgWmKCgkBu2HOULd7p2IrfeXZNDfaZElzBI+E0+QQLCCoQ67pQ4/Ga
tXp4Gub5Uji6IGFMNTF9AmX1mJFal4khj5VIHvS+hrEupub3utJO99e9fKbXHpPZsphGzmhBjrICeUoL
vM+etG/kdZA8h02lXqSwUxBY8NRu5co339i6rJ+oGCLPa5c7l6yME0xJ7ypjvRhwwTLzQIf9NWye+poZ
cJ6WA811LdsSVv5VcoSd2nu1aht5T3RAYwt/5XrWqmDKbYuOAlynNxzUw4WVCvbYvLWAbRECDquiOt+1
2Pgj3gfNSW8UZqT2oneUltrfef+05o67SmjiE9ZapiSSoIW1upLfWaJlHB19HkWJTeWC8I5yzA8jq9i3
MyBpkLE4ScwcR16yhZUVXcoBVOi45tpH8deGkS5d1E4E1qxL65s2GyVWtp49lsPEW2h9yh2MmgcIvI6N
/t1EbBlqbdpLcophfBtcVrQqYXtaBLiKbHnOLnG+Q17H3P9ohz0yECvHD20N0LXgcVGfAN6wbgcA9m11
fOcHXqLFEzaHHcmNOirg0VnI8F/KwfYk5bWPLGbLg/BesF5F4n95DNjmdCmnHNvrFqCsnS++3OvYcvob
ZU8UhF/s2Jr5dNMnVsOKKbmuxSr7fNlyh4yQp2A+j2dyZM5cT1QAfmL5Yp5oRzmqh6Ivih1rtIvBWjDE
pJq7H4olT9kM0lcsIp/ov/I2Lx3/D33v7ziEU1hthiBI+C/ltGNslB5GSqDxFxuMavMl1tS1U/Dl7kpR
sN05LIbMKBG7+itJt9hoK0A7toC2Y+NRBuUeWFAn/SbKqVqfVWQFfJvdwE4bemSLqTu2KrKNr9CDVauL
5YImR8qeY9LKkXiKDb4otzXHQqc9+9bh/hqDk8QxQXlF8vnOHgtxlKpawzDIV/TsiFedPvsWuWiNOlB8
6f877ejYskOJz9BREunwhz/YaFXhTEjSrt4dX326Z+9XNoDFVltvl6DzaN/22qfehtw+SQA1GwftMSfG
YoQoiw64zJbldyxANc7XdOjK2WFZSTly7JFscaHG8to8ULMHHdaw9dptIX57PVc4EAXEKHgDT/mUZdiC
Pb7/1B7Di8e4FPHAHgO1bOTYOLIu67NQnSwL3dVuy6Abia9SiUUONgUg1o6tAS783V5WjtjsVRtd+wn1
UTc9ZFxn5kUDCfxNSchf9z//1bmhmNra5Ka9R9zhdL1Bo35q10X4oesdewBkHBsSsl37fRJZBSX46ppn
w/YlI1unEKj9kNElpf0AJgqEI/62jjdFU0v1aWY/4P2JvQSmwtRgN6q+ul6S2yhhcjBIWi5Uidwk5RVU
qYQIswuSvzRQ9i4HJrWbf2fEK559vrrP+AnXV8Z+p2wOVWTT8Vmlnem+Nu5Cha8W8FykmPvtMUuYsboV
DKLASx+p2WxKfGRvkoI93Cc2kWDicrSWby5ZRV7EcuolxojKpRtMJecVfrydkTh/wIarcpzRqwVexRyJ
7oiMTW2KbJKQvcJJsk5iFqDntU5+hAHxlqSK5LhHNmPcaOsMkmu1mPeCpYppfepXs1EiYTq8MsrzS5Fc
SeHJPqAzcQ34SllnHFaC2VOllA782BYAMGu1BfiXr8XM54VETOSC8Hs1laS8SCnkvUzMOucNSBS9fVFR
9IqSbCuet/E7JRFyENKS4W6wYAyGxuj9V49DCZtKJF8WA7RJ+fbKA8Nbf1xWL3BdtoTtg6nHcnGX3J/L
qERe6hO/uk5bJ/bXKhOYytq+M0t/CjgPdBMqu+RSlAFj4e1CPu+2qjBznBLn1UIoV4RFciFYhdeEYVmV
VASQeH/GWsht2RV7bTNtMZ7W8zCdfxPkMy4LPKmAo9bSkHhpppwA8qSLThe5ozjmHaL2loDfb7LR+2za
jXjksR90olJKcqsSOdn3GIJTW0tENGtTDtYS6cz+Nol22LqWdgOcUGTujbbJCwnvx2LaPSuuJyLfbMqI
WcvW8Yhf+aAE7sp8fcnbov+JjkdGkZGemVnFUHQbR6YCGvdEnzboSMdruVxAj0YS6GjLgzoCXt9MrL+W
uyPCjup0LZfOSDIBgUZYk3QlVTASXSk5ejzXHbC3ccOYV/sZOyYRFIwvtMf04vXEiwesbHO61s6SaYAz
NoPHDwxES6KSiMK1pByvILcHsR79oFgaa/smnjY68sxadtJna/tsvTvMm7T5bXLrNd8PecsYiQo4kIEz
vycWWIUd1ORgnRk0crtrTLZQVAZFLvcAs1m0uG8lKlRuppEY+4RpRv8/W2/aJNd5XgnKu1Hd6H1fr1Pt
ZmFcqALk6Qk3qlAOECRFyNxCgKye8fQoblXeqrpEVmZ13kwASUkRAEhwEynKtkjJMm2KIkhCEAGCAAEC
IAl+gP2d/GQw5os7goSoiZnfMPOcc57nvW+yRwuqKpd73/uuz3LOedA2iFUgTqdk7CrKRPK4IFuuZAUp
0p+c3dn0bSuiEr1D0VChzEYsmGJdpVA6y1sojWIvMM5I/ilG1+YpDHz7vm07rBwIfx9mEau0DlnichPj
D6gponOw+jEPiMW3uRnsRgQB7MojZBExH/lc9syen5sQvmVDqNoGVXeveCCIbc4irqEcCrwK1UbAfB5j
6neJcpiU9XAV1WMVquJ8I6oMzBkgI5091TjQvLsxaIiaAGAH7QfIFW5YubWFc2DDSZ2qDbO8ZJvSmGEy
EQY6he/SPW2iZl04CdFj8BPC1NfsQxWJp+vS5QccGzHm1ZGQYnbf9XrnSt1fcMJZrENNN/KLZIx4u229
4LCxCXDM+h4BIuLdUHS0i4fEclCRt9VVds39vk4AGOACY42T/roH+JYdjd/dUwTxdMRy7EDwYwEdjP1D
VQGGiKyT/4lKWuujDXGfbZ4zjEggKvdR8GoRthBRd3XCcvGQt8dCtU+yMOla5fsq5ydjFRsofICeRORY
63/Qw0CLHdbFvLUVO1JAplMIIY2ixRMmbZwq1KgiT1Q16U0AAMF6Va7R9jkg8rbAlTMvdYStg/Ojy8ro
RHRpn/4PgjfNOwppdXnJDM6lETgw3I9E9apQ0JmhNrYWFG9H3bJ4oT37vdZ5sMycS904QbtBMBNRSkEm
MI6bA+znwRtHQMBO0UrJsc4yrDG4QqK+1uXXxZspCqcq3uf7hjSGVkc8rFm1Q/savB7YzR7om3GOb0P7
3CxEcqVQ2q8vupMqE1jXMQbfc3Q8cJY0uBued2IEcr/4auz/4sl0nbbdIK+D/WCltn0P+RVUBavWhbWq
gV4ilBtQBaZ//ZyZMKFj8+4hGWo9AkbsfixtX2p12dzqqj7KwrLzvBvSS2aKwiFrjVevmwTzzRHkXdXq
wvoXChXgUOzztsrMA7X9y+6GZ9S8sflmxoEQeAzXL9MFtpFhyXb+DzumWTwYdOs0R7kt3CfqRqE6Up3l
TqH6S8Ws1h1qNuJ+HpWd4fk9XEW40jqrLnV+YBBq7pOLzrODyY26f7QasK6BCgFKw9w+bOVONlbtkD3F
F0VVaqhSwJiU7b96nnEPmawlZ4445gAgKp7D9JPs51Kv5rwmrcmGjnW7SbxD4Gq1WlJkb1nzD/FFwUKF
cqh2IICLc8+B0sWmSh+OVuFh2r0dR7aH68/OY0cKdHr1I5xhHkYsdrjb6GSrrurmzMxwsdnCYfXjTZRz
73NeuIpA47B5hhOwJ+GcBNvHI4oTnMU47x8ed8l4dAr2PNLQuE7hC1gcd1TcI0i+A7epNDdJhd5Y2m1E
egbPT9RAKnlOzRcKi3ZrglUKUR9Wq50y/3Z2CjFXHRhFEiG2P4fuuZMg9iOBUpXcRe4ztiCdlQzFKRqG
Mn96kz3FHcwB3iEw0B182tqrwmGfJRYNnDJyNwqdq2uTe8yHwZnPILCNULB4HAXdOH22T1QDAf5HOD++
DkJzuRnEruE3XB1D+8DqxPUDEKjgyl7rVcdgV+53O7lXHh1yPqm9y6o7yQpXHO8io8xiPZnTimm87HIW
5qZvAgrTd6GIgnW8cAKIn9gseFBgwQ1gyVlg3xmOxutOTNrb6XAe2h9HsTsTl8GNtsuKYLZ+lPXsFL6P
drG7NqL9cV/8j6gWXW8tgi1/lz1bx710+A6oUy08W6fA3MIMErIFtEizwFX1kfsehguhW9d5aEhFH9SN
wxpntrmmiAtx2OFhq8P2WYSUsL+BrkobmLkHVmxkiFIsFK6DLTh6ezuC79ztIBm3ExtVz+wU1dDZ4V2P
cU42t4D+hmgJonhw2MBP8fNlidX8cMAI2Nu4iMg86p4hxlIovrQ3xFO0fXSW5x2ArH0PKiC1mHDj3jqO
qHlPQ3n7u05hL5w829wt/iOqHGEeNg/6Pt9xkLyWG+taDhEXdcWTpnQ7iBxJa+BdbjfRQbUHmC9Edp8Q
0dBbc5hSYSbZRm1ei2t0FGQMrdTw9OHHTZgtxfoYaj9ENgxBU+1iYCny+QvHHjcOFC6cR1bt/L3f+0//
eefuDpgT8CXdeR8WodXByo17dnkGYQQfCXPZBUGanc5BYgjA+tGxPgXduPa8t2mDoDjYLsy3dHx/m/fz
outU5WYdjEbzR2dm9hGggBpI2McYPFqCCMDqoJvwmp1lRJdwLrnADIDbI2w0D9vkRhCNoGx7Dgexz0Oc
hFxO28exjzpbsRFZcmabyDuYF1Lb8Wj84mggZMbSAnHUy4PDPcQDSie/IR5HVvcup5q6AkLzVZ+3rn3R
LWaP2ka3UcwXej7YIdjHaE/ViWw9dImVwudT4QSLjgtWFK6vgiAN7cNFlyRYdHJWoCG0r5W9OZ9/gaCf
F3WiY94FKTfLHt4DSmDVdneg3qBNMdqw+WgP0qVD01T/Eaa33c58OsLyWLzW7s/VxvZLGMXBpIGmKdis
sjtw6ksHcQyzc3pLng53LuHSkidRvgHJmK3mWy4d0rh4REzLwpmdBctu92HfK8+5tKL4ZM/pUIVvuIWz
5p2/3CwpllqEzoIrsYAWaHu8QFmwq+Tf9yY7XIxiVB4jtQI0ELzv7Z5xzYkGu/z45tlGtZkPDQp3VDW/
ts+Y2YT6qhPbNa0L64ZetdnRazbJJ0BoDoa97h1AN/W6YGr4cO0NeRz3tze3ji0C9L2zcF62i/40/jzd
I6XsdTs3NrdYBVnxAaR5SKoSfTy2yV28D+e30NFLTqjcH/EdBFDW6mMzvlD8eCuWfMN3mYyG+THA5iUH
UxRuWLl5U5Bibvs20z+QNnA1mOAiMhOGeSTdn/VguwvWYd9xGaXCet5sgmXZQcjjqv4eFg3tI5FLFZdA
UzUtG9+35lW18wBrk1r/T+AUxPt2747rJe1glqRuClf1aNhPNk4uPYB5Yz5KH06vbfY2I4UN2oudDjbi
wyUyvsgCQR+lcQ2VzvJ6uakbirZcIFuC9ebzqUBSnehX7EKMK23t2b11rJj3DzhbpXGs8Zd65SMT7Kx9
xNmsg9i/5L9wG+jQ2rHzXECtpQV3N/39PV9a8ECfa4cV7rcWymx3Che88XS07RQOI3MRmZlZlYLbMati
cDs2zLgZNYfr2u3G4WDz5k/6f/Xo6OZ7w8M3X6+gAAdlN4ZIb/60T5SYmZUexPfa3aiZzkh400dkGROc
dlg98HEceLQ/1kW5Plip4SB5GL/xADeq6MGwKrEP4fxEyGZ886d2fdrb+P6ECqnqhsHWzetwy22tNwPo
hsq+wLnLfQJx0x7CDqyR2Ec8CsHoEaLe9C8Q2YAWrcfL0JBRba3zhEJDe+vmJfoZ5pmaMcWIfFNu3vwp
DN8jjJbYxgD1oS7lSrfoqJGwWg6dhDnYAmENzBDc156HSQuEQX2Be7Kh4fegpXvz0rBrrskjyKIMHikj
MSIALquI2sBK4QftK3t24gD8pJSJtmMbJ4/7srImPud/l540aLz/SmrH1kcGJf6wNlLT2J4Lf1AXVXkI
+PHQnIlkhdmFRJ4A1zFAmL1EJ/brEnFJ3M9THLZXr1JRt7RW91gBu+b7a4iy4HVG4GHXhL/BUFEjggHH
HdmbZqVkeKsKRS75YeXQ4zEDRWnwNzxLzT8YeA/fvHQECQPF30aD0c2frsLAsPcfhlAya8pb+5WOKuG6
juE+IQGCBoidCvKC9d7Nc0gSHGH/SMfOv4d5xMwO4q4DzGeKc6A6ckXqKfYE/GLz8+Ylc2AGiPSw30gv
QlF4rDL4V1LntR2J/cTxsH4abKn/mUeocX/auwOQKY/YdVANEtcDWKVeqYceFyxp13BdESBblpqm9qmb
5xCI7N68BBql62Ng3TGjAk3qm+cGSH2vQvPGVi72XbN7YC+bg4D+WUEkBspOgJ2TvG/nYanxh9+FfmQx
8+F6KXr2gMYZZhfjnUAfajw8k3POnIMj1BmmDNgjkJGGZNSI8W6y/5RoAjrl5jmoA1Mpu+LyXR/b54/g
a9YuW6ZQPA5138aeyc6GR5ifuflWifwI4M6egFK8reJJwMqonl9sRJm0dWmLF3BpPQcgR9J/FuW38lyX
zQP1T+nquxc+vPzRCSjZ4udHJz96JukA20/87WrC7334vD6XlHuhxws1XeoMf3TKP3eN14S2sK5zVfeB
8i0/79ez/+v9C1Qafsuug9ZctU/wb3yWir03qMd7zVrymKsQvy9NY6oC37D26Oc13Omj42iz/YX7S//4
Pb3/0XfZ9if9/lehDuyqyW+7BrBUey+4zu8Ftv0t3pO6w/YNKAI/B0Vf/MWnPgnFZbs2Wo7ne5fXwPcv
83v2XN4+a48+Qw1ltJ/tQPvwChWQcZ/vfPQ4++k7GA22AvrBb1u7pZx8mVd7m8+pfrpovz/p/fUex+eq
PdsFV2x+lCrIF+xbVCu2327wiS/4uHznw3eoz/xd6hVfwjhR9fiS9981b/VJqku/b5/R92/4817wn5g9
x9mjV+1anBd87RnMG84jKUVTs9nae5U6sI9JD/bWWaizfnyKurBSjP0pX79ARdTHqH77hp32T0vd9tZP
pK4LCwBarlSLvfzxCdd8bVVo8c2n7d0n7ZW3ocFq70tLV5qzr/PbT0Jn9tYr9u7P7Irnqbir/5+jeiyu
8hg1ep+EVuutK7eu33rH2szrugLwo3wH98dV36QC8GP2qTPe/kdvvU11WWgFn4LGrivRvg5dXbTL3nsN
Gr1oqf18h8qy0Iulmq7aj1Zbi6Xi+5a1/JQ/7wko2H58ktq8p3i9i67K+1Mo5NrPN12x9mn2KNRwpXH8
UyjJ4rtU28U330B/2GdfoUbxU64g/Drvfc566Br74Yr99bbf45J95zH1J3R8+e03qb37unRv7W4/DR1e
qvNekWYyx/SE7u9avWft/RO3rvC66L3z7FuMyxlv3+t6n+rE0DGmTi/1d9Hnp2QV2mi94v37JjWbX/cx
fRzPQ/3msxyZU9QfPo/fNC5f8P/8kv/3l/2/v+r//cIv/fKv/Oqv/fpv/Mav/9qv/sov/9IXfnPbzN/5
u9v/3t//+39v+9/9OzPbfvMf/MN/9I//yT/9Z//8n/+zf/pP/vE/+of/4F/8y3/1r//Nv/13//7f/7t/
+2/+9b/6l//i/7X/xD3w+y/Zz1/2//+S//9X+F786b/9pv/3C2zUr1hTfu0Lv/6F34i4lqKsYKBEhlzl
ExQr3twEA2hih0/dQ5SF4kow3O86dNfCMWowEVJmjgJomuB7otJBNdpo2dnVUDEvCkut8Bg3T87degSv
AZIddsJhNj+DMedlSnPAiO8Uztax83qstAyTloDoDTyspbBF3ZvIn5Nmbw8xocpFKCCbD4YgNME8x1zE
L410haEGOxqOmegH6IUZ/E5korbA1AdNCCByNcNzyK6sZh4g2EuMFCb4RHUMgA4o/CKmzUyaPJftM0Rn
4/tIaVB46856wLzR5NsBvIz0W0NMGxzofe5YNoGkaLpwZBHLbkqqxIza5KgrDZgFQ5yVGRPELQDSb45t
jxFZV8NaWpDWJ6QLFXu02zCpaa21EbNmIP2LV3ApQaceqbpxiy4l6/rgjdmzEFM32jCfuW9T5wFPphXz
a9ayZnbHIux3Ps5mva7xKvswalZDos9cRimmUNS1IZsG0nxwP49UQrLB/UcwBYlHpA6QGJwonlinSDl0
J232IDatHHXdbFKrBp+pWGXdzLV9veoYQ/flliJv3QCiNMRtIzTl6mg2kdbWEKtEckth9mUyWPG+wMX2
y0IEGkHvYfLB0bZ7OysxyszcHYXMH3kz9hlAOW++XtbNvTaxJ0cHA+TvSnncDsRpbIFQ4GeGbAbc/i6z
ZeF7gyJHFEN3v7kfJNNAMw4Xbu50nA8Cf2tjXHB5xkPs4VqG3hFABhVlxQpGhUB7p5u3pqr2jgWuEHPY
Al1VmYqZgDw0ZNlgcD2/UPYkfkvZQMcBON2is+Cg/Kp7dyyrLTCgDvRHsyinwqDyuO98UrsXmzyjNKU1
4wGbLMQOVky8Qr5aSnpVd3R0UECxoREpZiSsIJnrLnXcWSaHvF+ClqM8Z/dOIpbJih4qRT9iQhA0efgM
CBJThxTcwnia5m44Uyt2gyUHSy5Hoty+24yJ0A0+6qII4XadL1c+E+AKMf1rbpJdnHn3TRKvmgBGzdd9
YgkofyYM0P7Ynx28NG4CZUM5F4j/VYF3akiMwHD2BSgHYXZdQpucNZLdJVV+BfBmpmsmLgnXm4DdyTGN
BPGikAIOUVJ6TXLZtm/Yvk7dFHyBs7xmxsquLB1OSDJgtSFES60nPCoAhVsbA0hRVpvWeVtVgIMaopoA
o9gR8WZI8vHKSshRT2pzsIpUHEn/nH7HRtoumrFnBT26jjS+0pBNOgP8XqAP1l3OKGsz2B0roVNuG7dt
cYpiepa6G/CqJvLnM824UcbdMxjFrmarHuLk6kUufGazhmyHeWrKkluPuboG4slgzdoEkoSZNd4DXg9T
ra2C7LjLMGPvFcipi02fO7aLalG9VgNGAAQeUOLUSOlDPSZIK2Mc/V/xYGFBpD0lHTz82i176zhpNzYD
4NQAk0JxZ2HD+xVzI+OhwFpYBpF9URpdeBinpBHYp8zTbEBFBE2TwSDx/B2MSq5uFIEW6e6MvOg91coQ
qoZFJHCLyCTuIeQBm50tQOa6cfiCQQdLpodIxd6OZuYqlFxLHUD7HDBXyB6CusExpxrfi874A/wTWeNA
2RSbBCjYUUL4DsVZ19Y02SIyuc1D7NTx4HE8b3PWxdJIsC1BUhxYtx/dGARO0QNDjXgqNZx0pSqZixQK
EhPgCPa0rtR+a0ACPCA77wItsy5lByQIMhfWQqwzSi4mzBM+wfBTZOG6EAWmwbEztsiqjzECEL7nc8Mh
bsAoLEt0KpLmhWvLVt0HPBxcxGm1tAZwAyyrA44ALIpBf6U3HppdN2Z2mQ9Yb0kLpKEWWXG/9R9ZNOXK
QGaGq/s6vxCw9QpdAPNCktK2a/UhfkCUX/cI1SibrWMO/F/1jbFrRunejtkzHUfYsUSFRG2LAEd6lYvB
MNBijaf7qu5BoPfwhGW3y4TUbMyRwkP0Fakt1EJyoxTa0fYc2N4PxvYO7SLrFhbNGlHdLVTdug7tGjZf
QVgdjwfdAxJVtH1BW8vTqc6Js9YC8IzAkj3KSg3xEEJB1mGrHaUiNXQ4ji26kONGBfF7KDARLjoeRvat
igRf146Jsi/dBt+akLurgQNlFQK0R0xkWxF3Oaxn4nsvCytA8MgMMwlYmolOSBoxT8JmNSJ2gZ3vKN75
2E6X1ojGg1QGVjcEoSA/3lBYigL5NYj34AfZEVQEaoaoHAie8MSCQQ6LrxSwVF1YjPuuAWjr9DCFNjqF
y9dFsquSPAs1pTcrKk8Fbmmygp0TqY6ycO1zjg5mJXaA/mh5aeGBwfCoHbIwmYku4jDZFue4Wngnw9lA
UsCeBzJ74hrAEGcayUomdIvoBj9u5r1aAjZ8eTdDm1hHOHBAUGiUzWUgl1FcSsjVS7ATDOYVwXRKVVaw
xctTyz6zrz0CiBRCeT6HAu6rhzh3bZKR5wZeplQpjlQgnKODKxdrqEfUevHMFk4wicZC9qLHLa6LShzD
wVGqQ3F3By1LEhM23wJ/22wOepBMqRpi8G0Poy1KSxzymmRYEny+YdYy6XLUW6h8Q6M0+hZ2YaqNAo9A
AhFZW4LwikEGBRAm9THK3FtwnX6Yl8Jr2sXujnOZAmqY+Czv12iKbtKJeEjg8rJHkXSMP/bMVVho5qhC
dHgIk0b4CElbAS7zW3+0nxqQnWVHYRx0cFnhKgu2VVY4r+1b88UBaigh16ZOE+FhhBSsoITzwkAJFEVQ
YuOi2L3JznBQZbPR+B+5MI6N/07BbNbcyEauEJ2wXo32k01Krx/jtbSgxOIyKVCbTnauJckpi7qR0gBN
R2CBaapxv++PqHKI9J5gSXV19Ou1G29m/+lJpcdgZwSelmoff2ib3iNj20tnJeDQm9Amgzut9B38OuEx
od5zxLa1Aop6RzRtvl4frrcwW2VdEFwiSbWJrI6jIIpY83HSRx7aAWSwD6XVXI6YQOMpQ3WkISidPcn7
ONuddh2lebviXMEeq1wvcDlSogdoj+ERDkn2lGRXblJOUNpsSObCgXEPdh07bClMwdOcNjb2KYTs2TD0
iiRyMWsxpofC7BG9ATlFbMKYPX3b99eBGPKEum0OW+CAARNJNXdKAvfE/JQyuF3w23Guo8VdiPdpKmLf
KJ1i6aoqkHdXEryQrifkNOzT3PTLwjXAe9jHGsolMTQzWHvQJ23h0ke2lunf1arjtImDw8zcHtc54SsN
zRKvhkI9DGras3CAzaVvBhZTVGqq9K3rXl7SCYlbJiTNH9xcF6CGWnOQ7IL9De3JSvVn+PVIkuMkH5Wb
Wyiwwb0Xg/LlIWV510t6SSA2q/oGBEm6RQnWIEZs0KcELgYO3/o6fDRngNMWFR750Abt82FUigICCcRk
QOUdQttIh82+tT9sv3iurotWV1iLFSX7lwLZ6Mi27TPuxq0CIaejJEAJyyWJ+vZ7UUSJB8eZAgeyRhtp
Z0DYXXIRUlITqaBQe2dgXUfTFIemNIexM4ptDhWAIamOzdfCU3APyPb5dTLQRhV1ALBEwVDUIYlNHRd3
rfS5AIB0lv1ehI4rrFdJ9NGWMAtacE8A2oAuML1Ks3KRB4YNu38DEmA1VDvEHLCZSoQfNNqaGosZSXs9
+0zAFBRDo4CEh+koIFOagcE4E6MQlJg4Agccuul2QagwHkY1A6xpkEOi4IBZuZA3A8i9DOjMktkRPWg8
qIWb0NFDANc2mZkZly52Lb3RQLQcBK+cN9EsB4MoLGGHdtcsFTXe4lgg9YdhYkVb2N2lA/d6pPz6tgMl
rKNeY4vmrqtU7beRXVmp0AW+bwRLpDmKqIjZhf2IVASVdg+19FYQ35A0un3DBeyL3TCoEBRcdkurN5GG
LeYkdn4c2wHgLoLRRpYxmxpxl0JaVdCyqWxfQa82ERqyPWu4b10AaYV9pCC/tWGWWnBJbM6uA2UUJIy5
NbPdGGKiwQDrI3BKSxCh4jaItcMadhIsgMVIg+FwBTKAGdGIKMJuwYYf0Z456RzZAx5kiS+dgwiam01C
Jhcs4DjEAzxtloxGYHnkCk6gQWtBBAC3CZ+oeyjsVYjqcauMQdkrNQtAinH0w8hxyVSorTSE+iemgd3C
o0QRo54kUO4qt0yIGHqIyDqq2ye/HQNH9awiqH4x3F8ixx7XKYu2CpnibO4dD4aSkQI6BuKGNsGLSDdA
zYQQrRnZdaPusuyNgtLXRMnOmG2x6tYFlE/BK48g2AgidyizIGMAB1uc2QGSWlpy5YZl8bOtDYHT6QfQ
ejlOm10UuOD27hy9OQa+wWDmIU6vxgxyyuWqehd2LSdUzjEeLZlGQaeLiMHucdnr3mQ/j087KXBBye+C
3Y4+wvTjUYu3aH4LIkgzzJUxoMPTpOFGuD08etQskRviYtMb1f22VMabFAuG1JWt8tmIi22icEEzGJVb
QcMsCx+xu5AcwBUlH83T00tSqGCLNRGqyt/CcUQyugwquxm2p05Bc8NsElh56A3Hs9aJUdS4+MPqIGKe
RZCDSmojiGoEJSCblCXZ8Kwb4ZBL1zStR1yswMYVAb6PdVFIjcZmiODxjmukuctYOPZdTgC0cHsE2Pe6
UOZ8t5JdXQXqvFAwAbuEXYe1cJYWnHHinaoZDmGSihw8tMGWvr7PQhH3Hrr/PspCwHed7HHt7v0bCA76
DsnDhEpkyOCFO1DsDPSqH/Tm+gZ/D5QbUmvKOJuIjQO5ei2SFD3Qtqq/fnlsx9hofKT+60t/9Yz9iYLZ
f/Ws//K31x7726s/+NurP7n9g1dvv/jGZ2f/UoC9T8/9QIg9++X/ef7F/+vyuf/7hbc/uXr9k3ePf3Lt
yc/Ov/zz8z9Arfo3vv/Z+Qv44pnvfvazFz599vjtF5/99OmXP/2zM59c/5PPTnz/5+//8e0nP/j0xQuf
XH/9kw/e+uTa937x6JlPn7j+86ee/PnpG7e/+yefvfzM7ddetBc/+977t3/83mcf/PknV4/fPvfq7e+/
+cm7P/z0/F/84uwzn7154uc/PvHp69//9I9/+Ml7P7r9/IXbz57/9Pqf3r7y5GdvX/vs+KlPn/7LT0+9
8en505+dP/PZ+eufPnP99jtvffripU+vnrz9J+duf/+GtefTZ37wyfU37JVPT7/+6bnXfv79lz678vTt
v3jV/v25Pc73HsfFP3j59ok3rc0BJ2xs7t08Zz7DAKYbJnK5UgK2jQzJmCC4augYsG4CCZp91RPMCbYW
8rY2w92psSU9JsJr5eZ15HTJPhdaiJXaqRIg7wbBWKEHHX5adwdhvA2PhJOVkIQAXgHUR5kUgqH6MGbJ
Tde53MIZEy6yqT3ANRAzmtC71THhd+I63zxX1ps3X4Z9ESjZchjwqiFzLkBagm7Pm5oZd/Ona2Dpo0SW
Y7IEIhOZVrcgTg4z9eUeatU7/9w2XQdQNR4xq0vb/pGqKBvnbA8aB2VF1VrreWvMzZdXR+KVEBjpfVg7
ksxeQS+zV7Fw2NR4Ckd5E65GGF/Zc94LlRfsBWghULUSXnoJFac+6hn2H7HmV49EANm8/B5nSxkwvsbN
MkyBIZCVfSDxXmYmA5BcYsTQZk6SrdK/FWjBJmCS0fODJopqn2RJ7A+85DaKjp9kYWwVBb/Kf1/lu5f5
1gV+7ImoRK4i5Sf+9vSf+1v4/Bv89zVW7L4W11FV8mv88HNxneNshm76GptxJr5+ultDqWKw2ngJcDTp
wt++epL1y8/wM+f5+2n+/jN+/QKLo1/li6ejSRejbLnu/njc4kJUDb8Sb1lLXuArF3k7Nen5uJeKlL/B
eurHvan45Ud8imd4R/XYxahQ/gILnD8Vdcpf4/9Oq846r6BOuBL1zk/xuz/gTc/FXX4Q5d7Vkxeyeu0a
uKeiSDwHzvvZOuqElznHWy95b+MBv8NC7M9HJ5yKe/0gCrefZm+kausvRUed5IfVnu/FTc9Hj6nlN2LQ
7c+no0r9j+Je34su0gVVEv4Dvqjevsi+0nx4IwZaj6O5eiN69Tg74Q027wxbq68/EQ17HK97XXnNZ81V
jc5TbO25KGN/IZ7iRZ8q3s/n/bnw7ln++2I84Ktxr+Ns/7Woaq9G/jj+1IdP8JG1gk7zxTRbTkfzXmOb
9ftZbzDa/Awf4Uq057WYWm/GTdXUNzm4vJG3+bjrd6DAF8rHkOwS2fXtM/sDx1I8XB4pRVlMABZWZpOa
xdJWYHOYWGPJNdhAqt2wVMa7UpTEFuZ1ab60azeufFBXDhBQA7WI7upwvLkCa9I2ZLOugfR5BLtTT44q
rrIfJV1QIbN0vY2aSGgP/TygkFbNI6AvW9mj2fZbP72r+GiZPfnSZvAsOkVKYkfFRH2jFKjEq0yYmTiG
0Hxxx9f27RwmtnxCITUIOiiSzbbQUf56SQ3i0aANvs0XyUisySDANxBUWBkio6H8LnU05W3XSXl3b+eL
gbmnzpsbcm4q4Hmro43KIrtmCPoKidta2BpVp6q3DqURfAjFrEtHgG2VjFiPezGW83SMH1yb7cBV7hFL
4ulr9rMnYRtV4INf+NWUVfxGwoQx/W8u06DbHzgldokRbF4F5Di5pBSF2qI3C9lNu8vezlIW4KRzgc40
Q3meprenxOwq+wd99+noXsH/HWHQdtLCT4lx1LQYi84ZKRM9kZ0z1lQoZoh1PRvn8Bx1M0tfPcOoIA7g
CN6+M60ArzCJFE6fA1A31SwLtUC+OmWgOqGy0ikcxWDndzLpFxJaZSZqj7NlZucB2751bNFdzS1zGcHw
2JhEYnc18u6SswOYhhx5Twh2txL0A0JhUnqNcGLFOMEKjI3JxmQLo9GgJBez0bM7FqnSxRA2USNePRga
nXjee9hD7NPAoHUoaLnlKjCujwG+wVjcvIjuok+RLRkpFyoxxW696flEmwf7BaQKDiPSPXDiaCKtro63
NKwDOGxrpHOBI8nS9sOBo8ycD15LIQEkB2iLxC617sCcerWTmEysIseyVinHvtCtYvRX01zbGkMZBVep
etR+EIvYx4PVbAUY2Ao/nhsJ5yRZqWxBchW7G7tj5UFRXKgShx+sSq2T06BB3HaFueAvp31yZuYueqnF
KOUJ4XHU8v+QjiE/aeSxnBF4u5u+BhmJ4HMspYyAwkqIGT2AAj6siLZSTQYa89BKqrrOCrS/HEkkxRJf
C1IEqPqdhA7YPhO6KIuFY3TI6WTZYrBOqe0KIf0Efoq4FrSWmMFnSx2Ltn2mSJCPwGMUhSJofLYV192l
Kp3CRRT9ZP+FZkHVf4js+TFoTciYMlEPrIT5MeCDboZ6FHEhzICWPQZ2wOQ8VjQg4xZfZDiE8QxXbYD6
Zb9wWJGjEh/BTATgEYEJsI9Z2LKJKBsUHZB1w+Mx5klA6caXYm7YbuE41dkU1KaqKOYRTjCWj4cOUce1
07ueZh5OiHTbEkYoduq1dv0eS9ocgkOsjXuBoxo24KNBaWy8SXgJc6ton+IT/YEdinbIjhZd/wOBXSl+
1STGCTfkVcAxPcb9iE4EoG91kkJzEBFHMgWDZPszqykPsX5lmPgcpzpHb1VBaWozcp33bHZ6IhtjSbn7
XQlbHIAn23N6vbGyh2tQPGZ4l7OPW/9D2s3sy7vTd7caxKNxchKZxRyK6KJ4IpvZeAGZ5wFrAdgGBhnX
imsmAY6byDP0JssJRDigWjKUjRF8G7J3601iZlHce61QIYK5UsUj7B73JUvha/3AYSIOqmTjTII+1wo+
2rv7B5EYJRiApR4eUuFTYu4oC4QsZ6ARioMRhZ+TygP5sILl2FW2p5vA7hGAcyQpVmsf5hfQKbYPKXvv
QDJdWfq70OP5n1I2PKDLq5CcdHdXQV/YNLG6lxaSXXJHbcbUrsWiLpYCjrtKZJPALwn82ygajPUWake9
yWggnV6issEBGyHcvNPFf789EzuW889hq4hR/Qg1hCrtBwCx89GWfc0QzzHwkOT9Vdkn63Yu1kIlDAI5
6Ag4q3CGMBkIJR5KViSgjMK5rpTN4YpabgQ8UtbbY6GMSxYeg11KqUxBDjDXWCOO9hUCDRuVFI485d0o
eovN1VX3bI9QYquhKChLAEMdNuWS0hnffEU7P09sx6+F5UF1I2w0xPygFylCs62dkwgosU+XkwOSMP8N
w7ZMkkSGp2ruSntYAtM3ylOOWTdG9FH0SeHZBUoxUmo6YYm3MaBAFIybp9g7q6hT2iKZXOubo0OWIpZ3
gnUrjY9MTkI7F46GsY6+b3zMbDfrnPVQGikRxSk0sZRZQsatI2O4s2PRgRRHS6HRWMmdFAozv/Z2BJu4
G1FjV+ix+eU7Z2/iEDR4HYMtP3XHaT9IzIr+g9npEnvsjMNUkRCmnUitXyJ7bZLDpNE6csi8beQqV43O
35dm2BpAF9w7Z1Jy1BEhDPmDD0pQ4u/GLqqTriGqqOcemmBO9N+Y0sY+PhvzZTahghsVgsCukPIwzRI1
aWFC6whCnoTqKcRyy7OhlCOzIHhflZp4+vktcFoRWEbr5oiDzr3+H3Zvyh/jvk5JeQS23pqLDFB8mZYi
dla7uu3unH8IXFZbARIqqCZDMVhA1nXlhHP9UihPDNaaow64mnfvybq/z6QB7I2jQ2Rz+8XKJIFpmgQL
3Y19pzssj5a9td6gHO2BmG+NkjbEvST8eQvrb1RJGyfSXcm6XkENMVqqW8lHhC0gkAHtqz4J5a4iCZil
EyIKgcawyrDDCdQHj7REDqV0XbUe5poTUxqqUdq0J2hYp333oeSL9+qYOQflOUC9Sy+Y2YFdngZTk7CJ
rN+nIgz3gcWsCAGS8YIKqBAj0+VEyAuiIbxWd19atSnDu3mfwJyD4STBXb+USCuoPux2DjzNiiOovkdZ
vrDLcTdobKAnCUtcMVcRiJqeKg0dTPa9K/lZx0DazE9dV8foIOFbKE8AAWZPSgvNVAlCS/jQnNdJ40x0
cMfMFqtVAs0hGw6Z55QPt7kWGnLJsCxaclVZIJg+JEnD4eAdwIVQAEsroE/L13ZgV+RI2ctCSHvgQhKB
oVClVB4HUrUwC57oprJYq45CP18YJ80f9J9QyECzJGTE8j5UpWdptiJNCe0RFIR3TcyKCsc19TpSFGJG
MX/k6YX+xz3uZsXkolpfT8BvKBsgHWs7yEMpJrM/WUEBIe4spytvX2ghBarEZDNi58NN0z18x44di151
hb5Bq26L9Qmf3V/BPQKY0iQMclESog89nYStNMsc8TvMqYdSLMjOEy/S+VCKFUhJkDGFiiW8rQVeYoFg
laOsk7hRJWBxwrMTjA3Rn127dkEUbVCsg2WVPEjHDMAep9iKz3YBrLqNPcFOABLXBv3D1YR7yGLUXd1z
bxX2qYgiLAEcZJRCNWHpBw1Xvah5WFpHqgTqKBJmq3B9SlhGUnpE/ERVQeGRMrOKTQLoPoGWQmFn2zb2
PaIiYV/ZRHX9O6CPaQMhr4MCE5LB644rr3Snks0YVVhk0vIzWwoSTw4TUzkuLy9nrx0KktIc0lmyn7/q
ap1lX4gBkD/uTlbBYRtK+XlpXQbzj5GxSt8YwnNdB56/aRmZ8IVq81uHVKbcqkGgkQYqK4b1u47qK9Hm
Li23wA77CsDFV5MPAe4O4khmbbpHD2tki1qU8mHp+ZRh/R+pVNiZmjSusdubyFNCqMdzctY+9uQqWkDf
lGNEK9Lszmpkq2esdcZjUQdzcj9nE51qf+aHFo5y4AzjVoUiDSO6bTZaLtkUsAtMQV++v59grzNel9hG
FWejIouhDVSUnSJoBvfVlfUFFHtmEvJOgHGiETTMhGJ0UTxXQMhKT8ldXuXEhuvjyrEktgRowQdQ5I7G
NXfpaQ435f+KSTHegiITELjr9CEUhRisJRQ6dbDlp8wnFNmdQkRw9K1XWFg8sSpZkJS8zKppz99gpM2v
qogzoJv9QnXBZNDvPOpzUvbAQYL48eRuD9UwRXx27mHdUBRwGHg1FKzXB6qjxf8KWFwZZklTJ9ZnN52r
4+CNBjbHtg4AEXnAlhEBP1IR/QcRb/Fwqfq2XwAoe/xgtcIWKbuTg4SfOLaYZZRifTSBIyHcUJQOmCw6
rZKlQLtzBB8RzAbhuOaKUGMS1wLnfoLKYh9x0UnX8Mb4AhvC430hRSHWq4i3M0EjH6zqydKpEgG4AINM
OxzkHJNYmdnAe80gI3CVw4WKcTVL2kH7RSBx2AcAHUBvkWsVKx5I4VQrT/6M9pzxEP58KIZysnKPdXAj
Ip/BNikSqXouMjXcqcfaDwivI/Yb91DZr8TQbhJIrbhL+y4QxgIV7t61i9Bp3txLmAUmhgrFXjEbG/Kg
8FsnVgOhN/fA5tpwzDBqFbqSemcZVbdkwkQUp+y5H9Udb3ohOSz6InY2wN21+osEb04c23kkJHaS90Jr
rlfaoeX4InvsbqLI91RKryhHUofGZUqWryIIC5vwQMUGRHYUPl4oZj8Ei4HAmTyZEjI1eeBHKmHnYGM2
2G0pB69RRpFNL4VcwKZC1RTMAWhx8soofk60J9AHgy1HQQqJrLXPiVr2BaTGOcNcDAOAybpR4USWsFNc
iqrEE+JjmRiCQYF1wOLjLFMqwhTeXRkGdN3jrHAxyP/gLrrqcTgW7ml0FZ+TUnwV2AyzHdVtoIaPmdaF
doAKPWudrwo3u6vYXW3i/4t3ppjMQgpw4CSBs0QH0jMSC0lVAMVmZBeOUqzAds6RbS3D9Y1ko28P3djZ
NelroqCj15tlhI+2yvaZwryEUtGmFSHxYYRAI90pQapuwBgjMZKFw7wwRvtjb59rCSegYKN1VP6mqTNu
kgRB4bhV+2U5nWqJn77kQTOUvkMchdC1eZX+6ywsQOncc6QUugPMMdTe7ayFD7ZaOutRCPpuEUDDfso+
SN8Wyod/85O/+eO/OfM3f/Y3Zz8+QZW3S//nMxBQGsKthL9fqcImdxrCcxp4ao5ooqqZTVeePXx3vFL7
52R71a6GRiRNiwxq0s5aqfYFXkuoLrA46f5i7jswC/lGVyljdIv3CAhvPWDVFd4tuGb1gHoHastgxcFX
iXZdJfBWwwgkvtAoH48dOuyXVLODalrKGDNrbrYBziMp7+spFQuqUcurZ89jr65ApxCudyn0l+BWqr1h
bQ48WhM6dKD9OGipceZf9UgZogpV9AvgV9b8m5dQdCGJS6DeizXTbJ1HFIusmXZ32Jhnm1k8JW28a0hX
SIENHAlprIWsQsUiqXRZqFd0hUpEb0ld6qOT/hp+uwgNpg/f++g5qihd56tPUBMJulNv2c937f3LH96g
HlPSpaIq0nX+hI7VB9SZejepSV1q9aik5MS7vBPaSR+dTO9CA+sqtZWuUrXpCjWw2FJ87sOXXLvqun3m
bVdKcoUoaVt99Jy9Az2sR/WUSUfqmitO4Te07zj74D3+K00vaU9dSwpZp5IG1AXvDehlvSfFL3yCLcS3
vM3WllB5wt0etZ6DwtQH/rxv25Nf4Hevxm+u7yS9LHwPqlTtfdH6G+x1tVmKYlQQ452fYF+8y7/5XXvt
UbxCJSqNyLvU/pKG1NvpOS77qMVoPUH9q5di3PxzV7MrX4unpuYW34Wal/Sp7H4vU6PquiuOQQvrvQ9/
lO5xnSN6ydt7A33qilYYj/d99EOV7Kr0xzCW1qcYN/ZB6r8bvO9l6of9iPpZ6JPTcV/omaEtPlLSJPsg
Zo61ECphz9nVNJbPffS4q4edtG+e5DXepsLaBSqLnUrXu/DhX6TeYFv4JDEjLtiTQ9fsGY7RBVzLR/k4
nzY+p3l2nb+7qpeN+XuatVI3Y79f1W8ffdfnxnucR5c4d6FBxvZRrezZpFqGsX0fT5Pm/Xtst+bu96xN
p+yqF6GidevsrTc/furWqzgpXBVMP6Uhdg2qUFKXku4XVbhO3XqDylpPf/wklLbsc9LDCpWx+O4Ve/VV
6lWd0Gsfn7x1yb9xzfW4zkG5jApSj/HEOovf7N+T1iqodb1J/TB8421qT0FZi2pW9u47dv+n7TdXCbMr
23PgKnafd6CqRY0yapndum4tOItv2TfO8DXoWulZoRl2PvXG096+t/xzJ29dtv/aM7Adp5KmGvXP+Pmf
hR5bPBufxvuN6mJSLXtUuma4EpTU+GzooTf5PD+l5tdbaIv6FIpo9hoUwrwP7HlPUnvrcfvuKbZGCl34
3GX25CnrobfwROwHqsDZ+3waKYlRse0MtM3SKOBzl6gldgpKZlAdY9/jjk9JzwzqaP453O0N9YSPtLXU
78bWuLKZ971r0r2exvgVzAyoxoXKmV/lPMeS8+/Wa/68JzWKVFR709p+yp7/9VvvoIcxE601j3Hc3rHX
NcPU55rJb1Dp7G2Mu/rePvWmK+W9gxnT3Dk5VK5DFWlWpUaYIdzdghbm1+s1f1XnMoFvUeVaWLieO92d
NguWGGMw/iXyZaab8FO8WNU/Ug8HRKd4jo2wGIRktwDIqogr2uyWzcZiYpWDFuGpxqUFpcHpSSJm5ulu
T/4Haq0aMcjMyP4Gi2S32eg9Saars7yrBfhUEiGA5+AAHwFxwF316K7EeWqVw3G/e59HNAlrCmgIdYS3
3IusRl4veXY87M06/GITT8F0SCNMz05ILdMJYUoGZDWa/HbdHW0kq82zN/NfeejL36LG1reSlTSqlLxb
gph2m+lZXGqzJRtmKVl3we2ambk3aJOqFyOoJMJNe5BUXlwdJCSj6i8Xyrybiwqzfm9HohpsOsIy/1tV
wipPQiVVd2tjMHKRo1CQQdihN1psxluANirxA1zO5AGyo2jWhy6Tdd9meUz8vb2dxhrxiD5xVzvcSWWq
B/V+F5UplhaiZNPyaIMRvpV62B1WSe1K+DXOM4xU5Bk9glVXDQAjjWf8Uqy1mdmWPJ0WKdINxhv8W1ci
Q2jYderq0OkFnKD7v7RTro2BLzLYS1YyCM9RvoR9pjhpeP1ruKLChuZ/71tbZz5ipNCwO3P32+RCZeTB
cLYxpw4ePFExfXlsK5XKZLkgBgUVShasVu1au/FSCy1iZEWUx5olQxlCq/tH6Ghag3fMr2uKz+6gGU5P
q3dXhYpkjCt0Wu+wVpCZnXqsjHyrqiv5qwh8aJG1wQWFI+jkRkUQ0ncDltOspFhlgcryvsjuatdQ6FbZ
yppvAUACmgqhmXCAjacgmfJ2VBg7qj8pFAfqpjhTocJLij0OCA9AyuV+lokokDdaagGu7b5j12GZbFwi
GDLcQIoQcwOdoy80IiNJClSFM4eKcR5XAxMPSXn50klvsDdhbUGbaP3RZGeb7IP4ug+syrRydqD3bWPp
gRs7AJygj5lIMGXN2IDQiAQ5fdUmS424hm3bRcI5OSQM01O1JDyBTwiBj3G3EnmTkJRmuLq3s7DUwhs9
xREiLT5T3VNFZn1pISX4onwi9oeaalTiLZMcSDk4HFSrnjvwfEFVqEg1g4HzOtAeABd4fVir/l21r913
UgVLwJQZ+yb7UVE9BtoSb7aYbSHY6F9PurvIzu5du34bMRTXvFhqIQ+keWKU93Z2zCchobTmB/0H+5Gh
KqJgH3ITrkqEAPRQ+B3RDbPEgiJn1HrqlTEWAaZoDrTHeMDSOX/lsbMsZ8GdnSiflPFuN67dbfS/UKkc
XmHHoi1STfYkCIIah1B+Q2n3vgNIETEC0rmv7TOhwjvLLU6fwVcv34QvOL7ht1K8ZXHr2GLhZ2eUwUOk
0XMpjOduuj5Et80LFA6gUza/GXjIemnjf45h6VKuYlV95jICK5OWfdDyQbEFFZH8PyqBQcXjtgBJQ4St
XP1v49oPVsXDGNxlxaKxUIvCn9iv32RpDWDJ9sQBUACNhEg0EDFVy9XoclMAogeoli62NereJCB+cM44
gRJyfT5p4vUmB7LNfFSE5qMT5yaMnZKRD6ihlyXj0wPrWBKErmJ2juhWKIbQ0WHkzrDe7C+cIBgsT+5y
21SsEaFxV7QpKblD2yeKeSAWmlCRBQq9KDjdRLVQKWR4l6gmHKT5qMaRsmeVAM/U6yxT3DMS9GYQ2ZSG
ot8A1aFUbVQAoTWvLcQotoabPFyhK7T5s2qFNTXwOs2AN2XTlTIA5TiqdEIxh6hcUuij5g8hOyyWzn6Q
Aim6+sDBB6NOEsVvBkOA5Np0ViF1EaqJeMEuipTaR0NAjYxlTss9SepwFhOOXWK2sqPGYyeQhNDCw00U
2rCLBSEakXtgvXDnNi4MaUc3RtqjbsZj05hc22eiCM2Sw4IP6dzcqrXvALblibkomwn5mEAosFicK3jQ
IOoLfiixQuVAieYS6GpQNOWEg3B3a5SVRQIihUYqjroED21ci4O6PslkbaJqnF3hXhX6wmqKbDxTY5IE
rXsTKaII7hpyO71J1AVDmhT+QElc5Zrv75i/Dt+zr22I6iCwWUDCmqjcaustivfYwHL5yyhrNrB0RHEv
JVUKESAmyfhy1BTDkiZIkVmpTgszJqYAG2izhxJ6+prNdUn/bVQtertweVzkHwY88ZnvpcZBNJ0VX6WG
K9AqsrsuqWbN25A1CY0NO8oPeEG6Tth31qp+yvG2YElOGCdbzMxk9mSSTG3PniVxF+4+QsiaSnXZXTsF
EuiVHV/fQJnHWk/BsmwO51PRJywaZl5rvrO/PZ2CG2NPoUQVp+f942RE4pBCqsL+bA/LL2FH9w+49Yq/
NutjIeSxUo2OVhLPiEJvmBpJaLqXXNojMGICBBoJAqJt/cw6Ui3cdeiu4r9AFcDFWgnp4bLpr06EuqNW
oH3NIWJYv93WXm8T+kU4QdbQ+aQ2UFB4QqbEvtZ4wh7l9X8CYsVThKrUwJJx35Q+xVzr+gTVxdr50FRE
wMl5TaiB1i6WoRuXKys4G5SWXo+IQJNyREXrjRdRDTXsVOEzmZ+XuRhgbx5fcQbvjiLe9rV7200X2Sov
u6qNnhMFZYKpWzR0S4GbGAdAULUWY54BnRstSOpywEwi1G2lavl5dtcv339INeD2tdY2DGi3Vu5OIYM5
eoA0KFPdX9wL03CFGWHNEhDHNijWskFbLNhY7rxWQi3eT/NWgEjATryjEmqmL2E/msMtspJwQ8/Q22ok
1sKOoAOtPRloQsrwoD5iF7sctjBP+CW/+0jG5WuKllfKvU+nq2YUc6qjkLyhfU+hiyrnH1FRppCPxgdy
CNGGsuAUdENqt2ZZrY2EpliZpDEOwhlWuDn2o50QQk0l5My4cEsXi0Dp6xqcwEFrxeOcA0ig7CocYreU
GjHFA8A5EboAU641OOeWFtLJWsk/p1uddpjfPdD6Fy1DtKEPsJN5uvkiRUaiRNdog9qObrWJysTjK2pq
Q0EKgGQZcBnT0faf4OHwFlp6XgoT452E0UEldpE9a4Tz4ezSVLgTlj5EnmVM2+olDoBF24I6CcMmUE+K
cBQlMYb2v62tOinz91BTNSo4r5DzypZRUIgz46j4BOyAzcrMT1UtPhScEHMIEnS+OdS6RgGio0KPM1KR
Ek6zpOV3NkE+Qs67TN6inYiYWBTyUQ1llExtIaG/n7BxdT/p7lddx0HCUdFPzp3E+iOMjdoWdt37mUOm
jRJywhkWDEZ64xqMNmlbOmOoDpIOl0inQa97BDaXamdjX3ddTOIZu4UjjQha0zqBzF0jaIicE47bQ1So
YN1takc5L3OU7D4uaSwDILILmmjQHSRJj62jCqSEN0Mo1WyuA4kRNNdCEJsR5YzouNlMDSMkxeXKXgpq
lr2UIzY3itpJNp05jUBFP6w5SYfNRjJVmyjK4thmr9/sGazvNbsl0dwTF/7YaH/iGrqIOLsNKEXINALw
SToVQcktinsminBgT7XmuI/C7qQEbRmoDurfbla+DSqqxhOnJelBmAsWDHZ6xvDUvzSbGx5cOHAchtSG
KhZbKv+cHHVieKwNh6tqS2McTOcGG2DBGuiNZjJqgnT2uxNv4xV1Mm00GXAlCHPRMbhYUkKeMSrm4TSU
y7QGQTwQUyMqytKU4EQkx9r7ARBlwkeocRtVyP9bh3UORLIblIXQGgQaSZ2rWAB6S5CH3uTuNiexvaW/
+BDadJhbbg3OXS2nArd1GUSH7mOMgsngjq7L50T98SmgIxC0UJJ3AKFTOZo9fTsxFikRuEQHtICMOWVd
BRKV3Ye1NYAngJllHppgXDQoeLgLNuaUcUyYKJqALiFUc8CK84mXVhyI+P6IHFMnqCbtWrAMtFXYzq1n
Yyy9XtPZimC7bQprYhSVNvFHClhtn9kmt3v7DPrXT7I1gerzarnYXrkuaPA5R4drflAk21uhCPbZUXm/
OCSGCQhJn0aJiSFr43puRohw+N3ALzXyg6hiSJXAlpFRrLZnVsjmYaGE+7wji9MUFGgc9B2F5d7vEmsr
iMHRKmjsCWgodAhC+c3OYFQ6rFeG9XiTDHkddbUrpNqShqqo76ktAZbxB+DmUJ97WAX6lAaknjVKYmMT
gxCgb69w4hVxCcWMutU9RQC+u578IXOWWVUZk1YxLLu2j/rObjlJqv4gTuqABPpurDrw0PJoU2byybSO
G28MEOHAkAuunbTxvVYE1d25Ban6h7wAjB+Bt461H/Tvxwp4ECcRYGRiYEZdV+s+6EQhb2J+gSYtKxyH
Z6kTMk4ynbyMD5RF0s1G/3obks5oPXJyAfXPqZtHUwhT3adBoB8ZxqL0Rrt42bJUcUeHj6MWA9Btn32o
9ZpVs8NXS8K6H4Va6DrZ8SsTdY3D9h1+6spcjiLeAhHJHj74/l69YyTyDW9FMfBeG1Wb59ITcdAlp2GM
hC9WiKwC35QwP66fr80fDI2EKTQmxIF7kWlbawUB8B0/x1MZDsDtiw0ImBJRyqrtXWpvelSGmUYdgoM1
YVrd0PLYymiw27rgbttUgdaUiwrjNKmfIavsHNBCO5jmHdVTld7xy8PniwrCFImtQvTdjULuRt3uPVIZ
q2K336i3uC49lukBQWVSw+4V7pgShkp92292QrJ+NmcJu5RbVJEwuxvaaUU+jI0Jo9mLCFDSosGkdTfB
zi50KvxXFLNIxLjSoz8cIYeDKvaqCHLdD63qUXe575ZTLelpihdDRjGp+NADZPYlZZpWRn0UJfeOCgQ1
NokNGVRMgyk9zIi3rDds0JDlbWeJh8jus13QX000ShzCDZYlRGnvbkMnUYkci6EN9bQKM3Ne+2DoC8ct
LApoKlWUYvHKZ/HIqfvAYR7WlgULzwsXj6LMzh2ob1ogeEz2whrOYJA2vPA1xqJ18KD90/d+kK0iF63F
x7eaQVQPdQoHooY+uZbjhN22zXlX7DNPgpjR7IEwirmatyM9Prvbw7EbJbXM/qTVcpiLQixj1J3ZiogA
yE1eMwQKsz4EbtaFartYEBC2OewhRfD1EYLv1ctaVAVqjdMYYf21rsrjfh0GliOycbf72ohACuPixJGc
KpWDm9jBsSZ83GCHx5TTUcuRl63DuevxKkxWhU1IHFESgpOLs5CGFf8RI225dZNo/evXUVKsmovKNgUm
bRmlj0atk8kERyKbhn1Kjku1H9t/CtnasFTJhzzYWvytvtOcszSEiw6tp8ZF2OnlU4Cf+5kI+HyHpruT
V0Q+wwQN1gf6zItAmXmQYCI4/b02BhQcML+5YrnIjjG+lR6+ppHjdgmWk1srkqfhesMguEyBG/kQrW77
dAEfkEzkxD1UnGvSzmXWSziIJHnraXX44f7ELnQPi1g6E25ahpjZPFcsFRBkG03C/IpcBA0SGadaklAF
hqPb9+7jBwhN7iXpWTC5FD+zWQ7D2EfInwKmz+bnU8lpl/u6mnOojWipOgONp4Ot7x8aN18qvsV4VMEA
TJhATIZsRYBCMjPcBoMXQtcoES6iKpDsM5Qc6SlWDPeFIhRi//Qpgc8FYwYkNdn9SfqDIhJzrsjSKMGh
IKqdItwtUdm+Iu1hE9z9BTfr4LS7wwQHVuEQ9larfjZHQ1YuDT+rIAWnUV/V36K9qD6SdntxpzjtAYyK
pVck/e7NNoTvOzh8/1Zmbo7y9MizmbmVtu1514Fo8ohL3d+WQYRGLWvHxbqxGJrkMKWEF2I3KXXolfjY
dNvUPWfpq5BdonMFv27LhMJQVoEk3a7bGioWROuC9S24TyIm22C1eHQaT+w7EmzEgXYOj1iC1tgelvP7
naFh7pHfQlVxyp7LgzB8o4gL7mZbNQI+ZVteS6F5VYorx326BNxWjvi+48AarMnETJJn6TZXypYcHbji
BhMn8lZh4bWre4496jIafRp7Xp7B9+p5J/JiTiSY4+okXEVkPQcF5HqUBmO6V/mhFDTjuuj5cko6JMqj
I84ygDz5AYnTRE5tA5q0RezyjC9X0LRrtO8wWeyyg9zX19O5eahNnrORipM6KZflSZPpPufm+NdVCGni
dOimZ1O1/1fPQog+sWKaEIrrluo+UTxa0d5WJxIpl1UGiG6eKzV/nSbTDzZLSdiFCqarH1A7vOWfNEG4
AY+QRRR4LAIMUm7WFCSr7OpCh0QFKd7NTfcQZeQtWgZOIuNYI+GxIp7dLbtuWuITq1DO1S2ScK/tNmMv
L9/AHYVOL+V7EzemkdzPqnNOxt26FJGHcAG4htJ+5AdslXfNFnq4hPZ68IqagedK2b+eTIVMClPNa/Zs
YLkN1RxEjs0awhOHfiR7En4WB4DerUZIgFto8pCK5JgbRbb4a9+2gPU0FhS1sZtAXCzkvxnNkOzDnk6x
JymEZQjfBuHiqI8VpRawoywsJKGmmQdVE1ZYosA72u/QrfNUxZ5UuNNco24FdfWdDKdxxwwtswxgGj1I
PGCbBZlZyMKNLpwJAuJskeGDsvYvtACs1Wph4ejRo/Prg8F6zyvsqM0YgbCWsyy2Ys9D50XS4VOUUZnN
Sl0tHBLAtnt2/57ZlyquOIFwXjQoA/q12UviHNtsnlf8ERYV4hTett3/Obtm1CixEzHLf3e/tKv9zM4M
U8XjGVmvFRuv5RYEg1I7a95BdyT5jjt23DNmMg2ewhxxEUc8JJXyv3sRRRkM/QTqQujbfTChK2qvlyre
MIfbDixn1zcsa1Wg6Am4923A+qGq328mvSPWAeW+1iyeW8IouyYfkMMLDh2GSkrI/AMtYkunZz/LFiDT
m2SItBmHHwlondCeZc/ciH0h9pXhmJoUCK+liRVJvL1ZJNBLWqtO8Xx31EUlHWtwqyBZ9vYP2oG/Yy6D
4UQ1UqDWUhodZl3biAwU2WRRx91l0arKLLWU1c7ddnitstx1XQrdIaBlhrbryt8SSD/pg9oz3mWf8UY3
Wb8tpWJqNqapzDcOHRiia4q2tJphiKq0RkucyrNfO7gDfnS/S/9m1sFGyifOF5mDEWiB1aqToYyEZWea
YHE/Y4dH6WkAJBvRvWSd06Vx3wTF1jJvqcr6ZzFL9T88NjM4JBFHbojZ/MjTOwegGyDDYi5D5/+O60o6
fpw66gryNEUqpT3stNq8CYTuSHhQATCf/VWx5ROP1/oT+4MnHVr1YmAlN1EPW/fdKDe3fF8laWJvx75q
xmewbGn3O9qJEQkVPBqOq8WDZGsvLNz9gPU4xsWLrUhHSkk1hIljr8jQo0VSebP5sz9rQ9Iugbbdb/0R
Ssut/dedO5e/3cb/Z5LrwUruCTQ45yWl5Ck7l1xpZ6ZmOTiyLRUVnA35BBqK9KEJpB33W2VQrNtU1CQ0
F61PsnOkSKXMC2Zn+zHumZO/EFgJNEg6R64nJnkqto3nhVfbWcqyzF8e08KVW3qEgNEeQrsewI3Ug1xJ
W25zM/N95EPpm7SAfWoFOrp0Jsd2KrRkm8PWsSJLUexO1cnteTO+y+5NAODSmLbnI2Ez7ouvMxyouLN5
ATgLVFo3eD7W/q8kJe9O0ccypoPSNC3McLW6M6qo2+eXs2hidkzNZMNYJBWwIkq0aHfBZhbo/mwtmKPT
W4v9OTOGi7gVobihF5flPiZK7ARpwXzLEVygHmGvcNSl0mt70bHN3h6dQa2qBlRtkb5UyZYknkpHqkoD
loNnU9Fte8Kv2PHWuAP+ULbPg/8R4haIYe3kTfYMs6Njh7tCXF9waW27xRxGVjNJtKDcH4qSEybQFEkD
R/o89L4XsshDwSrKG3XXJsGiDaldf4U4XO11UsJK9bsxLgjgu0OK70dl320ZO8qr2fLBAojESp0ANyhK
3LCQfZ2qjqqaj62TBwaoDs6pNJcxvZqZba3Pa3t5CvVULXSOUowh8jtrLm/BGoY75jtFq1eyle0z+Hw8
Msfd8+Lb2nTOzEzm2COQ1gsNuRYoWdzrWY174PW2Z0STwey1r6atGINxB4Z5QXDOUJwtUiiZ09RDHd9s
YVB7soBikYW2Q8aE5zW5GE4OifrIVR6ftdf3FS24NYMGFxlaoSvUltq/nFNalKljfHWlzckTWS58TxXj
zvxqBJkZsul2qzaK0TLUWlpP2TuIEjOj4msolmJPHtZH18PSvHufZVuVC6GGTyS527BmkdEDmwN91sqc
Y862vW1Zb7b+DiRFOP0Jn0nBIchKD8Jf2MpyUdzkeneOV/Cd7IDMgnyFPH4upe6wjepKusaa36NASpFk
3Q5kthCNON/3MneqnbQFCvmm8RpujO0vlT6m7xbnl3+eOC8Ge4aaQFnctwhFMyom8TqEqTTsZ29zOaxS
AhC/B+C82WS5TZ0XhehKgMCzkKUjX4G+C5iyDWjClzv8gDAIrhFnfxL4X0n94yClKrHzl/3Wk9k+E9A8
h7Wk6tW44AOeCUqLdwvbK1wL7cOtYh2KGJYQ/B83nuYLvBQ0F+PMZa7WnzcyRggV6azRv23cr1NIF2mL
66g/KFLebVgFRbQ3iX0Pc3U5Q8wzmeY5OX4x6jBmNljkMJRFS0BAduYBbJu1AMSsy6AQHd5ibUhPW/GF
/ZnfkSUVnGuo1YzbcE+nHrMbhwx/CmBk+++x4KjiubLtqsjOMuXpXH0WdkbhuSOBeRQCpgab01VS3l1n
DWOnKizo+SumLomraZCQdb4Pt4lUq3TkYCFPOcxmftyBUSsWiIxonL/WLC5x2OHKPQlhvC/zwR1pyGmc
0faazIbpS1tM7UylhKEcRV/YU5klGVU8TMzaSBpBR7XWVwa97mLSlmNomMXoCRdKRCXsaS29rlatCUU8
WFq2+Ho5LA4cGHGFUFy1iXUs+1nznblKV9ljDr9FqHM+R+iS665h5LeINYi+bm3pFQZTI/q9P8VSVJgV
1kQ3fBM/C7L8ewGF6MIdmofagHO27w36niknQCaDb5IzE3uLvGXhXgKY6Kg6ojYTNHw48vPLq8wr7LsV
XAo/W9k3bm8TrZVx2YOLyk2TmSnfITLwg6tUixGWimNiHdnsi71xOTucEuPJ+ZVOkW0yOn3TyWI7Oh+J
F7B9tfVZog4EYw7MoRWcsANs8m5EuxpcZzTY6iRVcCJf2TXUkc1icdtDxxXJBrdbCFdQ9pp5g8YriIxU
hDoxexrVNIx+9sIjyAeoP50c1XL6uB86FZA+msc9RBWWn4UGBJAy8YXsatortF/xrK9CB0+1dsOOJYK4
HLKYZuwdPEN9EaSyv8wIJrJmwxyyr03zpyBi9uBq1fqRyAOE/hrmUvgxWJsCsmvmMKFwNPzZ4Pk6xtiv
n9G9fJ9UqQweOgm+1QatMrd7Bp+nBKm0ZlmlPUu8cEtqUCsOzs6uznKrOS8lOdWbJwFAFWnp/9oDuMyB
A7Mi+dQEAj+0svvY1UNVHRnCVVkbWFQpe4xzfFilJCzWW+Tt60wFPzBy/ryjWDuwV5EEgr+QAfRndHXF
EAZRLNl2ISAsPT64l55RQhN5lVL2VTpz50LRj+uoAX5OZSmaLM4T9P8Jc6N22HqaOcrTwhzpJAuG9Uko
Kqa90ZU0PWOWUDfZOZVUH7B1+JpFABqfl9+OYjq9NOdtfyO5GTHG1kogLHxTBznLpidEzlHWdNfaCIwG
0EWOtyURvd2HocY6TrlV71su/lTI2967l/bkV2mXBuNRMIgEQGyCeY35wOhwJepkyuKOHP7kTB8vTEub
AP1WMs/vdHC/vtYXynGs+xpXWzNXtRHaQzuYMo867LJteI3P48aH9ljt7SG/jSPPmRIeQWljkpmdOWR4
xg/2QKajPW21gc7yV2HRF3dvAtod+XjtLUVkF+eSXcRsfJEkktE/3EbqtWo2ozkvZw+cwQ+LKkH8zSYx
0yf288S80t7o5O3+gHsOFo1so9hxquTg2HgdaEFucytZ/Ed16rWeU11pWJUCNXE/2WTFCM+1al8S83A1
PJPeBMIqJPQhhoZRcTj3kXpVvWkdM5sFslv1ZuQp3M7Bhhtxm5L5mtQtXLP+ZMFBI27XOSqc50PN8aNg
fgw2E0sExIbwf53F5GdZ2kPmWe9sNArNb9jhjdAKyVedC7oPxmUkyDX50GE7Mc4TFcbF0S2oksB9QzMC
a0D7pHpSh/io53GAUeAswq6XtEbrI7RqFzXLSbe2XwL3qsy924ot36mp6BdECfK0lut+kotQ3D7BukTA
Gvl6dxCUdZk9nTiwjiVykMskzmpVXhB7+5AtIu1dOvuDber7zDjitCUBXW57ExVcEzydDoW2H8zOaqoE
b4MUNuLSA6/dHLkGO91lG0NzAf3T+k0HPYlNiDvxhLI/M+2f3Qv/x//e/M637P//YWG92vFNeAJHi+rb
i26T8CwHISvpZAeiBIW/NwaJTJPoLfCDbMfcSGeZbSGiEDbbMgJQYqcn+0d7UaajBJVoz+P8wY4qy+l8
+CL19S5Rae/lj45/+AHVCa9Soe5//P1G6ItBkev2uVd+8bPvf3L13O0XnlBVaP/92on0++0Xn/rFn30P
xZefu/rJ9eu3L/zx7e9/8On1F3/xww9+8cQzn77ztv3v56dvfPLejz65+u4n1566/afPfvL+iz+/9O7P
333JPvnzcy/cvvT8Z68/5uuOaXDriaFgBlFbBSCC1YHH65Qqty2ScbAua+MOAjTg+Th+JpQwyy44lLj+
zZdVlDleHzSqTMfoMioPrZQPlyyyLBR4qWT9BDWYdX0gA+wT99UrQ9rDrDpspraUGFx3cwzjNXASQRR3
Lc+mjlR/Qx1MKGy2z1gGMgPXUcEgNKM7UJw2ngt6K/rd9sX0Oy4WubMK5e42K4crRLxukKNEovSzwCEp
gg+0xUqUHy2p3AfNQCj0/ZjKhieg/NfqQobu5kfPSE0S6n+uxdjqdkJd8jhVH6nKKPVJu8Jl6m+GWmGo
cUKRMd3ro+cwhzk7L+bXcd1Oag1KjTLuzb/f//B9alW+zZl/BX8l5UKoFaZr2qdwxbeoU3ktu1emjUh9
xavUFNU9QxPzcrr+ZaojhrblVb5HZU3ru7+k6qZUDpNOpn267cNHoXNJzch37XnxLFA0fQqqoa7YeSnT
Cr3kPXwBCp1QF/U+gQZlq2552Z6e/WPjEn0D9caL6Fd7onddefECVUy/Y89+0V5zBdAPL/EqH9j3vpNp
SF7Onv0C+0nKne+6iii1J6li+q637m3psHLE9JmrfKa3XEcVMwBPRh1P6kFKLfN9u8N1tuCqX8fHEcqV
VJa0e9sT4u8n2ALMz9S2D3/SzlvpYHJuvWc/T/qsuZZ9F8/yAfU3b0D5kqN4BZqynIF8cvvuB9Q0vcD+
UXulzfqB5rqN19WkFIt3P3Ad2vf4HP6ZqWe5kY3FVd2Pc+5GO4d5Z82Aq7G+qM958sOXs7XznjRioSWa
VFQvcR69j+fj07br5TL62kaY6yvTAL3caoRaWx7lpy9aK56TjqqvKSncanzf5xrAvP2uzdz3uW6O22/v
uf7uk3n7uR4v+Aq8xvG/QJXYk7wO7vuO3audwxjHdh0lPVTNOvY39p8/dy1b65+sNvdJVmG+ELWkT3n9
cdVAR8npKC3tJaRVI9s+8Czfej5+uRHVse0zL7clyNvrqJD0a9k1z0b5cpaZxusn+cq5qKZ9OmvPcZZo
v9F+Hv9ebtuGot6pWrfue43Vvc/E9Z+Pz7wR9dBTiWoWEPfP6yle9ArmuqaXbn+pvVd7X5Xwfoq/PM/P
v5kVxb7K26m1eq53+O/jfK7noyr3B1Ga/AobpkLw0Wy8/kN2zkvTz3i8fS7Vzvaa46mXno8C6K9HqfdT
WX151Z3Xw57nff8ivqX+fyX6JD2vjex7vG96xpPxmZf4IFdYNf7ZKNKdxvrFGMEz0bdxzVefzAqan427
p7E+HgXBz0SN8pPx7GdjjI57jXjvqxhHvP4Gr/9jXjb1uVpyge18J0b8JF9Mn/lOlG6/ODUfvN+usetO
+y++LtIcOB5PrcLur8W9XuSTnkS9eG//1agFf7V95DRv/Qrsf3z+xayvLscKusrLnon+POMF7ts2q69+
GCXUL7bP5b16nO15Ij7P5uHKp9nmC+zJk+yli+3Y+Tq6EaXkH8/2jcvx+pl2DqvfMMfeiK9ci8/rM1dj
nV5j807zk5pvmv8vRZ+cjkG5EnNAbb7iDda4t3M19eETsd6f5NWuRJ+8lu0Px7NnzPYcf6LoUtw3tecC
q9WnfYb3xdXOZ/Mnzc/jMUsv8y0WsvfxeiGbY6dizrzKm6a1prXwwvT+eZzf0lo7z2f/IK6j+a9N/vnp
Pf9afOa1bM5oYl/M9oGfRZ+8ETv5ad+j8JXz0bAf8InS9S/ECnqv7Qe89Xi8dTZG/EyMAluibmnX+wtT
e0U7uLHWfJ5f9odN+4P/qbHQ3HuG1+e08V36QnvG+fOmfj7FP6/yM29EI5/zZ/TPXI0Bupg94xPx7wu8
wmW+/k52Vl7w72Lf0Hn3ahp3qkVDF/tpKiS/TT3pR5Pq86Vb74Ri88cnoC798Sm+foWKyK1Ws5SUT926
SDXvpAOeFJZfzzSW37QrvAldcOhphzI4Xp3SEH9Myti438cn/V7hAVNVmrrXev0NtMnVpi+46jh+P4fP
+jXPfXySV1J73qLudVzzdXvvFBSp7TpX/fNQ6H6cn4K+9ROhUU4V6VeSNvlbt37Cp4DW+Jnsvk9Sn5tt
c4VzKVJfomq3FL+hzX0Kz88+DWXst6hv/rj0xqVdTR3xS9Sf1uuPUsX8rPfb43zKM1KsvnUWz4/r8NUr
1Et/mq9Dxfws+iB9lxrdrtd9ht94068v3XK1B9d+x5/xvM2Dp29d4hXfSnrdP8v+vUwFbe/zVuvcZkbb
J+ehh+7j/oara7fa8U/E62lMoe99DXMvxiKe8dZraI36wa7qiuPWX49TuTzUvWNcMPPe8vnzpv32JK+M
+X/d/oJO+mW2IObGGSq+n/W2XcXrjCsi8ge3vS0nisj/3gxmJm1wx55SUmN9PPToZb99h3LTEVam+DDY
eIPN2R1MhkivZQIUDyJ7KqK1Wg9Xx5secZzPscE5Jr9Z+hwSs81tZ2JWwHlAB8Fztq2eUu1y1p1U5D20
NMlAP4KSuvP2TyeERIdKtYd8IsJh9yO/s7oxhuyJyBae+d3L5F9kZhhkjzDs1hBlrT2hkWEgvrgWIHQy
Be7JUK/FprJQZb+yRyHOPQGDo8C4C/5kwRTkSToCkXUYelZRpb0dRDaT0tnB8RbSg8V+1OTKocVFW9e0
N5l7gAFvh8luHVtsG95K/dVVc3c+d+ZHg/uQld1vXTbbIpCoLNDC61wm2YP+92QgkjmPZIs0iXFIct+O
UV6DCgd0whuqkKDy8/3gFyKK169KZBOHpWQxhlkurqZOXko+FqrY513F2HaIqY0kYkssissMbgh10vK2
AavIMUAph81UhOvBziOdwaxxpIIO2ty9Byp2gJvmeJNWUIY0R1yInE7AfJIyvDUnxGi4whzcoEh7Uut1
KIXDhuuQuhYOm0WrU2HZ2RxmfSiDwiDrxfSFTQ2RHSIwXrRadPbKl5FWpCov6Il50hT5lCPMUYM12sru
7+0sFhlx4eFx05JOnFziQmxjpgCU1nPonlAdIDu2IAHhjLUFZD1afJMpoEhHzuQB7iJHDYfOQCXtisAw
WV97hQIVtS9brJWUBVyP2rWqPKVh02WotAMF1oecly6fSVyCY0Qy/fKlBZVWiK0zZ2m42k/AIEnSWrHZ
dZiKSUOvzlok5jvuk1Gve5O2LLOtBeZepAUynAILLWbIUQiXJtm73kTotW/lUDZvN0c7YAFLOd5ikJMb
Wj1/1W2m7Il9Zn3PwrGdzYY9y1GbjTtbPgrXqTTqmU15IEOQzzkKQniSDF9UtXJ2jsr0Eouc9lnepcU4
ItmbI0Ziq1Z+B/RpiC9BfSjHuM21CU376IILYfO4SzJ5EvSI2uY9F+woV4UyaCWZAe+RLrznvPuZRmUi
UlCqBalOfAq6qhuDTcTVVQZcBP5SIN40o7Al5ejPRttZwtVIa4dAwcSQJAq+amueNzlU74u9EP5RQlIK
nTrpigwj3ClaPYvlqURqAg65/lAMXtVVisxhSAfsbNkZgJIj417fh1e1wYlYDHHohF8n5jvAYqka6H6A
JTQhBR8ITU/hU+zkS+V+2x22LvsusKKi7g5x0h/5wxUtGcy25fmcZiIN9tAVCZwWhj7jvWyfORCCGISn
E/JYcL5UOQ503gsbqwSwr586OtEVMjE7He/NrPShEArAHhVIUkH4kooqPpyVvEhI5MaRV1pZToPcGMR2
m+FJexPs8VtboSrsguE8Xbi/JUy+mVbEpOJjS1PoYwd+iwWvNKgyrIeQLA4RFclas3wrspBewpmX1OKV
kEDUOeWkSKQqIkLAiJhxSkSC/GD7btUxC4paueZlzWpxXsm3CIn9EM2wbSKVZ26pZPYxaWS7VDZSsymP
LW5QEBOCLLNJ/WmcjgHhbCkCnSKWmbTNErDGJsK+fPdvQXvWgm05cTZT+etNciZpE+ck9xDikZ3n2i2y
ejtFW0emluZlEvUpW+4bJXUIp2GPpo0uoNcyL6a5BNYcCdXhZLBTsWUKQPBu0kdNSHLRkn4D5k4Sk8QU
G1E32nX8ihwPT+pyXeo4bAsZF61kWwH7YDQYHC4C4xPaUZw7GWGoN1nyPZU/QixbWye0bGMqEGBVgIJq
n8gEBKEgGoRW23Ltda/nY//kBN253DxuQkd8Iq6CzwNXL2PBYAIg25qettrvcraiC362XK7mENVKHckF
AzDQtXv2Z3C8uQPT7oufp+wVDGeUmHE5Iz+DMdPsTjwPVwZmUof81WxOAc3QaJ0iE/cEILypm6RcleSc
HYoSlPEm5EcJgBO9KvQ5IDABTCD+yGmbTWsJ8YI+4cZmlOCQOIRVKGWGXouJy7CBFB7HLJObulb3NotQ
2N4pFqIIvlE1gZMiiJTaKVqjpG686H2I8XlNZuztDlgTkGwMHslqxUqegHC1im1tURG7iGPFCqLA6yi0
7Me72WKBD3RVJq7IthCvXW1bTkXEeZqwYtive7WTVu/NgPbFvnw5J5F9fMxlM3QyZRW5ipLMoipRvmJe
E38bujMw90NEgEyaUJCCuTpleybOaiPZDqlyAM335VY9a7DWCkUTe3WkSuCr6HgCAInAExXSOiTnqR2p
ofr0/0O2nxOEjehIFH2whRGUCOwh6bRlrZxUFaQpnE1vq4SOWZgePP42KX46WFvOmduZAwV6op8j4L+E
fh4JbbnQQMHKyEG9j3MOIMcmV7WvZvJDQpa7/5FoA85XbqFbSXyeyMJgMkjTPKab3WdmalYlVdF6kFCu
/EFtxNCCai0hgJCJON7p0zmnwpIOxJneVFKi3fLiA4lsi/Mnm7C2J1ZRE979eskIQVCDqD6P6eRblfbw
wBbP5ENS9rh1SYwWSyZRK1sxbJgREQsgmdTlsrkacgWHxsNJUDLrd6P8CHVhQGPzo63uZ8ShhWXBsYKu
nIs3ZPLsjU6FkPtyv127WB4923SyHop5c6tp1emdwqThx/6cZNN79RGxpHz2RgWQ3uSeQYYV/mpu+2fC
dpQ1ag804Th9sQeX2gGBAel2Yfgwi5ZbaasaqNooFFZIRwn4WjrD8ufou40awf8kMjQJ15eeNKzktKsJ
UemaMjmVpfTCVY9wBS/kDNsy5xcTpBW1SaJ+B3HHIHXIhbQ2eqWtsgvt8UMJQmwWo714pI7N28GV8jeJ
XgwfvZWfwobvhfwYFnGCshiPGZPZHjtBKR0vnQDZ9m7NlmHWS4mWao2EkyVXZE44yzRYRWA2bcaLiaNJ
kVs1dF9S9Ks3KLv7zYI0a5ja7W2cWRJe6qmcw1L2JHTpTBQJLuGQIcozUa5Q3TzzKJOVivFivDeqigQE
n9ot91Td9pCgFFYAUpPTRQ3jIiPwo88eCoIOQ0Duo3RRCb4Aj+coMG2y+QJzGRwbB9EnsGhpG0mCrS9m
nIylnPcwyapZ4bAggvZoNTSLMheHLL8W2h3YCNI2CEa3I4XV6vQOLDsiucMfss6te+Hwcoft9+1F0C3g
T4ZuTf7YzbKHfhhHHbnynYyzux4sHnjwULHvvkN3f9VF4mV5jliSaeH3G7veXh2hDlVtobY2BTfywEAA
b8esPNMqQfcmbUQGe1/SDBg0mYtguxL0uTZDC8+lBzX9c/2ZPo2FMCxa6LeouMEybqrFnL3Y7sg2cRaz
yhR75LmGAmvSdxlR+K/NEPj5orNcPevfWSmtF8riftuZJ+P+YNgcNovv8ObNV3v6oz/hT2l4/fXLVPHy
NAQhpz0s1bVWfEt5kAQJRcP5h5dkbCuelZsr9fqYq+OuAc5M1Ia9Y664o+yqNr0H1+pNUFSYozCTIyq2
u4ZE5k9EQkU+wh7HZrsfkyuC2CpYzo2IJGLlst1r4Dl4fycnX+FjFR/1OyzlwbnlvfANf/t39/32l+6x
/y1NpUbip00O804WptJA396RL8v5JpMGmt031RN7i755FfuGw3ICksFUrGfqxFn8GrDBozHLZUzmOsu5
JsXU3Zf33sGZYXtnNbqj8OpTbiPPFXnwfqlXZ6okLOyZKhdmkqLYq0csreRPpPSHCgh1ipmpAHoq26rs
GLpMzDYIcUZJCs8w5BpF82z0vD90MRWskJxE6PJnWvMIfrTCJd3J/FQcu9ifp/AajVQ0JjiSigLt3Jn3
/UMQdSpUCYMilX4wILkC46lIcj5Y8xttUa+p+ATea40YdXJi0pYtc1mKiq0dE97xqvdSO1uPkM3WHllT
K2BGMbbGrdOpfR07faYlWEylVnyTxAYVXMS0/nKFB9t58nTEzqwWnI37nW1NCbvalKs7szSVksiUesF7
8CoO+t6SpphnZkgzSwxynkfJZqjbWBIY0DsWi4eb+bpb7LUZ31ZX2LXrtztT22khPtR+czYHALEzeh7B
ybXcGC2mMiy7R3k4BNV1raEpmo05kqq4bHH2bPrsmX+4yZZOVugVj6XtLTLjZNvdrX1r9uh8Vn9sVib7
qIt/hsspboWpVB7Ic7lzxVTUZP8jlZ09UWvOU+d/gCJOg8026wQbBck/miR0rKWJF9zx2akQGJQH2wpZ
mT5eSo4EF65NzTHpxee6Qz1xh+sP2Q40swQVYVtAyV9dnrqM1010h2Z2KkW+bWoLW57KKLXsSrQ1q9iH
oz6nJy9L2DliQx6b871ntRyuUKLKtpVuNTPlBcdzMlOwc2EqYJzVtVMhyGwnWppKyIajqOoph+r/fv0D
u/Uf1v/93SdGCv80biT7wmOJyj1f3DWVWphK4yzRYHR1oqobuX1YH51i6nCamXJ2i2rVLN+mLiUNLGs2
IlWt2gX6c2nKn6FSC3VlwyCTCY7IaE2/NEpiTkUbCvfvPZGtmHLsbh5L91HpTDmuU+G3wkuA+Ug37Ruj
EKveiU0c2AtMxCJyC+5A+P4SoAqhNzKtndgVUWdLL3C6Jea1l2y1g7U/GLWOGSZq8gdoUZvXB2UTBw2o
omakyVszE7Muad4Tb9BmbNDQTOjOfbK24Pu+PPVUZHV+zJ1NJwn9v6Wpo7mYMmdUTy7aQ98hyR1wx3S6
dy3DNyW12x2FyifhB4gnp/WmytXLVIxKjhnDHXiF8TVIt9RQtuEiz6LVNj2m7JDtU6u4yCrNMoQSezUu
un1q3Xq1Zz9NppLN0k4bho4+a7ylxEQWkoArWeRaeFnRjxR7WImjxFe4Fm7upUH3I54UplnYVNrBYCXX
aXttSy0gwpIVxS5QXhJAoWDQVqkqCe9e5JbxFO6mmPIli8Up/FKm1MAVkIGemlYdiugBwANSIetMu92m
UatVRottamfPSvd9/uyoi6kJM2WXAxrlQtFoIXX7WYoSczDSwFJ7GlY8h30fYQ+mHPkfol5ccstV3TH6
DSoqnLiMmvJ7yZPNRPF2bx3LdDQ8Wuh63ggPSGLC1+226QfM46TYIG0v6nmkx4N8cgebKJ4gju2Uo5cC
xAraZTqfhVRAMj6tazN5tC9FYbgXTIVzp5o5mp1C4gm2QroteLZthI1zMFS9saqosZGCOPnqa6pI/alf
dmdqgp7nSX3tzHEPG7hsvrv9Wd1B7/k2LzszldLMyhIWKuDBjB1TLy2PFnuZh2BS3joJ5hMFotSw52J8
SSNQtGclq0gFvaW2LhMLkSCMhNq2WAHfgHnaAl3KrXpUxrrdPpPhjRpXpgxusdAcY6VJj91/3712+ny1
okQJ85AJptZgR+tG7XZaVqk/pxImTTMerqlCSrLkkpYakAO2ABm7W518w87O1qNPqeiQnM8MvQNTdnl4
WaluQVa5T9WEQp2ckWTv4qp7V1txPtZtFaHd/VP+kU5RHGYYNS6lVOptaiavZuo69skpp3V7vaYi1yx8
tQa9aNUdQMuAHKtTGj7h4jiablE/4P2pOeGyaoM2n4V43FaVjfu+VqnC7jIztb3Faa9dgP2SzpXZqeU/
Bdgja7+FAqmw9WhDxS6UVYsdemE5n2jFFESS62g8BOjTV1Wrm7Polufa2tq3Z+ZnpjeKjVRQhtHLVHsW
Kaqpic3ES9qXaEGkgJ17iuERtXXF7SpTqQKmuFvs7lRTVrLajdYjsu1H1D+xQ28QyUO8tDzlQk9F1HZ6
9bF2L4g8g2fgXGCMZ2PgthiRaAuC292TiBzvmWVj7ZOy1QPDyVqNyZLzowcLHgGGjarIrsvseqjU5FAD
+5HjJYrMWJrZPjMVI1c1r1QeJ8E7uStm7bQ104bcfUYiheJIh6NeXEEGv1cm8b2nvSaKsHWm8BZZ5doC
hy33rIjYe+nDvZ3+oFOo0FuUXj5wYM7sX2sXHXm0pS0FHGHYeojyTW3ylCOWoxUFZk3+ZskgQyA0rF+y
arFJxC2Uu7x0t6zDKkty5Wp6drR7yrt2BaZWKbAoUx0GooGTLMxg4AVo2t6X3yYvIPPx+GPqbMTmkVl5
rRfFfaItVG6WQiuTLfuMSTvPqtJXSwUeA5+aVahJ5xUjWK5varPAT+Ym+X+tGmgWVIRlHJ2uWnqDIhNM
c2iyr5UomurLrMhPdEVjAveR+TkbrPK6qtLZKkBfFUmffNKi2dMTYUtmiaepPWRLvnJUAt227fN3b8ub
Z8eW9e4ULDAStG6fedbCF8VU8Hw1dgEl5Kbw+XOtRhYgf1P++9IUhtxW2FZzeLABbbzmsE33PJbw4Y/B
/ZeaxofXwF1u/0rWfaazUG/pL7LTyUcnz/sGVQiCgZ+/d4088nedI389Z6Xbu38hLvr/+D0oALTX/OiZ
Dy9SY0AqCNkn7f3nXHuBegP867rY8c7yzu/wirUAfPCr5Kdnygv2V3tNqBGcmNICyDjwH32XqiPQc8A1
L1LvQBxzaCOcSNd4nzz0J1KvUE2CvfE++fB/Snb7RTLJn/NeuUGVgatT3H2oBlwmG/19akq8PPV8YOo/
m3QZTlAL4u2PHsXdWpUDfNKZ/RecGX+d/Hq0533eNd0Bo5T1xGX+vETuu38vvffehz/mp9+lqsEFZ6M9
fuvsrTc/fir99nQwhMjiukIml/OpWnabWHOJx/YWeUevkU0WjLvgGb1in7lif708xeISn+rsrcsZO+n1
/JNsjV3TWVWviE3lvCdw/N6w7z3m750kZ0pXuXLrOthd/gwnwAGzTz7p33uL7LEzU0y2aAsYbNGWV26d
J//tLedsncgYZK9M/XWWz/s0eIP46+OTLVcrOGB+v/NkjL2ja7Inz9q/15zJ9TRYcH4/8dHO2VWu2XfF
YXvMOWJnQzXH+/PJjM/2CniI7d3zZ7A7nQV/Lb13XXxAFEUze1CAmuFiKoSpkygqvfiB35mO6mYlhbGd
evmVIMFgu8OG5rlS5Fy+1RbMW/qt7mCVmlQMPrqyp22JFbJES9MB46nMnFm+01v5dHKnaQNh6xXSelMh
3RmCSFZRmHaVUNtIPcHPB3RR8cOUrMwTN01EdrxVHt1Q3rtTZNZeOlyg0ylQ4sz04ReXivh4G0ag8zwV
2qYvmvlrOxanXNUp07+zvGM6C7cyldNpn3d1MDhcfy6CuPBt9NU3ZTvv2bWY1xCxC0Qdc7/U/HSyA8ds
5h1Nob5mZvLksZ2dS9OjkqXfcOXOFLag0/I2+G5bS5B/ehI15pU8thSW7CxPRQ2nra8lc3T1+aODYbeZ
i2xtoXStF/COG+UVH+y1hWlrzVp1tOr12rIFRa7ivn06mOG94sWwZ7Kq7WHSePRX1o2Av14x1o29xFqZ
cnj2TKeqlorpVHwkA9x6+TJr3idJ3ukQ5xc982qz8SHr7kkrNKdmtGkL8IE8DRZBIE7ktpZ3p5haKy3c
TDMeTm1rUz44xOodHCv2b4yHqxtZ4WJ8eNrvJb4rWzwCsmwQamZG3Ld3zOaWlsY6HrdJOFZd2qdZbGe4
3APMChCml5am8MsZ1GM87M0yxty6pM3nvJ9Iy8kcnmJX9pNXmwWs2jQF75v5PZkkID7fei4KhBVTSRXG
jdr+C3aVez4toLcAYnJ6N1s+mmpac6pQCvUbEC/HpfdmNbwzoz+82dD+9ZLIZpiGpqT7nrmQexZNwru5
RrFwaKnsC6IpU3m2KA8+bt2BIlRyGXLKw5BF7tvZiOYIKsZher1yK22U5ES20ddUu1LvquiMI2ZXJlkd
eY0glrNuRLTzuqrTa2tgq1pqQFrHAjGU07zTe6c3RonAJ78wC5OFK5vFmb7WV6lFe0IM3vL0FpSDHBkK
HWw9NBxsleuOtkk1mHnlrFhAEYSdRMiQrJy58ut9QEKrPuI/BxEvtWds88660QHmpdKotFsVt8KMGHvE
5qz82COhOjmNZ5Fn2cb7pzjU1u5pdI/iuQlOl5NdfLFnWfCpTXT7jDn4eSmrNFe1yTAn4nhJrDLNULck
9tRNkYOM44gRp3OxmIbhYGlkNXekfFjMShNxR6oyqGKG7ZGq4oc5+AubW+KjYkVT7uMsZTok0JRUgJ4N
RY7zmd7UxdD/+Y4rw0Cu5EzICiVtE2mkXA0ZkNB1wYcvumLV6RdcxsQVfn4UGikfUAzknMvm+LtXXIXJ
VV/yViVVmR+EsFISFQmtLdw3Pu8aStbUp/iV86FC80EIy1zLtGWszY9CYwRf+TGv/BPKnpzOVKdeDKmc
5/3KfqmXQjNHSiwvZJf9GZVhngk1lTPRjKQPIwWk1+LdN6ZEh1z5JJR/klBYGhTvydMu6+SSXCf41hsh
+fJmfP1kaLy8lmnghCQUbvTn0SrdVxov70TjXwyZsqdC1+g035Ls1Une8UleWYph3wlBp7MhovUKf/9J
6BHl8i9SK/pZKMA8y57RlV+I+57iPHyW7byBf1+lnJerDF11CR38fjr68LlQptITnYv580M0BpeSGthr
vNTVGMTXfGL7I1yL542e9Mn2LL+SlK9eD7GjD0JG6XJ03el43tcoJfRSfPdMXOdKjJHmRtKRey0m7emQ
JHoxVIDOZipn78Rk1i2OxwpK8lNJRed0rKYTsRs8kY3CjVAEkr7Qyy49hA8/HyP+ZqgSnYm18KhfytfR
d+KCL7Gf035yst0ivDPVpB/FbA9dL7+ytH0uxodjxnpPJtGw6Dp87Hn/Ct6SZFNoeeHPN+NGL8bWBBWp
YdP8Tl5jY+doOsvDl3Mtd/fuYLAhAzltcM8sfQ6GUUzxynr18ue84pFzRudtL+el5lftEDrcZraK6fNk
5+dM2pm4fvKry2mXfcfi53JDQC93zdyRgbKn+Jyt2uKTaA7tCT12D8UWdwqXDLp2HyijqOsYVvUSI7Go
kQaJgGqvEHitt/A5z28GcIy83liSdYnas90u4XP30feohgk/LEJs0XxuABY+FytwDWSzTJuJXWGzM21C
7h5ROHxv5xvI3B/uLFOTpmiRlxnaG3C8xZnPRQzmiulsfkkTW9Ya+JKfc9aX0v09w7j4uQ4QTqE1VYnV
yemZxTTiKXN+xMvM6nDBCgpXM3zN5ONS/6Gz3PmcRzVTFFNpVVx493/KiB2eb7qrWivNDpsVoStJqBR3
Th5RVXDXq4dw0LdGG/b+t9B/3zoC+GrmGma/CujyOT8kw8AC59HkuuD4wkFlnVJJm7zesDg4Wj5uJ+5x
pEYyIKcoI7gme6E/kK3YWZar0mIlc4ojx7uYxoNOz65du3x97DTzsETBD5E0QXlRfCjzoyk6Quc/q62H
WqyrmMGrcsM70w7/zntIoGWGuWwG/bnPLYdtzZ2TQ+U6Mv6zzY4/2vVfP2faLs1/7oV2JihAdgeb9f/V
dXW/TZ5X/LqW+B/euqqSaHEMo5pW4rgKga5MbUFdUDvtYnJsJxicOPPrkETVpIUApe0orVRGhaaWrrSk
GdAUmuFQQqTtHpE7LuFm0v6LPefrec7zgZBCYr+fz+c5v/M7vzMwwH7DgIqPYQMyKGRBQMfvY177PPoe
WVahXwIfpMdwhh2/U8H6YjXGqaj10KPLj342/+492n609ej+o5u750ANGDFzioPcR6R7BxHwPiLwd1Dr
GBF28//nGKkAJB/1fv14B2v+3qNv8ewvUCEY9IS3MSbwJUYRNvFbiliQojJqPuP//vEagWc9ZdbA7e+e
xzgGRAc2OTqxyVGBh/gEl3bPsQ4vqUZDDGYH9YZXSc3WPD+/3+4n/H7bGC9BpWxzxqbfHnj0Nj4rtc9m
EB2RqICvice6ZArXPg9IN+PKCvGHnxa//lFFElZBqe3JGp9/98kWaObR9Z7cApUyvIPTJqOzPrJafRdQ
702+x/uj3t66xBE8nbNvzROcpU+CZ3Sad3y/bmeq09PFWmwsn2K5RUy99ATLKuEehWscktx4pQsnVcUK
QwFbpmM2V9T6UXM/p3VYAYrhRKroSiGY/E2IAZJe6FciwSNXZ46RNUZyxRstBsub485Zhv4ihESbbsHH
qvOdOZzCOJmlumd2GEpKds2KOOIpN+wpeEgL5CpX/Mgo7DqCOXMTemYLUOLtKdwxRSmPY//XIBItPdIv
wur1tZLMEYXQ+uC11NEBOXdBrJmx4jgUzRvO3mi2T2O+6zD2i46COAiDT3ZJ7Oj5m82GOf/mB0Aj1Ypn
oUHVp4CbDGXQAN20OUBRoGKgwmzoseJCb7r062K14FialpB4ullrK1gSYCzqzSxvIjoe7nZZaA4h0Udw
PeSY6HQqeHRgcExTySXaBvzMGyQkqKRxxNqEet+sdadbS8Vq0LV7CpBq0yw1oC47CWMQFgxvBhsqMBmn
M8JRJ4zFZTatWg5V5ZvZqVYbmDVdkBIMTEfiGtV7dsRYPSQB4Y6d6CCElY1zxVyp4GFfn2MCbfsuB5tz
J2tQuQTU3U6ZBzHfNktgYkGrzdRmm7x+uEwec/C7VACKK2hJDaVMjINj3Q6SsH5j/pibgoxhLYRDVB+W
nkB1JGS8KCkwokUhO0VXU2VlN4mNiMvh8HHB1ISCKeQQZ93bpQ8xxbwsqWm2PbisFNhYiD7mfioUMIPI
QnUwJkpILEBaHqRKtOq5p/yFmCmTval4U22mw/N4j0zkPaFZUAD+WKYLPZsxM5zpFcGThYK7vNUyrhAk
8mbvYiQzt0aJrIWOhsbjQBkztLR5+mHYHh2iw0GRJATPoawTdSILVYowhaIy+S7EiDHt6kgVk2JIrbzT
tlkxcKCX/C2A5lFjEVuxE85ydbXPW1B/UfgoCAFzro29qC6BjfnQs8jJa/VsWoEuxEtMq64ZJlxhk0iL
NmmlDBUcoe5a0w9KjYeLtHcC7Ip1KIoEvGcZ2r3FTsnYvF1bmPHQApfDA6YWVCVsyAdwuW6r0/ATGTJq
IN+xYn08jtu1lz1RQp77TnkStl0sTNhV64enXwen0OghvByb2tPchLiFdUxqUzkIJxifLFyELch9QPDw
UeWVkqM0erK2ZOb7VM54QnnfiAtRSbYRdYbCucs8rbX5gyYIrPIlFCIZK5r1/HStbtwvZBHD9tccLL68
f0Kl+Q1Ez1w9quq+YRHNYeUJkq30y4ojT8peqkQ3jFNc6x0wG5rZt4CPJpMwmvuFyCDL4wbS1hNp52TR
yHPsTKnwWMxCQ60YeZRK14xvD4/1SrndMesyZ0821AClAekyAcUqQDW79rIS45A6iS4PazQyAnWgnPhu
nrghHg85FLXGMoosUDaaHwqCfdjaF9ZUzbyACvm6KDlGJVTRY6+8eOjoxOTvjx3OpCu0aA/9LFZDTMrr
YERVfL4f3GwsMjSATydimwttyCoNFhezVvhZT9Cvb9S65nkbGtFxRhVnTZOpDPm1AgYcXYLSXnrbZqv8
VHMZuQJmxvBbqJGmPAXOz5xGpYm2yiHWI5zM8ywy2/2cDPioEm00I9Hu7edS4IrehnHSVsF1YK7iqLeq
H2AT+pmNohzl8k5kU0P6AO5sniIVPrPN2bHmhc5wowQ6b4qCwVj32aJwpM8whn6vZSHGNBk9c+TX9By/
GICoZrfTZREfsxG3F3IUkPCSLxF90dXZyNszQ41ShK32zcSRcYabXjdjZarTOWW5AU4pY45GTs3GbiXv
2i3KmPbanFXZ+3Cd8V4b8LM6VYyl4Ld5E4GPhqUvuLZwz3HVaRXImfF/tNdTVSOr0RI5PpcFoXYldpKJ
3Cc4MAtdZxJMdOZoSBszgZxhGC0zxspZyDkVLz8GZF/Q7ZhxAXHNqmbzBFV8FMGASAKzLjtHR0IzdAhq
jZM15NTYMYa4lwcIGyM/ZwGiTFRPlSYsKd2Y6+JCawPzJ0iYVBTKMZ+RmRIWbj0EyCPaUJKLbWWBM8pQ
FVkjnakkWaROkZiMSK2bAHhkp6tRNbgOX50SsOooG0ID2AyPLkr8gsCh0M48p8BOK4s2gnUDzdkhzo8Z
X5YGk0Vuss/v1isATv5F02p5oIVg5inznRRD5WAHVl4QhGH1vDzIITMunaIE8sgMcuHBMKccSujfTg+S
P3KptikSTKDPo3Tf0U/ws39xFY38THtvUBBYGpk/MR9w7czoixbaglPHFOmjGohzdXCJYF/XR2mhrKPP
MYezRAjK2fGTOsMB313odUW6eXFo1Mn4tEhftulR7bCJcVPNtEQcp2khJEPaantHsyAY5euT4DjEHRZ9
vfJSCRBhdRPuxyxy5/W3hKLZ8IP9hdZMfJ75Fmq6PP5s96PHPwN3GeuFUZ2y8JPrVAUMmeTnAd/lym73
gypsUtWOMU7/k91LjKre5QpvgKsCrruDfzMy/PhHPHOHWOXIp36AvxHKu2HuR2jsPWSVM8aMDG/mdfPd
CVH+Gev6UV0zujvwvu/zWwTPA5gyIrjbjBj/dfcTZJ6fQ958n7FeqGz3I6PJ28j+3sYabZt4f3pTOIZ4
+PLJfXoLrtIGd/8Uj7+PNeW2ocofxlsvCmFgQwKyFzCiuoKx6TsY7aX4siUwqLpjXMLpnJzynYRrtyS8
flGi1RTS/VrVuvpOMQEo3q0rcAk7Aj6XsyDufBV//4pZHFxLiBgXV1Xw94wKu6/hM6yo6j8P1XtZtox9
i75c5zM85Y7UPlsTcsiG8Ar+gtff4Lg5cwmIV0NlcW4JReSBvOYFPEWfRS2j2pnbcF1OUVV4HMfgosTT
NbliRzE31qWRP5SO2FL8HNWGjkBiuQSaCvJQul7YCI6N83dHIfBq3q0oFoqtNvUB8jGoxXakd+4JKUKR
izymx0WpgbWOv+wgw+Qh129yT3tGqukRe+SqT025IwffwBPPuDd191qXHrmMZ91mggoX46MBdkPa5LZU
4KKmuy5ltqSmG9/9tjd64ZjzyJ9Zx88vCY3hYyEFUZE7ep6/qfY/L4/3gYxn2843mZfiaEUPZPSuyfRZ
kxJUdowJ68Z9Qt20ptp5012HyCE8L9ZkxtnCW2v4hD+oYnBYMRD+vG2vE8eRvNwUl5Gyao5aw2yOdZvV
INWM4Jgt8/8PXnUe94nUaQrjQ99znsgFjFD9hFEqujLktKxhxSJ+HqlxpD65i9GuszYydROfawWyObiO
z43wXnjspvymHEqBYBb3j3S6M+V9r776ankJRXzARwhBIXR74dvRzIYCIhRGVJtUfY4iqLeI6vdYsTM9
XdSSdizjNwrlNiBUL6R/Y7FEgFL2UpAfAmagDllxDMdaWS9ZY6EYeyS6oAd/VKhE8Zhy+fDbxUzfcBFE
SxrN4+8cmYAU0zm0lviGJ43VTZc4EAaeQfsgjKnkdYvqZBaP03JWfNsstu5if9wzyPjGcddmYIUGiJYE
KrDdCYgqJ/o2Bp6wJbCTKSj0WrWwGIVBXgtCb4itYKzfu1YWeawHYrylgGihV92jV4khqSyNlQRkdgXM
yMn++MaX8kpIkKqDl3COemGZL2HgIHsP8Nfp2NLQ4TMBXO1TluFkJb4kQzSLYon7bJ4JInJmIsxMQT1v
BgWMLz0DjJZoIrRmhVSlXJjxeq3RnCVcgpgjuUKShNWjvUp+/BEzaNiJOLh8pDHYagyRktxJIWaDSyxu
hkh7DY2y4ozXt7GJXvD6mTCyaowYC1e56bJcmCaOhS9YA0PXdODQtRcBp5/xytHyqkEQrBhohWFouwNp
z17hBwjFgfc/N9MDYcVDIxMj8bgvkQ6DaEEAsDGsS5OJuofzChsq3TpIG1IBM4E6OUMM4n+CP2YxADnb
yv3ybJ3pSQHWhrMT7BTmMbo5YZax2alWTV2suWQGJIuicHLKQk7VCVS7MRDoRX8BrvFBu9r0NBRd6KkX
Qu45tzFPKwfeKYW4CAIXYAWOOwKXmGtoqiPPNBeFs962LhnAk/uoxC4Xm1PmnZuoLFKDYGO355IWabcD
DMgG3YBnJLiijbaKCIJVuXidkV31yExl0hWAWBVeD5O3jT/s+gub0EtxquG6U6/N16QgiWi7+MCtN+Qg
NYWG3PRCF8epWsdce1EVA8jvkHIWbikFCGzZtMEMCMCRsFncQRU/NPRe6fh4af7Eck5sB1ukBniAZkuF
JUxGn8Wm6vBFHdh2g/IaLjiKywA2PPJG6B1zVuWwOBfnnFmLBqryaPiHgEgoddVFjSmYJhjOwH6sQ23B
LghFQLu8vP/wy/sneIyZP4pDQ6MhIgU7pCdSKBi2GVZ/DPIeQ34t0CyDRRqpl3Gc7b0S6MgeMjNpcAgW
7cnWrPktiyGYoretsGXhLCRn8wQJuViVzr6DMo1QqlZmF6/nctyAagM/dZb5xpaOo6J4CZOJEXq9PvXE
QNJ3ZmlW3xSBynqLk6gxXIPtepmH3oRNjcQe0PXuZOHxyLd8I1+7g5N6Ap5zj2QrZrq1WeS/WAaELnAk
5CV7Pce28BJr5bjEjh1vn38qVhIGjdqOrI3qxS/4aGrloKd+Va3Ai+ohLIpyegSiURdkYod8a2gXsc90
JLmY2DcT1luR+rLn9WWesPz2FOLnq6YGPi8GUpAO6o+NJjYNpxjmCqbYylVSnaQFxQy4bIPmYBPn3yNY
BZHPCvz0qklwXIzex1c/VlPvdKfVGNw7NFr0FMdtqnPsqrmYg1u6qwmT2+cf0m9BhjqSS4gDhTVHSfMO
3lcpW8lkqMQgc52j2rBztFvT2LzDXh1EIaPES1jmNCjhODIPGq35NgmLWgWb3On6uPfFgRHw37JEG3Dw
OhcbB+OLCfPRq3alTDevXBdpfEUeHZVSw2i3/U2XbpKqFGYE98LIirFxT9FIdGOrIcUieP2ypDMpiMRt
amv1qOM4ruW5R0GCNFIJsE9PA48IZJCboI6Uk2U3D/FOq3Q1aB1k50OotrIRUaeC7eyjRBdVs4QDiRwc
IiUgcQiejcqX+XQIHJFYFsjxK1V1KrRXFls5cOkwmo7TUNKTYX0Jbu4nXtK8pPphTYwpthr0fvxC8IeN
OtqomtogoEM6s2bkKsPLK5fIPTCdWF+Qj8lloZgfhGL6CzML/1nPs0GKrS8MiR7O7pXH27srGO3YwBhC
8Nnjaxg1WEGNIIqNbIWxC2KYm3POYhTggcRTzPUkCuJiCNukGSTRB9DWic9lrnz42TWKopjrAoe9bzn6
FA/ZtKo88fU+oeeFJ3ZaO+b+pA60gZ+hHo7omyDmdxMrr59nfO0nRgpXFXf8DH325BZ85u9Rxydfh7Uk
J+vLLJQqF8ZP3eVyrN6qI6MJZU3GsgEca7LYR8sOWFQBkkXoULh7435dTG0GiiPuliRrjRSUOYLTLZx+
lZSRIl96Fo7LChElMGNxRTYjXDgDDfJW/ZS3yw2KZasM2z8rwVCxdIrZMTTdB3LtV2WRQQiNFRraaM1H
23QPU1K8rYv+C9d2dWTw8yXQ/YTp+L6ZyiVO2yqkbFwSran64jW0eQVwhBxa0McGJkWh8mKp9AdfwGO8
1YUnqRYSLZKyTBef9q897d952v8efm6dfdq/8rT/j2er3z5b/fTZ6rVnq1eerX7zbPXqs9Uv/nvrm//9
83Obcr61Yv4akrjYhgQvKMrwNeL2H3IIjAM9ErXhjMuLEm6zWaVBBMeGJ2xQwGahrksSaJ+jkHCWDfz1
Ve6wzSy2ybNXVPgmCAh+LEnQOxLD+lIe75zkk26oIKPNGrbxyjVJ+NWBm5UoNfsyZ5hyUEzHs4I07euS
zHuRk9a5TdYwf3ZHvlqXANllOXJHQn5fqdOpfc7gM+sP1yV718+C56fdUFHI6ypCZPudzvpGTrwtrWru
/rVXuNR6wTGbEPgHyoxQaWnRsIf/2DsJLQgQW1G3kfwbXLBC/zK16xer4RpI0yWByy/NttWxbjEL5KVk
9VSaNMqbMbtAwoZK2cPlaghpkFczkl65lcfpJr1eSN3qGvMvYfkM3FDOBlWru3LxSuXyu/snyuVDk4ey
996YfOvNbN/I3sx3ugSRCRwelsoyj8s6Tei6QY6EaaiCt3vKKQ7J+K1p9N9xo6faMT84k/L/sqCx2KPF
uwwEvTkQY1BIIPKvwP2aJbessYFfJCJQleSWWYBAz3DWA+VOePVhDL2prC+Vjubnkcs4Sy796Qngb2fW
QEghRabnu61aibrAvHl3wThK/75XobYP50F7bO8o5aEr8+h95fjj0D6QgTJScqCeeOGFFJ5W60EF+fBJ
YjwI3jj5Ful9tZlshrFu8nbNsZSxoq3xRic72DVGentIaS32UbeRuDx3kBMENvK/HH/H0528I9mYmHt5
l9QjFacpcQXzKVzhEulDAsOHck/91TM7dvzgm0cmsuJcrzQZCBlA98WYygR8D2gM0850fJVWYrMQzuW6
7dPLwaT5k9bOfaWed0Fl2k6+w4eUExaymY2jOgNSbS0IFfXeNpNshPJWDiL9Nbl+zNVO5vGYNVey7uzQ
CPLhefDGNiyegGM43mti1BG/TiFdxrtVu4I26ivp3SJGrfCh1B6iJfcSnACcJemVMkZHsJFrI0lnJdms
s6lwLLwmV4gKR4seJzhMXhnZuy+b9Hd/G3B8zj0TLgY+ZDEEUnkHS7w8hj3Hkm3YGxzI0vvCc9qr2Egb
MTkwg9sJOkT8/jQ3KmnzBOLJyS9wLo3ELR3NZZ75gRlhN8fndGHhOc1ZSa3T8F7PabYqsjMvqRWKVy/i
YEruPHv9jvnYZxalzUMH9iWulTvIaLTXEa5ZX8xVa61fFraX9QCIAKg5bh8rVRiy7m8o4pJl5O0ogZ8d
vmbCnCfH5TJKTBFva0O4Wl+l/Ix13xO6KCJPD5H51fete+aO/R8EyzZRoN8BAA==`;let yb;function uwe(){if(!yb){yb=new Uint8Array(122784);const n=atob(lwe),e=new Uint8Array(n.length);for(let i=0;i<n.length;i++)e[i]=n.charCodeAt(i);eI(e,yb)}return yb}const It=0,G$=1,cwe=2,dwe=3,fwe=4,hwe=5,pwe=6,gwe=7,mwe=8,VV=9,Qi=10,or=11,FM=12,vwe=13,ywe=14,bwe=15,xwe=16,_we=17,Swe=18,wwe=20;function tt(n,e,i){this.prefix=new Uint8Array(n.length),this.transform=e,this.suffix=new Uint8Array(i.length);for(let r=0;r<n.length;r++)this.prefix[r]=n.charCodeAt(r);for(let r=0;r<i.length;r++)this.suffix[r]=i.charCodeAt(r)}const Qx=[new tt("",It,""),new tt("",It," "),new tt(" ",It," "),new tt("",FM,""),new tt("",Qi," "),new tt("",It," the "),new tt(" ",It,""),new tt("s ",It," "),new tt("",It," of "),new tt("",Qi,""),new tt("",It," and "),new tt("",vwe,""),new tt("",G$,""),new tt(", ",It," "),new tt("",It,", "),new tt(" ",Qi," "),new tt("",It," in "),new tt("",It," to "),new tt("e ",It," "),new tt("",It,'"'),new tt("",It,"."),new tt("",It,'">'),new tt("",It,`
`),new tt("",dwe,""),new tt("",It,"]"),new tt("",It," for "),new tt("",ywe,""),new tt("",cwe,""),new tt("",It," a "),new tt("",It," that "),new tt(" ",Qi,""),new tt("",It,". "),new tt(".",It,""),new tt(" ",It,", "),new tt("",bwe,""),new tt("",It," with "),new tt("",It,"'"),new tt("",It," from "),new tt("",It," by "),new tt("",xwe,""),new tt("",_we,""),new tt(" the ",It,""),new tt("",fwe,""),new tt("",It,". The "),new tt("",or,""),new tt("",It," on "),new tt("",It," as "),new tt("",It," is "),new tt("",gwe,""),new tt("",G$,"ing "),new tt("",It,`
	`),new tt("",It,":"),new tt(" ",It,". "),new tt("",It,"ed "),new tt("",wwe,""),new tt("",Swe,""),new tt("",pwe,""),new tt("",It,"("),new tt("",Qi,", "),new tt("",mwe,""),new tt("",It," at "),new tt("",It,"ly "),new tt(" the ",It," of "),new tt("",hwe,""),new tt("",VV,""),new tt(" ",Qi,", "),new tt("",Qi,'"'),new tt(".",It,"("),new tt("",or," "),new tt("",Qi,'">'),new tt("",It,'="'),new tt(" ",It,"."),new tt(".com/",It,""),new tt(" the ",It," of the "),new tt("",Qi,"'"),new tt("",It,". This "),new tt("",It,","),new tt(".",It," "),new tt("",Qi,"("),new tt("",Qi,"."),new tt("",It," not "),new tt(" ",It,'="'),new tt("",It,"er "),new tt(" ",or," "),new tt("",It,"al "),new tt(" ",or,""),new tt("",It,"='"),new tt("",or,'"'),new tt("",Qi,". "),new tt(" ",It,"("),new tt("",It,"ful "),new tt(" ",Qi,". "),new tt("",It,"ive "),new tt("",It,"less "),new tt("",or,"'"),new tt("",It,"est "),new tt(" ",Qi,"."),new tt("",or,'">'),new tt(" ",It,"='"),new tt("",Qi,","),new tt("",It,"ize "),new tt("",or,"."),new tt("Â ",It,""),new tt(" ",It,","),new tt("",Qi,'="'),new tt("",or,'="'),new tt("",It,"ous "),new tt("",or,", "),new tt("",Qi,"='"),new tt(" ",Qi,","),new tt(" ",or,'="'),new tt(" ",or,", "),new tt("",or,","),new tt("",or,"("),new tt("",or,". "),new tt(" ",or,"."),new tt("",or,"='"),new tt(" ",or,". "),new tt(" ",Qi,'="'),new tt(" ",or,"='"),new tt(" ",Qi,"='")],Cwe=Qx.length;function V$(n,e){return n[e]<192?(n[e]>=97&&n[e]<=122&&(n[e]^=32),1):n[e]<224?(n[e+1]^=32,2):(n[e+2]^=5,3)}function Twe(n,e,i,r,o){const s=uwe(),{prefix:a}=Qx[o],{suffix:l}=Qx[o],u=Qx[o].transform;let c=u<FM?0:u-(FM-1);const d=e;c>r&&(c=r);let f=0;for(;f<a.length;)n[e++]=a[f++];i+=c,r-=c,u<=VV&&(r-=u);for(let v=0;v<r;v++)n[e++]=s[i+v];let h=e-r;if(u===Qi)V$(n,h);else if(u===or)for(;r>0;){const v=V$(n,h);h+=v,r-=v}let p=0;for(;p<l.length;)n[e++]=l[p++];return e-d}const Awe=256,Ewe=704,Mwe=26,W$=6,j$=2,Fc=1080,$M=16,Rwe=new Uint8Array([3,2,1,0,3,3,3,3,3,3,2,2,2,2,2,2]),Pwe=new Int8Array([0,0,0,0,-1,1,-2,2,-3,3,-1,1,-2,2,-3,3]),Iwe=new Uint16Array([256,402,436,468,500,534,566,598,630,662,694,726,758,790,822,854,886,920,952,984,1016,1048,1080]),Nwe=new Uint32Array([0,0,0,0,0,4096,9216,21504,35840,44032,53248,63488,74752,87040,93696,100864,104704,106752,108928,113536,115968,118528,119872,121280,122016]),Owe=new Uint8Array([0,0,0,0,10,10,11,11,10,10,10,10,10,9,9,8,7,7,8,7,7,6,6,5,5]),Dwe=4,K$=24;function Lwe(n,e){const i=new Uint8Array(e),r=new BV(n),o=new FV(i);return Bwe(r,o),i}function Bwe(n,e){let i=0,r=0,o=0,s=0;const a=[16,15,11,4];let l=0,u=0,c=0;const d=[new Wd(0,0),new Wd(0,0),new Wd(0,0)],f=128+Ba.READ_SIZE,h=new Ba(n);o=Fwe(h);const p=(1<<o)-16,v=1<<o,b=v-1,y=new Uint8Array(v+f+K$),m=v,_=[],S=[];for(let w=0;w<3*Fc;w++)_[w]=new vi(0,0),S[w]=new vi(0,0);for(;!r;){let w=0;const T=[1<<28,1<<28,1<<28],A=[0],C=[1,1,1],R=[0,1,0,1,0,1],E=[0];let P=0;for(let Y=0;Y<3;Y++)d[Y].codes=[],d[Y].htrees=new Uint32Array;h.readMoreInput();const N=zwe(h);if(w=N.meta_block_length,i+w>e.buffer.length){const Y=new Uint8Array(i+w);Y.set(e.buffer),e.buffer=Y}if(r=N.input_end,N.is_metadata){for(Vwe(h);w>0;--w)h.readMoreInput(),h.readBits(8);continue}if(w===0)continue;if(N.is_uncompressed){h.bit_pos_=h.bit_pos_+7&-8,Uwe(e,w,i,y,b,h),i+=w;continue}for(let Y=0;Y<3;Y++)C[Y]=WV(h)+1,C[Y]>=2&&(Y_(C[Y]+2,_,Y*Fc,h),Y_(Mwe,S,Y*Fc,h),T[Y]=bb(S,Y*Fc,h),E[Y]=1);h.readMoreInput();const D=h.readBits(2),$=$M+(h.readBits(4)<<D),L=(1<<D)-1,F=$+(48<<D),U=new Uint8Array(C[0]);for(let Y=0;Y<C[0];Y++)h.readMoreInput(),U[Y]=h.readBits(2)<<1;const k=X$(C[0]<<W$,h),H=k.num_htrees,{context_map:z}=k,Q=X$(C[2]<<j$,h),Z=Q.num_htrees,ie=Q.context_map;d[0]=new Wd(Awe,H),d[1]=new Wd(Ewe,C[1]),d[2]=new Wd(F,Z);for(let Y=0;Y<3;++Y)d[Y].decode(h);let we=0,J=0,se=U[A[0]],ee=vb[se],ne=vb[se+1],ue=d[1].htrees[0];for(;w>0;){let Y;h.readMoreInput(),T[1]===0&&(ST(C[1],_,1,A,R,E,h),T[1]=bb(S,Fc,h),ue=d[1].htrees[A[1]]),T[1]--;const le=Pp(d[1].codes,ue,h);let he=le>>6;he>=2?(he-=2,Y=-1):Y=0;const W=JSe[he]+(le>>3&7),X=ewe[he]+(le&7),V=z$[W].offset+h.readBits(z$[W].nbits),Ce=H$[X].offset+h.readBits(H$[X].nbits);u=y[i-1&b],c=y[i-2&b];for(let fe=0;fe<V;fe++){h.readMoreInput(),T[0]===0&&(ST(C[0],_,0,A,R,E,h),T[0]=bb(S,0,h),P=A[0]<<W$,we=P,se=U[A[0]],ee=vb[se],ne=vb[se+1]);const ge=B$[ee+u]|B$[ne+c],ve=z[we+ge];T[0]--,c=u,u=Pp(d[0].codes,d[0].htrees[ve],h),y[i&b]=u,(i&b)===b&&e.write(y,v),i++}if(w-=V,w<=0)break;if(Y<0){h.readMoreInput(),T[2]===0&&(ST(C[2],_,2,A,R,E,h),T[2]=bb(S,2*Fc,h),J=A[2]<<j$),T[2]--;const fe=(Ce>4?3:Ce-2)&255,ge=ie[J+fe];if(Y=Pp(d[2].codes,d[2].htrees[ge],h),Y>=$){Y-=$;const ve=Y&L;Y>>=D;const j=(Y>>1)+1,G=(2+(Y&1)<<j)-4;Y=$+(G+h.readBits(j)<<D)+ve}}const pe=$we(Y,a,l);if(pe<0)throw new Error("[BrotliDecompress] invalid distance");i<p&&s!==p?s=i:s=p;let Se=i&b;if(pe>s)if(Ce>=Dwe&&Ce<=K$){let fe=Nwe[Ce];const ge=pe-s-1,ve=Owe[Ce],j=(1<<ve)-1,G=ge&j,ce=ge>>ve;if(fe+=G*Ce,ce<Cwe){const Ee=Twe(y,Se,fe,Ce,ce);if(Se+=Ee,i+=Ee,w-=Ee,Se>=m){e.write(y,v);for(let de=0;de<Se-m;de++)y[de]=y[m+de]}}else throw new Error("Invalid backward reference")}else throw new Error("Invalid backward reference");else{if(Y>0&&(a[l&3]=pe,l++),Ce>w)throw new Error("Invalid backward reference");for(let fe=0;fe<Ce;fe++)y[i&b]=y[i-pe&b],(i&b)===b&&e.write(y,v),i++,w--}u=y[i-1&b],c=y[i-2&b]}i&=1073741823}e.write(y,i&b)}function Fwe(n){if(n.readBits(1)===0)return 16;let e=n.readBits(3);return e>0?17+e:(e=n.readBits(3),e>0?8+e:17)}function ST(n,e,i,r,o,s,a){const l=i*2,u=i,c=Pp(e,i*Fc,a);let d;c===0?d=o[l+(s[u]&1)]:c===1?d=o[l+(s[u]-1&1)]+1:d=c-2,d>=n&&(d-=n),r[i]=d,o[l+(s[u]&1)]=d,++s[u]}function Wd(n,e){this.alphabet_size=n,this.num_htrees=e,this.codes=new Array(e+e*Iwe[n+31>>>5]),this.htrees=new Uint32Array(e)}Wd.prototype.decode=function(n){let e=0;for(let i=0;i<this.num_htrees;i++)this.htrees[i]=e,e+=Y_(this.alphabet_size,this.codes,e,n)};function bb(n,e,i){const r=Pp(n,e,i),{nbits:o}=k$[r];return k$[r].offset+i.readBits(o)}function $we(n,e,i){return n<$M?(i+=Rwe[n],i&=3,e[i]+Pwe[n]):n-$M+1}function Uwe(n,e,i,r,o,s){const a=o+1;let l=i&o,u=s.pos_&Ba.IBUF_MASK;if(e<8||s.bit_pos_+(e<<3)<s.bit_end_pos_){for(;e-- >0;)s.readMoreInput(),r[l++]=s.readBits(8),l===a&&(n.write(r,a),l=0);return}if(s.bit_end_pos_<32)throw new Error("[CopyUncompressedBlockToOutput] br.bit_end_pos_ < 32");for(;s.bit_pos_<32;)r[l]=s.val_>>>s.bit_pos_,s.bit_pos_+=8,l++,e--;let c=s.bit_end_pos_-s.bit_pos_>>3;if(u+c>Ba.IBUF_MASK){const d=Ba.IBUF_MASK+1-u;for(let f=0;f<d;f++)r[l+f]=s.buf_[u+f];c-=d,l+=d,e-=d,u=0}for(let d=0;d<c;d++)r[l+d]=s.buf_[u+d];if(l+=c,e-=c,l>=a){n.write(r,a),l-=a;for(let d=0;d<l;d++)r[d]=r[a+d]}for(;l+e>=a;){if(c=a-l,s.input_.read(r,l,c)<c)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");n.write(r,a),e-=c,l=0}if(s.input_.read(r,l,e)<e)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");s.reset()}function WV(n){if(n.readBits(1)){const e=n.readBits(3);return e===0?1:n.readBits(e)+(1<<e)}return 0}function kwe(){this.meta_block_length=0,this.input_end=0,this.is_uncompressed=0,this.is_metadata=!1}function zwe(n){const e=new kwe;if(e.input_end=n.readBits(1),e.input_end&&n.readBits(1))return e;const i=n.readBits(2)+4;if(i===7){if(e.is_metadata=!0,n.readBits(1)!==0)throw new Error("Invalid reserved bit");const r=n.readBits(2);if(r===0)return e;for(let o=0;o<r;o++){const s=n.readBits(8);if(o+1===r&&r>1&&s===0)throw new Error("Invalid size byte");e.meta_block_length|=s<<o*8}}else for(let r=0;r<i;r++){const o=n.readBits(4);if(r+1===i&&i>4&&o===0)throw new Error("Invalid size nibble");e.meta_block_length|=o<<r*4}return e.meta_block_length++,!e.input_end&&!e.is_metadata&&(e.is_uncompressed=n.readBits(1)),e}function X$(n,e){let i=0;e.readMoreInput();const r=WV(e)+1,o=new Uint8Array(n);if(r<=1)return{num_htrees:r,context_map:o};e.readBits(1)&&(i=e.readBits(4)+1);const a=[];for(let l=0;l<Fc;l++)a[l]=new vi(0,0);Y_(r+i,a,0,e);for(let l=0;l<n;){e.readMoreInput();const u=Pp(a,0,e);if(u===0)o[l]=0,l++;else if(u<=i){let c=1+(1<<u)+e.readBits(u);for(;--c;){if(l>=n)throw new Error("[DecodeContextMap] i >= context_map_size");o[l]=0,l++}}else o[l]=u-i,l++}return e.readBits(1)&&Gwe(o,n),{num_htrees:r,context_map:o}}function Hwe(n,e){const i=n[e];for(let r=e;r;r--)n[r]=n[r-1];n[0]=i}function Gwe(n,e){const i=new Uint8Array(256);for(let r=0;r<256;r++)i[r]=r;for(let r=0;r<e;r++){const o=n[r];n[r]=i[o],o&&Hwe(i,o)}}function Vwe(n){const e=n.bit_pos_+7&-8;return!n.readBits(e-n.bit_pos_)}function Wwe(n,e){const i=new Uint8Array(e);try{let r=0,o=0;for(;r<n.length-8;){const s=n[r++]<<24|n[r++]<<16|n[r++]<<8|n[r++],a=n[r++]<<24|n[r++]<<16|n[r++]<<8|n[r++];if(n.length-r<a)throw new Error("lz4 not hadoop");if(i.length<s)throw new Error("lz4 not hadoop");if(UM(n.subarray(r,r+a),i,o)!==s)throw new Error("lz4 not hadoop");if(r+=a,o+=s,r===n.length)return i}if(r<n.length)throw new Error("lz4 not hadoop")}catch(r){if(r instanceof Error&&r.message!=="lz4 not hadoop")throw r;UM(n,i,0)}return i}function jwe(n,e){const i=new Uint8Array(e);return UM(n,i,0),i}function UM(n,e,i){let r=i;for(let o=0;o<n.length;){const s=n[o++];let a=s>>4;if(a){let h=a+240;for(;h===255;)a+=h=n[o++];if(e.set(n.subarray(o,o+a),r),r+=a,o+=a,o>=n.length)return r-i}const l=n[o++]|n[o++]<<8;if(!l||l>r)throw new Error(`lz4 offset out of range ${l}`);let u=(s&15)+4,c=u+240;for(;c===255;)u+=c=n[o++];let d=r-l;const f=r+u;for(;r<f;)e[r++]=e[d++]}return r-i}const Kwe={SNAPPY:GSe(),GZIP:(n,e)=>{const i=new Uint8Array(e);return eI(n,i),i},BROTLI:Lwe,ZSTD:n=>HSe(n),LZ4:Wwe,LZ4_RAW:jwe};class Xwe{constructor(e){t3(this,"buffer");this.buffer=e}async slice(e,i){return this.buffer.slice(e,i)}get byteLength(){return this.buffer.byteLength}}const Ur=(n,e)=>typeof n=="string"&&n.endsWith("n")?BigInt(n.slice(0,-1)):Number(n),q$=async(n,e)=>{try{const i=await n.arrayBuffer(),r=new Xwe(i);return new Promise((o,s)=>{TSe({file:r,rowFormat:"object",compressors:Kwe,onComplete:l=>{o(e==="entity"?l.map(u=>({id:u.id,human_readable_id:Ur(u.human_readable_id,"number"),title:u.title,type:u.type,description:u.description,text_unit_ids:u.text_unit_ids})):e==="relationship"?l.map(u=>({id:u.id,human_readable_id:Ur(u.human_readable_id,"number"),source:u.source,target:u.target,description:u.description,weight:u.weight,combined_degree:Ur(u.combined_degree,"number"),text_unit_ids:u.text_unit_ids,type:"RELATED"})):e==="document"?l.map(u=>({id:u.id,human_readable_id:Ur(u.human_readable_id,"number"),title:u.title,text:u.text,text_unit_ids:u.text_unit_ids})):e==="text_unit"?l.map(u=>({id:u.id,human_readable_id:Ur(u.human_readable_id,"number"),text:u.text,n_tokens:Ur(u.n_tokens,"number"),document_ids:u.document_ids,entity_ids:u.entity_ids,relationship_ids:u.relationship_ids})):e==="community"?l.map(u=>({id:u.id,human_readable_id:Ur(u.human_readable_id,"number"),community:Ur(u.community,"number"),parent:Ur(u.parent,"number"),level:Ur(u.level,"number"),title:u.title,entity_ids:u.entity_ids,relationship_ids:u.relationship_ids,text_unit_ids:u.text_unit_ids,period:u.period,size:Ur(u.size,"number")})):e==="community_report"?l.map(u=>({id:u.id,human_readable_id:Ur(u.human_readable_id,"number"),community:Ur(u.community,"number"),parent:Ur(u.parent,"number"),level:Ur(u.level,"number"),title:u.title,summary:u.summary,full_content:u.full_content,rank:u.rank,rank_explanation:u.rank_explanation,findings:u.findings,full_content_json:u.full_content_json,period:u.period,size:Ur(u.size,"number")})):e==="covariate"?l.map(u=>({id:u.id,human_readable_id:Ur(u.human_readable_id,"number"),covariate_type:u.covariate_type,type:u.type,description:u.description,subject_id:u.subject_id,object_id:u.object_id,status:u.status,start_date:u.start_date,end_date:u.end_date,source_text:u.source_text,text_unit_id:u.text_unit_id})):l.map(u=>({...u})))}}).catch(s)})}catch(i){return console.error("Error reading Parquet file",i),[]}};/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let jV;const Sw=n=>jV=n,KV=Symbol();function kM(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var bv;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(bv||(bv={}));function qwe(){const n=h5(!0),e=n.run(()=>He({}));let i=[],r=[];const o=lR({install(s){Sw(o),o._a=s,s.provide(KV,o),s.config.globalProperties.$pinia=o,r.forEach(a=>i.push(a)),r=[]},use(s){return this._a?i.push(s):r.push(s),this},_p:i,_a:null,_e:n,_s:new Map,state:e});return o}const XV=()=>{};function Y$(n,e,i,r=XV){n.push(e);const o=()=>{const s=n.indexOf(e);s>-1&&(n.splice(s,1),r())};return!i&&p5()&&Cee(o),o}function Th(n,...e){n.slice().forEach(i=>{i(...e)})}const Ywe=n=>n(),Q$=Symbol(),wT=Symbol();function zM(n,e){n instanceof Map&&e instanceof Map?e.forEach((i,r)=>n.set(r,i)):n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const i in e){if(!e.hasOwnProperty(i))continue;const r=e[i],o=n[i];kM(o)&&kM(r)&&n.hasOwnProperty(i)&&!Hi(r)&&!Kc(r)?n[i]=zM(o,r):n[i]=r}return n}const Qwe=Symbol();function Zwe(n){return!kM(n)||!n.hasOwnProperty(Qwe)}const{assign:Nc}=Object;function Jwe(n){return!!(Hi(n)&&n.effect)}function e1e(n,e,i,r){const{state:o,actions:s,getters:a}=e,l=i.state.value[n];let u;function c(){l||(i.state.value[n]=o?o():{});const d=sv(i.state.value[n]);return Nc(d,s,Object.keys(a||{}).reduce((f,h)=>(f[h]=lR(K(()=>{Sw(i);const p=i._s.get(n);return a[h].call(p,p)})),f),{}))}return u=qV(n,c,e,i,r,!0),u}function qV(n,e,i={},r,o,s){let a;const l=Nc({actions:{}},i),u={deep:!0};let c,d,f=[],h=[],p;const v=r.state.value[n];!s&&!v&&(r.state.value[n]={}),He({});let b;function y(R){let E;c=d=!1,typeof R=="function"?(R(r.state.value[n]),E={type:bv.patchFunction,storeId:n,events:p}):(zM(r.state.value[n],R),E={type:bv.patchObject,payload:R,storeId:n,events:p});const P=b=Symbol();Un().then(()=>{b===P&&(c=!0)}),d=!0,Th(f,E,r.state.value[n])}const m=s?function(){const{state:E}=i,P=E?E():{};this.$patch(N=>{Nc(N,P)})}:XV;function _(){a.stop(),f=[],h=[],r._s.delete(n)}const S=(R,E="")=>{if(Q$ in R)return R[wT]=E,R;const P=function(){Sw(r);const N=Array.from(arguments),D=[],$=[];function L(k){D.push(k)}function F(k){$.push(k)}Th(h,{args:N,name:P[wT],store:T,after:L,onError:F});let U;try{U=R.apply(this&&this.$id===n?this:T,N)}catch(k){throw Th($,k),k}return U instanceof Promise?U.then(k=>(Th(D,k),k)).catch(k=>(Th($,k),Promise.reject(k))):(Th(D,U),U)};return P[Q$]=!0,P[wT]=E,P},w={_p:r,$id:n,$onAction:Y$.bind(null,h),$patch:y,$reset:m,$subscribe(R,E={}){const P=Y$(f,R,E.detached,()=>N()),N=a.run(()=>ut(()=>r.state.value[n],D=>{(E.flush==="sync"?d:c)&&R({storeId:n,type:bv.direct,events:p},D)},Nc({},u,E)));return P},$dispose:_},T=Wi(w);r._s.set(n,T);const C=(r._a&&r._a.runWithContext||Ywe)(()=>r._e.run(()=>(a=h5()).run(()=>e({action:S}))));for(const R in C){const E=C[R];if(Hi(E)&&!Jwe(E)||Kc(E))s||(v&&Zwe(E)&&(Hi(E)?E.value=v[R]:zM(E,v[R])),r.state.value[n][R]=E);else if(typeof E=="function"){const P=S(E,R);C[R]=P,l.actions[R]=E}}return Nc(T,C),Nc(hn(T),C),Object.defineProperty(T,"$state",{get:()=>r.state.value[n],set:R=>{y(E=>{Nc(E,R)})}}),r._p.forEach(R=>{Nc(T,a.run(()=>R({store:T,app:r._a,pinia:r,options:l})))}),v&&s&&i.hydrate&&i.hydrate(T.$state,v),c=!0,d=!0,T}/*! #__NO_SIDE_EFFECTS__ */function t1e(n,e,i){let r,o;const s=typeof e=="function";r=n,o=s?i:e;function a(l,u){const c=Tte();return l=l||(c?Xt(KV,null):null),l&&Sw(l),l=jV,l._s.has(r)||(s?qV(r,e,o,l):e1e(r,o,l)),l._s.get(r)}return a.$id=r,a}const n1e=t1e("graphrag",{state:()=>({entities:[],relationships:[],documents:[],textUnits:[],communities:[],covariates:[],communityReports:[]}),actions:{setEntities(n){this.entities=n},setRelationships(n){this.relationships=n},setDocuments(n){this.documents=n},setTextUnits(n){this.textUnits=n},setCommunities(n){this.communities=n},setCovariates(n){this.covariates=n},setCommunityReports(n){this.communityReports=n}}});var Xm={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var i1e=Xm.exports,Z$;function r1e(){return Z$||(Z$=1,function(n,e){(function(){var i,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",f=1,h=2,p=4,v=1,b=2,y=1,m=2,_=4,S=8,w=16,T=32,A=64,C=128,R=256,E=512,P=30,N="...",D=800,$=16,L=1,F=2,U=3,k=1/0,H=9007199254740991,z=17976931348623157e292,Q=NaN,Z=4294967295,ie=Z-1,we=Z>>>1,J=[["ary",C],["bind",y],["bindKey",m],["curry",S],["curryRight",w],["flip",E],["partial",T],["partialRight",A],["rearg",R]],se="[object Arguments]",ee="[object Array]",ne="[object AsyncFunction]",ue="[object Boolean]",Y="[object Date]",le="[object DOMException]",he="[object Error]",W="[object Function]",X="[object GeneratorFunction]",V="[object Map]",Ce="[object Number]",pe="[object Null]",Se="[object Object]",fe="[object Promise]",ge="[object Proxy]",ve="[object RegExp]",j="[object Set]",G="[object String]",ce="[object Symbol]",Ee="[object Undefined]",de="[object WeakMap]",re="[object WeakSet]",ye="[object ArrayBuffer]",De="[object DataView]",Ge="[object Float32Array]",ft="[object Float64Array]",Te="[object Int8Array]",Pe="[object Int16Array]",Ue="[object Int32Array]",qe="[object Uint8Array]",je="[object Uint8ClampedArray]",lt="[object Uint16Array]",rt="[object Uint32Array]",At=/\b__p \+= '';/g,Ae=/\b(__p \+=) '' \+/g,nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$e=/&(?:amp|lt|gt|quot|#39);/g,Ve=/[&<>"']/g,gt=RegExp($e.source),yt=RegExp(Ve.source),Ot=/<%-([\s\S]+?)%>/g,qt=/<%([\s\S]+?)%>/g,$n=/<%=([\s\S]+?)%>/g,tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ci=/^\w*$/,Ki=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Br=/[\\^$.*+?()[\]{}|]/g,Va=RegExp(Br.source),Er=/^\s+/,os=/\s/,rc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,oc=/\{\n\/\* \[wrapped with (.+)\] \*/,ha=/,? & /,Ns=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Os=/[()=,{}\[\]\/\s]/,Dl=/\\(\\)?/g,Ll=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bl=/\w*$/,sc=/^[-+]0x[0-9a-f]+$/i,pa=/^0b[01]+$/i,zg=/^\[object .+?Constructor\]$/,Hg=/^0o[0-7]+$/i,sh=/^(?:0|[1-9]\d*)$/,oe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ie=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,ze="\\ud800-\\udfff",Fe="\\u0300-\\u036f",ht="\\ufe20-\\ufe2f",Ct="\\u20d0-\\u20ff",Et=Fe+ht+Ct,Rt="\\u2700-\\u27bf",Vt="a-z\\xdf-\\xf6\\xf8-\\xff",jt="\\xac\\xb1\\xd7\\xf7",Ut="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ln="\\u2000-\\u206f",Hn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Li="A-Z\\xc0-\\xd6\\xd8-\\xde",pi="\\ufe0e\\ufe0f",Bn=jt+Ut+Ln+Hn,$t="['’]",gr="["+ze+"]",kn="["+Bn+"]",Kr="["+Et+"]",Fl="\\d+",fo="["+Rt+"]",ac="["+Vt+"]",ri="[^"+ze+Bn+Fl+Rt+Vt+Li+"]",Xr="\\ud83c[\\udffb-\\udfff]",Do="(?:"+Kr+"|"+Xr+")",Mr="[^"+ze+"]",Rr="(?:\\ud83c[\\udde6-\\uddff]){2}",bd="[\\ud800-\\udbff][\\udc00-\\udfff]",Lo="["+Li+"]",zN="\\u200d",HN="(?:"+ac+"|"+ri+")",dK="(?:"+Lo+"|"+ri+")",GN="(?:"+$t+"(?:d|ll|m|re|s|t|ve))?",VN="(?:"+$t+"(?:D|LL|M|RE|S|T|VE))?",WN=Do+"?",jN="["+pi+"]?",fK="(?:"+zN+"(?:"+[Mr,Rr,bd].join("|")+")"+jN+WN+")*",hK="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pK="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",KN=jN+WN+fK,gK="(?:"+[fo,Rr,bd].join("|")+")"+KN,mK="(?:"+[Mr+Kr+"?",Kr,Rr,bd,gr].join("|")+")",vK=RegExp($t,"g"),yK=RegExp(Kr,"g"),o1=RegExp(Xr+"(?="+Xr+")|"+mK+KN,"g"),bK=RegExp([Lo+"?"+ac+"+"+GN+"(?="+[kn,Lo,"$"].join("|")+")",dK+"+"+VN+"(?="+[kn,Lo+HN,"$"].join("|")+")",Lo+"?"+HN+"+"+GN,Lo+"+"+VN,pK,hK,Fl,gK].join("|"),"g"),xK=RegExp("["+zN+ze+Et+pi+"]"),_K=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,SK=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wK=-1,gi={};gi[Ge]=gi[ft]=gi[Te]=gi[Pe]=gi[Ue]=gi[qe]=gi[je]=gi[lt]=gi[rt]=!0,gi[se]=gi[ee]=gi[ye]=gi[ue]=gi[De]=gi[Y]=gi[he]=gi[W]=gi[V]=gi[Ce]=gi[Se]=gi[ve]=gi[j]=gi[G]=gi[de]=!1;var ci={};ci[se]=ci[ee]=ci[ye]=ci[De]=ci[ue]=ci[Y]=ci[Ge]=ci[ft]=ci[Te]=ci[Pe]=ci[Ue]=ci[V]=ci[Ce]=ci[Se]=ci[ve]=ci[j]=ci[G]=ci[ce]=ci[qe]=ci[je]=ci[lt]=ci[rt]=!0,ci[he]=ci[W]=ci[de]=!1;var CK={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},TK={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},AK={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},EK={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},MK=parseFloat,RK=parseInt,XN=typeof db=="object"&&db&&db.Object===Object&&db,PK=typeof self=="object"&&self&&self.Object===Object&&self,Fr=XN||PK||Function("return this")(),s1=e&&!e.nodeType&&e,xd=s1&&!0&&n&&!n.nodeType&&n,qN=xd&&xd.exports===s1,a1=qN&&XN.process,Ds=function(){try{var Oe=xd&&xd.require&&xd.require("util").types;return Oe||a1&&a1.binding&&a1.binding("util")}catch{}}(),YN=Ds&&Ds.isArrayBuffer,QN=Ds&&Ds.isDate,ZN=Ds&&Ds.isMap,JN=Ds&&Ds.isRegExp,eO=Ds&&Ds.isSet,tO=Ds&&Ds.isTypedArray;function ss(Oe,Je,Ke){switch(Ke.length){case 0:return Oe.call(Je);case 1:return Oe.call(Je,Ke[0]);case 2:return Oe.call(Je,Ke[0],Ke[1]);case 3:return Oe.call(Je,Ke[0],Ke[1],Ke[2])}return Oe.apply(Je,Ke)}function IK(Oe,Je,Ke,Mt){for(var nn=-1,jn=Oe==null?0:Oe.length;++nn<jn;){var mr=Oe[nn];Je(Mt,mr,Ke(mr),Oe)}return Mt}function Ls(Oe,Je){for(var Ke=-1,Mt=Oe==null?0:Oe.length;++Ke<Mt&&Je(Oe[Ke],Ke,Oe)!==!1;);return Oe}function NK(Oe,Je){for(var Ke=Oe==null?0:Oe.length;Ke--&&Je(Oe[Ke],Ke,Oe)!==!1;);return Oe}function nO(Oe,Je){for(var Ke=-1,Mt=Oe==null?0:Oe.length;++Ke<Mt;)if(!Je(Oe[Ke],Ke,Oe))return!1;return!0}function lc(Oe,Je){for(var Ke=-1,Mt=Oe==null?0:Oe.length,nn=0,jn=[];++Ke<Mt;){var mr=Oe[Ke];Je(mr,Ke,Oe)&&(jn[nn++]=mr)}return jn}function s0(Oe,Je){var Ke=Oe==null?0:Oe.length;return!!Ke&&ah(Oe,Je,0)>-1}function l1(Oe,Je,Ke){for(var Mt=-1,nn=Oe==null?0:Oe.length;++Mt<nn;)if(Ke(Je,Oe[Mt]))return!0;return!1}function Ti(Oe,Je){for(var Ke=-1,Mt=Oe==null?0:Oe.length,nn=Array(Mt);++Ke<Mt;)nn[Ke]=Je(Oe[Ke],Ke,Oe);return nn}function uc(Oe,Je){for(var Ke=-1,Mt=Je.length,nn=Oe.length;++Ke<Mt;)Oe[nn+Ke]=Je[Ke];return Oe}function u1(Oe,Je,Ke,Mt){var nn=-1,jn=Oe==null?0:Oe.length;for(Mt&&jn&&(Ke=Oe[++nn]);++nn<jn;)Ke=Je(Ke,Oe[nn],nn,Oe);return Ke}function OK(Oe,Je,Ke,Mt){var nn=Oe==null?0:Oe.length;for(Mt&&nn&&(Ke=Oe[--nn]);nn--;)Ke=Je(Ke,Oe[nn],nn,Oe);return Ke}function c1(Oe,Je){for(var Ke=-1,Mt=Oe==null?0:Oe.length;++Ke<Mt;)if(Je(Oe[Ke],Ke,Oe))return!0;return!1}var DK=d1("length");function LK(Oe){return Oe.split("")}function BK(Oe){return Oe.match(Ns)||[]}function iO(Oe,Je,Ke){var Mt;return Ke(Oe,function(nn,jn,mr){if(Je(nn,jn,mr))return Mt=jn,!1}),Mt}function a0(Oe,Je,Ke,Mt){for(var nn=Oe.length,jn=Ke+(Mt?1:-1);Mt?jn--:++jn<nn;)if(Je(Oe[jn],jn,Oe))return jn;return-1}function ah(Oe,Je,Ke){return Je===Je?XK(Oe,Je,Ke):a0(Oe,rO,Ke)}function FK(Oe,Je,Ke,Mt){for(var nn=Ke-1,jn=Oe.length;++nn<jn;)if(Mt(Oe[nn],Je))return nn;return-1}function rO(Oe){return Oe!==Oe}function oO(Oe,Je){var Ke=Oe==null?0:Oe.length;return Ke?h1(Oe,Je)/Ke:Q}function d1(Oe){return function(Je){return Je==null?i:Je[Oe]}}function f1(Oe){return function(Je){return Oe==null?i:Oe[Je]}}function sO(Oe,Je,Ke,Mt,nn){return nn(Oe,function(jn,mr,oi){Ke=Mt?(Mt=!1,jn):Je(Ke,jn,mr,oi)}),Ke}function $K(Oe,Je){var Ke=Oe.length;for(Oe.sort(Je);Ke--;)Oe[Ke]=Oe[Ke].value;return Oe}function h1(Oe,Je){for(var Ke,Mt=-1,nn=Oe.length;++Mt<nn;){var jn=Je(Oe[Mt]);jn!==i&&(Ke=Ke===i?jn:Ke+jn)}return Ke}function p1(Oe,Je){for(var Ke=-1,Mt=Array(Oe);++Ke<Oe;)Mt[Ke]=Je(Ke);return Mt}function UK(Oe,Je){return Ti(Je,function(Ke){return[Ke,Oe[Ke]]})}function aO(Oe){return Oe&&Oe.slice(0,dO(Oe)+1).replace(Er,"")}function as(Oe){return function(Je){return Oe(Je)}}function g1(Oe,Je){return Ti(Je,function(Ke){return Oe[Ke]})}function Gg(Oe,Je){return Oe.has(Je)}function lO(Oe,Je){for(var Ke=-1,Mt=Oe.length;++Ke<Mt&&ah(Je,Oe[Ke],0)>-1;);return Ke}function uO(Oe,Je){for(var Ke=Oe.length;Ke--&&ah(Je,Oe[Ke],0)>-1;);return Ke}function kK(Oe,Je){for(var Ke=Oe.length,Mt=0;Ke--;)Oe[Ke]===Je&&++Mt;return Mt}var zK=f1(CK),HK=f1(TK);function GK(Oe){return"\\"+EK[Oe]}function VK(Oe,Je){return Oe==null?i:Oe[Je]}function lh(Oe){return xK.test(Oe)}function WK(Oe){return _K.test(Oe)}function jK(Oe){for(var Je,Ke=[];!(Je=Oe.next()).done;)Ke.push(Je.value);return Ke}function m1(Oe){var Je=-1,Ke=Array(Oe.size);return Oe.forEach(function(Mt,nn){Ke[++Je]=[nn,Mt]}),Ke}function cO(Oe,Je){return function(Ke){return Oe(Je(Ke))}}function cc(Oe,Je){for(var Ke=-1,Mt=Oe.length,nn=0,jn=[];++Ke<Mt;){var mr=Oe[Ke];(mr===Je||mr===d)&&(Oe[Ke]=d,jn[nn++]=Ke)}return jn}function l0(Oe){var Je=-1,Ke=Array(Oe.size);return Oe.forEach(function(Mt){Ke[++Je]=Mt}),Ke}function KK(Oe){var Je=-1,Ke=Array(Oe.size);return Oe.forEach(function(Mt){Ke[++Je]=[Mt,Mt]}),Ke}function XK(Oe,Je,Ke){for(var Mt=Ke-1,nn=Oe.length;++Mt<nn;)if(Oe[Mt]===Je)return Mt;return-1}function qK(Oe,Je,Ke){for(var Mt=Ke+1;Mt--;)if(Oe[Mt]===Je)return Mt;return Mt}function uh(Oe){return lh(Oe)?QK(Oe):DK(Oe)}function ga(Oe){return lh(Oe)?ZK(Oe):LK(Oe)}function dO(Oe){for(var Je=Oe.length;Je--&&os.test(Oe.charAt(Je)););return Je}var YK=f1(AK);function QK(Oe){for(var Je=o1.lastIndex=0;o1.test(Oe);)++Je;return Je}function ZK(Oe){return Oe.match(o1)||[]}function JK(Oe){return Oe.match(bK)||[]}var eX=function Oe(Je){Je=Je==null?Fr:ch.defaults(Fr.Object(),Je,ch.pick(Fr,SK));var Ke=Je.Array,Mt=Je.Date,nn=Je.Error,jn=Je.Function,mr=Je.Math,oi=Je.Object,v1=Je.RegExp,tX=Je.String,Bs=Je.TypeError,u0=Ke.prototype,nX=jn.prototype,dh=oi.prototype,c0=Je["__core-js_shared__"],d0=nX.toString,ei=dh.hasOwnProperty,iX=0,fO=function(){var g=/[^.]+$/.exec(c0&&c0.keys&&c0.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),f0=dh.toString,rX=d0.call(oi),oX=Fr._,sX=v1("^"+d0.call(ei).replace(Br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h0=qN?Je.Buffer:i,dc=Je.Symbol,p0=Je.Uint8Array,hO=h0?h0.allocUnsafe:i,g0=cO(oi.getPrototypeOf,oi),pO=oi.create,gO=dh.propertyIsEnumerable,m0=u0.splice,mO=dc?dc.isConcatSpreadable:i,Vg=dc?dc.iterator:i,_d=dc?dc.toStringTag:i,v0=function(){try{var g=Ad(oi,"defineProperty");return g({},"",{}),g}catch{}}(),aX=Je.clearTimeout!==Fr.clearTimeout&&Je.clearTimeout,lX=Mt&&Mt.now!==Fr.Date.now&&Mt.now,uX=Je.setTimeout!==Fr.setTimeout&&Je.setTimeout,y0=mr.ceil,b0=mr.floor,y1=oi.getOwnPropertySymbols,cX=h0?h0.isBuffer:i,vO=Je.isFinite,dX=u0.join,fX=cO(oi.keys,oi),vr=mr.max,qr=mr.min,hX=Mt.now,pX=Je.parseInt,yO=mr.random,gX=u0.reverse,b1=Ad(Je,"DataView"),Wg=Ad(Je,"Map"),x1=Ad(Je,"Promise"),fh=Ad(Je,"Set"),jg=Ad(Je,"WeakMap"),Kg=Ad(oi,"create"),x0=jg&&new jg,hh={},mX=Ed(b1),vX=Ed(Wg),yX=Ed(x1),bX=Ed(fh),xX=Ed(jg),_0=dc?dc.prototype:i,Xg=_0?_0.valueOf:i,bO=_0?_0.toString:i;function te(g){if(Gi(g)&&!un(g)&&!(g instanceof Dn)){if(g instanceof Fs)return g;if(ei.call(g,"__wrapped__"))return xD(g)}return new Fs(g)}var ph=function(){function g(){}return function(x){if(!Bi(x))return{};if(pO)return pO(x);g.prototype=x;var M=new g;return g.prototype=i,M}}();function S0(){}function Fs(g,x){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=i}te.templateSettings={escape:Ot,evaluate:qt,interpolate:$n,variable:"",imports:{_:te}},te.prototype=S0.prototype,te.prototype.constructor=te,Fs.prototype=ph(S0.prototype),Fs.prototype.constructor=Fs;function Dn(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Z,this.__views__=[]}function _X(){var g=new Dn(this.__wrapped__);return g.__actions__=Bo(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=Bo(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=Bo(this.__views__),g}function SX(){if(this.__filtered__){var g=new Dn(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function wX(){var g=this.__wrapped__.value(),x=this.__dir__,M=un(g),B=x<0,q=M?g.length:0,ae=Lq(0,q,this.__views__),xe=ae.start,Re=ae.end,Be=Re-xe,it=B?Re:xe-1,ot=this.__iteratees__,ct=ot.length,St=0,Dt=qr(Be,this.__takeCount__);if(!M||!B&&q==Be&&Dt==Be)return GO(g,this.__actions__);var zt=[];e:for(;Be--&&St<Dt;){it+=x;for(var _n=-1,Ht=g[it];++_n<ct;){var Pn=ot[_n],Fn=Pn.iteratee,cs=Pn.type,go=Fn(Ht);if(cs==F)Ht=go;else if(!go){if(cs==L)continue e;break e}}zt[St++]=Ht}return zt}Dn.prototype=ph(S0.prototype),Dn.prototype.constructor=Dn;function Sd(g){var x=-1,M=g==null?0:g.length;for(this.clear();++x<M;){var B=g[x];this.set(B[0],B[1])}}function CX(){this.__data__=Kg?Kg(null):{},this.size=0}function TX(g){var x=this.has(g)&&delete this.__data__[g];return this.size-=x?1:0,x}function AX(g){var x=this.__data__;if(Kg){var M=x[g];return M===u?i:M}return ei.call(x,g)?x[g]:i}function EX(g){var x=this.__data__;return Kg?x[g]!==i:ei.call(x,g)}function MX(g,x){var M=this.__data__;return this.size+=this.has(g)?0:1,M[g]=Kg&&x===i?u:x,this}Sd.prototype.clear=CX,Sd.prototype.delete=TX,Sd.prototype.get=AX,Sd.prototype.has=EX,Sd.prototype.set=MX;function $l(g){var x=-1,M=g==null?0:g.length;for(this.clear();++x<M;){var B=g[x];this.set(B[0],B[1])}}function RX(){this.__data__=[],this.size=0}function PX(g){var x=this.__data__,M=w0(x,g);if(M<0)return!1;var B=x.length-1;return M==B?x.pop():m0.call(x,M,1),--this.size,!0}function IX(g){var x=this.__data__,M=w0(x,g);return M<0?i:x[M][1]}function NX(g){return w0(this.__data__,g)>-1}function OX(g,x){var M=this.__data__,B=w0(M,g);return B<0?(++this.size,M.push([g,x])):M[B][1]=x,this}$l.prototype.clear=RX,$l.prototype.delete=PX,$l.prototype.get=IX,$l.prototype.has=NX,$l.prototype.set=OX;function Ul(g){var x=-1,M=g==null?0:g.length;for(this.clear();++x<M;){var B=g[x];this.set(B[0],B[1])}}function DX(){this.size=0,this.__data__={hash:new Sd,map:new(Wg||$l),string:new Sd}}function LX(g){var x=L0(this,g).delete(g);return this.size-=x?1:0,x}function BX(g){return L0(this,g).get(g)}function FX(g){return L0(this,g).has(g)}function $X(g,x){var M=L0(this,g),B=M.size;return M.set(g,x),this.size+=M.size==B?0:1,this}Ul.prototype.clear=DX,Ul.prototype.delete=LX,Ul.prototype.get=BX,Ul.prototype.has=FX,Ul.prototype.set=$X;function wd(g){var x=-1,M=g==null?0:g.length;for(this.__data__=new Ul;++x<M;)this.add(g[x])}function UX(g){return this.__data__.set(g,u),this}function kX(g){return this.__data__.has(g)}wd.prototype.add=wd.prototype.push=UX,wd.prototype.has=kX;function ma(g){var x=this.__data__=new $l(g);this.size=x.size}function zX(){this.__data__=new $l,this.size=0}function HX(g){var x=this.__data__,M=x.delete(g);return this.size=x.size,M}function GX(g){return this.__data__.get(g)}function VX(g){return this.__data__.has(g)}function WX(g,x){var M=this.__data__;if(M instanceof $l){var B=M.__data__;if(!Wg||B.length<o-1)return B.push([g,x]),this.size=++M.size,this;M=this.__data__=new Ul(B)}return M.set(g,x),this.size=M.size,this}ma.prototype.clear=zX,ma.prototype.delete=HX,ma.prototype.get=GX,ma.prototype.has=VX,ma.prototype.set=WX;function xO(g,x){var M=un(g),B=!M&&Md(g),q=!M&&!B&&mc(g),ae=!M&&!B&&!q&&yh(g),xe=M||B||q||ae,Re=xe?p1(g.length,tX):[],Be=Re.length;for(var it in g)(x||ei.call(g,it))&&!(xe&&(it=="length"||q&&(it=="offset"||it=="parent")||ae&&(it=="buffer"||it=="byteLength"||it=="byteOffset")||Gl(it,Be)))&&Re.push(it);return Re}function _O(g){var x=g.length;return x?g[I1(0,x-1)]:i}function jX(g,x){return B0(Bo(g),Cd(x,0,g.length))}function KX(g){return B0(Bo(g))}function _1(g,x,M){(M!==i&&!va(g[x],M)||M===i&&!(x in g))&&kl(g,x,M)}function qg(g,x,M){var B=g[x];(!(ei.call(g,x)&&va(B,M))||M===i&&!(x in g))&&kl(g,x,M)}function w0(g,x){for(var M=g.length;M--;)if(va(g[M][0],x))return M;return-1}function XX(g,x,M,B){return fc(g,function(q,ae,xe){x(B,q,M(q),xe)}),B}function SO(g,x){return g&&ja(x,Pr(x),g)}function qX(g,x){return g&&ja(x,$o(x),g)}function kl(g,x,M){x=="__proto__"&&v0?v0(g,x,{configurable:!0,enumerable:!0,value:M,writable:!0}):g[x]=M}function S1(g,x){for(var M=-1,B=x.length,q=Ke(B),ae=g==null;++M<B;)q[M]=ae?i:nC(g,x[M]);return q}function Cd(g,x,M){return g===g&&(M!==i&&(g=g<=M?g:M),x!==i&&(g=g>=x?g:x)),g}function $s(g,x,M,B,q,ae){var xe,Re=x&f,Be=x&h,it=x&p;if(M&&(xe=q?M(g,B,q,ae):M(g)),xe!==i)return xe;if(!Bi(g))return g;var ot=un(g);if(ot){if(xe=Fq(g),!Re)return Bo(g,xe)}else{var ct=Yr(g),St=ct==W||ct==X;if(mc(g))return jO(g,Re);if(ct==Se||ct==se||St&&!q){if(xe=Be||St?{}:dD(g),!Re)return Be?Aq(g,qX(xe,g)):Tq(g,SO(xe,g))}else{if(!ci[ct])return q?g:{};xe=$q(g,ct,Re)}}ae||(ae=new ma);var Dt=ae.get(g);if(Dt)return Dt;ae.set(g,xe),kD(g)?g.forEach(function(Ht){xe.add($s(Ht,x,M,Ht,g,ae))}):$D(g)&&g.forEach(function(Ht,Pn){xe.set(Pn,$s(Ht,x,M,Pn,g,ae))});var zt=it?Be?H1:z1:Be?$o:Pr,_n=ot?i:zt(g);return Ls(_n||g,function(Ht,Pn){_n&&(Pn=Ht,Ht=g[Pn]),qg(xe,Pn,$s(Ht,x,M,Pn,g,ae))}),xe}function YX(g){var x=Pr(g);return function(M){return wO(M,g,x)}}function wO(g,x,M){var B=M.length;if(g==null)return!B;for(g=oi(g);B--;){var q=M[B],ae=x[q],xe=g[q];if(xe===i&&!(q in g)||!ae(xe))return!1}return!0}function CO(g,x,M){if(typeof g!="function")throw new Bs(a);return nm(function(){g.apply(i,M)},x)}function Yg(g,x,M,B){var q=-1,ae=s0,xe=!0,Re=g.length,Be=[],it=x.length;if(!Re)return Be;M&&(x=Ti(x,as(M))),B?(ae=l1,xe=!1):x.length>=o&&(ae=Gg,xe=!1,x=new wd(x));e:for(;++q<Re;){var ot=g[q],ct=M==null?ot:M(ot);if(ot=B||ot!==0?ot:0,xe&&ct===ct){for(var St=it;St--;)if(x[St]===ct)continue e;Be.push(ot)}else ae(x,ct,B)||Be.push(ot)}return Be}var fc=QO(Wa),TO=QO(C1,!0);function QX(g,x){var M=!0;return fc(g,function(B,q,ae){return M=!!x(B,q,ae),M}),M}function C0(g,x,M){for(var B=-1,q=g.length;++B<q;){var ae=g[B],xe=x(ae);if(xe!=null&&(Re===i?xe===xe&&!us(xe):M(xe,Re)))var Re=xe,Be=ae}return Be}function ZX(g,x,M,B){var q=g.length;for(M=yn(M),M<0&&(M=-M>q?0:q+M),B=B===i||B>q?q:yn(B),B<0&&(B+=q),B=M>B?0:HD(B);M<B;)g[M++]=x;return g}function AO(g,x){var M=[];return fc(g,function(B,q,ae){x(B,q,ae)&&M.push(B)}),M}function $r(g,x,M,B,q){var ae=-1,xe=g.length;for(M||(M=kq),q||(q=[]);++ae<xe;){var Re=g[ae];x>0&&M(Re)?x>1?$r(Re,x-1,M,B,q):uc(q,Re):B||(q[q.length]=Re)}return q}var w1=ZO(),EO=ZO(!0);function Wa(g,x){return g&&w1(g,x,Pr)}function C1(g,x){return g&&EO(g,x,Pr)}function T0(g,x){return lc(x,function(M){return Vl(g[M])})}function Td(g,x){x=pc(x,g);for(var M=0,B=x.length;g!=null&&M<B;)g=g[Ka(x[M++])];return M&&M==B?g:i}function MO(g,x,M){var B=x(g);return un(g)?B:uc(B,M(g))}function ho(g){return g==null?g===i?Ee:pe:_d&&_d in oi(g)?Dq(g):Kq(g)}function T1(g,x){return g>x}function JX(g,x){return g!=null&&ei.call(g,x)}function eq(g,x){return g!=null&&x in oi(g)}function tq(g,x,M){return g>=qr(x,M)&&g<vr(x,M)}function A1(g,x,M){for(var B=M?l1:s0,q=g[0].length,ae=g.length,xe=ae,Re=Ke(ae),Be=1/0,it=[];xe--;){var ot=g[xe];xe&&x&&(ot=Ti(ot,as(x))),Be=qr(ot.length,Be),Re[xe]=!M&&(x||q>=120&&ot.length>=120)?new wd(xe&&ot):i}ot=g[0];var ct=-1,St=Re[0];e:for(;++ct<q&&it.length<Be;){var Dt=ot[ct],zt=x?x(Dt):Dt;if(Dt=M||Dt!==0?Dt:0,!(St?Gg(St,zt):B(it,zt,M))){for(xe=ae;--xe;){var _n=Re[xe];if(!(_n?Gg(_n,zt):B(g[xe],zt,M)))continue e}St&&St.push(zt),it.push(Dt)}}return it}function nq(g,x,M,B){return Wa(g,function(q,ae,xe){x(B,M(q),ae,xe)}),B}function Qg(g,x,M){x=pc(x,g),g=gD(g,x);var B=g==null?g:g[Ka(ks(x))];return B==null?i:ss(B,g,M)}function RO(g){return Gi(g)&&ho(g)==se}function iq(g){return Gi(g)&&ho(g)==ye}function rq(g){return Gi(g)&&ho(g)==Y}function Zg(g,x,M,B,q){return g===x?!0:g==null||x==null||!Gi(g)&&!Gi(x)?g!==g&&x!==x:oq(g,x,M,B,Zg,q)}function oq(g,x,M,B,q,ae){var xe=un(g),Re=un(x),Be=xe?ee:Yr(g),it=Re?ee:Yr(x);Be=Be==se?Se:Be,it=it==se?Se:it;var ot=Be==Se,ct=it==Se,St=Be==it;if(St&&mc(g)){if(!mc(x))return!1;xe=!0,ot=!1}if(St&&!ot)return ae||(ae=new ma),xe||yh(g)?lD(g,x,M,B,q,ae):Nq(g,x,Be,M,B,q,ae);if(!(M&v)){var Dt=ot&&ei.call(g,"__wrapped__"),zt=ct&&ei.call(x,"__wrapped__");if(Dt||zt){var _n=Dt?g.value():g,Ht=zt?x.value():x;return ae||(ae=new ma),q(_n,Ht,M,B,ae)}}return St?(ae||(ae=new ma),Oq(g,x,M,B,q,ae)):!1}function sq(g){return Gi(g)&&Yr(g)==V}function E1(g,x,M,B){var q=M.length,ae=q,xe=!B;if(g==null)return!ae;for(g=oi(g);q--;){var Re=M[q];if(xe&&Re[2]?Re[1]!==g[Re[0]]:!(Re[0]in g))return!1}for(;++q<ae;){Re=M[q];var Be=Re[0],it=g[Be],ot=Re[1];if(xe&&Re[2]){if(it===i&&!(Be in g))return!1}else{var ct=new ma;if(B)var St=B(it,ot,Be,g,x,ct);if(!(St===i?Zg(ot,it,v|b,B,ct):St))return!1}}return!0}function PO(g){if(!Bi(g)||Hq(g))return!1;var x=Vl(g)?sX:zg;return x.test(Ed(g))}function aq(g){return Gi(g)&&ho(g)==ve}function lq(g){return Gi(g)&&Yr(g)==j}function uq(g){return Gi(g)&&H0(g.length)&&!!gi[ho(g)]}function IO(g){return typeof g=="function"?g:g==null?Uo:typeof g=="object"?un(g)?DO(g[0],g[1]):OO(g):JD(g)}function M1(g){if(!tm(g))return fX(g);var x=[];for(var M in oi(g))ei.call(g,M)&&M!="constructor"&&x.push(M);return x}function cq(g){if(!Bi(g))return jq(g);var x=tm(g),M=[];for(var B in g)B=="constructor"&&(x||!ei.call(g,B))||M.push(B);return M}function R1(g,x){return g<x}function NO(g,x){var M=-1,B=Fo(g)?Ke(g.length):[];return fc(g,function(q,ae,xe){B[++M]=x(q,ae,xe)}),B}function OO(g){var x=V1(g);return x.length==1&&x[0][2]?hD(x[0][0],x[0][1]):function(M){return M===g||E1(M,g,x)}}function DO(g,x){return j1(g)&&fD(x)?hD(Ka(g),x):function(M){var B=nC(M,g);return B===i&&B===x?iC(M,g):Zg(x,B,v|b)}}function A0(g,x,M,B,q){g!==x&&w1(x,function(ae,xe){if(q||(q=new ma),Bi(ae))dq(g,x,xe,M,A0,B,q);else{var Re=B?B(X1(g,xe),ae,xe+"",g,x,q):i;Re===i&&(Re=ae),_1(g,xe,Re)}},$o)}function dq(g,x,M,B,q,ae,xe){var Re=X1(g,M),Be=X1(x,M),it=xe.get(Be);if(it){_1(g,M,it);return}var ot=ae?ae(Re,Be,M+"",g,x,xe):i,ct=ot===i;if(ct){var St=un(Be),Dt=!St&&mc(Be),zt=!St&&!Dt&&yh(Be);ot=Be,St||Dt||zt?un(Re)?ot=Re:Xi(Re)?ot=Bo(Re):Dt?(ct=!1,ot=jO(Be,!0)):zt?(ct=!1,ot=KO(Be,!0)):ot=[]:im(Be)||Md(Be)?(ot=Re,Md(Re)?ot=GD(Re):(!Bi(Re)||Vl(Re))&&(ot=dD(Be))):ct=!1}ct&&(xe.set(Be,ot),q(ot,Be,B,ae,xe),xe.delete(Be)),_1(g,M,ot)}function LO(g,x){var M=g.length;if(M)return x+=x<0?M:0,Gl(x,M)?g[x]:i}function BO(g,x,M){x.length?x=Ti(x,function(ae){return un(ae)?function(xe){return Td(xe,ae.length===1?ae[0]:ae)}:ae}):x=[Uo];var B=-1;x=Ti(x,as(kt()));var q=NO(g,function(ae,xe,Re){var Be=Ti(x,function(it){return it(ae)});return{criteria:Be,index:++B,value:ae}});return $K(q,function(ae,xe){return Cq(ae,xe,M)})}function fq(g,x){return FO(g,x,function(M,B){return iC(g,B)})}function FO(g,x,M){for(var B=-1,q=x.length,ae={};++B<q;){var xe=x[B],Re=Td(g,xe);M(Re,xe)&&Jg(ae,pc(xe,g),Re)}return ae}function hq(g){return function(x){return Td(x,g)}}function P1(g,x,M,B){var q=B?FK:ah,ae=-1,xe=x.length,Re=g;for(g===x&&(x=Bo(x)),M&&(Re=Ti(g,as(M)));++ae<xe;)for(var Be=0,it=x[ae],ot=M?M(it):it;(Be=q(Re,ot,Be,B))>-1;)Re!==g&&m0.call(Re,Be,1),m0.call(g,Be,1);return g}function $O(g,x){for(var M=g?x.length:0,B=M-1;M--;){var q=x[M];if(M==B||q!==ae){var ae=q;Gl(q)?m0.call(g,q,1):D1(g,q)}}return g}function I1(g,x){return g+b0(yO()*(x-g+1))}function pq(g,x,M,B){for(var q=-1,ae=vr(y0((x-g)/(M||1)),0),xe=Ke(ae);ae--;)xe[B?ae:++q]=g,g+=M;return xe}function N1(g,x){var M="";if(!g||x<1||x>H)return M;do x%2&&(M+=g),x=b0(x/2),x&&(g+=g);while(x);return M}function Tn(g,x){return q1(pD(g,x,Uo),g+"")}function gq(g){return _O(bh(g))}function mq(g,x){var M=bh(g);return B0(M,Cd(x,0,M.length))}function Jg(g,x,M,B){if(!Bi(g))return g;x=pc(x,g);for(var q=-1,ae=x.length,xe=ae-1,Re=g;Re!=null&&++q<ae;){var Be=Ka(x[q]),it=M;if(Be==="__proto__"||Be==="constructor"||Be==="prototype")return g;if(q!=xe){var ot=Re[Be];it=B?B(ot,Be,Re):i,it===i&&(it=Bi(ot)?ot:Gl(x[q+1])?[]:{})}qg(Re,Be,it),Re=Re[Be]}return g}var UO=x0?function(g,x){return x0.set(g,x),g}:Uo,vq=v0?function(g,x){return v0(g,"toString",{configurable:!0,enumerable:!1,value:oC(x),writable:!0})}:Uo;function yq(g){return B0(bh(g))}function Us(g,x,M){var B=-1,q=g.length;x<0&&(x=-x>q?0:q+x),M=M>q?q:M,M<0&&(M+=q),q=x>M?0:M-x>>>0,x>>>=0;for(var ae=Ke(q);++B<q;)ae[B]=g[B+x];return ae}function bq(g,x){var M;return fc(g,function(B,q,ae){return M=x(B,q,ae),!M}),!!M}function E0(g,x,M){var B=0,q=g==null?B:g.length;if(typeof x=="number"&&x===x&&q<=we){for(;B<q;){var ae=B+q>>>1,xe=g[ae];xe!==null&&!us(xe)&&(M?xe<=x:xe<x)?B=ae+1:q=ae}return q}return O1(g,x,Uo,M)}function O1(g,x,M,B){var q=0,ae=g==null?0:g.length;if(ae===0)return 0;x=M(x);for(var xe=x!==x,Re=x===null,Be=us(x),it=x===i;q<ae;){var ot=b0((q+ae)/2),ct=M(g[ot]),St=ct!==i,Dt=ct===null,zt=ct===ct,_n=us(ct);if(xe)var Ht=B||zt;else it?Ht=zt&&(B||St):Re?Ht=zt&&St&&(B||!Dt):Be?Ht=zt&&St&&!Dt&&(B||!_n):Dt||_n?Ht=!1:Ht=B?ct<=x:ct<x;Ht?q=ot+1:ae=ot}return qr(ae,ie)}function kO(g,x){for(var M=-1,B=g.length,q=0,ae=[];++M<B;){var xe=g[M],Re=x?x(xe):xe;if(!M||!va(Re,Be)){var Be=Re;ae[q++]=xe===0?0:xe}}return ae}function zO(g){return typeof g=="number"?g:us(g)?Q:+g}function ls(g){if(typeof g=="string")return g;if(un(g))return Ti(g,ls)+"";if(us(g))return bO?bO.call(g):"";var x=g+"";return x=="0"&&1/g==-1/0?"-0":x}function hc(g,x,M){var B=-1,q=s0,ae=g.length,xe=!0,Re=[],Be=Re;if(M)xe=!1,q=l1;else if(ae>=o){var it=x?null:Pq(g);if(it)return l0(it);xe=!1,q=Gg,Be=new wd}else Be=x?[]:Re;e:for(;++B<ae;){var ot=g[B],ct=x?x(ot):ot;if(ot=M||ot!==0?ot:0,xe&&ct===ct){for(var St=Be.length;St--;)if(Be[St]===ct)continue e;x&&Be.push(ct),Re.push(ot)}else q(Be,ct,M)||(Be!==Re&&Be.push(ct),Re.push(ot))}return Re}function D1(g,x){return x=pc(x,g),g=gD(g,x),g==null||delete g[Ka(ks(x))]}function HO(g,x,M,B){return Jg(g,x,M(Td(g,x)),B)}function M0(g,x,M,B){for(var q=g.length,ae=B?q:-1;(B?ae--:++ae<q)&&x(g[ae],ae,g););return M?Us(g,B?0:ae,B?ae+1:q):Us(g,B?ae+1:0,B?q:ae)}function GO(g,x){var M=g;return M instanceof Dn&&(M=M.value()),u1(x,function(B,q){return q.func.apply(q.thisArg,uc([B],q.args))},M)}function L1(g,x,M){var B=g.length;if(B<2)return B?hc(g[0]):[];for(var q=-1,ae=Ke(B);++q<B;)for(var xe=g[q],Re=-1;++Re<B;)Re!=q&&(ae[q]=Yg(ae[q]||xe,g[Re],x,M));return hc($r(ae,1),x,M)}function VO(g,x,M){for(var B=-1,q=g.length,ae=x.length,xe={};++B<q;){var Re=B<ae?x[B]:i;M(xe,g[B],Re)}return xe}function B1(g){return Xi(g)?g:[]}function F1(g){return typeof g=="function"?g:Uo}function pc(g,x){return un(g)?g:j1(g,x)?[g]:bD(qn(g))}var xq=Tn;function gc(g,x,M){var B=g.length;return M=M===i?B:M,!x&&M>=B?g:Us(g,x,M)}var WO=aX||function(g){return Fr.clearTimeout(g)};function jO(g,x){if(x)return g.slice();var M=g.length,B=hO?hO(M):new g.constructor(M);return g.copy(B),B}function $1(g){var x=new g.constructor(g.byteLength);return new p0(x).set(new p0(g)),x}function _q(g,x){var M=x?$1(g.buffer):g.buffer;return new g.constructor(M,g.byteOffset,g.byteLength)}function Sq(g){var x=new g.constructor(g.source,Bl.exec(g));return x.lastIndex=g.lastIndex,x}function wq(g){return Xg?oi(Xg.call(g)):{}}function KO(g,x){var M=x?$1(g.buffer):g.buffer;return new g.constructor(M,g.byteOffset,g.length)}function XO(g,x){if(g!==x){var M=g!==i,B=g===null,q=g===g,ae=us(g),xe=x!==i,Re=x===null,Be=x===x,it=us(x);if(!Re&&!it&&!ae&&g>x||ae&&xe&&Be&&!Re&&!it||B&&xe&&Be||!M&&Be||!q)return 1;if(!B&&!ae&&!it&&g<x||it&&M&&q&&!B&&!ae||Re&&M&&q||!xe&&q||!Be)return-1}return 0}function Cq(g,x,M){for(var B=-1,q=g.criteria,ae=x.criteria,xe=q.length,Re=M.length;++B<xe;){var Be=XO(q[B],ae[B]);if(Be){if(B>=Re)return Be;var it=M[B];return Be*(it=="desc"?-1:1)}}return g.index-x.index}function qO(g,x,M,B){for(var q=-1,ae=g.length,xe=M.length,Re=-1,Be=x.length,it=vr(ae-xe,0),ot=Ke(Be+it),ct=!B;++Re<Be;)ot[Re]=x[Re];for(;++q<xe;)(ct||q<ae)&&(ot[M[q]]=g[q]);for(;it--;)ot[Re++]=g[q++];return ot}function YO(g,x,M,B){for(var q=-1,ae=g.length,xe=-1,Re=M.length,Be=-1,it=x.length,ot=vr(ae-Re,0),ct=Ke(ot+it),St=!B;++q<ot;)ct[q]=g[q];for(var Dt=q;++Be<it;)ct[Dt+Be]=x[Be];for(;++xe<Re;)(St||q<ae)&&(ct[Dt+M[xe]]=g[q++]);return ct}function Bo(g,x){var M=-1,B=g.length;for(x||(x=Ke(B));++M<B;)x[M]=g[M];return x}function ja(g,x,M,B){var q=!M;M||(M={});for(var ae=-1,xe=x.length;++ae<xe;){var Re=x[ae],Be=B?B(M[Re],g[Re],Re,M,g):i;Be===i&&(Be=g[Re]),q?kl(M,Re,Be):qg(M,Re,Be)}return M}function Tq(g,x){return ja(g,W1(g),x)}function Aq(g,x){return ja(g,uD(g),x)}function R0(g,x){return function(M,B){var q=un(M)?IK:XX,ae=x?x():{};return q(M,g,kt(B,2),ae)}}function gh(g){return Tn(function(x,M){var B=-1,q=M.length,ae=q>1?M[q-1]:i,xe=q>2?M[2]:i;for(ae=g.length>3&&typeof ae=="function"?(q--,ae):i,xe&&po(M[0],M[1],xe)&&(ae=q<3?i:ae,q=1),x=oi(x);++B<q;){var Re=M[B];Re&&g(x,Re,B,ae)}return x})}function QO(g,x){return function(M,B){if(M==null)return M;if(!Fo(M))return g(M,B);for(var q=M.length,ae=x?q:-1,xe=oi(M);(x?ae--:++ae<q)&&B(xe[ae],ae,xe)!==!1;);return M}}function ZO(g){return function(x,M,B){for(var q=-1,ae=oi(x),xe=B(x),Re=xe.length;Re--;){var Be=xe[g?Re:++q];if(M(ae[Be],Be,ae)===!1)break}return x}}function Eq(g,x,M){var B=x&y,q=em(g);function ae(){var xe=this&&this!==Fr&&this instanceof ae?q:g;return xe.apply(B?M:this,arguments)}return ae}function JO(g){return function(x){x=qn(x);var M=lh(x)?ga(x):i,B=M?M[0]:x.charAt(0),q=M?gc(M,1).join(""):x.slice(1);return B[g]()+q}}function mh(g){return function(x){return u1(QD(YD(x).replace(vK,"")),g,"")}}function em(g){return function(){var x=arguments;switch(x.length){case 0:return new g;case 1:return new g(x[0]);case 2:return new g(x[0],x[1]);case 3:return new g(x[0],x[1],x[2]);case 4:return new g(x[0],x[1],x[2],x[3]);case 5:return new g(x[0],x[1],x[2],x[3],x[4]);case 6:return new g(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new g(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var M=ph(g.prototype),B=g.apply(M,x);return Bi(B)?B:M}}function Mq(g,x,M){var B=em(g);function q(){for(var ae=arguments.length,xe=Ke(ae),Re=ae,Be=vh(q);Re--;)xe[Re]=arguments[Re];var it=ae<3&&xe[0]!==Be&&xe[ae-1]!==Be?[]:cc(xe,Be);if(ae-=it.length,ae<M)return rD(g,x,P0,q.placeholder,i,xe,it,i,i,M-ae);var ot=this&&this!==Fr&&this instanceof q?B:g;return ss(ot,this,xe)}return q}function eD(g){return function(x,M,B){var q=oi(x);if(!Fo(x)){var ae=kt(M,3);x=Pr(x),M=function(Re){return ae(q[Re],Re,q)}}var xe=g(x,M,B);return xe>-1?q[ae?x[xe]:xe]:i}}function tD(g){return Hl(function(x){var M=x.length,B=M,q=Fs.prototype.thru;for(g&&x.reverse();B--;){var ae=x[B];if(typeof ae!="function")throw new Bs(a);if(q&&!xe&&D0(ae)=="wrapper")var xe=new Fs([],!0)}for(B=xe?B:M;++B<M;){ae=x[B];var Re=D0(ae),Be=Re=="wrapper"?G1(ae):i;Be&&K1(Be[0])&&Be[1]==(C|S|T|R)&&!Be[4].length&&Be[9]==1?xe=xe[D0(Be[0])].apply(xe,Be[3]):xe=ae.length==1&&K1(ae)?xe[Re]():xe.thru(ae)}return function(){var it=arguments,ot=it[0];if(xe&&it.length==1&&un(ot))return xe.plant(ot).value();for(var ct=0,St=M?x[ct].apply(this,it):ot;++ct<M;)St=x[ct].call(this,St);return St}})}function P0(g,x,M,B,q,ae,xe,Re,Be,it){var ot=x&C,ct=x&y,St=x&m,Dt=x&(S|w),zt=x&E,_n=St?i:em(g);function Ht(){for(var Pn=arguments.length,Fn=Ke(Pn),cs=Pn;cs--;)Fn[cs]=arguments[cs];if(Dt)var go=vh(Ht),ds=kK(Fn,go);if(B&&(Fn=qO(Fn,B,q,Dt)),ae&&(Fn=YO(Fn,ae,xe,Dt)),Pn-=ds,Dt&&Pn<it){var qi=cc(Fn,go);return rD(g,x,P0,Ht.placeholder,M,Fn,qi,Re,Be,it-Pn)}var ya=ct?M:this,jl=St?ya[g]:g;return Pn=Fn.length,Re?Fn=Xq(Fn,Re):zt&&Pn>1&&Fn.reverse(),ot&&Be<Pn&&(Fn.length=Be),this&&this!==Fr&&this instanceof Ht&&(jl=_n||em(jl)),jl.apply(ya,Fn)}return Ht}function nD(g,x){return function(M,B){return nq(M,g,x(B),{})}}function I0(g,x){return function(M,B){var q;if(M===i&&B===i)return x;if(M!==i&&(q=M),B!==i){if(q===i)return B;typeof M=="string"||typeof B=="string"?(M=ls(M),B=ls(B)):(M=zO(M),B=zO(B)),q=g(M,B)}return q}}function U1(g){return Hl(function(x){return x=Ti(x,as(kt())),Tn(function(M){var B=this;return g(x,function(q){return ss(q,B,M)})})})}function N0(g,x){x=x===i?" ":ls(x);var M=x.length;if(M<2)return M?N1(x,g):x;var B=N1(x,y0(g/uh(x)));return lh(x)?gc(ga(B),0,g).join(""):B.slice(0,g)}function Rq(g,x,M,B){var q=x&y,ae=em(g);function xe(){for(var Re=-1,Be=arguments.length,it=-1,ot=B.length,ct=Ke(ot+Be),St=this&&this!==Fr&&this instanceof xe?ae:g;++it<ot;)ct[it]=B[it];for(;Be--;)ct[it++]=arguments[++Re];return ss(St,q?M:this,ct)}return xe}function iD(g){return function(x,M,B){return B&&typeof B!="number"&&po(x,M,B)&&(M=B=i),x=Wl(x),M===i?(M=x,x=0):M=Wl(M),B=B===i?x<M?1:-1:Wl(B),pq(x,M,B,g)}}function O0(g){return function(x,M){return typeof x=="string"&&typeof M=="string"||(x=zs(x),M=zs(M)),g(x,M)}}function rD(g,x,M,B,q,ae,xe,Re,Be,it){var ot=x&S,ct=ot?xe:i,St=ot?i:xe,Dt=ot?ae:i,zt=ot?i:ae;x|=ot?T:A,x&=~(ot?A:T),x&_||(x&=-4);var _n=[g,x,q,Dt,ct,zt,St,Re,Be,it],Ht=M.apply(i,_n);return K1(g)&&mD(Ht,_n),Ht.placeholder=B,vD(Ht,g,x)}function k1(g){var x=mr[g];return function(M,B){if(M=zs(M),B=B==null?0:qr(yn(B),292),B&&vO(M)){var q=(qn(M)+"e").split("e"),ae=x(q[0]+"e"+(+q[1]+B));return q=(qn(ae)+"e").split("e"),+(q[0]+"e"+(+q[1]-B))}return x(M)}}var Pq=fh&&1/l0(new fh([,-0]))[1]==k?function(g){return new fh(g)}:lC;function oD(g){return function(x){var M=Yr(x);return M==V?m1(x):M==j?KK(x):UK(x,g(x))}}function zl(g,x,M,B,q,ae,xe,Re){var Be=x&m;if(!Be&&typeof g!="function")throw new Bs(a);var it=B?B.length:0;if(it||(x&=-97,B=q=i),xe=xe===i?xe:vr(yn(xe),0),Re=Re===i?Re:yn(Re),it-=q?q.length:0,x&A){var ot=B,ct=q;B=q=i}var St=Be?i:G1(g),Dt=[g,x,M,B,q,ot,ct,ae,xe,Re];if(St&&Wq(Dt,St),g=Dt[0],x=Dt[1],M=Dt[2],B=Dt[3],q=Dt[4],Re=Dt[9]=Dt[9]===i?Be?0:g.length:vr(Dt[9]-it,0),!Re&&x&(S|w)&&(x&=-25),!x||x==y)var zt=Eq(g,x,M);else x==S||x==w?zt=Mq(g,x,Re):(x==T||x==(y|T))&&!q.length?zt=Rq(g,x,M,B):zt=P0.apply(i,Dt);var _n=St?UO:mD;return vD(_n(zt,Dt),g,x)}function sD(g,x,M,B){return g===i||va(g,dh[M])&&!ei.call(B,M)?x:g}function aD(g,x,M,B,q,ae){return Bi(g)&&Bi(x)&&(ae.set(x,g),A0(g,x,i,aD,ae),ae.delete(x)),g}function Iq(g){return im(g)?i:g}function lD(g,x,M,B,q,ae){var xe=M&v,Re=g.length,Be=x.length;if(Re!=Be&&!(xe&&Be>Re))return!1;var it=ae.get(g),ot=ae.get(x);if(it&&ot)return it==x&&ot==g;var ct=-1,St=!0,Dt=M&b?new wd:i;for(ae.set(g,x),ae.set(x,g);++ct<Re;){var zt=g[ct],_n=x[ct];if(B)var Ht=xe?B(_n,zt,ct,x,g,ae):B(zt,_n,ct,g,x,ae);if(Ht!==i){if(Ht)continue;St=!1;break}if(Dt){if(!c1(x,function(Pn,Fn){if(!Gg(Dt,Fn)&&(zt===Pn||q(zt,Pn,M,B,ae)))return Dt.push(Fn)})){St=!1;break}}else if(!(zt===_n||q(zt,_n,M,B,ae))){St=!1;break}}return ae.delete(g),ae.delete(x),St}function Nq(g,x,M,B,q,ae,xe){switch(M){case De:if(g.byteLength!=x.byteLength||g.byteOffset!=x.byteOffset)return!1;g=g.buffer,x=x.buffer;case ye:return!(g.byteLength!=x.byteLength||!ae(new p0(g),new p0(x)));case ue:case Y:case Ce:return va(+g,+x);case he:return g.name==x.name&&g.message==x.message;case ve:case G:return g==x+"";case V:var Re=m1;case j:var Be=B&v;if(Re||(Re=l0),g.size!=x.size&&!Be)return!1;var it=xe.get(g);if(it)return it==x;B|=b,xe.set(g,x);var ot=lD(Re(g),Re(x),B,q,ae,xe);return xe.delete(g),ot;case ce:if(Xg)return Xg.call(g)==Xg.call(x)}return!1}function Oq(g,x,M,B,q,ae){var xe=M&v,Re=z1(g),Be=Re.length,it=z1(x),ot=it.length;if(Be!=ot&&!xe)return!1;for(var ct=Be;ct--;){var St=Re[ct];if(!(xe?St in x:ei.call(x,St)))return!1}var Dt=ae.get(g),zt=ae.get(x);if(Dt&&zt)return Dt==x&&zt==g;var _n=!0;ae.set(g,x),ae.set(x,g);for(var Ht=xe;++ct<Be;){St=Re[ct];var Pn=g[St],Fn=x[St];if(B)var cs=xe?B(Fn,Pn,St,x,g,ae):B(Pn,Fn,St,g,x,ae);if(!(cs===i?Pn===Fn||q(Pn,Fn,M,B,ae):cs)){_n=!1;break}Ht||(Ht=St=="constructor")}if(_n&&!Ht){var go=g.constructor,ds=x.constructor;go!=ds&&"constructor"in g&&"constructor"in x&&!(typeof go=="function"&&go instanceof go&&typeof ds=="function"&&ds instanceof ds)&&(_n=!1)}return ae.delete(g),ae.delete(x),_n}function Hl(g){return q1(pD(g,i,wD),g+"")}function z1(g){return MO(g,Pr,W1)}function H1(g){return MO(g,$o,uD)}var G1=x0?function(g){return x0.get(g)}:lC;function D0(g){for(var x=g.name+"",M=hh[x],B=ei.call(hh,x)?M.length:0;B--;){var q=M[B],ae=q.func;if(ae==null||ae==g)return q.name}return x}function vh(g){var x=ei.call(te,"placeholder")?te:g;return x.placeholder}function kt(){var g=te.iteratee||sC;return g=g===sC?IO:g,arguments.length?g(arguments[0],arguments[1]):g}function L0(g,x){var M=g.__data__;return zq(x)?M[typeof x=="string"?"string":"hash"]:M.map}function V1(g){for(var x=Pr(g),M=x.length;M--;){var B=x[M],q=g[B];x[M]=[B,q,fD(q)]}return x}function Ad(g,x){var M=VK(g,x);return PO(M)?M:i}function Dq(g){var x=ei.call(g,_d),M=g[_d];try{g[_d]=i;var B=!0}catch{}var q=f0.call(g);return B&&(x?g[_d]=M:delete g[_d]),q}var W1=y1?function(g){return g==null?[]:(g=oi(g),lc(y1(g),function(x){return gO.call(g,x)}))}:uC,uD=y1?function(g){for(var x=[];g;)uc(x,W1(g)),g=g0(g);return x}:uC,Yr=ho;(b1&&Yr(new b1(new ArrayBuffer(1)))!=De||Wg&&Yr(new Wg)!=V||x1&&Yr(x1.resolve())!=fe||fh&&Yr(new fh)!=j||jg&&Yr(new jg)!=de)&&(Yr=function(g){var x=ho(g),M=x==Se?g.constructor:i,B=M?Ed(M):"";if(B)switch(B){case mX:return De;case vX:return V;case yX:return fe;case bX:return j;case xX:return de}return x});function Lq(g,x,M){for(var B=-1,q=M.length;++B<q;){var ae=M[B],xe=ae.size;switch(ae.type){case"drop":g+=xe;break;case"dropRight":x-=xe;break;case"take":x=qr(x,g+xe);break;case"takeRight":g=vr(g,x-xe);break}}return{start:g,end:x}}function Bq(g){var x=g.match(oc);return x?x[1].split(ha):[]}function cD(g,x,M){x=pc(x,g);for(var B=-1,q=x.length,ae=!1;++B<q;){var xe=Ka(x[B]);if(!(ae=g!=null&&M(g,xe)))break;g=g[xe]}return ae||++B!=q?ae:(q=g==null?0:g.length,!!q&&H0(q)&&Gl(xe,q)&&(un(g)||Md(g)))}function Fq(g){var x=g.length,M=new g.constructor(x);return x&&typeof g[0]=="string"&&ei.call(g,"index")&&(M.index=g.index,M.input=g.input),M}function dD(g){return typeof g.constructor=="function"&&!tm(g)?ph(g0(g)):{}}function $q(g,x,M){var B=g.constructor;switch(x){case ye:return $1(g);case ue:case Y:return new B(+g);case De:return _q(g,M);case Ge:case ft:case Te:case Pe:case Ue:case qe:case je:case lt:case rt:return KO(g,M);case V:return new B;case Ce:case G:return new B(g);case ve:return Sq(g);case j:return new B;case ce:return wq(g)}}function Uq(g,x){var M=x.length;if(!M)return g;var B=M-1;return x[B]=(M>1?"& ":"")+x[B],x=x.join(M>2?", ":" "),g.replace(rc,`{
/* [wrapped with `+x+`] */
`)}function kq(g){return un(g)||Md(g)||!!(mO&&g&&g[mO])}function Gl(g,x){var M=typeof g;return x=x??H,!!x&&(M=="number"||M!="symbol"&&sh.test(g))&&g>-1&&g%1==0&&g<x}function po(g,x,M){if(!Bi(M))return!1;var B=typeof x;return(B=="number"?Fo(M)&&Gl(x,M.length):B=="string"&&x in M)?va(M[x],g):!1}function j1(g,x){if(un(g))return!1;var M=typeof g;return M=="number"||M=="symbol"||M=="boolean"||g==null||us(g)?!0:Ci.test(g)||!tn.test(g)||x!=null&&g in oi(x)}function zq(g){var x=typeof g;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?g!=="__proto__":g===null}function K1(g){var x=D0(g),M=te[x];if(typeof M!="function"||!(x in Dn.prototype))return!1;if(g===M)return!0;var B=G1(M);return!!B&&g===B[0]}function Hq(g){return!!fO&&fO in g}var Gq=c0?Vl:cC;function tm(g){var x=g&&g.constructor,M=typeof x=="function"&&x.prototype||dh;return g===M}function fD(g){return g===g&&!Bi(g)}function hD(g,x){return function(M){return M==null?!1:M[g]===x&&(x!==i||g in oi(M))}}function Vq(g){var x=k0(g,function(B){return M.size===c&&M.clear(),B}),M=x.cache;return x}function Wq(g,x){var M=g[1],B=x[1],q=M|B,ae=q<(y|m|C),xe=B==C&&M==S||B==C&&M==R&&g[7].length<=x[8]||B==(C|R)&&x[7].length<=x[8]&&M==S;if(!(ae||xe))return g;B&y&&(g[2]=x[2],q|=M&y?0:_);var Re=x[3];if(Re){var Be=g[3];g[3]=Be?qO(Be,Re,x[4]):Re,g[4]=Be?cc(g[3],d):x[4]}return Re=x[5],Re&&(Be=g[5],g[5]=Be?YO(Be,Re,x[6]):Re,g[6]=Be?cc(g[5],d):x[6]),Re=x[7],Re&&(g[7]=Re),B&C&&(g[8]=g[8]==null?x[8]:qr(g[8],x[8])),g[9]==null&&(g[9]=x[9]),g[0]=x[0],g[1]=q,g}function jq(g){var x=[];if(g!=null)for(var M in oi(g))x.push(M);return x}function Kq(g){return f0.call(g)}function pD(g,x,M){return x=vr(x===i?g.length-1:x,0),function(){for(var B=arguments,q=-1,ae=vr(B.length-x,0),xe=Ke(ae);++q<ae;)xe[q]=B[x+q];q=-1;for(var Re=Ke(x+1);++q<x;)Re[q]=B[q];return Re[x]=M(xe),ss(g,this,Re)}}function gD(g,x){return x.length<2?g:Td(g,Us(x,0,-1))}function Xq(g,x){for(var M=g.length,B=qr(x.length,M),q=Bo(g);B--;){var ae=x[B];g[B]=Gl(ae,M)?q[ae]:i}return g}function X1(g,x){if(!(x==="constructor"&&typeof g[x]=="function")&&x!="__proto__")return g[x]}var mD=yD(UO),nm=uX||function(g,x){return Fr.setTimeout(g,x)},q1=yD(vq);function vD(g,x,M){var B=x+"";return q1(g,Uq(B,qq(Bq(B),M)))}function yD(g){var x=0,M=0;return function(){var B=hX(),q=$-(B-M);if(M=B,q>0){if(++x>=D)return arguments[0]}else x=0;return g.apply(i,arguments)}}function B0(g,x){var M=-1,B=g.length,q=B-1;for(x=x===i?B:x;++M<x;){var ae=I1(M,q),xe=g[ae];g[ae]=g[M],g[M]=xe}return g.length=x,g}var bD=Vq(function(g){var x=[];return g.charCodeAt(0)===46&&x.push(""),g.replace(Ki,function(M,B,q,ae){x.push(q?ae.replace(Dl,"$1"):B||M)}),x});function Ka(g){if(typeof g=="string"||us(g))return g;var x=g+"";return x=="0"&&1/g==-1/0?"-0":x}function Ed(g){if(g!=null){try{return d0.call(g)}catch{}try{return g+""}catch{}}return""}function qq(g,x){return Ls(J,function(M){var B="_."+M[0];x&M[1]&&!s0(g,B)&&g.push(B)}),g.sort()}function xD(g){if(g instanceof Dn)return g.clone();var x=new Fs(g.__wrapped__,g.__chain__);return x.__actions__=Bo(g.__actions__),x.__index__=g.__index__,x.__values__=g.__values__,x}function Yq(g,x,M){(M?po(g,x,M):x===i)?x=1:x=vr(yn(x),0);var B=g==null?0:g.length;if(!B||x<1)return[];for(var q=0,ae=0,xe=Ke(y0(B/x));q<B;)xe[ae++]=Us(g,q,q+=x);return xe}function Qq(g){for(var x=-1,M=g==null?0:g.length,B=0,q=[];++x<M;){var ae=g[x];ae&&(q[B++]=ae)}return q}function Zq(){var g=arguments.length;if(!g)return[];for(var x=Ke(g-1),M=arguments[0],B=g;B--;)x[B-1]=arguments[B];return uc(un(M)?Bo(M):[M],$r(x,1))}var Jq=Tn(function(g,x){return Xi(g)?Yg(g,$r(x,1,Xi,!0)):[]}),eY=Tn(function(g,x){var M=ks(x);return Xi(M)&&(M=i),Xi(g)?Yg(g,$r(x,1,Xi,!0),kt(M,2)):[]}),tY=Tn(function(g,x){var M=ks(x);return Xi(M)&&(M=i),Xi(g)?Yg(g,$r(x,1,Xi,!0),i,M):[]});function nY(g,x,M){var B=g==null?0:g.length;return B?(x=M||x===i?1:yn(x),Us(g,x<0?0:x,B)):[]}function iY(g,x,M){var B=g==null?0:g.length;return B?(x=M||x===i?1:yn(x),x=B-x,Us(g,0,x<0?0:x)):[]}function rY(g,x){return g&&g.length?M0(g,kt(x,3),!0,!0):[]}function oY(g,x){return g&&g.length?M0(g,kt(x,3),!0):[]}function sY(g,x,M,B){var q=g==null?0:g.length;return q?(M&&typeof M!="number"&&po(g,x,M)&&(M=0,B=q),ZX(g,x,M,B)):[]}function _D(g,x,M){var B=g==null?0:g.length;if(!B)return-1;var q=M==null?0:yn(M);return q<0&&(q=vr(B+q,0)),a0(g,kt(x,3),q)}function SD(g,x,M){var B=g==null?0:g.length;if(!B)return-1;var q=B-1;return M!==i&&(q=yn(M),q=M<0?vr(B+q,0):qr(q,B-1)),a0(g,kt(x,3),q,!0)}function wD(g){var x=g==null?0:g.length;return x?$r(g,1):[]}function aY(g){var x=g==null?0:g.length;return x?$r(g,k):[]}function lY(g,x){var M=g==null?0:g.length;return M?(x=x===i?1:yn(x),$r(g,x)):[]}function uY(g){for(var x=-1,M=g==null?0:g.length,B={};++x<M;){var q=g[x];B[q[0]]=q[1]}return B}function CD(g){return g&&g.length?g[0]:i}function cY(g,x,M){var B=g==null?0:g.length;if(!B)return-1;var q=M==null?0:yn(M);return q<0&&(q=vr(B+q,0)),ah(g,x,q)}function dY(g){var x=g==null?0:g.length;return x?Us(g,0,-1):[]}var fY=Tn(function(g){var x=Ti(g,B1);return x.length&&x[0]===g[0]?A1(x):[]}),hY=Tn(function(g){var x=ks(g),M=Ti(g,B1);return x===ks(M)?x=i:M.pop(),M.length&&M[0]===g[0]?A1(M,kt(x,2)):[]}),pY=Tn(function(g){var x=ks(g),M=Ti(g,B1);return x=typeof x=="function"?x:i,x&&M.pop(),M.length&&M[0]===g[0]?A1(M,i,x):[]});function gY(g,x){return g==null?"":dX.call(g,x)}function ks(g){var x=g==null?0:g.length;return x?g[x-1]:i}function mY(g,x,M){var B=g==null?0:g.length;if(!B)return-1;var q=B;return M!==i&&(q=yn(M),q=q<0?vr(B+q,0):qr(q,B-1)),x===x?qK(g,x,q):a0(g,rO,q,!0)}function vY(g,x){return g&&g.length?LO(g,yn(x)):i}var yY=Tn(TD);function TD(g,x){return g&&g.length&&x&&x.length?P1(g,x):g}function bY(g,x,M){return g&&g.length&&x&&x.length?P1(g,x,kt(M,2)):g}function xY(g,x,M){return g&&g.length&&x&&x.length?P1(g,x,i,M):g}var _Y=Hl(function(g,x){var M=g==null?0:g.length,B=S1(g,x);return $O(g,Ti(x,function(q){return Gl(q,M)?+q:q}).sort(XO)),B});function SY(g,x){var M=[];if(!(g&&g.length))return M;var B=-1,q=[],ae=g.length;for(x=kt(x,3);++B<ae;){var xe=g[B];x(xe,B,g)&&(M.push(xe),q.push(B))}return $O(g,q),M}function Y1(g){return g==null?g:gX.call(g)}function wY(g,x,M){var B=g==null?0:g.length;return B?(M&&typeof M!="number"&&po(g,x,M)?(x=0,M=B):(x=x==null?0:yn(x),M=M===i?B:yn(M)),Us(g,x,M)):[]}function CY(g,x){return E0(g,x)}function TY(g,x,M){return O1(g,x,kt(M,2))}function AY(g,x){var M=g==null?0:g.length;if(M){var B=E0(g,x);if(B<M&&va(g[B],x))return B}return-1}function EY(g,x){return E0(g,x,!0)}function MY(g,x,M){return O1(g,x,kt(M,2),!0)}function RY(g,x){var M=g==null?0:g.length;if(M){var B=E0(g,x,!0)-1;if(va(g[B],x))return B}return-1}function PY(g){return g&&g.length?kO(g):[]}function IY(g,x){return g&&g.length?kO(g,kt(x,2)):[]}function NY(g){var x=g==null?0:g.length;return x?Us(g,1,x):[]}function OY(g,x,M){return g&&g.length?(x=M||x===i?1:yn(x),Us(g,0,x<0?0:x)):[]}function DY(g,x,M){var B=g==null?0:g.length;return B?(x=M||x===i?1:yn(x),x=B-x,Us(g,x<0?0:x,B)):[]}function LY(g,x){return g&&g.length?M0(g,kt(x,3),!1,!0):[]}function BY(g,x){return g&&g.length?M0(g,kt(x,3)):[]}var FY=Tn(function(g){return hc($r(g,1,Xi,!0))}),$Y=Tn(function(g){var x=ks(g);return Xi(x)&&(x=i),hc($r(g,1,Xi,!0),kt(x,2))}),UY=Tn(function(g){var x=ks(g);return x=typeof x=="function"?x:i,hc($r(g,1,Xi,!0),i,x)});function kY(g){return g&&g.length?hc(g):[]}function zY(g,x){return g&&g.length?hc(g,kt(x,2)):[]}function HY(g,x){return x=typeof x=="function"?x:i,g&&g.length?hc(g,i,x):[]}function Q1(g){if(!(g&&g.length))return[];var x=0;return g=lc(g,function(M){if(Xi(M))return x=vr(M.length,x),!0}),p1(x,function(M){return Ti(g,d1(M))})}function AD(g,x){if(!(g&&g.length))return[];var M=Q1(g);return x==null?M:Ti(M,function(B){return ss(x,i,B)})}var GY=Tn(function(g,x){return Xi(g)?Yg(g,x):[]}),VY=Tn(function(g){return L1(lc(g,Xi))}),WY=Tn(function(g){var x=ks(g);return Xi(x)&&(x=i),L1(lc(g,Xi),kt(x,2))}),jY=Tn(function(g){var x=ks(g);return x=typeof x=="function"?x:i,L1(lc(g,Xi),i,x)}),KY=Tn(Q1);function XY(g,x){return VO(g||[],x||[],qg)}function qY(g,x){return VO(g||[],x||[],Jg)}var YY=Tn(function(g){var x=g.length,M=x>1?g[x-1]:i;return M=typeof M=="function"?(g.pop(),M):i,AD(g,M)});function ED(g){var x=te(g);return x.__chain__=!0,x}function QY(g,x){return x(g),g}function F0(g,x){return x(g)}var ZY=Hl(function(g){var x=g.length,M=x?g[0]:0,B=this.__wrapped__,q=function(ae){return S1(ae,g)};return x>1||this.__actions__.length||!(B instanceof Dn)||!Gl(M)?this.thru(q):(B=B.slice(M,+M+(x?1:0)),B.__actions__.push({func:F0,args:[q],thisArg:i}),new Fs(B,this.__chain__).thru(function(ae){return x&&!ae.length&&ae.push(i),ae}))});function JY(){return ED(this)}function eQ(){return new Fs(this.value(),this.__chain__)}function tQ(){this.__values__===i&&(this.__values__=zD(this.value()));var g=this.__index__>=this.__values__.length,x=g?i:this.__values__[this.__index__++];return{done:g,value:x}}function nQ(){return this}function iQ(g){for(var x,M=this;M instanceof S0;){var B=xD(M);B.__index__=0,B.__values__=i,x?q.__wrapped__=B:x=B;var q=B;M=M.__wrapped__}return q.__wrapped__=g,x}function rQ(){var g=this.__wrapped__;if(g instanceof Dn){var x=g;return this.__actions__.length&&(x=new Dn(this)),x=x.reverse(),x.__actions__.push({func:F0,args:[Y1],thisArg:i}),new Fs(x,this.__chain__)}return this.thru(Y1)}function oQ(){return GO(this.__wrapped__,this.__actions__)}var sQ=R0(function(g,x,M){ei.call(g,M)?++g[M]:kl(g,M,1)});function aQ(g,x,M){var B=un(g)?nO:QX;return M&&po(g,x,M)&&(x=i),B(g,kt(x,3))}function lQ(g,x){var M=un(g)?lc:AO;return M(g,kt(x,3))}var uQ=eD(_D),cQ=eD(SD);function dQ(g,x){return $r($0(g,x),1)}function fQ(g,x){return $r($0(g,x),k)}function hQ(g,x,M){return M=M===i?1:yn(M),$r($0(g,x),M)}function MD(g,x){var M=un(g)?Ls:fc;return M(g,kt(x,3))}function RD(g,x){var M=un(g)?NK:TO;return M(g,kt(x,3))}var pQ=R0(function(g,x,M){ei.call(g,M)?g[M].push(x):kl(g,M,[x])});function gQ(g,x,M,B){g=Fo(g)?g:bh(g),M=M&&!B?yn(M):0;var q=g.length;return M<0&&(M=vr(q+M,0)),G0(g)?M<=q&&g.indexOf(x,M)>-1:!!q&&ah(g,x,M)>-1}var mQ=Tn(function(g,x,M){var B=-1,q=typeof x=="function",ae=Fo(g)?Ke(g.length):[];return fc(g,function(xe){ae[++B]=q?ss(x,xe,M):Qg(xe,x,M)}),ae}),vQ=R0(function(g,x,M){kl(g,M,x)});function $0(g,x){var M=un(g)?Ti:NO;return M(g,kt(x,3))}function yQ(g,x,M,B){return g==null?[]:(un(x)||(x=x==null?[]:[x]),M=B?i:M,un(M)||(M=M==null?[]:[M]),BO(g,x,M))}var bQ=R0(function(g,x,M){g[M?0:1].push(x)},function(){return[[],[]]});function xQ(g,x,M){var B=un(g)?u1:sO,q=arguments.length<3;return B(g,kt(x,4),M,q,fc)}function _Q(g,x,M){var B=un(g)?OK:sO,q=arguments.length<3;return B(g,kt(x,4),M,q,TO)}function SQ(g,x){var M=un(g)?lc:AO;return M(g,z0(kt(x,3)))}function wQ(g){var x=un(g)?_O:gq;return x(g)}function CQ(g,x,M){(M?po(g,x,M):x===i)?x=1:x=yn(x);var B=un(g)?jX:mq;return B(g,x)}function TQ(g){var x=un(g)?KX:yq;return x(g)}function AQ(g){if(g==null)return 0;if(Fo(g))return G0(g)?uh(g):g.length;var x=Yr(g);return x==V||x==j?g.size:M1(g).length}function EQ(g,x,M){var B=un(g)?c1:bq;return M&&po(g,x,M)&&(x=i),B(g,kt(x,3))}var MQ=Tn(function(g,x){if(g==null)return[];var M=x.length;return M>1&&po(g,x[0],x[1])?x=[]:M>2&&po(x[0],x[1],x[2])&&(x=[x[0]]),BO(g,$r(x,1),[])}),U0=lX||function(){return Fr.Date.now()};function RQ(g,x){if(typeof x!="function")throw new Bs(a);return g=yn(g),function(){if(--g<1)return x.apply(this,arguments)}}function PD(g,x,M){return x=M?i:x,x=g&&x==null?g.length:x,zl(g,C,i,i,i,i,x)}function ID(g,x){var M;if(typeof x!="function")throw new Bs(a);return g=yn(g),function(){return--g>0&&(M=x.apply(this,arguments)),g<=1&&(x=i),M}}var Z1=Tn(function(g,x,M){var B=y;if(M.length){var q=cc(M,vh(Z1));B|=T}return zl(g,B,x,M,q)}),ND=Tn(function(g,x,M){var B=y|m;if(M.length){var q=cc(M,vh(ND));B|=T}return zl(x,B,g,M,q)});function OD(g,x,M){x=M?i:x;var B=zl(g,S,i,i,i,i,i,x);return B.placeholder=OD.placeholder,B}function DD(g,x,M){x=M?i:x;var B=zl(g,w,i,i,i,i,i,x);return B.placeholder=DD.placeholder,B}function LD(g,x,M){var B,q,ae,xe,Re,Be,it=0,ot=!1,ct=!1,St=!0;if(typeof g!="function")throw new Bs(a);x=zs(x)||0,Bi(M)&&(ot=!!M.leading,ct="maxWait"in M,ae=ct?vr(zs(M.maxWait)||0,x):ae,St="trailing"in M?!!M.trailing:St);function Dt(qi){var ya=B,jl=q;return B=q=i,it=qi,xe=g.apply(jl,ya),xe}function zt(qi){return it=qi,Re=nm(Pn,x),ot?Dt(qi):xe}function _n(qi){var ya=qi-Be,jl=qi-it,e3=x-ya;return ct?qr(e3,ae-jl):e3}function Ht(qi){var ya=qi-Be,jl=qi-it;return Be===i||ya>=x||ya<0||ct&&jl>=ae}function Pn(){var qi=U0();if(Ht(qi))return Fn(qi);Re=nm(Pn,_n(qi))}function Fn(qi){return Re=i,St&&B?Dt(qi):(B=q=i,xe)}function cs(){Re!==i&&WO(Re),it=0,B=Be=q=Re=i}function go(){return Re===i?xe:Fn(U0())}function ds(){var qi=U0(),ya=Ht(qi);if(B=arguments,q=this,Be=qi,ya){if(Re===i)return zt(Be);if(ct)return WO(Re),Re=nm(Pn,x),Dt(Be)}return Re===i&&(Re=nm(Pn,x)),xe}return ds.cancel=cs,ds.flush=go,ds}var PQ=Tn(function(g,x){return CO(g,1,x)}),IQ=Tn(function(g,x,M){return CO(g,zs(x)||0,M)});function NQ(g){return zl(g,E)}function k0(g,x){if(typeof g!="function"||x!=null&&typeof x!="function")throw new Bs(a);var M=function(){var B=arguments,q=x?x.apply(this,B):B[0],ae=M.cache;if(ae.has(q))return ae.get(q);var xe=g.apply(this,B);return M.cache=ae.set(q,xe)||ae,xe};return M.cache=new(k0.Cache||Ul),M}k0.Cache=Ul;function z0(g){if(typeof g!="function")throw new Bs(a);return function(){var x=arguments;switch(x.length){case 0:return!g.call(this);case 1:return!g.call(this,x[0]);case 2:return!g.call(this,x[0],x[1]);case 3:return!g.call(this,x[0],x[1],x[2])}return!g.apply(this,x)}}function OQ(g){return ID(2,g)}var DQ=xq(function(g,x){x=x.length==1&&un(x[0])?Ti(x[0],as(kt())):Ti($r(x,1),as(kt()));var M=x.length;return Tn(function(B){for(var q=-1,ae=qr(B.length,M);++q<ae;)B[q]=x[q].call(this,B[q]);return ss(g,this,B)})}),J1=Tn(function(g,x){var M=cc(x,vh(J1));return zl(g,T,i,x,M)}),BD=Tn(function(g,x){var M=cc(x,vh(BD));return zl(g,A,i,x,M)}),LQ=Hl(function(g,x){return zl(g,R,i,i,i,x)});function BQ(g,x){if(typeof g!="function")throw new Bs(a);return x=x===i?x:yn(x),Tn(g,x)}function FQ(g,x){if(typeof g!="function")throw new Bs(a);return x=x==null?0:vr(yn(x),0),Tn(function(M){var B=M[x],q=gc(M,0,x);return B&&uc(q,B),ss(g,this,q)})}function $Q(g,x,M){var B=!0,q=!0;if(typeof g!="function")throw new Bs(a);return Bi(M)&&(B="leading"in M?!!M.leading:B,q="trailing"in M?!!M.trailing:q),LD(g,x,{leading:B,maxWait:x,trailing:q})}function UQ(g){return PD(g,1)}function kQ(g,x){return J1(F1(x),g)}function zQ(){if(!arguments.length)return[];var g=arguments[0];return un(g)?g:[g]}function HQ(g){return $s(g,p)}function GQ(g,x){return x=typeof x=="function"?x:i,$s(g,p,x)}function VQ(g){return $s(g,f|p)}function WQ(g,x){return x=typeof x=="function"?x:i,$s(g,f|p,x)}function jQ(g,x){return x==null||wO(g,x,Pr(x))}function va(g,x){return g===x||g!==g&&x!==x}var KQ=O0(T1),XQ=O0(function(g,x){return g>=x}),Md=RO(function(){return arguments}())?RO:function(g){return Gi(g)&&ei.call(g,"callee")&&!gO.call(g,"callee")},un=Ke.isArray,qQ=YN?as(YN):iq;function Fo(g){return g!=null&&H0(g.length)&&!Vl(g)}function Xi(g){return Gi(g)&&Fo(g)}function YQ(g){return g===!0||g===!1||Gi(g)&&ho(g)==ue}var mc=cX||cC,QQ=QN?as(QN):rq;function ZQ(g){return Gi(g)&&g.nodeType===1&&!im(g)}function JQ(g){if(g==null)return!0;if(Fo(g)&&(un(g)||typeof g=="string"||typeof g.splice=="function"||mc(g)||yh(g)||Md(g)))return!g.length;var x=Yr(g);if(x==V||x==j)return!g.size;if(tm(g))return!M1(g).length;for(var M in g)if(ei.call(g,M))return!1;return!0}function eZ(g,x){return Zg(g,x)}function tZ(g,x,M){M=typeof M=="function"?M:i;var B=M?M(g,x):i;return B===i?Zg(g,x,i,M):!!B}function eC(g){if(!Gi(g))return!1;var x=ho(g);return x==he||x==le||typeof g.message=="string"&&typeof g.name=="string"&&!im(g)}function nZ(g){return typeof g=="number"&&vO(g)}function Vl(g){if(!Bi(g))return!1;var x=ho(g);return x==W||x==X||x==ne||x==ge}function FD(g){return typeof g=="number"&&g==yn(g)}function H0(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=H}function Bi(g){var x=typeof g;return g!=null&&(x=="object"||x=="function")}function Gi(g){return g!=null&&typeof g=="object"}var $D=ZN?as(ZN):sq;function iZ(g,x){return g===x||E1(g,x,V1(x))}function rZ(g,x,M){return M=typeof M=="function"?M:i,E1(g,x,V1(x),M)}function oZ(g){return UD(g)&&g!=+g}function sZ(g){if(Gq(g))throw new nn(s);return PO(g)}function aZ(g){return g===null}function lZ(g){return g==null}function UD(g){return typeof g=="number"||Gi(g)&&ho(g)==Ce}function im(g){if(!Gi(g)||ho(g)!=Se)return!1;var x=g0(g);if(x===null)return!0;var M=ei.call(x,"constructor")&&x.constructor;return typeof M=="function"&&M instanceof M&&d0.call(M)==rX}var tC=JN?as(JN):aq;function uZ(g){return FD(g)&&g>=-9007199254740991&&g<=H}var kD=eO?as(eO):lq;function G0(g){return typeof g=="string"||!un(g)&&Gi(g)&&ho(g)==G}function us(g){return typeof g=="symbol"||Gi(g)&&ho(g)==ce}var yh=tO?as(tO):uq;function cZ(g){return g===i}function dZ(g){return Gi(g)&&Yr(g)==de}function fZ(g){return Gi(g)&&ho(g)==re}var hZ=O0(R1),pZ=O0(function(g,x){return g<=x});function zD(g){if(!g)return[];if(Fo(g))return G0(g)?ga(g):Bo(g);if(Vg&&g[Vg])return jK(g[Vg]());var x=Yr(g),M=x==V?m1:x==j?l0:bh;return M(g)}function Wl(g){if(!g)return g===0?g:0;if(g=zs(g),g===k||g===-1/0){var x=g<0?-1:1;return x*z}return g===g?g:0}function yn(g){var x=Wl(g),M=x%1;return x===x?M?x-M:x:0}function HD(g){return g?Cd(yn(g),0,Z):0}function zs(g){if(typeof g=="number")return g;if(us(g))return Q;if(Bi(g)){var x=typeof g.valueOf=="function"?g.valueOf():g;g=Bi(x)?x+"":x}if(typeof g!="string")return g===0?g:+g;g=aO(g);var M=pa.test(g);return M||Hg.test(g)?RK(g.slice(2),M?2:8):sc.test(g)?Q:+g}function GD(g){return ja(g,$o(g))}function gZ(g){return g?Cd(yn(g),-9007199254740991,H):g===0?g:0}function qn(g){return g==null?"":ls(g)}var mZ=gh(function(g,x){if(tm(x)||Fo(x)){ja(x,Pr(x),g);return}for(var M in x)ei.call(x,M)&&qg(g,M,x[M])}),VD=gh(function(g,x){ja(x,$o(x),g)}),V0=gh(function(g,x,M,B){ja(x,$o(x),g,B)}),vZ=gh(function(g,x,M,B){ja(x,Pr(x),g,B)}),yZ=Hl(S1);function bZ(g,x){var M=ph(g);return x==null?M:SO(M,x)}var xZ=Tn(function(g,x){g=oi(g);var M=-1,B=x.length,q=B>2?x[2]:i;for(q&&po(x[0],x[1],q)&&(B=1);++M<B;)for(var ae=x[M],xe=$o(ae),Re=-1,Be=xe.length;++Re<Be;){var it=xe[Re],ot=g[it];(ot===i||va(ot,dh[it])&&!ei.call(g,it))&&(g[it]=ae[it])}return g}),_Z=Tn(function(g){return g.push(i,aD),ss(WD,i,g)});function SZ(g,x){return iO(g,kt(x,3),Wa)}function wZ(g,x){return iO(g,kt(x,3),C1)}function CZ(g,x){return g==null?g:w1(g,kt(x,3),$o)}function TZ(g,x){return g==null?g:EO(g,kt(x,3),$o)}function AZ(g,x){return g&&Wa(g,kt(x,3))}function EZ(g,x){return g&&C1(g,kt(x,3))}function MZ(g){return g==null?[]:T0(g,Pr(g))}function RZ(g){return g==null?[]:T0(g,$o(g))}function nC(g,x,M){var B=g==null?i:Td(g,x);return B===i?M:B}function PZ(g,x){return g!=null&&cD(g,x,JX)}function iC(g,x){return g!=null&&cD(g,x,eq)}var IZ=nD(function(g,x,M){x!=null&&typeof x.toString!="function"&&(x=f0.call(x)),g[x]=M},oC(Uo)),NZ=nD(function(g,x,M){x!=null&&typeof x.toString!="function"&&(x=f0.call(x)),ei.call(g,x)?g[x].push(M):g[x]=[M]},kt),OZ=Tn(Qg);function Pr(g){return Fo(g)?xO(g):M1(g)}function $o(g){return Fo(g)?xO(g,!0):cq(g)}function DZ(g,x){var M={};return x=kt(x,3),Wa(g,function(B,q,ae){kl(M,x(B,q,ae),B)}),M}function LZ(g,x){var M={};return x=kt(x,3),Wa(g,function(B,q,ae){kl(M,q,x(B,q,ae))}),M}var BZ=gh(function(g,x,M){A0(g,x,M)}),WD=gh(function(g,x,M,B){A0(g,x,M,B)}),FZ=Hl(function(g,x){var M={};if(g==null)return M;var B=!1;x=Ti(x,function(ae){return ae=pc(ae,g),B||(B=ae.length>1),ae}),ja(g,H1(g),M),B&&(M=$s(M,f|h|p,Iq));for(var q=x.length;q--;)D1(M,x[q]);return M});function $Z(g,x){return jD(g,z0(kt(x)))}var UZ=Hl(function(g,x){return g==null?{}:fq(g,x)});function jD(g,x){if(g==null)return{};var M=Ti(H1(g),function(B){return[B]});return x=kt(x),FO(g,M,function(B,q){return x(B,q[0])})}function kZ(g,x,M){x=pc(x,g);var B=-1,q=x.length;for(q||(q=1,g=i);++B<q;){var ae=g==null?i:g[Ka(x[B])];ae===i&&(B=q,ae=M),g=Vl(ae)?ae.call(g):ae}return g}function zZ(g,x,M){return g==null?g:Jg(g,x,M)}function HZ(g,x,M,B){return B=typeof B=="function"?B:i,g==null?g:Jg(g,x,M,B)}var KD=oD(Pr),XD=oD($o);function GZ(g,x,M){var B=un(g),q=B||mc(g)||yh(g);if(x=kt(x,4),M==null){var ae=g&&g.constructor;q?M=B?new ae:[]:Bi(g)?M=Vl(ae)?ph(g0(g)):{}:M={}}return(q?Ls:Wa)(g,function(xe,Re,Be){return x(M,xe,Re,Be)}),M}function VZ(g,x){return g==null?!0:D1(g,x)}function WZ(g,x,M){return g==null?g:HO(g,x,F1(M))}function jZ(g,x,M,B){return B=typeof B=="function"?B:i,g==null?g:HO(g,x,F1(M),B)}function bh(g){return g==null?[]:g1(g,Pr(g))}function KZ(g){return g==null?[]:g1(g,$o(g))}function XZ(g,x,M){return M===i&&(M=x,x=i),M!==i&&(M=zs(M),M=M===M?M:0),x!==i&&(x=zs(x),x=x===x?x:0),Cd(zs(g),x,M)}function qZ(g,x,M){return x=Wl(x),M===i?(M=x,x=0):M=Wl(M),g=zs(g),tq(g,x,M)}function YZ(g,x,M){if(M&&typeof M!="boolean"&&po(g,x,M)&&(x=M=i),M===i&&(typeof x=="boolean"?(M=x,x=i):typeof g=="boolean"&&(M=g,g=i)),g===i&&x===i?(g=0,x=1):(g=Wl(g),x===i?(x=g,g=0):x=Wl(x)),g>x){var B=g;g=x,x=B}if(M||g%1||x%1){var q=yO();return qr(g+q*(x-g+MK("1e-"+((q+"").length-1))),x)}return I1(g,x)}var QZ=mh(function(g,x,M){return x=x.toLowerCase(),g+(M?qD(x):x)});function qD(g){return rC(qn(g).toLowerCase())}function YD(g){return g=qn(g),g&&g.replace(oe,zK).replace(yK,"")}function ZZ(g,x,M){g=qn(g),x=ls(x);var B=g.length;M=M===i?B:Cd(yn(M),0,B);var q=M;return M-=x.length,M>=0&&g.slice(M,q)==x}function JZ(g){return g=qn(g),g&&yt.test(g)?g.replace(Ve,HK):g}function eJ(g){return g=qn(g),g&&Va.test(g)?g.replace(Br,"\\$&"):g}var tJ=mh(function(g,x,M){return g+(M?"-":"")+x.toLowerCase()}),nJ=mh(function(g,x,M){return g+(M?" ":"")+x.toLowerCase()}),iJ=JO("toLowerCase");function rJ(g,x,M){g=qn(g),x=yn(x);var B=x?uh(g):0;if(!x||B>=x)return g;var q=(x-B)/2;return N0(b0(q),M)+g+N0(y0(q),M)}function oJ(g,x,M){g=qn(g),x=yn(x);var B=x?uh(g):0;return x&&B<x?g+N0(x-B,M):g}function sJ(g,x,M){g=qn(g),x=yn(x);var B=x?uh(g):0;return x&&B<x?N0(x-B,M)+g:g}function aJ(g,x,M){return M||x==null?x=0:x&&(x=+x),pX(qn(g).replace(Er,""),x||0)}function lJ(g,x,M){return(M?po(g,x,M):x===i)?x=1:x=yn(x),N1(qn(g),x)}function uJ(){var g=arguments,x=qn(g[0]);return g.length<3?x:x.replace(g[1],g[2])}var cJ=mh(function(g,x,M){return g+(M?"_":"")+x.toLowerCase()});function dJ(g,x,M){return M&&typeof M!="number"&&po(g,x,M)&&(x=M=i),M=M===i?Z:M>>>0,M?(g=qn(g),g&&(typeof x=="string"||x!=null&&!tC(x))&&(x=ls(x),!x&&lh(g))?gc(ga(g),0,M):g.split(x,M)):[]}var fJ=mh(function(g,x,M){return g+(M?" ":"")+rC(x)});function hJ(g,x,M){return g=qn(g),M=M==null?0:Cd(yn(M),0,g.length),x=ls(x),g.slice(M,M+x.length)==x}function pJ(g,x,M){var B=te.templateSettings;M&&po(g,x,M)&&(x=i),g=qn(g),x=V0({},x,B,sD);var q=V0({},x.imports,B.imports,sD),ae=Pr(q),xe=g1(q,ae),Re,Be,it=0,ot=x.interpolate||Ie,ct="__p += '",St=v1((x.escape||Ie).source+"|"+ot.source+"|"+(ot===$n?Ll:Ie).source+"|"+(x.evaluate||Ie).source+"|$","g"),Dt="//# sourceURL="+(ei.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wK+"]")+`
`;g.replace(St,function(Ht,Pn,Fn,cs,go,ds){return Fn||(Fn=cs),ct+=g.slice(it,ds).replace(ke,GK),Pn&&(Re=!0,ct+=`' +
__e(`+Pn+`) +
'`),go&&(Be=!0,ct+=`';
`+go+`;
__p += '`),Fn&&(ct+=`' +
((__t = (`+Fn+`)) == null ? '' : __t) +
'`),it=ds+Ht.length,Ht}),ct+=`';
`;var zt=ei.call(x,"variable")&&x.variable;if(!zt)ct=`with (obj) {
`+ct+`
}
`;else if(Os.test(zt))throw new nn(l);ct=(Be?ct.replace(At,""):ct).replace(Ae,"$1").replace(nt,"$1;"),ct="function("+(zt||"obj")+`) {
`+(zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Re?", __e = _.escape":"")+(Be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ct+`return __p
}`;var _n=ZD(function(){return jn(ae,Dt+"return "+ct).apply(i,xe)});if(_n.source=ct,eC(_n))throw _n;return _n}function gJ(g){return qn(g).toLowerCase()}function mJ(g){return qn(g).toUpperCase()}function vJ(g,x,M){if(g=qn(g),g&&(M||x===i))return aO(g);if(!g||!(x=ls(x)))return g;var B=ga(g),q=ga(x),ae=lO(B,q),xe=uO(B,q)+1;return gc(B,ae,xe).join("")}function yJ(g,x,M){if(g=qn(g),g&&(M||x===i))return g.slice(0,dO(g)+1);if(!g||!(x=ls(x)))return g;var B=ga(g),q=uO(B,ga(x))+1;return gc(B,0,q).join("")}function bJ(g,x,M){if(g=qn(g),g&&(M||x===i))return g.replace(Er,"");if(!g||!(x=ls(x)))return g;var B=ga(g),q=lO(B,ga(x));return gc(B,q).join("")}function xJ(g,x){var M=P,B=N;if(Bi(x)){var q="separator"in x?x.separator:q;M="length"in x?yn(x.length):M,B="omission"in x?ls(x.omission):B}g=qn(g);var ae=g.length;if(lh(g)){var xe=ga(g);ae=xe.length}if(M>=ae)return g;var Re=M-uh(B);if(Re<1)return B;var Be=xe?gc(xe,0,Re).join(""):g.slice(0,Re);if(q===i)return Be+B;if(xe&&(Re+=Be.length-Re),tC(q)){if(g.slice(Re).search(q)){var it,ot=Be;for(q.global||(q=v1(q.source,qn(Bl.exec(q))+"g")),q.lastIndex=0;it=q.exec(ot);)var ct=it.index;Be=Be.slice(0,ct===i?Re:ct)}}else if(g.indexOf(ls(q),Re)!=Re){var St=Be.lastIndexOf(q);St>-1&&(Be=Be.slice(0,St))}return Be+B}function _J(g){return g=qn(g),g&&gt.test(g)?g.replace($e,YK):g}var SJ=mh(function(g,x,M){return g+(M?" ":"")+x.toUpperCase()}),rC=JO("toUpperCase");function QD(g,x,M){return g=qn(g),x=M?i:x,x===i?WK(g)?JK(g):BK(g):g.match(x)||[]}var ZD=Tn(function(g,x){try{return ss(g,i,x)}catch(M){return eC(M)?M:new nn(M)}}),wJ=Hl(function(g,x){return Ls(x,function(M){M=Ka(M),kl(g,M,Z1(g[M],g))}),g});function CJ(g){var x=g==null?0:g.length,M=kt();return g=x?Ti(g,function(B){if(typeof B[1]!="function")throw new Bs(a);return[M(B[0]),B[1]]}):[],Tn(function(B){for(var q=-1;++q<x;){var ae=g[q];if(ss(ae[0],this,B))return ss(ae[1],this,B)}})}function TJ(g){return YX($s(g,f))}function oC(g){return function(){return g}}function AJ(g,x){return g==null||g!==g?x:g}var EJ=tD(),MJ=tD(!0);function Uo(g){return g}function sC(g){return IO(typeof g=="function"?g:$s(g,f))}function RJ(g){return OO($s(g,f))}function PJ(g,x){return DO(g,$s(x,f))}var IJ=Tn(function(g,x){return function(M){return Qg(M,g,x)}}),NJ=Tn(function(g,x){return function(M){return Qg(g,M,x)}});function aC(g,x,M){var B=Pr(x),q=T0(x,B);M==null&&!(Bi(x)&&(q.length||!B.length))&&(M=x,x=g,g=this,q=T0(x,Pr(x)));var ae=!(Bi(M)&&"chain"in M)||!!M.chain,xe=Vl(g);return Ls(q,function(Re){var Be=x[Re];g[Re]=Be,xe&&(g.prototype[Re]=function(){var it=this.__chain__;if(ae||it){var ot=g(this.__wrapped__),ct=ot.__actions__=Bo(this.__actions__);return ct.push({func:Be,args:arguments,thisArg:g}),ot.__chain__=it,ot}return Be.apply(g,uc([this.value()],arguments))})}),g}function OJ(){return Fr._===this&&(Fr._=oX),this}function lC(){}function DJ(g){return g=yn(g),Tn(function(x){return LO(x,g)})}var LJ=U1(Ti),BJ=U1(nO),FJ=U1(c1);function JD(g){return j1(g)?d1(Ka(g)):hq(g)}function $J(g){return function(x){return g==null?i:Td(g,x)}}var UJ=iD(),kJ=iD(!0);function uC(){return[]}function cC(){return!1}function zJ(){return{}}function HJ(){return""}function GJ(){return!0}function VJ(g,x){if(g=yn(g),g<1||g>H)return[];var M=Z,B=qr(g,Z);x=kt(x),g-=Z;for(var q=p1(B,x);++M<g;)x(M);return q}function WJ(g){return un(g)?Ti(g,Ka):us(g)?[g]:Bo(bD(qn(g)))}function jJ(g){var x=++iX;return qn(g)+x}var KJ=I0(function(g,x){return g+x},0),XJ=k1("ceil"),qJ=I0(function(g,x){return g/x},1),YJ=k1("floor");function QJ(g){return g&&g.length?C0(g,Uo,T1):i}function ZJ(g,x){return g&&g.length?C0(g,kt(x,2),T1):i}function JJ(g){return oO(g,Uo)}function eee(g,x){return oO(g,kt(x,2))}function tee(g){return g&&g.length?C0(g,Uo,R1):i}function nee(g,x){return g&&g.length?C0(g,kt(x,2),R1):i}var iee=I0(function(g,x){return g*x},1),ree=k1("round"),oee=I0(function(g,x){return g-x},0);function see(g){return g&&g.length?h1(g,Uo):0}function aee(g,x){return g&&g.length?h1(g,kt(x,2)):0}return te.after=RQ,te.ary=PD,te.assign=mZ,te.assignIn=VD,te.assignInWith=V0,te.assignWith=vZ,te.at=yZ,te.before=ID,te.bind=Z1,te.bindAll=wJ,te.bindKey=ND,te.castArray=zQ,te.chain=ED,te.chunk=Yq,te.compact=Qq,te.concat=Zq,te.cond=CJ,te.conforms=TJ,te.constant=oC,te.countBy=sQ,te.create=bZ,te.curry=OD,te.curryRight=DD,te.debounce=LD,te.defaults=xZ,te.defaultsDeep=_Z,te.defer=PQ,te.delay=IQ,te.difference=Jq,te.differenceBy=eY,te.differenceWith=tY,te.drop=nY,te.dropRight=iY,te.dropRightWhile=rY,te.dropWhile=oY,te.fill=sY,te.filter=lQ,te.flatMap=dQ,te.flatMapDeep=fQ,te.flatMapDepth=hQ,te.flatten=wD,te.flattenDeep=aY,te.flattenDepth=lY,te.flip=NQ,te.flow=EJ,te.flowRight=MJ,te.fromPairs=uY,te.functions=MZ,te.functionsIn=RZ,te.groupBy=pQ,te.initial=dY,te.intersection=fY,te.intersectionBy=hY,te.intersectionWith=pY,te.invert=IZ,te.invertBy=NZ,te.invokeMap=mQ,te.iteratee=sC,te.keyBy=vQ,te.keys=Pr,te.keysIn=$o,te.map=$0,te.mapKeys=DZ,te.mapValues=LZ,te.matches=RJ,te.matchesProperty=PJ,te.memoize=k0,te.merge=BZ,te.mergeWith=WD,te.method=IJ,te.methodOf=NJ,te.mixin=aC,te.negate=z0,te.nthArg=DJ,te.omit=FZ,te.omitBy=$Z,te.once=OQ,te.orderBy=yQ,te.over=LJ,te.overArgs=DQ,te.overEvery=BJ,te.overSome=FJ,te.partial=J1,te.partialRight=BD,te.partition=bQ,te.pick=UZ,te.pickBy=jD,te.property=JD,te.propertyOf=$J,te.pull=yY,te.pullAll=TD,te.pullAllBy=bY,te.pullAllWith=xY,te.pullAt=_Y,te.range=UJ,te.rangeRight=kJ,te.rearg=LQ,te.reject=SQ,te.remove=SY,te.rest=BQ,te.reverse=Y1,te.sampleSize=CQ,te.set=zZ,te.setWith=HZ,te.shuffle=TQ,te.slice=wY,te.sortBy=MQ,te.sortedUniq=PY,te.sortedUniqBy=IY,te.split=dJ,te.spread=FQ,te.tail=NY,te.take=OY,te.takeRight=DY,te.takeRightWhile=LY,te.takeWhile=BY,te.tap=QY,te.throttle=$Q,te.thru=F0,te.toArray=zD,te.toPairs=KD,te.toPairsIn=XD,te.toPath=WJ,te.toPlainObject=GD,te.transform=GZ,te.unary=UQ,te.union=FY,te.unionBy=$Y,te.unionWith=UY,te.uniq=kY,te.uniqBy=zY,te.uniqWith=HY,te.unset=VZ,te.unzip=Q1,te.unzipWith=AD,te.update=WZ,te.updateWith=jZ,te.values=bh,te.valuesIn=KZ,te.without=GY,te.words=QD,te.wrap=kQ,te.xor=VY,te.xorBy=WY,te.xorWith=jY,te.zip=KY,te.zipObject=XY,te.zipObjectDeep=qY,te.zipWith=YY,te.entries=KD,te.entriesIn=XD,te.extend=VD,te.extendWith=V0,aC(te,te),te.add=KJ,te.attempt=ZD,te.camelCase=QZ,te.capitalize=qD,te.ceil=XJ,te.clamp=XZ,te.clone=HQ,te.cloneDeep=VQ,te.cloneDeepWith=WQ,te.cloneWith=GQ,te.conformsTo=jQ,te.deburr=YD,te.defaultTo=AJ,te.divide=qJ,te.endsWith=ZZ,te.eq=va,te.escape=JZ,te.escapeRegExp=eJ,te.every=aQ,te.find=uQ,te.findIndex=_D,te.findKey=SZ,te.findLast=cQ,te.findLastIndex=SD,te.findLastKey=wZ,te.floor=YJ,te.forEach=MD,te.forEachRight=RD,te.forIn=CZ,te.forInRight=TZ,te.forOwn=AZ,te.forOwnRight=EZ,te.get=nC,te.gt=KQ,te.gte=XQ,te.has=PZ,te.hasIn=iC,te.head=CD,te.identity=Uo,te.includes=gQ,te.indexOf=cY,te.inRange=qZ,te.invoke=OZ,te.isArguments=Md,te.isArray=un,te.isArrayBuffer=qQ,te.isArrayLike=Fo,te.isArrayLikeObject=Xi,te.isBoolean=YQ,te.isBuffer=mc,te.isDate=QQ,te.isElement=ZQ,te.isEmpty=JQ,te.isEqual=eZ,te.isEqualWith=tZ,te.isError=eC,te.isFinite=nZ,te.isFunction=Vl,te.isInteger=FD,te.isLength=H0,te.isMap=$D,te.isMatch=iZ,te.isMatchWith=rZ,te.isNaN=oZ,te.isNative=sZ,te.isNil=lZ,te.isNull=aZ,te.isNumber=UD,te.isObject=Bi,te.isObjectLike=Gi,te.isPlainObject=im,te.isRegExp=tC,te.isSafeInteger=uZ,te.isSet=kD,te.isString=G0,te.isSymbol=us,te.isTypedArray=yh,te.isUndefined=cZ,te.isWeakMap=dZ,te.isWeakSet=fZ,te.join=gY,te.kebabCase=tJ,te.last=ks,te.lastIndexOf=mY,te.lowerCase=nJ,te.lowerFirst=iJ,te.lt=hZ,te.lte=pZ,te.max=QJ,te.maxBy=ZJ,te.mean=JJ,te.meanBy=eee,te.min=tee,te.minBy=nee,te.stubArray=uC,te.stubFalse=cC,te.stubObject=zJ,te.stubString=HJ,te.stubTrue=GJ,te.multiply=iee,te.nth=vY,te.noConflict=OJ,te.noop=lC,te.now=U0,te.pad=rJ,te.padEnd=oJ,te.padStart=sJ,te.parseInt=aJ,te.random=YZ,te.reduce=xQ,te.reduceRight=_Q,te.repeat=lJ,te.replace=uJ,te.result=kZ,te.round=ree,te.runInContext=Oe,te.sample=wQ,te.size=AQ,te.snakeCase=cJ,te.some=EQ,te.sortedIndex=CY,te.sortedIndexBy=TY,te.sortedIndexOf=AY,te.sortedLastIndex=EY,te.sortedLastIndexBy=MY,te.sortedLastIndexOf=RY,te.startCase=fJ,te.startsWith=hJ,te.subtract=oee,te.sum=see,te.sumBy=aee,te.template=pJ,te.times=VJ,te.toFinite=Wl,te.toInteger=yn,te.toLength=HD,te.toLower=gJ,te.toNumber=zs,te.toSafeInteger=gZ,te.toString=qn,te.toUpper=mJ,te.trim=vJ,te.trimEnd=yJ,te.trimStart=bJ,te.truncate=xJ,te.unescape=_J,te.uniqueId=jJ,te.upperCase=SJ,te.upperFirst=rC,te.each=MD,te.eachRight=RD,te.first=CD,aC(te,function(){var g={};return Wa(te,function(x,M){ei.call(te.prototype,M)||(g[M]=x)}),g}(),{chain:!1}),te.VERSION=r,Ls(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){te[g].placeholder=te}),Ls(["drop","take"],function(g,x){Dn.prototype[g]=function(M){M=M===i?1:vr(yn(M),0);var B=this.__filtered__&&!x?new Dn(this):this.clone();return B.__filtered__?B.__takeCount__=qr(M,B.__takeCount__):B.__views__.push({size:qr(M,Z),type:g+(B.__dir__<0?"Right":"")}),B},Dn.prototype[g+"Right"]=function(M){return this.reverse()[g](M).reverse()}}),Ls(["filter","map","takeWhile"],function(g,x){var M=x+1,B=M==L||M==U;Dn.prototype[g]=function(q){var ae=this.clone();return ae.__iteratees__.push({iteratee:kt(q,3),type:M}),ae.__filtered__=ae.__filtered__||B,ae}}),Ls(["head","last"],function(g,x){var M="take"+(x?"Right":"");Dn.prototype[g]=function(){return this[M](1).value()[0]}}),Ls(["initial","tail"],function(g,x){var M="drop"+(x?"":"Right");Dn.prototype[g]=function(){return this.__filtered__?new Dn(this):this[M](1)}}),Dn.prototype.compact=function(){return this.filter(Uo)},Dn.prototype.find=function(g){return this.filter(g).head()},Dn.prototype.findLast=function(g){return this.reverse().find(g)},Dn.prototype.invokeMap=Tn(function(g,x){return typeof g=="function"?new Dn(this):this.map(function(M){return Qg(M,g,x)})}),Dn.prototype.reject=function(g){return this.filter(z0(kt(g)))},Dn.prototype.slice=function(g,x){g=yn(g);var M=this;return M.__filtered__&&(g>0||x<0)?new Dn(M):(g<0?M=M.takeRight(-g):g&&(M=M.drop(g)),x!==i&&(x=yn(x),M=x<0?M.dropRight(-x):M.take(x-g)),M)},Dn.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},Dn.prototype.toArray=function(){return this.take(Z)},Wa(Dn.prototype,function(g,x){var M=/^(?:filter|find|map|reject)|While$/.test(x),B=/^(?:head|last)$/.test(x),q=te[B?"take"+(x=="last"?"Right":""):x],ae=B||/^find/.test(x);q&&(te.prototype[x]=function(){var xe=this.__wrapped__,Re=B?[1]:arguments,Be=xe instanceof Dn,it=Re[0],ot=Be||un(xe),ct=function(Pn){var Fn=q.apply(te,uc([Pn],Re));return B&&St?Fn[0]:Fn};ot&&M&&typeof it=="function"&&it.length!=1&&(Be=ot=!1);var St=this.__chain__,Dt=!!this.__actions__.length,zt=ae&&!St,_n=Be&&!Dt;if(!ae&&ot){xe=_n?xe:new Dn(this);var Ht=g.apply(xe,Re);return Ht.__actions__.push({func:F0,args:[ct],thisArg:i}),new Fs(Ht,St)}return zt&&_n?g.apply(this,Re):(Ht=this.thru(ct),zt?B?Ht.value()[0]:Ht.value():Ht)})}),Ls(["pop","push","shift","sort","splice","unshift"],function(g){var x=u0[g],M=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",B=/^(?:pop|shift)$/.test(g);te.prototype[g]=function(){var q=arguments;if(B&&!this.__chain__){var ae=this.value();return x.apply(un(ae)?ae:[],q)}return this[M](function(xe){return x.apply(un(xe)?xe:[],q)})}}),Wa(Dn.prototype,function(g,x){var M=te[x];if(M){var B=M.name+"";ei.call(hh,B)||(hh[B]=[]),hh[B].push({name:x,func:M})}}),hh[P0(i,m).name]=[{name:"wrapper",func:i}],Dn.prototype.clone=_X,Dn.prototype.reverse=SX,Dn.prototype.value=wX,te.prototype.at=ZY,te.prototype.chain=JY,te.prototype.commit=eQ,te.prototype.next=tQ,te.prototype.plant=iQ,te.prototype.reverse=rQ,te.prototype.toJSON=te.prototype.valueOf=te.prototype.value=oQ,te.prototype.first=te.prototype.head,Vg&&(te.prototype[Vg]=nQ),te},ch=eX();xd?((xd.exports=ch)._=ch,s1._=ch):Fr._=ch}).call(i1e)}(Xm,Xm.exports)),Xm.exports}var o1e=r1e();const bc=wP(o1e);function Hu(n){return Array.isArray?Array.isArray(n):ZV(n)==="[object Array]"}function s1e(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function a1e(n){return n==null?"":s1e(n)}function al(n){return typeof n=="string"}function YV(n){return typeof n=="number"}function l1e(n){return n===!0||n===!1||u1e(n)&&ZV(n)=="[object Boolean]"}function QV(n){return typeof n=="object"}function u1e(n){return QV(n)&&n!==null}function ws(n){return n!=null}function CT(n){return!n.trim().length}function ZV(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const c1e="Incorrect 'index' type",d1e=n=>`Invalid value for key ${n}`,f1e=n=>`Pattern length exceeds max of ${n}.`,h1e=n=>`Missing ${n} property in key`,p1e=n=>`Property 'weight' in key '${n}' must be a positive integer`,J$=Object.prototype.hasOwnProperty;class g1e{constructor(e){this._keys=[],this._keyMap={};let i=0;e.forEach(r=>{let o=JV(r);this._keys.push(o),this._keyMap[o.id]=o,i+=o.weight}),this._keys.forEach(r=>{r.weight/=i})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function JV(n){let e=null,i=null,r=null,o=1,s=null;if(al(n)||Hu(n))r=n,e=eU(n),i=HM(n);else{if(!J$.call(n,"name"))throw new Error(h1e("name"));const a=n.name;if(r=a,J$.call(n,"weight")&&(o=n.weight,o<=0))throw new Error(p1e(a));e=eU(a),i=HM(a),s=n.getFn}return{path:e,id:i,weight:o,src:r,getFn:s}}function eU(n){return Hu(n)?n:n.split(".")}function HM(n){return Hu(n)?n.join("."):n}function m1e(n,e){let i=[],r=!1;const o=(s,a,l)=>{if(ws(s))if(!a[l])i.push(s);else{let u=a[l];const c=s[u];if(!ws(c))return;if(l===a.length-1&&(al(c)||YV(c)||l1e(c)))i.push(a1e(c));else if(Hu(c)){r=!0;for(let d=0,f=c.length;d<f;d+=1)o(c[d],a,l+1)}else a.length&&o(c,a,l+1)}};return o(n,al(e)?e.split("."):e,0),r?i:i[0]}const v1e={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},y1e={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},b1e={location:0,threshold:.6,distance:100},x1e={useExtendedSearch:!1,getFn:m1e,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Qt={...y1e,...v1e,...b1e,...x1e};const _1e=/[^ ]+/g;function S1e(n=1,e=3){const i=new Map,r=Math.pow(10,e);return{get(o){const s=o.match(_1e).length;if(i.has(s))return i.get(s);const a=1/Math.pow(s,.5*n),l=parseFloat(Math.round(a*r)/r);return i.set(s,l),l},clear(){i.clear()}}}class tI{constructor({getFn:e=Qt.getFn,fieldNormWeight:i=Qt.fieldNormWeight}={}){this.norm=S1e(i,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((i,r)=>{this._keysMap[i.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,al(this.docs[0])?this.docs.forEach((e,i)=>{this._addString(e,i)}):this.docs.forEach((e,i)=>{this._addObject(e,i)}),this.norm.clear())}add(e){const i=this.size();al(e)?this._addString(e,i):this._addObject(e,i)}removeAt(e){this.records.splice(e,1);for(let i=e,r=this.size();i<r;i+=1)this.records[i].i-=1}getValueForItemAtKeyId(e,i){return e[this._keysMap[i]]}size(){return this.records.length}_addString(e,i){if(!ws(e)||CT(e))return;let r={v:e,i,n:this.norm.get(e)};this.records.push(r)}_addObject(e,i){let r={i,$:{}};this.keys.forEach((o,s)=>{let a=o.getFn?o.getFn(e):this.getFn(e,o.path);if(ws(a)){if(Hu(a)){let l=[];const u=[{nestedArrIndex:-1,value:a}];for(;u.length;){const{nestedArrIndex:c,value:d}=u.pop();if(ws(d))if(al(d)&&!CT(d)){let f={v:d,i:c,n:this.norm.get(d)};l.push(f)}else Hu(d)&&d.forEach((f,h)=>{u.push({nestedArrIndex:h,value:f})})}r.$[s]=l}else if(al(a)&&!CT(a)){let l={v:a,n:this.norm.get(a)};r.$[s]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function eW(n,e,{getFn:i=Qt.getFn,fieldNormWeight:r=Qt.fieldNormWeight}={}){const o=new tI({getFn:i,fieldNormWeight:r});return o.setKeys(n.map(JV)),o.setSources(e),o.create(),o}function w1e(n,{getFn:e=Qt.getFn,fieldNormWeight:i=Qt.fieldNormWeight}={}){const{keys:r,records:o}=n,s=new tI({getFn:e,fieldNormWeight:i});return s.setKeys(r),s.setIndexRecords(o),s}function xb(n,{errors:e=0,currentLocation:i=0,expectedLocation:r=0,distance:o=Qt.distance,ignoreLocation:s=Qt.ignoreLocation}={}){const a=e/n.length;if(s)return a;const l=Math.abs(r-i);return o?a+l/o:l?1:a}function C1e(n=[],e=Qt.minMatchCharLength){let i=[],r=-1,o=-1,s=0;for(let a=n.length;s<a;s+=1){let l=n[s];l&&r===-1?r=s:!l&&r!==-1&&(o=s-1,o-r+1>=e&&i.push([r,o]),r=-1)}return n[s-1]&&s-r>=e&&i.push([r,s-1]),i}const rf=32;function T1e(n,e,i,{location:r=Qt.location,distance:o=Qt.distance,threshold:s=Qt.threshold,findAllMatches:a=Qt.findAllMatches,minMatchCharLength:l=Qt.minMatchCharLength,includeMatches:u=Qt.includeMatches,ignoreLocation:c=Qt.ignoreLocation}={}){if(e.length>rf)throw new Error(f1e(rf));const d=e.length,f=n.length,h=Math.max(0,Math.min(r,f));let p=s,v=h;const b=l>1||u,y=b?Array(f):[];let m;for(;(m=n.indexOf(e,v))>-1;){let C=xb(e,{currentLocation:m,expectedLocation:h,distance:o,ignoreLocation:c});if(p=Math.min(C,p),v=m+d,b){let R=0;for(;R<d;)y[m+R]=1,R+=1}}v=-1;let _=[],S=1,w=d+f;const T=1<<d-1;for(let C=0;C<d;C+=1){let R=0,E=w;for(;R<E;)xb(e,{errors:C,currentLocation:h+E,expectedLocation:h,distance:o,ignoreLocation:c})<=p?R=E:w=E,E=Math.floor((w-R)/2+R);w=E;let P=Math.max(1,h-E+1),N=a?f:Math.min(h+E,f)+d,D=Array(N+2);D[N+1]=(1<<C)-1;for(let L=N;L>=P;L-=1){let F=L-1,U=i[n.charAt(F)];if(b&&(y[F]=+!!U),D[L]=(D[L+1]<<1|1)&U,C&&(D[L]|=(_[L+1]|_[L])<<1|1|_[L+1]),D[L]&T&&(S=xb(e,{errors:C,currentLocation:F,expectedLocation:h,distance:o,ignoreLocation:c}),S<=p)){if(p=S,v=F,v<=h)break;P=Math.max(1,2*h-v)}}if(xb(e,{errors:C+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:c})>p)break;_=D}const A={isMatch:v>=0,score:Math.max(.001,S)};if(b){const C=C1e(y,l);C.length?u&&(A.indices=C):A.isMatch=!1}return A}function A1e(n){let e={};for(let i=0,r=n.length;i<r;i+=1){const o=n.charAt(i);e[o]=(e[o]||0)|1<<r-i-1}return e}class tW{constructor(e,{location:i=Qt.location,threshold:r=Qt.threshold,distance:o=Qt.distance,includeMatches:s=Qt.includeMatches,findAllMatches:a=Qt.findAllMatches,minMatchCharLength:l=Qt.minMatchCharLength,isCaseSensitive:u=Qt.isCaseSensitive,ignoreLocation:c=Qt.ignoreLocation}={}){if(this.options={location:i,threshold:r,distance:o,includeMatches:s,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(h,p)=>{this.chunks.push({pattern:h,alphabet:A1e(h),startIndex:p})},f=this.pattern.length;if(f>rf){let h=0;const p=f%rf,v=f-p;for(;h<v;)d(this.pattern.substr(h,rf),h),h+=rf;if(p){const b=f-rf;d(this.pattern.substr(b),b)}}else d(this.pattern,0)}searchIn(e){const{isCaseSensitive:i,includeMatches:r}=this.options;if(i||(e=e.toLowerCase()),this.pattern===e){let v={isMatch:!0,score:0};return r&&(v.indices=[[0,e.length-1]]),v}const{location:o,distance:s,threshold:a,findAllMatches:l,minMatchCharLength:u,ignoreLocation:c}=this.options;let d=[],f=0,h=!1;this.chunks.forEach(({pattern:v,alphabet:b,startIndex:y})=>{const{isMatch:m,score:_,indices:S}=T1e(e,v,b,{location:o+y,distance:s,threshold:a,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:c});m&&(h=!0),f+=_,m&&S&&(d=[...d,...S])});let p={isMatch:h,score:h?f/this.chunks.length:1};return h&&r&&(p.indices=d),p}}class hd{constructor(e){this.pattern=e}static isMultiMatch(e){return tU(e,this.multiRegex)}static isSingleMatch(e){return tU(e,this.singleRegex)}search(){}}function tU(n,e){const i=n.match(e);return i?i[1]:null}class E1e extends hd{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const i=e===this.pattern;return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class M1e extends hd{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class R1e extends hd{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const i=e.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class P1e extends hd{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const i=!e.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class I1e extends hd{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const i=e.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class N1e extends hd{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const i=!e.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class nW extends hd{constructor(e,{location:i=Qt.location,threshold:r=Qt.threshold,distance:o=Qt.distance,includeMatches:s=Qt.includeMatches,findAllMatches:a=Qt.findAllMatches,minMatchCharLength:l=Qt.minMatchCharLength,isCaseSensitive:u=Qt.isCaseSensitive,ignoreLocation:c=Qt.ignoreLocation}={}){super(e),this._bitapSearch=new tW(e,{location:i,threshold:r,distance:o,includeMatches:s,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class iW extends hd{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let i=0,r;const o=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,i))>-1;)i=r+s,o.push([r,i-1]);const a=!!o.length;return{isMatch:a,score:a?0:1,indices:o}}}const GM=[E1e,iW,R1e,P1e,N1e,I1e,M1e,nW],nU=GM.length,O1e=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,D1e="|";function L1e(n,e={}){return n.split(D1e).map(i=>{let r=i.trim().split(O1e).filter(s=>s&&!!s.trim()),o=[];for(let s=0,a=r.length;s<a;s+=1){const l=r[s];let u=!1,c=-1;for(;!u&&++c<nU;){const d=GM[c];let f=d.isMultiMatch(l);f&&(o.push(new d(f,e)),u=!0)}if(!u)for(c=-1;++c<nU;){const d=GM[c];let f=d.isSingleMatch(l);if(f){o.push(new d(f,e));break}}}return o})}const B1e=new Set([nW.type,iW.type]);class F1e{constructor(e,{isCaseSensitive:i=Qt.isCaseSensitive,includeMatches:r=Qt.includeMatches,minMatchCharLength:o=Qt.minMatchCharLength,ignoreLocation:s=Qt.ignoreLocation,findAllMatches:a=Qt.findAllMatches,location:l=Qt.location,threshold:u=Qt.threshold,distance:c=Qt.distance}={}){this.query=null,this.options={isCaseSensitive:i,includeMatches:r,minMatchCharLength:o,findAllMatches:a,ignoreLocation:s,location:l,threshold:u,distance:c},this.pattern=i?e:e.toLowerCase(),this.query=L1e(this.pattern,this.options)}static condition(e,i){return i.useExtendedSearch}searchIn(e){const i=this.query;if(!i)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let s=0,a=[],l=0;for(let u=0,c=i.length;u<c;u+=1){const d=i[u];a.length=0,s=0;for(let f=0,h=d.length;f<h;f+=1){const p=d[f],{isMatch:v,indices:b,score:y}=p.search(e);if(v){if(s+=1,l+=y,r){const m=p.constructor.type;B1e.has(m)?a=[...a,...b]:a.push(b)}}else{l=0,s=0,a.length=0;break}}if(s){let f={isMatch:!0,score:l/s};return r&&(f.indices=a),f}}return{isMatch:!1,score:1}}}const VM=[];function $1e(...n){VM.push(...n)}function WM(n,e){for(let i=0,r=VM.length;i<r;i+=1){let o=VM[i];if(o.condition(n,e))return new o(n,e)}return new tW(n,e)}const Q_={AND:"$and",OR:"$or"},jM={PATH:"$path",PATTERN:"$val"},KM=n=>!!(n[Q_.AND]||n[Q_.OR]),U1e=n=>!!n[jM.PATH],k1e=n=>!Hu(n)&&QV(n)&&!KM(n),iU=n=>({[Q_.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function rW(n,e,{auto:i=!0}={}){const r=o=>{let s=Object.keys(o);const a=U1e(o);if(!a&&s.length>1&&!KM(o))return r(iU(o));if(k1e(o)){const u=a?o[jM.PATH]:s[0],c=a?o[jM.PATTERN]:o[u];if(!al(c))throw new Error(d1e(u));const d={keyId:HM(u),pattern:c};return i&&(d.searcher=WM(c,e)),d}let l={children:[],operator:s[0]};return s.forEach(u=>{const c=o[u];Hu(c)&&c.forEach(d=>{l.children.push(r(d))})}),l};return KM(n)||(n=iU(n)),r(n)}function z1e(n,{ignoreFieldNorm:e=Qt.ignoreFieldNorm}){n.forEach(i=>{let r=1;i.matches.forEach(({key:o,norm:s,score:a})=>{const l=o?o.weight:null;r*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(e?1:s))}),i.score=r})}function H1e(n,e){const i=n.matches;e.matches=[],ws(i)&&i.forEach(r=>{if(!ws(r.indices)||!r.indices.length)return;const{indices:o,value:s}=r;let a={indices:o,value:s};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}function G1e(n,e){e.score=n.score}function V1e(n,e,{includeMatches:i=Qt.includeMatches,includeScore:r=Qt.includeScore}={}){const o=[];return i&&o.push(H1e),r&&o.push(G1e),n.map(s=>{const{idx:a}=s,l={item:e[a],refIndex:a};return o.length&&o.forEach(u=>{u(s,l)}),l})}class Rg{constructor(e,i={},r){this.options={...Qt,...i},this.options.useExtendedSearch,this._keyStore=new g1e(this.options.keys),this.setCollection(e,r)}setCollection(e,i){if(this._docs=e,i&&!(i instanceof tI))throw new Error(c1e);this._myIndex=i||eW(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){ws(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const i=[];for(let r=0,o=this._docs.length;r<o;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,o-=1,i.push(s))}return i}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:i=-1}={}){const{includeMatches:r,includeScore:o,shouldSort:s,sortFn:a,ignoreFieldNorm:l}=this.options;let u=al(e)?al(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return z1e(u,{ignoreFieldNorm:l}),s&&u.sort(a),YV(i)&&i>-1&&(u=u.slice(0,i)),V1e(u,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(e){const i=WM(e,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:s,i:a,n:l})=>{if(!ws(s))return;const{isMatch:u,score:c,indices:d}=i.searchIn(s);u&&o.push({item:s,idx:a,matches:[{score:c,value:s,norm:l,indices:d}]})}),o}_searchLogical(e){const i=rW(e,this.options),r=(l,u,c)=>{if(!l.children){const{keyId:f,searcher:h}=l,p=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(u,f),searcher:h});return p&&p.length?[{idx:c,item:u,matches:p}]:[]}const d=[];for(let f=0,h=l.children.length;f<h;f+=1){const p=l.children[f],v=r(p,u,c);if(v.length)d.push(...v);else if(l.operator===Q_.AND)return[]}return d},o=this._myIndex.records,s={},a=[];return o.forEach(({$:l,i:u})=>{if(ws(l)){let c=r(i,l,u);c.length&&(s[u]||(s[u]={idx:u,item:l,matches:[]},a.push(s[u])),c.forEach(({matches:d})=>{s[u].matches.push(...d)}))}}),a}_searchObjectList(e){const i=WM(e,this.options),{keys:r,records:o}=this._myIndex,s=[];return o.forEach(({$:a,i:l})=>{if(!ws(a))return;let u=[];r.forEach((c,d)=>{u.push(...this._findMatches({key:c,value:a[d],searcher:i}))}),u.length&&s.push({idx:l,item:a,matches:u})}),s}_findMatches({key:e,value:i,searcher:r}){if(!ws(i))return[];let o=[];if(Hu(i))i.forEach(({v:s,i:a,n:l})=>{if(!ws(s))return;const{isMatch:u,score:c,indices:d}=r.searchIn(s);u&&o.push({score:c,key:e,value:s,idx:a,norm:l,indices:d})});else{const{v:s,n:a}=i,{isMatch:l,score:u,indices:c}=r.searchIn(s);l&&o.push({score:u,key:e,value:s,norm:a,indices:c})}return o}}Rg.version="7.0.0";Rg.createIndex=eW;Rg.parseIndex=w1e;Rg.config=Qt;Rg.parseQuery=rW;$1e(F1e);const rU=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"title",title:"title"},{ellipsis:!0,dataIndex:"type",title:"type"},{ellipsis:!0,dataIndex:"description",title:"description"},{ellipsis:!0,dataIndex:"text_unit_ids",title:"text_unit_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n}],W1e=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"source",title:"source"},{ellipsis:!0,dataIndex:"target",title:"target"},{ellipsis:!0,dataIndex:"description",title:"description"},{ellipsis:!0,dataIndex:"weight",title:"weight"},{ellipsis:!0,dataIndex:"text_unit_ids",title:"text_unit_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"combined_degree",title:"combined_degree"},{ellipsis:!0,dataIndex:"type",title:"type"}],j1e=[{ellipsis:!0,dataIndex:"source",title:"source"},{ellipsis:!0,dataIndex:"target",title:"target"},{ellipsis:!0,dataIndex:"combined_degree",title:"combined_degree"},{ellipsis:!0,dataIndex:"type",title:"type"},{ellipsis:!0,dataIndex:"weight",title:"weight"},{ellipsis:!0,dataIndex:"description",title:"description"},{ellipsis:!0,dataIndex:"text_unit_ids",title:"text_unit_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"source_degree",title:"source_degree"},{ellipsis:!0,dataIndex:"target_degree",title:"target_degree"},{ellipsis:!0,dataIndex:"combined_degree",title:"combined_degree"},{ellipsis:!0,dataIndex:"rank",title:"rank"}],K1e=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"title",title:"title"},{ellipsis:!0,dataIndex:"text",title:"text"},{ellipsis:!0,dataIndex:"text_unit_ids",title:"text_unit_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n}],X1e=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"text",title:"text"},{ellipsis:!0,dataIndex:"n_tokens",title:"n_tokens"},{ellipsis:!0,dataIndex:"document_ids",title:"document_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"entity_ids",title:"entity_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"relationship_ids",title:"relationship_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n}],q1e=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"community",title:"community"},{ellipsis:!0,dataIndex:"parent",title:"parent"},{ellipsis:!0,dataIndex:"level",title:"level"},{ellipsis:!0,dataIndex:"title",title:"title"},{ellipsis:!0,dataIndex:"entity_ids",title:"entity_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"relationship_ids",title:"relationship_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"text_unit_ids",title:"text_unit_ids",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"period",title:"period"},{ellipsis:!0,dataIndex:"size",title:"size"}],Y1e=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"covariate_type",title:"covariate_type"},{ellipsis:!0,dataIndex:"type",title:"type"},{ellipsis:!0,dataIndex:"description",title:"description"},{ellipsis:!0,dataIndex:"subject_id",title:"subject_id"},{ellipsis:!0,dataIndex:"object_id",title:"object_id"},{ellipsis:!0,dataIndex:"status",title:"status"},{ellipsis:!0,dataIndex:"start_date",title:"start_date"},{ellipsis:!0,dataIndex:"end_date",title:"end_date"},{ellipsis:!0,dataIndex:"source_text",title:"source_text"},{ellipsis:!0,dataIndex:"text_unit_id",title:"text_unit_id"}],Q1e=[{ellipsis:!0,dataIndex:"id",title:"id"},{ellipsis:!0,dataIndex:"human_readable_id",title:"human_readable_id"},{ellipsis:!0,dataIndex:"community",title:"community"},{ellipsis:!0,dataIndex:"parent",title:"parent"},{ellipsis:!0,dataIndex:"level",title:"level"},{ellipsis:!0,dataIndex:"title",title:"title"},{ellipsis:!0,dataIndex:"summary",title:"summary"},{ellipsis:!0,dataIndex:"full_content",title:"full_content"},{ellipsis:!0,dataIndex:"rank",title:"rank"},{ellipsis:!0,dataIndex:"rank_explanation",title:"rank_explanation"},{ellipsis:!0,dataIndex:"findings",title:"findings",customCell:n=>Array.isArray(n)?JSON.stringify(n,null,2):n},{ellipsis:!0,dataIndex:"full_content_json",title:"full_content_json"},{ellipsis:!0,dataIndex:"period",title:"period"},{ellipsis:!0,dataIndex:"size",title:"size"}];var XM="http://www.w3.org/1999/xhtml";const oU={svg:"http://www.w3.org/2000/svg",xhtml:XM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ww(n){var e=n+="",i=e.indexOf(":");return i>=0&&(e=n.slice(0,i))!=="xmlns"&&(n=n.slice(i+1)),oU.hasOwnProperty(e)?{space:oU[e],local:n}:n}function Z1e(n){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===XM&&e.documentElement.namespaceURI===XM?e.createElement(n):e.createElementNS(i,n)}}function J1e(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function oW(n){var e=ww(n);return(e.local?J1e:Z1e)(e)}function eCe(){}function nI(n){return n==null?eCe:function(){return this.querySelector(n)}}function tCe(n){typeof n!="function"&&(n=nI(n));for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o)for(var s=e[o],a=s.length,l=r[o]=new Array(a),u,c,d=0;d<a;++d)(u=s[d])&&(c=n.call(u,u.__data__,d,s))&&("__data__"in u&&(c.__data__=u.__data__),l[d]=c);return new Rs(r,this._parents)}function nCe(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function iCe(){return[]}function sW(n){return n==null?iCe:function(){return this.querySelectorAll(n)}}function rCe(n){return function(){return nCe(n.apply(this,arguments))}}function oCe(n){typeof n=="function"?n=rCe(n):n=sW(n);for(var e=this._groups,i=e.length,r=[],o=[],s=0;s<i;++s)for(var a=e[s],l=a.length,u,c=0;c<l;++c)(u=a[c])&&(r.push(n.call(u,u.__data__,c,a)),o.push(u));return new Rs(r,o)}function aW(n){return function(){return this.matches(n)}}function lW(n){return function(e){return e.matches(n)}}var sCe=Array.prototype.find;function aCe(n){return function(){return sCe.call(this.children,n)}}function lCe(){return this.firstElementChild}function uCe(n){return this.select(n==null?lCe:aCe(typeof n=="function"?n:lW(n)))}var cCe=Array.prototype.filter;function dCe(){return Array.from(this.children)}function fCe(n){return function(){return cCe.call(this.children,n)}}function hCe(n){return this.selectAll(n==null?dCe:fCe(typeof n=="function"?n:lW(n)))}function pCe(n){typeof n!="function"&&(n=aW(n));for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o)for(var s=e[o],a=s.length,l=r[o]=[],u,c=0;c<a;++c)(u=s[c])&&n.call(u,u.__data__,c,s)&&l.push(u);return new Rs(r,this._parents)}function uW(n){return new Array(n.length)}function gCe(){return new Rs(this._enter||this._groups.map(uW),this._parents)}function Z_(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Z_.prototype={constructor:Z_,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function mCe(n){return function(){return n}}function vCe(n,e,i,r,o,s){for(var a=0,l,u=e.length,c=s.length;a<c;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):i[a]=new Z_(n,s[a]);for(;a<u;++a)(l=e[a])&&(o[a]=l)}function yCe(n,e,i,r,o,s,a){var l,u,c=new Map,d=e.length,f=s.length,h=new Array(d),p;for(l=0;l<d;++l)(u=e[l])&&(h[l]=p=a.call(u,u.__data__,l,e)+"",c.has(p)?o[l]=u:c.set(p,u));for(l=0;l<f;++l)p=a.call(n,s[l],l,s)+"",(u=c.get(p))?(r[l]=u,u.__data__=s[l],c.delete(p)):i[l]=new Z_(n,s[l]);for(l=0;l<d;++l)(u=e[l])&&c.get(h[l])===u&&(o[l]=u)}function bCe(n){return n.__data__}function xCe(n,e){if(!arguments.length)return Array.from(this,bCe);var i=e?yCe:vCe,r=this._parents,o=this._groups;typeof n!="function"&&(n=mCe(n));for(var s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var d=r[c],f=o[c],h=f.length,p=_Ce(n.call(d,d&&d.__data__,c,r)),v=p.length,b=l[c]=new Array(v),y=a[c]=new Array(v),m=u[c]=new Array(h);i(d,f,b,y,m,p,e);for(var _=0,S=0,w,T;_<v;++_)if(w=b[_]){for(_>=S&&(S=_+1);!(T=y[S])&&++S<v;);w._next=T||null}}return a=new Rs(a,r),a._enter=l,a._exit=u,a}function _Ce(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function SCe(){return new Rs(this._exit||this._groups.map(uW),this._parents)}function wCe(n,e,i){var r=this.enter(),o=this,s=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(o=e(o),o&&(o=o.selection())),i==null?s.remove():i(s),r&&o?r.merge(o).order():o}function CCe(n){for(var e=n.selection?n.selection():n,i=this._groups,r=e._groups,o=i.length,s=r.length,a=Math.min(o,s),l=new Array(o),u=0;u<a;++u)for(var c=i[u],d=r[u],f=c.length,h=l[u]=new Array(f),p,v=0;v<f;++v)(p=c[v]||d[v])&&(h[v]=p);for(;u<o;++u)l[u]=i[u];return new Rs(l,this._parents)}function TCe(){for(var n=this._groups,e=-1,i=n.length;++e<i;)for(var r=n[e],o=r.length-1,s=r[o],a;--o>=0;)(a=r[o])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function ACe(n){n||(n=ECe);function e(f,h){return f&&h?n(f.__data__,h.__data__):!f-!h}for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s){for(var a=i[s],l=a.length,u=o[s]=new Array(l),c,d=0;d<l;++d)(c=a[d])&&(u[d]=c);u.sort(e)}return new Rs(o,this._parents).order()}function ECe(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function MCe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function RCe(){return Array.from(this)}function PCe(){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,s=r.length;o<s;++o){var a=r[o];if(a)return a}return null}function ICe(){let n=0;for(const e of this)++n;return n}function NCe(){return!this.node()}function OCe(n){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var o=e[i],s=0,a=o.length,l;s<a;++s)(l=o[s])&&n.call(l,l.__data__,s,o);return this}function DCe(n){return function(){this.removeAttribute(n)}}function LCe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function BCe(n,e){return function(){this.setAttribute(n,e)}}function FCe(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function $Ce(n,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}}function UCe(n,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}}function kCe(n,e){var i=ww(n);if(arguments.length<2){var r=this.node();return i.local?r.getAttributeNS(i.space,i.local):r.getAttribute(i)}return this.each((e==null?i.local?LCe:DCe:typeof e=="function"?i.local?UCe:$Ce:i.local?FCe:BCe)(i,e))}function cW(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function zCe(n){return function(){this.style.removeProperty(n)}}function HCe(n,e,i){return function(){this.style.setProperty(n,e,i)}}function GCe(n,e,i){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,i)}}function VCe(n,e,i){return arguments.length>1?this.each((e==null?zCe:typeof e=="function"?GCe:HCe)(n,e,i??"")):Zp(this.node(),n)}function Zp(n,e){return n.style.getPropertyValue(e)||cW(n).getComputedStyle(n,null).getPropertyValue(e)}function WCe(n){return function(){delete this[n]}}function jCe(n,e){return function(){this[n]=e}}function KCe(n,e){return function(){var i=e.apply(this,arguments);i==null?delete this[n]:this[n]=i}}function XCe(n,e){return arguments.length>1?this.each((e==null?WCe:typeof e=="function"?KCe:jCe)(n,e)):this.node()[n]}function dW(n){return n.trim().split(/^|\s+/)}function iI(n){return n.classList||new fW(n)}function fW(n){this._node=n,this._names=dW(n.getAttribute("class")||"")}fW.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function hW(n,e){for(var i=iI(n),r=-1,o=e.length;++r<o;)i.add(e[r])}function pW(n,e){for(var i=iI(n),r=-1,o=e.length;++r<o;)i.remove(e[r])}function qCe(n){return function(){hW(this,n)}}function YCe(n){return function(){pW(this,n)}}function QCe(n,e){return function(){(e.apply(this,arguments)?hW:pW)(this,n)}}function ZCe(n,e){var i=dW(n+"");if(arguments.length<2){for(var r=iI(this.node()),o=-1,s=i.length;++o<s;)if(!r.contains(i[o]))return!1;return!0}return this.each((typeof e=="function"?QCe:e?qCe:YCe)(i,e))}function JCe(){this.textContent=""}function eTe(n){return function(){this.textContent=n}}function tTe(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function nTe(n){return arguments.length?this.each(n==null?JCe:(typeof n=="function"?tTe:eTe)(n)):this.node().textContent}function iTe(){this.innerHTML=""}function rTe(n){return function(){this.innerHTML=n}}function oTe(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function sTe(n){return arguments.length?this.each(n==null?iTe:(typeof n=="function"?oTe:rTe)(n)):this.node().innerHTML}function aTe(){this.nextSibling&&this.parentNode.appendChild(this)}function lTe(){return this.each(aTe)}function uTe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cTe(){return this.each(uTe)}function dTe(n){var e=typeof n=="function"?n:oW(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function fTe(){return null}function hTe(n,e){var i=typeof n=="function"?n:oW(n),r=e==null?fTe:typeof e=="function"?e:nI(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),r.apply(this,arguments)||null)})}function pTe(){var n=this.parentNode;n&&n.removeChild(this)}function gTe(){return this.each(pTe)}function mTe(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function vTe(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function yTe(n){return this.select(n?vTe:mTe)}function bTe(n){return arguments.length?this.property("__data__",n):this.node().__data__}function xTe(n){return function(e){n.call(this,e,this.__data__)}}function _Te(n){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");return r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),{type:e,name:i}})}function STe(n){return function(){var e=this.__on;if(e){for(var i=0,r=-1,o=e.length,s;i<o;++i)s=e[i],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function wTe(n,e,i){return function(){var r=this.__on,o,s=xTe(e);if(r){for(var a=0,l=r.length;a<l;++a)if((o=r[a]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=i),o.value=e;return}}this.addEventListener(n.type,s,i),o={type:n.type,name:n.name,value:e,listener:s,options:i},r?r.push(o):this.__on=[o]}}function CTe(n,e,i){var r=_Te(n+""),o,s=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,d;u<c;++u)for(o=0,d=l[u];o<s;++o)if((a=r[o]).type===d.type&&a.name===d.name)return d.value}return}for(l=e?wTe:STe,o=0;o<s;++o)this.each(l(r[o],e,i));return this}function gW(n,e,i){var r=cW(n),o=r.CustomEvent;typeof o=="function"?o=new o(e,i):(o=r.document.createEvent("Event"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),n.dispatchEvent(o)}function TTe(n,e){return function(){return gW(this,n,e)}}function ATe(n,e){return function(){return gW(this,n,e.apply(this,arguments))}}function ETe(n,e){return this.each((typeof e=="function"?ATe:TTe)(n,e))}function*MTe(){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,s=r.length,a;o<s;++o)(a=r[o])&&(yield a)}var mW=[null];function Rs(n,e){this._groups=n,this._parents=e}function Vy(){return new Rs([[document.documentElement]],mW)}function RTe(){return this}Rs.prototype=Vy.prototype={constructor:Rs,select:tCe,selectAll:oCe,selectChild:uCe,selectChildren:hCe,filter:pCe,data:xCe,enter:gCe,exit:SCe,join:wCe,merge:CCe,selection:RTe,order:TCe,sort:ACe,call:MCe,nodes:RCe,node:PCe,size:ICe,empty:NCe,each:OCe,attr:kCe,style:VCe,property:XCe,classed:ZCe,text:nTe,html:sTe,raise:lTe,lower:cTe,append:dTe,insert:hTe,remove:gTe,clone:yTe,datum:bTe,on:CTe,dispatch:ETe,[Symbol.iterator]:MTe};function Qs(n){return typeof n=="string"?new Rs([[document.querySelector(n)]],[document.documentElement]):new Rs([[n]],mW)}function PTe(n){let e;for(;e=n.sourceEvent;)n=e;return n}function il(n,e){if(n=PTe(n),e===void 0&&(e=n.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var r=i.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[n.clientX-o.left-e.clientLeft,n.clientY-o.top-e.clientTop]}}return[n.pageX,n.pageY]}var ITe={value:()=>{}};function Wy(){for(var n=0,e=arguments.length,i={},r;n<e;++n){if(!(r=arguments[n]+"")||r in i||/[\s.]/.test(r))throw new Error("illegal type: "+r);i[r]=[]}return new Zx(i)}function Zx(n){this._=n}function NTe(n,e){return n.trim().split(/^|\s+/).map(function(i){var r="",o=i.indexOf(".");if(o>=0&&(r=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:r}})}Zx.prototype=Wy.prototype={constructor:Zx,on:function(n,e){var i=this._,r=NTe(n+"",i),o,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((o=(n=r[s]).type)&&(o=OTe(i[o],n.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(o=(n=r[s]).type)i[o]=sU(i[o],n.name,e);else if(e==null)for(o in i)i[o]=sU(i[o],n.name,null);return this},copy:function(){var n={},e=this._;for(var i in e)n[i]=e[i].slice();return new Zx(n)},call:function(n,e){if((o=arguments.length-2)>0)for(var i=new Array(o),r=0,o,s;r<o;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],r=0,o=s.length;r<o;++r)s[r].value.apply(e,i)},apply:function(n,e,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],o=0,s=r.length;o<s;++o)r[o].value.apply(e,i)}};function OTe(n,e){for(var i=0,r=n.length,o;i<r;++i)if((o=n[i]).name===e)return o.value}function sU(n,e,i){for(var r=0,o=n.length;r<o;++r)if(n[r].name===e){n[r]=ITe,n=n.slice(0,r).concat(n.slice(r+1));break}return i!=null&&n.push({name:e,value:i}),n}const DTe={passive:!1},Xv={capture:!0,passive:!1};function TT(n){n.stopImmediatePropagation()}function Ip(n){n.preventDefault(),n.stopImmediatePropagation()}function vW(n){var e=n.document.documentElement,i=Qs(n).on("dragstart.drag",Ip,Xv);"onselectstart"in e?i.on("selectstart.drag",Ip,Xv):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yW(n,e){var i=n.document.documentElement,r=Qs(n).on("dragstart.drag",null);e&&(r.on("click.drag",Ip,Xv),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in i?r.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const _b=n=>()=>n;function qM(n,{sourceEvent:e,subject:i,target:r,identifier:o,active:s,x:a,y:l,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}qM.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function LTe(n){return!n.ctrlKey&&!n.button}function BTe(){return this.parentNode}function FTe(n,e){return e??{x:n.x,y:n.y}}function $Te(){return navigator.maxTouchPoints||"ontouchstart"in this}function UTe(){var n=LTe,e=BTe,i=FTe,r=$Te,o={},s=Wy("start","drag","end"),a=0,l,u,c,d,f=0;function h(w){w.on("mousedown.drag",p).filter(r).on("touchstart.drag",y).on("touchmove.drag",m,DTe).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(w,T){if(!(d||!n.call(this,w,T))){var A=S(this,e.call(this,w,T),w,T,"mouse");A&&(Qs(w.view).on("mousemove.drag",v,Xv).on("mouseup.drag",b,Xv),vW(w.view),TT(w),c=!1,l=w.clientX,u=w.clientY,A("start",w))}}function v(w){if(Ip(w),!c){var T=w.clientX-l,A=w.clientY-u;c=T*T+A*A>f}o.mouse("drag",w)}function b(w){Qs(w.view).on("mousemove.drag mouseup.drag",null),yW(w.view,c),Ip(w),o.mouse("end",w)}function y(w,T){if(n.call(this,w,T)){var A=w.changedTouches,C=e.call(this,w,T),R=A.length,E,P;for(E=0;E<R;++E)(P=S(this,C,w,T,A[E].identifier,A[E]))&&(TT(w),P("start",w,A[E]))}}function m(w){var T=w.changedTouches,A=T.length,C,R;for(C=0;C<A;++C)(R=o[T[C].identifier])&&(Ip(w),R("drag",w,T[C]))}function _(w){var T=w.changedTouches,A=T.length,C,R;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<A;++C)(R=o[T[C].identifier])&&(TT(w),R("end",w,T[C]))}function S(w,T,A,C,R,E){var P=s.copy(),N=il(E||A,T),D,$,L;if((L=i.call(w,new qM("beforestart",{sourceEvent:A,target:h,identifier:R,active:a,x:N[0],y:N[1],dx:0,dy:0,dispatch:P}),C))!=null)return D=L.x-N[0]||0,$=L.y-N[1]||0,function F(U,k,H){var z=N,Q;switch(U){case"start":o[R]=F,Q=a++;break;case"end":delete o[R],--a;case"drag":N=il(H||k,T),Q=a;break}P.call(U,w,new qM(U,{sourceEvent:k,subject:L,target:h,identifier:R,active:Q,x:N[0]+D,y:N[1]+$,dx:N[0]-z[0],dy:N[1]-z[1],dispatch:P}),C)}}return h.filter=function(w){return arguments.length?(n=typeof w=="function"?w:_b(!!w),h):n},h.container=function(w){return arguments.length?(e=typeof w=="function"?w:_b(w),h):e},h.subject=function(w){return arguments.length?(i=typeof w=="function"?w:_b(w),h):i},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:_b(!!w),h):r},h.on=function(){var w=s.on.apply(s,arguments);return w===s?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}function rI(n,e,i){n.prototype=e.prototype=i,i.constructor=n}function bW(n,e){var i=Object.create(n.prototype);for(var r in e)i[r]=e[r];return i}function jy(){}var qv=.7,J_=1/qv,Np="\\s*([+-]?\\d+)\\s*",Yv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kTe=/^#([0-9a-f]{3,8})$/,zTe=new RegExp(`^rgb\\(${Np},${Np},${Np}\\)$`),HTe=new RegExp(`^rgb\\(${pl},${pl},${pl}\\)$`),GTe=new RegExp(`^rgba\\(${Np},${Np},${Np},${Yv}\\)$`),VTe=new RegExp(`^rgba\\(${pl},${pl},${pl},${Yv}\\)$`),WTe=new RegExp(`^hsl\\(${Yv},${pl},${pl}\\)$`),jTe=new RegExp(`^hsla\\(${Yv},${pl},${pl},${Yv}\\)$`),aU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rI(jy,Qv,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:lU,formatHex:lU,formatHex8:KTe,formatHsl:XTe,formatRgb:uU,toString:uU});function lU(){return this.rgb().formatHex()}function KTe(){return this.rgb().formatHex8()}function XTe(){return xW(this).formatHsl()}function uU(){return this.rgb().formatRgb()}function Qv(n){var e,i;return n=(n+"").trim().toLowerCase(),(e=kTe.exec(n))?(i=e[1].length,e=parseInt(e[1],16),i===6?cU(e):i===3?new Ko(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?Sb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?Sb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zTe.exec(n))?new Ko(e[1],e[2],e[3],1):(e=HTe.exec(n))?new Ko(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=GTe.exec(n))?Sb(e[1],e[2],e[3],e[4]):(e=VTe.exec(n))?Sb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=WTe.exec(n))?hU(e[1],e[2]/100,e[3]/100,1):(e=jTe.exec(n))?hU(e[1],e[2]/100,e[3]/100,e[4]):aU.hasOwnProperty(n)?cU(aU[n]):n==="transparent"?new Ko(NaN,NaN,NaN,0):null}function cU(n){return new Ko(n>>16&255,n>>8&255,n&255,1)}function Sb(n,e,i,r){return r<=0&&(n=e=i=NaN),new Ko(n,e,i,r)}function qTe(n){return n instanceof jy||(n=Qv(n)),n?(n=n.rgb(),new Ko(n.r,n.g,n.b,n.opacity)):new Ko}function YM(n,e,i,r){return arguments.length===1?qTe(n):new Ko(n,e,i,r??1)}function Ko(n,e,i,r){this.r=+n,this.g=+e,this.b=+i,this.opacity=+r}rI(Ko,YM,bW(jy,{brighter(n){return n=n==null?J_:Math.pow(J_,n),new Ko(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?qv:Math.pow(qv,n),new Ko(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ko(wf(this.r),wf(this.g),wf(this.b),eS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dU,formatHex:dU,formatHex8:YTe,formatRgb:fU,toString:fU}));function dU(){return`#${pf(this.r)}${pf(this.g)}${pf(this.b)}`}function YTe(){return`#${pf(this.r)}${pf(this.g)}${pf(this.b)}${pf((isNaN(this.opacity)?1:this.opacity)*255)}`}function fU(){const n=eS(this.opacity);return`${n===1?"rgb(":"rgba("}${wf(this.r)}, ${wf(this.g)}, ${wf(this.b)}${n===1?")":`, ${n})`}`}function eS(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function wf(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function pf(n){return n=wf(n),(n<16?"0":"")+n.toString(16)}function hU(n,e,i,r){return r<=0?n=e=i=NaN:i<=0||i>=1?n=e=NaN:e<=0&&(n=NaN),new Pa(n,e,i,r)}function xW(n){if(n instanceof Pa)return new Pa(n.h,n.s,n.l,n.opacity);if(n instanceof jy||(n=Qv(n)),!n)return new Pa;if(n instanceof Pa)return n;n=n.rgb();var e=n.r/255,i=n.g/255,r=n.b/255,o=Math.min(e,i,r),s=Math.max(e,i,r),a=NaN,l=s-o,u=(s+o)/2;return l?(e===s?a=(i-r)/l+(i<r)*6:i===s?a=(r-e)/l+2:a=(e-i)/l+4,l/=u<.5?s+o:2-s-o,a*=60):l=u>0&&u<1?0:a,new Pa(a,l,u,n.opacity)}function QTe(n,e,i,r){return arguments.length===1?xW(n):new Pa(n,e,i,r??1)}function Pa(n,e,i,r){this.h=+n,this.s=+e,this.l=+i,this.opacity=+r}rI(Pa,QTe,bW(jy,{brighter(n){return n=n==null?J_:Math.pow(J_,n),new Pa(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?qv:Math.pow(qv,n),new Pa(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*e,o=2*i-r;return new Ko(AT(n>=240?n-240:n+120,o,r),AT(n,o,r),AT(n<120?n+240:n-120,o,r),this.opacity)},clamp(){return new Pa(pU(this.h),wb(this.s),wb(this.l),eS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=eS(this.opacity);return`${n===1?"hsl(":"hsla("}${pU(this.h)}, ${wb(this.s)*100}%, ${wb(this.l)*100}%${n===1?")":`, ${n})`}`}}));function pU(n){return n=(n||0)%360,n<0?n+360:n}function wb(n){return Math.max(0,Math.min(1,n||0))}function AT(n,e,i){return(n<60?e+(i-e)*n/60:n<180?i:n<240?e+(i-e)*(240-n)/60:e)*255}const _W=n=>()=>n;function ZTe(n,e){return function(i){return n+i*e}}function JTe(n,e,i){return n=Math.pow(n,i),e=Math.pow(e,i)-n,i=1/i,function(r){return Math.pow(n+r*e,i)}}function eAe(n){return(n=+n)==1?SW:function(e,i){return i-e?JTe(e,i,n):_W(isNaN(e)?i:e)}}function SW(n,e){var i=e-n;return i?ZTe(n,i):_W(isNaN(n)?e:n)}const gU=function n(e){var i=eAe(e);function r(o,s){var a=i((o=YM(o)).r,(s=YM(s)).r),l=i(o.g,s.g),u=i(o.b,s.b),c=SW(o.opacity,s.opacity);return function(d){return o.r=a(d),o.g=l(d),o.b=u(d),o.opacity=c(d),o+""}}return r.gamma=n,r}(1);function $c(n,e){return n=+n,e=+e,function(i){return n*(1-i)+e*i}}var QM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ET=new RegExp(QM.source,"g");function tAe(n){return function(){return n}}function nAe(n){return function(e){return n(e)+""}}function iAe(n,e){var i=QM.lastIndex=ET.lastIndex=0,r,o,s,a=-1,l=[],u=[];for(n=n+"",e=e+"";(r=QM.exec(n))&&(o=ET.exec(e));)(s=o.index)>i&&(s=e.slice(i,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:$c(r,o)})),i=ET.lastIndex;return i<e.length&&(s=e.slice(i),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?nAe(u[0].x):tAe(e):(e=u.length,function(c){for(var d=0,f;d<e;++d)l[(f=u[d]).i]=f.x(c);return l.join("")})}var mU=180/Math.PI,ZM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wW(n,e,i,r,o,s){var a,l,u;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(u=n*i+e*r)&&(i-=n*u,r-=e*u),(l=Math.sqrt(i*i+r*r))&&(i/=l,r/=l,u/=l),n*r<e*i&&(n=-n,e=-e,u=-u,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(e,n)*mU,skewX:Math.atan(u)*mU,scaleX:a,scaleY:l}}var Cb;function rAe(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?ZM:wW(e.a,e.b,e.c,e.d,e.e,e.f)}function oAe(n){return n==null||(Cb||(Cb=document.createElementNS("http://www.w3.org/2000/svg","g")),Cb.setAttribute("transform",n),!(n=Cb.transform.baseVal.consolidate()))?ZM:(n=n.matrix,wW(n.a,n.b,n.c,n.d,n.e,n.f))}function CW(n,e,i,r){function o(c){return c.length?c.pop()+" ":""}function s(c,d,f,h,p,v){if(c!==f||d!==h){var b=p.push("translate(",null,e,null,i);v.push({i:b-4,x:$c(c,f)},{i:b-2,x:$c(d,h)})}else(f||h)&&p.push("translate("+f+e+h+i)}function a(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(o(f)+"rotate(",null,r)-2,x:$c(c,d)})):d&&f.push(o(f)+"rotate("+d+r)}function l(c,d,f,h){c!==d?h.push({i:f.push(o(f)+"skewX(",null,r)-2,x:$c(c,d)}):d&&f.push(o(f)+"skewX("+d+r)}function u(c,d,f,h,p,v){if(c!==f||d!==h){var b=p.push(o(p)+"scale(",null,",",null,")");v.push({i:b-4,x:$c(c,f)},{i:b-2,x:$c(d,h)})}else(f!==1||h!==1)&&p.push(o(p)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=n(c),d=n(d),s(c.translateX,c.translateY,d.translateX,d.translateY,f,h),a(c.rotate,d.rotate,f,h),l(c.skewX,d.skewX,f,h),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(p){for(var v=-1,b=h.length,y;++v<b;)f[(y=h[v]).i]=y.x(p);return f.join("")}}}var sAe=CW(rAe,"px, ","px)","deg)"),aAe=CW(oAe,", ",")",")"),lAe=1e-12;function vU(n){return((n=Math.exp(n))+1/n)/2}function uAe(n){return((n=Math.exp(n))-1/n)/2}function cAe(n){return((n=Math.exp(2*n))-1)/(n+1)}const dAe=function n(e,i,r){function o(s,a){var l=s[0],u=s[1],c=s[2],d=a[0],f=a[1],h=a[2],p=d-l,v=f-u,b=p*p+v*v,y,m;if(b<lAe)m=Math.log(h/c)/e,y=function(C){return[l+C*p,u+C*v,c*Math.exp(e*C*m)]};else{var _=Math.sqrt(b),S=(h*h-c*c+r*b)/(2*c*i*_),w=(h*h-c*c-r*b)/(2*h*i*_),T=Math.log(Math.sqrt(S*S+1)-S),A=Math.log(Math.sqrt(w*w+1)-w);m=(A-T)/e,y=function(C){var R=C*m,E=vU(T),P=c/(i*_)*(E*cAe(e*R+T)-uAe(T));return[l+P*p,u+P*v,c*E/vU(e*R+T)]}}return y.duration=m*1e3*e/Math.SQRT2,y}return o.rho=function(s){var a=Math.max(.001,+s),l=a*a,u=l*l;return n(a,l,u)},o}(Math.SQRT2,2,4);var Jp=0,qm=0,fm=0,TW=1e3,tS,Ym,nS=0,kf=0,Cw=0,Zv=typeof performance=="object"&&performance.now?performance:Date,AW=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function oI(){return kf||(AW(fAe),kf=Zv.now()+Cw)}function fAe(){kf=0}function iS(){this._call=this._time=this._next=null}iS.prototype=sI.prototype={constructor:iS,restart:function(n,e,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?oI():+i)+(e==null?0:+e),!this._next&&Ym!==this&&(Ym?Ym._next=this:tS=this,Ym=this),this._call=n,this._time=i,JM()},stop:function(){this._call&&(this._call=null,this._time=1/0,JM())}};function sI(n,e,i){var r=new iS;return r.restart(n,e,i),r}function hAe(){oI(),++Jp;for(var n=tS,e;n;)(e=kf-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Jp}function yU(){kf=(nS=Zv.now())+Cw,Jp=qm=0;try{hAe()}finally{Jp=0,gAe(),kf=0}}function pAe(){var n=Zv.now(),e=n-nS;e>TW&&(Cw-=e,nS=n)}function gAe(){for(var n,e=tS,i,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(i=e._next,e._next=null,e=n?n._next=i:tS=i);Ym=n,JM(r)}function JM(n){if(!Jp){qm&&(qm=clearTimeout(qm));var e=n-kf;e>24?(n<1/0&&(qm=setTimeout(yU,n-Zv.now()-Cw)),fm&&(fm=clearInterval(fm))):(fm||(nS=Zv.now(),fm=setInterval(pAe,TW)),Jp=1,AW(yU))}}function bU(n,e,i){var r=new iS;return e=e==null?0:+e,r.restart(o=>{r.stop(),n(o+e)},e,i),r}var mAe=Wy("start","end","cancel","interrupt"),vAe=[],EW=0,xU=1,e2=2,Jx=3,_U=4,t2=5,e_=6;function Tw(n,e,i,r,o,s){var a=n.__transition;if(!a)n.__transition={};else if(i in a)return;yAe(n,i,{name:e,index:r,group:o,on:mAe,tween:vAe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:EW})}function aI(n,e){var i=Ga(n,e);if(i.state>EW)throw new Error("too late; already scheduled");return i}function Nl(n,e){var i=Ga(n,e);if(i.state>Jx)throw new Error("too late; already running");return i}function Ga(n,e){var i=n.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function yAe(n,e,i){var r=n.__transition,o;r[e]=i,i.timer=sI(s,0,i.time);function s(c){i.state=xU,i.timer.restart(a,i.delay,i.time),i.delay<=c&&a(c-i.delay)}function a(c){var d,f,h,p;if(i.state!==xU)return u();for(d in r)if(p=r[d],p.name===i.name){if(p.state===Jx)return bU(a);p.state===_U?(p.state=e_,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete r[d]):+d<e&&(p.state=e_,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete r[d])}if(bU(function(){i.state===Jx&&(i.state=_U,i.timer.restart(l,i.delay,i.time),l(c))}),i.state=e2,i.on.call("start",n,n.__data__,i.index,i.group),i.state===e2){for(i.state=Jx,o=new Array(h=i.tween.length),d=0,f=-1;d<h;++d)(p=i.tween[d].value.call(n,n.__data__,i.index,i.group))&&(o[++f]=p);o.length=f+1}}function l(c){for(var d=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(u),i.state=t2,1),f=-1,h=o.length;++f<h;)o[f].call(n,d);i.state===t2&&(i.on.call("end",n,n.__data__,i.index,i.group),u())}function u(){i.state=e_,i.timer.stop(),delete r[e];for(var c in r)return;delete n.__transition}}function t_(n,e){var i=n.__transition,r,o,s=!0,a;if(i){e=e==null?null:e+"";for(a in i){if((r=i[a]).name!==e){s=!1;continue}o=r.state>e2&&r.state<t2,r.state=e_,r.timer.stop(),r.on.call(o?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete i[a]}s&&delete n.__transition}}function bAe(n){return this.each(function(){t_(this,n)})}function xAe(n,e){var i,r;return function(){var o=Nl(this,n),s=o.tween;if(s!==i){r=i=s;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function _Ae(n,e,i){var r,o;if(typeof i!="function")throw new Error;return function(){var s=Nl(this,n),a=s.tween;if(a!==r){o=(r=a).slice();for(var l={name:e,value:i},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=l;break}u===c&&o.push(l)}s.tween=o}}function SAe(n,e){var i=this._id;if(n+="",arguments.length<2){for(var r=Ga(this.node(),i).tween,o=0,s=r.length,a;o<s;++o)if((a=r[o]).name===n)return a.value;return null}return this.each((e==null?xAe:_Ae)(i,n,e))}function lI(n,e,i){var r=n._id;return n.each(function(){var o=Nl(this,r);(o.value||(o.value={}))[e]=i.apply(this,arguments)}),function(o){return Ga(o,r).value[e]}}function MW(n,e){var i;return(typeof e=="number"?$c:e instanceof Qv?gU:(i=Qv(e))?(e=i,gU):iAe)(n,e)}function wAe(n){return function(){this.removeAttribute(n)}}function CAe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function TAe(n,e,i){var r,o=i+"",s;return function(){var a=this.getAttribute(n);return a===o?null:a===r?s:s=e(r=a,i)}}function AAe(n,e,i){var r,o=i+"",s;return function(){var a=this.getAttributeNS(n.space,n.local);return a===o?null:a===r?s:s=e(r=a,i)}}function EAe(n,e,i){var r,o,s;return function(){var a,l=i(this),u;return l==null?void this.removeAttribute(n):(a=this.getAttribute(n),u=l+"",a===u?null:a===r&&u===o?s:(o=u,s=e(r=a,l)))}}function MAe(n,e,i){var r,o,s;return function(){var a,l=i(this),u;return l==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),u=l+"",a===u?null:a===r&&u===o?s:(o=u,s=e(r=a,l)))}}function RAe(n,e){var i=ww(n),r=i==="transform"?aAe:MW;return this.attrTween(n,typeof e=="function"?(i.local?MAe:EAe)(i,r,lI(this,"attr."+n,e)):e==null?(i.local?CAe:wAe)(i):(i.local?AAe:TAe)(i,r,e))}function PAe(n,e){return function(i){this.setAttribute(n,e.call(this,i))}}function IAe(n,e){return function(i){this.setAttributeNS(n.space,n.local,e.call(this,i))}}function NAe(n,e){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&IAe(n,s)),i}return o._value=e,o}function OAe(n,e){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&PAe(n,s)),i}return o._value=e,o}function DAe(n,e){var i="attr."+n;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var r=ww(n);return this.tween(i,(r.local?NAe:OAe)(r,e))}function LAe(n,e){return function(){aI(this,n).delay=+e.apply(this,arguments)}}function BAe(n,e){return e=+e,function(){aI(this,n).delay=e}}function FAe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?LAe:BAe)(e,n)):Ga(this.node(),e).delay}function $Ae(n,e){return function(){Nl(this,n).duration=+e.apply(this,arguments)}}function UAe(n,e){return e=+e,function(){Nl(this,n).duration=e}}function kAe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?$Ae:UAe)(e,n)):Ga(this.node(),e).duration}function zAe(n,e){if(typeof e!="function")throw new Error;return function(){Nl(this,n).ease=e}}function HAe(n){var e=this._id;return arguments.length?this.each(zAe(e,n)):Ga(this.node(),e).ease}function GAe(n,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;Nl(this,n).ease=i}}function VAe(n){if(typeof n!="function")throw new Error;return this.each(GAe(this._id,n))}function WAe(n){typeof n!="function"&&(n=aW(n));for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o)for(var s=e[o],a=s.length,l=r[o]=[],u,c=0;c<a;++c)(u=s[c])&&n.call(u,u.__data__,c,s)&&l.push(u);return new Gu(r,this._parents,this._name,this._id)}function jAe(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,i=n._groups,r=e.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var u=e[l],c=i[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<r;++l)a[l]=e[l];return new Gu(a,this._parents,this._name,this._id)}function KAe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function XAe(n,e,i){var r,o,s=KAe(e)?aI:Nl;return function(){var a=s(this,n),l=a.on;l!==r&&(o=(r=l).copy()).on(e,i),a.on=o}}function qAe(n,e){var i=this._id;return arguments.length<2?Ga(this.node(),i).on.on(n):this.each(XAe(i,n,e))}function YAe(n){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==n)return;e&&e.removeChild(this)}}function QAe(){return this.on("end.remove",YAe(this._id))}function ZAe(n){var e=this._name,i=this._id;typeof n!="function"&&(n=nI(n));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var l=r[a],u=l.length,c=s[a]=new Array(u),d,f,h=0;h<u;++h)(d=l[h])&&(f=n.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,Tw(c[h],e,i,h,c,Ga(d,i)));return new Gu(s,this._parents,e,i)}function JAe(n){var e=this._name,i=this._id;typeof n!="function"&&(n=sW(n));for(var r=this._groups,o=r.length,s=[],a=[],l=0;l<o;++l)for(var u=r[l],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var h=n.call(d,d.__data__,f,u),p,v=Ga(d,i),b=0,y=h.length;b<y;++b)(p=h[b])&&Tw(p,e,i,b,h,v);s.push(h),a.push(d)}return new Gu(s,a,e,i)}var eEe=Vy.prototype.constructor;function tEe(){return new eEe(this._groups,this._parents)}function nEe(n,e){var i,r,o;return function(){var s=Zp(this,n),a=(this.style.removeProperty(n),Zp(this,n));return s===a?null:s===i&&a===r?o:o=e(i=s,r=a)}}function RW(n){return function(){this.style.removeProperty(n)}}function iEe(n,e,i){var r,o=i+"",s;return function(){var a=Zp(this,n);return a===o?null:a===r?s:s=e(r=a,i)}}function rEe(n,e,i){var r,o,s;return function(){var a=Zp(this,n),l=i(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(n),Zp(this,n))),a===u?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}function oEe(n,e){var i,r,o,s="style."+e,a="end."+s,l;return function(){var u=Nl(this,n),c=u.on,d=u.value[s]==null?l||(l=RW(e)):void 0;(c!==i||o!==d)&&(r=(i=c).copy()).on(a,o=d),u.on=r}}function sEe(n,e,i){var r=(n+="")=="transform"?sAe:MW;return e==null?this.styleTween(n,nEe(n,r)).on("end.style."+n,RW(n)):typeof e=="function"?this.styleTween(n,rEe(n,r,lI(this,"style."+n,e))).each(oEe(this._id,n)):this.styleTween(n,iEe(n,r,e),i).on("end.style."+n,null)}function aEe(n,e,i){return function(r){this.style.setProperty(n,e.call(this,r),i)}}function lEe(n,e,i){var r,o;function s(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&aEe(n,a,i)),r}return s._value=e,s}function uEe(n,e,i){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,lEe(n,e,i??""))}function cEe(n){return function(){this.textContent=n}}function dEe(n){return function(){var e=n(this);this.textContent=e??""}}function fEe(n){return this.tween("text",typeof n=="function"?dEe(lI(this,"text",n)):cEe(n==null?"":n+""))}function hEe(n){return function(e){this.textContent=n.call(this,e)}}function pEe(n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&hEe(o)),e}return r._value=n,r}function gEe(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,pEe(n))}function mEe(){for(var n=this._name,e=this._id,i=PW(),r=this._groups,o=r.length,s=0;s<o;++s)for(var a=r[s],l=a.length,u,c=0;c<l;++c)if(u=a[c]){var d=Ga(u,e);Tw(u,n,i,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Gu(r,this._parents,n,i)}function vEe(){var n,e,i=this,r=i._id,o=i.size();return new Promise(function(s,a){var l={value:a},u={value:function(){--o===0&&s()}};i.each(function(){var c=Nl(this,r),d=c.on;d!==n&&(e=(n=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),c.on=e}),o===0&&s()})}var yEe=0;function Gu(n,e,i,r){this._groups=n,this._parents=e,this._name=i,this._id=r}function PW(){return++yEe}var Ql=Vy.prototype;Gu.prototype={constructor:Gu,select:ZAe,selectAll:JAe,selectChild:Ql.selectChild,selectChildren:Ql.selectChildren,filter:WAe,merge:jAe,selection:tEe,transition:mEe,call:Ql.call,nodes:Ql.nodes,node:Ql.node,size:Ql.size,empty:Ql.empty,each:Ql.each,on:qAe,attr:RAe,attrTween:DAe,style:sEe,styleTween:uEe,text:fEe,textTween:gEe,remove:QAe,tween:SAe,delay:FAe,duration:kAe,ease:HAe,easeVarying:VAe,end:vEe,[Symbol.iterator]:Ql[Symbol.iterator]};function bEe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var xEe={time:null,delay:0,duration:250,ease:bEe};function _Ee(n,e){for(var i;!(i=n.__transition)||!(i=i[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return i}function SEe(n){var e,i;n instanceof Gu?(e=n._id,n=n._name):(e=PW(),(i=xEe).time=oI(),n=n==null?null:n+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var a=r[s],l=a.length,u,c=0;c<l;++c)(u=a[c])&&Tw(u,n,e,c,a,i||_Ee(u,e));return new Gu(r,this._parents,n,e)}Vy.prototype.interrupt=bAe;Vy.prototype.transition=SEe;const Tb=n=>()=>n;function wEe(n,{sourceEvent:e,target:i,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function wu(n,e,i){this.k=n,this.x=e,this.y=i}wu.prototype={constructor:wu,scale:function(n){return n===1?this:new wu(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new wu(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var uI=new wu(1,0,0);tl.prototype=wu.prototype;function tl(n){for(;!n.__zoom;)if(!(n=n.parentNode))return uI;return n.__zoom}function MT(n){n.stopImmediatePropagation()}function hm(n){n.preventDefault(),n.stopImmediatePropagation()}function CEe(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function TEe(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function SU(){return this.__zoom||uI}function AEe(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function EEe(){return navigator.maxTouchPoints||"ontouchstart"in this}function MEe(n,e,i){var r=n.invertX(e[0][0])-i[0][0],o=n.invertX(e[1][0])-i[1][0],s=n.invertY(e[0][1])-i[0][1],a=n.invertY(e[1][1])-i[1][1];return n.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function REe(){var n=CEe,e=TEe,i=MEe,r=AEe,o=EEe,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,u=dAe,c=Wy("start","zoom","end"),d,f,h,p=500,v=150,b=0,y=10;function m(L){L.property("__zoom",SU).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",P).filter(o).on("touchstart.zoom",N).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(L,F,U,k){var H=L.selection?L.selection():L;H.property("__zoom",SU),L!==H?T(L,F,U,k):H.interrupt().each(function(){A(this,arguments).event(k).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},m.scaleBy=function(L,F,U,k){m.scaleTo(L,function(){var H=this.__zoom.k,z=typeof F=="function"?F.apply(this,arguments):F;return H*z},U,k)},m.scaleTo=function(L,F,U,k){m.transform(L,function(){var H=e.apply(this,arguments),z=this.__zoom,Q=U==null?w(H):typeof U=="function"?U.apply(this,arguments):U,Z=z.invert(Q),ie=typeof F=="function"?F.apply(this,arguments):F;return i(S(_(z,ie),Q,Z),H,a)},U,k)},m.translateBy=function(L,F,U,k){m.transform(L,function(){return i(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),a)},null,k)},m.translateTo=function(L,F,U,k,H){m.transform(L,function(){var z=e.apply(this,arguments),Q=this.__zoom,Z=k==null?w(z):typeof k=="function"?k.apply(this,arguments):k;return i(uI.translate(Z[0],Z[1]).scale(Q.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof U=="function"?-U.apply(this,arguments):-U),z,a)},k,H)};function _(L,F){return F=Math.max(s[0],Math.min(s[1],F)),F===L.k?L:new wu(F,L.x,L.y)}function S(L,F,U){var k=F[0]-U[0]*L.k,H=F[1]-U[1]*L.k;return k===L.x&&H===L.y?L:new wu(L.k,k,H)}function w(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function T(L,F,U,k){L.on("start.zoom",function(){A(this,arguments).event(k).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(k).end()}).tween("zoom",function(){var H=this,z=arguments,Q=A(H,z).event(k),Z=e.apply(H,z),ie=U==null?w(Z):typeof U=="function"?U.apply(H,z):U,we=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),J=H.__zoom,se=typeof F=="function"?F.apply(H,z):F,ee=u(J.invert(ie).concat(we/J.k),se.invert(ie).concat(we/se.k));return function(ne){if(ne===1)ne=se;else{var ue=ee(ne),Y=we/ue[2];ne=new wu(Y,ie[0]-ue[0]*Y,ie[1]-ue[1]*Y)}Q.zoom(null,ne)}})}function A(L,F,U){return!U&&L.__zooming||new C(L,F)}function C(L,F){this.that=L,this.args=F,this.active=0,this.sourceEvent=null,this.extent=e.apply(L,F),this.taps=0}C.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,F){return this.mouse&&L!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var F=Qs(this.that).datum();c.call(L,this.that,new wEe(L,{sourceEvent:this.sourceEvent,target:m,type:L,transform:this.that.__zoom,dispatch:c}),F)}};function R(L,...F){if(!n.apply(this,arguments))return;var U=A(this,F).event(L),k=this.__zoom,H=Math.max(s[0],Math.min(s[1],k.k*Math.pow(2,r.apply(this,arguments)))),z=il(L);if(U.wheel)(U.mouse[0][0]!==z[0]||U.mouse[0][1]!==z[1])&&(U.mouse[1]=k.invert(U.mouse[0]=z)),clearTimeout(U.wheel);else{if(k.k===H)return;U.mouse=[z,k.invert(z)],t_(this),U.start()}hm(L),U.wheel=setTimeout(Q,v),U.zoom("mouse",i(S(_(k,H),U.mouse[0],U.mouse[1]),U.extent,a));function Q(){U.wheel=null,U.end()}}function E(L,...F){if(h||!n.apply(this,arguments))return;var U=L.currentTarget,k=A(this,F,!0).event(L),H=Qs(L.view).on("mousemove.zoom",ie,!0).on("mouseup.zoom",we,!0),z=il(L,U),Q=L.clientX,Z=L.clientY;vW(L.view),MT(L),k.mouse=[z,this.__zoom.invert(z)],t_(this),k.start();function ie(J){if(hm(J),!k.moved){var se=J.clientX-Q,ee=J.clientY-Z;k.moved=se*se+ee*ee>b}k.event(J).zoom("mouse",i(S(k.that.__zoom,k.mouse[0]=il(J,U),k.mouse[1]),k.extent,a))}function we(J){H.on("mousemove.zoom mouseup.zoom",null),yW(J.view,k.moved),hm(J),k.event(J).end()}}function P(L,...F){if(n.apply(this,arguments)){var U=this.__zoom,k=il(L.changedTouches?L.changedTouches[0]:L,this),H=U.invert(k),z=U.k*(L.shiftKey?.5:2),Q=i(S(_(U,z),k,H),e.apply(this,F),a);hm(L),l>0?Qs(this).transition().duration(l).call(T,Q,k,L):Qs(this).call(m.transform,Q,k,L)}}function N(L,...F){if(n.apply(this,arguments)){var U=L.touches,k=U.length,H=A(this,F,L.changedTouches.length===k).event(L),z,Q,Z,ie;for(MT(L),Q=0;Q<k;++Q)Z=U[Q],ie=il(Z,this),ie=[ie,this.__zoom.invert(ie),Z.identifier],H.touch0?!H.touch1&&H.touch0[2]!==ie[2]&&(H.touch1=ie,H.taps=0):(H.touch0=ie,z=!0,H.taps=1+!!d);d&&(d=clearTimeout(d)),z&&(H.taps<2&&(f=ie[0],d=setTimeout(function(){d=null},p)),t_(this),H.start())}}function D(L,...F){if(this.__zooming){var U=A(this,F).event(L),k=L.changedTouches,H=k.length,z,Q,Z,ie;for(hm(L),z=0;z<H;++z)Q=k[z],Z=il(Q,this),U.touch0&&U.touch0[2]===Q.identifier?U.touch0[0]=Z:U.touch1&&U.touch1[2]===Q.identifier&&(U.touch1[0]=Z);if(Q=U.that.__zoom,U.touch1){var we=U.touch0[0],J=U.touch0[1],se=U.touch1[0],ee=U.touch1[1],ne=(ne=se[0]-we[0])*ne+(ne=se[1]-we[1])*ne,ue=(ue=ee[0]-J[0])*ue+(ue=ee[1]-J[1])*ue;Q=_(Q,Math.sqrt(ne/ue)),Z=[(we[0]+se[0])/2,(we[1]+se[1])/2],ie=[(J[0]+ee[0])/2,(J[1]+ee[1])/2]}else if(U.touch0)Z=U.touch0[0],ie=U.touch0[1];else return;U.zoom("touch",i(S(Q,Z,ie),U.extent,a))}}function $(L,...F){if(this.__zooming){var U=A(this,F).event(L),k=L.changedTouches,H=k.length,z,Q;for(MT(L),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),z=0;z<H;++z)Q=k[z],U.touch0&&U.touch0[2]===Q.identifier?delete U.touch0:U.touch1&&U.touch1[2]===Q.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(Q=il(Q,this),Math.hypot(f[0]-Q[0],f[1]-Q[1])<y)){var Z=Qs(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return m.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:Tb(+L),m):r},m.filter=function(L){return arguments.length?(n=typeof L=="function"?L:Tb(!!L),m):n},m.touchable=function(L){return arguments.length?(o=typeof L=="function"?L:Tb(!!L),m):o},m.extent=function(L){return arguments.length?(e=typeof L=="function"?L:Tb([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),m):e},m.scaleExtent=function(L){return arguments.length?(s[0]=+L[0],s[1]=+L[1],m):[s[0],s[1]]},m.translateExtent=function(L){return arguments.length?(a[0][0]=+L[0][0],a[1][0]=+L[1][0],a[0][1]=+L[0][1],a[1][1]=+L[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(L){return arguments.length?(i=L,m):i},m.duration=function(L){return arguments.length?(l=+L,m):l},m.interpolate=function(L){return arguments.length?(u=L,m):u},m.on=function(){var L=c.on.apply(c,arguments);return L===c?m:L},m.clickDistance=function(L){return arguments.length?(b=(L=+L)*L,m):Math.sqrt(b)},m.tapDistance=function(L){return arguments.length?(y=+L,m):y},m}class wU extends Map{constructor(e,i=NEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),e!=null)for(const[r,o]of e)this.set(r,o)}get(e){return super.get(CU(this,e))}has(e){return super.has(CU(this,e))}set(e,i){return super.set(PEe(this,e),i)}delete(e){return super.delete(IEe(this,e))}}function CU({_intern:n,_key:e},i){const r=e(i);return n.has(r)?n.get(r):i}function PEe({_intern:n,_key:e},i){const r=e(i);return n.has(r)?n.get(r):(n.set(r,i),i)}function IEe({_intern:n,_key:e},i){const r=e(i);return n.has(r)&&(i=n.get(r),n.delete(r)),i}function NEe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function n2(n,e){let i;if(e===void 0)for(const r of n)r!=null&&(i<r||i===void 0&&r>=r)&&(i=r);else{let r=-1;for(let o of n)(o=e(o,++r,n))!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}return i}function i2(n,e){let i;if(e===void 0)for(const r of n)r!=null&&(i>r||i===void 0&&r>=r)&&(i=r);else{let r=-1;for(let o of n)(o=e(o,++r,n))!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}return i}var Nu=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Nu.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Nu.Bounce.In(n*2)*.5:Nu.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),Qm=function(){return performance.now()},cI=function(){function n(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(i){return e._tweens[i]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];for(var o=0,s=i;o<s.length;o++){var a=s[o];(e=a._group)===null||e===void 0||e.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},n.prototype.remove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var r=0,o=e;r<o.length;r++){var s=o[r];s._group=void 0,delete this._tweens[s.getId()],delete this._tweensAddedDuringUpdate[s.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,i){e===void 0&&(e=Qm()),i===void 0&&(i=!0);var r=Object.keys(this._tweens);if(r.length!==0)for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<r.length;o++){var s=this._tweens[r[o]],a=!i;s&&s.update(e,a)===!1&&!i&&this.remove(s)}r=Object.keys(this._tweensAddedDuringUpdate)}},n}(),up={Linear:function(n,e){var i=n.length-1,r=i*e,o=Math.floor(r),s=up.Utils.Linear;return e<0?s(n[0],n[1],r):e>1?s(n[i],n[i-1],i-r):s(n[o],n[o+1>i?i:o+1],r-o)},Bezier:function(n,e){for(var i=0,r=n.length-1,o=Math.pow,s=up.Utils.Bernstein,a=0;a<=r;a++)i+=o(1-e,r-a)*o(e,a)*n[a]*s(r,a);return i},CatmullRom:function(n,e){var i=n.length-1,r=i*e,o=Math.floor(r),s=up.Utils.CatmullRom;return n[0]===n[i]?(e<0&&(o=Math.floor(r=i*(1+e))),s(n[(o-1+i)%i],n[o],n[(o+1)%i],n[(o+2)%i],r-o)):e<0?n[0]-(s(n[0],n[0],n[1],n[1],-r)-n[0]):e>1?n[i]-(s(n[i],n[i],n[i-1],n[i-1],r-i)-n[i]):s(n[o?o-1:0],n[o],n[i<o+1?i:o+1],n[i<o+2?i:o+2],r-o)},Utils:{Linear:function(n,e,i){return(e-n)*i+n},Bernstein:function(n,e){var i=up.Utils.Factorial;return i(n)/i(e)/i(n-e)},Factorial:function(){var n=[1];return function(e){var i=1;if(n[e])return n[e];for(var r=e;r>1;r--)i*=r;return n[e]=i,i}}(),CatmullRom:function(n,e,i,r,o){var s=(i-n)*.5,a=(r-e)*.5,l=o*o,u=o*l;return(2*e-2*i+s+a)*u+(-3*e+3*i-2*s-a)*l+s*o+e}}},OEe=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),r2=new cI,rS=function(){function n(e,i){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Nu.Linear.None,this._interpolationFunction=up.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=OEe.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof i=="object"?(this._group=i,i.add(this)):i===!0&&(this._group=r2,r2.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,i){if(i===void 0&&(i=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=i<0?0:i,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,i){if(e===void 0&&(e=Qm()),i===void 0&&(i=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||i){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var s in this._valuesEnd)o[s]=this._valuesEnd[s];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,i)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,i,r,o,s){for(var a in r){var l=e[a],u=Array.isArray(l),c=u?"array":typeof l,d=!u&&Array.isArray(r[a]);if(!(c==="undefined"||c==="function")){if(d){var f=r[a];if(f.length===0)continue;for(var h=[l],p=0,v=f.length;p<v;p+=1){var b=this._handleRelativeValue(l,f[p]);if(isNaN(b)){d=!1,console.warn("Found invalid interpolation list. Skipping.");break}h.push(b)}d&&(r[a]=h)}if((c==="object"||u)&&l&&!d){i[a]=u?[]:{};var y=l;for(var m in y)i[a][m]=y[m];o[a]=u?[]:{};var f=r[a];if(!this._isDynamic){var _={};for(var m in f)_[m]=f[m];r[a]=f=_}this._setupProperties(y,i[a],f,o[a],s)}else(typeof i[a]>"u"||s)&&(i[a]=l),u||(i[a]*=1),d?o[a]=r[a].slice().reverse():o[a]=i[a]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=Qm()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=Qm()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,i=this._chainedTweens.length;e<i;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Nu.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=up.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,i){var r=this,o;if(e===void 0&&(e=Qm()),i===void 0&&(i=n.autoStartOnUpdate),this._isPaused)return!0;var s;if(!this._goToEnd&&!this._isPlaying)if(i)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,l=this._duration+((o=this._repeatDelayTime)!==null&&o!==void 0?o:this._delayTime),u=this._duration+this._repeat*l,c=function(){if(r._duration===0||a>u)return 1;var b=Math.trunc(a/l),y=a-b*l,m=Math.min(y/r._duration,1);return m===0&&a===r._duration?1:m},d=c(),f=this._easingFunction(d);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,d),this._duration===0||a>=this._duration)if(this._repeat>0){var h=Math.min(Math.trunc((a-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=h);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*h,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,v=this._chainedTweens.length;p<v;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,i,r,o){for(var s in r)if(i[s]!==void 0){var a=i[s]||0,l=r[s],u=Array.isArray(e[s]),c=Array.isArray(l),d=!u&&c;d?e[s]=this._interpolationFunction(l,o):typeof l=="object"&&l?this._updateProperties(e[s],a,l,o):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(e[s]=a+(l-a)*o))}},n.prototype._handleRelativeValue=function(e,i){return typeof i!="string"?i:i.charAt(0)==="+"||i.charAt(0)==="-"?e+parseFloat(i):parseFloat(i)},n.prototype._swapEndStartRepeatValues=function(e){var i=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=i},n.autoStartOnUpdate=!1,n}(),wl=r2;wl.getAll.bind(wl);wl.removeAll.bind(wl);wl.add.bind(wl);wl.remove.bind(wl);wl.update.bind(wl);function TU(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function DEe(n){if(Array.isArray(n))return n}function LEe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function BEe(n,e,i){return Object.defineProperty(n,"prototype",{writable:!1}),n}function FEe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function $Ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UEe(n,e){return DEe(n)||FEe(n,e)||kEe(n,e)||$Ee()}function kEe(n,e){if(n){if(typeof n=="string")return TU(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?TU(n,e):void 0}}var zEe=BEe(function n(e,i){var r=i.default,o=r===void 0?null:r,s=i.triggerUpdate,a=s===void 0?!0:s,l=i.onChange,u=l===void 0?function(c,d){}:l;LEe(this,n),this.name=e,this.defaultVal=o,this.triggerUpdate=a,this.onChange=u});function Pg(n){var e=n.stateInit,i=e===void 0?function(){return{}}:e,r=n.props,o=r===void 0?{}:r,s=n.methods,a=s===void 0?{}:s,l=n.aliases,u=l===void 0?{}:l,c=n.init,d=c===void 0?function(){}:c,f=n.update,h=f===void 0?function(){}:f,p=Object.keys(o).map(function(v){return new zEe(v,o[v])});return function v(){for(var b=arguments.length,y=new Array(b),m=0;m<b;m++)y[m]=arguments[m];var _=!!(this instanceof v&&this.constructor),S=_?y.shift():void 0,w=y[0],T=w===void 0?{}:w,A=Object.assign({},i instanceof Function?i(T):i,{initialised:!1}),C={};function R(N){return E(N,T),P(),R}var E=function(D,$){d.call(R,D,A,$),A.initialised=!0},P=JR(function(){A.initialised&&(h.call(R,A,C),C={})},1);return p.forEach(function(N){R[N.name]=D(N);function D($){var L=$.name,F=$.triggerUpdate,U=F===void 0?!1:F,k=$.onChange,H=k===void 0?function(Z,ie){}:k,z=$.defaultVal,Q=z===void 0?null:z;return function(Z){var ie=A[L];if(!arguments.length)return ie;var we=Z===void 0?Q:Z;return A[L]=we,H.call(R,we,A,ie),!C.hasOwnProperty(L)&&(C[L]=ie),U&&P(),R}}}),Object.keys(a).forEach(function(N){R[N]=function(){for(var D,$=arguments.length,L=new Array($),F=0;F<$;F++)L[F]=arguments[F];return(D=a[N]).call.apply(D,[R,A].concat(L))}}),Object.entries(u).forEach(function(N){var D=UEe(N,2),$=D[0],L=D[1];return R[$]=R[L]}),R.resetProps=function(){return p.forEach(function(N){R[N.name](N.defaultVal)}),R},R.resetProps(),A._rerender=P,_&&S&&R(S),R}}var Nt=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function oS(n){"@babel/helpers - typeof";return oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oS(n)}var HEe=/^\s+/,GEe=/\s+$/;function Bt(n,e){if(n=n||"",e=e||{},n instanceof Bt)return n;if(!(this instanceof Bt))return new Bt(n,e);var i=VEe(n);this._originalInput=n,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}Bt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),i,r,o,s,a,l;return i=e.r/255,r=e.g/255,o=e.b/255,i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),o<=.03928?l=o/12.92:l=Math.pow((o+.055)/1.055,2.4),.2126*s+.7152*a+.0722*l},setAlpha:function(e){return this._a=IW(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=EU(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=EU(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.v*100);return this._a==1?"hsv("+i+", "+r+"%, "+o+"%)":"hsva("+i+", "+r+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=AU(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=AU(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.l*100);return this._a==1?"hsl("+i+", "+r+"%, "+o+"%)":"hsla("+i+", "+r+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return MU(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return XEe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ei(this._r,255)*100)+"%",g:Math.round(Ei(this._g,255)*100)+"%",b:Math.round(Ei(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ei(this._r,255)*100)+"%, "+Math.round(Ei(this._g,255)*100)+"%, "+Math.round(Ei(this._b,255)*100)+"%)":"rgba("+Math.round(Ei(this._r,255)*100)+"%, "+Math.round(Ei(this._g,255)*100)+"%, "+Math.round(Ei(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:sMe[MU(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var i="#"+RU(this._r,this._g,this._b,this._a),r=i,o=this._gradientType?"GradientType = 1, ":"";if(e){var s=Bt(e);r="#"+RU(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+i+",endColorstr="+r+")"},toString:function(e){var i=!!e;e=e||this._format;var r=!1,o=this._a<1&&this._a>=0,s=!i&&o&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Bt(this.toString())},_applyModification:function(e,i){var r=e.apply(null,[this].concat([].slice.call(i)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(ZEe,arguments)},brighten:function(){return this._applyModification(JEe,arguments)},darken:function(){return this._applyModification(eMe,arguments)},desaturate:function(){return this._applyModification(qEe,arguments)},saturate:function(){return this._applyModification(YEe,arguments)},greyscale:function(){return this._applyModification(QEe,arguments)},spin:function(){return this._applyModification(tMe,arguments)},_applyCombination:function(e,i){return e.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(rMe,arguments)},complement:function(){return this._applyCombination(nMe,arguments)},monochromatic:function(){return this._applyCombination(oMe,arguments)},splitcomplement:function(){return this._applyCombination(iMe,arguments)},triad:function(){return this._applyCombination(PU,[3])},tetrad:function(){return this._applyCombination(PU,[4])}};Bt.fromRatio=function(n,e){if(oS(n)=="object"){var i={};for(var r in n)n.hasOwnProperty(r)&&(r==="a"?i[r]=n[r]:i[r]=Zm(n[r]));n=i}return Bt(n,e)};function VEe(n){var e={r:0,g:0,b:0},i=1,r=null,o=null,s=null,a=!1,l=!1;return typeof n=="string"&&(n=cMe(n)),oS(n)=="object"&&(Zl(n.r)&&Zl(n.g)&&Zl(n.b)?(e=WEe(n.r,n.g,n.b),a=!0,l=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Zl(n.h)&&Zl(n.s)&&Zl(n.v)?(r=Zm(n.s),o=Zm(n.v),e=KEe(n.h,r,o),a=!0,l="hsv"):Zl(n.h)&&Zl(n.s)&&Zl(n.l)&&(r=Zm(n.s),s=Zm(n.l),e=jEe(n.h,r,s),a=!0,l="hsl"),n.hasOwnProperty("a")&&(i=n.a)),i=IW(i),{ok:a,format:n.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}function WEe(n,e,i){return{r:Ei(n,255)*255,g:Ei(e,255)*255,b:Ei(i,255)*255}}function AU(n,e,i){n=Ei(n,255),e=Ei(e,255),i=Ei(i,255);var r=Math.max(n,e,i),o=Math.min(n,e,i),s,a,l=(r+o)/2;if(r==o)s=a=0;else{var u=r-o;switch(a=l>.5?u/(2-r-o):u/(r+o),r){case n:s=(e-i)/u+(e<i?6:0);break;case e:s=(i-n)/u+2;break;case i:s=(n-e)/u+4;break}s/=6}return{h:s,s:a,l}}function jEe(n,e,i){var r,o,s;n=Ei(n,360),e=Ei(e,100),i=Ei(i,100);function a(c,d,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(d-c)*6*f:f<1/2?d:f<2/3?c+(d-c)*(2/3-f)*6:c}if(e===0)r=o=s=i;else{var l=i<.5?i*(1+e):i+e-i*e,u=2*i-l;r=a(u,l,n+1/3),o=a(u,l,n),s=a(u,l,n-1/3)}return{r:r*255,g:o*255,b:s*255}}function EU(n,e,i){n=Ei(n,255),e=Ei(e,255),i=Ei(i,255);var r=Math.max(n,e,i),o=Math.min(n,e,i),s,a,l=r,u=r-o;if(a=r===0?0:u/r,r==o)s=0;else{switch(r){case n:s=(e-i)/u+(e<i?6:0);break;case e:s=(i-n)/u+2;break;case i:s=(n-e)/u+4;break}s/=6}return{h:s,s:a,v:l}}function KEe(n,e,i){n=Ei(n,360)*6,e=Ei(e,100),i=Ei(i,100);var r=Math.floor(n),o=n-r,s=i*(1-e),a=i*(1-o*e),l=i*(1-(1-o)*e),u=r%6,c=[i,a,s,s,l,i][u],d=[l,i,i,a,s,s][u],f=[s,s,l,i,i,a][u];return{r:c*255,g:d*255,b:f*255}}function MU(n,e,i,r){var o=[Na(Math.round(n).toString(16)),Na(Math.round(e).toString(16)),Na(Math.round(i).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function XEe(n,e,i,r,o){var s=[Na(Math.round(n).toString(16)),Na(Math.round(e).toString(16)),Na(Math.round(i).toString(16)),Na(NW(r))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function RU(n,e,i,r){var o=[Na(NW(r)),Na(Math.round(n).toString(16)),Na(Math.round(e).toString(16)),Na(Math.round(i).toString(16))];return o.join("")}Bt.equals=function(n,e){return!n||!e?!1:Bt(n).toRgbString()==Bt(e).toRgbString()};Bt.random=function(){return Bt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function qEe(n,e){e=e===0?0:e||10;var i=Bt(n).toHsl();return i.s-=e/100,i.s=Aw(i.s),Bt(i)}function YEe(n,e){e=e===0?0:e||10;var i=Bt(n).toHsl();return i.s+=e/100,i.s=Aw(i.s),Bt(i)}function QEe(n){return Bt(n).desaturate(100)}function ZEe(n,e){e=e===0?0:e||10;var i=Bt(n).toHsl();return i.l+=e/100,i.l=Aw(i.l),Bt(i)}function JEe(n,e){e=e===0?0:e||10;var i=Bt(n).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(e/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(e/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(e/100)))),Bt(i)}function eMe(n,e){e=e===0?0:e||10;var i=Bt(n).toHsl();return i.l-=e/100,i.l=Aw(i.l),Bt(i)}function tMe(n,e){var i=Bt(n).toHsl(),r=(i.h+e)%360;return i.h=r<0?360+r:r,Bt(i)}function nMe(n){var e=Bt(n).toHsl();return e.h=(e.h+180)%360,Bt(e)}function PU(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var i=Bt(n).toHsl(),r=[Bt(n)],o=360/e,s=1;s<e;s++)r.push(Bt({h:(i.h+s*o)%360,s:i.s,l:i.l}));return r}function iMe(n){var e=Bt(n).toHsl(),i=e.h;return[Bt(n),Bt({h:(i+72)%360,s:e.s,l:e.l}),Bt({h:(i+216)%360,s:e.s,l:e.l})]}function rMe(n,e,i){e=e||6,i=i||30;var r=Bt(n).toHsl(),o=360/i,s=[Bt(n)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,s.push(Bt(r));return s}function oMe(n,e){e=e||6;for(var i=Bt(n).toHsv(),r=i.h,o=i.s,s=i.v,a=[],l=1/e;e--;)a.push(Bt({h:r,s:o,v:s})),s=(s+l)%1;return a}Bt.mix=function(n,e,i){i=i===0?0:i||50;var r=Bt(n).toRgb(),o=Bt(e).toRgb(),s=i/100,a={r:(o.r-r.r)*s+r.r,g:(o.g-r.g)*s+r.g,b:(o.b-r.b)*s+r.b,a:(o.a-r.a)*s+r.a};return Bt(a)};Bt.readability=function(n,e){var i=Bt(n),r=Bt(e);return(Math.max(i.getLuminance(),r.getLuminance())+.05)/(Math.min(i.getLuminance(),r.getLuminance())+.05)};Bt.isReadable=function(n,e,i){var r=Bt.readability(n,e),o,s;switch(s=!1,o=dMe(i),o.level+o.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Bt.mostReadable=function(n,e,i){var r=null,o=0,s,a,l,u;i=i||{},a=i.includeFallbackColors,l=i.level,u=i.size;for(var c=0;c<e.length;c++)s=Bt.readability(n,e[c]),s>o&&(o=s,r=Bt(e[c]));return Bt.isReadable(n,r,{level:l,size:u})||!a?r:(i.includeFallbackColors=!1,Bt.mostReadable(n,["#fff","#000"],i))};var o2=Bt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},sMe=Bt.hexNames=aMe(o2);function aMe(n){var e={};for(var i in n)n.hasOwnProperty(i)&&(e[n[i]]=i);return e}function IW(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Ei(n,e){lMe(n)&&(n="100%");var i=uMe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),i&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function Aw(n){return Math.min(1,Math.max(0,n))}function ys(n){return parseInt(n,16)}function lMe(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function uMe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Na(n){return n.length==1?"0"+n:""+n}function Zm(n){return n<=1&&(n=n*100+"%"),n}function NW(n){return Math.round(parseFloat(n)*255).toString(16)}function IU(n){return ys(n)/255}var Ta=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+n+")",r="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",o="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Zl(n){return!!Ta.CSS_UNIT.exec(n)}function cMe(n){n=n.replace(HEe,"").replace(GEe,"").toLowerCase();var e=!1;if(o2[n])n=o2[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=Ta.rgb.exec(n))?{r:i[1],g:i[2],b:i[3]}:(i=Ta.rgba.exec(n))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Ta.hsl.exec(n))?{h:i[1],s:i[2],l:i[3]}:(i=Ta.hsla.exec(n))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Ta.hsv.exec(n))?{h:i[1],s:i[2],v:i[3]}:(i=Ta.hsva.exec(n))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Ta.hex8.exec(n))?{r:ys(i[1]),g:ys(i[2]),b:ys(i[3]),a:IU(i[4]),format:e?"name":"hex8"}:(i=Ta.hex6.exec(n))?{r:ys(i[1]),g:ys(i[2]),b:ys(i[3]),format:e?"name":"hex"}:(i=Ta.hex4.exec(n))?{r:ys(i[1]+""+i[1]),g:ys(i[2]+""+i[2]),b:ys(i[3]+""+i[3]),a:IU(i[4]+""+i[4]),format:e?"name":"hex8"}:(i=Ta.hex3.exec(n))?{r:ys(i[1]+""+i[1]),g:ys(i[2]+""+i[2]),b:ys(i[3]+""+i[3]),format:e?"name":"hex"}:!1}function dMe(n){var e,i;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),i=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:e,size:i}}function s2(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function fMe(n){if(Array.isArray(n))return s2(n)}function OW(n,e,i){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function hMe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function js(n,e){return n.get(OW(n,e))}function NU(n,e,i){hMe(n,e),e.set(n,i)}function OU(n,e,i){return n.set(OW(n,e),i),i}function gMe(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,_Me(r.key),r)}}function mMe(n,e,i){return gMe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function vMe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function yMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bMe(n){return fMe(n)||vMe(n)||SMe(n)||yMe()}function xMe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function _Me(n){var e=xMe(n,"string");return typeof e=="symbol"?e:e+""}function SMe(n,e){if(n){if(typeof n=="string")return s2(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s2(n,e):void 0}}var wMe=123,CMe=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},DW=function(e,i,r){return(e<<16)+(i<<8)+r},TMe=function(e){var i=Bt(e).toRgb(),r=i.r,o=i.g,s=i.b;return DW(r,o,s)},DU=function(e,i){return e*wMe%Math.pow(2,i)},Ld=new WeakMap,Jl=new WeakMap,AMe=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;pMe(this,n),NU(this,Ld,void 0),NU(this,Jl,void 0),OU(Jl,this,e),this.reset()}return mMe(n,[{key:"reset",value:function(){OU(Ld,this,["__reserved for background__"])}},{key:"register",value:function(i){if(js(Ld,this).length>=Math.pow(2,24-js(Jl,this)))return null;var r=js(Ld,this).length,o=DU(r,js(Jl,this)),s=CMe(r+(o<<24-js(Jl,this)));return js(Ld,this).push(i),s}},{key:"lookup",value:function(i){if(!i)return null;var r=typeof i=="string"?TMe(i):DW.apply(void 0,bMe(i));if(!r)return null;var o=r&Math.pow(2,24-js(Jl,this))-1,s=r>>24-js(Jl,this)&Math.pow(2,js(Jl,this))-1;return DU(o,js(Jl,this))!==s||o>=js(Ld,this).length?null:js(Ld,this)[o]}}])}(),Ky,Pi,LW,BW,of,LU,FW,a2,$W,dI,l2,u2,Jv={},UW=[],EMe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,fI=Array.isArray;function Cu(n,e){for(var i in e)n[i]=e[i];return n}function hI(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function MMe(n,e,i){var r,o,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?o=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?Ky.call(arguments,2):i),typeof n=="function"&&n.defaultProps!=null)for(s in n.defaultProps)a[s]===void 0&&(a[s]=n.defaultProps[s]);return xv(n,a,r,o,null)}function xv(n,e,i,r,o){var s={type:n,props:e,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++LW,__i:-1,__u:0};return o==null&&Pi.vnode!=null&&Pi.vnode(s),s}function Ew(n){return n.children}function n_(n,e){this.props=n,this.context=e}function eg(n,e){if(e==null)return n.__?eg(n.__,n.__i+1):null;for(var i;e<n.__k.length;e++)if((i=n.__k[e])!=null&&i.__e!=null)return i.__e;return typeof n.type=="function"?eg(n):null}function kW(n){var e,i;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((i=n.__k[e])!=null&&i.__e!=null){n.__e=n.__c.base=i.__e;break}return kW(n)}}function BU(n){(!n.__d&&(n.__d=!0)&&of.push(n)&&!sS.__r++||LU!==Pi.debounceRendering)&&((LU=Pi.debounceRendering)||FW)(sS)}function sS(){var n,e,i,r,o,s,a,l;for(of.sort(a2);n=of.shift();)n.__d&&(e=of.length,r=void 0,s=(o=(i=n).__v).__e,a=[],l=[],i.__P&&((r=Cu({},o)).__v=o.__v+1,Pi.vnode&&Pi.vnode(r),pI(i.__P,r,o,i.__n,i.__P.namespaceURI,32&o.__u?[s]:null,a,s??eg(o),!!(32&o.__u),l),r.__v=o.__v,r.__.__k[r.__i]=r,GW(a,r,l),r.__e!=s&&kW(r)),of.length>e&&of.sort(a2));sS.__r=0}function zW(n,e,i,r,o,s,a,l,u,c,d){var f,h,p,v,b,y,m=r&&r.__k||UW,_=e.length;for(u=RMe(i,e,m,u,_),f=0;f<_;f++)(p=i.__k[f])!=null&&(h=p.__i===-1?Jv:m[p.__i]||Jv,p.__i=f,y=pI(n,p,h,o,s,a,l,u,c,d),v=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&gI(h.ref,null,p),d.push(p.ref,p.__c||v,p)),b==null&&v!=null&&(b=v),4&p.__u||h.__k===p.__k?u=HW(p,u,n):typeof p.type=="function"&&y!==void 0?u=y:v&&(u=v.nextSibling),p.__u&=-7);return i.__e=b,u}function RMe(n,e,i,r,o){var s,a,l,u,c,d=i.length,f=d,h=0;for(n.__k=new Array(o),s=0;s<o;s++)(a=e[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(u=s+h,(a=n.__k[s]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?xv(null,a,null,null,null):fI(a)?xv(Ew,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?xv(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=n,a.__b=n.__b+1,l=null,(c=a.__i=PMe(a,i,u,f))!==-1&&(f--,(l=i[c])&&(l.__u|=2)),l==null||l.__v===null?(c==-1&&h--,typeof a.type!="function"&&(a.__u|=4)):c!=u&&(c==u-1?h--:c==u+1?h++:(c>u?h--:h++,a.__u|=4))):n.__k[s]=null;if(f)for(s=0;s<d;s++)(l=i[s])!=null&&!(2&l.__u)&&(l.__e==r&&(r=eg(l)),VW(l,l));return r}function HW(n,e,i){var r,o;if(typeof n.type=="function"){for(r=n.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=n,e=HW(r[o],e,i));return e}n.__e!=e&&(e&&n.type&&!i.contains(e)&&(e=eg(n)),i.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function PMe(n,e,i,r){var o,s,a=n.key,l=n.type,u=e[i];if(u===null||u&&a==u.key&&l===u.type&&!(2&u.__u))return i;if(r>(u!=null&&!(2&u.__u)?1:0))for(o=i-1,s=i+1;o>=0||s<e.length;){if(o>=0){if((u=e[o])&&!(2&u.__u)&&a==u.key&&l===u.type)return o;o--}if(s<e.length){if((u=e[s])&&!(2&u.__u)&&a==u.key&&l===u.type)return s;s++}}return-1}function FU(n,e,i){e[0]=="-"?n.setProperty(e,i??""):n[e]=i==null?"":typeof i!="number"||EMe.test(e)?i:i+"px"}function Ab(n,e,i,r,o){var s;e:if(e=="style")if(typeof i=="string")n.style.cssText=i;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)i&&e in i||FU(n.style,e,"");if(i)for(e in i)r&&i[e]===r[e]||FU(n.style,e,i[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace($W,"$1")),e=e.toLowerCase()in n||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+s]=i,i?r?i.u=r.u:(i.u=dI,n.addEventListener(e,s?u2:l2,s)):n.removeEventListener(e,s?u2:l2,s);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&i==1?"":i))}}function $U(n){return function(e){if(this.l){var i=this.l[e.type+n];if(e.t==null)e.t=dI++;else if(e.t<i.u)return;return i(Pi.event?Pi.event(e):e)}}}function pI(n,e,i,r,o,s,a,l,u,c){var d,f,h,p,v,b,y,m,_,S,w,T,A,C,R,E,P,N=e.type;if(e.constructor!==void 0)return null;128&i.__u&&(u=!!(32&i.__u),s=[l=e.__e=i.__e]),(d=Pi.__b)&&d(e);e:if(typeof N=="function")try{if(m=e.props,_="prototype"in N&&N.prototype.render,S=(d=N.contextType)&&r[d.__c],w=d?S?S.props.value:d.__:r,i.__c?y=(f=e.__c=i.__c).__=f.__E:(_?e.__c=f=new N(m,w):(e.__c=f=new n_(m,w),f.constructor=N,f.render=NMe),S&&S.sub(f),f.props=m,f.state||(f.state={}),f.context=w,f.__n=r,h=f.__d=!0,f.__h=[],f._sb=[]),_&&f.__s==null&&(f.__s=f.state),_&&N.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Cu({},f.__s)),Cu(f.__s,N.getDerivedStateFromProps(m,f.__s))),p=f.props,v=f.state,f.__v=e,h)_&&N.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),_&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(_&&N.getDerivedStateFromProps==null&&m!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(m,w),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(m,f.__s,w)===!1||e.__v==i.__v)){for(e.__v!=i.__v&&(f.props=m,f.state=f.__s,f.__d=!1),e.__e=i.__e,e.__k=i.__k,e.__k.some(function(D){D&&(D.__=e)}),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[],f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(m,f.__s,w),_&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,v,b)})}if(f.context=w,f.props=m,f.__P=n,f.__e=!1,A=Pi.__r,C=0,_){for(f.state=f.__s,f.__d=!1,A&&A(e),d=f.render(f.props,f.state,f.context),R=0;R<f._sb.length;R++)f.__h.push(f._sb[R]);f._sb=[]}else do f.__d=!1,A&&A(e),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++C<25);f.state=f.__s,f.getChildContext!=null&&(r=Cu(Cu({},r),f.getChildContext())),_&&!h&&f.getSnapshotBeforeUpdate!=null&&(b=f.getSnapshotBeforeUpdate(p,v)),l=zW(n,fI(E=d!=null&&d.type===Ew&&d.key==null?d.props.children:d)?E:[E],e,i,r,o,s,a,l,u,c),f.base=e.__e,e.__u&=-161,f.__h.length&&a.push(f),y&&(f.__E=f.__=null)}catch(D){if(e.__v=null,u||s!=null)if(D.then){for(e.__u|=u?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,e.__e=l}else for(P=s.length;P--;)hI(s[P]);else e.__e=i.__e,e.__k=i.__k;Pi.__e(D,e,i)}else s==null&&e.__v==i.__v?(e.__k=i.__k,e.__e=i.__e):l=e.__e=IMe(i.__e,e,i,r,o,s,a,u,c);return(d=Pi.diffed)&&d(e),128&e.__u?void 0:l}function GW(n,e,i){for(var r=0;r<i.length;r++)gI(i[r],i[++r],i[++r]);Pi.__c&&Pi.__c(e,n),n.some(function(o){try{n=o.__h,o.__h=[],n.some(function(s){s.call(o)})}catch(s){Pi.__e(s,o.__v)}})}function IMe(n,e,i,r,o,s,a,l,u){var c,d,f,h,p,v,b,y=i.props,m=e.props,_=e.type;if(_=="svg"?o="http://www.w3.org/2000/svg":_=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!_&&(_?p.localName==_:p.nodeType==3)){n=p,s[c]=null;break}}if(n==null){if(_==null)return document.createTextNode(m);n=document.createElementNS(o,_,m.is&&m),l&&(Pi.__m&&Pi.__m(e,s),l=!1),s=null}if(_===null)y===m||l&&n.data===m||(n.data=m);else{if(s=s&&Ky.call(n.childNodes),y=i.props||Jv,!l&&s!=null)for(y={},c=0;c<n.attributes.length;c++)y[(p=n.attributes[c]).name]=p.value;for(c in y)if(p=y[c],c!="children"){if(c=="dangerouslySetInnerHTML")f=p;else if(!(c in m)){if(c=="value"&&"defaultValue"in m||c=="checked"&&"defaultChecked"in m)continue;Ab(n,c,null,p,o)}}for(c in m)p=m[c],c=="children"?h=p:c=="dangerouslySetInnerHTML"?d=p:c=="value"?v=p:c=="checked"?b=p:l&&typeof p!="function"||y[c]===p||Ab(n,c,p,y[c],o);if(d)l||f&&(d.__html===f.__html||d.__html===n.innerHTML)||(n.innerHTML=d.__html),e.__k=[];else if(f&&(n.innerHTML=""),zW(n,fI(h)?h:[h],e,i,r,_=="foreignObject"?"http://www.w3.org/1999/xhtml":o,s,a,s?s[0]:i.__k&&eg(i,0),l,u),s!=null)for(c=s.length;c--;)hI(s[c]);l||(c="value",_=="progress"&&v==null?n.removeAttribute("value"):v!==void 0&&(v!==n[c]||_=="progress"&&!v||_=="option"&&v!==y[c])&&Ab(n,c,v,y[c],o),c="checked",b!==void 0&&b!==n[c]&&Ab(n,c,b,y[c],o))}return n}function gI(n,e,i){try{if(typeof n=="function"){var r=typeof n.__u=="function";r&&n.__u(),r&&e==null||(n.__u=n(e))}else n.current=e}catch(o){Pi.__e(o,i)}}function VW(n,e,i){var r,o;if(Pi.unmount&&Pi.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||gI(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Pi.__e(s,e)}r.base=r.__P=null}if(r=n.__k)for(o=0;o<r.length;o++)r[o]&&VW(r[o],e,i||typeof n.type!="function");i||hI(n.__e),n.__c=n.__=n.__e=void 0}function NMe(n,e,i){return this.constructor(n,i)}function OMe(n,e,i){var r,o,s,a;e==document&&(e=document.documentElement),Pi.__&&Pi.__(n,e),o=(r=!1)?null:e.__k,s=[],a=[],pI(e,n=e.__k=MMe(Ew,null,[n]),o||Jv,Jv,e.namespaceURI,o?null:e.firstChild?Ky.call(e.childNodes):null,s,o?o.__e:e.firstChild,r,a),GW(s,n,a)}function WW(n,e,i){var r,o,s,a,l=Cu({},n.props);for(s in n.type&&n.type.defaultProps&&(a=n.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?o=e[s]:l[s]=e[s]===void 0&&a!==void 0?a[s]:e[s];return arguments.length>2&&(l.children=arguments.length>3?Ky.call(arguments,2):i),xv(n.type,l,r||n.key,o||n.ref,null)}Ky=UW.slice,Pi={__e:function(n,e,i,r){for(var o,s,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(n)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(n,r||{}),a=o.__d),a)return o.__E=o}catch(l){n=l}throw n}},LW=0,BW=function(n){return n!=null&&n.constructor==null},n_.prototype.setState=function(n,e){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Cu({},this.state),typeof n=="function"&&(n=n(Cu({},i),this.props)),n&&Cu(i,n),n!=null&&this.__v&&(e&&this._sb.push(e),BU(this))},n_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),BU(this))},n_.prototype.render=Ew,of=[],FW=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,a2=function(n,e){return n.__v.__b-e.__v.__b},sS.__r=0,$W=/(PointerCapture)$|Capture$/i,dI=0,l2=$U(!1),u2=$U(!0);function UU(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function DMe(n){if(Array.isArray(n))return n}function LMe(n,e,i){return(e=zMe(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function BMe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function FMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kU(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function $Me(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(i),!0).forEach(function(r){LMe(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):kU(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function UMe(n,e){return DMe(n)||BMe(n,e)||HMe(n,e)||FMe()}function kMe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zMe(n){var e=kMe(n,"string");return typeof e=="symbol"?e:e+""}function aS(n){"@babel/helpers - typeof";return aS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aS(n)}function HMe(n,e){if(n){if(typeof n=="string")return UU(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?UU(n,e):void 0}}var c2=function(e){if(aS(e)!=="object")return e;var i=WW(e);if(i.props){var r;i.props=$Me({},i.props),i!=null&&(r=i.props)!==null&&r!==void 0&&r.children&&(i.props.children=Array.isArray(i.props.children)?i.props.children.map(c2):c2(i.props.children))}return i},GMe=function(e){return BW(WW(e))},VMe=function(e,i){delete i.__k,OMe(c2(e),i)};function WMe(n,e){e===void 0&&(e={});var i=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",i==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var jMe=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;WMe(jMe);var jW=Pg({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.style,s=o===void 0?{}:o,a=!!e&&aS(e)==="object"&&!!e.node&&typeof e.node=="function",l=Qs(a?e.node():e);l.style("position")==="static"&&l.style("position","relative"),i.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(s).forEach(function(c){var d=UMe(c,2),f=d[0],h=d[1];return i.tooltipEl.style(f,h)}),i.tooltipEl.style("left","-10000px").style("display","none");var u="tooltip-".concat(Math.round(Math.random()*1e12));i.mouseInside=!1,l.on("mousemove.".concat(u),function(c){i.mouseInside=!0;var d=il(c),f=l.node(),h=f.offsetWidth,p=f.offsetHeight,v=[i.offsetX===null||i.offsetX===void 0?"-".concat(d[0]/h*100,"%"):typeof i.offsetX=="number"?"calc(-50% + ".concat(i.offsetX,"px)"):i.offsetX,i.offsetY===null||i.offsetY===void 0?p>130&&p-d[1]<100?"calc(-100% - 6px)":"21px":typeof i.offsetY=="number"?i.offsetY<0?"calc(-100% - ".concat(Math.abs(i.offsetY),"px)"):"".concat(i.offsetY,"px"):i.offsetY];i.tooltipEl.style("left",d[0]+"px").style("top",d[1]+"px").style("transform","translate(".concat(v.join(","),")")),i.content&&i.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(u),function(){i.mouseInside=!0,i.content&&i.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(u),function(){i.mouseInside=!1,i.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):GMe(e.content)?(e.tooltipEl.text(""),VMe(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function KW(n,e,i){var r,o=1;n==null&&(n=0),e==null&&(e=0),i==null&&(i=0);function s(){var a,l=r.length,u,c=0,d=0,f=0;for(a=0;a<l;++a)u=r[a],c+=u.x||0,d+=u.y||0,f+=u.z||0;for(c=(c/l-n)*o,d=(d/l-e)*o,f=(f/l-i)*o,a=0;a<l;++a)u=r[a],c&&(u.x-=c),d&&(u.y-=d),f&&(u.z-=f)}return s.initialize=function(a){r=a},s.x=function(a){return arguments.length?(n=+a,s):n},s.y=function(a){return arguments.length?(e=+a,s):e},s.z=function(a){return arguments.length?(i=+a,s):i},s.strength=function(a){return arguments.length?(o=+a,s):o},s}function KMe(n){const e=+this._x.call(null,n);return XW(this.cover(e),e,n)}function XW(n,e,i){if(isNaN(e))return n;var r,o=n._root,s={data:i},a=n._x0,l=n._x1,u,c,d,f,h;if(!o)return n._root=s,n;for(;o.length;)if((d=e>=(u=(a+l)/2))?a=u:l=u,r=o,!(o=o[f=+d]))return r[f]=s,n;if(c=+n._x.call(null,o.data),e===c)return s.next=o,r?r[f]=s:n._root=s,n;do r=r?r[f]=new Array(2):n._root=new Array(2),(d=e>=(u=(a+l)/2))?a=u:l=u;while((f=+d)==(h=+(c>=u)));return r[h]=o,r[f]=s,n}function XMe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,i=new Float64Array(e);let r=1/0,o=-1/0;for(let s=0,a;s<e;++s)isNaN(a=+this._x.call(null,n[s]))||(i[s]=a,a<r&&(r=a),a>o&&(o=a));if(r>o)return this;this.cover(r).cover(o);for(let s=0;s<e;++s)XW(this,i[s],n[s]);return this}function qMe(n){if(isNaN(n=+n))return this;var e=this._x0,i=this._x1;if(isNaN(e))i=(e=Math.floor(n))+1;else{for(var r=i-e||1,o=this._root,s,a;e>n||n>=i;)switch(a=+(n<e),s=new Array(2),s[a]=o,o=s,r*=2,a){case 0:i=e+r;break;case 1:e=i-r;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._x1=i,this}function YMe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function QMe(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Ou(n,e,i){this.node=n,this.x0=e,this.x1=i}function ZMe(n,e){var i,r=this._x0,o,s,a=this._x1,l=[],u=this._root,c,d;for(u&&l.push(new Ou(u,r,a)),e==null?e=1/0:(r=n-e,a=n+e);c=l.pop();)if(!(!(u=c.node)||(o=c.x0)>a||(s=c.x1)<r))if(u.length){var f=(o+s)/2;l.push(new Ou(u[1],f,s),new Ou(u[0],o,f)),(d=+(n>=f))&&(c=l[l.length-1],l[l.length-1]=l[l.length-1-d],l[l.length-1-d]=c)}else{var h=Math.abs(n-+this._x.call(null,u.data));h<e&&(e=h,r=n-h,a=n+h,i=u.data)}return i}function JMe(n){if(isNaN(u=+this._x.call(null,n)))return this;var e,i=this._root,r,o,s,a=this._x0,l=this._x1,u,c,d,f,h;if(!i)return this;if(i.length)for(;;){if((d=u>=(c=(a+l)/2))?a=c:l=c,e=i,!(i=i[f=+d]))return this;if(!i.length)break;e[f+1&1]&&(r=e,h=f)}for(;i.data!==n;)if(o=i,!(i=i.next))return this;return(s=i.next)&&delete i.next,o?(s?o.next=s:delete o.next,this):e?(s?e[f]=s:delete e[f],(i=e[0]||e[1])&&i===(e[1]||e[0])&&!i.length&&(r?r[h]=i:this._root=i),this):(this._root=s,this)}function e2e(n){for(var e=0,i=n.length;e<i;++e)this.remove(n[e]);return this}function t2e(){return this._root}function n2e(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function i2e(n){var e=[],i,r=this._root,o,s,a;for(r&&e.push(new Ou(r,this._x0,this._x1));i=e.pop();)if(!n(r=i.node,s=i.x0,a=i.x1)&&r.length){var l=(s+a)/2;(o=r[1])&&e.push(new Ou(o,l,a)),(o=r[0])&&e.push(new Ou(o,s,l))}return this}function r2e(n){var e=[],i=[],r;for(this._root&&e.push(new Ou(this._root,this._x0,this._x1));r=e.pop();){var o=r.node;if(o.length){var s,a=r.x0,l=r.x1,u=(a+l)/2;(s=o[0])&&e.push(new Ou(s,a,u)),(s=o[1])&&e.push(new Ou(s,u,l))}i.push(r)}for(;r=i.pop();)n(r.node,r.x0,r.x1);return this}function o2e(n){return n[0]}function s2e(n){return arguments.length?(this._x=n,this):this._x}function qW(n,e){var i=new mI(e??o2e,NaN,NaN);return n==null?i:i.addAll(n)}function mI(n,e,i){this._x=n,this._x0=e,this._x1=i,this._root=void 0}function zU(n){for(var e={data:n.data},i=e;n=n.next;)i=i.next={data:n.data};return e}var rs=qW.prototype=mI.prototype;rs.copy=function(){var n=new mI(this._x,this._x0,this._x1),e=this._root,i,r;if(!e)return n;if(!e.length)return n._root=zU(e),n;for(i=[{source:e,target:n._root=new Array(2)}];e=i.pop();)for(var o=0;o<2;++o)(r=e.source[o])&&(r.length?i.push({source:r,target:e.target[o]=new Array(2)}):e.target[o]=zU(r));return n};rs.add=KMe;rs.addAll=XMe;rs.cover=qMe;rs.data=YMe;rs.extent=QMe;rs.find=ZMe;rs.remove=JMe;rs.removeAll=e2e;rs.root=t2e;rs.size=n2e;rs.visit=i2e;rs.visitAfter=r2e;rs.x=s2e;function a2e(n){const e=+this._x.call(null,n),i=+this._y.call(null,n);return YW(this.cover(e,i),e,i,n)}function YW(n,e,i,r){if(isNaN(e)||isNaN(i))return n;var o,s=n._root,a={data:r},l=n._x0,u=n._y0,c=n._x1,d=n._y1,f,h,p,v,b,y,m,_;if(!s)return n._root=a,n;for(;s.length;)if((b=e>=(f=(l+c)/2))?l=f:c=f,(y=i>=(h=(u+d)/2))?u=h:d=h,o=s,!(s=s[m=y<<1|b]))return o[m]=a,n;if(p=+n._x.call(null,s.data),v=+n._y.call(null,s.data),e===p&&i===v)return a.next=s,o?o[m]=a:n._root=a,n;do o=o?o[m]=new Array(4):n._root=new Array(4),(b=e>=(f=(l+c)/2))?l=f:c=f,(y=i>=(h=(u+d)/2))?u=h:d=h;while((m=y<<1|b)===(_=(v>=h)<<1|p>=f));return o[_]=s,o[m]=a,n}function l2e(n){var e,i,r=n.length,o,s,a=new Array(r),l=new Array(r),u=1/0,c=1/0,d=-1/0,f=-1/0;for(i=0;i<r;++i)isNaN(o=+this._x.call(null,e=n[i]))||isNaN(s=+this._y.call(null,e))||(a[i]=o,l[i]=s,o<u&&(u=o),o>d&&(d=o),s<c&&(c=s),s>f&&(f=s));if(u>d||c>f)return this;for(this.cover(u,c).cover(d,f),i=0;i<r;++i)YW(this,a[i],l[i],n[i]);return this}function u2e(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var i=this._x0,r=this._y0,o=this._x1,s=this._y1;if(isNaN(i))o=(i=Math.floor(n))+1,s=(r=Math.floor(e))+1;else{for(var a=o-i||1,l=this._root,u,c;i>n||n>=o||r>e||e>=s;)switch(c=(e<r)<<1|n<i,u=new Array(4),u[c]=l,l=u,a*=2,c){case 0:o=i+a,s=r+a;break;case 1:i=o-a,s=r+a;break;case 2:o=i+a,r=s-a;break;case 3:i=o-a,r=s-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=i,this._y0=r,this._x1=o,this._y1=s,this}function c2e(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function d2e(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function To(n,e,i,r,o){this.node=n,this.x0=e,this.y0=i,this.x1=r,this.y1=o}function f2e(n,e,i){var r,o=this._x0,s=this._y0,a,l,u,c,d=this._x1,f=this._y1,h=[],p=this._root,v,b;for(p&&h.push(new To(p,o,s,d,f)),i==null?i=1/0:(o=n-i,s=e-i,d=n+i,f=e+i,i*=i);v=h.pop();)if(!(!(p=v.node)||(a=v.x0)>d||(l=v.y0)>f||(u=v.x1)<o||(c=v.y1)<s))if(p.length){var y=(a+u)/2,m=(l+c)/2;h.push(new To(p[3],y,m,u,c),new To(p[2],a,m,y,c),new To(p[1],y,l,u,m),new To(p[0],a,l,y,m)),(b=(e>=m)<<1|n>=y)&&(v=h[h.length-1],h[h.length-1]=h[h.length-1-b],h[h.length-1-b]=v)}else{var _=n-+this._x.call(null,p.data),S=e-+this._y.call(null,p.data),w=_*_+S*S;if(w<i){var T=Math.sqrt(i=w);o=n-T,s=e-T,d=n+T,f=e+T,r=p.data}}return r}function h2e(n){if(isNaN(d=+this._x.call(null,n))||isNaN(f=+this._y.call(null,n)))return this;var e,i=this._root,r,o,s,a=this._x0,l=this._y0,u=this._x1,c=this._y1,d,f,h,p,v,b,y,m;if(!i)return this;if(i.length)for(;;){if((v=d>=(h=(a+u)/2))?a=h:u=h,(b=f>=(p=(l+c)/2))?l=p:c=p,e=i,!(i=i[y=b<<1|v]))return this;if(!i.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(r=e,m=y)}for(;i.data!==n;)if(o=i,!(i=i.next))return this;return(s=i.next)&&delete i.next,o?(s?o.next=s:delete o.next,this):e?(s?e[y]=s:delete e[y],(i=e[0]||e[1]||e[2]||e[3])&&i===(e[3]||e[2]||e[1]||e[0])&&!i.length&&(r?r[m]=i:this._root=i),this):(this._root=s,this)}function p2e(n){for(var e=0,i=n.length;e<i;++e)this.remove(n[e]);return this}function g2e(){return this._root}function m2e(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function v2e(n){var e=[],i,r=this._root,o,s,a,l,u;for(r&&e.push(new To(r,this._x0,this._y0,this._x1,this._y1));i=e.pop();)if(!n(r=i.node,s=i.x0,a=i.y0,l=i.x1,u=i.y1)&&r.length){var c=(s+l)/2,d=(a+u)/2;(o=r[3])&&e.push(new To(o,c,d,l,u)),(o=r[2])&&e.push(new To(o,s,d,c,u)),(o=r[1])&&e.push(new To(o,c,a,l,d)),(o=r[0])&&e.push(new To(o,s,a,c,d))}return this}function y2e(n){var e=[],i=[],r;for(this._root&&e.push(new To(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var o=r.node;if(o.length){var s,a=r.x0,l=r.y0,u=r.x1,c=r.y1,d=(a+u)/2,f=(l+c)/2;(s=o[0])&&e.push(new To(s,a,l,d,f)),(s=o[1])&&e.push(new To(s,d,l,u,f)),(s=o[2])&&e.push(new To(s,a,f,d,c)),(s=o[3])&&e.push(new To(s,d,f,u,c))}i.push(r)}for(;r=i.pop();)n(r.node,r.x0,r.y0,r.x1,r.y1);return this}function b2e(n){return n[0]}function x2e(n){return arguments.length?(this._x=n,this):this._x}function _2e(n){return n[1]}function S2e(n){return arguments.length?(this._y=n,this):this._y}function QW(n,e,i){var r=new vI(e??b2e,i??_2e,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function vI(n,e,i,r,o,s){this._x=n,this._y=e,this._x0=i,this._y0=r,this._x1=o,this._y1=s,this._root=void 0}function HU(n){for(var e={data:n.data},i=e;n=n.next;)i=i.next={data:n.data};return e}var Oo=QW.prototype=vI.prototype;Oo.copy=function(){var n=new vI(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,i,r;if(!e)return n;if(!e.length)return n._root=HU(e),n;for(i=[{source:e,target:n._root=new Array(4)}];e=i.pop();)for(var o=0;o<4;++o)(r=e.source[o])&&(r.length?i.push({source:r,target:e.target[o]=new Array(4)}):e.target[o]=HU(r));return n};Oo.add=a2e;Oo.addAll=l2e;Oo.cover=u2e;Oo.data=c2e;Oo.extent=d2e;Oo.find=f2e;Oo.remove=h2e;Oo.removeAll=p2e;Oo.root=g2e;Oo.size=m2e;Oo.visit=v2e;Oo.visitAfter=y2e;Oo.x=x2e;Oo.y=S2e;function w2e(n){const e=+this._x.call(null,n),i=+this._y.call(null,n),r=+this._z.call(null,n);return ZW(this.cover(e,i,r),e,i,r,n)}function ZW(n,e,i,r,o){if(isNaN(e)||isNaN(i)||isNaN(r))return n;var s,a=n._root,l={data:o},u=n._x0,c=n._y0,d=n._z0,f=n._x1,h=n._y1,p=n._z1,v,b,y,m,_,S,w,T,A,C,R;if(!a)return n._root=l,n;for(;a.length;)if((w=e>=(v=(u+f)/2))?u=v:f=v,(T=i>=(b=(c+h)/2))?c=b:h=b,(A=r>=(y=(d+p)/2))?d=y:p=y,s=a,!(a=a[C=A<<2|T<<1|w]))return s[C]=l,n;if(m=+n._x.call(null,a.data),_=+n._y.call(null,a.data),S=+n._z.call(null,a.data),e===m&&i===_&&r===S)return l.next=a,s?s[C]=l:n._root=l,n;do s=s?s[C]=new Array(8):n._root=new Array(8),(w=e>=(v=(u+f)/2))?u=v:f=v,(T=i>=(b=(c+h)/2))?c=b:h=b,(A=r>=(y=(d+p)/2))?d=y:p=y;while((C=A<<2|T<<1|w)===(R=(S>=y)<<2|(_>=b)<<1|m>=v));return s[R]=a,s[C]=l,n}function C2e(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,i=new Float64Array(e),r=new Float64Array(e),o=new Float64Array(e);let s=1/0,a=1/0,l=1/0,u=-1/0,c=-1/0,d=-1/0;for(let f=0,h,p,v,b;f<e;++f)isNaN(p=+this._x.call(null,h=n[f]))||isNaN(v=+this._y.call(null,h))||isNaN(b=+this._z.call(null,h))||(i[f]=p,r[f]=v,o[f]=b,p<s&&(s=p),p>u&&(u=p),v<a&&(a=v),v>c&&(c=v),b<l&&(l=b),b>d&&(d=b));if(s>u||a>c||l>d)return this;this.cover(s,a,l).cover(u,c,d);for(let f=0;f<e;++f)ZW(this,i[f],r[f],o[f],n[f]);return this}function T2e(n,e,i){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(i=+i))return this;var r=this._x0,o=this._y0,s=this._z0,a=this._x1,l=this._y1,u=this._z1;if(isNaN(r))a=(r=Math.floor(n))+1,l=(o=Math.floor(e))+1,u=(s=Math.floor(i))+1;else{for(var c=a-r||1,d=this._root,f,h;r>n||n>=a||o>e||e>=l||s>i||i>=u;)switch(h=(i<s)<<2|(e<o)<<1|n<r,f=new Array(8),f[h]=d,d=f,c*=2,h){case 0:a=r+c,l=o+c,u=s+c;break;case 1:r=a-c,l=o+c,u=s+c;break;case 2:a=r+c,o=l-c,u=s+c;break;case 3:r=a-c,o=l-c,u=s+c;break;case 4:a=r+c,l=o+c,s=u-c;break;case 5:r=a-c,l=o+c,s=u-c;break;case 6:a=r+c,o=l-c,s=u-c;break;case 7:r=a-c,o=l-c,s=u-c;break}this._root&&this._root.length&&(this._root=d)}return this._x0=r,this._y0=o,this._z0=s,this._x1=a,this._y1=l,this._z1=u,this}function A2e(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function E2e(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function si(n,e,i,r,o,s,a){this.node=n,this.x0=e,this.y0=i,this.z0=r,this.x1=o,this.y1=s,this.z1=a}function M2e(n,e,i,r){var o,s=this._x0,a=this._y0,l=this._z0,u,c,d,f,h,p,v=this._x1,b=this._y1,y=this._z1,m=[],_=this._root,S,w;for(_&&m.push(new si(_,s,a,l,v,b,y)),r==null?r=1/0:(s=n-r,a=e-r,l=i-r,v=n+r,b=e+r,y=i+r,r*=r);S=m.pop();)if(!(!(_=S.node)||(u=S.x0)>v||(c=S.y0)>b||(d=S.z0)>y||(f=S.x1)<s||(h=S.y1)<a||(p=S.z1)<l))if(_.length){var T=(u+f)/2,A=(c+h)/2,C=(d+p)/2;m.push(new si(_[7],T,A,C,f,h,p),new si(_[6],u,A,C,T,h,p),new si(_[5],T,c,C,f,A,p),new si(_[4],u,c,C,T,A,p),new si(_[3],T,A,d,f,h,C),new si(_[2],u,A,d,T,h,C),new si(_[1],T,c,d,f,A,C),new si(_[0],u,c,d,T,A,C)),(w=(i>=C)<<2|(e>=A)<<1|n>=T)&&(S=m[m.length-1],m[m.length-1]=m[m.length-1-w],m[m.length-1-w]=S)}else{var R=n-+this._x.call(null,_.data),E=e-+this._y.call(null,_.data),P=i-+this._z.call(null,_.data),N=R*R+E*E+P*P;if(N<r){var D=Math.sqrt(r=N);s=n-D,a=e-D,l=i-D,v=n+D,b=e+D,y=i+D,o=_.data}}return o}const R2e=(n,e,i,r,o,s)=>Math.sqrt((n-r)**2+(e-o)**2+(i-s)**2);function P2e(n,e,i,r){const o=[],s=n-r,a=e-r,l=i-r,u=n+r,c=e+r,d=i+r;return this.visit((f,h,p,v,b,y,m)=>{if(!f.length)do{const _=f.data;R2e(n,e,i,this._x(_),this._y(_),this._z(_))<=r&&o.push(_)}while(f=f.next);return h>u||p>c||v>d||b<s||y<a||m<l}),o}function I2e(n){if(isNaN(h=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n))||isNaN(v=+this._z.call(null,n)))return this;var e,i=this._root,r,o,s,a=this._x0,l=this._y0,u=this._z0,c=this._x1,d=this._y1,f=this._z1,h,p,v,b,y,m,_,S,w,T,A;if(!i)return this;if(i.length)for(;;){if((_=h>=(b=(a+c)/2))?a=b:c=b,(S=p>=(y=(l+d)/2))?l=y:d=y,(w=v>=(m=(u+f)/2))?u=m:f=m,e=i,!(i=i[T=w<<2|S<<1|_]))return this;if(!i.length)break;(e[T+1&7]||e[T+2&7]||e[T+3&7]||e[T+4&7]||e[T+5&7]||e[T+6&7]||e[T+7&7])&&(r=e,A=T)}for(;i.data!==n;)if(o=i,!(i=i.next))return this;return(s=i.next)&&delete i.next,o?(s?o.next=s:delete o.next,this):e?(s?e[T]=s:delete e[T],(i=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&i===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!i.length&&(r?r[A]=i:this._root=i),this):(this._root=s,this)}function N2e(n){for(var e=0,i=n.length;e<i;++e)this.remove(n[e]);return this}function O2e(){return this._root}function D2e(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function L2e(n){var e=[],i,r=this._root,o,s,a,l,u,c,d;for(r&&e.push(new si(r,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();)if(!n(r=i.node,s=i.x0,a=i.y0,l=i.z0,u=i.x1,c=i.y1,d=i.z1)&&r.length){var f=(s+u)/2,h=(a+c)/2,p=(l+d)/2;(o=r[7])&&e.push(new si(o,f,h,p,u,c,d)),(o=r[6])&&e.push(new si(o,s,h,p,f,c,d)),(o=r[5])&&e.push(new si(o,f,a,p,u,h,d)),(o=r[4])&&e.push(new si(o,s,a,p,f,h,d)),(o=r[3])&&e.push(new si(o,f,h,l,u,c,p)),(o=r[2])&&e.push(new si(o,s,h,l,f,c,p)),(o=r[1])&&e.push(new si(o,f,a,l,u,h,p)),(o=r[0])&&e.push(new si(o,s,a,l,f,h,p))}return this}function B2e(n){var e=[],i=[],r;for(this._root&&e.push(new si(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();){var o=r.node;if(o.length){var s,a=r.x0,l=r.y0,u=r.z0,c=r.x1,d=r.y1,f=r.z1,h=(a+c)/2,p=(l+d)/2,v=(u+f)/2;(s=o[0])&&e.push(new si(s,a,l,u,h,p,v)),(s=o[1])&&e.push(new si(s,h,l,u,c,p,v)),(s=o[2])&&e.push(new si(s,a,p,u,h,d,v)),(s=o[3])&&e.push(new si(s,h,p,u,c,d,v)),(s=o[4])&&e.push(new si(s,a,l,v,h,p,f)),(s=o[5])&&e.push(new si(s,h,l,v,c,p,f)),(s=o[6])&&e.push(new si(s,a,p,v,h,d,f)),(s=o[7])&&e.push(new si(s,h,p,v,c,d,f))}i.push(r)}for(;r=i.pop();)n(r.node,r.x0,r.y0,r.z0,r.x1,r.y1,r.z1);return this}function F2e(n){return n[0]}function $2e(n){return arguments.length?(this._x=n,this):this._x}function U2e(n){return n[1]}function k2e(n){return arguments.length?(this._y=n,this):this._y}function z2e(n){return n[2]}function H2e(n){return arguments.length?(this._z=n,this):this._z}function JW(n,e,i,r){var o=new yI(e??F2e,i??U2e,r??z2e,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?o:o.addAll(n)}function yI(n,e,i,r,o,s,a,l,u){this._x=n,this._y=e,this._z=i,this._x0=r,this._y0=o,this._z0=s,this._x1=a,this._y1=l,this._z1=u,this._root=void 0}function GU(n){for(var e={data:n.data},i=e;n=n.next;)i=i.next={data:n.data};return e}var jr=JW.prototype=yI.prototype;jr.copy=function(){var n=new yI(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,i,r;if(!e)return n;if(!e.length)return n._root=GU(e),n;for(i=[{source:e,target:n._root=new Array(8)}];e=i.pop();)for(var o=0;o<8;++o)(r=e.source[o])&&(r.length?i.push({source:r,target:e.target[o]=new Array(8)}):e.target[o]=GU(r));return n};jr.add=w2e;jr.addAll=C2e;jr.cover=T2e;jr.data=A2e;jr.extent=E2e;jr.find=M2e;jr.findAllWithinRadius=P2e;jr.remove=I2e;jr.removeAll=N2e;jr.root=O2e;jr.size=D2e;jr.visit=L2e;jr.visitAfter=B2e;jr.x=$2e;jr.y=k2e;jr.z=H2e;function Tu(n){return function(){return n}}function pu(n){return(n()-.5)*1e-6}function G2e(n){return n.index}function VU(n,e){var i=n.get(e);if(!i)throw new Error("node not found: "+e);return i}function e9(n){var e=G2e,i=h,r,o=Tu(30),s,a,l,u,c,d,f=1;n==null&&(n=[]);function h(m){return 1/Math.min(u[m.source.index],u[m.target.index])}function p(m){for(var _=0,S=n.length;_<f;++_)for(var w=0,T,A,C,R=0,E=0,P=0,N,D;w<S;++w)T=n[w],A=T.source,C=T.target,R=C.x+C.vx-A.x-A.vx||pu(d),l>1&&(E=C.y+C.vy-A.y-A.vy||pu(d)),l>2&&(P=C.z+C.vz-A.z-A.vz||pu(d)),N=Math.sqrt(R*R+E*E+P*P),N=(N-s[w])/N*m*r[w],R*=N,E*=N,P*=N,C.vx-=R*(D=c[w]),l>1&&(C.vy-=E*D),l>2&&(C.vz-=P*D),A.vx+=R*(D=1-D),l>1&&(A.vy+=E*D),l>2&&(A.vz+=P*D)}function v(){if(a){var m,_=a.length,S=n.length,w=new Map(a.map((A,C)=>[e(A,C,a),A])),T;for(m=0,u=new Array(_);m<S;++m)T=n[m],T.index=m,typeof T.source!="object"&&(T.source=VU(w,T.source)),typeof T.target!="object"&&(T.target=VU(w,T.target)),u[T.source.index]=(u[T.source.index]||0)+1,u[T.target.index]=(u[T.target.index]||0)+1;for(m=0,c=new Array(S);m<S;++m)T=n[m],c[m]=u[T.source.index]/(u[T.source.index]+u[T.target.index]);r=new Array(S),b(),s=new Array(S),y()}}function b(){if(a)for(var m=0,_=n.length;m<_;++m)r[m]=+i(n[m],m,n)}function y(){if(a)for(var m=0,_=n.length;m<_;++m)s[m]=+o(n[m],m,n)}return p.initialize=function(m,..._){a=m,d=_.find(S=>typeof S=="function")||Math.random,l=_.find(S=>[1,2,3].includes(S))||2,v()},p.links=function(m){return arguments.length?(n=m,v(),p):n},p.id=function(m){return arguments.length?(e=m,p):e},p.iterations=function(m){return arguments.length?(f=+m,p):f},p.strength=function(m){return arguments.length?(i=typeof m=="function"?m:Tu(+m),b(),p):i},p.distance=function(m){return arguments.length?(o=typeof m=="function"?m:Tu(+m),y(),p):o},p}const V2e=1664525,W2e=1013904223,WU=4294967296;function j2e(){let n=1;return()=>(n=(V2e*n+W2e)%WU)/WU}var jU=3;function RT(n){return n.x}function KU(n){return n.y}function K2e(n){return n.z}var X2e=10,q2e=Math.PI*(3-Math.sqrt(5)),Y2e=Math.PI*20/(9+Math.sqrt(221));function t9(n,e){e=e||2;var i=Math.min(jU,Math.max(1,Math.round(e))),r,o=1,s=.001,a=1-Math.pow(s,1/300),l=0,u=.6,c=new Map,d=sI(p),f=Wy("tick","end"),h=j2e();n==null&&(n=[]);function p(){v(),f.call("tick",r),o<s&&(d.stop(),f.call("end",r))}function v(m){var _,S=n.length,w;m===void 0&&(m=1);for(var T=0;T<m;++T)for(o+=(l-o)*a,c.forEach(function(A){A(o)}),_=0;_<S;++_)w=n[_],w.fx==null?w.x+=w.vx*=u:(w.x=w.fx,w.vx=0),i>1&&(w.fy==null?w.y+=w.vy*=u:(w.y=w.fy,w.vy=0)),i>2&&(w.fz==null?w.z+=w.vz*=u:(w.z=w.fz,w.vz=0));return r}function b(){for(var m=0,_=n.length,S;m<_;++m){if(S=n[m],S.index=m,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),S.fz!=null&&(S.z=S.fz),isNaN(S.x)||i>1&&isNaN(S.y)||i>2&&isNaN(S.z)){var w=X2e*(i>2?Math.cbrt(.5+m):i>1?Math.sqrt(.5+m):m),T=m*q2e,A=m*Y2e;i===1?S.x=w:i===2?(S.x=w*Math.cos(T),S.y=w*Math.sin(T)):(S.x=w*Math.sin(T)*Math.cos(A),S.y=w*Math.cos(T),S.z=w*Math.sin(T)*Math.sin(A))}(isNaN(S.vx)||i>1&&isNaN(S.vy)||i>2&&isNaN(S.vz))&&(S.vx=0,i>1&&(S.vy=0),i>2&&(S.vz=0))}}function y(m){return m.initialize&&m.initialize(n,h,i),m}return b(),r={tick:v,restart:function(){return d.restart(p),r},stop:function(){return d.stop(),r},numDimensions:function(m){return arguments.length?(i=Math.min(jU,Math.max(1,Math.round(m))),c.forEach(y),r):i},nodes:function(m){return arguments.length?(n=m,b(),c.forEach(y),r):n},alpha:function(m){return arguments.length?(o=+m,r):o},alphaMin:function(m){return arguments.length?(s=+m,r):s},alphaDecay:function(m){return arguments.length?(a=+m,r):+a},alphaTarget:function(m){return arguments.length?(l=+m,r):l},velocityDecay:function(m){return arguments.length?(u=1-m,r):1-u},randomSource:function(m){return arguments.length?(h=m,c.forEach(y),r):h},force:function(m,_){return arguments.length>1?(_==null?c.delete(m):c.set(m,y(_)),r):c.get(m)},find:function(){var m=Array.prototype.slice.call(arguments),_=m.shift()||0,S=(i>1?m.shift():null)||0,w=(i>2?m.shift():null)||0,T=m.shift()||1/0,A=0,C=n.length,R,E,P,N,D,$;for(T*=T,A=0;A<C;++A)D=n[A],R=_-D.x,E=S-(D.y||0),P=w-(D.z||0),N=R*R+E*E+P*P,N<T&&($=D,T=N);return $},on:function(m,_){return arguments.length>1?(f.on(m,_),r):f.on(m)}}}function n9(){var n,e,i,r,o,s=Tu(-30),a,l=1,u=1/0,c=.81;function d(v){var b,y=n.length,m=(e===1?qW(n,RT):e===2?QW(n,RT,KU):e===3?JW(n,RT,KU,K2e):null).visitAfter(h);for(o=v,b=0;b<y;++b)i=n[b],m.visit(p)}function f(){if(n){var v,b=n.length,y;for(a=new Array(b),v=0;v<b;++v)y=n[v],a[y.index]=+s(y,v,n)}}function h(v){var b=0,y,m,_=0,S,w,T,A,C=v.length;if(C){for(S=w=T=A=0;A<C;++A)(y=v[A])&&(m=Math.abs(y.value))&&(b+=y.value,_+=m,S+=m*(y.x||0),w+=m*(y.y||0),T+=m*(y.z||0));b*=Math.sqrt(4/C),v.x=S/_,e>1&&(v.y=w/_),e>2&&(v.z=T/_)}else{y=v,y.x=y.data.x,e>1&&(y.y=y.data.y),e>2&&(y.z=y.data.z);do b+=a[y.data.index];while(y=y.next)}v.value=b}function p(v,b,y,m,_){if(!v.value)return!0;var S=[y,m,_][e-1],w=v.x-i.x,T=e>1?v.y-i.y:0,A=e>2?v.z-i.z:0,C=S-b,R=w*w+T*T+A*A;if(C*C/c<R)return R<u&&(w===0&&(w=pu(r),R+=w*w),e>1&&T===0&&(T=pu(r),R+=T*T),e>2&&A===0&&(A=pu(r),R+=A*A),R<l&&(R=Math.sqrt(l*R)),i.vx+=w*v.value*o/R,e>1&&(i.vy+=T*v.value*o/R),e>2&&(i.vz+=A*v.value*o/R)),!0;if(v.length||R>=u)return;(v.data!==i||v.next)&&(w===0&&(w=pu(r),R+=w*w),e>1&&T===0&&(T=pu(r),R+=T*T),e>2&&A===0&&(A=pu(r),R+=A*A),R<l&&(R=Math.sqrt(l*R)));do v.data!==i&&(C=a[v.data.index]*o/R,i.vx+=w*C,e>1&&(i.vy+=T*C),e>2&&(i.vz+=A*C));while(v=v.next)}return d.initialize=function(v,...b){n=v,r=b.find(y=>typeof y=="function")||Math.random,e=b.find(y=>[1,2,3].includes(y))||2,f()},d.strength=function(v){return arguments.length?(s=typeof v=="function"?v:Tu(+v),f(),d):s},d.distanceMin=function(v){return arguments.length?(l=v*v,d):Math.sqrt(l)},d.distanceMax=function(v){return arguments.length?(u=v*v,d):Math.sqrt(u)},d.theta=function(v){return arguments.length?(c=v*v,d):Math.sqrt(c)},d}function i9(n,e,i,r){var o,s,a=Tu(.1),l,u;typeof n!="function"&&(n=Tu(+n)),e==null&&(e=0),i==null&&(i=0),r==null&&(r=0);function c(f){for(var h=0,p=o.length;h<p;++h){var v=o[h],b=v.x-e||1e-6,y=(v.y||0)-i||1e-6,m=(v.z||0)-r||1e-6,_=Math.sqrt(b*b+y*y+m*m),S=(u[h]-_)*l[h]*f/_;v.vx+=b*S,s>1&&(v.vy+=y*S),s>2&&(v.vz+=m*S)}}function d(){if(o){var f,h=o.length;for(l=new Array(h),u=new Array(h),f=0;f<h;++f)u[f]=+n(o[f],f,o),l[f]=isNaN(u[f])?0:+a(o[f],f,o)}}return c.initialize=function(f,...h){o=f,s=h.find(p=>[1,2,3].includes(p))||2,d()},c.strength=function(f){return arguments.length?(a=typeof f=="function"?f:Tu(+f),d(),c):a},c.radius=function(f){return arguments.length?(n=typeof f=="function"?f:Tu(+f),d(),c):n},c.x=function(f){return arguments.length?(e=+f,c):e},c.y=function(f){return arguments.length?(i=+f,c):i},c.z=function(f){return arguments.length?(r=+f,c):r},c}const{abs:pm,cos:eu,sin:Ah,acos:Q2e,atan2:gm,sqrt:xc,pow:Xs}=Math;function mm(n){return n<0?-Xs(-n,1/3):Xs(n,1/3)}const r9=Math.PI,Eb=2*r9,_c=r9/2,Z2e=1e-6,PT=Number.MAX_SAFE_INTEGER||9007199254740991,IT=Number.MIN_SAFE_INTEGER||-9007199254740991,J2e={x:0,y:0,z:0},bt={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const i=e(n);let r=i.x*i.x+i.y*i.y;return typeof i.z<"u"&&(r+=i.z*i.z),xc(r)},compute:function(n,e,i){if(n===0)return e[0].t=0,e[0];const r=e.length-1;if(n===1)return e[r].t=1,e[r];const o=1-n;let s=e;if(r===0)return e[0].t=n,e[0];if(r===1){const l={x:o*s[0].x+n*s[1].x,y:o*s[0].y+n*s[1].y,t:n};return i&&(l.z=o*s[0].z+n*s[1].z),l}if(r<4){let l=o*o,u=n*n,c,d,f,h=0;r===2?(s=[s[0],s[1],s[2],J2e],c=l,d=o*n*2,f=u):r===3&&(c=l*o,d=l*n*3,f=o*u*3,h=n*u);const p={x:c*s[0].x+d*s[1].x+f*s[2].x+h*s[3].x,y:c*s[0].y+d*s[1].y+f*s[2].y+h*s[3].y,t:n};return i&&(p.z=c*s[0].z+d*s[1].z+f*s[2].z+h*s[3].z),p}const a=JSON.parse(JSON.stringify(e));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*n,y:a[l].y+(a[l+1].y-a[l].y)*n},typeof a[l].z<"u"&&(a[l].z=a[l].z+(a[l+1].z-a[l].z)*n);a.splice(a.length-1,1)}return a[0].t=n,a[0]},computeWithRatios:function(n,e,i,r){const o=1-n,s=i,a=e;let l=s[0],u=s[1],c=s[2],d=s[3],f;if(l*=o,u*=n,a.length===2)return f=l+u,{x:(l*a[0].x+u*a[1].x)/f,y:(l*a[0].y+u*a[1].y)/f,z:r?(l*a[0].z+u*a[1].z)/f:!1,t:n};if(l*=o,u*=2*o,c*=n*n,a.length===3)return f=l+u+c,{x:(l*a[0].x+u*a[1].x+c*a[2].x)/f,y:(l*a[0].y+u*a[1].y+c*a[2].y)/f,z:r?(l*a[0].z+u*a[1].z+c*a[2].z)/f:!1,t:n};if(l*=o,u*=1.5*o,c*=3*o,d*=n*n*n,a.length===4)return f=l+u+c+d,{x:(l*a[0].x+u*a[1].x+c*a[2].x+d*a[3].x)/f,y:(l*a[0].y+u*a[1].y+c*a[2].y+d*a[3].y)/f,z:r?(l*a[0].z+u*a[1].z+c*a[2].z+d*a[3].z)/f:!1,t:n}},derive:function(n,e){const i=[];for(let r=n,o=r.length,s=o-1;o>1;o--,s--){const a=[];for(let l=0,u;l<s;l++)u={x:s*(r[l+1].x-r[l].x),y:s*(r[l+1].y-r[l].y)},e&&(u.z=s*(r[l+1].z-r[l].z)),a.push(u);i.push(a),r=a}return i},between:function(n,e,i){return e<=n&&n<=i||bt.approximately(n,e)||bt.approximately(n,i)},approximately:function(n,e,i){return pm(n-e)<=(i||Z2e)},length:function(n){const i=bt.Tvalues.length;let r=0;for(let o=0,s;o<i;o++)s=.5*bt.Tvalues[o]+.5,r+=bt.Cvalues[o]*bt.arcfn(s,n);return .5*r},map:function(n,e,i,r,o){const s=i-e,a=o-r,l=n-e,u=l/s;return r+a*u},lerp:function(n,e,i){const r={x:e.x+n*(i.x-e.x),y:e.y+n*(i.y-e.y)};return e.z!==void 0&&i.z!==void 0&&(r.z=e.z+n*(i.z-e.z)),r},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(bt.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,i){const r=e.x-n.x,o=e.y-n.y,s=i.x-n.x,a=i.y-n.y,l=r*a-o*s,u=r*s+o*a;return gm(l,u)},round:function(n,e){const i=""+n,r=i.indexOf(".");return parseFloat(i.substring(0,r+1+e))},dist:function(n,e){const i=n.x-e.x,r=n.y-e.y;return xc(i*i+r*r)},closest:function(n,e){let i=Xs(2,63),r,o;return n.forEach(function(s,a){o=bt.dist(e,s),o<i&&(i=o,r=a)}),{mdist:i,mpos:r}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const i=Xs(n,e)+Xs(1-n,e),r=i-1;return pm(r/i)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const i=Xs(1-n,e),r=Xs(n,e)+i;return i/r},lli8:function(n,e,i,r,o,s,a,l){const u=(n*r-e*i)*(o-a)-(n-i)*(o*l-s*a),c=(n*r-e*i)*(s-l)-(e-r)*(o*l-s*a),d=(n-i)*(s-l)-(e-r)*(o-a);return d==0?!1:{x:u/d,y:c/d}},lli4:function(n,e,i,r){const o=n.x,s=n.y,a=e.x,l=e.y,u=i.x,c=i.y,d=r.x,f=r.y;return bt.lli8(o,s,a,l,u,c,d,f)},lli:function(n,e){return bt.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new mi(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=PT,i=PT,r=IT,o=IT;return n.forEach(function(s){const a=s.bbox();e>a.x.min&&(e=a.x.min),i>a.y.min&&(i=a.y.min),r<a.x.max&&(r=a.x.max),o<a.y.max&&(o=a.y.max)}),{x:{min:e,mid:(e+r)/2,max:r,size:r-e},y:{min:i,mid:(i+o)/2,max:o,size:o-i}}},shapeintersections:function(n,e,i,r,o){if(!bt.bboxoverlap(e,r))return[];const s=[],a=[n.startcap,n.forward,n.back,n.endcap],l=[i.startcap,i.forward,i.back,i.endcap];return a.forEach(function(u){u.virtual||l.forEach(function(c){if(c.virtual)return;const d=u.intersects(c,o);d.length>0&&(d.c1=u,d.c2=c,d.s1=n,d.s2=i,s.push(d))})}),s},makeshape:function(n,e,i){const r=e.points.length,o=n.points.length,s=bt.makeline(e.points[r-1],n.points[0]),a=bt.makeline(n.points[o-1],e.points[0]),l={startcap:s,forward:n,back:e,endcap:a,bbox:bt.findbbox([s,n,e,a])};return l.intersections=function(u){return bt.shapeintersections(l,l.bbox,u,u.bbox,i)},l},getminmax:function(n,e,i){if(!i)return{min:0,max:0};let r=PT,o=IT,s,a;i.indexOf(0)===-1&&(i=[0].concat(i)),i.indexOf(1)===-1&&i.push(1);for(let l=0,u=i.length;l<u;l++)s=i[l],a=n.get(s),a[e]<r&&(r=a[e]),a[e]>o&&(o=a[e]);return{min:r,mid:(r+o)/2,max:o,size:o-r}},align:function(n,e){const i=e.p1.x,r=e.p1.y,o=-gm(e.p2.y-r,e.p2.x-i),s=function(a){return{x:(a.x-i)*eu(o)-(a.y-r)*Ah(o),y:(a.x-i)*Ah(o)+(a.y-r)*eu(o)}};return n.map(s)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const i=n.length-1,r=bt.align(n,e),o=function(C){return 0<=C&&C<=1};if(i===2){const C=r[0].y,R=r[1].y,E=r[2].y,P=C-2*R+E;if(P!==0){const N=-xc(R*R-C*E),D=-C+R,$=-(N+D)/P,L=-(-N+D)/P;return[$,L].filter(o)}else if(R!==E&&P===0)return[(2*R-E)/(2*R-2*E)].filter(o);return[]}const s=r[0].y,a=r[1].y,l=r[2].y,u=r[3].y;let c=-s+3*a-3*l+u,d=3*s-6*a+3*l,f=-3*s+3*a,h=s;if(bt.approximately(c,0)){if(bt.approximately(d,0))return bt.approximately(f,0)?[]:[-h/f].filter(o);const C=xc(f*f-4*d*h),R=2*d;return[(C-f)/R,(-f-C)/R].filter(o)}d/=c,f/=c,h/=c;const p=(3*f-d*d)/3,v=p/3,b=(2*d*d*d-9*d*f+27*h)/27,y=b/2,m=y*y+v*v*v;let _,S,w,T,A;if(m<0){const C=-p/3,R=C*C*C,E=xc(R),P=-b/(2*E),N=P<-1?-1:P>1?1:P,D=Q2e(N),$=mm(E),L=2*$;return w=L*eu(D/3)-d/3,T=L*eu((D+Eb)/3)-d/3,A=L*eu((D+2*Eb)/3)-d/3,[w,T,A].filter(o)}else{if(m===0)return _=y<0?mm(-y):-mm(y),w=2*_-d/3,T=-_-d/3,[w,T].filter(o);{const C=xc(m);return _=mm(-y+C),S=mm(y+C),[_-S-d/3].filter(o)}}},droots:function(n){if(n.length===3){const e=n[0],i=n[1],r=n[2],o=e-2*i+r;if(o!==0){const s=-xc(i*i-e*r),a=-e+i,l=-(s+a)/o,u=-(-s+a)/o;return[l,u]}else if(i!==r&&o===0)return[(2*i-r)/(2*(i-r))];return[]}if(n.length===2){const e=n[0],i=n[1];return e!==i?[e/(e-i)]:[]}return[]},curvature:function(n,e,i,r,o){let s,a,l,u,c=0,d=0;const f=bt.compute(n,e),h=bt.compute(n,i),p=f.x*f.x+f.y*f.y;if(r?(s=xc(Xs(f.y*h.z-h.y*f.z,2)+Xs(f.z*h.x-h.z*f.x,2)+Xs(f.x*h.y-h.x*f.y,2)),a=Xs(p+f.z*f.z,3/2)):(s=f.x*h.y-f.y*h.x,a=Xs(p,3/2)),s===0||a===0)return{k:0,r:0};if(c=s/a,d=a/s,!o){const v=bt.curvature(n-.001,e,i,r,!0).k,b=bt.curvature(n+.001,e,i,r,!0).k;u=(b-c+(c-v))/2,l=(pm(b-c)+pm(c-v))/2}return{k:c,r:d,dk:u,adk:l}},inflections:function(n){if(n.length<4)return[];const e=bt.align(n,{p1:n[0],p2:n.slice(-1)[0]}),i=e[2].x*e[1].y,r=e[3].x*e[1].y,o=e[1].x*e[2].y,s=e[3].x*e[2].y,a=18*(-3*i+2*r+3*o-s),l=18*(3*i-r-3*o),u=18*(o-i);if(bt.approximately(a,0)){if(!bt.approximately(l,0)){let h=-u/l;if(0<=h&&h<=1)return[h]}return[]}const c=2*a;if(bt.approximately(c,0))return[];const d=l*l-4*a*u;if(d<0)return[];const f=Math.sqrt(d);return[(f-l)/c,-(l+f)/c].filter(function(h){return 0<=h&&h<=1})},bboxoverlap:function(n,e){const i=["x","y"],r=i.length;for(let o=0,s,a,l,u;o<r;o++)if(s=i[o],a=n[s].mid,l=e[s].mid,u=(n[s].size+e[s].size)/2,pm(a-l)>=u)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,i){const r=n.bbox(),o=e.bbox(),s=1e5,a=i||.5;if(r.x.size+r.y.size<a&&o.x.size+o.y.size<a)return[(s*(n._t1+n._t2)/2|0)/s+"/"+(s*(e._t1+e._t2)/2|0)/s];let l=n.split(.5),u=e.split(.5),c=[{left:l.left,right:u.left},{left:l.left,right:u.right},{left:l.right,right:u.right},{left:l.right,right:u.left}];c=c.filter(function(f){return bt.bboxoverlap(f.left.bbox(),f.right.bbox())});let d=[];return c.length===0||(c.forEach(function(f){d=d.concat(bt.pairiteration(f.left,f.right,a))}),d=d.filter(function(f,h){return d.indexOf(f)===h})),d},getccenter:function(n,e,i){const r=e.x-n.x,o=e.y-n.y,s=i.x-e.x,a=i.y-e.y,l=r*eu(_c)-o*Ah(_c),u=r*Ah(_c)+o*eu(_c),c=s*eu(_c)-a*Ah(_c),d=s*Ah(_c)+a*eu(_c),f=(n.x+e.x)/2,h=(n.y+e.y)/2,p=(e.x+i.x)/2,v=(e.y+i.y)/2,b=f+l,y=h+u,m=p+c,_=v+d,S=bt.lli8(f,h,b,y,p,v,m,_),w=bt.dist(S,n);let T=gm(n.y-S.y,n.x-S.x),A=gm(e.y-S.y,e.x-S.x),C=gm(i.y-S.y,i.x-S.x),R;return T<C?((T>A||A>C)&&(T+=Eb),T>C&&(R=C,C=T,T=R)):C<A&&A<T?(R=C,C=T,T=R):C+=Eb,S.s=T,S.e=C,S.r=w,S},numberSort:function(n,e){return n-e}};class _v{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return bt.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,i){return e+i})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var i=e[0].bbox(),r=1;r<e.length;r++)bt.expandbox(i,e[r].bbox());return i}offset(e){const i=[];return this.curves.forEach(function(r){i.push(...r.offset(e))}),new _v(i)}}const{abs:vm,min:XU,max:qU,cos:eRe,sin:tRe,acos:nRe,sqrt:ym}=Math,iRe=Math.PI;class mi{constructor(e){let i=e&&e.forEach?e:Array.from(arguments).slice(),r=!1;if(typeof i[0]=="object"){r=i.length;const p=[];i.forEach(function(v){["x","y","z"].forEach(function(b){typeof v[b]<"u"&&p.push(v[b])})}),i=p}let o=!1;const s=i.length;if(r){if(r>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(s!==6&&s!==8&&s!==9&&s!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!o&&(s===9||s===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let p=0,v=a?3:2;p<s;p+=v){var u={x:i[p],y:i[p+1]};a&&(u.z=i[p+2]),l.push(u)}const c=this.order=l.length-1,d=this.dims=["x","y"];a&&d.push("z"),this.dimlen=d.length;const f=bt.align(l,{p1:l[0],p2:l[c]}),h=bt.dist(l[0],l[c]);this._linear=f.reduce((p,v)=>p+vm(v.y),0)<h/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,i,r,o){if(typeof o>"u"&&(o=.5),o===0)return new mi(i,i,r);if(o===1)return new mi(e,i,i);const s=mi.getABC(2,e,i,r,o);return new mi(e,s.A,r)}static cubicFromPoints(e,i,r,o,s){typeof o>"u"&&(o=.5);const a=mi.getABC(3,e,i,r,o);typeof s>"u"&&(s=bt.dist(i,a.C));const l=s*(1-o)/o,u=bt.dist(e,r),c=(r.x-e.x)/u,d=(r.y-e.y)/u,f=s*c,h=s*d,p=l*c,v=l*d,b={x:i.x-f,y:i.y-h},y={x:i.x+p,y:i.y+v},m=a.A,_={x:m.x+(b.x-m.x)/(1-o),y:m.y+(b.y-m.y)/(1-o)},S={x:m.x+(y.x-m.x)/o,y:m.y+(y.y-m.y)/o},w={x:e.x+(_.x-e.x)/o,y:e.y+(_.y-e.y)/o},T={x:r.x+(S.x-r.x)/(1-o),y:r.y+(S.y-r.y)/(1-o)};return new mi(e,w,T,r)}static getUtils(){return bt}getUtils(){return mi.getUtils()}static get PolyBezier(){return _v}valueOf(){return this.toString()}toString(){return bt.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,i=e[0].x,r=e[0].y,o=["M",i,r,this.order===2?"Q":"C"];for(let s=1,a=e.length;s<a;s++)o.push(e[s].x),o.push(e[s].y);return o.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,i){return""+i+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=bt.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,i=bt.angle(e[0],e[this.order],e[1]);this.clockwise=i>0}length(){return bt.length(this.derivative.bind(this))}static getABC(e=2,i,r,o,s=.5){const a=bt.projectionratio(s,e),l=1-a,u={x:a*i.x+l*o.x,y:a*i.y+l*o.y},c=bt.abcratio(s,e);return{A:{x:r.x+(r.x-u.x)/c,y:r.y+(r.y-u.y)/c},B:r,C:u,S:i,E:o}}getABC(e,i){i=i||this.get(e);let r=this.points[0],o=this.points[this.order];return mi.getABC(this.order,r,i,o,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let i=0,r,o;i<e;i++)o=i/(e-1),r=this.compute(o),r.t=o,this._lut.push(r);return this._lut}on(e,i){i=i||5;const r=this.getLUT(),o=[];for(let s=0,a,l=0;s<r.length;s++)a=r[s],bt.dist(a,e)<i&&(o.push(a),l+=s/r.length);return o.length?t/=o.length:!1}project(e){const i=this.getLUT(),r=i.length-1,o=bt.closest(i,e),s=o.mpos,a=(s-1)/r,l=(s+1)/r,u=.1/r;let c=o.mdist,d=a,f=d,h;c+=1;for(let p;d<l+u;d+=u)h=this.compute(d),p=bt.dist(e,h),p<c&&(c=p,f=d);return f=f<0?0:f>1?1:f,h=this.compute(f),h.t=f,h.d=c,h}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?bt.computeWithRatios(e,this.points,this.ratios,this._3d):bt.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,i=[e[0]],r=e.length;for(let o=1,s,a;o<r;o++)s=e[o],a=e[o-1],i[o]={x:(r-o)/r*s.x+o/r*a.x,y:(r-o)/r*s.y+o/r*a.y};return i[r]=e[r-1],new mi(i)}derivative(e){return bt.compute(e,this.dpoints[0],this._3d)}dderivative(e){return bt.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new mi(bt.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return bt.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return bt.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const i=this.derivative(e),r=ym(i.x*i.x+i.y*i.y);return{t:e,x:-i.y/r,y:i.x/r}}__normal3(e){const i=this.derivative(e),r=this.derivative(e+.01),o=ym(i.x*i.x+i.y*i.y+i.z*i.z),s=ym(r.x*r.x+r.y*r.y+r.z*r.z);i.x/=o,i.y/=o,i.z/=o,r.x/=s,r.y/=s,r.z/=s;const a={x:r.y*i.z-r.z*i.y,y:r.z*i.x-r.x*i.z,z:r.x*i.y-r.y*i.x},l=ym(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const u=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:e,x:u[0]*i.x+u[1]*i.y+u[2]*i.z,y:u[3]*i.x+u[4]*i.y+u[5]*i.z,z:u[6]*i.x+u[7]*i.y+u[8]*i.z}}hull(e){let i=this.points,r=[],o=[],s=0;for(o[s++]=i[0],o[s++]=i[1],o[s++]=i[2],this.order===3&&(o[s++]=i[3]);i.length>1;){r=[];for(let a=0,l,u=i.length-1;a<u;a++)l=bt.lerp(e,i[a],i[a+1]),o[s++]=l,r.push(l);i=r}return o}split(e,i){if(e===0&&i)return this.split(i).left;if(i===1)return this.split(e).right;const r=this.hull(e),o={left:this.order===2?new mi([r[0],r[3],r[5]]):new mi([r[0],r[4],r[7],r[9]]),right:this.order===2?new mi([r[5],r[4],r[2]]):new mi([r[9],r[8],r[6],r[3]]),span:r};return o.left._t1=bt.map(0,0,1,this._t1,this._t2),o.left._t2=bt.map(e,0,1,this._t1,this._t2),o.right._t1=bt.map(e,0,1,this._t1,this._t2),o.right._t2=bt.map(1,0,1,this._t1,this._t2),i?(i=bt.map(i,e,1,0,1),o.right.split(i).left):o}extrema(){const e={};let i=[];return this.dims.forEach((function(r){let o=function(a){return a[r]},s=this.dpoints[0].map(o);e[r]=bt.droots(s),this.order===3&&(s=this.dpoints[1].map(o),e[r]=e[r].concat(bt.droots(s))),e[r]=e[r].filter(function(a){return a>=0&&a<=1}),i=i.concat(e[r].sort(bt.numberSort))}).bind(this)),e.values=i.sort(bt.numberSort).filter(function(r,o){return i.indexOf(r)===o}),e}bbox(){const e=this.extrema(),i={};return this.dims.forEach((function(r){i[r]=bt.getminmax(this,r,e[r])}).bind(this)),i}overlaps(e){const i=this.bbox(),r=e.bbox();return bt.bboxoverlap(i,r)}offset(e,i){if(typeof i<"u"){const r=this.get(e),o=this.normal(e),s={c:r,n:o,x:r.x+o.x*i,y:r.y+o.y*i};return this._3d&&(s.z=r.z+o.z*i),s}if(this._linear){const r=this.normal(0),o=this.points.map(function(s){const a={x:s.x+e*r.x,y:s.y+e*r.y};return s.z&&r.z&&(a.z=s.z+e*r.z),a});return[new mi(o)]}return this.reduce().map(function(r){return r._linear?r.offset(e)[0]:r.scale(e)})}simple(){if(this.order===3){const o=bt.angle(this.points[0],this.points[3],this.points[1]),s=bt.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&s<0||o<0&&s>0)return!1}const e=this.normal(0),i=this.normal(1);let r=e.x*i.x+e.y*i.y;return this._3d&&(r+=e.z*i.z),vm(nRe(r))<iRe/3}reduce(){let e,i=0,r=0,o=.01,s,a=[],l=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),i=u[0],e=1;e<u.length;e++)r=u[e],s=this.split(i,r),s._t1=i,s._t2=r,a.push(s),i=r;return a.forEach(function(c){for(i=0,r=0;r<=1;)for(r=i+o;r<=1+o;r+=o)if(s=c.split(i,r),!s.simple()){if(r-=o,vm(i-r)<o)return[];s=c.split(i,r),s._t1=bt.map(i,0,1,c._t1,c._t2),s._t2=bt.map(r,0,1,c._t1,c._t2),l.push(s),i=r;break}i<1&&(s=c.split(i,1),s._t1=bt.map(i,0,1,c._t1,c._t2),s._t2=c._t2,l.push(s))}),l}translate(e,i,r){r=typeof r=="number"?r:i;const o=this.order;let s=this.points.map((a,l)=>(1-l/o)*i+l/o*r);return new mi(this.points.map((a,l)=>({x:a.x+e.x*s[l],y:a.y+e.y*s[l]})))}scale(e){const i=this.order;let r=!1;if(typeof e=="function"&&(r=e),r&&i===2)return this.raise().scale(r);const o=this.clockwise,s=this.points;if(this._linear)return this.translate(this.normal(0),r?r(0):e,r?r(1):e);const a=r?r(0):e,l=r?r(1):e,u=[this.offset(0,10),this.offset(1,10)],c=[],d=bt.lli4(u[0],u[0].c,u[1],u[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(f){const h=c[f*i]=bt.copy(s[f*i]);h.x+=(f?l:a)*u[f].n.x,h.y+=(f?l:a)*u[f].n.y}),r?([0,1].forEach(function(f){if(!(i===2&&f)){var h=s[f+1],p={x:h.x-d.x,y:h.y-d.y},v=r?r((f+1)/i):e;r&&!o&&(v=-v);var b=ym(p.x*p.x+p.y*p.y);p.x/=b,p.y/=b,c[f+1]={x:h.x+v*p.x,y:h.y+v*p.y}}}),new mi(c)):([0,1].forEach(f=>{if(i===2&&f)return;const h=c[f*i],p=this.derivative(f),v={x:h.x+p.x,y:h.y+p.y};c[f+1]=bt.lli4(h,v,d,s[f+1])}),new mi(c))}outline(e,i,r,o){if(i=i===void 0?e:i,this._linear){const T=this.normal(0),A=this.points[0],C=this.points[this.points.length-1];let R,E,P;r===void 0&&(r=e,o=i),R={x:A.x+T.x*e,y:A.y+T.y*e},P={x:C.x+T.x*r,y:C.y+T.y*r},E={x:(R.x+P.x)/2,y:(R.y+P.y)/2};const N=[R,E,P];R={x:A.x-T.x*i,y:A.y-T.y*i},P={x:C.x-T.x*o,y:C.y-T.y*o},E={x:(R.x+P.x)/2,y:(R.y+P.y)/2};const D=[P,E,R],$=bt.makeline(D[2],N[0]),L=bt.makeline(N[2],D[0]),F=[$,new mi(N),L,new mi(D)];return new _v(F)}const s=this.reduce(),a=s.length,l=[];let u=[],c,d=0,f=this.length();const h=typeof r<"u"&&typeof o<"u";function p(T,A,C,R,E){return function(P){const N=R/C,D=(R+E)/C,$=A-T;return bt.map(P,0,1,T+N*$,T+D*$)}}s.forEach(function(T){const A=T.length();h?(l.push(T.scale(p(e,r,f,d,A))),u.push(T.scale(p(-i,-o,f,d,A)))):(l.push(T.scale(e)),u.push(T.scale(-i))),d+=A}),u=u.map(function(T){return c=T.points,c[3]?T.points=[c[3],c[2],c[1],c[0]]:T.points=[c[2],c[1],c[0]],T}).reverse();const v=l[0].points[0],b=l[a-1].points[l[a-1].points.length-1],y=u[a-1].points[u[a-1].points.length-1],m=u[0].points[0],_=bt.makeline(y,v),S=bt.makeline(b,m),w=[_].concat(l).concat([S]).concat(u);return new _v(w)}outlineshapes(e,i,r){i=i||e;const o=this.outline(e,i).curves,s=[];for(let a=1,l=o.length;a<l/2;a++){const u=bt.makeshape(o[a],o[l-a],r);u.startcap.virtual=a>1,u.endcap.virtual=a<l/2-1,s.push(u)}return s}intersects(e,i){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof mi&&(e=e.reduce()),this.curveintersects(this.reduce(),e,i)):this.selfintersects(i)}lineIntersects(e){const i=XU(e.p1.x,e.p2.x),r=XU(e.p1.y,e.p2.y),o=qU(e.p1.x,e.p2.x),s=qU(e.p1.y,e.p2.y);return bt.roots(this.points,e).filter(a=>{var l=this.get(a);return bt.between(l.x,i,o)&&bt.between(l.y,r,s)})}selfintersects(e){const i=this.reduce(),r=i.length-2,o=[];for(let s=0,a,l,u;s<r;s++)l=i.slice(s,s+1),u=i.slice(s+2),a=this.curveintersects(l,u,e),o.push(...a);return o}curveintersects(e,i,r){const o=[];e.forEach(function(a){i.forEach(function(l){a.overlaps(l)&&o.push({left:a,right:l})})});let s=[];return o.forEach(function(a){const l=bt.pairiteration(a.left,a.right,r);l.length>0&&(s=s.concat(l))}),s}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,i,r,o){const s=(o-r)/4,a=this.get(r+s),l=this.get(o-s),u=bt.dist(e,i),c=bt.dist(e,a),d=bt.dist(e,l);return vm(c-u)+vm(d-u)}_iterate(e,i){let r=0,o=1,s;do{s=0,o=1;let a=this.get(r),l,u,c,d,f=!1,h=!1,p,v=o,b=1;do if(h=f,d=c,v=(r+o)/2,l=this.get(v),u=this.get(o),c=bt.getccenter(a,l,u),c.interval={start:r,end:o},f=this._error(c,a,r,o)<=e,p=h&&!f,p||(b=o),f){if(o>=1){if(c.interval.end=b=1,d=c,o>1){let m={x:c.x+c.r*eRe(c.e),y:c.y+c.r*tRe(c.e)};c.e+=bt.angle({x:c.x,y:c.y},m,this.get(1))}break}o=o+(o-r)/2}else o=v;while(!p&&s++<100);if(s>=100)break;d=d||c,i.push(d),r=b}while(o<1);return i}}function d2(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function rRe(n){if(Array.isArray(n))return n}function oRe(n){if(Array.isArray(n))return d2(n)}function sRe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function aRe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function lRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cRe(n,e){if(n==null)return{};var i,r,o=dRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],e.includes(i)||{}.propertyIsEnumerable.call(n,i)&&(o[i]=n[i])}return o}function dRe(n,e){if(n==null)return{};var i={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;i[r]=n[r]}return i}function fRe(n,e){return rRe(n)||aRe(n,e)||o9(n,e)||lRe()}function hRe(n){return oRe(n)||sRe(n)||o9(n)||uRe()}function pRe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function gRe(n){var e=pRe(n,"string");return typeof e=="symbol"?e:e+""}function o9(n,e){if(n){if(typeof n=="string")return d2(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d2(n,e):void 0}}var mRe=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),s=n.reduce(function(l,u){var c=l,d=u;return o.forEach(function(f,h){var p=f.keyAccessor,v=f.isProp,b;if(v){var y=d,m=y[p],_=cRe(y,[p].map(gRe));b=m,d=_}else b=p(d,h);h+1<o.length?(c.hasOwnProperty(b)||(c[b]={}),c=c[b]):i?(c.hasOwnProperty(b)||(c[b]=[]),c[b].push(d)):c[b]=d}),l},{});i instanceof Function&&function l(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;c===o.length?Object.keys(u).forEach(function(d){return u[d]=i(u[d])}):Object.values(u).forEach(function(d){return l(d,c+1)})}(s);var a=s;return r&&(a=[],function l(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c.length===o.length?a.push({keys:c,vals:u}):Object.entries(u).forEach(function(d){var f=fRe(d,2),h=f[0],p=f[1];return l(p,[].concat(hRe(c),[h]))})}(s),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a};function vRe(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const YU=Symbol("implicit");function bI(){var n=new wU,e=[],i=[],r=YU;function o(s){let a=n.get(s);if(a===void 0){if(r!==YU)return r;n.set(s,a=e.push(s)-1)}return i[a%i.length]}return o.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new wU;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return o},o.range=function(s){return arguments.length?(i=Array.from(s),o):i.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.copy=function(){return bI(e,i).unknown(r)},vRe.apply(o,arguments),o}function yRe(n){for(var e=n.length/6|0,i=new Array(e),r=0;r<e;)i[r]="#"+n.slice(r*6,++r*6);return i}const s9=yRe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function bRe(n,e){e===void 0&&(e={});var i=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",i==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var xRe=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;bRe(xRe);function f2(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function _Re(n){if(Array.isArray(n))return n}function SRe(n){if(Array.isArray(n))return f2(n)}function QU(n,e,i){if(a9())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(n.bind.apply(n,r));return o}function ey(n,e,i){return(e=MRe(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function a9(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!n})()}function wRe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function CRe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function TRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ARe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZU(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function Eh(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ZU(Object(i),!0).forEach(function(r){ey(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ZU(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function Sv(n,e){return _Re(n)||CRe(n,e)||l9(n,e)||TRe()}function Zs(n){return SRe(n)||wRe(n)||l9(n)||ARe()}function ERe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function MRe(n){var e=ERe(n,"string");return typeof e=="symbol"?e:e+""}function h2(n){"@babel/helpers - typeof";return h2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h2(n)}function l9(n,e){if(n){if(typeof n=="string")return f2(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f2(n,e):void 0}}var RRe=bI(s9);function JU(n,e,i){!e||typeof i!="string"||n.filter(function(r){return!r[i]}).forEach(function(r){r[i]=RRe(e(r))})}function PRe(n,e){var i=n.nodes,r=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.nodeFilter,a=s===void 0?function(){return!0}:s,l=o.onLoopError,u=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,c={};i.forEach(function(p){return c[e(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),r.forEach(function(p){var v=p.source,b=p.target,y=w(v),m=w(b);if(!c.hasOwnProperty(y))throw"Missing source node with id: ".concat(y);if(!c.hasOwnProperty(m))throw"Missing target node with id: ".concat(m);var _=c[y],S=c[m];_.out.push(S);function w(T){return h2(T)==="object"?e(T):T}});var d=[];h(Object.values(c));var f=Object.assign.apply(Object,[{}].concat(Zs(Object.entries(c).filter(function(p){var v=Sv(p,2),b=v[1];return!b.skip}).map(function(p){var v=Sv(p,2),b=v[0],y=v[1];return ey({},b,y.depth)}))));return f;function h(p){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=function(){var w=p[m];if(v.indexOf(w)!==-1){var T=[].concat(Zs(v.slice(v.indexOf(w))),[w]).map(function(A){return e(A.data)});return d.some(function(A){return A.length===T.length&&A.every(function(C,R){return C===T[R]})})||(d.push(T),u(T)),1}b>w.depth&&(w.depth=b,h(w.out,[].concat(Zs(v),[w]),b+(w.skip?0:1)))},m=0,_=p.length;m<_;m++)y()}}var IRe=2,Qr=function(e,i){return i.onNeedsRedraw&&i.onNeedsRedraw()},e4=function(e,i){if(!i.isShadow){var r=Nt(i.linkDirectionalParticles);i.graphData.links.forEach(function(o){var s=Math.round(Math.abs(r(o)));s?o.__photons=Zs(Array(s)).map(function(){return{}}):delete o.__photons})}},lS=Pg({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,i){i.engineRunning=!1,e4(e,i)}},dagMode:{onChange:function(e,i){!e&&(i.graphData.nodes||[]).forEach(function(r){return r.fx=r.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Qr},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Qr},nodeColor:{default:"color",triggerUpdate:!1,onChange:Qr},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Qr},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Qr},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Qr},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Qr},linkColor:{default:"color",triggerUpdate:!1,onChange:Qr},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Qr},linkWidth:{default:1,triggerUpdate:!1,onChange:Qr},linkCurvature:{default:0,triggerUpdate:!1,onChange:Qr},linkCanvasObject:{triggerUpdate:!1,onChange:Qr},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Qr},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Qr},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Qr},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Qr},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:e4},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,i){i.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,i){i.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,i){i.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,i,r){return r===void 0?e.forceLayout.force(i):(e.forceLayout.force(i,r),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&i(),o(),!e.isShadow&&s(),!e.isShadow&&a(),r(),this;function i(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function r(){var l=Nt(e.nodeVisibility),u=Nt(e.nodeVal),c=Nt(e.nodeColor),d=Nt(e.nodeCanvasObjectMode),f=e.ctx,h=e.isShadow/e.globalScale,p=e.graphData.nodes.filter(l);f.save(),p.forEach(function(v){var b=d(v);if(e.nodeCanvasObject&&(b==="before"||b==="replace")&&(e.nodeCanvasObject(v,f,e.globalScale),b==="replace")){f.restore();return}var y=Math.sqrt(Math.max(0,u(v)||1))*e.nodeRelSize+h;f.beginPath(),f.arc(v.x,v.y,y,0,2*Math.PI,!1),f.fillStyle=c(v)||"rgba(31, 120, 180, 0.92)",f.fill(),e.nodeCanvasObject&&b==="after"&&e.nodeCanvasObject(v,e.ctx,e.globalScale)}),f.restore()}function o(){var l=Nt(e.linkVisibility),u=Nt(e.linkColor),c=Nt(e.linkWidth),d=Nt(e.linkLineDash),f=Nt(e.linkCurvature),h=Nt(e.linkCanvasObjectMode),p=e.ctx,v=e.isShadow*2,b=e.graphData.links.filter(l);b.forEach(A);var y=[],m=[],_=b;if(e.linkCanvasObject){var S=[],w=[];b.forEach(function(C){return({before:y,after:m,replace:S}[h(C)]||w).push(C)}),_=[].concat(Zs(y),m,w),y=y.concat(S)}p.save(),y.forEach(function(C){return e.linkCanvasObject(C,p,e.globalScale)}),p.restore();var T=mRe(_,[u,c,d]);p.save(),Object.entries(T).forEach(function(C){var R=Sv(C,2),E=R[0],P=R[1],N=!E||E==="undefined"?"rgba(0,0,0,0.15)":E;Object.entries(P).forEach(function(D){var $=Sv(D,2),L=$[0],F=$[1],U=(L||1)/e.globalScale+v;Object.entries(F).forEach(function(k){var H=Sv(k,2);H[0];var z=H[1],Q=d(z[0]);p.beginPath(),z.forEach(function(Z){var ie=Z.source,we=Z.target;if(!(!ie||!we||!ie.hasOwnProperty("x")||!we.hasOwnProperty("x"))){p.moveTo(ie.x,ie.y);var J=Z.__controlPoints;J?p[J.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,Zs(J).concat([we.x,we.y])):p.lineTo(we.x,we.y)}}),p.strokeStyle=N,p.lineWidth=U,p.setLineDash(Q||[]),p.stroke()})})}),p.restore(),p.save(),m.forEach(function(C){return e.linkCanvasObject(C,p,e.globalScale)}),p.restore();function A(C){var R=f(C);if(!R){C.__controlPoints=null;return}var E=C.source,P=C.target;if(!(!E||!P||!E.hasOwnProperty("x")||!P.hasOwnProperty("x"))){var N=Math.sqrt(Math.pow(P.x-E.x,2)+Math.pow(P.y-E.y,2));if(N>0){var D=Math.atan2(P.y-E.y,P.x-E.x),$=N*R,L={x:(E.x+P.x)/2+$*Math.cos(D-Math.PI/2),y:(E.y+P.y)/2+$*Math.sin(D-Math.PI/2)};C.__controlPoints=[L.x,L.y]}else{var F=R*70;C.__controlPoints=[P.x,P.y-F,P.x+F,P.y]}}}}function s(){var l=1.6,u=.2,c=Nt(e.linkDirectionalArrowLength),d=Nt(e.linkDirectionalArrowRelPos),f=Nt(e.linkVisibility),h=Nt(e.linkDirectionalArrowColor||e.linkColor),p=Nt(e.nodeVal),v=e.ctx;v.save(),e.graphData.links.filter(f).forEach(function(b){var y=c(b);if(!(!y||y<0)){var m=b.source,_=b.target;if(!(!m||!_||!m.hasOwnProperty("x")||!_.hasOwnProperty("x"))){var S=Math.sqrt(Math.max(0,p(m)||1))*e.nodeRelSize,w=Math.sqrt(Math.max(0,p(_)||1))*e.nodeRelSize,T=Math.min(1,Math.max(0,d(b))),A=h(b)||"rgba(0,0,0,0.28)",C=y/l/2,R=b.__controlPoints&&QU(mi,[m.x,m.y].concat(Zs(b.__controlPoints),[_.x,_.y])),E=R?function(U){return R.get(U)}:function(U){return{x:m.x+(_.x-m.x)*U||0,y:m.y+(_.y-m.y)*U||0}},P=R?R.length():Math.sqrt(Math.pow(_.x-m.x,2)+Math.pow(_.y-m.y,2)),N=S+y+(P-S-w-y)*T,D=E(N/P),$=E((N-y)/P),L=E((N-y*(1-u))/P),F=Math.atan2(D.y-$.y,D.x-$.x)-Math.PI/2;v.beginPath(),v.moveTo(D.x,D.y),v.lineTo($.x+C*Math.cos(F),$.y+C*Math.sin(F)),v.lineTo(L.x,L.y),v.lineTo($.x-C*Math.cos(F),$.y-C*Math.sin(F)),v.fillStyle=A,v.fill()}}}),v.restore()}function a(){var l=Nt(e.linkDirectionalParticles),u=Nt(e.linkDirectionalParticleSpeed),c=Nt(e.linkDirectionalParticleWidth),d=Nt(e.linkVisibility),f=Nt(e.linkDirectionalParticleColor||e.linkColor),h=e.ctx;h.save(),e.graphData.links.filter(d).forEach(function(p){var v=l(p);if(!(!p.hasOwnProperty("__photons")||!p.__photons.length)){var b=p.source,y=p.target;if(!(!b||!y||!b.hasOwnProperty("x")||!y.hasOwnProperty("x"))){var m=u(p),_=p.__photons||[],S=Math.max(0,c(p)/2)/Math.sqrt(e.globalScale),w=f(p)||"rgba(0,0,0,0.28)";h.fillStyle=w;var T=p.__controlPoints?QU(mi,[b.x,b.y].concat(Zs(p.__controlPoints),[y.x,y.y])):null,A=0,C=!1;_.forEach(function(R){var E=!!R.__singleHop;if(R.hasOwnProperty("__progressRatio")||(R.__progressRatio=E?0:A/v),!E&&A++,R.__progressRatio+=m,R.__progressRatio>=1)if(!E)R.__progressRatio=R.__progressRatio%1;else{C=!0;return}var P=R.__progressRatio,N=T?T.get(P):{x:b.x+(y.x-b.x)*P||0,y:b.y+(y.y-b.y)*P||0};h.beginPath(),h.arc(N.x,N.y,S,0,2*Math.PI,!1),h.fill()}),C&&(p.__photons=p.__photons.filter(function(R){return!R.__singleHop||R.__progressRatio<=1}))}}}),h.restore()}},emitParticle:function(e,i){return i&&(!i.__photons&&(i.__photons=[]),i.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:t9().force("link",e9()).force("charge",n9()).force("center",KW()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,i){i.ctx=e},update:function(e,i){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&JU(e.graphData.nodes,Nt(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&JU(e.graphData.links,Nt(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(h){h.source=h[e.linkSource],h.target=h[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var r=e.forceLayout.force("link");r&&r.id(function(h){return h[e.nodeId]}).links(e.graphData.links);var o=e.dagMode&&PRe(e.graphData,function(h){return h[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),s=Math.max.apply(Math,Zs(Object.values(o||[]))),a=e.dagLevelDistance||e.graphData.nodes.length/(s||1)*IRe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(i.dagMode)){var l=["lr","rl"].includes(i.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(h){return delete h[l]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var u=["rl","bu"].includes(e.dagMode),c=function(p){return(o[p[e.nodeId]]-s/2)*a*(u?-1:1)},d=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(h){return h[d]=c(h)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?i9(function(h){var p=o[h[e.nodeId]]||-1;return(e.dagMode==="radialin"?s-p:p)*a}).strength(function(h){return e.dagNodeFilter(h)?1:0}):null);for(var f=0;f<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);f++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function u9(n,e){var i=n instanceof Array?n:[n],r=new e;return r._destructor&&r._destructor(),{linkProp:function(s){return{default:r[s](),onChange:function(l,u){i.forEach(function(c){return u[c][s](l)})},triggerUpdate:!1}},linkMethod:function(s){return function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];var d=[];return i.forEach(function(f){var h=a[f],p=h[s].apply(h,u);p!==h&&d.push(p)}),d.length?d[0]:this}}}}var NRe=800,ORe=4,c9=u9("forceGraph",lS),DRe=u9(["forceGraph","shadowGraph"],lS),LRe=Object.assign.apply(Object,Zs(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return ey({},n,c9.linkProp(n))})).concat(Zs(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return ey({},n,DRe.linkProp(n))})))),BRe=Object.assign.apply(Object,Zs(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return ey({},n,c9.linkMethod(n))})));function NT(n){if(n.canvas){var e=n.canvas.width,i=n.canvas.height;e===300&&i===150&&(e=i=0);var r=window.devicePixelRatio;e/=r,i/=r,[n.canvas,n.shadowCanvas].forEach(function(s){s.style.width="".concat(n.width,"px"),s.style.height="".concat(n.height,"px"),s.width=n.width*r,s.height=n.height*r,!e&&!i&&s.getContext("2d").scale(r,r)});var o=tl(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/o,(n.height-i)/2/o),n.needsRedraw=!0}}function d9(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function t4(n,e,i){n.save(),d9(n),n.clearRect(0,0,e,i),n.restore()}var FRe=Pg({props:Eh({width:{default:window.innerWidth,onChange:function(e,i){return NT(i)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,i){return NT(i)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,i){[e.nodes,e.links].every(function(o){return(o||[]).every(function(s){return!s.hasOwnProperty("__indexColor")})})&&i.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(r),i.forceGraph.graphData(e),i.shadowGraph.graphData(e);function r(o){var s=o.type,a=o.objs;a.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var u=i.colorTracker.lookup(l.__indexColor);return!u||!u.hasOwnProperty("d")||u.d!==l}).forEach(function(l){l.__indexColor=i.colorTracker.register({type:s,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,i){i.canvas&&e&&(i.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,i){i.shadowGraph.nodeCanvasObject(e?function(r,o,s){return e(r,r.__indexColor,o,s)}:null),i.flushShadowCanvas&&i.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,i){i.shadowGraph.linkCanvasObject(e?function(r,o,s){return e(r,r.__indexColor,o,s)}:null),i.flushShadowCanvas&&i.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,i){i.zoom.scaleExtent([e,i.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,i){i.zoom.scaleExtent([i.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,i){i.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},LRe),aliases:{stopAnimation:"pauseAnimation"},methods:Eh({graph2ScreenCoords:function(e,i,r){var o=tl(e.canvas);return{x:i*o.k+o.x,y:r*o.k+o.y}},screen2GraphCoords:function(e,i,r){var o=tl(e.canvas);return{x:(i-o.x)/o.k,y:(r-o.y)/o.k}},centerAt:function(e,i,r,o){if(!e.canvas)return null;if(i!==void 0||r!==void 0){var s=Object.assign({},i!==void 0?{x:i}:{},r!==void 0?{y:r}:{});return o?e.tweenGroup.add(new rS(a()).to(s,o).easing(Nu.Quadratic.Out).onUpdate(l).start()):l(s),this}return a();function a(){var u=tl(e.canvas);return{x:(e.width/2-u.x)/u.k,y:(e.height/2-u.y)/u.k}}function l(u){var c=u.x,d=u.y;e.zoom.translateTo(e.zoom.__baseElem,c===void 0?a().x:c,d===void 0?a().y:d),e.needsRedraw=!0}},zoom:function(e,i,r){if(!e.canvas)return null;if(i!==void 0)return r?e.tweenGroup.add(new rS({k:o()}).to({k:i},r).easing(Nu.Quadratic.Out).onUpdate(function(a){var l=a.k;return s(l)}).start()):s(i),this;return o();function o(){return tl(e.canvas).k}function s(a){e.zoom.scaleTo(e.zoom.__baseElem,a),e.needsRedraw=!0}},zoomToFit:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];var l=this.getGraphBbox.apply(this,s);if(l){var u={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},c=Math.max(1e-12,Math.min(1e12,(e.width-r*2)/(l.x[1]-l.x[0]),(e.height-r*2)/(l.y[1]-l.y[0])));this.centerAt(u.x,u.y,i),this.zoom(c,i)}return this},getGraphBbox:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=Nt(e.nodeVal),o=function(l){return Math.sqrt(Math.max(0,r(l)||1))*e.nodeRelSize},s=e.graphData.nodes.filter(i).map(function(a){return{x:a.x,y:a.y,r:o(a)}});return s.length?{x:[i2(s,function(a){return a.x-a.r}),n2(s,function(a){return a.x+a.r})],y:[i2(s,function(a){return a.y-a.r}),n2(s,function(a){return a.y+a.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},BRe),stateInit:function(){return{lastSetZoom:1,zoom:REe(),forceGraph:new lS,shadowGraph:new lS().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new AMe,tweenGroup:new cI}},init:function(e,i){var r=this;e.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",e.appendChild(o),i.canvas=document.createElement("canvas"),i.backgroundColor&&(i.canvas.style.background=i.backgroundColor),o.appendChild(i.canvas),i.shadowCanvas=document.createElement("canvas");var s=i.canvas.getContext("2d"),a=i.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},u=function(){var f=null,h=window.devicePixelRatio,p=l.x>0&&l.y>0?a.getImageData(l.x*h,l.y*h,1,1):null;return p&&(f=i.colorTracker.lookup(p.data)),f};Qs(i.canvas).call(UTe().subject(function(){if(!i.enableNodeDrag)return null;var d=u();return d&&d.type==="Node"?d.d:null}).on("start",function(d){var f=d.subject;f.__initialDragPos={x:f.x,y:f.y,fx:f.fx,fy:f.fy},d.active||(f.fx=f.x,f.fy=f.y),i.canvas.classList.add("grabbable")}).on("drag",function(d){var f=d.subject,h=f.__initialDragPos,p=d,v=tl(i.canvas).k,b={x:h.x+(p.x-h.x)/v-f.x,y:h.y+(p.y-h.y)/v-f.y};["x","y"].forEach(function(y){return f["f".concat(y)]=f[y]=h[y]+(p[y]-h[y])/v}),i.forceGraph.d3AlphaTarget(.3).resetCountdown(),i.isPointerDragging=!0,f.__dragged=!0,i.onNodeDrag(f,b)}).on("end",function(d){var f=d.subject,h=f.__initialDragPos,p={x:f.x-h.x,y:f.y-h.y};h.fx===void 0&&(f.fx=void 0),h.fy===void 0&&(f.fy=void 0),delete f.__initialDragPos,i.forceGraph.d3AlphaTarget()&&i.forceGraph.d3AlphaTarget(0).resetCountdown(),i.canvas.classList.remove("grabbable"),i.isPointerDragging=!1,f.__dragged&&(delete f.__dragged,i.onNodeDragEnd(f,p))})),i.zoom(i.zoom.__baseElem=Qs(i.canvas)),i.zoom.__baseElem.on("dblclick.zoom",null),i.zoom.filter(function(d){return!d.button&&i.enableZoomPanInteraction&&(d.type!=="wheel"||Nt(i.enableZoomInteraction)(d))&&(d.type==="wheel"||Nt(i.enablePanInteraction)(d))}).on("zoom",function(d){var f=d.transform;[s,a].forEach(function(h){d9(h),h.translate(f.x,f.y),h.scale(f.k,f.k)}),i.onZoom&&i.onZoom(Eh(Eh({},f),r.centerAt())),i.needsRedraw=!0}).on("end",function(d){return i.onZoomEnd&&i.onZoomEnd(Eh(Eh({},d.transform),r.centerAt()))}),NT(i),i.forceGraph.onNeedsRedraw(function(){return i.needsRedraw=!0}).onFinishUpdate(function(){tl(i.canvas).k===i.lastSetZoom&&i.graphData.nodes.length&&(i.zoom.scaleTo(i.zoom.__baseElem,i.lastSetZoom=ORe/Math.cbrt(i.graphData.nodes.length)),i.needsRedraw=!0)}),i.tooltip=new jW(o),["pointermove","pointerdown"].forEach(function(d){return o.addEventListener(d,function(f){d==="pointerdown"&&(i.isPointerPressed=!0,i.pointerDownEvent=f),!i.isPointerDragging&&f.type==="pointermove"&&i.onBackgroundClick&&(f.pressure>0||i.isPointerPressed)&&(f.pointerType!=="touch"||f.movementX===void 0||[f.movementX,f.movementY].some(function(v){return Math.abs(v)>1}))&&(i.isPointerDragging=!0);var h=p(o);l.x=f.pageX-h.left,l.y=f.pageY-h.top;function p(v){var b=v.getBoundingClientRect(),y=window.pageXOffset||document.documentElement.scrollLeft,m=window.pageYOffset||document.documentElement.scrollTop;return{top:b.top+m,left:b.left+y}}},{passive:!0})}),o.addEventListener("pointerup",function(d){if(i.isPointerPressed=!1,i.isPointerDragging){i.isPointerDragging=!1;return}var f=[d,i.pointerDownEvent];requestAnimationFrame(function(){if(d.button===0)if(i.hoverObj){var h=i["on".concat(i.hoverObj.type,"Click")];h&&h.apply(void 0,[i.hoverObj.d].concat(f))}else i.onBackgroundClick&&i.onBackgroundClick.apply(i,f);if(d.button===2)if(i.hoverObj){var p=i["on".concat(i.hoverObj.type,"RightClick")];p&&p.apply(void 0,[i.hoverObj.d].concat(f))}else i.onBackgroundRightClick&&i.onBackgroundRightClick.apply(i,f)})},{passive:!0}),o.addEventListener("contextmenu",function(d){return!i.onBackgroundRightClick&&!i.onNodeRightClick&&!i.onLinkRightClick?!0:(d.preventDefault(),!1)}),i.forceGraph(s),i.shadowGraph(a);var c=Kfe(function(){t4(a,i.width,i.height),i.shadowGraph.linkWidth(function(f){return Nt(i.linkWidth)(f)+i.linkHoverPrecision});var d=tl(i.canvas);i.shadowGraph.globalScale(d.k).tickFrame()},NRe);i.flushShadowCanvas=c.flush,(this._animationCycle=function d(){var f=!i.autoPauseRedraw||!!i.needsRedraw||i.forceGraph.isEngineRunning()||i.graphData.links.some(function(S){return S.__photons&&S.__photons.length});if(i.needsRedraw=!1,i.enablePointerInteraction){var h=i.isPointerDragging?null:u();if(h!==i.hoverObj){var p=i.hoverObj,v=p?p.type:null,b=h?h.type:null;if(v&&v!==b){var y=i["on".concat(v,"Hover")];y&&y(null,p.d)}if(b){var m=i["on".concat(b,"Hover")];m&&m(h.d,v===b?p.d:null)}i.tooltip.content(h&&Nt(i["".concat(h.type.toLowerCase(),"Label")])(h.d)||null),i.canvas.classList[h&&i["on".concat(b,"Click")]||!h&&i.onBackgroundClick?"add":"remove"]("clickable"),i.hoverObj=h}f&&c()}if(f){t4(s,i.width,i.height);var _=tl(i.canvas).k;i.onRenderFramePre&&i.onRenderFramePre(s,_),i.forceGraph.globalScale(_).tickFrame(),i.onRenderFramePost&&i.onRenderFramePost(s,_)}i.tweenGroup.update(),i.animationFrameRequestId=requestAnimationFrame(d)})()},update:function(e){}});const $Re=We({__name:"graph-2d",props:["graphData","showHighlight","showLabels","showLinkLabels"],emits:["selectNode","selectLink"],setup(n,{emit:e}){const i=n,r=e,o=He();let s,a,l;Jt(()=>{s=new FRe(o.value).nodeAutoColorBy("type").nodeId("id").nodeLabel("id").autoPauseRedraw(!0).onNodeClick(m=>{s.centerAt(m.x,m.y,1e3),s.zoom(8,1e3),setTimeout(()=>{r("selectNode",m)},1200)}).onLinkClick(m=>{const _=m.source,S=m.target;if(_&&S&&_.x&&S.x&&_.y&&S.y){const w=(_.x+S.x)/2,T=(_.y+S.y)/2;s.centerAt(w,T,1e3),s.zoom(8,1e3),setTimeout(()=>{r("selectLink",m)},1200)}else r("selectLink",m)}),f(),c()}),Rn(()=>{d()});let u=!1;function c(){i.graphData&&s&&!u&&(d(),u=!0,s.resumeAnimation(),s.linkAutoColorBy(m=>{var _;return(_=i.graphData.nodes.find(S=>S.id===m.source))==null?void 0:_.type}),s.graphData(i.graphData),setTimeout(()=>{u=!1},1e3))}function d(){s&&(s.pauseAnimation(),s.graphData({nodes:[],links:[]}))}function f(){s&&(s.linkDirectionalParticles(i.showHighlight?4:0),s.linkDirectionalParticleWidth(m=>i.showHighlight&&l&&l.has(m)?4:0),s.nodeCanvasObjectMode(m=>i.showHighlight&&a&&a.has(m)?"before":i.showLabels?"after":void 0),s.nodeCanvasObject((m,_)=>{i.showHighlight&&a&&a.has(m)&&b(m,_),i.showLabels&&y(m,_)}),s.linkCanvasObjectMode(()=>i.showLinkLabels?"after":void 0),s.linkCanvasObject((m,_)=>{if(i.showLinkLabels){const S=m.type||"",w=4;_.font=`${w}px Sans-Serif`,_.fillStyle="darkgray";const T=typeof m.source!="string"?m.source:null,A=typeof m.target!="string"?m.target:null;if(T&&A&&T.x!==void 0&&A.x!==void 0&&T.y!==void 0&&A.y!==void 0){const C=_.measureText(S).width,R=(T.x+A.x)/2-C/2,E=(T.y+A.y)/2;_.fillText(S,R,E)}}}),i.showHighlight?(s.onNodeHover(p),s.onLinkHover(h)):(s.onNodeHover(void 0),s.onLinkHover(void 0)))}const h=m=>{const _=new Set,S=new Set;m&&(S.add(m),typeof m.source!="string"&&_.add(m.source),typeof m.target!="string"&&_.add(m.target)),a=_,l=S},p=m=>{var w,T;const _=new Set,S=new Set;m&&(_.add(m),(w=m.neighbors)==null||w.forEach(A=>_.add(A)),(T=m.links)==null||T.forEach(A=>S.add(i.graphData.links.find(C=>C.id===A.id)))),a=_,l=S,v=m};let v;const b=(m,_)=>{_.beginPath(),_.arc(m.x,m.y,5*1.4,0,2*Math.PI,!1),a&&a.has(m)?(_.fillStyle=m===v?"red":"orange",_.globalAlpha=1):(_.fillStyle="gray",_.globalAlpha=.3),_.fill(),_.globalAlpha=1},y=(m,_)=>{if(!i.showLabels)return;const S=m.name||"",w=4,T=2;_.font=`${w}px Sans-Serif`;const A="rgba(255, 255, 255, 0.6)",R=_.measureText(S).width+T*2,E=w+T*2;m.x&&m.y&&(_.fillStyle=A,_.beginPath(),_.moveTo(m.x-R/2+5,m.y-E/2),_.lineTo(m.x+R/2-5,m.y-E/2),_.quadraticCurveTo(m.x+R/2,m.y-E/2,m.x+R/2,m.y-E/2+5),_.lineTo(m.x+R/2,m.y+E/2-5),_.quadraticCurveTo(m.x+R/2,m.y+E/2,m.x+R/2-5,m.y+E/2),_.lineTo(m.x-R/2+5,m.y+E/2),_.quadraticCurveTo(m.x-R/2,m.y+E/2,m.x-R/2,m.y+E/2-5),_.lineTo(m.x-R/2,m.y-E/2+5),_.quadraticCurveTo(m.x-R/2,m.y-E/2,m.x-R/2+5,m.y-E/2),_.closePath(),_.fill(),_.fillStyle=m.color,_.textAlign="center",_.textBaseline="middle",_.fillText(S,m.x,m.y))};return ut(()=>i.showHighlight,()=>{f()},{immediate:!0,deep:!0}),ut(()=>i.showLabels,()=>{f()},{immediate:!0,deep:!0}),ut(()=>i.showLinkLabels,()=>{f()},{immediate:!0,deep:!0}),ut(()=>i.graphData,()=>{c()},{immediate:!0,deep:!1}),(m,_)=>(ti(),$i("div",{id:"graph-2d",ref_key:"stage",ref:o},null,512))}}),Mw=(n,e)=>{const i=n.__vccOpts||n;for(const[r,o]of e)i[r]=o;return i},URe=Mw($Re,[["__scopeId","data-v-6422e1b5"]]);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ig="172",Dr={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Au={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},f9=0,p2=1,h9=2,kRe=0,xI=1,zRe=2,xs=3,Ua=0,Ni=1,Ao=2,Jo=0,ra=1,tg=2,ng=3,ig=4,_I=5,Cs=100,SI=101,wI=102,p9=103,g9=104,CI=200,TI=201,AI=202,EI=203,ty=204,ny=205,MI=206,RI=207,PI=208,II=209,NI=210,HRe=211,GRe=212,VRe=213,WRe=214,iy=0,ry=1,oy=2,nd=3,sy=4,ay=5,ly=6,uy=7,Xy=0,m9=1,v9=2,es=0,y9=1,b9=2,x9=3,_9=4,jRe=5,S9=6,w9=7,OI=300,ca=301,da=302,id=303,rd=304,zf=306,Hf=1e3,ll=1001,Gf=1002,_i=1003,uS=1004,ul=1005,_r=1006,Op=1007,Xo=1008,ao=1009,Cf=1010,Tf=1011,Oa=1012,Nr=1013,Ui=1014,er=1015,Ro=1016,Rw=1017,Pw=1018,Cl=1020,Iw=35902,DI=1021,qy=1022,Gr=1023,LI=1024,BI=1025,gl=1026,Tl=1027,Yy=1028,Ng=1029,Vf=1030,Og=1031,KRe=1032,Dg=1033,Af=33776,qc=33777,Yc=33778,Qc=33779,cy=35840,dy=35841,fy=35842,hy=35843,py=36196,rg=37492,og=37496,sg=37808,ag=37809,lg=37810,ug=37811,cg=37812,dg=37813,fg=37814,hg=37815,pg=37816,gg=37817,mg=37818,vg=37819,yg=37820,bg=37821,Ef=36492,g2=36494,m2=36495,FI=36283,gy=36284,my=36285,vy=36286,XRe=3200,qRe=3201,Vu=0,C9=1,Ts="",Ft="srgb",oa="srgb-linear",cS="linear",Yn="srgb",YRe=0,jd=7680,QRe=7681,ZRe=7682,JRe=7683,ePe=34055,tPe=34056,nPe=5386,iPe=512,rPe=513,oPe=514,sPe=515,aPe=516,lPe=517,uPe=518,v2=519,$I=512,Nw=513,UI=514,Ow=515,kI=516,zI=517,HI=518,GI=519,dS=35044,cp=35048,n4="300 es",qo=2e3,od=2001;class Ju{addEventListener(e,i){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(i)===-1&&r[e].push(i)}hasEventListener(e,i){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(i)!==-1}removeEventListener(e,i){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const s=o.indexOf(i);s!==-1&&o.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const o=r.slice(0);for(let s=0,a=o.length;s<a;s++)o[s].call(this,e);e.target=null}}}const Zr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let i4=1234567;const wv=Math.PI/180,xg=180/Math.PI;function Du(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Zr[n&255]+Zr[n>>8&255]+Zr[n>>16&255]+Zr[n>>24&255]+"-"+Zr[e&255]+Zr[e>>8&255]+"-"+Zr[e>>16&15|64]+Zr[e>>24&255]+"-"+Zr[i&63|128]+Zr[i>>8&255]+"-"+Zr[i>>16&255]+Zr[i>>24&255]+Zr[r&255]+Zr[r>>8&255]+Zr[r>>16&255]+Zr[r>>24&255]).toLowerCase()}function gn(n,e,i){return Math.max(e,Math.min(i,n))}function VI(n,e){return(n%e+e)%e}function cPe(n,e,i,r,o){return r+(n-e)*(o-r)/(i-e)}function dPe(n,e,i){return n!==e?(i-n)/(e-n):0}function Cv(n,e,i){return(1-i)*n+i*e}function fPe(n,e,i,r){return Cv(n,e,1-Math.exp(-i*r))}function hPe(n,e=1){return e-Math.abs(VI(n,e*2)-e)}function pPe(n,e,i){return n<=e?0:n>=i?1:(n=(n-e)/(i-e),n*n*(3-2*n))}function gPe(n,e,i){return n<=e?0:n>=i?1:(n=(n-e)/(i-e),n*n*n*(n*(n*6-15)+10))}function mPe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function vPe(n,e){return n+Math.random()*(e-n)}function yPe(n){return n*(.5-Math.random())}function bPe(n){n!==void 0&&(i4=n);let e=i4+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function xPe(n){return n*wv}function _Pe(n){return n*xg}function SPe(n){return(n&n-1)===0&&n!==0}function wPe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function CPe(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function TPe(n,e,i,r,o){const s=Math.cos,a=Math.sin,l=s(i/2),u=a(i/2),c=s((e+r)/2),d=a((e+r)/2),f=s((e-r)/2),h=a((e-r)/2),p=s((r-e)/2),v=a((r-e)/2);switch(o){case"XYX":n.set(l*d,u*f,u*h,l*c);break;case"YZY":n.set(u*h,l*d,u*f,l*c);break;case"ZXZ":n.set(u*f,u*h,l*d,l*c);break;case"XZX":n.set(l*d,u*v,u*p,l*c);break;case"YXY":n.set(u*p,l*d,u*v,l*c);break;case"ZYZ":n.set(u*v,u*p,l*d,l*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}function Eo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function pn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const fS={DEG2RAD:wv,RAD2DEG:xg,generateUUID:Du,clamp:gn,euclideanModulo:VI,mapLinear:cPe,inverseLerp:dPe,lerp:Cv,damp:fPe,pingpong:hPe,smoothstep:pPe,smootherstep:gPe,randInt:mPe,randFloat:vPe,randFloatSpread:yPe,seededRandom:bPe,degToRad:xPe,radToDeg:_Pe,isPowerOfTwo:SPe,ceilPowerOfTwo:wPe,floorPowerOfTwo:CPe,setQuaternionFromProperEuler:TPe,normalize:pn,denormalize:Eo};class dt{constructor(e=0,i=0){dt.prototype.isVector2=!0,this.x=e,this.y=i}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,i){return this.x=e,this.y=i,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const i=this.x,r=this.y,o=e.elements;return this.x=o[0]*i+o[3]*r+o[6],this.y=o[1]*i+o[4]*r+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,i){return this.x=gn(this.x,e.x,i.x),this.y=gn(this.y,e.y,i.y),this}clampScalar(e,i){return this.x=gn(this.x,e,i),this.y=gn(this.y,e,i),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(gn(r,e,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const r=this.dot(e)/i;return Math.acos(gn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,r=this.y-e.y;return i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this}rotateAround(e,i){const r=Math.cos(i),o=Math.sin(i),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*o+e.x,this.y=s*o+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Kt{constructor(e,i,r,o,s,a,l,u,c){Kt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,i,r,o,s,a,l,u,c)}set(e,i,r,o,s,a,l,u,c){const d=this.elements;return d[0]=e,d[1]=o,d[2]=l,d[3]=i,d[4]=s,d[5]=u,d[6]=r,d[7]=a,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const i=this.elements,r=e.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],this}extractBasis(e,i,r){return e.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const i=e.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const r=e.elements,o=i.elements,s=this.elements,a=r[0],l=r[3],u=r[6],c=r[1],d=r[4],f=r[7],h=r[2],p=r[5],v=r[8],b=o[0],y=o[3],m=o[6],_=o[1],S=o[4],w=o[7],T=o[2],A=o[5],C=o[8];return s[0]=a*b+l*_+u*T,s[3]=a*y+l*S+u*A,s[6]=a*m+l*w+u*C,s[1]=c*b+d*_+f*T,s[4]=c*y+d*S+f*A,s[7]=c*m+d*w+f*C,s[2]=h*b+p*_+v*T,s[5]=h*y+p*S+v*A,s[8]=h*m+p*w+v*C,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=e,i[4]*=e,i[7]*=e,i[2]*=e,i[5]*=e,i[8]*=e,this}determinant(){const e=this.elements,i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],d=e[8];return i*a*d-i*l*c-r*s*d+r*l*u+o*s*c-o*a*u}invert(){const e=this.elements,i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=d*a-l*c,h=l*u-d*s,p=c*s-a*u,v=i*f+r*h+o*p;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/v;return e[0]=f*b,e[1]=(o*c-d*r)*b,e[2]=(l*r-o*a)*b,e[3]=h*b,e[4]=(d*i-o*u)*b,e[5]=(o*s-l*i)*b,e[6]=p*b,e[7]=(r*u-c*i)*b,e[8]=(a*i-r*s)*b,this}transpose(){let e;const i=this.elements;return e=i[1],i[1]=i[3],i[3]=e,e=i[2],i[2]=i[6],i[6]=e,e=i[5],i[5]=i[7],i[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const i=this.elements;return e[0]=i[0],e[1]=i[3],e[2]=i[6],e[3]=i[1],e[4]=i[4],e[5]=i[7],e[6]=i[2],e[7]=i[5],e[8]=i[8],this}setUvTransform(e,i,r,o,s,a,l){const u=Math.cos(s),c=Math.sin(s);return this.set(r*u,r*c,-r*(u*a+c*l)+a+e,-o*c,o*u,-o*(-c*a+u*l)+l+i,0,0,1),this}scale(e,i){return this.premultiply(OT.makeScale(e,i)),this}rotate(e){return this.premultiply(OT.makeRotation(-e)),this}translate(e,i){return this.premultiply(OT.makeTranslation(e,i)),this}makeTranslation(e,i){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,i,0,0,1),this}makeRotation(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,-r,0,r,i,0,0,0,1),this}makeScale(e,i){return this.set(e,0,0,0,i,0,0,0,1),this}equals(e){const i=this.elements,r=e.elements;for(let o=0;o<9;o++)if(i[o]!==r[o])return!1;return!0}fromArray(e,i=0){for(let r=0;r<9;r++)this.elements[r]=e[r+i];return this}toArray(e=[],i=0){const r=this.elements;return e[i]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3],e[i+4]=r[4],e[i+5]=r[5],e[i+6]=r[6],e[i+7]=r[7],e[i+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const OT=new Kt;function T9(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function yy(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function A9(){const n=yy("canvas");return n.style.display="block",n}const r4={};function sf(n){n in r4||(r4[n]=!0,console.warn(n))}function APe(n,e,i){return new Promise(function(r,o){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:o();break;case n.TIMEOUT_EXPIRED:setTimeout(s,i);break;default:r()}}setTimeout(s,i)})}function EPe(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function MPe(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const o4=new Kt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),s4=new Kt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function RPe(){const n={enabled:!0,workingColorSpace:oa,spaces:{},convert:function(o,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Yn&&(o.r=Lu(o.r),o.g=Lu(o.g),o.b=Lu(o.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(o.applyMatrix3(this.spaces[s].toXYZ),o.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Yn&&(o.r=Dp(o.r),o.g=Dp(o.g),o.b=Dp(o.b))),o},fromWorkingColorSpace:function(o,s){return this.convert(o,this.workingColorSpace,s)},toWorkingColorSpace:function(o,s){return this.convert(o,s,this.workingColorSpace)},getPrimaries:function(o){return this.spaces[o].primaries},getTransfer:function(o){return o===Ts?cS:this.spaces[o].transfer},getLuminanceCoefficients:function(o,s=this.workingColorSpace){return o.fromArray(this.spaces[s].luminanceCoefficients)},define:function(o){Object.assign(this.spaces,o)},_getMatrix:function(o,s,a){return o.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(o){return this.spaces[o].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(o=this.workingColorSpace){return this.spaces[o].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],i=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[oa]:{primaries:e,whitePoint:r,transfer:cS,toXYZ:o4,fromXYZ:s4,luminanceCoefficients:i,workingColorSpaceConfig:{unpackColorSpace:Ft},outputColorSpaceConfig:{drawingBufferColorSpace:Ft}},[Ft]:{primaries:e,whitePoint:r,transfer:Yn,toXYZ:o4,fromXYZ:s4,luminanceCoefficients:i,outputColorSpaceConfig:{drawingBufferColorSpace:Ft}}}),n}const wn=RPe();function Lu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Dp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Mh;class PPe{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Mh===void 0&&(Mh=yy("canvas")),Mh.width=e.width,Mh.height=e.height;const r=Mh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Mh}return i.width>2048||i.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),i.toDataURL("image/jpeg",.6)):i.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const i=yy("canvas");i.width=e.width,i.height=e.height;const r=i.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),s=o.data;for(let a=0;a<s.length;a++)s[a]=Lu(s[a]/255)*255;return r.putImageData(o,0,0),i}else if(e.data){const i=e.data.slice(0);for(let r=0;r<i.length;r++)i instanceof Uint8Array||i instanceof Uint8ClampedArray?i[r]=Math.floor(Lu(i[r]/255)*255):i[r]=Lu(i[r]);return{data:i,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let IPe=0;class E9{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:IPe++}),this.uuid=Du(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const i=e===void 0||typeof e=="string";if(!i&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},o=this.data;if(o!==null){let s;if(Array.isArray(o)){s=[];for(let a=0,l=o.length;a<l;a++)o[a].isDataTexture?s.push(DT(o[a].image)):s.push(DT(o[a]))}else s=DT(o);r.url=s}return i||(e.images[this.uuid]=r),r}}function DT(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?PPe.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let NPe=0;class dr extends Ju{constructor(e=dr.DEFAULT_IMAGE,i=dr.DEFAULT_MAPPING,r=ll,o=ll,s=_r,a=Xo,l=Gr,u=ao,c=dr.DEFAULT_ANISOTROPY,d=Ts){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:NPe++}),this.uuid=Du(),this.name="",this.source=new E9(e),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=l,this.internalFormat=null,this.type=u,this.offset=new dt(0,0),this.repeat=new dt(1,1),this.center=new dt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const i=e===void 0||typeof e=="string";if(!i&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==OI)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Hf:e.x=e.x-Math.floor(e.x);break;case ll:e.x=e.x<0?0:1;break;case Gf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Hf:e.y=e.y-Math.floor(e.y);break;case ll:e.y=e.y<0?0:1;break;case Gf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}dr.DEFAULT_IMAGE=null;dr.DEFAULT_MAPPING=OI;dr.DEFAULT_ANISOTROPY=1;class dn{constructor(e=0,i=0,r=0,o=1){dn.prototype.isVector4=!0,this.x=e,this.y=i,this.z=r,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,i,r,o){return this.x=e,this.y=i,this.z=r,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this.w=e.w+i.w,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this.w+=e.w*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this.w=e.w-i.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const i=this.x,r=this.y,o=this.z,s=this.w,a=e.elements;return this.x=a[0]*i+a[4]*r+a[8]*o+a[12]*s,this.y=a[1]*i+a[5]*r+a[9]*o+a[13]*s,this.z=a[2]*i+a[6]*r+a[10]*o+a[14]*s,this.w=a[3]*i+a[7]*r+a[11]*o+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const i=Math.sqrt(1-e.w*e.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/i,this.y=e.y/i,this.z=e.z/i),this}setAxisAngleFromRotationMatrix(e){let i,r,o,s;const u=e.elements,c=u[0],d=u[4],f=u[8],h=u[1],p=u[5],v=u[9],b=u[2],y=u[6],m=u[10];if(Math.abs(d-h)<.01&&Math.abs(f-b)<.01&&Math.abs(v-y)<.01){if(Math.abs(d+h)<.1&&Math.abs(f+b)<.1&&Math.abs(v+y)<.1&&Math.abs(c+p+m-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;const S=(c+1)/2,w=(p+1)/2,T=(m+1)/2,A=(d+h)/4,C=(f+b)/4,R=(v+y)/4;return S>w&&S>T?S<.01?(r=0,o=.707106781,s=.707106781):(r=Math.sqrt(S),o=A/r,s=C/r):w>T?w<.01?(r=.707106781,o=0,s=.707106781):(o=Math.sqrt(w),r=A/o,s=R/o):T<.01?(r=.707106781,o=.707106781,s=0):(s=Math.sqrt(T),r=C/s,o=R/s),this.set(r,o,s,i),this}let _=Math.sqrt((y-v)*(y-v)+(f-b)*(f-b)+(h-d)*(h-d));return Math.abs(_)<.001&&(_=1),this.x=(y-v)/_,this.y=(f-b)/_,this.z=(h-d)/_,this.w=Math.acos((c+p+m-1)/2),this}setFromMatrixPosition(e){const i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this.w=i[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,i){return this.x=gn(this.x,e.x,i.x),this.y=gn(this.y,e.y,i.y),this.z=gn(this.z,e.z,i.z),this.w=gn(this.w,e.w,i.w),this}clampScalar(e,i){return this.x=gn(this.x,e,i),this.y=gn(this.y,e,i),this.z=gn(this.z,e,i),this.w=gn(this.w,e,i),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(gn(r,e,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this.w+=(e.w-this.w)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this.z=e.z+(i.z-e.z)*r,this.w=e.w+(i.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this.w=e[i+3],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e[i+3]=this.w,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this.w=e.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Lg extends Ju{constructor(e=1,i=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=i,this.depth=1,this.scissor=new dn(0,0,e,i),this.scissorTest=!1,this.viewport=new dn(0,0,e,i);const o={width:e,height:i,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:_r,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new dr(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let l=0;l<a;l++)this.textures[l]=s.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,i,r=1){if(this.width!==e||this.height!==i||this.depth!==r){this.width=e,this.height=i,this.depth=r;for(let o=0,s=this.textures.length;o<s;o++)this.textures[o].image.width=e,this.textures[o].image.height=i,this.textures[o].image.depth=r;this.dispose()}this.viewport.set(0,0,e,i),this.scissor.set(0,0,e,i)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,o=e.textures.length;r<o;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0,this.textures[r].renderTarget=this;const i=Object.assign({},e.texture.image);return this.texture.source=new E9(i),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class sd extends Lg{constructor(e=1,i=1,r={}){super(e,i,r),this.isWebGLRenderTarget=!0}}class WI extends dr{constructor(e=null,i=1,r=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:i,height:r,depth:o},this.magFilter=_i,this.minFilter=_i,this.wrapR=ll,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class OPe extends dr{constructor(e=null,i=1,r=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:i,height:r,depth:o},this.magFilter=_i,this.minFilter=_i,this.wrapR=ll,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ka{constructor(e=0,i=0,r=0,o=1){this.isQuaternion=!0,this._x=e,this._y=i,this._z=r,this._w=o}static slerpFlat(e,i,r,o,s,a,l){let u=r[o+0],c=r[o+1],d=r[o+2],f=r[o+3];const h=s[a+0],p=s[a+1],v=s[a+2],b=s[a+3];if(l===0){e[i+0]=u,e[i+1]=c,e[i+2]=d,e[i+3]=f;return}if(l===1){e[i+0]=h,e[i+1]=p,e[i+2]=v,e[i+3]=b;return}if(f!==b||u!==h||c!==p||d!==v){let y=1-l;const m=u*h+c*p+d*v+f*b,_=m>=0?1:-1,S=1-m*m;if(S>Number.EPSILON){const T=Math.sqrt(S),A=Math.atan2(T,m*_);y=Math.sin(y*A)/T,l=Math.sin(l*A)/T}const w=l*_;if(u=u*y+h*w,c=c*y+p*w,d=d*y+v*w,f=f*y+b*w,y===1-l){const T=1/Math.sqrt(u*u+c*c+d*d+f*f);u*=T,c*=T,d*=T,f*=T}}e[i]=u,e[i+1]=c,e[i+2]=d,e[i+3]=f}static multiplyQuaternionsFlat(e,i,r,o,s,a){const l=r[o],u=r[o+1],c=r[o+2],d=r[o+3],f=s[a],h=s[a+1],p=s[a+2],v=s[a+3];return e[i]=l*v+d*f+u*p-c*h,e[i+1]=u*v+d*h+c*f-l*p,e[i+2]=c*v+d*p+l*h-u*f,e[i+3]=d*v-l*f-u*h-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,i,r,o){return this._x=e,this._y=i,this._z=r,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,i=!0){const r=e._x,o=e._y,s=e._z,a=e._order,l=Math.cos,u=Math.sin,c=l(r/2),d=l(o/2),f=l(s/2),h=u(r/2),p=u(o/2),v=u(s/2);switch(a){case"XYZ":this._x=h*d*f+c*p*v,this._y=c*p*f-h*d*v,this._z=c*d*v+h*p*f,this._w=c*d*f-h*p*v;break;case"YXZ":this._x=h*d*f+c*p*v,this._y=c*p*f-h*d*v,this._z=c*d*v-h*p*f,this._w=c*d*f+h*p*v;break;case"ZXY":this._x=h*d*f-c*p*v,this._y=c*p*f+h*d*v,this._z=c*d*v+h*p*f,this._w=c*d*f-h*p*v;break;case"ZYX":this._x=h*d*f-c*p*v,this._y=c*p*f+h*d*v,this._z=c*d*v-h*p*f,this._w=c*d*f+h*p*v;break;case"YZX":this._x=h*d*f+c*p*v,this._y=c*p*f+h*d*v,this._z=c*d*v-h*p*f,this._w=c*d*f-h*p*v;break;case"XZY":this._x=h*d*f-c*p*v,this._y=c*p*f-h*d*v,this._z=c*d*v+h*p*f,this._w=c*d*f+h*p*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return i===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,i){const r=i/2,o=Math.sin(r);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const i=e.elements,r=i[0],o=i[4],s=i[8],a=i[1],l=i[5],u=i[9],c=i[2],d=i[6],f=i[10],h=r+l+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(d-u)*p,this._y=(s-c)*p,this._z=(a-o)*p}else if(r>l&&r>f){const p=2*Math.sqrt(1+r-l-f);this._w=(d-u)/p,this._x=.25*p,this._y=(o+a)/p,this._z=(s+c)/p}else if(l>f){const p=2*Math.sqrt(1+l-r-f);this._w=(s-c)/p,this._x=(o+a)/p,this._y=.25*p,this._z=(u+d)/p}else{const p=2*Math.sqrt(1+f-r-l);this._w=(a-o)/p,this._x=(s+c)/p,this._y=(u+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,i){let r=e.dot(i)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*i.z-e.z*i.y,this._y=e.z*i.x-e.x*i.z,this._z=e.x*i.y-e.y*i.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(gn(this.dot(e),-1,1)))}rotateTowards(e,i){const r=this.angleTo(e);if(r===0)return this;const o=Math.min(1,i/r);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,i){const r=e._x,o=e._y,s=e._z,a=e._w,l=i._x,u=i._y,c=i._z,d=i._w;return this._x=r*d+a*l+o*c-s*u,this._y=o*d+a*u+s*l-r*c,this._z=s*d+a*c+r*u-o*l,this._w=a*d-r*l-o*u-s*c,this._onChangeCallback(),this}slerp(e,i){if(i===0)return this;if(i===1)return this.copy(e);const r=this._x,o=this._y,s=this._z,a=this._w;let l=a*e._w+r*e._x+o*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=r,this._y=o,this._z=s,this;const u=1-l*l;if(u<=Number.EPSILON){const p=1-i;return this._w=p*a+i*this._w,this._x=p*r+i*this._x,this._y=p*o+i*this._y,this._z=p*s+i*this._z,this.normalize(),this}const c=Math.sqrt(u),d=Math.atan2(c,l),f=Math.sin((1-i)*d)/c,h=Math.sin(i*d)/c;return this._w=a*f+this._w*h,this._x=r*f+this._x*h,this._y=o*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,i,r){return this.copy(e).slerp(i,r)}random(){const e=2*Math.PI*Math.random(),i=2*Math.PI*Math.random(),r=Math.random(),o=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(o*Math.sin(e),o*Math.cos(e),s*Math.sin(i),s*Math.cos(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,i=0){return this._x=e[i],this._y=e[i+1],this._z=e[i+2],this._w=e[i+3],this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._w,e}fromBufferAttribute(e,i){return this._x=e.getX(i),this._y=e.getY(i),this._z=e.getZ(i),this._w=e.getW(i),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class me{constructor(e=0,i=0,r=0){me.prototype.isVector3=!0,this.x=e,this.y=i,this.z=r}set(e,i,r){return r===void 0&&(r=this.z),this.x=e,this.y=i,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,i){return this.x=e.x*i.x,this.y=e.y*i.y,this.z=e.z*i.z,this}applyEuler(e){return this.applyQuaternion(a4.setFromEuler(e))}applyAxisAngle(e,i){return this.applyQuaternion(a4.setFromAxisAngle(e,i))}applyMatrix3(e){const i=this.x,r=this.y,o=this.z,s=e.elements;return this.x=s[0]*i+s[3]*r+s[6]*o,this.y=s[1]*i+s[4]*r+s[7]*o,this.z=s[2]*i+s[5]*r+s[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const i=this.x,r=this.y,o=this.z,s=e.elements,a=1/(s[3]*i+s[7]*r+s[11]*o+s[15]);return this.x=(s[0]*i+s[4]*r+s[8]*o+s[12])*a,this.y=(s[1]*i+s[5]*r+s[9]*o+s[13])*a,this.z=(s[2]*i+s[6]*r+s[10]*o+s[14])*a,this}applyQuaternion(e){const i=this.x,r=this.y,o=this.z,s=e.x,a=e.y,l=e.z,u=e.w,c=2*(a*o-l*r),d=2*(l*i-s*o),f=2*(s*r-a*i);return this.x=i+u*c+a*f-l*d,this.y=r+u*d+l*c-s*f,this.z=o+u*f+s*d-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const i=this.x,r=this.y,o=this.z,s=e.elements;return this.x=s[0]*i+s[4]*r+s[8]*o,this.y=s[1]*i+s[5]*r+s[9]*o,this.z=s[2]*i+s[6]*r+s[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,i){return this.x=gn(this.x,e.x,i.x),this.y=gn(this.y,e.y,i.y),this.z=gn(this.z,e.z,i.z),this}clampScalar(e,i){return this.x=gn(this.x,e,i),this.y=gn(this.y,e,i),this.z=gn(this.z,e,i),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(gn(r,e,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this.z=e.z+(i.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,i){const r=e.x,o=e.y,s=e.z,a=i.x,l=i.y,u=i.z;return this.x=o*u-s*l,this.y=s*a-r*u,this.z=r*l-o*a,this}projectOnVector(e){const i=e.lengthSq();if(i===0)return this.set(0,0,0);const r=e.dot(this)/i;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return LT.copy(this).projectOnVector(e),this.sub(LT)}reflect(e){return this.sub(LT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const r=this.dot(e)/i;return Math.acos(gn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,r=this.y-e.y,o=this.z-e.z;return i*i+r*r+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,i,r){const o=Math.sin(i)*e;return this.x=o*Math.sin(r),this.y=Math.cos(i)*e,this.z=o*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,i,r){return this.x=e*Math.sin(i),this.y=r,this.z=e*Math.cos(i),this}setFromMatrixPosition(e){const i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(e){const i=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=i,this.y=r,this.z=o,this}setFromMatrixColumn(e,i){return this.fromArray(e.elements,i*4)}setFromMatrix3Column(e,i){return this.fromArray(e.elements,i*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,i=Math.random()*2-1,r=Math.sqrt(1-i*i);return this.x=r*Math.cos(e),this.y=i,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const LT=new me,a4=new ka;class th{constructor(e=new me(1/0,1/0,1/0),i=new me(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=i}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromArray(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i+=3)this.expandByPoint(xa.fromArray(e,i));return this}setFromBufferAttribute(e){this.makeEmpty();for(let i=0,r=e.count;i<r;i++)this.expandByPoint(xa.fromBufferAttribute(e,i));return this}setFromPoints(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){const r=xa.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,i=!1){return this.makeEmpty(),this.expandByObject(e,i)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,i=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(i===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=s.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,xa):xa.fromBufferAttribute(s,a),xa.applyMatrix4(e.matrixWorld),this.expandByPoint(xa);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Mb.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Mb.copy(r.boundingBox)),Mb.applyMatrix4(e.matrixWorld),this.union(Mb)}const o=e.children;for(let s=0,a=o.length;s<a;s++)this.expandByObject(o[s],i);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,i){return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,xa),xa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let i,r;return e.normal.x>0?(i=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(i=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(i+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(i+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(i+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(i+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),i<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(bm),Rb.subVectors(this.max,bm),Rh.subVectors(e.a,bm),Ph.subVectors(e.b,bm),Ih.subVectors(e.c,bm),Sc.subVectors(Ph,Rh),wc.subVectors(Ih,Ph),Bd.subVectors(Rh,Ih);let i=[0,-Sc.z,Sc.y,0,-wc.z,wc.y,0,-Bd.z,Bd.y,Sc.z,0,-Sc.x,wc.z,0,-wc.x,Bd.z,0,-Bd.x,-Sc.y,Sc.x,0,-wc.y,wc.x,0,-Bd.y,Bd.x,0];return!BT(i,Rh,Ph,Ih,Rb)||(i=[1,0,0,0,1,0,0,0,1],!BT(i,Rh,Ph,Ih,Rb))?!1:(Pb.crossVectors(Sc,wc),i=[Pb.x,Pb.y,Pb.z],BT(i,Rh,Ph,Ih,Rb))}clampPoint(e,i){return i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,xa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(xa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(tu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),tu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),tu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),tu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),tu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),tu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),tu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),tu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(tu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const tu=[new me,new me,new me,new me,new me,new me,new me,new me],xa=new me,Mb=new th,Rh=new me,Ph=new me,Ih=new me,Sc=new me,wc=new me,Bd=new me,bm=new me,Rb=new me,Pb=new me,Fd=new me;function BT(n,e,i,r,o){for(let s=0,a=n.length-3;s<=a;s+=3){Fd.fromArray(n,s);const l=o.x*Math.abs(Fd.x)+o.y*Math.abs(Fd.y)+o.z*Math.abs(Fd.z),u=e.dot(Fd),c=i.dot(Fd),d=r.dot(Fd);if(Math.max(-Math.max(u,c,d),Math.min(u,c,d))>l)return!1}return!0}const DPe=new th,xm=new me,FT=new me;class Dw{constructor(e=new me,i=-1){this.isSphere=!0,this.center=e,this.radius=i}set(e,i){return this.center.copy(e),this.radius=i,this}setFromPoints(e,i){const r=this.center;i!==void 0?r.copy(i):DPe.setFromPoints(e).getCenter(r);let o=0;for(let s=0,a=e.length;s<a;s++)o=Math.max(o,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const i=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=i*i}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,i){const r=this.center.distanceToSquared(e);return i.copy(e),r>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;xm.subVectors(e,this.center);const i=xm.lengthSq();if(i>this.radius*this.radius){const r=Math.sqrt(i),o=(r-this.radius)*.5;this.center.addScaledVector(xm,o/r),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(FT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(xm.copy(e.center).add(FT)),this.expandByPoint(xm.copy(e.center).sub(FT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const nu=new me,$T=new me,Ib=new me,Cc=new me,UT=new me,Nb=new me,kT=new me;class Lw{constructor(e=new me,i=new me(0,0,-1)){this.origin=e,this.direction=i}set(e,i){return this.origin.copy(e),this.direction.copy(i),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,i){return i.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,nu)),this}closestPointToPoint(e,i){i.subVectors(e,this.origin);const r=i.dot(this.direction);return r<0?i.copy(this.origin):i.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const i=nu.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(nu.copy(this.origin).addScaledVector(this.direction,i),nu.distanceToSquared(e))}distanceSqToSegment(e,i,r,o){$T.copy(e).add(i).multiplyScalar(.5),Ib.copy(i).sub(e).normalize(),Cc.copy(this.origin).sub($T);const s=e.distanceTo(i)*.5,a=-this.direction.dot(Ib),l=Cc.dot(this.direction),u=-Cc.dot(Ib),c=Cc.lengthSq(),d=Math.abs(1-a*a);let f,h,p,v;if(d>0)if(f=a*u-l,h=a*l-u,v=s*d,f>=0)if(h>=-v)if(h<=v){const b=1/d;f*=b,h*=b,p=f*(f+a*h+2*l)+h*(a*f+h+2*u)+c}else h=s,f=Math.max(0,-(a*h+l)),p=-f*f+h*(h+2*u)+c;else h=-s,f=Math.max(0,-(a*h+l)),p=-f*f+h*(h+2*u)+c;else h<=-v?(f=Math.max(0,-(-a*s+l)),h=f>0?-s:Math.min(Math.max(-s,-u),s),p=-f*f+h*(h+2*u)+c):h<=v?(f=0,h=Math.min(Math.max(-s,-u),s),p=h*(h+2*u)+c):(f=Math.max(0,-(a*s+l)),h=f>0?s:Math.min(Math.max(-s,-u),s),p=-f*f+h*(h+2*u)+c);else h=a>0?-s:s,f=Math.max(0,-(a*h+l)),p=-f*f+h*(h+2*u)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),o&&o.copy($T).addScaledVector(Ib,h),p}intersectSphere(e,i){nu.subVectors(e.center,this.origin);const r=nu.dot(this.direction),o=nu.dot(nu)-r*r,s=e.radius*e.radius;if(o>s)return null;const a=Math.sqrt(s-o),l=r-a,u=r+a;return u<0?null:l<0?this.at(u,i):this.at(l,i)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const i=e.normal.dot(this.direction);if(i===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/i;return r>=0?r:null}intersectPlane(e,i){const r=this.distanceToPlane(e);return r===null?null:this.at(r,i)}intersectsPlane(e){const i=e.distanceToPoint(this.origin);return i===0||e.normal.dot(this.direction)*i<0}intersectBox(e,i){let r,o,s,a,l,u;const c=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,o=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,o=(e.min.x-h.x)*c),d>=0?(s=(e.min.y-h.y)*d,a=(e.max.y-h.y)*d):(s=(e.max.y-h.y)*d,a=(e.min.y-h.y)*d),r>a||s>o||((s>r||isNaN(r))&&(r=s),(a<o||isNaN(o))&&(o=a),f>=0?(l=(e.min.z-h.z)*f,u=(e.max.z-h.z)*f):(l=(e.max.z-h.z)*f,u=(e.min.z-h.z)*f),r>u||l>o)||((l>r||r!==r)&&(r=l),(u<o||o!==o)&&(o=u),o<0)?null:this.at(r>=0?r:o,i)}intersectsBox(e){return this.intersectBox(e,nu)!==null}intersectTriangle(e,i,r,o,s){UT.subVectors(i,e),Nb.subVectors(r,e),kT.crossVectors(UT,Nb);let a=this.direction.dot(kT),l;if(a>0){if(o)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Cc.subVectors(this.origin,e);const u=l*this.direction.dot(Nb.crossVectors(Cc,Nb));if(u<0)return null;const c=l*this.direction.dot(UT.cross(Cc));if(c<0||u+c>a)return null;const d=-l*Cc.dot(kT);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Mn{constructor(e,i,r,o,s,a,l,u,c,d,f,h,p,v,b,y){Mn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,i,r,o,s,a,l,u,c,d,f,h,p,v,b,y)}set(e,i,r,o,s,a,l,u,c,d,f,h,p,v,b,y){const m=this.elements;return m[0]=e,m[4]=i,m[8]=r,m[12]=o,m[1]=s,m[5]=a,m[9]=l,m[13]=u,m[2]=c,m[6]=d,m[10]=f,m[14]=h,m[3]=p,m[7]=v,m[11]=b,m[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Mn().fromArray(this.elements)}copy(e){const i=this.elements,r=e.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this}copyPosition(e){const i=this.elements,r=e.elements;return i[12]=r[12],i[13]=r[13],i[14]=r[14],this}setFromMatrix3(e){const i=e.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(e,i,r){return e.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,i,r){return this.set(e.x,i.x,r.x,0,e.y,i.y,r.y,0,e.z,i.z,r.z,0,0,0,0,1),this}extractRotation(e){const i=this.elements,r=e.elements,o=1/Nh.setFromMatrixColumn(e,0).length(),s=1/Nh.setFromMatrixColumn(e,1).length(),a=1/Nh.setFromMatrixColumn(e,2).length();return i[0]=r[0]*o,i[1]=r[1]*o,i[2]=r[2]*o,i[3]=0,i[4]=r[4]*s,i[5]=r[5]*s,i[6]=r[6]*s,i[7]=0,i[8]=r[8]*a,i[9]=r[9]*a,i[10]=r[10]*a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(e){const i=this.elements,r=e.x,o=e.y,s=e.z,a=Math.cos(r),l=Math.sin(r),u=Math.cos(o),c=Math.sin(o),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=a*d,p=a*f,v=l*d,b=l*f;i[0]=u*d,i[4]=-u*f,i[8]=c,i[1]=p+v*c,i[5]=h-b*c,i[9]=-l*u,i[2]=b-h*c,i[6]=v+p*c,i[10]=a*u}else if(e.order==="YXZ"){const h=u*d,p=u*f,v=c*d,b=c*f;i[0]=h+b*l,i[4]=v*l-p,i[8]=a*c,i[1]=a*f,i[5]=a*d,i[9]=-l,i[2]=p*l-v,i[6]=b+h*l,i[10]=a*u}else if(e.order==="ZXY"){const h=u*d,p=u*f,v=c*d,b=c*f;i[0]=h-b*l,i[4]=-a*f,i[8]=v+p*l,i[1]=p+v*l,i[5]=a*d,i[9]=b-h*l,i[2]=-a*c,i[6]=l,i[10]=a*u}else if(e.order==="ZYX"){const h=a*d,p=a*f,v=l*d,b=l*f;i[0]=u*d,i[4]=v*c-p,i[8]=h*c+b,i[1]=u*f,i[5]=b*c+h,i[9]=p*c-v,i[2]=-c,i[6]=l*u,i[10]=a*u}else if(e.order==="YZX"){const h=a*u,p=a*c,v=l*u,b=l*c;i[0]=u*d,i[4]=b-h*f,i[8]=v*f+p,i[1]=f,i[5]=a*d,i[9]=-l*d,i[2]=-c*d,i[6]=p*f+v,i[10]=h-b*f}else if(e.order==="XZY"){const h=a*u,p=a*c,v=l*u,b=l*c;i[0]=u*d,i[4]=-f,i[8]=c*d,i[1]=h*f+b,i[5]=a*d,i[9]=p*f-v,i[2]=v*f-p,i[6]=l*d,i[10]=b*f+h}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(e){return this.compose(LPe,e,BPe)}lookAt(e,i,r){const o=this.elements;return hs.subVectors(e,i),hs.lengthSq()===0&&(hs.z=1),hs.normalize(),Tc.crossVectors(r,hs),Tc.lengthSq()===0&&(Math.abs(r.z)===1?hs.x+=1e-4:hs.z+=1e-4,hs.normalize(),Tc.crossVectors(r,hs)),Tc.normalize(),Ob.crossVectors(hs,Tc),o[0]=Tc.x,o[4]=Ob.x,o[8]=hs.x,o[1]=Tc.y,o[5]=Ob.y,o[9]=hs.y,o[2]=Tc.z,o[6]=Ob.z,o[10]=hs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const r=e.elements,o=i.elements,s=this.elements,a=r[0],l=r[4],u=r[8],c=r[12],d=r[1],f=r[5],h=r[9],p=r[13],v=r[2],b=r[6],y=r[10],m=r[14],_=r[3],S=r[7],w=r[11],T=r[15],A=o[0],C=o[4],R=o[8],E=o[12],P=o[1],N=o[5],D=o[9],$=o[13],L=o[2],F=o[6],U=o[10],k=o[14],H=o[3],z=o[7],Q=o[11],Z=o[15];return s[0]=a*A+l*P+u*L+c*H,s[4]=a*C+l*N+u*F+c*z,s[8]=a*R+l*D+u*U+c*Q,s[12]=a*E+l*$+u*k+c*Z,s[1]=d*A+f*P+h*L+p*H,s[5]=d*C+f*N+h*F+p*z,s[9]=d*R+f*D+h*U+p*Q,s[13]=d*E+f*$+h*k+p*Z,s[2]=v*A+b*P+y*L+m*H,s[6]=v*C+b*N+y*F+m*z,s[10]=v*R+b*D+y*U+m*Q,s[14]=v*E+b*$+y*k+m*Z,s[3]=_*A+S*P+w*L+T*H,s[7]=_*C+S*N+w*F+T*z,s[11]=_*R+S*D+w*U+T*Q,s[15]=_*E+S*$+w*k+T*Z,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[4]*=e,i[8]*=e,i[12]*=e,i[1]*=e,i[5]*=e,i[9]*=e,i[13]*=e,i[2]*=e,i[6]*=e,i[10]*=e,i[14]*=e,i[3]*=e,i[7]*=e,i[11]*=e,i[15]*=e,this}determinant(){const e=this.elements,i=e[0],r=e[4],o=e[8],s=e[12],a=e[1],l=e[5],u=e[9],c=e[13],d=e[2],f=e[6],h=e[10],p=e[14],v=e[3],b=e[7],y=e[11],m=e[15];return v*(+s*u*f-o*c*f-s*l*h+r*c*h+o*l*p-r*u*p)+b*(+i*u*p-i*c*h+s*a*h-o*a*p+o*c*d-s*u*d)+y*(+i*c*f-i*l*p-s*a*f+r*a*p+s*l*d-r*c*d)+m*(-o*l*d-i*u*f+i*l*h+o*a*f-r*a*h+r*u*d)}transpose(){const e=this.elements;let i;return i=e[1],e[1]=e[4],e[4]=i,i=e[2],e[2]=e[8],e[8]=i,i=e[6],e[6]=e[9],e[9]=i,i=e[3],e[3]=e[12],e[12]=i,i=e[7],e[7]=e[13],e[13]=i,i=e[11],e[11]=e[14],e[14]=i,this}setPosition(e,i,r){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=i,o[14]=r),this}invert(){const e=this.elements,i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=e[9],h=e[10],p=e[11],v=e[12],b=e[13],y=e[14],m=e[15],_=f*y*c-b*h*c+b*u*p-l*y*p-f*u*m+l*h*m,S=v*h*c-d*y*c-v*u*p+a*y*p+d*u*m-a*h*m,w=d*b*c-v*f*c+v*l*p-a*b*p-d*l*m+a*f*m,T=v*f*u-d*b*u-v*l*h+a*b*h+d*l*y-a*f*y,A=i*_+r*S+o*w+s*T;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/A;return e[0]=_*C,e[1]=(b*h*s-f*y*s-b*o*p+r*y*p+f*o*m-r*h*m)*C,e[2]=(l*y*s-b*u*s+b*o*c-r*y*c-l*o*m+r*u*m)*C,e[3]=(f*u*s-l*h*s-f*o*c+r*h*c+l*o*p-r*u*p)*C,e[4]=S*C,e[5]=(d*y*s-v*h*s+v*o*p-i*y*p-d*o*m+i*h*m)*C,e[6]=(v*u*s-a*y*s-v*o*c+i*y*c+a*o*m-i*u*m)*C,e[7]=(a*h*s-d*u*s+d*o*c-i*h*c-a*o*p+i*u*p)*C,e[8]=w*C,e[9]=(v*f*s-d*b*s-v*r*p+i*b*p+d*r*m-i*f*m)*C,e[10]=(a*b*s-v*l*s+v*r*c-i*b*c-a*r*m+i*l*m)*C,e[11]=(d*l*s-a*f*s-d*r*c+i*f*c+a*r*p-i*l*p)*C,e[12]=T*C,e[13]=(d*b*o-v*f*o+v*r*h-i*b*h-d*r*y+i*f*y)*C,e[14]=(v*l*o-a*b*o-v*r*u+i*b*u+a*r*y-i*l*y)*C,e[15]=(a*f*o-d*l*o+d*r*u-i*f*u-a*r*h+i*l*h)*C,this}scale(e){const i=this.elements,r=e.x,o=e.y,s=e.z;return i[0]*=r,i[4]*=o,i[8]*=s,i[1]*=r,i[5]*=o,i[9]*=s,i[2]*=r,i[6]*=o,i[10]*=s,i[3]*=r,i[7]*=o,i[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(i,r,o))}makeTranslation(e,i,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,i,0,0,1,r,0,0,0,1),this}makeRotationX(e){const i=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,i,-r,0,0,r,i,0,0,0,0,1),this}makeRotationY(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,0,r,0,0,1,0,0,-r,0,i,0,0,0,0,1),this}makeRotationZ(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,i){const r=Math.cos(i),o=Math.sin(i),s=1-r,a=e.x,l=e.y,u=e.z,c=s*a,d=s*l;return this.set(c*a+r,c*l-o*u,c*u+o*l,0,c*l+o*u,d*l+r,d*u-o*a,0,c*u-o*l,d*u+o*a,s*u*u+r,0,0,0,0,1),this}makeScale(e,i,r){return this.set(e,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,i,r,o,s,a){return this.set(1,r,s,0,e,1,a,0,i,o,1,0,0,0,0,1),this}compose(e,i,r){const o=this.elements,s=i._x,a=i._y,l=i._z,u=i._w,c=s+s,d=a+a,f=l+l,h=s*c,p=s*d,v=s*f,b=a*d,y=a*f,m=l*f,_=u*c,S=u*d,w=u*f,T=r.x,A=r.y,C=r.z;return o[0]=(1-(b+m))*T,o[1]=(p+w)*T,o[2]=(v-S)*T,o[3]=0,o[4]=(p-w)*A,o[5]=(1-(h+m))*A,o[6]=(y+_)*A,o[7]=0,o[8]=(v+S)*C,o[9]=(y-_)*C,o[10]=(1-(h+b))*C,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,i,r){const o=this.elements;let s=Nh.set(o[0],o[1],o[2]).length();const a=Nh.set(o[4],o[5],o[6]).length(),l=Nh.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),e.x=o[12],e.y=o[13],e.z=o[14],_a.copy(this);const c=1/s,d=1/a,f=1/l;return _a.elements[0]*=c,_a.elements[1]*=c,_a.elements[2]*=c,_a.elements[4]*=d,_a.elements[5]*=d,_a.elements[6]*=d,_a.elements[8]*=f,_a.elements[9]*=f,_a.elements[10]*=f,i.setFromRotationMatrix(_a),r.x=s,r.y=a,r.z=l,this}makePerspective(e,i,r,o,s,a,l=qo){const u=this.elements,c=2*s/(i-e),d=2*s/(r-o),f=(i+e)/(i-e),h=(r+o)/(r-o);let p,v;if(l===qo)p=-(a+s)/(a-s),v=-2*a*s/(a-s);else if(l===od)p=-a/(a-s),v=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=d,u[9]=h,u[13]=0,u[2]=0,u[6]=0,u[10]=p,u[14]=v,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,i,r,o,s,a,l=qo){const u=this.elements,c=1/(i-e),d=1/(r-o),f=1/(a-s),h=(i+e)*c,p=(r+o)*d;let v,b;if(l===qo)v=(a+s)*f,b=-2*f;else if(l===od)v=s*f,b=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-h,u[1]=0,u[5]=2*d,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=b,u[14]=-v,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const i=this.elements,r=e.elements;for(let o=0;o<16;o++)if(i[o]!==r[o])return!1;return!0}fromArray(e,i=0){for(let r=0;r<16;r++)this.elements[r]=e[r+i];return this}toArray(e=[],i=0){const r=this.elements;return e[i]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3],e[i+4]=r[4],e[i+5]=r[5],e[i+6]=r[6],e[i+7]=r[7],e[i+8]=r[8],e[i+9]=r[9],e[i+10]=r[10],e[i+11]=r[11],e[i+12]=r[12],e[i+13]=r[13],e[i+14]=r[14],e[i+15]=r[15],e}}const Nh=new me,_a=new Mn,LPe=new me(0,0,0),BPe=new me(1,1,1),Tc=new me,Ob=new me,hs=new me,l4=new Mn,u4=new ka;class Ps{constructor(e=0,i=0,r=0,o=Ps.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=r,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,r,o=this._order){return this._x=e,this._y=i,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,r=!0){const o=e.elements,s=o[0],a=o[4],l=o[8],u=o[1],c=o[5],d=o[9],f=o[2],h=o[6],p=o[10];switch(i){case"XYZ":this._y=Math.asin(gn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-gn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(gn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-gn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(gn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-gn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,i,r){return l4.makeRotationFromQuaternion(e),this.setFromRotationMatrix(l4,i,r)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return u4.setFromEuler(this),this.setFromQuaternion(u4,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ps.DEFAULT_ORDER="XYZ";class jI{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let FPe=0;const c4=new me,Oh=new ka,iu=new Mn,Db=new me,_m=new me,$Pe=new me,UPe=new ka,d4=new me(1,0,0),f4=new me(0,1,0),h4=new me(0,0,1),p4={type:"added"},kPe={type:"removed"},Dh={type:"childadded",child:null},zT={type:"childremoved",child:null};class Si extends Ju{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:FPe++}),this.uuid=Du(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Si.DEFAULT_UP.clone();const e=new me,i=new Ps,r=new ka,o=new me(1,1,1);function s(){r.setFromEuler(i,!1)}function a(){i.setFromQuaternion(r,void 0,!1)}i._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Mn},normalMatrix:{value:new Kt}}),this.matrix=new Mn,this.matrixWorld=new Mn,this.matrixAutoUpdate=Si.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Si.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new jI,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,i){this.quaternion.setFromAxisAngle(e,i)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,i){return Oh.setFromAxisAngle(e,i),this.quaternion.multiply(Oh),this}rotateOnWorldAxis(e,i){return Oh.setFromAxisAngle(e,i),this.quaternion.premultiply(Oh),this}rotateX(e){return this.rotateOnAxis(d4,e)}rotateY(e){return this.rotateOnAxis(f4,e)}rotateZ(e){return this.rotateOnAxis(h4,e)}translateOnAxis(e,i){return c4.copy(e).applyQuaternion(this.quaternion),this.position.add(c4.multiplyScalar(i)),this}translateX(e){return this.translateOnAxis(d4,e)}translateY(e){return this.translateOnAxis(f4,e)}translateZ(e){return this.translateOnAxis(h4,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(iu.copy(this.matrixWorld).invert())}lookAt(e,i,r){e.isVector3?Db.copy(e):Db.set(e,i,r);const o=this.parent;this.updateWorldMatrix(!0,!1),_m.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?iu.lookAt(_m,Db,this.up):iu.lookAt(Db,_m,this.up),this.quaternion.setFromRotationMatrix(iu),o&&(iu.extractRotation(o.matrixWorld),Oh.setFromRotationMatrix(iu),this.quaternion.premultiply(Oh.invert()))}add(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(p4),Dh.child=e,this.dispatchEvent(Dh),Dh.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(e);return i!==-1&&(e.parent=null,this.children.splice(i,1),e.dispatchEvent(kPe),zT.child=e,this.dispatchEvent(zT),zT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),iu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),iu.multiply(e.parent.matrixWorld)),e.applyMatrix4(iu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(p4),Dh.child=e,this.dispatchEvent(Dh),Dh.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,i){if(this[e]===i)return this;for(let r=0,o=this.children.length;r<o;r++){const a=this.children[r].getObjectByProperty(e,i);if(a!==void 0)return a}}getObjectsByProperty(e,i,r=[]){this[e]===i&&r.push(this);const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].getObjectsByProperty(e,i,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_m,e,$Pe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_m,UPe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return e.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(e){e(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverseVisible(e)}traverseAncestors(e){const i=this.parent;i!==null&&(e(i),i.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateMatrixWorld(e)}updateWorldMatrix(e,i){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),i===!0){const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(e){const i=e===void 0||typeof e=="string",r={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.visibility=this._visibility,o.active=this._active,o.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),o.maxInstanceCount=this._maxInstanceCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.geometryCount=this._geometryCount,o.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(o.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(o.boundingSphere={center:o.boundingSphere.center.toArray(),radius:o.boundingSphere.radius}),this.boundingBox!==null&&(o.boundingBox={min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}));function s(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let c=0,d=u.length;c<d;c++){const f=u[c];s(e.shapes,f)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,c=this.material.length;u<c;u++)l.push(s(e.materials,this.material[u]));o.material=l}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let l=0;l<this.children.length;l++)o.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];o.animations.push(s(e.animations,u))}}if(i){const l=a(e.geometries),u=a(e.materials),c=a(e.textures),d=a(e.images),f=a(e.shapes),h=a(e.skeletons),p=a(e.animations),v=a(e.nodes);l.length>0&&(r.geometries=l),u.length>0&&(r.materials=u),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),v.length>0&&(r.nodes=v)}return r.object=o,r;function a(l){const u=[];for(const c in l){const d=l[c];delete d.metadata,u.push(d)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,i=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),i===!0)for(let r=0;r<e.children.length;r++){const o=e.children[r];this.add(o.clone())}return this}}Si.DEFAULT_UP=new me(0,1,0);Si.DEFAULT_MATRIX_AUTO_UPDATE=!0;Si.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Sa=new me,ru=new me,HT=new me,ou=new me,Lh=new me,Bh=new me,g4=new me,GT=new me,VT=new me,WT=new me,jT=new dn,KT=new dn,XT=new dn;class Js{constructor(e=new me,i=new me,r=new me){this.a=e,this.b=i,this.c=r}static getNormal(e,i,r,o){o.subVectors(r,i),Sa.subVectors(e,i),o.cross(Sa);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(e,i,r,o,s){Sa.subVectors(o,i),ru.subVectors(r,i),HT.subVectors(e,i);const a=Sa.dot(Sa),l=Sa.dot(ru),u=Sa.dot(HT),c=ru.dot(ru),d=ru.dot(HT),f=a*c-l*l;if(f===0)return s.set(0,0,0),null;const h=1/f,p=(c*u-l*d)*h,v=(a*d-l*u)*h;return s.set(1-p-v,v,p)}static containsPoint(e,i,r,o){return this.getBarycoord(e,i,r,o,ou)===null?!1:ou.x>=0&&ou.y>=0&&ou.x+ou.y<=1}static getInterpolation(e,i,r,o,s,a,l,u){return this.getBarycoord(e,i,r,o,ou)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(s,ou.x),u.addScaledVector(a,ou.y),u.addScaledVector(l,ou.z),u)}static getInterpolatedAttribute(e,i,r,o,s,a){return jT.setScalar(0),KT.setScalar(0),XT.setScalar(0),jT.fromBufferAttribute(e,i),KT.fromBufferAttribute(e,r),XT.fromBufferAttribute(e,o),a.setScalar(0),a.addScaledVector(jT,s.x),a.addScaledVector(KT,s.y),a.addScaledVector(XT,s.z),a}static isFrontFacing(e,i,r,o){return Sa.subVectors(r,i),ru.subVectors(e,i),Sa.cross(ru).dot(o)<0}set(e,i,r){return this.a.copy(e),this.b.copy(i),this.c.copy(r),this}setFromPointsAndIndices(e,i,r,o){return this.a.copy(e[i]),this.b.copy(e[r]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,i,r,o){return this.a.fromBufferAttribute(e,i),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Sa.subVectors(this.c,this.b),ru.subVectors(this.a,this.b),Sa.cross(ru).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Js.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,i){return Js.getBarycoord(e,this.a,this.b,this.c,i)}getInterpolation(e,i,r,o,s){return Js.getInterpolation(e,this.a,this.b,this.c,i,r,o,s)}containsPoint(e){return Js.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Js.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,i){const r=this.a,o=this.b,s=this.c;let a,l;Lh.subVectors(o,r),Bh.subVectors(s,r),GT.subVectors(e,r);const u=Lh.dot(GT),c=Bh.dot(GT);if(u<=0&&c<=0)return i.copy(r);VT.subVectors(e,o);const d=Lh.dot(VT),f=Bh.dot(VT);if(d>=0&&f<=d)return i.copy(o);const h=u*f-d*c;if(h<=0&&u>=0&&d<=0)return a=u/(u-d),i.copy(r).addScaledVector(Lh,a);WT.subVectors(e,s);const p=Lh.dot(WT),v=Bh.dot(WT);if(v>=0&&p<=v)return i.copy(s);const b=p*c-u*v;if(b<=0&&c>=0&&v<=0)return l=c/(c-v),i.copy(r).addScaledVector(Bh,l);const y=d*v-p*f;if(y<=0&&f-d>=0&&p-v>=0)return g4.subVectors(s,o),l=(f-d)/(f-d+(p-v)),i.copy(o).addScaledVector(g4,l);const m=1/(y+b+h);return a=b*m,l=h*m,i.copy(r).addScaledVector(Lh,a).addScaledVector(Bh,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const M9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ac={h:0,s:0,l:0},Lb={h:0,s:0,l:0};function qT(n,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(e-n)*6*i:i<1/2?e:i<2/3?n+(e-n)*6*(2/3-i):n}class Lt{constructor(e,i,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,i,r)}set(e,i,r){if(i===void 0&&r===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,i,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,i=Ft){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wn.toWorkingColorSpace(this,i),this}setRGB(e,i,r,o=wn.workingColorSpace){return this.r=e,this.g=i,this.b=r,wn.toWorkingColorSpace(this,o),this}setHSL(e,i,r,o=wn.workingColorSpace){if(e=VI(e,1),i=gn(i,0,1),r=gn(r,0,1),i===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+i):r+i-r*i,a=2*r-s;this.r=qT(a,s,e+1/3),this.g=qT(a,s,e),this.b=qT(a,s,e-1/3)}return wn.toWorkingColorSpace(this,o),this}setStyle(e,i=Ft){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=o[1],l=o[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,i);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,i);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,i);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=o[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,i);if(a===6)return this.setHex(parseInt(s,16),i);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,i);return this}setColorName(e,i=Ft){const r=M9[e.toLowerCase()];return r!==void 0?this.setHex(r,i):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Lu(e.r),this.g=Lu(e.g),this.b=Lu(e.b),this}copyLinearToSRGB(e){return this.r=Dp(e.r),this.g=Dp(e.g),this.b=Dp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ft){return wn.fromWorkingColorSpace(Jr.copy(this),e),Math.round(gn(Jr.r*255,0,255))*65536+Math.round(gn(Jr.g*255,0,255))*256+Math.round(gn(Jr.b*255,0,255))}getHexString(e=Ft){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,i=wn.workingColorSpace){wn.fromWorkingColorSpace(Jr.copy(this),i);const r=Jr.r,o=Jr.g,s=Jr.b,a=Math.max(r,o,s),l=Math.min(r,o,s);let u,c;const d=(l+a)/2;if(l===a)u=0,c=0;else{const f=a-l;switch(c=d<=.5?f/(a+l):f/(2-a-l),a){case r:u=(o-s)/f+(o<s?6:0);break;case o:u=(s-r)/f+2;break;case s:u=(r-o)/f+4;break}u/=6}return e.h=u,e.s=c,e.l=d,e}getRGB(e,i=wn.workingColorSpace){return wn.fromWorkingColorSpace(Jr.copy(this),i),e.r=Jr.r,e.g=Jr.g,e.b=Jr.b,e}getStyle(e=Ft){wn.fromWorkingColorSpace(Jr.copy(this),e);const i=Jr.r,r=Jr.g,o=Jr.b;return e!==Ft?`color(${e} ${i.toFixed(3)} ${r.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(i*255)},${Math.round(r*255)},${Math.round(o*255)})`}offsetHSL(e,i,r){return this.getHSL(Ac),this.setHSL(Ac.h+e,Ac.s+i,Ac.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,i){return this.r=e.r+i.r,this.g=e.g+i.g,this.b=e.b+i.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,i){return this.r+=(e.r-this.r)*i,this.g+=(e.g-this.g)*i,this.b+=(e.b-this.b)*i,this}lerpColors(e,i,r){return this.r=e.r+(i.r-e.r)*r,this.g=e.g+(i.g-e.g)*r,this.b=e.b+(i.b-e.b)*r,this}lerpHSL(e,i){this.getHSL(Ac),e.getHSL(Lb);const r=Cv(Ac.h,Lb.h,i),o=Cv(Ac.s,Lb.s,i),s=Cv(Ac.l,Lb.l,i);return this.setHSL(r,o,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const i=this.r,r=this.g,o=this.b,s=e.elements;return this.r=s[0]*i+s[3]*r+s[6]*o,this.g=s[1]*i+s[4]*r+s[7]*o,this.b=s[2]*i+s[5]*r+s[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,i=0){return this.r=e[i],this.g=e[i+1],this.b=e[i+2],this}toArray(e=[],i=0){return e[i]=this.r,e[i+1]=this.g,e[i+2]=this.b,e}fromBufferAttribute(e,i){return this.r=e.getX(i),this.g=e.getY(i),this.b=e.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Jr=new Lt;Lt.NAMES=M9;let zPe=0;class uo extends Ju{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:zPe++}),this.uuid=Du(),this.name="",this.type="Material",this.blending=ra,this.side=Ua,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ty,this.blendDst=ny,this.blendEquation=Cs,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Lt(0,0,0),this.blendAlpha=0,this.depthFunc=nd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=v2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jd,this.stencilZFail=jd,this.stencilZPass=jd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const i in e){const r=e[i];if(r===void 0){console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);continue}const o=this[i];if(o===void 0){console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(r):o&&o.isVector3&&r&&r.isVector3?o.copy(r):this[i]=r}}toJSON(e){const i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ra&&(r.blending=this.blending),this.side!==Ua&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==ty&&(r.blendSrc=this.blendSrc),this.blendDst!==ny&&(r.blendDst=this.blendDst),this.blendEquation!==Cs&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==nd&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==v2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==jd&&(r.stencilFail=this.stencilFail),this.stencilZFail!==jd&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==jd&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function o(s){const a=[];for(const l in s){const u=s[l];delete u.metadata,a.push(u)}return a}if(i){const s=o(e.textures),a=o(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const i=e.clippingPlanes;let r=null;if(i!==null){const o=i.length;r=new Array(o);for(let s=0;s!==o;++s)r[s]=i[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Qy extends uo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const yu=HPe();function HPe(){const n=new ArrayBuffer(4),e=new Float32Array(n),i=new Uint32Array(n),r=new Uint32Array(512),o=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(r[u]=0,r[u|256]=32768,o[u]=24,o[u|256]=24):c<-14?(r[u]=1024>>-c-14,r[u|256]=1024>>-c-14|32768,o[u]=-c-1,o[u|256]=-c-1):c<=15?(r[u]=c+15<<10,r[u|256]=c+15<<10|32768,o[u]=13,o[u|256]=13):c<128?(r[u]=31744,r[u|256]=64512,o[u]=24,o[u|256]=24):(r[u]=31744,r[u|256]=64512,o[u]=13,o[u|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[u]=c|d}for(let u=1024;u<2048;++u)s[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)a[u]=u<<23;a[31]=1199570944,a[32]=2147483648;for(let u=33;u<63;++u)a[u]=2147483648+(u-32<<23);a[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:i,baseTable:r,shiftTable:o,mantissaTable:s,exponentTable:a,offsetTable:l}}function ps(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=gn(n,-65504,65504),yu.floatView[0]=n;const e=yu.uint32View[0],i=e>>23&511;return yu.baseTable[i]+((e&8388607)>>yu.shiftTable[i])}function Bb(n){const e=n>>10;return yu.uint32View[0]=yu.mantissaTable[yu.offsetTable[e]+(n&1023)]+yu.exponentTable[e],yu.floatView[0]}const rr=new me,Fb=new dt;class Wr{constructor(e,i,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=i,this.count=e!==void 0?e.length/i:0,this.normalized=r,this.usage=dS,this.updateRanges=[],this.gpuType=er,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,i){this.updateRanges.push({start:e,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,i,r){e*=this.itemSize,r*=i.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[e+o]=i.array[r+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let i=0,r=this.count;i<r;i++)Fb.fromBufferAttribute(this,i),Fb.applyMatrix3(e),this.setXY(i,Fb.x,Fb.y);else if(this.itemSize===3)for(let i=0,r=this.count;i<r;i++)rr.fromBufferAttribute(this,i),rr.applyMatrix3(e),this.setXYZ(i,rr.x,rr.y,rr.z);return this}applyMatrix4(e){for(let i=0,r=this.count;i<r;i++)rr.fromBufferAttribute(this,i),rr.applyMatrix4(e),this.setXYZ(i,rr.x,rr.y,rr.z);return this}applyNormalMatrix(e){for(let i=0,r=this.count;i<r;i++)rr.fromBufferAttribute(this,i),rr.applyNormalMatrix(e),this.setXYZ(i,rr.x,rr.y,rr.z);return this}transformDirection(e){for(let i=0,r=this.count;i<r;i++)rr.fromBufferAttribute(this,i),rr.transformDirection(e),this.setXYZ(i,rr.x,rr.y,rr.z);return this}set(e,i=0){return this.array.set(e,i),this}getComponent(e,i){let r=this.array[e*this.itemSize+i];return this.normalized&&(r=Eo(r,this.array)),r}setComponent(e,i,r){return this.normalized&&(r=pn(r,this.array)),this.array[e*this.itemSize+i]=r,this}getX(e){let i=this.array[e*this.itemSize];return this.normalized&&(i=Eo(i,this.array)),i}setX(e,i){return this.normalized&&(i=pn(i,this.array)),this.array[e*this.itemSize]=i,this}getY(e){let i=this.array[e*this.itemSize+1];return this.normalized&&(i=Eo(i,this.array)),i}setY(e,i){return this.normalized&&(i=pn(i,this.array)),this.array[e*this.itemSize+1]=i,this}getZ(e){let i=this.array[e*this.itemSize+2];return this.normalized&&(i=Eo(i,this.array)),i}setZ(e,i){return this.normalized&&(i=pn(i,this.array)),this.array[e*this.itemSize+2]=i,this}getW(e){let i=this.array[e*this.itemSize+3];return this.normalized&&(i=Eo(i,this.array)),i}setW(e,i){return this.normalized&&(i=pn(i,this.array)),this.array[e*this.itemSize+3]=i,this}setXY(e,i,r){return e*=this.itemSize,this.normalized&&(i=pn(i,this.array),r=pn(r,this.array)),this.array[e+0]=i,this.array[e+1]=r,this}setXYZ(e,i,r,o){return e*=this.itemSize,this.normalized&&(i=pn(i,this.array),r=pn(r,this.array),o=pn(o,this.array)),this.array[e+0]=i,this.array[e+1]=r,this.array[e+2]=o,this}setXYZW(e,i,r,o,s){return e*=this.itemSize,this.normalized&&(i=pn(i,this.array),r=pn(r,this.array),o=pn(o,this.array),s=pn(s,this.array)),this.array[e+0]=i,this.array[e+1]=r,this.array[e+2]=o,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==dS&&(e.usage=this.usage),e}}class KI extends Wr{constructor(e,i,r){super(new Uint16Array(e),i,r)}}class XI extends Wr{constructor(e,i,r){super(new Uint32Array(e),i,r)}}class R9 extends Wr{constructor(e,i,r){super(new Uint16Array(e),i,r),this.isFloat16BufferAttribute=!0}getX(e){let i=Bb(this.array[e*this.itemSize]);return this.normalized&&(i=Eo(i,this.array)),i}setX(e,i){return this.normalized&&(i=pn(i,this.array)),this.array[e*this.itemSize]=ps(i),this}getY(e){let i=Bb(this.array[e*this.itemSize+1]);return this.normalized&&(i=Eo(i,this.array)),i}setY(e,i){return this.normalized&&(i=pn(i,this.array)),this.array[e*this.itemSize+1]=ps(i),this}getZ(e){let i=Bb(this.array[e*this.itemSize+2]);return this.normalized&&(i=Eo(i,this.array)),i}setZ(e,i){return this.normalized&&(i=pn(i,this.array)),this.array[e*this.itemSize+2]=ps(i),this}getW(e){let i=Bb(this.array[e*this.itemSize+3]);return this.normalized&&(i=Eo(i,this.array)),i}setW(e,i){return this.normalized&&(i=pn(i,this.array)),this.array[e*this.itemSize+3]=ps(i),this}setXY(e,i,r){return e*=this.itemSize,this.normalized&&(i=pn(i,this.array),r=pn(r,this.array)),this.array[e+0]=ps(i),this.array[e+1]=ps(r),this}setXYZ(e,i,r,o){return e*=this.itemSize,this.normalized&&(i=pn(i,this.array),r=pn(r,this.array),o=pn(o,this.array)),this.array[e+0]=ps(i),this.array[e+1]=ps(r),this.array[e+2]=ps(o),this}setXYZW(e,i,r,o,s){return e*=this.itemSize,this.normalized&&(i=pn(i,this.array),r=pn(r,this.array),o=pn(o,this.array),s=pn(s,this.array)),this.array[e+0]=ps(i),this.array[e+1]=ps(r),this.array[e+2]=ps(o),this.array[e+3]=ps(s),this}}class ir extends Wr{constructor(e,i,r){super(new Float32Array(e),i,r)}}let GPe=0;const Ks=new Mn,YT=new Si,Fh=new me,gs=new th,Sm=new th,Ir=new me;class co extends Ju{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:GPe++}),this.uuid=Du(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(T9(e)?XI:KI)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,i){return this.attributes[e]=i,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,i,r=0){this.groups.push({start:e,count:i,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,i){this.drawRange.start=e,this.drawRange.count=i}applyMatrix4(e){const i=this.attributes.position;i!==void 0&&(i.applyMatrix4(e),i.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Kt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ks.makeRotationFromQuaternion(e),this.applyMatrix4(Ks),this}rotateX(e){return Ks.makeRotationX(e),this.applyMatrix4(Ks),this}rotateY(e){return Ks.makeRotationY(e),this.applyMatrix4(Ks),this}rotateZ(e){return Ks.makeRotationZ(e),this.applyMatrix4(Ks),this}translate(e,i,r){return Ks.makeTranslation(e,i,r),this.applyMatrix4(Ks),this}scale(e,i,r){return Ks.makeScale(e,i,r),this.applyMatrix4(Ks),this}lookAt(e){return YT.lookAt(e),YT.updateMatrix(),this.applyMatrix4(YT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Fh).negate(),this.translate(Fh.x,Fh.y,Fh.z),this}setFromPoints(e){const i=this.getAttribute("position");if(i===void 0){const r=[];for(let o=0,s=e.length;o<s;o++){const a=e[o];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new ir(r,3))}else{const r=Math.min(e.length,i.count);for(let o=0;o<r;o++){const s=e[o];i.setXYZ(o,s.x,s.y,s.z||0)}e.length>i.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),i.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new th);const e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new me(-1/0,-1/0,-1/0),new me(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),i)for(let r=0,o=i.length;r<o;r++){const s=i[r];gs.setFromBufferAttribute(s),this.morphTargetsRelative?(Ir.addVectors(this.boundingBox.min,gs.min),this.boundingBox.expandByPoint(Ir),Ir.addVectors(this.boundingBox.max,gs.max),this.boundingBox.expandByPoint(Ir)):(this.boundingBox.expandByPoint(gs.min),this.boundingBox.expandByPoint(gs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Dw);const e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new me,1/0);return}if(e){const r=this.boundingSphere.center;if(gs.setFromBufferAttribute(e),i)for(let s=0,a=i.length;s<a;s++){const l=i[s];Sm.setFromBufferAttribute(l),this.morphTargetsRelative?(Ir.addVectors(gs.min,Sm.min),gs.expandByPoint(Ir),Ir.addVectors(gs.max,Sm.max),gs.expandByPoint(Ir)):(gs.expandByPoint(Sm.min),gs.expandByPoint(Sm.max))}gs.getCenter(r);let o=0;for(let s=0,a=e.count;s<a;s++)Ir.fromBufferAttribute(e,s),o=Math.max(o,r.distanceToSquared(Ir));if(i)for(let s=0,a=i.length;s<a;s++){const l=i[s],u=this.morphTargetsRelative;for(let c=0,d=l.count;c<d;c++)Ir.fromBufferAttribute(l,c),u&&(Fh.fromBufferAttribute(e,c),Ir.add(Fh)),o=Math.max(o,r.distanceToSquared(Ir))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,i=this.attributes;if(e===null||i.position===void 0||i.normal===void 0||i.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=i.position,o=i.normal,s=i.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Wr(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),l=[],u=[];for(let R=0;R<r.count;R++)l[R]=new me,u[R]=new me;const c=new me,d=new me,f=new me,h=new dt,p=new dt,v=new dt,b=new me,y=new me;function m(R,E,P){c.fromBufferAttribute(r,R),d.fromBufferAttribute(r,E),f.fromBufferAttribute(r,P),h.fromBufferAttribute(s,R),p.fromBufferAttribute(s,E),v.fromBufferAttribute(s,P),d.sub(c),f.sub(c),p.sub(h),v.sub(h);const N=1/(p.x*v.y-v.x*p.y);isFinite(N)&&(b.copy(d).multiplyScalar(v.y).addScaledVector(f,-p.y).multiplyScalar(N),y.copy(f).multiplyScalar(p.x).addScaledVector(d,-v.x).multiplyScalar(N),l[R].add(b),l[E].add(b),l[P].add(b),u[R].add(y),u[E].add(y),u[P].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let R=0,E=_.length;R<E;++R){const P=_[R],N=P.start,D=P.count;for(let $=N,L=N+D;$<L;$+=3)m(e.getX($+0),e.getX($+1),e.getX($+2))}const S=new me,w=new me,T=new me,A=new me;function C(R){T.fromBufferAttribute(o,R),A.copy(T);const E=l[R];S.copy(E),S.sub(T.multiplyScalar(T.dot(E))).normalize(),w.crossVectors(A,E);const N=w.dot(u[R])<0?-1:1;a.setXYZW(R,S.x,S.y,S.z,N)}for(let R=0,E=_.length;R<E;++R){const P=_[R],N=P.start,D=P.count;for(let $=N,L=N+D;$<L;$+=3)C(e.getX($+0)),C(e.getX($+1)),C(e.getX($+2))}}computeVertexNormals(){const e=this.index,i=this.getAttribute("position");if(i!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Wr(new Float32Array(i.count*3),3),this.setAttribute("normal",r);else for(let h=0,p=r.count;h<p;h++)r.setXYZ(h,0,0,0);const o=new me,s=new me,a=new me,l=new me,u=new me,c=new me,d=new me,f=new me;if(e)for(let h=0,p=e.count;h<p;h+=3){const v=e.getX(h+0),b=e.getX(h+1),y=e.getX(h+2);o.fromBufferAttribute(i,v),s.fromBufferAttribute(i,b),a.fromBufferAttribute(i,y),d.subVectors(a,s),f.subVectors(o,s),d.cross(f),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,b),c.fromBufferAttribute(r,y),l.add(d),u.add(d),c.add(d),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(b,u.x,u.y,u.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let h=0,p=i.count;h<p;h+=3)o.fromBufferAttribute(i,h+0),s.fromBufferAttribute(i,h+1),a.fromBufferAttribute(i,h+2),d.subVectors(a,s),f.subVectors(o,s),d.cross(f),r.setXYZ(h+0,d.x,d.y,d.z),r.setXYZ(h+1,d.x,d.y,d.z),r.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let i=0,r=e.count;i<r;i++)Ir.fromBufferAttribute(e,i),Ir.normalize(),e.setXYZ(i,Ir.x,Ir.y,Ir.z)}toNonIndexed(){function e(l,u){const c=l.array,d=l.itemSize,f=l.normalized,h=new c.constructor(u.length*d);let p=0,v=0;for(let b=0,y=u.length;b<y;b++){l.isInterleavedBufferAttribute?p=u[b]*l.data.stride+l.offset:p=u[b]*d;for(let m=0;m<d;m++)h[v++]=c[p++]}return new Wr(h,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const i=new co,r=this.index.array,o=this.attributes;for(const l in o){const u=o[l],c=e(u,r);i.setAttribute(l,c)}const s=this.morphAttributes;for(const l in s){const u=[],c=s[l];for(let d=0,f=c.length;d<f;d++){const h=c[d],p=e(h,r);u.push(p)}i.morphAttributes[l]=u}i.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,u=a.length;l<u;l++){const c=a[l];i.addGroup(c.start,c.count,c.materialIndex)}return i}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const i=this.index;i!==null&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});const r=this.attributes;for(const u in r){const c=r[u];e.data.attributes[u]=c.toJSON(e.data)}const o={};let s=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],d=[];for(let f=0,h=c.length;f<h;f++){const p=c[f];d.push(p.toJSON(e.data))}d.length>0&&(o[u]=d,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const i={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(i));const o=e.attributes;for(const c in o){const d=o[c];this.setAttribute(c,d.clone(i))}const s=e.morphAttributes;for(const c in s){const d=[],f=s[c];for(let h=0,p=f.length;h<p;h++)d.push(f[h].clone(i));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,d=a.length;c<d;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const m4=new Mn,$d=new Lw,$b=new Dw,v4=new me,Ub=new me,kb=new me,zb=new me,QT=new me,Hb=new me,y4=new me,Gb=new me;class Lr extends Si{constructor(e=new co,i=new Qy){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const o=i[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,i){const r=this.geometry,o=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;i.fromBufferAttribute(o,e);const l=this.morphTargetInfluences;if(s&&l){Hb.set(0,0,0);for(let u=0,c=s.length;u<c;u++){const d=l[u],f=s[u];d!==0&&(QT.fromBufferAttribute(f,e),a?Hb.addScaledVector(QT,d):Hb.addScaledVector(QT.sub(i),d))}i.add(Hb)}return i}raycast(e,i){const r=this.geometry,o=this.material,s=this.matrixWorld;o!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),$b.copy(r.boundingSphere),$b.applyMatrix4(s),$d.copy(e.ray).recast(e.near),!($b.containsPoint($d.origin)===!1&&($d.intersectSphere($b,v4)===null||$d.origin.distanceToSquared(v4)>(e.far-e.near)**2))&&(m4.copy(s).invert(),$d.copy(e.ray).applyMatrix4(m4),!(r.boundingBox!==null&&$d.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,i,$d)))}_computeIntersections(e,i,r){let o;const s=this.geometry,a=this.material,l=s.index,u=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,h=s.groups,p=s.drawRange;if(l!==null)if(Array.isArray(a))for(let v=0,b=h.length;v<b;v++){const y=h[v],m=a[y.materialIndex],_=Math.max(y.start,p.start),S=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let w=_,T=S;w<T;w+=3){const A=l.getX(w),C=l.getX(w+1),R=l.getX(w+2);o=Vb(this,m,e,r,c,d,f,A,C,R),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,i.push(o))}}else{const v=Math.max(0,p.start),b=Math.min(l.count,p.start+p.count);for(let y=v,m=b;y<m;y+=3){const _=l.getX(y),S=l.getX(y+1),w=l.getX(y+2);o=Vb(this,a,e,r,c,d,f,_,S,w),o&&(o.faceIndex=Math.floor(y/3),i.push(o))}}else if(u!==void 0)if(Array.isArray(a))for(let v=0,b=h.length;v<b;v++){const y=h[v],m=a[y.materialIndex],_=Math.max(y.start,p.start),S=Math.min(u.count,Math.min(y.start+y.count,p.start+p.count));for(let w=_,T=S;w<T;w+=3){const A=w,C=w+1,R=w+2;o=Vb(this,m,e,r,c,d,f,A,C,R),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,i.push(o))}}else{const v=Math.max(0,p.start),b=Math.min(u.count,p.start+p.count);for(let y=v,m=b;y<m;y+=3){const _=y,S=y+1,w=y+2;o=Vb(this,a,e,r,c,d,f,_,S,w),o&&(o.faceIndex=Math.floor(y/3),i.push(o))}}}}function VPe(n,e,i,r,o,s,a,l){let u;if(e.side===Ni?u=r.intersectTriangle(a,s,o,!0,l):u=r.intersectTriangle(o,s,a,e.side===Ua,l),u===null)return null;Gb.copy(l),Gb.applyMatrix4(n.matrixWorld);const c=i.ray.origin.distanceTo(Gb);return c<i.near||c>i.far?null:{distance:c,point:Gb.clone(),object:n}}function Vb(n,e,i,r,o,s,a,l,u,c){n.getVertexPosition(l,Ub),n.getVertexPosition(u,kb),n.getVertexPosition(c,zb);const d=VPe(n,e,i,r,Ub,kb,zb,y4);if(d){const f=new me;Js.getBarycoord(y4,Ub,kb,zb,f),o&&(d.uv=Js.getInterpolatedAttribute(o,l,u,c,f,new dt)),s&&(d.uv1=Js.getInterpolatedAttribute(s,l,u,c,f,new dt)),a&&(d.normal=Js.getInterpolatedAttribute(a,l,u,c,f,new me),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const h={a:l,b:u,c,normal:new me,materialIndex:0};Js.getNormal(Ub,kb,zb,h.normal),d.face=h,d.barycoord=f}return d}class nh extends co{constructor(e=1,i=1,r=1,o=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:i,depth:r,widthSegments:o,heightSegments:s,depthSegments:a};const l=this;o=Math.floor(o),s=Math.floor(s),a=Math.floor(a);const u=[],c=[],d=[],f=[];let h=0,p=0;v("z","y","x",-1,-1,r,i,e,a,s,0),v("z","y","x",1,-1,r,i,-e,a,s,1),v("x","z","y",1,1,e,r,i,o,a,2),v("x","z","y",1,-1,e,r,-i,o,a,3),v("x","y","z",1,-1,e,i,r,o,s,4),v("x","y","z",-1,-1,e,i,-r,o,s,5),this.setIndex(u),this.setAttribute("position",new ir(c,3)),this.setAttribute("normal",new ir(d,3)),this.setAttribute("uv",new ir(f,2));function v(b,y,m,_,S,w,T,A,C,R,E){const P=w/C,N=T/R,D=w/2,$=T/2,L=A/2,F=C+1,U=R+1;let k=0,H=0;const z=new me;for(let Q=0;Q<U;Q++){const Z=Q*N-$;for(let ie=0;ie<F;ie++){const we=ie*P-D;z[b]=we*_,z[y]=Z*S,z[m]=L,c.push(z.x,z.y,z.z),z[b]=0,z[y]=0,z[m]=A>0?1:-1,d.push(z.x,z.y,z.z),f.push(ie/C),f.push(1-Q/R),k+=1}}for(let Q=0;Q<R;Q++)for(let Z=0;Z<C;Z++){const ie=h+Z+F*Q,we=h+Z+F*(Q+1),J=h+(Z+1)+F*(Q+1),se=h+(Z+1)+F*Q;u.push(ie,we,se),u.push(we,J,se),H+=6}l.addGroup(p,H,E),p+=H,h+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function _g(n){const e={};for(const i in n){e[i]={};for(const r in n[i]){const o=n[i][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[i][r]=null):e[i][r]=o.clone():Array.isArray(o)?e[i][r]=o.slice():e[i][r]=o}}return e}function yo(n){const e={};for(let i=0;i<n.length;i++){const r=_g(n[i]);for(const o in r)e[o]=r[o]}return e}function WPe(n){const e=[];for(let i=0;i<n.length;i++)e.push(n[i].clone());return e}function P9(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:wn.workingColorSpace}const I9={clone:_g,merge:yo};var jPe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,KPe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Al extends uo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jPe,this.fragmentShader=KPe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_g(e.uniforms),this.uniformsGroups=WPe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const i=super.toJSON(e);i.glslVersion=this.glslVersion,i.uniforms={};for(const o in this.uniforms){const a=this.uniforms[o].value;a&&a.isTexture?i.uniforms[o]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?i.uniforms[o]={type:"c",value:a.getHex()}:a&&a.isVector2?i.uniforms[o]={type:"v2",value:a.toArray()}:a&&a.isVector3?i.uniforms[o]={type:"v3",value:a.toArray()}:a&&a.isVector4?i.uniforms[o]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?i.uniforms[o]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?i.uniforms[o]={type:"m4",value:a.toArray()}:i.uniforms[o]={value:a}}Object.keys(this.defines).length>0&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader,i.lights=this.lights,i.clipping=this.clipping;const r={};for(const o in this.extensions)this.extensions[o]===!0&&(r[o]=!0);return Object.keys(r).length>0&&(i.extensions=r),i}}class N9 extends Si{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Mn,this.projectionMatrix=new Mn,this.projectionMatrixInverse=new Mn,this.coordinateSystem=qo}copy(e,i){return super.copy(e,i),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,i){super.updateWorldMatrix(e,i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ec=new me,b4=new dt,x4=new dt;class wo extends N9{constructor(e=50,i=1,r=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=o,this.focus=10,this.aspect=i,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,i){return super.copy(e,i),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const i=.5*this.getFilmHeight()/e;this.fov=xg*2*Math.atan(i),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(wv*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return xg*2*Math.atan(Math.tan(wv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,i,r){Ec.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Ec.x,Ec.y).multiplyScalar(-e/Ec.z),Ec.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ec.x,Ec.y).multiplyScalar(-e/Ec.z)}getViewSize(e,i){return this.getViewBounds(e,b4,x4),i.subVectors(x4,b4)}setViewOffset(e,i,r,o,s,a){this.aspect=e/i,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=i,this.view.offsetX=r,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let i=e*Math.tan(wv*.5*this.fov)/this.zoom,r=2*i,o=this.aspect*r,s=-.5*o;const a=this.view;if(this.view!==null&&this.view.enabled){const u=a.fullWidth,c=a.fullHeight;s+=a.offsetX*o/u,i-=a.offsetY*r/c,o*=a.width/u,r*=a.height/c}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+o,i,i-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const i=super.toJSON(e);return i.object.fov=this.fov,i.object.zoom=this.zoom,i.object.near=this.near,i.object.far=this.far,i.object.focus=this.focus,i.object.aspect=this.aspect,this.view!==null&&(i.object.view=Object.assign({},this.view)),i.object.filmGauge=this.filmGauge,i.object.filmOffset=this.filmOffset,i}}const $h=-90,Uh=1;class O9 extends Si{constructor(e,i,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const o=new wo($h,Uh,e,i);o.layers=this.layers,this.add(o);const s=new wo($h,Uh,e,i);s.layers=this.layers,this.add(s);const a=new wo($h,Uh,e,i);a.layers=this.layers,this.add(a);const l=new wo($h,Uh,e,i);l.layers=this.layers,this.add(l);const u=new wo($h,Uh,e,i);u.layers=this.layers,this.add(u);const c=new wo($h,Uh,e,i);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,i=this.children.concat(),[r,o,s,a,l,u]=i;for(const c of i)this.remove(c);if(e===qo)r.up.set(0,1,0),r.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===od)r.up.set(0,-1,0),r.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of i)this.add(c),c.updateMatrixWorld()}update(e,i){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:o}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,l,u,c,d]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,o),e.render(i,s),e.setRenderTarget(r,1,o),e.render(i,a),e.setRenderTarget(r,2,o),e.render(i,l),e.setRenderTarget(r,3,o),e.render(i,u),e.setRenderTarget(r,4,o),e.render(i,c),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,o),e.render(i,d),e.setRenderTarget(f,h,p),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Bw extends dr{constructor(e,i,r,o,s,a,l,u,c,d){e=e!==void 0?e:[],i=i!==void 0?i:ca,super(e,i,r,o,s,a,l,u,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class D9 extends sd{constructor(e=1,i={}){super(e,e,i),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},o=[r,r,r,r,r,r];this.texture=new Bw(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:_r}fromEquirectangularTexture(e,i){this.texture.type=i.type,this.texture.colorSpace=i.colorSpace,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new nh(5,5,5),s=new Al({name:"CubemapFromEquirect",uniforms:_g(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ni,blending:Jo});s.uniforms.tEquirect.value=i;const a=new Lr(o,s),l=i.minFilter;return i.minFilter===Xo&&(i.minFilter=_r),new O9(1,10,this).update(e,a),i.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,i,r,o){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(i,r,o);e.setRenderTarget(s)}}class qI extends Si{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ps,this.environmentIntensity=1,this.environmentRotation=new Ps,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,i){return super.copy(e,i),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const i=super.toJSON(e);return this.fog!==null&&(i.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(i.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(i.object.backgroundIntensity=this.backgroundIntensity),i.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(i.object.environmentIntensity=this.environmentIntensity),i.object.environmentRotation=this.environmentRotation.toArray(),i}}class YI{constructor(e,i){this.isInterleavedBuffer=!0,this.array=e,this.stride=i,this.count=e!==void 0?e.length/i:0,this.usage=dS,this.updateRanges=[],this.version=0,this.uuid=Du()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,i){this.updateRanges.push({start:e,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,i,r){e*=this.stride,r*=i.stride;for(let o=0,s=this.stride;o<s;o++)this.array[e+o]=i.array[r+o];return this}set(e,i=0){return this.array.set(e,i),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Du()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const i=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(i,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Du()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const mo=new me;class by{constructor(e,i,r,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=i,this.offset=r,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let i=0,r=this.data.count;i<r;i++)mo.fromBufferAttribute(this,i),mo.applyMatrix4(e),this.setXYZ(i,mo.x,mo.y,mo.z);return this}applyNormalMatrix(e){for(let i=0,r=this.count;i<r;i++)mo.fromBufferAttribute(this,i),mo.applyNormalMatrix(e),this.setXYZ(i,mo.x,mo.y,mo.z);return this}transformDirection(e){for(let i=0,r=this.count;i<r;i++)mo.fromBufferAttribute(this,i),mo.transformDirection(e),this.setXYZ(i,mo.x,mo.y,mo.z);return this}getComponent(e,i){let r=this.array[e*this.data.stride+this.offset+i];return this.normalized&&(r=Eo(r,this.array)),r}setComponent(e,i,r){return this.normalized&&(r=pn(r,this.array)),this.data.array[e*this.data.stride+this.offset+i]=r,this}setX(e,i){return this.normalized&&(i=pn(i,this.array)),this.data.array[e*this.data.stride+this.offset]=i,this}setY(e,i){return this.normalized&&(i=pn(i,this.array)),this.data.array[e*this.data.stride+this.offset+1]=i,this}setZ(e,i){return this.normalized&&(i=pn(i,this.array)),this.data.array[e*this.data.stride+this.offset+2]=i,this}setW(e,i){return this.normalized&&(i=pn(i,this.array)),this.data.array[e*this.data.stride+this.offset+3]=i,this}getX(e){let i=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(i=Eo(i,this.array)),i}getY(e){let i=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(i=Eo(i,this.array)),i}getZ(e){let i=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(i=Eo(i,this.array)),i}getW(e){let i=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(i=Eo(i,this.array)),i}setXY(e,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(i=pn(i,this.array),r=pn(r,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this}setXYZ(e,i,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(i=pn(i,this.array),r=pn(r,this.array),o=pn(o,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this.data.array[e+2]=o,this}setXYZW(e,i,r,o,s){return e=e*this.data.stride+this.offset,this.normalized&&(i=pn(i,this.array),r=pn(r,this.array),o=pn(o,this.array),s=pn(s,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this.data.array[e+2]=o,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)i.push(this.data.array[o+s])}return new Wr(new this.array.constructor(i),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new by(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)i.push(this.data.array[o+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:i,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class QI extends uo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let kh;const wm=new me,zh=new me,Hh=new me,Gh=new dt,Cm=new dt,L9=new Mn,Wb=new me,Tm=new me,jb=new me,_4=new dt,ZT=new dt,S4=new dt;class XPe extends Si{constructor(e=new QI){if(super(),this.isSprite=!0,this.type="Sprite",kh===void 0){kh=new co;const i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new YI(i,5);kh.setIndex([0,1,2,0,2,3]),kh.setAttribute("position",new by(r,3,0,!1)),kh.setAttribute("uv",new by(r,2,3,!1))}this.geometry=kh,this.material=e,this.center=new dt(.5,.5)}raycast(e,i){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),zh.setFromMatrixScale(this.matrixWorld),L9.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Hh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&zh.multiplyScalar(-Hh.z);const r=this.material.rotation;let o,s;r!==0&&(s=Math.cos(r),o=Math.sin(r));const a=this.center;Kb(Wb.set(-.5,-.5,0),Hh,a,zh,o,s),Kb(Tm.set(.5,-.5,0),Hh,a,zh,o,s),Kb(jb.set(.5,.5,0),Hh,a,zh,o,s),_4.set(0,0),ZT.set(1,0),S4.set(1,1);let l=e.ray.intersectTriangle(Wb,Tm,jb,!1,wm);if(l===null&&(Kb(Tm.set(-.5,.5,0),Hh,a,zh,o,s),ZT.set(0,1),l=e.ray.intersectTriangle(Wb,jb,Tm,!1,wm),l===null))return;const u=e.ray.origin.distanceTo(wm);u<e.near||u>e.far||i.push({distance:u,point:wm.clone(),uv:Js.getInterpolation(wm,Wb,Tm,jb,_4,ZT,S4,new dt),face:null,object:this})}copy(e,i){return super.copy(e,i),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Kb(n,e,i,r,o,s){Gh.subVectors(n,i).addScalar(.5).multiply(r),o!==void 0?(Cm.x=s*Gh.x-o*Gh.y,Cm.y=o*Gh.x+s*Gh.y):Cm.copy(Gh),n.copy(e),n.x+=Cm.x,n.y+=Cm.y,n.applyMatrix4(L9)}class qPe extends dr{constructor(e=null,i=1,r=1,o,s,a,l,u,c=_i,d=_i,f,h){super(null,a,l,u,c,d,o,s,f,h),this.isDataTexture=!0,this.image={data:e,width:i,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class YPe extends Wr{constructor(e,i,r,o=1){super(e,i,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const JT=new me,QPe=new me,ZPe=new Kt;class Ma{constructor(e=new me(1,0,0),i=0){this.isPlane=!0,this.normal=e,this.constant=i}set(e,i){return this.normal.copy(e),this.constant=i,this}setComponents(e,i,r,o){return this.normal.set(e,i,r),this.constant=o,this}setFromNormalAndCoplanarPoint(e,i){return this.normal.copy(e),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(e,i,r){const o=JT.subVectors(r,i).cross(QPe.subVectors(e,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,i){return i.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,i){const r=e.delta(JT),o=this.normal.dot(r);if(o===0)return this.distanceToPoint(e.start)===0?i.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/o;return s<0||s>1?null:i.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const i=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return i<0&&r>0||r<0&&i>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,i){const r=i||ZPe.getNormalMatrix(e),o=this.coplanarPoint(JT).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ud=new Dw,Xb=new me;class Fw{constructor(e=new Ma,i=new Ma,r=new Ma,o=new Ma,s=new Ma,a=new Ma){this.planes=[e,i,r,o,s,a]}set(e,i,r,o,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(i),l[2].copy(r),l[3].copy(o),l[4].copy(s),l[5].copy(a),this}copy(e){const i=this.planes;for(let r=0;r<6;r++)i[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,i=qo){const r=this.planes,o=e.elements,s=o[0],a=o[1],l=o[2],u=o[3],c=o[4],d=o[5],f=o[6],h=o[7],p=o[8],v=o[9],b=o[10],y=o[11],m=o[12],_=o[13],S=o[14],w=o[15];if(r[0].setComponents(u-s,h-c,y-p,w-m).normalize(),r[1].setComponents(u+s,h+c,y+p,w+m).normalize(),r[2].setComponents(u+a,h+d,y+v,w+_).normalize(),r[3].setComponents(u-a,h-d,y-v,w-_).normalize(),r[4].setComponents(u-l,h-f,y-b,w-S).normalize(),i===qo)r[5].setComponents(u+l,h+f,y+b,w+S).normalize();else if(i===od)r[5].setComponents(l,f,b,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+i);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ud.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const i=e.geometry;i.boundingSphere===null&&i.computeBoundingSphere(),Ud.copy(i.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ud)}intersectsSprite(e){return Ud.center.set(0,0,0),Ud.radius=.7071067811865476,Ud.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ud)}intersectsSphere(e){const i=this.planes,r=e.center,o=-e.radius;for(let s=0;s<6;s++)if(i[s].distanceToPoint(r)<o)return!1;return!0}intersectsBox(e){const i=this.planes;for(let r=0;r<6;r++){const o=i[r];if(Xb.x=o.normal.x>0?e.max.x:e.min.x,Xb.y=o.normal.y>0?e.max.y:e.min.y,Xb.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(Xb)<0)return!1}return!0}containsPoint(e){const i=this.planes;for(let r=0;r<6;r++)if(i[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class $w extends uo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Lt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const hS=new me,pS=new me,w4=new Mn,Am=new Lw,qb=new Dw,eA=new me,C4=new me;class JPe extends Si{constructor(e=new co,i=new $w){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const i=e.attributes.position,r=[0];for(let o=1,s=i.count;o<s;o++)hS.fromBufferAttribute(i,o-1),pS.fromBufferAttribute(i,o),r[o]=r[o-1],r[o]+=hS.distanceTo(pS);e.setAttribute("lineDistance",new ir(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,i){const r=this.geometry,o=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),qb.copy(r.boundingSphere),qb.applyMatrix4(o),qb.radius+=s,e.ray.intersectsSphere(qb)===!1)return;w4.copy(o).invert(),Am.copy(e.ray).applyMatrix4(w4);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,c=this.isLineSegments?2:1,d=r.index,h=r.attributes.position;if(d!==null){const p=Math.max(0,a.start),v=Math.min(d.count,a.start+a.count);for(let b=p,y=v-1;b<y;b+=c){const m=d.getX(b),_=d.getX(b+1),S=Yb(this,e,Am,u,m,_);S&&i.push(S)}if(this.isLineLoop){const b=d.getX(v-1),y=d.getX(p),m=Yb(this,e,Am,u,b,y);m&&i.push(m)}}else{const p=Math.max(0,a.start),v=Math.min(h.count,a.start+a.count);for(let b=p,y=v-1;b<y;b+=c){const m=Yb(this,e,Am,u,b,b+1);m&&i.push(m)}if(this.isLineLoop){const b=Yb(this,e,Am,u,v-1,p);b&&i.push(b)}}}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const o=i[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function Yb(n,e,i,r,o,s){const a=n.geometry.attributes.position;if(hS.fromBufferAttribute(a,o),pS.fromBufferAttribute(a,s),i.distanceSqToSegment(hS,pS,eA,C4)>r)return;eA.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(eA);if(!(u<e.near||u>e.far))return{distance:u,point:C4.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}class eIe extends uo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}class dp extends Si{constructor(){super(),this.isGroup=!0,this.type="Group"}}class tIe extends dr{constructor(e,i){super({width:e,height:i}),this.isFramebufferTexture=!0,this.magFilter=_i,this.minFilter=_i,this.generateMipmaps=!1,this.needsUpdate=!0}}class nIe extends dr{constructor(e,i,r,o,s,a,l,u,c){super(e,i,r,o,s,a,l,u,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class pd extends dr{constructor(e,i,r,o,s,a,l,u,c,d=gl){if(d!==gl&&d!==Tl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===gl&&(r=Ui),r===void 0&&d===Tl&&(r=Cl),super(null,o,s,a,l,u,d,r,c),this.isDepthTexture=!0,this.image={width:e,height:i},this.magFilter=l!==void 0?l:_i,this.minFilter=u!==void 0?u:_i,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const i=super.toJSON(e);return this.compareFunction!==null&&(i.compareFunction=this.compareFunction),i}}class ec{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,i){const r=this.getUtoTmapping(e);return this.getPoint(r,i)}getPoints(e=5){const i=[];for(let r=0;r<=e;r++)i.push(this.getPoint(r/e));return i}getSpacedPoints(e=5){const i=[];for(let r=0;r<=e;r++)i.push(this.getPointAt(r/e));return i}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const i=[];let r,o=this.getPoint(0),s=0;i.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(o),i.push(s),o=r;return this.cacheArcLengths=i,i}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,i){const r=this.getLengths();let o=0;const s=r.length;let a;i?a=i:a=e*r[s-1];let l=0,u=s-1,c;for(;l<=u;)if(o=Math.floor(l+(u-l)/2),c=r[o]-a,c<0)l=o+1;else if(c>0)u=o-1;else{u=o;break}if(o=u,r[o]===a)return o/(s-1);const d=r[o],h=r[o+1]-d,p=(a-d)/h;return(o+p)/(s-1)}getTangent(e,i){let o=e-1e-4,s=e+1e-4;o<0&&(o=0),s>1&&(s=1);const a=this.getPoint(o),l=this.getPoint(s),u=i||(a.isVector2?new dt:new me);return u.copy(l).sub(a).normalize(),u}getTangentAt(e,i){const r=this.getUtoTmapping(e);return this.getTangent(r,i)}computeFrenetFrames(e,i){const r=new me,o=[],s=[],a=[],l=new me,u=new Mn;for(let p=0;p<=e;p++){const v=p/e;o[p]=this.getTangentAt(v,new me)}s[0]=new me,a[0]=new me;let c=Number.MAX_VALUE;const d=Math.abs(o[0].x),f=Math.abs(o[0].y),h=Math.abs(o[0].z);d<=c&&(c=d,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),h<=c&&r.set(0,0,1),l.crossVectors(o[0],r).normalize(),s[0].crossVectors(o[0],l),a[0].crossVectors(o[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),a[p]=a[p-1].clone(),l.crossVectors(o[p-1],o[p]),l.length()>Number.EPSILON){l.normalize();const v=Math.acos(gn(o[p-1].dot(o[p]),-1,1));s[p].applyMatrix4(u.makeRotationAxis(l,v))}a[p].crossVectors(o[p],s[p])}if(i===!0){let p=Math.acos(gn(s[0].dot(s[e]),-1,1));p/=e,o[0].dot(l.crossVectors(s[0],s[e]))>0&&(p=-p);for(let v=1;v<=e;v++)s[v].applyMatrix4(u.makeRotationAxis(o[v],p*v)),a[v].crossVectors(o[v],s[v])}return{tangents:o,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class B9 extends ec{constructor(e=0,i=0,r=1,o=1,s=0,a=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=i,this.xRadius=r,this.yRadius=o,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=u}getPoint(e,i=new dt){const r=i,o=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=o;for(;s>o;)s-=o;s<Number.EPSILON&&(a?s=0:s=o),this.aClockwise===!0&&!a&&(s===o?s=-o:s=s-o);const l=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(l),c=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=u-this.aX,p=c-this.aY;u=h*d-p*f+this.aX,c=h*f+p*d+this.aY}return r.set(u,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class iIe extends B9{constructor(e,i,r,o,s,a){super(e,i,r,r,o,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function ZI(){let n=0,e=0,i=0,r=0;function o(s,a,l,u){n=s,e=l,i=-3*s+3*a-2*l-u,r=2*s-2*a+l+u}return{initCatmullRom:function(s,a,l,u,c){o(a,l,c*(l-s),c*(u-a))},initNonuniformCatmullRom:function(s,a,l,u,c,d,f){let h=(a-s)/c-(l-s)/(c+d)+(l-a)/d,p=(l-a)/d-(u-a)/(d+f)+(u-l)/f;h*=d,p*=d,o(a,l,h,p)},calc:function(s){const a=s*s,l=a*s;return n+e*s+i*a+r*l}}}const Qb=new me,tA=new ZI,nA=new ZI,iA=new ZI;class rIe extends ec{constructor(e=[],i=!1,r="centripetal",o=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=i,this.curveType=r,this.tension=o}getPoint(e,i=new me){const r=i,o=this.points,s=o.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),u=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:u===0&&l===s-1&&(l=s-2,u=1);let c,d;this.closed||l>0?c=o[(l-1)%s]:(Qb.subVectors(o[0],o[1]).add(o[0]),c=Qb);const f=o[l%s],h=o[(l+1)%s];if(this.closed||l+2<s?d=o[(l+2)%s]:(Qb.subVectors(o[s-1],o[s-2]).add(o[s-1]),d=Qb),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(f),p),b=Math.pow(f.distanceToSquared(h),p),y=Math.pow(h.distanceToSquared(d),p);b<1e-4&&(b=1),v<1e-4&&(v=b),y<1e-4&&(y=b),tA.initNonuniformCatmullRom(c.x,f.x,h.x,d.x,v,b,y),nA.initNonuniformCatmullRom(c.y,f.y,h.y,d.y,v,b,y),iA.initNonuniformCatmullRom(c.z,f.z,h.z,d.z,v,b,y)}else this.curveType==="catmullrom"&&(tA.initCatmullRom(c.x,f.x,h.x,d.x,this.tension),nA.initCatmullRom(c.y,f.y,h.y,d.y,this.tension),iA.initCatmullRom(c.z,f.z,h.z,d.z,this.tension));return r.set(tA.calc(u),nA.calc(u),iA.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const o=e.points[i];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let i=0,r=this.points.length;i<r;i++){const o=this.points[i];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const o=e.points[i];this.points.push(new me().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function T4(n,e,i,r,o){const s=(r-e)*.5,a=(o-i)*.5,l=n*n,u=n*l;return(2*i-2*r+s+a)*u+(-3*i+3*r-2*s-a)*l+s*n+i}function oIe(n,e){const i=1-n;return i*i*e}function sIe(n,e){return 2*(1-n)*n*e}function aIe(n,e){return n*n*e}function Tv(n,e,i,r){return oIe(n,e)+sIe(n,i)+aIe(n,r)}function lIe(n,e){const i=1-n;return i*i*i*e}function uIe(n,e){const i=1-n;return 3*i*i*n*e}function cIe(n,e){return 3*(1-n)*n*n*e}function dIe(n,e){return n*n*n*e}function Av(n,e,i,r,o){return lIe(n,e)+uIe(n,i)+cIe(n,r)+dIe(n,o)}class fIe extends ec{constructor(e=new dt,i=new dt,r=new dt,o=new dt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=i,this.v2=r,this.v3=o}getPoint(e,i=new dt){const r=i,o=this.v0,s=this.v1,a=this.v2,l=this.v3;return r.set(Av(e,o.x,s.x,a.x,l.x),Av(e,o.y,s.y,a.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class F9 extends ec{constructor(e=new me,i=new me,r=new me,o=new me){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=i,this.v2=r,this.v3=o}getPoint(e,i=new me){const r=i,o=this.v0,s=this.v1,a=this.v2,l=this.v3;return r.set(Av(e,o.x,s.x,a.x,l.x),Av(e,o.y,s.y,a.y,l.y),Av(e,o.z,s.z,a.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class hIe extends ec{constructor(e=new dt,i=new dt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=i}getPoint(e,i=new dt){const r=i;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,i){return this.getPoint(e,i)}getTangent(e,i=new dt){return i.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,i){return this.getTangent(e,i)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pIe extends ec{constructor(e=new me,i=new me){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=i}getPoint(e,i=new me){const r=i;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,i){return this.getPoint(e,i)}getTangent(e,i=new me){return i.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,i){return this.getTangent(e,i)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gIe extends ec{constructor(e=new dt,i=new dt,r=new dt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=i,this.v2=r}getPoint(e,i=new dt){const r=i,o=this.v0,s=this.v1,a=this.v2;return r.set(Tv(e,o.x,s.x,a.x),Tv(e,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JI extends ec{constructor(e=new me,i=new me,r=new me){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=i,this.v2=r}getPoint(e,i=new me){const r=i,o=this.v0,s=this.v1,a=this.v2;return r.set(Tv(e,o.x,s.x,a.x),Tv(e,o.y,s.y,a.y),Tv(e,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mIe extends ec{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,i=new dt){const r=i,o=this.points,s=(o.length-1)*e,a=Math.floor(s),l=s-a,u=o[a===0?a:a-1],c=o[a],d=o[a>o.length-2?o.length-1:a+1],f=o[a>o.length-3?o.length-1:a+2];return r.set(T4(l,u.x,c.x,d.x,f.x),T4(l,u.y,c.y,d.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const o=e.points[i];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let i=0,r=this.points.length;i<r;i++){const o=this.points[i];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const o=e.points[i];this.points.push(new dt().fromArray(o))}return this}}var vIe=Object.freeze({__proto__:null,ArcCurve:iIe,CatmullRomCurve3:rIe,CubicBezierCurve:fIe,CubicBezierCurve3:F9,EllipseCurve:B9,LineCurve:hIe,LineCurve3:pIe,QuadraticBezierCurve:gIe,QuadraticBezierCurve3:JI,SplineCurve:mIe});class Uw extends co{constructor(e=1,i=1,r=1,o=32,s=1,a=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:i,height:r,radialSegments:o,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:u};const c=this;o=Math.floor(o),s=Math.floor(s);const d=[],f=[],h=[],p=[];let v=0;const b=[],y=r/2;let m=0;_(),a===!1&&(e>0&&S(!0),i>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new ir(f,3)),this.setAttribute("normal",new ir(h,3)),this.setAttribute("uv",new ir(p,2));function _(){const w=new me,T=new me;let A=0;const C=(i-e)/r;for(let R=0;R<=s;R++){const E=[],P=R/s,N=P*(i-e)+e;for(let D=0;D<=o;D++){const $=D/o,L=$*u+l,F=Math.sin(L),U=Math.cos(L);T.x=N*F,T.y=-P*r+y,T.z=N*U,f.push(T.x,T.y,T.z),w.set(F,C,U).normalize(),h.push(w.x,w.y,w.z),p.push($,1-P),E.push(v++)}b.push(E)}for(let R=0;R<o;R++)for(let E=0;E<s;E++){const P=b[E][R],N=b[E+1][R],D=b[E+1][R+1],$=b[E][R+1];(e>0||E!==0)&&(d.push(P,N,$),A+=3),(i>0||E!==s-1)&&(d.push(N,D,$),A+=3)}c.addGroup(m,A,0),m+=A}function S(w){const T=v,A=new dt,C=new me;let R=0;const E=w===!0?e:i,P=w===!0?1:-1;for(let D=1;D<=o;D++)f.push(0,y*P,0),h.push(0,P,0),p.push(.5,.5),v++;const N=v;for(let D=0;D<=o;D++){const L=D/o*u+l,F=Math.cos(L),U=Math.sin(L);C.x=E*U,C.y=y*P,C.z=E*F,f.push(C.x,C.y,C.z),h.push(0,P,0),A.x=F*.5+.5,A.y=U*.5*P+.5,p.push(A.x,A.y),v++}for(let D=0;D<o;D++){const $=T+D,L=N+D;w===!0?d.push(L,L+1,$):d.push(L+1,L,$),R+=3}c.addGroup(m,R,w===!0?1:2),m+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class eN extends Uw{constructor(e=1,i=1,r=32,o=1,s=!1,a=0,l=Math.PI*2){super(0,e,i,r,o,s,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l}}static fromJSON(e){return new eN(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kw extends co{constructor(e=1,i=1,r=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:i,widthSegments:r,heightSegments:o};const s=e/2,a=i/2,l=Math.floor(r),u=Math.floor(o),c=l+1,d=u+1,f=e/l,h=i/u,p=[],v=[],b=[],y=[];for(let m=0;m<d;m++){const _=m*h-a;for(let S=0;S<c;S++){const w=S*f-s;v.push(w,-_,0),b.push(0,0,1),y.push(S/l),y.push(1-m/u)}}for(let m=0;m<u;m++)for(let _=0;_<l;_++){const S=_+c*m,w=_+c*(m+1),T=_+1+c*(m+1),A=_+1+c*m;p.push(S,w,A),p.push(w,T,A)}this.setIndex(p),this.setAttribute("position",new ir(v,3)),this.setAttribute("normal",new ir(b,3)),this.setAttribute("uv",new ir(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kw(e.width,e.height,e.widthSegments,e.heightSegments)}}class Zy extends co{constructor(e=1,i=32,r=16,o=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:i,heightSegments:r,phiStart:o,phiLength:s,thetaStart:a,thetaLength:l},i=Math.max(3,Math.floor(i)),r=Math.max(2,Math.floor(r));const u=Math.min(a+l,Math.PI);let c=0;const d=[],f=new me,h=new me,p=[],v=[],b=[],y=[];for(let m=0;m<=r;m++){const _=[],S=m/r;let w=0;m===0&&a===0?w=.5/i:m===r&&u===Math.PI&&(w=-.5/i);for(let T=0;T<=i;T++){const A=T/i;f.x=-e*Math.cos(o+A*s)*Math.sin(a+S*l),f.y=e*Math.cos(a+S*l),f.z=e*Math.sin(o+A*s)*Math.sin(a+S*l),v.push(f.x,f.y,f.z),h.copy(f).normalize(),b.push(h.x,h.y,h.z),y.push(A+w,1-S),_.push(c++)}d.push(_)}for(let m=0;m<r;m++)for(let _=0;_<i;_++){const S=d[m][_+1],w=d[m][_],T=d[m+1][_],A=d[m+1][_+1];(m!==0||a>0)&&p.push(S,w,A),(m!==r-1||u<Math.PI)&&p.push(w,T,A)}this.setIndex(p),this.setAttribute("position",new ir(v,3)),this.setAttribute("normal",new ir(b,3)),this.setAttribute("uv",new ir(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class tN extends co{constructor(e=new JI(new me(-1,-1,0),new me(-1,1,0),new me(1,1,0)),i=64,r=1,o=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:i,radius:r,radialSegments:o,closed:s};const a=e.computeFrenetFrames(i,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new me,u=new me,c=new dt;let d=new me;const f=[],h=[],p=[],v=[];b(),this.setIndex(v),this.setAttribute("position",new ir(f,3)),this.setAttribute("normal",new ir(h,3)),this.setAttribute("uv",new ir(p,2));function b(){for(let S=0;S<i;S++)y(S);y(s===!1?i:0),_(),m()}function y(S){d=e.getPointAt(S/i,d);const w=a.normals[S],T=a.binormals[S];for(let A=0;A<=o;A++){const C=A/o*Math.PI*2,R=Math.sin(C),E=-Math.cos(C);u.x=E*w.x+R*T.x,u.y=E*w.y+R*T.y,u.z=E*w.z+R*T.z,u.normalize(),h.push(u.x,u.y,u.z),l.x=d.x+r*u.x,l.y=d.y+r*u.y,l.z=d.z+r*u.z,f.push(l.x,l.y,l.z)}}function m(){for(let S=1;S<=i;S++)for(let w=1;w<=o;w++){const T=(o+1)*(S-1)+(w-1),A=(o+1)*S+(w-1),C=(o+1)*S+w,R=(o+1)*(S-1)+w;v.push(T,A,R),v.push(A,C,R)}}function _(){for(let S=0;S<=i;S++)for(let w=0;w<=o;w++)c.x=S/i,c.y=w/o,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new tN(new vIe[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class yIe extends uo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class $9 extends uo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vu,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bIe extends $9{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new dt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return gn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(i){this.ior=(1+.4*i)/(1-.4*i)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Lt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Lt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Lt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class xIe extends uo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Lt(16777215),this.specular=new Lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vu,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _Ie extends uo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vu,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class SIe extends uo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vu,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class U9 extends uo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vu,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wIe extends uo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=XRe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class CIe extends uo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class TIe extends uo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vu,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class AIe extends $w{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const A4={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class EIe{constructor(e,i,r){const o=this;let s=!1,a=0,l=0,u;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=i,this.onError=r,this.itemStart=function(d){l++,s===!1&&o.onStart!==void 0&&o.onStart(d,a,l),s=!0},this.itemEnd=function(d){a++,o.onProgress!==void 0&&o.onProgress(d,a,l),a===l&&(s=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(d){o.onError!==void 0&&o.onError(d)},this.resolveURL=function(d){return u?u(d):d},this.setURLModifier=function(d){return u=d,this},this.addHandler=function(d,f){return c.push(d,f),this},this.removeHandler=function(d){const f=c.indexOf(d);return f!==-1&&c.splice(f,2),this},this.getHandler=function(d){for(let f=0,h=c.length;f<h;f+=2){const p=c[f],v=c[f+1];if(p.global&&(p.lastIndex=0),p.test(d))return v}return null}}}const MIe=new EIe;class nN{constructor(e){this.manager=e!==void 0?e:MIe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,i){const r=this;return new Promise(function(o,s){r.load(e,o,i,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}nN.DEFAULT_MATERIAL_NAME="__DEFAULT";class RIe extends nN{constructor(e){super(e)}load(e,i,r,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=A4.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){i&&i(a),s.manager.itemEnd(e)},0),a;const l=yy("img");function u(){d(),A4.add(e,this),i&&i(this),s.manager.itemEnd(e)}function c(f){d(),o&&o(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){l.removeEventListener("load",u,!1),l.removeEventListener("error",c,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class PIe extends nN{constructor(e){super(e)}load(e,i,r,o){const s=new dr,a=new RIe(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,i!==void 0&&i(s)},r,o),s}}class ih extends Si{constructor(e,i=1){super(),this.isLight=!0,this.type="Light",this.color=new Lt(e),this.intensity=i}dispose(){}copy(e,i){return super.copy(e,i),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const i=super.toJSON(e);return i.object.color=this.color.getHex(),i.object.intensity=this.intensity,this.groundColor!==void 0&&(i.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(i.object.distance=this.distance),this.angle!==void 0&&(i.object.angle=this.angle),this.decay!==void 0&&(i.object.decay=this.decay),this.penumbra!==void 0&&(i.object.penumbra=this.penumbra),this.shadow!==void 0&&(i.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(i.object.target=this.target.uuid),i}}class IIe extends ih{constructor(e,i,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Si.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Lt(i)}copy(e,i){return super.copy(e,i),this.groundColor.copy(e.groundColor),this}}const rA=new Mn,E4=new me,M4=new me;class iN{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dt(512,512),this.map=null,this.mapPass=null,this.matrix=new Mn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Fw,this._frameExtents=new dt(1,1),this._viewportCount=1,this._viewports=[new dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const i=this.camera,r=this.matrix;E4.setFromMatrixPosition(e.matrixWorld),i.position.copy(E4),M4.setFromMatrixPosition(e.target.matrixWorld),i.lookAt(M4),i.updateMatrixWorld(),rA.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rA),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(rA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class NIe extends iN{constructor(){super(new wo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const i=this.camera,r=xg*2*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,s=e.distance||i.far;(r!==i.fov||o!==i.aspect||s!==i.far)&&(i.fov=r,i.aspect=o,i.far=s,i.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class k9 extends ih{constructor(e,i,r=0,o=Math.PI/3,s=0,a=2){super(e,i),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Si.DEFAULT_UP),this.updateMatrix(),this.target=new Si,this.distance=r,this.angle=o,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new NIe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,i){return super.copy(e,i),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const R4=new Mn,Em=new me,oA=new me;class OIe extends iN{constructor(){super(new wo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new dt(4,2),this._viewportCount=6,this._viewports=[new dn(2,1,1,1),new dn(0,1,1,1),new dn(3,1,1,1),new dn(1,1,1,1),new dn(3,0,1,1),new dn(1,0,1,1)],this._cubeDirections=[new me(1,0,0),new me(-1,0,0),new me(0,0,1),new me(0,0,-1),new me(0,1,0),new me(0,-1,0)],this._cubeUps=[new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,0,1),new me(0,0,-1)]}updateMatrices(e,i=0){const r=this.camera,o=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Em.setFromMatrixPosition(e.matrixWorld),r.position.copy(Em),oA.copy(r.position),oA.add(this._cubeDirections[i]),r.up.copy(this._cubeUps[i]),r.lookAt(oA),r.updateMatrixWorld(),o.makeTranslation(-Em.x,-Em.y,-Em.z),R4.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(R4)}}class DIe extends ih{constructor(e,i,r=0,o=2){super(e,i),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=o,this.shadow=new OIe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,i){return super.copy(e,i),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Jy extends N9{constructor(e=-1,i=1,r=1,o=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=i,this.top=r,this.bottom=o,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,i){return super.copy(e,i),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,i,r,o,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=i,this.view.offsetX=r,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let s=r-e,a=r+e,l=o+i,u=o-i;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,l-=d*this.view.offsetY,u=l-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const i=super.toJSON(e);return i.object.zoom=this.zoom,i.object.left=this.left,i.object.right=this.right,i.object.top=this.top,i.object.bottom=this.bottom,i.object.near=this.near,i.object.far=this.far,this.view!==null&&(i.object.view=Object.assign({},this.view)),i}}class LIe extends iN{constructor(){super(new Jy(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class z9 extends ih{constructor(e,i){super(e,i),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Si.DEFAULT_UP),this.updateMatrix(),this.target=new Si,this.shadow=new LIe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class H9 extends ih{constructor(e,i){super(e,i),this.isAmbientLight=!0,this.type="AmbientLight"}}class BIe extends ih{constructor(e,i,r=10,o=10){super(e,i),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=o}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const i=super.toJSON(e);return i.object.width=this.width,i.object.height=this.height,i}}class FIe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new me)}set(e){for(let i=0;i<9;i++)this.coefficients[i].copy(e[i]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,i){const r=e.x,o=e.y,s=e.z,a=this.coefficients;return i.copy(a[0]).multiplyScalar(.282095),i.addScaledVector(a[1],.488603*o),i.addScaledVector(a[2],.488603*s),i.addScaledVector(a[3],.488603*r),i.addScaledVector(a[4],1.092548*(r*o)),i.addScaledVector(a[5],1.092548*(o*s)),i.addScaledVector(a[6],.315392*(3*s*s-1)),i.addScaledVector(a[7],1.092548*(r*s)),i.addScaledVector(a[8],.546274*(r*r-o*o)),i}getIrradianceAt(e,i){const r=e.x,o=e.y,s=e.z,a=this.coefficients;return i.copy(a[0]).multiplyScalar(.886227),i.addScaledVector(a[1],2*.511664*o),i.addScaledVector(a[2],2*.511664*s),i.addScaledVector(a[3],2*.511664*r),i.addScaledVector(a[4],2*.429043*r*o),i.addScaledVector(a[5],2*.429043*o*s),i.addScaledVector(a[6],.743125*s*s-.247708),i.addScaledVector(a[7],2*.429043*r*s),i.addScaledVector(a[8],.429043*(r*r-o*o)),i}add(e){for(let i=0;i<9;i++)this.coefficients[i].add(e.coefficients[i]);return this}addScaledSH(e,i){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],i);return this}scale(e){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(e);return this}lerp(e,i){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],i);return this}equals(e){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(e.coefficients[i]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,i=0){const r=this.coefficients;for(let o=0;o<9;o++)r[o].fromArray(e,i+o*3);return this}toArray(e=[],i=0){const r=this.coefficients;for(let o=0;o<9;o++)r[o].toArray(e,i+o*3);return e}static getBasisAt(e,i){const r=e.x,o=e.y,s=e.z;i[0]=.282095,i[1]=.488603*o,i[2]=.488603*s,i[3]=.488603*r,i[4]=1.092548*r*o,i[5]=1.092548*o*s,i[6]=.315392*(3*s*s-1),i[7]=1.092548*r*s,i[8]=.546274*(r*r-o*o)}}class $Ie extends ih{constructor(e=new FIe,i=1){super(void 0,i),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const i=super.toJSON(e);return i.object.sh=this.sh.toArray(),i}}class UIe extends wo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class G9{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=P4(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const i=P4();e=(i-this.oldTime)/1e3,this.oldTime=i,this.elapsedTime+=e}return e}}function P4(){return performance.now()}class kIe extends YI{constructor(e,i,r=1){super(e,i),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const i=super.clone(e);return i.meshPerAttribute=this.meshPerAttribute,i}toJSON(e){const i=super.toJSON(e);return i.isInstancedInterleavedBuffer=!0,i.meshPerAttribute=this.meshPerAttribute,i}}const I4=new Mn;class V9{constructor(e,i,r=0,o=1/0){this.ray=new Lw(e,i),this.near=r,this.far=o,this.camera=null,this.layers=new jI,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,i){this.ray.set(e,i)}setFromCamera(e,i){i.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(i).sub(this.ray.origin).normalize(),this.camera=i):i.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld),this.camera=i):console.error("THREE.Raycaster: Unsupported camera type: "+i.type)}setFromXRController(e){return I4.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(I4),this}intersectObject(e,i=!0,r=[]){return y2(e,this,r,i),r.sort(N4),r}intersectObjects(e,i=!0,r=[]){for(let o=0,s=e.length;o<s;o++)y2(e[o],this,r,i);return r.sort(N4),r}}function N4(n,e){return n.distance-e.distance}function y2(n,e,i,r){let o=!0;if(n.layers.test(e.layers)&&n.raycast(e,i)===!1&&(o=!1),o===!0&&r===!0){const s=n.children;for(let a=0,l=s.length;a<l;a++)y2(s[a],e,i,!0)}}class b2{constructor(e=1,i=0,r=0){return this.radius=e,this.phi=i,this.theta=r,this}set(e,i,r){return this.radius=e,this.phi=i,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=gn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,r){return this.radius=Math.sqrt(e*e+i*i+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(gn(i/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class zw extends Ju{constructor(e,i=null){super(),this.object=e,this.domElement=i,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function O4(n,e,i,r){const o=zIe(r);switch(i){case DI:return n*e;case LI:return n*e;case BI:return n*e*2;case Yy:return n*e/o.components*o.byteLength;case Ng:return n*e/o.components*o.byteLength;case Vf:return n*e*2/o.components*o.byteLength;case Og:return n*e*2/o.components*o.byteLength;case qy:return n*e*3/o.components*o.byteLength;case Gr:return n*e*4/o.components*o.byteLength;case Dg:return n*e*4/o.components*o.byteLength;case Af:case qc:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Yc:case Qc:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case dy:case hy:return Math.max(n,16)*Math.max(e,8)/4;case cy:case fy:return Math.max(n,8)*Math.max(e,8)/2;case py:case rg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case og:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case sg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case ag:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case lg:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case ug:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case cg:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case dg:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case fg:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case hg:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case pg:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case gg:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case mg:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case vg:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case yg:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case bg:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Ef:case g2:case m2:return Math.ceil(n/4)*Math.ceil(e/4)*16;case FI:case gy:return Math.ceil(n/4)*Math.ceil(e/4)*8;case my:case vy:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${i} format.`)}function zIe(n){switch(n){case ao:case Cf:return{byteLength:1,components:1};case Oa:case Tf:case Ro:return{byteLength:2,components:1};case Rw:case Pw:return{byteLength:2,components:4};case Ui:case Nr:case er:return{byteLength:4,components:1};case Iw:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ig}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ig);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function W9(){let n=null,e=!1,i=null,r=null;function o(s,a){i(s,a),r=n.requestAnimationFrame(o)}return{start:function(){e!==!0&&i!==null&&(r=n.requestAnimationFrame(o),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){i=s},setContext:function(s){n=s}}}function HIe(n){const e=new WeakMap;function i(l,u){const c=l.array,d=l.usage,f=c.byteLength,h=n.createBuffer();n.bindBuffer(u,h),n.bufferData(u,c,d),l.onUploadCallback();let p;if(c instanceof Float32Array)p=n.FLOAT;else if(c instanceof Uint16Array)l.isFloat16BufferAttribute?p=n.HALF_FLOAT:p=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=n.SHORT;else if(c instanceof Uint32Array)p=n.UNSIGNED_INT;else if(c instanceof Int32Array)p=n.INT;else if(c instanceof Int8Array)p=n.BYTE;else if(c instanceof Uint8Array)p=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:l.version,size:f}}function r(l,u,c){const d=u.array,f=u.updateRanges;if(n.bindBuffer(c,l),f.length===0)n.bufferSubData(c,0,d);else{f.sort((p,v)=>p.start-v.start);let h=0;for(let p=1;p<f.length;p++){const v=f[h],b=f[p];b.start<=v.start+v.count+1?v.count=Math.max(v.count,b.start+b.count-v.start):(++h,f[h]=b)}f.length=h+1;for(let p=0,v=f.length;p<v;p++){const b=f[p];n.bufferSubData(c,b.start*d.BYTES_PER_ELEMENT,d,b.start,b.count)}u.clearUpdateRanges()}u.onUploadCallback()}function o(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function s(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(n.deleteBuffer(u.buffer),e.delete(l))}function a(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const d=e.get(l);(!d||d.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const c=e.get(l);if(c===void 0)e.set(l,i(l,u));else if(c.version<l.version){if(c.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,l,u),c.version=l.version}}return{get:o,remove:s,update:a}}var GIe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,VIe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,WIe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,jIe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,KIe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,XIe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qIe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,YIe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,QIe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,ZIe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,JIe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,eNe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tNe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,nNe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,iNe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,rNe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,oNe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,sNe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,aNe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lNe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,uNe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,cNe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,dNe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,fNe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,hNe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pNe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,gNe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,mNe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,vNe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,yNe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,bNe="gl_FragColor = linearToOutputTexel( gl_FragColor );",xNe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,_Ne=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,SNe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,wNe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,CNe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,TNe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ANe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ENe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,MNe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,RNe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,PNe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,INe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,NNe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,ONe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,DNe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,LNe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,BNe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,FNe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,$Ne=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,UNe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,kNe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,zNe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,HNe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,GNe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,VNe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,WNe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,jNe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,KNe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,XNe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,qNe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,YNe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,QNe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ZNe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,JNe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,eOe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,tOe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,nOe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,iOe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,rOe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,oOe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,sOe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,aOe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lOe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uOe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cOe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,dOe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,fOe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,hOe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,pOe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,gOe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,mOe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,vOe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,yOe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,bOe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xOe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_Oe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,SOe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,wOe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,COe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,TOe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,AOe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,EOe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,MOe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ROe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,POe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,IOe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,NOe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,OOe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,DOe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,LOe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,BOe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,FOe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,$Oe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,UOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,zOe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const HOe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,GOe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,VOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,WOe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,KOe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,XOe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qOe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,YOe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,QOe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ZOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,JOe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eDe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tDe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nDe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,iDe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rDe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oDe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sDe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,aDe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lDe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,uDe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,cDe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dDe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fDe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,hDe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pDe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gDe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mDe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,vDe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yDe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bDe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,xDe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_De=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Sn={alphahash_fragment:GIe,alphahash_pars_fragment:VIe,alphamap_fragment:WIe,alphamap_pars_fragment:jIe,alphatest_fragment:KIe,alphatest_pars_fragment:XIe,aomap_fragment:qIe,aomap_pars_fragment:YIe,batching_pars_vertex:QIe,batching_vertex:ZIe,begin_vertex:JIe,beginnormal_vertex:eNe,bsdfs:tNe,iridescence_fragment:nNe,bumpmap_pars_fragment:iNe,clipping_planes_fragment:rNe,clipping_planes_pars_fragment:oNe,clipping_planes_pars_vertex:sNe,clipping_planes_vertex:aNe,color_fragment:lNe,color_pars_fragment:uNe,color_pars_vertex:cNe,color_vertex:dNe,common:fNe,cube_uv_reflection_fragment:hNe,defaultnormal_vertex:pNe,displacementmap_pars_vertex:gNe,displacementmap_vertex:mNe,emissivemap_fragment:vNe,emissivemap_pars_fragment:yNe,colorspace_fragment:bNe,colorspace_pars_fragment:xNe,envmap_fragment:_Ne,envmap_common_pars_fragment:SNe,envmap_pars_fragment:wNe,envmap_pars_vertex:CNe,envmap_physical_pars_fragment:LNe,envmap_vertex:TNe,fog_vertex:ANe,fog_pars_vertex:ENe,fog_fragment:MNe,fog_pars_fragment:RNe,gradientmap_pars_fragment:PNe,lightmap_pars_fragment:INe,lights_lambert_fragment:NNe,lights_lambert_pars_fragment:ONe,lights_pars_begin:DNe,lights_toon_fragment:BNe,lights_toon_pars_fragment:FNe,lights_phong_fragment:$Ne,lights_phong_pars_fragment:UNe,lights_physical_fragment:kNe,lights_physical_pars_fragment:zNe,lights_fragment_begin:HNe,lights_fragment_maps:GNe,lights_fragment_end:VNe,logdepthbuf_fragment:WNe,logdepthbuf_pars_fragment:jNe,logdepthbuf_pars_vertex:KNe,logdepthbuf_vertex:XNe,map_fragment:qNe,map_pars_fragment:YNe,map_particle_fragment:QNe,map_particle_pars_fragment:ZNe,metalnessmap_fragment:JNe,metalnessmap_pars_fragment:eOe,morphinstance_vertex:tOe,morphcolor_vertex:nOe,morphnormal_vertex:iOe,morphtarget_pars_vertex:rOe,morphtarget_vertex:oOe,normal_fragment_begin:sOe,normal_fragment_maps:aOe,normal_pars_fragment:lOe,normal_pars_vertex:uOe,normal_vertex:cOe,normalmap_pars_fragment:dOe,clearcoat_normal_fragment_begin:fOe,clearcoat_normal_fragment_maps:hOe,clearcoat_pars_fragment:pOe,iridescence_pars_fragment:gOe,opaque_fragment:mOe,packing:vOe,premultiplied_alpha_fragment:yOe,project_vertex:bOe,dithering_fragment:xOe,dithering_pars_fragment:_Oe,roughnessmap_fragment:SOe,roughnessmap_pars_fragment:wOe,shadowmap_pars_fragment:COe,shadowmap_pars_vertex:TOe,shadowmap_vertex:AOe,shadowmask_pars_fragment:EOe,skinbase_vertex:MOe,skinning_pars_vertex:ROe,skinning_vertex:POe,skinnormal_vertex:IOe,specularmap_fragment:NOe,specularmap_pars_fragment:OOe,tonemapping_fragment:DOe,tonemapping_pars_fragment:LOe,transmission_fragment:BOe,transmission_pars_fragment:FOe,uv_pars_fragment:$Oe,uv_pars_vertex:UOe,uv_vertex:kOe,worldpos_vertex:zOe,background_vert:HOe,background_frag:GOe,backgroundCube_vert:VOe,backgroundCube_frag:WOe,cube_vert:jOe,cube_frag:KOe,depth_vert:XOe,depth_frag:qOe,distanceRGBA_vert:YOe,distanceRGBA_frag:QOe,equirect_vert:ZOe,equirect_frag:JOe,linedashed_vert:eDe,linedashed_frag:tDe,meshbasic_vert:nDe,meshbasic_frag:iDe,meshlambert_vert:rDe,meshlambert_frag:oDe,meshmatcap_vert:sDe,meshmatcap_frag:aDe,meshnormal_vert:lDe,meshnormal_frag:uDe,meshphong_vert:cDe,meshphong_frag:dDe,meshphysical_vert:fDe,meshphysical_frag:hDe,meshtoon_vert:pDe,meshtoon_frag:gDe,points_vert:mDe,points_frag:vDe,shadow_vert:yDe,shadow_frag:bDe,sprite_vert:xDe,sprite_frag:_De},wt={common:{diffuse:{value:new Lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Kt}},envmap:{envMap:{value:null},envMapRotation:{value:new Kt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Kt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Kt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Kt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Kt},normalScale:{value:new dt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Kt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Kt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Kt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Kt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0},uvTransform:{value:new Kt}},sprite:{diffuse:{value:new Lt(16777215)},opacity:{value:1},center:{value:new dt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}}},ol={basic:{uniforms:yo([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.fog]),vertexShader:Sn.meshbasic_vert,fragmentShader:Sn.meshbasic_frag},lambert:{uniforms:yo([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Sn.meshlambert_vert,fragmentShader:Sn.meshlambert_frag},phong:{uniforms:yo([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:Sn.meshphong_vert,fragmentShader:Sn.meshphong_frag},standard:{uniforms:yo([wt.common,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.roughnessmap,wt.metalnessmap,wt.fog,wt.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Sn.meshphysical_vert,fragmentShader:Sn.meshphysical_frag},toon:{uniforms:yo([wt.common,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.gradientmap,wt.fog,wt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Sn.meshtoon_vert,fragmentShader:Sn.meshtoon_frag},matcap:{uniforms:yo([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,{matcap:{value:null}}]),vertexShader:Sn.meshmatcap_vert,fragmentShader:Sn.meshmatcap_frag},points:{uniforms:yo([wt.points,wt.fog]),vertexShader:Sn.points_vert,fragmentShader:Sn.points_frag},dashed:{uniforms:yo([wt.common,wt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Sn.linedashed_vert,fragmentShader:Sn.linedashed_frag},depth:{uniforms:yo([wt.common,wt.displacementmap]),vertexShader:Sn.depth_vert,fragmentShader:Sn.depth_frag},normal:{uniforms:yo([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,{opacity:{value:1}}]),vertexShader:Sn.meshnormal_vert,fragmentShader:Sn.meshnormal_frag},sprite:{uniforms:yo([wt.sprite,wt.fog]),vertexShader:Sn.sprite_vert,fragmentShader:Sn.sprite_frag},background:{uniforms:{uvTransform:{value:new Kt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Sn.background_vert,fragmentShader:Sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Kt}},vertexShader:Sn.backgroundCube_vert,fragmentShader:Sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Sn.cube_vert,fragmentShader:Sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Sn.equirect_vert,fragmentShader:Sn.equirect_frag},distanceRGBA:{uniforms:yo([wt.common,wt.displacementmap,{referencePosition:{value:new me},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Sn.distanceRGBA_vert,fragmentShader:Sn.distanceRGBA_frag},shadow:{uniforms:yo([wt.lights,wt.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:Sn.shadow_vert,fragmentShader:Sn.shadow_frag}};ol.physical={uniforms:yo([ol.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Kt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Kt},clearcoatNormalScale:{value:new dt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Kt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Kt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Kt},sheen:{value:0},sheenColor:{value:new Lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Kt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Kt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Kt},transmissionSamplerSize:{value:new dt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Kt},attenuationDistance:{value:0},attenuationColor:{value:new Lt(0)},specularColor:{value:new Lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Kt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Kt},anisotropyVector:{value:new dt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Kt}}]),vertexShader:Sn.meshphysical_vert,fragmentShader:Sn.meshphysical_frag};const Zb={r:0,b:0,g:0},kd=new Ps,SDe=new Mn;function wDe(n,e,i,r,o,s,a){const l=new Lt(0);let u=s===!0?0:1,c,d,f=null,h=0,p=null;function v(S){let w=S.isScene===!0?S.background:null;return w&&w.isTexture&&(w=(S.backgroundBlurriness>0?i:e).get(w)),w}function b(S){let w=!1;const T=v(S);T===null?m(l,u):T&&T.isColor&&(m(T,1),w=!0);const A=n.xr.getEnvironmentBlendMode();A==="additive"?r.buffers.color.setClear(0,0,0,1,a):A==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(n.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(S,w){const T=v(w);T&&(T.isCubeTexture||T.mapping===zf)?(d===void 0&&(d=new Lr(new nh(1,1,1),new Al({name:"BackgroundCubeMaterial",uniforms:_g(ol.backgroundCube.uniforms),vertexShader:ol.backgroundCube.vertexShader,fragmentShader:ol.backgroundCube.fragmentShader,side:Ni,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(A,C,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(d)),kd.copy(w.backgroundRotation),kd.x*=-1,kd.y*=-1,kd.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(kd.y*=-1,kd.z*=-1),d.material.uniforms.envMap.value=T,d.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(SDe.makeRotationFromEuler(kd)),d.material.toneMapped=wn.getTransfer(T.colorSpace)!==Yn,(f!==T||h!==T.version||p!==n.toneMapping)&&(d.material.needsUpdate=!0,f=T,h=T.version,p=n.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new Lr(new kw(2,2),new Al({name:"BackgroundMaterial",uniforms:_g(ol.background.uniforms),vertexShader:ol.background.vertexShader,fragmentShader:ol.background.fragmentShader,side:Ua,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=wn.getTransfer(T.colorSpace)!==Yn,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(f!==T||h!==T.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=T,h=T.version,p=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function m(S,w){S.getRGB(Zb,P9(n)),r.buffers.color.setClear(Zb.r,Zb.g,Zb.b,w,a)}function _(){d!==void 0&&(d.geometry.dispose(),d.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return l},setClearColor:function(S,w=1){l.set(S),u=w,m(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(S){u=S,m(l,u)},render:b,addToRenderList:y,dispose:_}}function CDe(n,e){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},o=h(null);let s=o,a=!1;function l(P,N,D,$,L){let F=!1;const U=f($,D,N);s!==U&&(s=U,c(s.object)),F=p(P,$,D,L),F&&v(P,$,D,L),L!==null&&e.update(L,n.ELEMENT_ARRAY_BUFFER),(F||a)&&(a=!1,w(P,N,D,$),L!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(L).buffer))}function u(){return n.createVertexArray()}function c(P){return n.bindVertexArray(P)}function d(P){return n.deleteVertexArray(P)}function f(P,N,D){const $=D.wireframe===!0;let L=r[P.id];L===void 0&&(L={},r[P.id]=L);let F=L[N.id];F===void 0&&(F={},L[N.id]=F);let U=F[$];return U===void 0&&(U=h(u()),F[$]=U),U}function h(P){const N=[],D=[],$=[];for(let L=0;L<i;L++)N[L]=0,D[L]=0,$[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:D,attributeDivisors:$,object:P,attributes:{},index:null}}function p(P,N,D,$){const L=s.attributes,F=N.attributes;let U=0;const k=D.getAttributes();for(const H in k)if(k[H].location>=0){const Q=L[H];let Z=F[H];if(Z===void 0&&(H==="instanceMatrix"&&P.instanceMatrix&&(Z=P.instanceMatrix),H==="instanceColor"&&P.instanceColor&&(Z=P.instanceColor)),Q===void 0||Q.attribute!==Z||Z&&Q.data!==Z.data)return!0;U++}return s.attributesNum!==U||s.index!==$}function v(P,N,D,$){const L={},F=N.attributes;let U=0;const k=D.getAttributes();for(const H in k)if(k[H].location>=0){let Q=F[H];Q===void 0&&(H==="instanceMatrix"&&P.instanceMatrix&&(Q=P.instanceMatrix),H==="instanceColor"&&P.instanceColor&&(Q=P.instanceColor));const Z={};Z.attribute=Q,Q&&Q.data&&(Z.data=Q.data),L[H]=Z,U++}s.attributes=L,s.attributesNum=U,s.index=$}function b(){const P=s.newAttributes;for(let N=0,D=P.length;N<D;N++)P[N]=0}function y(P){m(P,0)}function m(P,N){const D=s.newAttributes,$=s.enabledAttributes,L=s.attributeDivisors;D[P]=1,$[P]===0&&(n.enableVertexAttribArray(P),$[P]=1),L[P]!==N&&(n.vertexAttribDivisor(P,N),L[P]=N)}function _(){const P=s.newAttributes,N=s.enabledAttributes;for(let D=0,$=N.length;D<$;D++)N[D]!==P[D]&&(n.disableVertexAttribArray(D),N[D]=0)}function S(P,N,D,$,L,F,U){U===!0?n.vertexAttribIPointer(P,N,D,L,F):n.vertexAttribPointer(P,N,D,$,L,F)}function w(P,N,D,$){b();const L=$.attributes,F=D.getAttributes(),U=N.defaultAttributeValues;for(const k in F){const H=F[k];if(H.location>=0){let z=L[k];if(z===void 0&&(k==="instanceMatrix"&&P.instanceMatrix&&(z=P.instanceMatrix),k==="instanceColor"&&P.instanceColor&&(z=P.instanceColor)),z!==void 0){const Q=z.normalized,Z=z.itemSize,ie=e.get(z);if(ie===void 0)continue;const we=ie.buffer,J=ie.type,se=ie.bytesPerElement,ee=J===n.INT||J===n.UNSIGNED_INT||z.gpuType===Nr;if(z.isInterleavedBufferAttribute){const ne=z.data,ue=ne.stride,Y=z.offset;if(ne.isInstancedInterleavedBuffer){for(let le=0;le<H.locationSize;le++)m(H.location+le,ne.meshPerAttribute);P.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let le=0;le<H.locationSize;le++)y(H.location+le);n.bindBuffer(n.ARRAY_BUFFER,we);for(let le=0;le<H.locationSize;le++)S(H.location+le,Z/H.locationSize,J,Q,ue*se,(Y+Z/H.locationSize*le)*se,ee)}else{if(z.isInstancedBufferAttribute){for(let ne=0;ne<H.locationSize;ne++)m(H.location+ne,z.meshPerAttribute);P.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let ne=0;ne<H.locationSize;ne++)y(H.location+ne);n.bindBuffer(n.ARRAY_BUFFER,we);for(let ne=0;ne<H.locationSize;ne++)S(H.location+ne,Z/H.locationSize,J,Q,Z*se,Z/H.locationSize*ne*se,ee)}}else if(U!==void 0){const Q=U[k];if(Q!==void 0)switch(Q.length){case 2:n.vertexAttrib2fv(H.location,Q);break;case 3:n.vertexAttrib3fv(H.location,Q);break;case 4:n.vertexAttrib4fv(H.location,Q);break;default:n.vertexAttrib1fv(H.location,Q)}}}}_()}function T(){R();for(const P in r){const N=r[P];for(const D in N){const $=N[D];for(const L in $)d($[L].object),delete $[L];delete N[D]}delete r[P]}}function A(P){if(r[P.id]===void 0)return;const N=r[P.id];for(const D in N){const $=N[D];for(const L in $)d($[L].object),delete $[L];delete N[D]}delete r[P.id]}function C(P){for(const N in r){const D=r[N];if(D[P.id]===void 0)continue;const $=D[P.id];for(const L in $)d($[L].object),delete $[L];delete D[P.id]}}function R(){E(),a=!0,s!==o&&(s=o,c(s.object))}function E(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:l,reset:R,resetDefaultState:E,dispose:T,releaseStatesOfGeometry:A,releaseStatesOfProgram:C,initAttributes:b,enableAttribute:y,disableUnusedAttributes:_}}function TDe(n,e,i){let r;function o(c){r=c}function s(c,d){n.drawArrays(r,c,d),i.update(d,r,1)}function a(c,d,f){f!==0&&(n.drawArraysInstanced(r,c,d,f),i.update(d,r,f))}function l(c,d,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,d,0,f);let p=0;for(let v=0;v<f;v++)p+=d[v];i.update(p,r,1)}function u(c,d,f,h){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let v=0;v<c.length;v++)a(c[v],d[v],h[v]);else{p.multiDrawArraysInstancedWEBGL(r,c,0,d,0,h,0,f);let v=0;for(let b=0;b<f;b++)v+=d[b]*h[b];i.update(v,r,1)}}this.setMode=o,this.render=s,this.renderInstances=a,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function ADe(n,e,i,r){let o;function s(){if(o!==void 0)return o;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");o=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o}function a(C){return!(C!==Gr&&r.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(C){const R=C===Ro&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(C!==ao&&r.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==er&&!R)}function u(C){if(C==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=i.precision!==void 0?i.precision:"highp";const d=u(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const f=i.logarithmicDepthBuffer===!0,h=i.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),b=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),T=v>0,A=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:u,textureFormatReadable:a,textureTypeReadable:l,precision:c,logarithmicDepthBuffer:f,reverseDepthBuffer:h,maxTextures:p,maxVertexTextures:v,maxTextureSize:b,maxCubemapSize:y,maxAttributes:m,maxVertexUniforms:_,maxVaryings:S,maxFragmentUniforms:w,vertexTextures:T,maxSamples:A}}function EDe(n){const e=this;let i=null,r=0,o=!1,s=!1;const a=new Ma,l=new Kt,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||r!==0||o;return o=h,r=f.length,p},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){i=d(f,h,0)},this.setState=function(f,h,p){const v=f.clippingPlanes,b=f.clipIntersection,y=f.clipShadows,m=n.get(f);if(!o||v===null||v.length===0||s&&!y)s?d(null):c();else{const _=s?0:r,S=_*4;let w=m.clippingState||null;u.value=w,w=d(v,h,S,p);for(let T=0;T!==S;++T)w[T]=i[T];m.clippingState=w,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=_}};function c(){u.value!==i&&(u.value=i,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,h,p,v){const b=f!==null?f.length:0;let y=null;if(b!==0){if(y=u.value,v!==!0||y===null){const m=p+b*4,_=h.matrixWorldInverse;l.getNormalMatrix(_),(y===null||y.length<m)&&(y=new Float32Array(m));for(let S=0,w=p;S!==b;++S,w+=4)a.copy(f[S]).applyMatrix4(_,l),a.normal.toArray(y,w),y[w+3]=a.constant}u.value=y,u.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,y}}function MDe(n){let e=new WeakMap;function i(a,l){return l===id?a.mapping=ca:l===rd&&(a.mapping=da),a}function r(a){if(a&&a.isTexture){const l=a.mapping;if(l===id||l===rd)if(e.has(a)){const u=e.get(a).texture;return i(u,a.mapping)}else{const u=a.image;if(u&&u.height>0){const c=new D9(u.height);return c.fromEquirectangularTexture(n,a),e.set(a,c),a.addEventListener("dispose",o),i(c.texture,a.mapping)}else return null}}return a}function o(a){const l=a.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const fp=4,D4=[.125,.215,.35,.446,.526,.582],af=20,sA=new Jy,L4=new Lt;let aA=null,lA=0,uA=0,cA=!1;const Kd=(1+Math.sqrt(5))/2,Vh=1/Kd,B4=[new me(-Kd,Vh,0),new me(Kd,Vh,0),new me(-Vh,0,Kd),new me(Vh,0,Kd),new me(0,Kd,-Vh),new me(0,Kd,Vh),new me(-1,1,-1),new me(1,1,-1),new me(-1,1,1),new me(1,1,1)];let F4=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,i=0,r=.1,o=100){aA=this._renderer.getRenderTarget(),lA=this._renderer.getActiveCubeFace(),uA=this._renderer.getActiveMipmapLevel(),cA=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,o,s),i>0&&this._blur(s,0,0,i),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,i=null){return this._fromTexture(e,i)}fromCubemap(e,i=null){return this._fromTexture(e,i)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=k4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=U4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(aA,lA,uA),this._renderer.xr.enabled=cA,e.scissorTest=!1,Jb(e,0,0,e.width,e.height)}_fromTexture(e,i){e.mapping===ca||e.mapping===da?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),aA=this._renderer.getRenderTarget(),lA=this._renderer.getActiveCubeFace(),uA=this._renderer.getActiveMipmapLevel(),cA=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=i||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,r={magFilter:_r,minFilter:_r,generateMipmaps:!1,type:Ro,format:Gr,colorSpace:oa,depthBuffer:!1},o=$4(e,i,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=$4(e,i,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=RDe(s)),this._blurMaterial=PDe(s,e,i)}return o}_compileMaterial(e){const i=new Lr(this._lodPlanes[0],e);this._renderer.compile(i,sA)}_sceneToCubeUV(e,i,r,o){const l=new wo(90,1,i,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,h=d.toneMapping;d.getClearColor(L4),d.toneMapping=es,d.autoClear=!1;const p=new Qy({name:"PMREM.Background",side:Ni,depthWrite:!1,depthTest:!1}),v=new Lr(new nh,p);let b=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,b=!0):(p.color.copy(L4),b=!0);for(let m=0;m<6;m++){const _=m%3;_===0?(l.up.set(0,u[m],0),l.lookAt(c[m],0,0)):_===1?(l.up.set(0,0,u[m]),l.lookAt(0,c[m],0)):(l.up.set(0,u[m],0),l.lookAt(0,0,c[m]));const S=this._cubeSize;Jb(o,_*S,m>2?S:0,S,S),d.setRenderTarget(o),b&&d.render(v,l),d.render(e,l)}v.geometry.dispose(),v.material.dispose(),d.toneMapping=h,d.autoClear=f,e.background=y}_textureToCubeUV(e,i){const r=this._renderer,o=e.mapping===ca||e.mapping===da;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=k4()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=U4());const s=o?this._cubemapMaterial:this._equirectMaterial,a=new Lr(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const u=this._cubeSize;Jb(i,0,0,3*u,2*u),r.setRenderTarget(i),r.render(a,sA)}_applyPMREM(e){const i=this._renderer,r=i.autoClear;i.autoClear=!1;const o=this._lodPlanes.length;for(let s=1;s<o;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=B4[(o-s-1)%B4.length];this._blur(e,s-1,s,a,l)}i.autoClear=r}_blur(e,i,r,o,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,i,r,o,"latitudinal",s),this._halfBlur(a,e,r,r,o,"longitudinal",s)}_halfBlur(e,i,r,o,s,a,l){const u=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new Lr(this._lodPlanes[o],c),h=c.uniforms,p=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*af-1),b=s/v,y=isFinite(s)?1+Math.floor(d*b):af;y>af&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${af}`);const m=[];let _=0;for(let C=0;C<af;++C){const R=C/b,E=Math.exp(-R*R/2);m.push(E),C===0?_+=E:C<y&&(_+=2*E)}for(let C=0;C<m.length;C++)m[C]=m[C]/_;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=m,h.latitudinal.value=a==="latitudinal",l&&(h.poleAxis.value=l);const{_lodMax:S}=this;h.dTheta.value=v,h.mipInt.value=S-r;const w=this._sizeLods[o],T=3*w*(o>S-fp?o-S+fp:0),A=4*(this._cubeSize-w);Jb(i,T,A,3*w,2*w),u.setRenderTarget(i),u.render(f,sA)}};function RDe(n){const e=[],i=[],r=[];let o=n;const s=n-fp+1+D4.length;for(let a=0;a<s;a++){const l=Math.pow(2,o);i.push(l);let u=1/l;a>n-fp?u=D4[a-n+fp-1]:a===0&&(u=0),r.push(u);const c=1/(l-2),d=-c,f=1+c,h=[d,d,f,d,f,f,d,d,f,f,d,f],p=6,v=6,b=3,y=2,m=1,_=new Float32Array(b*v*p),S=new Float32Array(y*v*p),w=new Float32Array(m*v*p);for(let A=0;A<p;A++){const C=A%3*2/3-1,R=A>2?0:-1,E=[C,R,0,C+2/3,R,0,C+2/3,R+1,0,C,R,0,C+2/3,R+1,0,C,R+1,0];_.set(E,b*v*A),S.set(h,y*v*A);const P=[A,A,A,A,A,A];w.set(P,m*v*A)}const T=new co;T.setAttribute("position",new Wr(_,b)),T.setAttribute("uv",new Wr(S,y)),T.setAttribute("faceIndex",new Wr(w,m)),e.push(T),o>fp&&o--}return{lodPlanes:e,sizeLods:i,sigmas:r}}function $4(n,e,i){const r=new sd(n,e,i);return r.texture.mapping=zf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Jb(n,e,i,r,o){n.viewport.set(e,i,r,o),n.scissor.set(e,i,r,o)}function PDe(n,e,i){const r=new Float32Array(af),o=new me(0,1,0);return new Al({name:"SphericalGaussianBlur",defines:{n:af,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:rN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Jo,depthTest:!1,depthWrite:!1})}function U4(){return new Al({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:rN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Jo,depthTest:!1,depthWrite:!1})}function k4(){return new Al({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:rN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Jo,depthTest:!1,depthWrite:!1})}function rN(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function IDe(n){let e=new WeakMap,i=null;function r(l){if(l&&l.isTexture){const u=l.mapping,c=u===id||u===rd,d=u===ca||u===da;if(c||d){let f=e.get(l);const h=f!==void 0?f.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==h)return i===null&&(i=new F4(n)),f=c?i.fromEquirectangular(l,f):i.fromCubemap(l,f),f.texture.pmremVersion=l.pmremVersion,e.set(l,f),f.texture;if(f!==void 0)return f.texture;{const p=l.image;return c&&p&&p.height>0||d&&p&&o(p)?(i===null&&(i=new F4(n)),f=c?i.fromEquirectangular(l):i.fromCubemap(l),f.texture.pmremVersion=l.pmremVersion,e.set(l,f),l.addEventListener("dispose",s),f.texture):null}}}return l}function o(l){let u=0;const c=6;for(let d=0;d<c;d++)l[d]!==void 0&&u++;return u===c}function s(l){const u=l.target;u.removeEventListener("dispose",s);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function a(){e=new WeakMap,i!==null&&(i.dispose(),i=null)}return{get:r,dispose:a}}function NDe(n){const e={};function i(r){if(e[r]!==void 0)return e[r];let o;switch(r){case"WEBGL_depth_texture":o=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=n.getExtension(r)}return e[r]=o,o}return{has:function(r){return i(r)!==null},init:function(){i("EXT_color_buffer_float"),i("WEBGL_clip_cull_distance"),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture"),i("WEBGL_render_shared_exponent")},get:function(r){const o=i(r);return o===null&&sf("THREE.WebGLRenderer: "+r+" extension not supported."),o}}}function ODe(n,e,i,r){const o={},s=new WeakMap;function a(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",a),delete o[h.id];const p=s.get(h);p&&(e.remove(p),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,i.memory.geometries--}function l(f,h){return o[h.id]===!0||(h.addEventListener("dispose",a),o[h.id]=!0,i.memory.geometries++),h}function u(f){const h=f.attributes;for(const p in h)e.update(h[p],n.ARRAY_BUFFER)}function c(f){const h=[],p=f.index,v=f.attributes.position;let b=0;if(p!==null){const _=p.array;b=p.version;for(let S=0,w=_.length;S<w;S+=3){const T=_[S+0],A=_[S+1],C=_[S+2];h.push(T,A,A,C,C,T)}}else if(v!==void 0){const _=v.array;b=v.version;for(let S=0,w=_.length/3-1;S<w;S+=3){const T=S+0,A=S+1,C=S+2;h.push(T,A,A,C,C,T)}}else return;const y=new(T9(h)?XI:KI)(h,1);y.version=b;const m=s.get(f);m&&e.remove(m),s.set(f,y)}function d(f){const h=s.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&c(f)}else c(f);return s.get(f)}return{get:l,update:u,getWireframeAttribute:d}}function DDe(n,e,i){let r;function o(h){r=h}let s,a;function l(h){s=h.type,a=h.bytesPerElement}function u(h,p){n.drawElements(r,p,s,h*a),i.update(p,r,1)}function c(h,p,v){v!==0&&(n.drawElementsInstanced(r,p,s,h*a,v),i.update(p,r,v))}function d(h,p,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,s,h,0,v);let y=0;for(let m=0;m<v;m++)y+=p[m];i.update(y,r,1)}function f(h,p,v,b){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let m=0;m<h.length;m++)c(h[m]/a,p[m],b[m]);else{y.multiDrawElementsInstancedWEBGL(r,p,0,s,h,0,b,0,v);let m=0;for(let _=0;_<v;_++)m+=p[_]*b[_];i.update(m,r,1)}}this.setMode=o,this.setIndex=l,this.render=u,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function LDe(n){const e={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,l){switch(i.calls++,a){case n.TRIANGLES:i.triangles+=l*(s/3);break;case n.LINES:i.lines+=l*(s/2);break;case n.LINE_STRIP:i.lines+=l*(s-1);break;case n.LINE_LOOP:i.lines+=l*s;break;case n.POINTS:i.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function o(){i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:e,render:i,programs:null,autoReset:!0,reset:o,update:r}}function BDe(n,e,i){const r=new WeakMap,o=new dn;function s(a,l,u){const c=a.morphTargetInfluences,d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,f=d!==void 0?d.length:0;let h=r.get(l);if(h===void 0||h.count!==f){let P=function(){R.dispose(),r.delete(l),l.removeEventListener("dispose",P)};var p=P;h!==void 0&&h.texture.dispose();const v=l.morphAttributes.position!==void 0,b=l.morphAttributes.normal!==void 0,y=l.morphAttributes.color!==void 0,m=l.morphAttributes.position||[],_=l.morphAttributes.normal||[],S=l.morphAttributes.color||[];let w=0;v===!0&&(w=1),b===!0&&(w=2),y===!0&&(w=3);let T=l.attributes.position.count*w,A=1;T>e.maxTextureSize&&(A=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const C=new Float32Array(T*A*4*f),R=new WI(C,T,A,f);R.type=er,R.needsUpdate=!0;const E=w*4;for(let N=0;N<f;N++){const D=m[N],$=_[N],L=S[N],F=T*A*4*N;for(let U=0;U<D.count;U++){const k=U*E;v===!0&&(o.fromBufferAttribute(D,U),C[F+k+0]=o.x,C[F+k+1]=o.y,C[F+k+2]=o.z,C[F+k+3]=0),b===!0&&(o.fromBufferAttribute($,U),C[F+k+4]=o.x,C[F+k+5]=o.y,C[F+k+6]=o.z,C[F+k+7]=0),y===!0&&(o.fromBufferAttribute(L,U),C[F+k+8]=o.x,C[F+k+9]=o.y,C[F+k+10]=o.z,C[F+k+11]=L.itemSize===4?o.w:1)}}h={count:f,texture:R,size:new dt(T,A)},r.set(l,h),l.addEventListener("dispose",P)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",a.morphTexture,i);else{let v=0;for(let y=0;y<c.length;y++)v+=c[y];const b=l.morphTargetsRelative?1:1-v;u.getUniforms().setValue(n,"morphTargetBaseInfluence",b),u.getUniforms().setValue(n,"morphTargetInfluences",c)}u.getUniforms().setValue(n,"morphTargetsTexture",h.texture,i),u.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}return{update:s}}function FDe(n,e,i,r){let o=new WeakMap;function s(u){const c=r.render.frame,d=u.geometry,f=e.get(u,d);if(o.get(f)!==c&&(e.update(f),o.set(f,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),o.get(u)!==c&&(i.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&i.update(u.instanceColor,n.ARRAY_BUFFER),o.set(u,c))),u.isSkinnedMesh){const h=u.skeleton;o.get(h)!==c&&(h.update(),o.set(h,c))}return f}function a(){o=new WeakMap}function l(u){const c=u.target;c.removeEventListener("dispose",l),i.remove(c.instanceMatrix),c.instanceColor!==null&&i.remove(c.instanceColor)}return{update:s,dispose:a}}const j9=new dr,z4=new pd(1,1),K9=new WI,X9=new OPe,q9=new Bw,H4=[],G4=[],V4=new Float32Array(16),W4=new Float32Array(9),j4=new Float32Array(4);function Bg(n,e,i){const r=n[0];if(r<=0||r>0)return n;const o=e*i;let s=H4[o];if(s===void 0&&(s=new Float32Array(o),H4[o]=s),e!==0){r.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=i,n[a].toArray(s,l)}return s}function Cr(n,e){if(n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(n[i]!==e[i])return!1;return!0}function Tr(n,e){for(let i=0,r=e.length;i<r;i++)n[i]=e[i]}function Hw(n,e){let i=G4[e];i===void 0&&(i=new Int32Array(e),G4[e]=i);for(let r=0;r!==e;++r)i[r]=n.allocateTextureUnit();return i}function $De(n,e){const i=this.cache;i[0]!==e&&(n.uniform1f(this.addr,e),i[0]=e)}function UDe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Cr(i,e))return;n.uniform2fv(this.addr,e),Tr(i,e)}}function kDe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(e.r!==void 0)(i[0]!==e.r||i[1]!==e.g||i[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(Cr(i,e))return;n.uniform3fv(this.addr,e),Tr(i,e)}}function zDe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Cr(i,e))return;n.uniform4fv(this.addr,e),Tr(i,e)}}function HDe(n,e){const i=this.cache,r=e.elements;if(r===void 0){if(Cr(i,e))return;n.uniformMatrix2fv(this.addr,!1,e),Tr(i,e)}else{if(Cr(i,r))return;j4.set(r),n.uniformMatrix2fv(this.addr,!1,j4),Tr(i,r)}}function GDe(n,e){const i=this.cache,r=e.elements;if(r===void 0){if(Cr(i,e))return;n.uniformMatrix3fv(this.addr,!1,e),Tr(i,e)}else{if(Cr(i,r))return;W4.set(r),n.uniformMatrix3fv(this.addr,!1,W4),Tr(i,r)}}function VDe(n,e){const i=this.cache,r=e.elements;if(r===void 0){if(Cr(i,e))return;n.uniformMatrix4fv(this.addr,!1,e),Tr(i,e)}else{if(Cr(i,r))return;V4.set(r),n.uniformMatrix4fv(this.addr,!1,V4),Tr(i,r)}}function WDe(n,e){const i=this.cache;i[0]!==e&&(n.uniform1i(this.addr,e),i[0]=e)}function jDe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Cr(i,e))return;n.uniform2iv(this.addr,e),Tr(i,e)}}function KDe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else{if(Cr(i,e))return;n.uniform3iv(this.addr,e),Tr(i,e)}}function XDe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Cr(i,e))return;n.uniform4iv(this.addr,e),Tr(i,e)}}function qDe(n,e){const i=this.cache;i[0]!==e&&(n.uniform1ui(this.addr,e),i[0]=e)}function YDe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Cr(i,e))return;n.uniform2uiv(this.addr,e),Tr(i,e)}}function QDe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else{if(Cr(i,e))return;n.uniform3uiv(this.addr,e),Tr(i,e)}}function ZDe(n,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Cr(i,e))return;n.uniform4uiv(this.addr,e),Tr(i,e)}}function JDe(n,e,i){const r=this.cache,o=i.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o);let s;this.type===n.SAMPLER_2D_SHADOW?(z4.compareFunction=Ow,s=z4):s=j9,i.setTexture2D(e||s,o)}function e3e(n,e,i){const r=this.cache,o=i.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),i.setTexture3D(e||X9,o)}function t3e(n,e,i){const r=this.cache,o=i.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),i.setTextureCube(e||q9,o)}function n3e(n,e,i){const r=this.cache,o=i.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),i.setTexture2DArray(e||K9,o)}function i3e(n){switch(n){case 5126:return $De;case 35664:return UDe;case 35665:return kDe;case 35666:return zDe;case 35674:return HDe;case 35675:return GDe;case 35676:return VDe;case 5124:case 35670:return WDe;case 35667:case 35671:return jDe;case 35668:case 35672:return KDe;case 35669:case 35673:return XDe;case 5125:return qDe;case 36294:return YDe;case 36295:return QDe;case 36296:return ZDe;case 35678:case 36198:case 36298:case 36306:case 35682:return JDe;case 35679:case 36299:case 36307:return e3e;case 35680:case 36300:case 36308:case 36293:return t3e;case 36289:case 36303:case 36311:case 36292:return n3e}}function r3e(n,e){n.uniform1fv(this.addr,e)}function o3e(n,e){const i=Bg(e,this.size,2);n.uniform2fv(this.addr,i)}function s3e(n,e){const i=Bg(e,this.size,3);n.uniform3fv(this.addr,i)}function a3e(n,e){const i=Bg(e,this.size,4);n.uniform4fv(this.addr,i)}function l3e(n,e){const i=Bg(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,i)}function u3e(n,e){const i=Bg(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,i)}function c3e(n,e){const i=Bg(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,i)}function d3e(n,e){n.uniform1iv(this.addr,e)}function f3e(n,e){n.uniform2iv(this.addr,e)}function h3e(n,e){n.uniform3iv(this.addr,e)}function p3e(n,e){n.uniform4iv(this.addr,e)}function g3e(n,e){n.uniform1uiv(this.addr,e)}function m3e(n,e){n.uniform2uiv(this.addr,e)}function v3e(n,e){n.uniform3uiv(this.addr,e)}function y3e(n,e){n.uniform4uiv(this.addr,e)}function b3e(n,e,i){const r=this.cache,o=e.length,s=Hw(i,o);Cr(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let a=0;a!==o;++a)i.setTexture2D(e[a]||j9,s[a])}function x3e(n,e,i){const r=this.cache,o=e.length,s=Hw(i,o);Cr(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let a=0;a!==o;++a)i.setTexture3D(e[a]||X9,s[a])}function _3e(n,e,i){const r=this.cache,o=e.length,s=Hw(i,o);Cr(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let a=0;a!==o;++a)i.setTextureCube(e[a]||q9,s[a])}function S3e(n,e,i){const r=this.cache,o=e.length,s=Hw(i,o);Cr(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let a=0;a!==o;++a)i.setTexture2DArray(e[a]||K9,s[a])}function w3e(n){switch(n){case 5126:return r3e;case 35664:return o3e;case 35665:return s3e;case 35666:return a3e;case 35674:return l3e;case 35675:return u3e;case 35676:return c3e;case 5124:case 35670:return d3e;case 35667:case 35671:return f3e;case 35668:case 35672:return h3e;case 35669:case 35673:return p3e;case 5125:return g3e;case 36294:return m3e;case 36295:return v3e;case 36296:return y3e;case 35678:case 36198:case 36298:case 36306:case 35682:return b3e;case 35679:case 36299:case 36307:return x3e;case 35680:case 36300:case 36308:case 36293:return _3e;case 36289:case 36303:case 36311:case 36292:return S3e}}class C3e{constructor(e,i,r){this.id=e,this.addr=r,this.cache=[],this.type=i.type,this.setValue=i3e(i.type)}}class T3e{constructor(e,i,r){this.id=e,this.addr=r,this.cache=[],this.type=i.type,this.size=i.size,this.setValue=w3e(i.type)}}class A3e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,i,r){const o=this.seq;for(let s=0,a=o.length;s!==a;++s){const l=o[s];l.setValue(e,i[l.id],r)}}}const dA=/(\w+)(\])?(\[|\.)?/g;function K4(n,e){n.seq.push(e),n.map[e.id]=e}function E3e(n,e,i){const r=n.name,o=r.length;for(dA.lastIndex=0;;){const s=dA.exec(r),a=dA.lastIndex;let l=s[1];const u=s[2]==="]",c=s[3];if(u&&(l=l|0),c===void 0||c==="["&&a+2===o){K4(i,c===void 0?new C3e(l,n,e):new T3e(l,n,e));break}else{let f=i.map[l];f===void 0&&(f=new A3e(l),K4(i,f)),i=f}}}class i_{constructor(e,i){this.seq=[],this.map={};const r=e.getProgramParameter(i,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const s=e.getActiveUniform(i,o),a=e.getUniformLocation(i,s.name);E3e(s,a,this)}}setValue(e,i,r,o){const s=this.map[i];s!==void 0&&s.setValue(e,r,o)}setOptional(e,i,r){const o=i[r];o!==void 0&&this.setValue(e,r,o)}static upload(e,i,r,o){for(let s=0,a=i.length;s!==a;++s){const l=i[s],u=r[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,o)}}static seqWithValue(e,i){const r=[];for(let o=0,s=e.length;o!==s;++o){const a=e[o];a.id in i&&r.push(a)}return r}}function X4(n,e,i){const r=n.createShader(e);return n.shaderSource(r,i),n.compileShader(r),r}const M3e=37297;let R3e=0;function P3e(n,e){const i=n.split(`
`),r=[],o=Math.max(e-6,0),s=Math.min(e+6,i.length);for(let a=o;a<s;a++){const l=a+1;r.push(`${l===e?">":" "} ${l}: ${i[a]}`)}return r.join(`
`)}const q4=new Kt;function I3e(n){wn._getMatrix(q4,wn.workingColorSpace,n);const e=`mat3( ${q4.elements.map(i=>i.toFixed(4))} )`;switch(wn.getTransfer(n)){case cS:return[e,"LinearTransferOETF"];case Yn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function Y4(n,e,i){const r=n.getShaderParameter(e,n.COMPILE_STATUS),o=n.getShaderInfoLog(e).trim();if(r&&o==="")return"";const s=/ERROR: 0:(\d+)/.exec(o);if(s){const a=parseInt(s[1]);return i.toUpperCase()+`

`+o+`

`+P3e(n.getShaderSource(e),a)}else return o}function N3e(n,e){const i=I3e(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${i[1]}( vec4( value.rgb * ${i[0]}, value.a ) );`,"}"].join(`
`)}function O3e(n,e){let i;switch(e){case y9:i="Linear";break;case b9:i="Reinhard";break;case x9:i="Cineon";break;case _9:i="ACESFilmic";break;case S9:i="AgX";break;case w9:i="Neutral";break;case jRe:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),i="Linear"}return"vec3 "+n+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}const ex=new me;function D3e(){wn.getLuminanceCoefficients(ex);const n=ex.x.toFixed(4),e=ex.y.toFixed(4),i=ex.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${i} );`,"	return dot( weights, rgb );","}"].join(`
`)}function L3e(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Jm).join(`
`)}function B3e(n){const e=[];for(const i in n){const r=n[i];r!==!1&&e.push("#define "+i+" "+r)}return e.join(`
`)}function F3e(n,e){const i={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let o=0;o<r;o++){const s=n.getActiveAttrib(e,o),a=s.name;let l=1;s.type===n.FLOAT_MAT2&&(l=2),s.type===n.FLOAT_MAT3&&(l=3),s.type===n.FLOAT_MAT4&&(l=4),i[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:l}}return i}function Jm(n){return n!==""}function Q4(n,e){const i=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Z4(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const $3e=/^[ \t]*#include +<([\w\d./]+)>/gm;function x2(n){return n.replace($3e,k3e)}const U3e=new Map;function k3e(n,e){let i=Sn[e];if(i===void 0){const r=U3e.get(e);if(r!==void 0)i=Sn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return x2(i)}const z3e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function J4(n){return n.replace(z3e,H3e)}function H3e(n,e,i,r){let o="";for(let s=parseInt(e);s<parseInt(i);s++)o+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return o}function ek(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function G3e(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===xI?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===zRe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===xs&&(e="SHADOWMAP_TYPE_VSM"),e}function V3e(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ca:case da:e="ENVMAP_TYPE_CUBE";break;case zf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function W3e(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case da:e="ENVMAP_MODE_REFRACTION";break}return e}function j3e(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Xy:e="ENVMAP_BLENDING_MULTIPLY";break;case m9:e="ENVMAP_BLENDING_MIX";break;case v9:e="ENVMAP_BLENDING_ADD";break}return e}function K3e(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const i=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,i),7*16)),texelHeight:r,maxMip:i}}function X3e(n,e,i,r){const o=n.getContext(),s=i.defines;let a=i.vertexShader,l=i.fragmentShader;const u=G3e(i),c=V3e(i),d=W3e(i),f=j3e(i),h=K3e(i),p=L3e(i),v=B3e(s),b=o.createProgram();let y,m,_=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(y=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,v].filter(Jm).join(`
`),y.length>0&&(y+=`
`),m=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,v].filter(Jm).join(`
`),m.length>0&&(m+=`
`)):(y=[ek(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,v,i.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",i.batching?"#define USE_BATCHING":"",i.batchingColor?"#define USE_BATCHING_COLOR":"",i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.instancingMorph?"#define USE_INSTANCING_MORPH":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+d:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.displacementMap?"#define USE_DISPLACEMENTMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.mapUv?"#define MAP_UV "+i.mapUv:"",i.alphaMapUv?"#define ALPHAMAP_UV "+i.alphaMapUv:"",i.lightMapUv?"#define LIGHTMAP_UV "+i.lightMapUv:"",i.aoMapUv?"#define AOMAP_UV "+i.aoMapUv:"",i.emissiveMapUv?"#define EMISSIVEMAP_UV "+i.emissiveMapUv:"",i.bumpMapUv?"#define BUMPMAP_UV "+i.bumpMapUv:"",i.normalMapUv?"#define NORMALMAP_UV "+i.normalMapUv:"",i.displacementMapUv?"#define DISPLACEMENTMAP_UV "+i.displacementMapUv:"",i.metalnessMapUv?"#define METALNESSMAP_UV "+i.metalnessMapUv:"",i.roughnessMapUv?"#define ROUGHNESSMAP_UV "+i.roughnessMapUv:"",i.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+i.anisotropyMapUv:"",i.clearcoatMapUv?"#define CLEARCOATMAP_UV "+i.clearcoatMapUv:"",i.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+i.clearcoatNormalMapUv:"",i.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+i.clearcoatRoughnessMapUv:"",i.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+i.iridescenceMapUv:"",i.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+i.iridescenceThicknessMapUv:"",i.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+i.sheenColorMapUv:"",i.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+i.sheenRoughnessMapUv:"",i.specularMapUv?"#define SPECULARMAP_UV "+i.specularMapUv:"",i.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+i.specularColorMapUv:"",i.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+i.specularIntensityMapUv:"",i.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+i.transmissionMapUv:"",i.thicknessMapUv?"#define THICKNESSMAP_UV "+i.thicknessMapUv:"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.morphColors?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+u:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Jm).join(`
`),m=[ek(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,v,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+c:"",i.envMap?"#define "+d:"",i.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.dispersion?"#define USE_DISPERSION":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor||i.batchingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+u:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==es?"#define TONE_MAPPING":"",i.toneMapping!==es?Sn.tonemapping_pars_fragment:"",i.toneMapping!==es?O3e("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",Sn.colorspace_pars_fragment,N3e("linearToOutputTexel",i.outputColorSpace),D3e(),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(Jm).join(`
`)),a=x2(a),a=Q4(a,i),a=Z4(a,i),l=x2(l),l=Q4(l,i),l=Z4(l,i),a=J4(a),l=J4(l),i.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,m=["#define varying in",i.glslVersion===n4?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===n4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const S=_+y+a,w=_+m+l,T=X4(o,o.VERTEX_SHADER,S),A=X4(o,o.FRAGMENT_SHADER,w);o.attachShader(b,T),o.attachShader(b,A),i.index0AttributeName!==void 0?o.bindAttribLocation(b,0,i.index0AttributeName):i.morphTargets===!0&&o.bindAttribLocation(b,0,"position"),o.linkProgram(b);function C(N){if(n.debug.checkShaderErrors){const D=o.getProgramInfoLog(b).trim(),$=o.getShaderInfoLog(T).trim(),L=o.getShaderInfoLog(A).trim();let F=!0,U=!0;if(o.getProgramParameter(b,o.LINK_STATUS)===!1)if(F=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(o,b,T,A);else{const k=Y4(o,T,"vertex"),H=Y4(o,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(b,o.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+D+`
`+k+`
`+H)}else D!==""?console.warn("THREE.WebGLProgram: Program Info Log:",D):($===""||L==="")&&(U=!1);U&&(N.diagnostics={runnable:F,programLog:D,vertexShader:{log:$,prefix:y},fragmentShader:{log:L,prefix:m}})}o.deleteShader(T),o.deleteShader(A),R=new i_(o,b),E=F3e(o,b)}let R;this.getUniforms=function(){return R===void 0&&C(this),R};let E;this.getAttributes=function(){return E===void 0&&C(this),E};let P=i.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=o.getProgramParameter(b,M3e)),P},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(b),this.program=void 0},this.type=i.shaderType,this.name=i.shaderName,this.id=R3e++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=T,this.fragmentShader=A,this}let q3e=0;class Y3e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.vertexShader,r=e.fragmentShader,o=this._getShaderStage(i),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(o)===!1&&(a.add(o),o.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const i=this.materialCache.get(e);for(const r of i)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const i=this.materialCache;let r=i.get(e);return r===void 0&&(r=new Set,i.set(e,r)),r}_getShaderStage(e){const i=this.shaderCache;let r=i.get(e);return r===void 0&&(r=new Q3e(e),i.set(e,r)),r}}class Q3e{constructor(e){this.id=q3e++,this.code=e,this.usedTimes=0}}function Z3e(n,e,i,r,o,s,a){const l=new jI,u=new Y3e,c=new Set,d=[],f=o.logarithmicDepthBuffer,h=o.vertexTextures;let p=o.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(E){return c.add(E),E===0?"uv":`uv${E}`}function y(E,P,N,D,$){const L=D.fog,F=$.geometry,U=E.isMeshStandardMaterial?D.environment:null,k=(E.isMeshStandardMaterial?i:e).get(E.envMap||U),H=k&&k.mapping===zf?k.image.height:null,z=v[E.type];E.precision!==null&&(p=o.getMaxPrecision(E.precision),p!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",p,"instead."));const Q=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,Z=Q!==void 0?Q.length:0;let ie=0;F.morphAttributes.position!==void 0&&(ie=1),F.morphAttributes.normal!==void 0&&(ie=2),F.morphAttributes.color!==void 0&&(ie=3);let we,J,se,ee;if(z){const tn=ol[z];we=tn.vertexShader,J=tn.fragmentShader}else we=E.vertexShader,J=E.fragmentShader,u.update(E),se=u.getVertexShaderID(E),ee=u.getFragmentShaderID(E);const ne=n.getRenderTarget(),ue=n.state.buffers.depth.getReversed(),Y=$.isInstancedMesh===!0,le=$.isBatchedMesh===!0,he=!!E.map,W=!!E.matcap,X=!!k,V=!!E.aoMap,Ce=!!E.lightMap,pe=!!E.bumpMap,Se=!!E.normalMap,fe=!!E.displacementMap,ge=!!E.emissiveMap,ve=!!E.metalnessMap,j=!!E.roughnessMap,G=E.anisotropy>0,ce=E.clearcoat>0,Ee=E.dispersion>0,de=E.iridescence>0,re=E.sheen>0,ye=E.transmission>0,De=G&&!!E.anisotropyMap,Ge=ce&&!!E.clearcoatMap,ft=ce&&!!E.clearcoatNormalMap,Te=ce&&!!E.clearcoatRoughnessMap,Pe=de&&!!E.iridescenceMap,Ue=de&&!!E.iridescenceThicknessMap,qe=re&&!!E.sheenColorMap,je=re&&!!E.sheenRoughnessMap,lt=!!E.specularMap,rt=!!E.specularColorMap,At=!!E.specularIntensityMap,Ae=ye&&!!E.transmissionMap,nt=ye&&!!E.thicknessMap,$e=!!E.gradientMap,Ve=!!E.alphaMap,gt=E.alphaTest>0,yt=!!E.alphaHash,Ot=!!E.extensions;let qt=es;E.toneMapped&&(ne===null||ne.isXRRenderTarget===!0)&&(qt=n.toneMapping);const $n={shaderID:z,shaderType:E.type,shaderName:E.name,vertexShader:we,fragmentShader:J,defines:E.defines,customVertexShaderID:se,customFragmentShaderID:ee,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:p,batching:le,batchingColor:le&&$._colorsTexture!==null,instancing:Y,instancingColor:Y&&$.instanceColor!==null,instancingMorph:Y&&$.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:ne===null?n.outputColorSpace:ne.isXRRenderTarget===!0?ne.texture.colorSpace:oa,alphaToCoverage:!!E.alphaToCoverage,map:he,matcap:W,envMap:X,envMapMode:X&&k.mapping,envMapCubeUVHeight:H,aoMap:V,lightMap:Ce,bumpMap:pe,normalMap:Se,displacementMap:h&&fe,emissiveMap:ge,normalMapObjectSpace:Se&&E.normalMapType===C9,normalMapTangentSpace:Se&&E.normalMapType===Vu,metalnessMap:ve,roughnessMap:j,anisotropy:G,anisotropyMap:De,clearcoat:ce,clearcoatMap:Ge,clearcoatNormalMap:ft,clearcoatRoughnessMap:Te,dispersion:Ee,iridescence:de,iridescenceMap:Pe,iridescenceThicknessMap:Ue,sheen:re,sheenColorMap:qe,sheenRoughnessMap:je,specularMap:lt,specularColorMap:rt,specularIntensityMap:At,transmission:ye,transmissionMap:Ae,thicknessMap:nt,gradientMap:$e,opaque:E.transparent===!1&&E.blending===ra&&E.alphaToCoverage===!1,alphaMap:Ve,alphaTest:gt,alphaHash:yt,combine:E.combine,mapUv:he&&b(E.map.channel),aoMapUv:V&&b(E.aoMap.channel),lightMapUv:Ce&&b(E.lightMap.channel),bumpMapUv:pe&&b(E.bumpMap.channel),normalMapUv:Se&&b(E.normalMap.channel),displacementMapUv:fe&&b(E.displacementMap.channel),emissiveMapUv:ge&&b(E.emissiveMap.channel),metalnessMapUv:ve&&b(E.metalnessMap.channel),roughnessMapUv:j&&b(E.roughnessMap.channel),anisotropyMapUv:De&&b(E.anisotropyMap.channel),clearcoatMapUv:Ge&&b(E.clearcoatMap.channel),clearcoatNormalMapUv:ft&&b(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Te&&b(E.clearcoatRoughnessMap.channel),iridescenceMapUv:Pe&&b(E.iridescenceMap.channel),iridescenceThicknessMapUv:Ue&&b(E.iridescenceThicknessMap.channel),sheenColorMapUv:qe&&b(E.sheenColorMap.channel),sheenRoughnessMapUv:je&&b(E.sheenRoughnessMap.channel),specularMapUv:lt&&b(E.specularMap.channel),specularColorMapUv:rt&&b(E.specularColorMap.channel),specularIntensityMapUv:At&&b(E.specularIntensityMap.channel),transmissionMapUv:Ae&&b(E.transmissionMap.channel),thicknessMapUv:nt&&b(E.thicknessMap.channel),alphaMapUv:Ve&&b(E.alphaMap.channel),vertexTangents:!!F.attributes.tangent&&(Se||G),vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,pointsUvs:$.isPoints===!0&&!!F.attributes.uv&&(he||Ve),fog:!!L,useFog:E.fog===!0,fogExp2:!!L&&L.isFogExp2,flatShading:E.flatShading===!0,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:ue,skinning:$.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:ie,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&N.length>0,shadowMapType:n.shadowMap.type,toneMapping:qt,decodeVideoTexture:he&&E.map.isVideoTexture===!0&&wn.getTransfer(E.map.colorSpace)===Yn,decodeVideoTextureEmissive:ge&&E.emissiveMap.isVideoTexture===!0&&wn.getTransfer(E.emissiveMap.colorSpace)===Yn,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Ao,flipSided:E.side===Ni,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:Ot&&E.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ot&&E.extensions.multiDraw===!0||le)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return $n.vertexUv1s=c.has(1),$n.vertexUv2s=c.has(2),$n.vertexUv3s=c.has(3),c.clear(),$n}function m(E){const P=[];if(E.shaderID?P.push(E.shaderID):(P.push(E.customVertexShaderID),P.push(E.customFragmentShaderID)),E.defines!==void 0)for(const N in E.defines)P.push(N),P.push(E.defines[N]);return E.isRawShaderMaterial===!1&&(_(P,E),S(P,E),P.push(n.outputColorSpace)),P.push(E.customProgramCacheKey),P.join()}function _(E,P){E.push(P.precision),E.push(P.outputColorSpace),E.push(P.envMapMode),E.push(P.envMapCubeUVHeight),E.push(P.mapUv),E.push(P.alphaMapUv),E.push(P.lightMapUv),E.push(P.aoMapUv),E.push(P.bumpMapUv),E.push(P.normalMapUv),E.push(P.displacementMapUv),E.push(P.emissiveMapUv),E.push(P.metalnessMapUv),E.push(P.roughnessMapUv),E.push(P.anisotropyMapUv),E.push(P.clearcoatMapUv),E.push(P.clearcoatNormalMapUv),E.push(P.clearcoatRoughnessMapUv),E.push(P.iridescenceMapUv),E.push(P.iridescenceThicknessMapUv),E.push(P.sheenColorMapUv),E.push(P.sheenRoughnessMapUv),E.push(P.specularMapUv),E.push(P.specularColorMapUv),E.push(P.specularIntensityMapUv),E.push(P.transmissionMapUv),E.push(P.thicknessMapUv),E.push(P.combine),E.push(P.fogExp2),E.push(P.sizeAttenuation),E.push(P.morphTargetsCount),E.push(P.morphAttributeCount),E.push(P.numDirLights),E.push(P.numPointLights),E.push(P.numSpotLights),E.push(P.numSpotLightMaps),E.push(P.numHemiLights),E.push(P.numRectAreaLights),E.push(P.numDirLightShadows),E.push(P.numPointLightShadows),E.push(P.numSpotLightShadows),E.push(P.numSpotLightShadowsWithMaps),E.push(P.numLightProbes),E.push(P.shadowMapType),E.push(P.toneMapping),E.push(P.numClippingPlanes),E.push(P.numClipIntersection),E.push(P.depthPacking)}function S(E,P){l.disableAll(),P.supportsVertexTextures&&l.enable(0),P.instancing&&l.enable(1),P.instancingColor&&l.enable(2),P.instancingMorph&&l.enable(3),P.matcap&&l.enable(4),P.envMap&&l.enable(5),P.normalMapObjectSpace&&l.enable(6),P.normalMapTangentSpace&&l.enable(7),P.clearcoat&&l.enable(8),P.iridescence&&l.enable(9),P.alphaTest&&l.enable(10),P.vertexColors&&l.enable(11),P.vertexAlphas&&l.enable(12),P.vertexUv1s&&l.enable(13),P.vertexUv2s&&l.enable(14),P.vertexUv3s&&l.enable(15),P.vertexTangents&&l.enable(16),P.anisotropy&&l.enable(17),P.alphaHash&&l.enable(18),P.batching&&l.enable(19),P.dispersion&&l.enable(20),P.batchingColor&&l.enable(21),E.push(l.mask),l.disableAll(),P.fog&&l.enable(0),P.useFog&&l.enable(1),P.flatShading&&l.enable(2),P.logarithmicDepthBuffer&&l.enable(3),P.reverseDepthBuffer&&l.enable(4),P.skinning&&l.enable(5),P.morphTargets&&l.enable(6),P.morphNormals&&l.enable(7),P.morphColors&&l.enable(8),P.premultipliedAlpha&&l.enable(9),P.shadowMapEnabled&&l.enable(10),P.doubleSided&&l.enable(11),P.flipSided&&l.enable(12),P.useDepthPacking&&l.enable(13),P.dithering&&l.enable(14),P.transmission&&l.enable(15),P.sheen&&l.enable(16),P.opaque&&l.enable(17),P.pointsUvs&&l.enable(18),P.decodeVideoTexture&&l.enable(19),P.decodeVideoTextureEmissive&&l.enable(20),P.alphaToCoverage&&l.enable(21),E.push(l.mask)}function w(E){const P=v[E.type];let N;if(P){const D=ol[P];N=I9.clone(D.uniforms)}else N=E.uniforms;return N}function T(E,P){let N;for(let D=0,$=d.length;D<$;D++){const L=d[D];if(L.cacheKey===P){N=L,++N.usedTimes;break}}return N===void 0&&(N=new X3e(n,P,E,s),d.push(N)),N}function A(E){if(--E.usedTimes===0){const P=d.indexOf(E);d[P]=d[d.length-1],d.pop(),E.destroy()}}function C(E){u.remove(E)}function R(){u.dispose()}return{getParameters:y,getProgramCacheKey:m,getUniforms:w,acquireProgram:T,releaseProgram:A,releaseShaderCache:C,programs:d,dispose:R}}function J3e(){let n=new WeakMap;function e(a){return n.has(a)}function i(a){let l=n.get(a);return l===void 0&&(l={},n.set(a,l)),l}function r(a){n.delete(a)}function o(a,l,u){n.get(a)[l]=u}function s(){n=new WeakMap}return{has:e,get:i,remove:r,update:o,dispose:s}}function eLe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function tk(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function nk(){const n=[];let e=0;const i=[],r=[],o=[];function s(){e=0,i.length=0,r.length=0,o.length=0}function a(f,h,p,v,b,y){let m=n[e];return m===void 0?(m={id:f.id,object:f,geometry:h,material:p,groupOrder:v,renderOrder:f.renderOrder,z:b,group:y},n[e]=m):(m.id=f.id,m.object=f,m.geometry=h,m.material=p,m.groupOrder=v,m.renderOrder=f.renderOrder,m.z=b,m.group=y),e++,m}function l(f,h,p,v,b,y){const m=a(f,h,p,v,b,y);p.transmission>0?r.push(m):p.transparent===!0?o.push(m):i.push(m)}function u(f,h,p,v,b,y){const m=a(f,h,p,v,b,y);p.transmission>0?r.unshift(m):p.transparent===!0?o.unshift(m):i.unshift(m)}function c(f,h){i.length>1&&i.sort(f||eLe),r.length>1&&r.sort(h||tk),o.length>1&&o.sort(h||tk)}function d(){for(let f=e,h=n.length;f<h;f++){const p=n[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:i,transmissive:r,transparent:o,init:s,push:l,unshift:u,finish:d,sort:c}}function tLe(){let n=new WeakMap;function e(r,o){const s=n.get(r);let a;return s===void 0?(a=new nk,n.set(r,[a])):o>=s.length?(a=new nk,s.push(a)):a=s[o],a}function i(){n=new WeakMap}return{get:e,dispose:i}}function nLe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let i;switch(e.type){case"DirectionalLight":i={direction:new me,color:new Lt};break;case"SpotLight":i={position:new me,direction:new me,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new me,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":i={direction:new me,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":i={color:new Lt,position:new me,halfWidth:new me,halfHeight:new me};break}return n[e.id]=i,i}}}function iLe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let i;switch(e.type){case"DirectionalLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt};break;case"SpotLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt};break;case"PointLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=i,i}}}let rLe=0;function oLe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function sLe(n){const e=new nLe,i=iLe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new me);const o=new me,s=new Mn,a=new Mn;function l(c){let d=0,f=0,h=0;for(let E=0;E<9;E++)r.probe[E].set(0,0,0);let p=0,v=0,b=0,y=0,m=0,_=0,S=0,w=0,T=0,A=0,C=0;c.sort(oLe);for(let E=0,P=c.length;E<P;E++){const N=c[E],D=N.color,$=N.intensity,L=N.distance,F=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)d+=D.r*$,f+=D.g*$,h+=D.b*$;else if(N.isLightProbe){for(let U=0;U<9;U++)r.probe[U].addScaledVector(N.sh.coefficients[U],$);C++}else if(N.isDirectionalLight){const U=e.get(N);if(U.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){const k=N.shadow,H=i.get(N);H.shadowIntensity=k.intensity,H.shadowBias=k.bias,H.shadowNormalBias=k.normalBias,H.shadowRadius=k.radius,H.shadowMapSize=k.mapSize,r.directionalShadow[p]=H,r.directionalShadowMap[p]=F,r.directionalShadowMatrix[p]=N.shadow.matrix,_++}r.directional[p]=U,p++}else if(N.isSpotLight){const U=e.get(N);U.position.setFromMatrixPosition(N.matrixWorld),U.color.copy(D).multiplyScalar($),U.distance=L,U.coneCos=Math.cos(N.angle),U.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),U.decay=N.decay,r.spot[b]=U;const k=N.shadow;if(N.map&&(r.spotLightMap[T]=N.map,T++,k.updateMatrices(N),N.castShadow&&A++),r.spotLightMatrix[b]=k.matrix,N.castShadow){const H=i.get(N);H.shadowIntensity=k.intensity,H.shadowBias=k.bias,H.shadowNormalBias=k.normalBias,H.shadowRadius=k.radius,H.shadowMapSize=k.mapSize,r.spotShadow[b]=H,r.spotShadowMap[b]=F,w++}b++}else if(N.isRectAreaLight){const U=e.get(N);U.color.copy(D).multiplyScalar($),U.halfWidth.set(N.width*.5,0,0),U.halfHeight.set(0,N.height*.5,0),r.rectArea[y]=U,y++}else if(N.isPointLight){const U=e.get(N);if(U.color.copy(N.color).multiplyScalar(N.intensity),U.distance=N.distance,U.decay=N.decay,N.castShadow){const k=N.shadow,H=i.get(N);H.shadowIntensity=k.intensity,H.shadowBias=k.bias,H.shadowNormalBias=k.normalBias,H.shadowRadius=k.radius,H.shadowMapSize=k.mapSize,H.shadowCameraNear=k.camera.near,H.shadowCameraFar=k.camera.far,r.pointShadow[v]=H,r.pointShadowMap[v]=F,r.pointShadowMatrix[v]=N.shadow.matrix,S++}r.point[v]=U,v++}else if(N.isHemisphereLight){const U=e.get(N);U.skyColor.copy(N.color).multiplyScalar($),U.groundColor.copy(N.groundColor).multiplyScalar($),r.hemi[m]=U,m++}}y>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=wt.LTC_FLOAT_1,r.rectAreaLTC2=wt.LTC_FLOAT_2):(r.rectAreaLTC1=wt.LTC_HALF_1,r.rectAreaLTC2=wt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=h;const R=r.hash;(R.directionalLength!==p||R.pointLength!==v||R.spotLength!==b||R.rectAreaLength!==y||R.hemiLength!==m||R.numDirectionalShadows!==_||R.numPointShadows!==S||R.numSpotShadows!==w||R.numSpotMaps!==T||R.numLightProbes!==C)&&(r.directional.length=p,r.spot.length=b,r.rectArea.length=y,r.point.length=v,r.hemi.length=m,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=w,r.spotShadowMap.length=w,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=w+T-A,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=C,R.directionalLength=p,R.pointLength=v,R.spotLength=b,R.rectAreaLength=y,R.hemiLength=m,R.numDirectionalShadows=_,R.numPointShadows=S,R.numSpotShadows=w,R.numSpotMaps=T,R.numLightProbes=C,r.version=rLe++)}function u(c,d){let f=0,h=0,p=0,v=0,b=0;const y=d.matrixWorldInverse;for(let m=0,_=c.length;m<_;m++){const S=c[m];if(S.isDirectionalLight){const w=r.directional[f];w.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(o),w.direction.transformDirection(y),f++}else if(S.isSpotLight){const w=r.spot[p];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(y),w.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(o),w.direction.transformDirection(y),p++}else if(S.isRectAreaLight){const w=r.rectArea[v];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(y),a.identity(),s.copy(S.matrixWorld),s.premultiply(y),a.extractRotation(s),w.halfWidth.set(S.width*.5,0,0),w.halfHeight.set(0,S.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),v++}else if(S.isPointLight){const w=r.point[h];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(y),h++}else if(S.isHemisphereLight){const w=r.hemi[b];w.direction.setFromMatrixPosition(S.matrixWorld),w.direction.transformDirection(y),b++}}}return{setup:l,setupView:u,state:r}}function ik(n){const e=new sLe(n),i=[],r=[];function o(d){c.camera=d,i.length=0,r.length=0}function s(d){i.push(d)}function a(d){r.push(d)}function l(){e.setup(i)}function u(d){e.setupView(i,d)}const c={lightsArray:i,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:o,state:c,setupLights:l,setupLightsView:u,pushLight:s,pushShadow:a}}function aLe(n){let e=new WeakMap;function i(o,s=0){const a=e.get(o);let l;return a===void 0?(l=new ik(n),e.set(o,[l])):s>=a.length?(l=new ik(n),a.push(l)):l=a[s],l}function r(){e=new WeakMap}return{get:i,dispose:r}}const lLe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,uLe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cLe(n,e,i){let r=new Fw;const o=new dt,s=new dt,a=new dn,l=new wIe({depthPacking:qRe}),u=new CIe,c={},d=i.maxTextureSize,f={[Ua]:Ni,[Ni]:Ua,[Ao]:Ao},h=new Al({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dt},radius:{value:4}},vertexShader:lLe,fragmentShader:uLe}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const v=new co;v.setAttribute("position",new Wr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Lr(v,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xI;let m=this.type;this.render=function(A,C,R){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const E=n.getRenderTarget(),P=n.getActiveCubeFace(),N=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Jo),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const $=m!==xs&&this.type===xs,L=m===xs&&this.type!==xs;for(let F=0,U=A.length;F<U;F++){const k=A[F],H=k.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;o.copy(H.mapSize);const z=H.getFrameExtents();if(o.multiply(z),s.copy(H.mapSize),(o.x>d||o.y>d)&&(o.x>d&&(s.x=Math.floor(d/z.x),o.x=s.x*z.x,H.mapSize.x=s.x),o.y>d&&(s.y=Math.floor(d/z.y),o.y=s.y*z.y,H.mapSize.y=s.y)),H.map===null||$===!0||L===!0){const Z=this.type!==xs?{minFilter:_i,magFilter:_i}:{};H.map!==null&&H.map.dispose(),H.map=new sd(o.x,o.y,Z),H.map.texture.name=k.name+".shadowMap",H.camera.updateProjectionMatrix()}n.setRenderTarget(H.map),n.clear();const Q=H.getViewportCount();for(let Z=0;Z<Q;Z++){const ie=H.getViewport(Z);a.set(s.x*ie.x,s.y*ie.y,s.x*ie.z,s.y*ie.w),D.viewport(a),H.updateMatrices(k,Z),r=H.getFrustum(),w(C,R,H.camera,k,this.type)}H.isPointLightShadow!==!0&&this.type===xs&&_(H,R),H.needsUpdate=!1}m=this.type,y.needsUpdate=!1,n.setRenderTarget(E,P,N)};function _(A,C){const R=e.update(b);h.defines.VSM_SAMPLES!==A.blurSamples&&(h.defines.VSM_SAMPLES=A.blurSamples,p.defines.VSM_SAMPLES=A.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new sd(o.x,o.y)),h.uniforms.shadow_pass.value=A.map.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(C,null,R,h,b,null),p.uniforms.shadow_pass.value=A.mapPass.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(C,null,R,p,b,null)}function S(A,C,R,E){let P=null;const N=R.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(N!==void 0)P=N;else if(P=R.isPointLight===!0?u:l,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const D=P.uuid,$=C.uuid;let L=c[D];L===void 0&&(L={},c[D]=L);let F=L[$];F===void 0&&(F=P.clone(),L[$]=F,C.addEventListener("dispose",T)),P=F}if(P.visible=C.visible,P.wireframe=C.wireframe,E===xs?P.side=C.shadowSide!==null?C.shadowSide:C.side:P.side=C.shadowSide!==null?C.shadowSide:f[C.side],P.alphaMap=C.alphaMap,P.alphaTest=C.alphaTest,P.map=C.map,P.clipShadows=C.clipShadows,P.clippingPlanes=C.clippingPlanes,P.clipIntersection=C.clipIntersection,P.displacementMap=C.displacementMap,P.displacementScale=C.displacementScale,P.displacementBias=C.displacementBias,P.wireframeLinewidth=C.wireframeLinewidth,P.linewidth=C.linewidth,R.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const D=n.properties.get(P);D.light=R}return P}function w(A,C,R,E,P){if(A.visible===!1)return;if(A.layers.test(C.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&P===xs)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,A.matrixWorld);const $=e.update(A),L=A.material;if(Array.isArray(L)){const F=$.groups;for(let U=0,k=F.length;U<k;U++){const H=F[U],z=L[H.materialIndex];if(z&&z.visible){const Q=S(A,z,E,P);A.onBeforeShadow(n,A,C,R,$,Q,H),n.renderBufferDirect(R,null,$,Q,A,H),A.onAfterShadow(n,A,C,R,$,Q,H)}}}else if(L.visible){const F=S(A,L,E,P);A.onBeforeShadow(n,A,C,R,$,F,null),n.renderBufferDirect(R,null,$,F,A,null),A.onAfterShadow(n,A,C,R,$,F,null)}}const D=A.children;for(let $=0,L=D.length;$<L;$++)w(D[$],C,R,E,P)}function T(A){A.target.removeEventListener("dispose",T);for(const R in c){const E=c[R],P=A.target.uuid;P in E&&(E[P].dispose(),delete E[P])}}}const dLe={[iy]:ry,[oy]:ly,[sy]:uy,[nd]:ay,[ry]:iy,[ly]:oy,[uy]:sy,[ay]:nd};function fLe(n,e){function i(){let Ae=!1;const nt=new dn;let $e=null;const Ve=new dn(0,0,0,0);return{setMask:function(gt){$e!==gt&&!Ae&&(n.colorMask(gt,gt,gt,gt),$e=gt)},setLocked:function(gt){Ae=gt},setClear:function(gt,yt,Ot,qt,$n){$n===!0&&(gt*=qt,yt*=qt,Ot*=qt),nt.set(gt,yt,Ot,qt),Ve.equals(nt)===!1&&(n.clearColor(gt,yt,Ot,qt),Ve.copy(nt))},reset:function(){Ae=!1,$e=null,Ve.set(-1,0,0,0)}}}function r(){let Ae=!1,nt=!1,$e=null,Ve=null,gt=null;return{setReversed:function(yt){if(nt!==yt){const Ot=e.get("EXT_clip_control");nt?Ot.clipControlEXT(Ot.LOWER_LEFT_EXT,Ot.ZERO_TO_ONE_EXT):Ot.clipControlEXT(Ot.LOWER_LEFT_EXT,Ot.NEGATIVE_ONE_TO_ONE_EXT);const qt=gt;gt=null,this.setClear(qt)}nt=yt},getReversed:function(){return nt},setTest:function(yt){yt?ne(n.DEPTH_TEST):ue(n.DEPTH_TEST)},setMask:function(yt){$e!==yt&&!Ae&&(n.depthMask(yt),$e=yt)},setFunc:function(yt){if(nt&&(yt=dLe[yt]),Ve!==yt){switch(yt){case iy:n.depthFunc(n.NEVER);break;case ry:n.depthFunc(n.ALWAYS);break;case oy:n.depthFunc(n.LESS);break;case nd:n.depthFunc(n.LEQUAL);break;case sy:n.depthFunc(n.EQUAL);break;case ay:n.depthFunc(n.GEQUAL);break;case ly:n.depthFunc(n.GREATER);break;case uy:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Ve=yt}},setLocked:function(yt){Ae=yt},setClear:function(yt){gt!==yt&&(nt&&(yt=1-yt),n.clearDepth(yt),gt=yt)},reset:function(){Ae=!1,$e=null,Ve=null,gt=null,nt=!1}}}function o(){let Ae=!1,nt=null,$e=null,Ve=null,gt=null,yt=null,Ot=null,qt=null,$n=null;return{setTest:function(tn){Ae||(tn?ne(n.STENCIL_TEST):ue(n.STENCIL_TEST))},setMask:function(tn){nt!==tn&&!Ae&&(n.stencilMask(tn),nt=tn)},setFunc:function(tn,Ci,Ki){($e!==tn||Ve!==Ci||gt!==Ki)&&(n.stencilFunc(tn,Ci,Ki),$e=tn,Ve=Ci,gt=Ki)},setOp:function(tn,Ci,Ki){(yt!==tn||Ot!==Ci||qt!==Ki)&&(n.stencilOp(tn,Ci,Ki),yt=tn,Ot=Ci,qt=Ki)},setLocked:function(tn){Ae=tn},setClear:function(tn){$n!==tn&&(n.clearStencil(tn),$n=tn)},reset:function(){Ae=!1,nt=null,$e=null,Ve=null,gt=null,yt=null,Ot=null,qt=null,$n=null}}}const s=new i,a=new r,l=new o,u=new WeakMap,c=new WeakMap;let d={},f={},h=new WeakMap,p=[],v=null,b=!1,y=null,m=null,_=null,S=null,w=null,T=null,A=null,C=new Lt(0,0,0),R=0,E=!1,P=null,N=null,D=null,$=null,L=null;const F=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,k=0;const H=n.getParameter(n.VERSION);H.indexOf("WebGL")!==-1?(k=parseFloat(/^WebGL (\d)/.exec(H)[1]),U=k>=1):H.indexOf("OpenGL ES")!==-1&&(k=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),U=k>=2);let z=null,Q={};const Z=n.getParameter(n.SCISSOR_BOX),ie=n.getParameter(n.VIEWPORT),we=new dn().fromArray(Z),J=new dn().fromArray(ie);function se(Ae,nt,$e,Ve){const gt=new Uint8Array(4),yt=n.createTexture();n.bindTexture(Ae,yt),n.texParameteri(Ae,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ae,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ot=0;Ot<$e;Ot++)Ae===n.TEXTURE_3D||Ae===n.TEXTURE_2D_ARRAY?n.texImage3D(nt,0,n.RGBA,1,1,Ve,0,n.RGBA,n.UNSIGNED_BYTE,gt):n.texImage2D(nt+Ot,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,gt);return yt}const ee={};ee[n.TEXTURE_2D]=se(n.TEXTURE_2D,n.TEXTURE_2D,1),ee[n.TEXTURE_CUBE_MAP]=se(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ee[n.TEXTURE_2D_ARRAY]=se(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ee[n.TEXTURE_3D]=se(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),l.setClear(0),ne(n.DEPTH_TEST),a.setFunc(nd),pe(!1),Se(p2),ne(n.CULL_FACE),V(Jo);function ne(Ae){d[Ae]!==!0&&(n.enable(Ae),d[Ae]=!0)}function ue(Ae){d[Ae]!==!1&&(n.disable(Ae),d[Ae]=!1)}function Y(Ae,nt){return f[Ae]!==nt?(n.bindFramebuffer(Ae,nt),f[Ae]=nt,Ae===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=nt),Ae===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=nt),!0):!1}function le(Ae,nt){let $e=p,Ve=!1;if(Ae){$e=h.get(nt),$e===void 0&&($e=[],h.set(nt,$e));const gt=Ae.textures;if($e.length!==gt.length||$e[0]!==n.COLOR_ATTACHMENT0){for(let yt=0,Ot=gt.length;yt<Ot;yt++)$e[yt]=n.COLOR_ATTACHMENT0+yt;$e.length=gt.length,Ve=!0}}else $e[0]!==n.BACK&&($e[0]=n.BACK,Ve=!0);Ve&&n.drawBuffers($e)}function he(Ae){return v!==Ae?(n.useProgram(Ae),v=Ae,!0):!1}const W={[Cs]:n.FUNC_ADD,[SI]:n.FUNC_SUBTRACT,[wI]:n.FUNC_REVERSE_SUBTRACT};W[p9]=n.MIN,W[g9]=n.MAX;const X={[CI]:n.ZERO,[TI]:n.ONE,[AI]:n.SRC_COLOR,[ty]:n.SRC_ALPHA,[NI]:n.SRC_ALPHA_SATURATE,[PI]:n.DST_COLOR,[MI]:n.DST_ALPHA,[EI]:n.ONE_MINUS_SRC_COLOR,[ny]:n.ONE_MINUS_SRC_ALPHA,[II]:n.ONE_MINUS_DST_COLOR,[RI]:n.ONE_MINUS_DST_ALPHA,[HRe]:n.CONSTANT_COLOR,[GRe]:n.ONE_MINUS_CONSTANT_COLOR,[VRe]:n.CONSTANT_ALPHA,[WRe]:n.ONE_MINUS_CONSTANT_ALPHA};function V(Ae,nt,$e,Ve,gt,yt,Ot,qt,$n,tn){if(Ae===Jo){b===!0&&(ue(n.BLEND),b=!1);return}if(b===!1&&(ne(n.BLEND),b=!0),Ae!==_I){if(Ae!==y||tn!==E){if((m!==Cs||w!==Cs)&&(n.blendEquation(n.FUNC_ADD),m=Cs,w=Cs),tn)switch(Ae){case ra:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case tg:n.blendFunc(n.ONE,n.ONE);break;case ng:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case ig:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}else switch(Ae){case ra:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case tg:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case ng:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case ig:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}_=null,S=null,T=null,A=null,C.set(0,0,0),R=0,y=Ae,E=tn}return}gt=gt||nt,yt=yt||$e,Ot=Ot||Ve,(nt!==m||gt!==w)&&(n.blendEquationSeparate(W[nt],W[gt]),m=nt,w=gt),($e!==_||Ve!==S||yt!==T||Ot!==A)&&(n.blendFuncSeparate(X[$e],X[Ve],X[yt],X[Ot]),_=$e,S=Ve,T=yt,A=Ot),(qt.equals(C)===!1||$n!==R)&&(n.blendColor(qt.r,qt.g,qt.b,$n),C.copy(qt),R=$n),y=Ae,E=!1}function Ce(Ae,nt){Ae.side===Ao?ue(n.CULL_FACE):ne(n.CULL_FACE);let $e=Ae.side===Ni;nt&&($e=!$e),pe($e),Ae.blending===ra&&Ae.transparent===!1?V(Jo):V(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.blendColor,Ae.blendAlpha,Ae.premultipliedAlpha),a.setFunc(Ae.depthFunc),a.setTest(Ae.depthTest),a.setMask(Ae.depthWrite),s.setMask(Ae.colorWrite);const Ve=Ae.stencilWrite;l.setTest(Ve),Ve&&(l.setMask(Ae.stencilWriteMask),l.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),l.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),ge(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),Ae.alphaToCoverage===!0?ne(n.SAMPLE_ALPHA_TO_COVERAGE):ue(n.SAMPLE_ALPHA_TO_COVERAGE)}function pe(Ae){P!==Ae&&(Ae?n.frontFace(n.CW):n.frontFace(n.CCW),P=Ae)}function Se(Ae){Ae!==f9?(ne(n.CULL_FACE),Ae!==N&&(Ae===p2?n.cullFace(n.BACK):Ae===h9?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ue(n.CULL_FACE),N=Ae}function fe(Ae){Ae!==D&&(U&&n.lineWidth(Ae),D=Ae)}function ge(Ae,nt,$e){Ae?(ne(n.POLYGON_OFFSET_FILL),($!==nt||L!==$e)&&(n.polygonOffset(nt,$e),$=nt,L=$e)):ue(n.POLYGON_OFFSET_FILL)}function ve(Ae){Ae?ne(n.SCISSOR_TEST):ue(n.SCISSOR_TEST)}function j(Ae){Ae===void 0&&(Ae=n.TEXTURE0+F-1),z!==Ae&&(n.activeTexture(Ae),z=Ae)}function G(Ae,nt,$e){$e===void 0&&(z===null?$e=n.TEXTURE0+F-1:$e=z);let Ve=Q[$e];Ve===void 0&&(Ve={type:void 0,texture:void 0},Q[$e]=Ve),(Ve.type!==Ae||Ve.texture!==nt)&&(z!==$e&&(n.activeTexture($e),z=$e),n.bindTexture(Ae,nt||ee[Ae]),Ve.type=Ae,Ve.texture=nt)}function ce(){const Ae=Q[z];Ae!==void 0&&Ae.type!==void 0&&(n.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)}function Ee(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function de(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function re(){try{n.texSubImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ye(){try{n.texSubImage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function De(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ge(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ft(){try{n.texStorage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Te(){try{n.texStorage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Pe(){try{n.texImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ue(){try{n.texImage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function qe(Ae){we.equals(Ae)===!1&&(n.scissor(Ae.x,Ae.y,Ae.z,Ae.w),we.copy(Ae))}function je(Ae){J.equals(Ae)===!1&&(n.viewport(Ae.x,Ae.y,Ae.z,Ae.w),J.copy(Ae))}function lt(Ae,nt){let $e=c.get(nt);$e===void 0&&($e=new WeakMap,c.set(nt,$e));let Ve=$e.get(Ae);Ve===void 0&&(Ve=n.getUniformBlockIndex(nt,Ae.name),$e.set(Ae,Ve))}function rt(Ae,nt){const Ve=c.get(nt).get(Ae);u.get(nt)!==Ve&&(n.uniformBlockBinding(nt,Ve,Ae.__bindingPointIndex),u.set(nt,Ve))}function At(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},z=null,Q={},f={},h=new WeakMap,p=[],v=null,b=!1,y=null,m=null,_=null,S=null,w=null,T=null,A=null,C=new Lt(0,0,0),R=0,E=!1,P=null,N=null,D=null,$=null,L=null,we.set(0,0,n.canvas.width,n.canvas.height),J.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),l.reset()}return{buffers:{color:s,depth:a,stencil:l},enable:ne,disable:ue,bindFramebuffer:Y,drawBuffers:le,useProgram:he,setBlending:V,setMaterial:Ce,setFlipSided:pe,setCullFace:Se,setLineWidth:fe,setPolygonOffset:ge,setScissorTest:ve,activeTexture:j,bindTexture:G,unbindTexture:ce,compressedTexImage2D:Ee,compressedTexImage3D:de,texImage2D:Pe,texImage3D:Ue,updateUBOMapping:lt,uniformBlockBinding:rt,texStorage2D:ft,texStorage3D:Te,texSubImage2D:re,texSubImage3D:ye,compressedTexSubImage2D:De,compressedTexSubImage3D:Ge,scissor:qe,viewport:je,reset:At}}function hLe(n,e,i,r,o,s,a){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new dt,d=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(j,G){return p?new OffscreenCanvas(j,G):yy("canvas")}function b(j,G,ce){let Ee=1;const de=ve(j);if((de.width>ce||de.height>ce)&&(Ee=ce/Math.max(de.width,de.height)),Ee<1)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap||typeof VideoFrame<"u"&&j instanceof VideoFrame){const re=Math.floor(Ee*de.width),ye=Math.floor(Ee*de.height);f===void 0&&(f=v(re,ye));const De=G?v(re,ye):f;return De.width=re,De.height=ye,De.getContext("2d").drawImage(j,0,0,re,ye),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+de.width+"x"+de.height+") to ("+re+"x"+ye+")."),De}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+de.width+"x"+de.height+")."),j;return j}function y(j){return j.generateMipmaps}function m(j){n.generateMipmap(j)}function _(j){return j.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:j.isWebGL3DRenderTarget?n.TEXTURE_3D:j.isWebGLArrayRenderTarget||j.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function S(j,G,ce,Ee,de=!1){if(j!==null){if(n[j]!==void 0)return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let re=G;if(G===n.RED&&(ce===n.FLOAT&&(re=n.R32F),ce===n.HALF_FLOAT&&(re=n.R16F),ce===n.UNSIGNED_BYTE&&(re=n.R8)),G===n.RED_INTEGER&&(ce===n.UNSIGNED_BYTE&&(re=n.R8UI),ce===n.UNSIGNED_SHORT&&(re=n.R16UI),ce===n.UNSIGNED_INT&&(re=n.R32UI),ce===n.BYTE&&(re=n.R8I),ce===n.SHORT&&(re=n.R16I),ce===n.INT&&(re=n.R32I)),G===n.RG&&(ce===n.FLOAT&&(re=n.RG32F),ce===n.HALF_FLOAT&&(re=n.RG16F),ce===n.UNSIGNED_BYTE&&(re=n.RG8)),G===n.RG_INTEGER&&(ce===n.UNSIGNED_BYTE&&(re=n.RG8UI),ce===n.UNSIGNED_SHORT&&(re=n.RG16UI),ce===n.UNSIGNED_INT&&(re=n.RG32UI),ce===n.BYTE&&(re=n.RG8I),ce===n.SHORT&&(re=n.RG16I),ce===n.INT&&(re=n.RG32I)),G===n.RGB_INTEGER&&(ce===n.UNSIGNED_BYTE&&(re=n.RGB8UI),ce===n.UNSIGNED_SHORT&&(re=n.RGB16UI),ce===n.UNSIGNED_INT&&(re=n.RGB32UI),ce===n.BYTE&&(re=n.RGB8I),ce===n.SHORT&&(re=n.RGB16I),ce===n.INT&&(re=n.RGB32I)),G===n.RGBA_INTEGER&&(ce===n.UNSIGNED_BYTE&&(re=n.RGBA8UI),ce===n.UNSIGNED_SHORT&&(re=n.RGBA16UI),ce===n.UNSIGNED_INT&&(re=n.RGBA32UI),ce===n.BYTE&&(re=n.RGBA8I),ce===n.SHORT&&(re=n.RGBA16I),ce===n.INT&&(re=n.RGBA32I)),G===n.RGB&&ce===n.UNSIGNED_INT_5_9_9_9_REV&&(re=n.RGB9_E5),G===n.RGBA){const ye=de?cS:wn.getTransfer(Ee);ce===n.FLOAT&&(re=n.RGBA32F),ce===n.HALF_FLOAT&&(re=n.RGBA16F),ce===n.UNSIGNED_BYTE&&(re=ye===Yn?n.SRGB8_ALPHA8:n.RGBA8),ce===n.UNSIGNED_SHORT_4_4_4_4&&(re=n.RGBA4),ce===n.UNSIGNED_SHORT_5_5_5_1&&(re=n.RGB5_A1)}return(re===n.R16F||re===n.R32F||re===n.RG16F||re===n.RG32F||re===n.RGBA16F||re===n.RGBA32F)&&e.get("EXT_color_buffer_float"),re}function w(j,G){let ce;return j?G===null||G===Ui||G===Cl?ce=n.DEPTH24_STENCIL8:G===er?ce=n.DEPTH32F_STENCIL8:G===Oa&&(ce=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):G===null||G===Ui||G===Cl?ce=n.DEPTH_COMPONENT24:G===er?ce=n.DEPTH_COMPONENT32F:G===Oa&&(ce=n.DEPTH_COMPONENT16),ce}function T(j,G){return y(j)===!0||j.isFramebufferTexture&&j.minFilter!==_i&&j.minFilter!==_r?Math.log2(Math.max(G.width,G.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?G.mipmaps.length:1}function A(j){const G=j.target;G.removeEventListener("dispose",A),R(G),G.isVideoTexture&&d.delete(G)}function C(j){const G=j.target;G.removeEventListener("dispose",C),P(G)}function R(j){const G=r.get(j);if(G.__webglInit===void 0)return;const ce=j.source,Ee=h.get(ce);if(Ee){const de=Ee[G.__cacheKey];de.usedTimes--,de.usedTimes===0&&E(j),Object.keys(Ee).length===0&&h.delete(ce)}r.remove(j)}function E(j){const G=r.get(j);n.deleteTexture(G.__webglTexture);const ce=j.source,Ee=h.get(ce);delete Ee[G.__cacheKey],a.memory.textures--}function P(j){const G=r.get(j);if(j.depthTexture&&(j.depthTexture.dispose(),r.remove(j.depthTexture)),j.isWebGLCubeRenderTarget)for(let Ee=0;Ee<6;Ee++){if(Array.isArray(G.__webglFramebuffer[Ee]))for(let de=0;de<G.__webglFramebuffer[Ee].length;de++)n.deleteFramebuffer(G.__webglFramebuffer[Ee][de]);else n.deleteFramebuffer(G.__webglFramebuffer[Ee]);G.__webglDepthbuffer&&n.deleteRenderbuffer(G.__webglDepthbuffer[Ee])}else{if(Array.isArray(G.__webglFramebuffer))for(let Ee=0;Ee<G.__webglFramebuffer.length;Ee++)n.deleteFramebuffer(G.__webglFramebuffer[Ee]);else n.deleteFramebuffer(G.__webglFramebuffer);if(G.__webglDepthbuffer&&n.deleteRenderbuffer(G.__webglDepthbuffer),G.__webglMultisampledFramebuffer&&n.deleteFramebuffer(G.__webglMultisampledFramebuffer),G.__webglColorRenderbuffer)for(let Ee=0;Ee<G.__webglColorRenderbuffer.length;Ee++)G.__webglColorRenderbuffer[Ee]&&n.deleteRenderbuffer(G.__webglColorRenderbuffer[Ee]);G.__webglDepthRenderbuffer&&n.deleteRenderbuffer(G.__webglDepthRenderbuffer)}const ce=j.textures;for(let Ee=0,de=ce.length;Ee<de;Ee++){const re=r.get(ce[Ee]);re.__webglTexture&&(n.deleteTexture(re.__webglTexture),a.memory.textures--),r.remove(ce[Ee])}r.remove(j)}let N=0;function D(){N=0}function $(){const j=N;return j>=o.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+o.maxTextures),N+=1,j}function L(j){const G=[];return G.push(j.wrapS),G.push(j.wrapT),G.push(j.wrapR||0),G.push(j.magFilter),G.push(j.minFilter),G.push(j.anisotropy),G.push(j.internalFormat),G.push(j.format),G.push(j.type),G.push(j.generateMipmaps),G.push(j.premultiplyAlpha),G.push(j.flipY),G.push(j.unpackAlignment),G.push(j.colorSpace),G.join()}function F(j,G){const ce=r.get(j);if(j.isVideoTexture&&fe(j),j.isRenderTargetTexture===!1&&j.version>0&&ce.__version!==j.version){const Ee=j.image;if(Ee===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(ce,j,G);return}}i.bindTexture(n.TEXTURE_2D,ce.__webglTexture,n.TEXTURE0+G)}function U(j,G){const ce=r.get(j);if(j.version>0&&ce.__version!==j.version){J(ce,j,G);return}i.bindTexture(n.TEXTURE_2D_ARRAY,ce.__webglTexture,n.TEXTURE0+G)}function k(j,G){const ce=r.get(j);if(j.version>0&&ce.__version!==j.version){J(ce,j,G);return}i.bindTexture(n.TEXTURE_3D,ce.__webglTexture,n.TEXTURE0+G)}function H(j,G){const ce=r.get(j);if(j.version>0&&ce.__version!==j.version){se(ce,j,G);return}i.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+G)}const z={[Hf]:n.REPEAT,[ll]:n.CLAMP_TO_EDGE,[Gf]:n.MIRRORED_REPEAT},Q={[_i]:n.NEAREST,[uS]:n.NEAREST_MIPMAP_NEAREST,[ul]:n.NEAREST_MIPMAP_LINEAR,[_r]:n.LINEAR,[Op]:n.LINEAR_MIPMAP_NEAREST,[Xo]:n.LINEAR_MIPMAP_LINEAR},Z={[$I]:n.NEVER,[GI]:n.ALWAYS,[Nw]:n.LESS,[Ow]:n.LEQUAL,[UI]:n.EQUAL,[HI]:n.GEQUAL,[kI]:n.GREATER,[zI]:n.NOTEQUAL};function ie(j,G){if(G.type===er&&e.has("OES_texture_float_linear")===!1&&(G.magFilter===_r||G.magFilter===Op||G.magFilter===ul||G.magFilter===Xo||G.minFilter===_r||G.minFilter===Op||G.minFilter===ul||G.minFilter===Xo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(j,n.TEXTURE_WRAP_S,z[G.wrapS]),n.texParameteri(j,n.TEXTURE_WRAP_T,z[G.wrapT]),(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)&&n.texParameteri(j,n.TEXTURE_WRAP_R,z[G.wrapR]),n.texParameteri(j,n.TEXTURE_MAG_FILTER,Q[G.magFilter]),n.texParameteri(j,n.TEXTURE_MIN_FILTER,Q[G.minFilter]),G.compareFunction&&(n.texParameteri(j,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(j,n.TEXTURE_COMPARE_FUNC,Z[G.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(G.magFilter===_i||G.minFilter!==ul&&G.minFilter!==Xo||G.type===er&&e.has("OES_texture_float_linear")===!1)return;if(G.anisotropy>1||r.get(G).__currentAnisotropy){const ce=e.get("EXT_texture_filter_anisotropic");n.texParameterf(j,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,o.getMaxAnisotropy())),r.get(G).__currentAnisotropy=G.anisotropy}}}function we(j,G){let ce=!1;j.__webglInit===void 0&&(j.__webglInit=!0,G.addEventListener("dispose",A));const Ee=G.source;let de=h.get(Ee);de===void 0&&(de={},h.set(Ee,de));const re=L(G);if(re!==j.__cacheKey){de[re]===void 0&&(de[re]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,ce=!0),de[re].usedTimes++;const ye=de[j.__cacheKey];ye!==void 0&&(de[j.__cacheKey].usedTimes--,ye.usedTimes===0&&E(G)),j.__cacheKey=re,j.__webglTexture=de[re].texture}return ce}function J(j,G,ce){let Ee=n.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Ee=n.TEXTURE_2D_ARRAY),G.isData3DTexture&&(Ee=n.TEXTURE_3D);const de=we(j,G),re=G.source;i.bindTexture(Ee,j.__webglTexture,n.TEXTURE0+ce);const ye=r.get(re);if(re.version!==ye.__version||de===!0){i.activeTexture(n.TEXTURE0+ce);const De=wn.getPrimaries(wn.workingColorSpace),Ge=G.colorSpace===Ts?null:wn.getPrimaries(G.colorSpace),ft=G.colorSpace===Ts||De===Ge?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,G.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,G.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ft);let Te=b(G.image,!1,o.maxTextureSize);Te=ge(G,Te);const Pe=s.convert(G.format,G.colorSpace),Ue=s.convert(G.type);let qe=S(G.internalFormat,Pe,Ue,G.colorSpace,G.isVideoTexture);ie(Ee,G);let je;const lt=G.mipmaps,rt=G.isVideoTexture!==!0,At=ye.__version===void 0||de===!0,Ae=re.dataReady,nt=T(G,Te);if(G.isDepthTexture)qe=w(G.format===Tl,G.type),At&&(rt?i.texStorage2D(n.TEXTURE_2D,1,qe,Te.width,Te.height):i.texImage2D(n.TEXTURE_2D,0,qe,Te.width,Te.height,0,Pe,Ue,null));else if(G.isDataTexture)if(lt.length>0){rt&&At&&i.texStorage2D(n.TEXTURE_2D,nt,qe,lt[0].width,lt[0].height);for(let $e=0,Ve=lt.length;$e<Ve;$e++)je=lt[$e],rt?Ae&&i.texSubImage2D(n.TEXTURE_2D,$e,0,0,je.width,je.height,Pe,Ue,je.data):i.texImage2D(n.TEXTURE_2D,$e,qe,je.width,je.height,0,Pe,Ue,je.data);G.generateMipmaps=!1}else rt?(At&&i.texStorage2D(n.TEXTURE_2D,nt,qe,Te.width,Te.height),Ae&&i.texSubImage2D(n.TEXTURE_2D,0,0,0,Te.width,Te.height,Pe,Ue,Te.data)):i.texImage2D(n.TEXTURE_2D,0,qe,Te.width,Te.height,0,Pe,Ue,Te.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){rt&&At&&i.texStorage3D(n.TEXTURE_2D_ARRAY,nt,qe,lt[0].width,lt[0].height,Te.depth);for(let $e=0,Ve=lt.length;$e<Ve;$e++)if(je=lt[$e],G.format!==Gr)if(Pe!==null)if(rt){if(Ae)if(G.layerUpdates.size>0){const gt=O4(je.width,je.height,G.format,G.type);for(const yt of G.layerUpdates){const Ot=je.data.subarray(yt*gt/je.data.BYTES_PER_ELEMENT,(yt+1)*gt/je.data.BYTES_PER_ELEMENT);i.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,yt,je.width,je.height,1,Pe,Ot)}G.clearLayerUpdates()}else i.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,0,je.width,je.height,Te.depth,Pe,je.data)}else i.compressedTexImage3D(n.TEXTURE_2D_ARRAY,$e,qe,je.width,je.height,Te.depth,0,je.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else rt?Ae&&i.texSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,0,je.width,je.height,Te.depth,Pe,Ue,je.data):i.texImage3D(n.TEXTURE_2D_ARRAY,$e,qe,je.width,je.height,Te.depth,0,Pe,Ue,je.data)}else{rt&&At&&i.texStorage2D(n.TEXTURE_2D,nt,qe,lt[0].width,lt[0].height);for(let $e=0,Ve=lt.length;$e<Ve;$e++)je=lt[$e],G.format!==Gr?Pe!==null?rt?Ae&&i.compressedTexSubImage2D(n.TEXTURE_2D,$e,0,0,je.width,je.height,Pe,je.data):i.compressedTexImage2D(n.TEXTURE_2D,$e,qe,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):rt?Ae&&i.texSubImage2D(n.TEXTURE_2D,$e,0,0,je.width,je.height,Pe,Ue,je.data):i.texImage2D(n.TEXTURE_2D,$e,qe,je.width,je.height,0,Pe,Ue,je.data)}else if(G.isDataArrayTexture)if(rt){if(At&&i.texStorage3D(n.TEXTURE_2D_ARRAY,nt,qe,Te.width,Te.height,Te.depth),Ae)if(G.layerUpdates.size>0){const $e=O4(Te.width,Te.height,G.format,G.type);for(const Ve of G.layerUpdates){const gt=Te.data.subarray(Ve*$e/Te.data.BYTES_PER_ELEMENT,(Ve+1)*$e/Te.data.BYTES_PER_ELEMENT);i.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ve,Te.width,Te.height,1,Pe,Ue,gt)}G.clearLayerUpdates()}else i.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Te.width,Te.height,Te.depth,Pe,Ue,Te.data)}else i.texImage3D(n.TEXTURE_2D_ARRAY,0,qe,Te.width,Te.height,Te.depth,0,Pe,Ue,Te.data);else if(G.isData3DTexture)rt?(At&&i.texStorage3D(n.TEXTURE_3D,nt,qe,Te.width,Te.height,Te.depth),Ae&&i.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Te.width,Te.height,Te.depth,Pe,Ue,Te.data)):i.texImage3D(n.TEXTURE_3D,0,qe,Te.width,Te.height,Te.depth,0,Pe,Ue,Te.data);else if(G.isFramebufferTexture){if(At)if(rt)i.texStorage2D(n.TEXTURE_2D,nt,qe,Te.width,Te.height);else{let $e=Te.width,Ve=Te.height;for(let gt=0;gt<nt;gt++)i.texImage2D(n.TEXTURE_2D,gt,qe,$e,Ve,0,Pe,Ue,null),$e>>=1,Ve>>=1}}else if(lt.length>0){if(rt&&At){const $e=ve(lt[0]);i.texStorage2D(n.TEXTURE_2D,nt,qe,$e.width,$e.height)}for(let $e=0,Ve=lt.length;$e<Ve;$e++)je=lt[$e],rt?Ae&&i.texSubImage2D(n.TEXTURE_2D,$e,0,0,Pe,Ue,je):i.texImage2D(n.TEXTURE_2D,$e,qe,Pe,Ue,je);G.generateMipmaps=!1}else if(rt){if(At){const $e=ve(Te);i.texStorage2D(n.TEXTURE_2D,nt,qe,$e.width,$e.height)}Ae&&i.texSubImage2D(n.TEXTURE_2D,0,0,0,Pe,Ue,Te)}else i.texImage2D(n.TEXTURE_2D,0,qe,Pe,Ue,Te);y(G)&&m(Ee),ye.__version=re.version,G.onUpdate&&G.onUpdate(G)}j.__version=G.version}function se(j,G,ce){if(G.image.length!==6)return;const Ee=we(j,G),de=G.source;i.bindTexture(n.TEXTURE_CUBE_MAP,j.__webglTexture,n.TEXTURE0+ce);const re=r.get(de);if(de.version!==re.__version||Ee===!0){i.activeTexture(n.TEXTURE0+ce);const ye=wn.getPrimaries(wn.workingColorSpace),De=G.colorSpace===Ts?null:wn.getPrimaries(G.colorSpace),Ge=G.colorSpace===Ts||ye===De?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,G.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,G.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ge);const ft=G.isCompressedTexture||G.image[0].isCompressedTexture,Te=G.image[0]&&G.image[0].isDataTexture,Pe=[];for(let Ve=0;Ve<6;Ve++)!ft&&!Te?Pe[Ve]=b(G.image[Ve],!0,o.maxCubemapSize):Pe[Ve]=Te?G.image[Ve].image:G.image[Ve],Pe[Ve]=ge(G,Pe[Ve]);const Ue=Pe[0],qe=s.convert(G.format,G.colorSpace),je=s.convert(G.type),lt=S(G.internalFormat,qe,je,G.colorSpace),rt=G.isVideoTexture!==!0,At=re.__version===void 0||Ee===!0,Ae=de.dataReady;let nt=T(G,Ue);ie(n.TEXTURE_CUBE_MAP,G);let $e;if(ft){rt&&At&&i.texStorage2D(n.TEXTURE_CUBE_MAP,nt,lt,Ue.width,Ue.height);for(let Ve=0;Ve<6;Ve++){$e=Pe[Ve].mipmaps;for(let gt=0;gt<$e.length;gt++){const yt=$e[gt];G.format!==Gr?qe!==null?rt?Ae&&i.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,gt,0,0,yt.width,yt.height,qe,yt.data):i.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,gt,lt,yt.width,yt.height,0,yt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):rt?Ae&&i.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,gt,0,0,yt.width,yt.height,qe,je,yt.data):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,gt,lt,yt.width,yt.height,0,qe,je,yt.data)}}}else{if($e=G.mipmaps,rt&&At){$e.length>0&&nt++;const Ve=ve(Pe[0]);i.texStorage2D(n.TEXTURE_CUBE_MAP,nt,lt,Ve.width,Ve.height)}for(let Ve=0;Ve<6;Ve++)if(Te){rt?Ae&&i.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,0,0,Pe[Ve].width,Pe[Ve].height,qe,je,Pe[Ve].data):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,lt,Pe[Ve].width,Pe[Ve].height,0,qe,je,Pe[Ve].data);for(let gt=0;gt<$e.length;gt++){const Ot=$e[gt].image[Ve].image;rt?Ae&&i.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,gt+1,0,0,Ot.width,Ot.height,qe,je,Ot.data):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,gt+1,lt,Ot.width,Ot.height,0,qe,je,Ot.data)}}else{rt?Ae&&i.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,0,0,qe,je,Pe[Ve]):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,lt,qe,je,Pe[Ve]);for(let gt=0;gt<$e.length;gt++){const yt=$e[gt];rt?Ae&&i.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,gt+1,0,0,qe,je,yt.image[Ve]):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,gt+1,lt,qe,je,yt.image[Ve])}}}y(G)&&m(n.TEXTURE_CUBE_MAP),re.__version=de.version,G.onUpdate&&G.onUpdate(G)}j.__version=G.version}function ee(j,G,ce,Ee,de,re){const ye=s.convert(ce.format,ce.colorSpace),De=s.convert(ce.type),Ge=S(ce.internalFormat,ye,De,ce.colorSpace),ft=r.get(G),Te=r.get(ce);if(Te.__renderTarget=G,!ft.__hasExternalTextures){const Pe=Math.max(1,G.width>>re),Ue=Math.max(1,G.height>>re);de===n.TEXTURE_3D||de===n.TEXTURE_2D_ARRAY?i.texImage3D(de,re,Ge,Pe,Ue,G.depth,0,ye,De,null):i.texImage2D(de,re,Ge,Pe,Ue,0,ye,De,null)}i.bindFramebuffer(n.FRAMEBUFFER,j),Se(G)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ee,de,Te.__webglTexture,0,pe(G)):(de===n.TEXTURE_2D||de>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&de<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ee,de,Te.__webglTexture,re),i.bindFramebuffer(n.FRAMEBUFFER,null)}function ne(j,G,ce){if(n.bindRenderbuffer(n.RENDERBUFFER,j),G.depthBuffer){const Ee=G.depthTexture,de=Ee&&Ee.isDepthTexture?Ee.type:null,re=w(G.stencilBuffer,de),ye=G.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,De=pe(G);Se(G)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,De,re,G.width,G.height):ce?n.renderbufferStorageMultisample(n.RENDERBUFFER,De,re,G.width,G.height):n.renderbufferStorage(n.RENDERBUFFER,re,G.width,G.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ye,n.RENDERBUFFER,j)}else{const Ee=G.textures;for(let de=0;de<Ee.length;de++){const re=Ee[de],ye=s.convert(re.format,re.colorSpace),De=s.convert(re.type),Ge=S(re.internalFormat,ye,De,re.colorSpace),ft=pe(G);ce&&Se(G)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ft,Ge,G.width,G.height):Se(G)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ft,Ge,G.width,G.height):n.renderbufferStorage(n.RENDERBUFFER,Ge,G.width,G.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ue(j,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(n.FRAMEBUFFER,j),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ee=r.get(G.depthTexture);Ee.__renderTarget=G,(!Ee.__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),F(G.depthTexture,0);const de=Ee.__webglTexture,re=pe(G);if(G.depthTexture.format===gl)Se(G)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,de,0,re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,de,0);else if(G.depthTexture.format===Tl)Se(G)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,de,0,re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,de,0);else throw new Error("Unknown depthTexture format")}function Y(j){const G=r.get(j),ce=j.isWebGLCubeRenderTarget===!0;if(G.__boundDepthTexture!==j.depthTexture){const Ee=j.depthTexture;if(G.__depthDisposeCallback&&G.__depthDisposeCallback(),Ee){const de=()=>{delete G.__boundDepthTexture,delete G.__depthDisposeCallback,Ee.removeEventListener("dispose",de)};Ee.addEventListener("dispose",de),G.__depthDisposeCallback=de}G.__boundDepthTexture=Ee}if(j.depthTexture&&!G.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");ue(G.__webglFramebuffer,j)}else if(ce){G.__webglDepthbuffer=[];for(let Ee=0;Ee<6;Ee++)if(i.bindFramebuffer(n.FRAMEBUFFER,G.__webglFramebuffer[Ee]),G.__webglDepthbuffer[Ee]===void 0)G.__webglDepthbuffer[Ee]=n.createRenderbuffer(),ne(G.__webglDepthbuffer[Ee],j,!1);else{const de=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,re=G.__webglDepthbuffer[Ee];n.bindRenderbuffer(n.RENDERBUFFER,re),n.framebufferRenderbuffer(n.FRAMEBUFFER,de,n.RENDERBUFFER,re)}}else if(i.bindFramebuffer(n.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer===void 0)G.__webglDepthbuffer=n.createRenderbuffer(),ne(G.__webglDepthbuffer,j,!1);else{const Ee=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,de=G.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,de),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ee,n.RENDERBUFFER,de)}i.bindFramebuffer(n.FRAMEBUFFER,null)}function le(j,G,ce){const Ee=r.get(j);G!==void 0&&ee(Ee.__webglFramebuffer,j,j.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ce!==void 0&&Y(j)}function he(j){const G=j.texture,ce=r.get(j),Ee=r.get(G);j.addEventListener("dispose",C);const de=j.textures,re=j.isWebGLCubeRenderTarget===!0,ye=de.length>1;if(ye||(Ee.__webglTexture===void 0&&(Ee.__webglTexture=n.createTexture()),Ee.__version=G.version,a.memory.textures++),re){ce.__webglFramebuffer=[];for(let De=0;De<6;De++)if(G.mipmaps&&G.mipmaps.length>0){ce.__webglFramebuffer[De]=[];for(let Ge=0;Ge<G.mipmaps.length;Ge++)ce.__webglFramebuffer[De][Ge]=n.createFramebuffer()}else ce.__webglFramebuffer[De]=n.createFramebuffer()}else{if(G.mipmaps&&G.mipmaps.length>0){ce.__webglFramebuffer=[];for(let De=0;De<G.mipmaps.length;De++)ce.__webglFramebuffer[De]=n.createFramebuffer()}else ce.__webglFramebuffer=n.createFramebuffer();if(ye)for(let De=0,Ge=de.length;De<Ge;De++){const ft=r.get(de[De]);ft.__webglTexture===void 0&&(ft.__webglTexture=n.createTexture(),a.memory.textures++)}if(j.samples>0&&Se(j)===!1){ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=[],i.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let De=0;De<de.length;De++){const Ge=de[De];ce.__webglColorRenderbuffer[De]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ce.__webglColorRenderbuffer[De]);const ft=s.convert(Ge.format,Ge.colorSpace),Te=s.convert(Ge.type),Pe=S(Ge.internalFormat,ft,Te,Ge.colorSpace,j.isXRRenderTarget===!0),Ue=pe(j);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ue,Pe,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+De,n.RENDERBUFFER,ce.__webglColorRenderbuffer[De])}n.bindRenderbuffer(n.RENDERBUFFER,null),j.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),ne(ce.__webglDepthRenderbuffer,j,!0)),i.bindFramebuffer(n.FRAMEBUFFER,null)}}if(re){i.bindTexture(n.TEXTURE_CUBE_MAP,Ee.__webglTexture),ie(n.TEXTURE_CUBE_MAP,G);for(let De=0;De<6;De++)if(G.mipmaps&&G.mipmaps.length>0)for(let Ge=0;Ge<G.mipmaps.length;Ge++)ee(ce.__webglFramebuffer[De][Ge],j,G,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+De,Ge);else ee(ce.__webglFramebuffer[De],j,G,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+De,0);y(G)&&m(n.TEXTURE_CUBE_MAP),i.unbindTexture()}else if(ye){for(let De=0,Ge=de.length;De<Ge;De++){const ft=de[De],Te=r.get(ft);i.bindTexture(n.TEXTURE_2D,Te.__webglTexture),ie(n.TEXTURE_2D,ft),ee(ce.__webglFramebuffer,j,ft,n.COLOR_ATTACHMENT0+De,n.TEXTURE_2D,0),y(ft)&&m(n.TEXTURE_2D)}i.unbindTexture()}else{let De=n.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(De=j.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),i.bindTexture(De,Ee.__webglTexture),ie(De,G),G.mipmaps&&G.mipmaps.length>0)for(let Ge=0;Ge<G.mipmaps.length;Ge++)ee(ce.__webglFramebuffer[Ge],j,G,n.COLOR_ATTACHMENT0,De,Ge);else ee(ce.__webglFramebuffer,j,G,n.COLOR_ATTACHMENT0,De,0);y(G)&&m(De),i.unbindTexture()}j.depthBuffer&&Y(j)}function W(j){const G=j.textures;for(let ce=0,Ee=G.length;ce<Ee;ce++){const de=G[ce];if(y(de)){const re=_(j),ye=r.get(de).__webglTexture;i.bindTexture(re,ye),m(re),i.unbindTexture()}}}const X=[],V=[];function Ce(j){if(j.samples>0){if(Se(j)===!1){const G=j.textures,ce=j.width,Ee=j.height;let de=n.COLOR_BUFFER_BIT;const re=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ye=r.get(j),De=G.length>1;if(De)for(let Ge=0;Ge<G.length;Ge++)i.bindFramebuffer(n.FRAMEBUFFER,ye.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.RENDERBUFFER,null),i.bindFramebuffer(n.FRAMEBUFFER,ye.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.TEXTURE_2D,null,0);i.bindFramebuffer(n.READ_FRAMEBUFFER,ye.__webglMultisampledFramebuffer),i.bindFramebuffer(n.DRAW_FRAMEBUFFER,ye.__webglFramebuffer);for(let Ge=0;Ge<G.length;Ge++){if(j.resolveDepthBuffer&&(j.depthBuffer&&(de|=n.DEPTH_BUFFER_BIT),j.stencilBuffer&&j.resolveStencilBuffer&&(de|=n.STENCIL_BUFFER_BIT)),De){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ye.__webglColorRenderbuffer[Ge]);const ft=r.get(G[Ge]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ft,0)}n.blitFramebuffer(0,0,ce,Ee,0,0,ce,Ee,de,n.NEAREST),u===!0&&(X.length=0,V.length=0,X.push(n.COLOR_ATTACHMENT0+Ge),j.depthBuffer&&j.resolveDepthBuffer===!1&&(X.push(re),V.push(re),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,V)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,X))}if(i.bindFramebuffer(n.READ_FRAMEBUFFER,null),i.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),De)for(let Ge=0;Ge<G.length;Ge++){i.bindFramebuffer(n.FRAMEBUFFER,ye.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.RENDERBUFFER,ye.__webglColorRenderbuffer[Ge]);const ft=r.get(G[Ge]).__webglTexture;i.bindFramebuffer(n.FRAMEBUFFER,ye.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.TEXTURE_2D,ft,0)}i.bindFramebuffer(n.DRAW_FRAMEBUFFER,ye.__webglMultisampledFramebuffer)}else if(j.depthBuffer&&j.resolveDepthBuffer===!1&&u){const G=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[G])}}}function pe(j){return Math.min(o.maxSamples,j.samples)}function Se(j){const G=r.get(j);return j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function fe(j){const G=a.render.frame;d.get(j)!==G&&(d.set(j,G),j.update())}function ge(j,G){const ce=j.colorSpace,Ee=j.format,de=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||ce!==oa&&ce!==Ts&&(wn.getTransfer(ce)===Yn?(Ee!==Gr||de!==ao)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),G}function ve(j){return typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement?(c.width=j.naturalWidth||j.width,c.height=j.naturalHeight||j.height):typeof VideoFrame<"u"&&j instanceof VideoFrame?(c.width=j.displayWidth,c.height=j.displayHeight):(c.width=j.width,c.height=j.height),c}this.allocateTextureUnit=$,this.resetTextureUnits=D,this.setTexture2D=F,this.setTexture2DArray=U,this.setTexture3D=k,this.setTextureCube=H,this.rebindTextures=le,this.setupRenderTarget=he,this.updateRenderTargetMipmap=W,this.updateMultisampleRenderTarget=Ce,this.setupDepthRenderbuffer=Y,this.setupFrameBufferTexture=ee,this.useMultisampledRTT=Se}function pLe(n,e){function i(r,o=Ts){let s;const a=wn.getTransfer(o);if(r===ao)return n.UNSIGNED_BYTE;if(r===Rw)return n.UNSIGNED_SHORT_4_4_4_4;if(r===Pw)return n.UNSIGNED_SHORT_5_5_5_1;if(r===Iw)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===Cf)return n.BYTE;if(r===Tf)return n.SHORT;if(r===Oa)return n.UNSIGNED_SHORT;if(r===Nr)return n.INT;if(r===Ui)return n.UNSIGNED_INT;if(r===er)return n.FLOAT;if(r===Ro)return n.HALF_FLOAT;if(r===DI)return n.ALPHA;if(r===qy)return n.RGB;if(r===Gr)return n.RGBA;if(r===LI)return n.LUMINANCE;if(r===BI)return n.LUMINANCE_ALPHA;if(r===gl)return n.DEPTH_COMPONENT;if(r===Tl)return n.DEPTH_STENCIL;if(r===Yy)return n.RED;if(r===Ng)return n.RED_INTEGER;if(r===Vf)return n.RG;if(r===Og)return n.RG_INTEGER;if(r===Dg)return n.RGBA_INTEGER;if(r===Af||r===qc||r===Yc||r===Qc)if(a===Yn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===Af)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===qc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Yc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Qc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===Af)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===qc)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Yc)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Qc)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===cy||r===dy||r===fy||r===hy)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===cy)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===dy)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===fy)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===hy)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===py||r===rg||r===og)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===py||r===rg)return a===Yn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===og)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===sg||r===ag||r===lg||r===ug||r===cg||r===dg||r===fg||r===hg||r===pg||r===gg||r===mg||r===vg||r===yg||r===bg)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===sg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===ag)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===lg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===ug)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===cg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===dg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===fg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===hg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===pg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===gg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===mg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===vg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===yg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===bg)return a===Yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Ef||r===g2||r===m2)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===Ef)return a===Yn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===g2)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===m2)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===FI||r===gy||r===my||r===vy)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===Ef)return s.COMPRESSED_RED_RGTC1_EXT;if(r===gy)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===my)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===vy)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Cl?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:i}}const gLe={type:"move"};class fA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new dp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new dp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new me,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new me),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new dp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new me,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new me),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const i=this._hand;if(i)for(const r of e.hand.values())this._getHandJoint(i,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,i,r){let o=null,s=null,a=null;const l=this._targetRay,u=this._grip,c=this._hand;if(e&&i.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const b of e.hand.values()){const y=i.getJointPose(b,r),m=this._getHandJoint(c,b);y!==null&&(m.matrix.fromArray(y.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=y.radius),m.visible=y!==null}const d=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=d.position.distanceTo(f.position),p=.02,v=.005;c.inputState.pinching&&h>p+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=p-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=i.getPose(e.gripSpace,r),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(o=i.getPose(e.targetRaySpace,r),o===null&&s!==null&&(o=s),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(gLe)))}return l!==null&&(l.visible=o!==null),u!==null&&(u.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,i){if(e.joints[i.jointName]===void 0){const r=new dp;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[i.jointName]=r,e.add(r)}return e.joints[i.jointName]}}const mLe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,vLe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class yLe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,i,r){if(this.texture===null){const o=new dr,s=e.properties.get(o);s.__webglTexture=i.texture,(i.depthNear!==r.depthNear||i.depthFar!==r.depthFar)&&(this.depthNear=i.depthNear,this.depthFar=i.depthFar),this.texture=o}}getMesh(e){if(this.texture!==null&&this.mesh===null){const i=e.cameras[0].viewport,r=new Al({vertexShader:mLe,fragmentShader:vLe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new Lr(new kw(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class bLe extends Ju{constructor(e,i){super();const r=this;let o=null,s=1,a=null,l="local-floor",u=1,c=null,d=null,f=null,h=null,p=null,v=null;const b=new yLe,y=i.getContextAttributes();let m=null,_=null;const S=[],w=[],T=new dt;let A=null;const C=new wo;C.viewport=new dn;const R=new wo;R.viewport=new dn;const E=[C,R],P=new UIe;let N=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let se=S[J];return se===void 0&&(se=new fA,S[J]=se),se.getTargetRaySpace()},this.getControllerGrip=function(J){let se=S[J];return se===void 0&&(se=new fA,S[J]=se),se.getGripSpace()},this.getHand=function(J){let se=S[J];return se===void 0&&(se=new fA,S[J]=se),se.getHandSpace()};function $(J){const se=w.indexOf(J.inputSource);if(se===-1)return;const ee=S[se];ee!==void 0&&(ee.update(J.inputSource,J.frame,c||a),ee.dispatchEvent({type:J.type,data:J.inputSource}))}function L(){o.removeEventListener("select",$),o.removeEventListener("selectstart",$),o.removeEventListener("selectend",$),o.removeEventListener("squeeze",$),o.removeEventListener("squeezestart",$),o.removeEventListener("squeezeend",$),o.removeEventListener("end",L),o.removeEventListener("inputsourceschange",F);for(let J=0;J<S.length;J++){const se=w[J];se!==null&&(w[J]=null,S[J].disconnect(se))}N=null,D=null,b.reset(),e.setRenderTarget(m),p=null,h=null,f=null,o=null,_=null,we.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(T.width,T.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){s=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){l=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return o},this.setSession=async function(J){if(o=J,o!==null){if(m=e.getRenderTarget(),o.addEventListener("select",$),o.addEventListener("selectstart",$),o.addEventListener("selectend",$),o.addEventListener("squeeze",$),o.addEventListener("squeezestart",$),o.addEventListener("squeezeend",$),o.addEventListener("end",L),o.addEventListener("inputsourceschange",F),y.xrCompatible!==!0&&await i.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(T),o.enabledFeatures!==void 0&&o.enabledFeatures.includes("layers")){let ee=null,ne=null,ue=null;y.depth&&(ue=y.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,ee=y.stencil?Tl:gl,ne=y.stencil?Cl:Ui);const Y={colorFormat:i.RGBA8,depthFormat:ue,scaleFactor:s};f=new XRWebGLBinding(o,i),h=f.createProjectionLayer(Y),o.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),_=new sd(h.textureWidth,h.textureHeight,{format:Gr,type:ao,depthTexture:new pd(h.textureWidth,h.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,ee),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}else{const ee={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(o,i,ee),o.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),_=new sd(p.framebufferWidth,p.framebufferHeight,{format:Gr,type:ao,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}_.isXRRenderTarget=!0,this.setFoveation(u),c=null,a=await o.requestReferenceSpace(l),we.setContext(o),we.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function F(J){for(let se=0;se<J.removed.length;se++){const ee=J.removed[se],ne=w.indexOf(ee);ne>=0&&(w[ne]=null,S[ne].disconnect(ee))}for(let se=0;se<J.added.length;se++){const ee=J.added[se];let ne=w.indexOf(ee);if(ne===-1){for(let Y=0;Y<S.length;Y++)if(Y>=w.length){w.push(ee),ne=Y;break}else if(w[Y]===null){w[Y]=ee,ne=Y;break}if(ne===-1)break}const ue=S[ne];ue&&ue.connect(ee)}}const U=new me,k=new me;function H(J,se,ee){U.setFromMatrixPosition(se.matrixWorld),k.setFromMatrixPosition(ee.matrixWorld);const ne=U.distanceTo(k),ue=se.projectionMatrix.elements,Y=ee.projectionMatrix.elements,le=ue[14]/(ue[10]-1),he=ue[14]/(ue[10]+1),W=(ue[9]+1)/ue[5],X=(ue[9]-1)/ue[5],V=(ue[8]-1)/ue[0],Ce=(Y[8]+1)/Y[0],pe=le*V,Se=le*Ce,fe=ne/(-V+Ce),ge=fe*-V;if(se.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(ge),J.translateZ(fe),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),ue[10]===-1)J.projectionMatrix.copy(se.projectionMatrix),J.projectionMatrixInverse.copy(se.projectionMatrixInverse);else{const ve=le+fe,j=he+fe,G=pe-ge,ce=Se+(ne-ge),Ee=W*he/j*ve,de=X*he/j*ve;J.projectionMatrix.makePerspective(G,ce,Ee,de,ve,j),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function z(J,se){se===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(se.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(o===null)return;let se=J.near,ee=J.far;b.texture!==null&&(b.depthNear>0&&(se=b.depthNear),b.depthFar>0&&(ee=b.depthFar)),P.near=R.near=C.near=se,P.far=R.far=C.far=ee,(N!==P.near||D!==P.far)&&(o.updateRenderState({depthNear:P.near,depthFar:P.far}),N=P.near,D=P.far),C.layers.mask=J.layers.mask|2,R.layers.mask=J.layers.mask|4,P.layers.mask=C.layers.mask|R.layers.mask;const ne=J.parent,ue=P.cameras;z(P,ne);for(let Y=0;Y<ue.length;Y++)z(ue[Y],ne);ue.length===2?H(P,C,R):P.projectionMatrix.copy(C.projectionMatrix),Q(J,P,ne)};function Q(J,se,ee){ee===null?J.matrix.copy(se.matrixWorld):(J.matrix.copy(ee.matrixWorld),J.matrix.invert(),J.matrix.multiply(se.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(se.projectionMatrix),J.projectionMatrixInverse.copy(se.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=xg*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(h===null&&p===null))return u},this.setFoveation=function(J){u=J,h!==null&&(h.fixedFoveation=J),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=J)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh(P)};let Z=null;function ie(J,se){if(d=se.getViewerPose(c||a),v=se,d!==null){const ee=d.views;p!==null&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let ne=!1;ee.length!==P.cameras.length&&(P.cameras.length=0,ne=!0);for(let Y=0;Y<ee.length;Y++){const le=ee[Y];let he=null;if(p!==null)he=p.getViewport(le);else{const X=f.getViewSubImage(h,le);he=X.viewport,Y===0&&(e.setRenderTargetTextures(_,X.colorTexture,h.ignoreDepthValues?void 0:X.depthStencilTexture),e.setRenderTarget(_))}let W=E[Y];W===void 0&&(W=new wo,W.layers.enable(Y),W.viewport=new dn,E[Y]=W),W.matrix.fromArray(le.transform.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale),W.projectionMatrix.fromArray(le.projectionMatrix),W.projectionMatrixInverse.copy(W.projectionMatrix).invert(),W.viewport.set(he.x,he.y,he.width,he.height),Y===0&&(P.matrix.copy(W.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),ne===!0&&P.cameras.push(W)}const ue=o.enabledFeatures;if(ue&&ue.includes("depth-sensing")){const Y=f.getDepthInformation(ee[0]);Y&&Y.isValid&&Y.texture&&b.init(e,Y,o.renderState)}}for(let ee=0;ee<S.length;ee++){const ne=w[ee],ue=S[ee];ne!==null&&ue!==void 0&&ue.update(ne,se,c||a)}Z&&Z(J,se),se.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:se}),v=null}const we=new W9;we.setAnimationLoop(ie),this.setAnimationLoop=function(J){Z=J},this.dispose=function(){}}}const zd=new Ps,xLe=new Mn;function _Le(n,e){function i(y,m){y.matrixAutoUpdate===!0&&y.updateMatrix(),m.value.copy(y.matrix)}function r(y,m){m.color.getRGB(y.fogColor.value,P9(n)),m.isFog?(y.fogNear.value=m.near,y.fogFar.value=m.far):m.isFogExp2&&(y.fogDensity.value=m.density)}function o(y,m,_,S,w){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(y,m):m.isMeshToonMaterial?(s(y,m),f(y,m)):m.isMeshPhongMaterial?(s(y,m),d(y,m)):m.isMeshStandardMaterial?(s(y,m),h(y,m),m.isMeshPhysicalMaterial&&p(y,m,w)):m.isMeshMatcapMaterial?(s(y,m),v(y,m)):m.isMeshDepthMaterial?s(y,m):m.isMeshDistanceMaterial?(s(y,m),b(y,m)):m.isMeshNormalMaterial?s(y,m):m.isLineBasicMaterial?(a(y,m),m.isLineDashedMaterial&&l(y,m)):m.isPointsMaterial?u(y,m,_,S):m.isSpriteMaterial?c(y,m):m.isShadowMaterial?(y.color.value.copy(m.color),y.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function s(y,m){y.opacity.value=m.opacity,m.color&&y.diffuse.value.copy(m.color),m.emissive&&y.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(y.map.value=m.map,i(m.map,y.mapTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,i(m.alphaMap,y.alphaMapTransform)),m.bumpMap&&(y.bumpMap.value=m.bumpMap,i(m.bumpMap,y.bumpMapTransform),y.bumpScale.value=m.bumpScale,m.side===Ni&&(y.bumpScale.value*=-1)),m.normalMap&&(y.normalMap.value=m.normalMap,i(m.normalMap,y.normalMapTransform),y.normalScale.value.copy(m.normalScale),m.side===Ni&&y.normalScale.value.negate()),m.displacementMap&&(y.displacementMap.value=m.displacementMap,i(m.displacementMap,y.displacementMapTransform),y.displacementScale.value=m.displacementScale,y.displacementBias.value=m.displacementBias),m.emissiveMap&&(y.emissiveMap.value=m.emissiveMap,i(m.emissiveMap,y.emissiveMapTransform)),m.specularMap&&(y.specularMap.value=m.specularMap,i(m.specularMap,y.specularMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest);const _=e.get(m),S=_.envMap,w=_.envMapRotation;S&&(y.envMap.value=S,zd.copy(w),zd.x*=-1,zd.y*=-1,zd.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(zd.y*=-1,zd.z*=-1),y.envMapRotation.value.setFromMatrix4(xLe.makeRotationFromEuler(zd)),y.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=m.reflectivity,y.ior.value=m.ior,y.refractionRatio.value=m.refractionRatio),m.lightMap&&(y.lightMap.value=m.lightMap,y.lightMapIntensity.value=m.lightMapIntensity,i(m.lightMap,y.lightMapTransform)),m.aoMap&&(y.aoMap.value=m.aoMap,y.aoMapIntensity.value=m.aoMapIntensity,i(m.aoMap,y.aoMapTransform))}function a(y,m){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,m.map&&(y.map.value=m.map,i(m.map,y.mapTransform))}function l(y,m){y.dashSize.value=m.dashSize,y.totalSize.value=m.dashSize+m.gapSize,y.scale.value=m.scale}function u(y,m,_,S){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,y.size.value=m.size*_,y.scale.value=S*.5,m.map&&(y.map.value=m.map,i(m.map,y.uvTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,i(m.alphaMap,y.alphaMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest)}function c(y,m){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,y.rotation.value=m.rotation,m.map&&(y.map.value=m.map,i(m.map,y.mapTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,i(m.alphaMap,y.alphaMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest)}function d(y,m){y.specular.value.copy(m.specular),y.shininess.value=Math.max(m.shininess,1e-4)}function f(y,m){m.gradientMap&&(y.gradientMap.value=m.gradientMap)}function h(y,m){y.metalness.value=m.metalness,m.metalnessMap&&(y.metalnessMap.value=m.metalnessMap,i(m.metalnessMap,y.metalnessMapTransform)),y.roughness.value=m.roughness,m.roughnessMap&&(y.roughnessMap.value=m.roughnessMap,i(m.roughnessMap,y.roughnessMapTransform)),m.envMap&&(y.envMapIntensity.value=m.envMapIntensity)}function p(y,m,_){y.ior.value=m.ior,m.sheen>0&&(y.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),y.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(y.sheenColorMap.value=m.sheenColorMap,i(m.sheenColorMap,y.sheenColorMapTransform)),m.sheenRoughnessMap&&(y.sheenRoughnessMap.value=m.sheenRoughnessMap,i(m.sheenRoughnessMap,y.sheenRoughnessMapTransform))),m.clearcoat>0&&(y.clearcoat.value=m.clearcoat,y.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(y.clearcoatMap.value=m.clearcoatMap,i(m.clearcoatMap,y.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,i(m.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(y.clearcoatNormalMap.value=m.clearcoatNormalMap,i(m.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===Ni&&y.clearcoatNormalScale.value.negate())),m.dispersion>0&&(y.dispersion.value=m.dispersion),m.iridescence>0&&(y.iridescence.value=m.iridescence,y.iridescenceIOR.value=m.iridescenceIOR,y.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(y.iridescenceMap.value=m.iridescenceMap,i(m.iridescenceMap,y.iridescenceMapTransform)),m.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=m.iridescenceThicknessMap,i(m.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),m.transmission>0&&(y.transmission.value=m.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),m.transmissionMap&&(y.transmissionMap.value=m.transmissionMap,i(m.transmissionMap,y.transmissionMapTransform)),y.thickness.value=m.thickness,m.thicknessMap&&(y.thicknessMap.value=m.thicknessMap,i(m.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=m.attenuationDistance,y.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(y.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(y.anisotropyMap.value=m.anisotropyMap,i(m.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=m.specularIntensity,y.specularColor.value.copy(m.specularColor),m.specularColorMap&&(y.specularColorMap.value=m.specularColorMap,i(m.specularColorMap,y.specularColorMapTransform)),m.specularIntensityMap&&(y.specularIntensityMap.value=m.specularIntensityMap,i(m.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,m){m.matcap&&(y.matcap.value=m.matcap)}function b(y,m){const _=e.get(m).light;y.referencePosition.value.setFromMatrixPosition(_.matrixWorld),y.nearDistance.value=_.shadow.camera.near,y.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:o}}function SLe(n,e,i,r){let o={},s={},a=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(_,S){const w=S.program;r.uniformBlockBinding(_,w)}function c(_,S){let w=o[_.id];w===void 0&&(v(_),w=d(_),o[_.id]=w,_.addEventListener("dispose",y));const T=S.program;r.updateUBOMapping(_,T);const A=e.render.frame;s[_.id]!==A&&(h(_),s[_.id]=A)}function d(_){const S=f();_.__bindingPointIndex=S;const w=n.createBuffer(),T=_.__size,A=_.usage;return n.bindBuffer(n.UNIFORM_BUFFER,w),n.bufferData(n.UNIFORM_BUFFER,T,A),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,w),w}function f(){for(let _=0;_<l;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const S=o[_.id],w=_.uniforms,T=_.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let A=0,C=w.length;A<C;A++){const R=Array.isArray(w[A])?w[A]:[w[A]];for(let E=0,P=R.length;E<P;E++){const N=R[E];if(p(N,A,E,T)===!0){const D=N.__offset,$=Array.isArray(N.value)?N.value:[N.value];let L=0;for(let F=0;F<$.length;F++){const U=$[F],k=b(U);typeof U=="number"||typeof U=="boolean"?(N.__data[0]=U,n.bufferSubData(n.UNIFORM_BUFFER,D+L,N.__data)):U.isMatrix3?(N.__data[0]=U.elements[0],N.__data[1]=U.elements[1],N.__data[2]=U.elements[2],N.__data[3]=0,N.__data[4]=U.elements[3],N.__data[5]=U.elements[4],N.__data[6]=U.elements[5],N.__data[7]=0,N.__data[8]=U.elements[6],N.__data[9]=U.elements[7],N.__data[10]=U.elements[8],N.__data[11]=0):(U.toArray(N.__data,L),L+=k.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,D,N.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function p(_,S,w,T){const A=_.value,C=S+"_"+w;if(T[C]===void 0)return typeof A=="number"||typeof A=="boolean"?T[C]=A:T[C]=A.clone(),!0;{const R=T[C];if(typeof A=="number"||typeof A=="boolean"){if(R!==A)return T[C]=A,!0}else if(R.equals(A)===!1)return R.copy(A),!0}return!1}function v(_){const S=_.uniforms;let w=0;const T=16;for(let C=0,R=S.length;C<R;C++){const E=Array.isArray(S[C])?S[C]:[S[C]];for(let P=0,N=E.length;P<N;P++){const D=E[P],$=Array.isArray(D.value)?D.value:[D.value];for(let L=0,F=$.length;L<F;L++){const U=$[L],k=b(U),H=w%T,z=H%k.boundary,Q=H+z;w+=z,Q!==0&&T-Q<k.storage&&(w+=T-Q),D.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=w,w+=k.storage}}}const A=w%T;return A>0&&(w+=T-A),_.__size=w,_.__cache={},this}function b(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function y(_){const S=_.target;S.removeEventListener("dispose",y);const w=a.indexOf(S.__bindingPointIndex);a.splice(w,1),n.deleteBuffer(o[S.id]),delete o[S.id],delete s[S.id]}function m(){for(const _ in o)n.deleteBuffer(o[_]);a=[],o={},s={}}return{bind:u,update:c,dispose:m}}class wLe{constructor(e={}){const{canvas:i=A9(),context:r=null,depth:o=!0,stencil:s=!1,alpha:a=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=a;const v=new Uint32Array(4),b=new Int32Array(4);let y=null,m=null;const _=[],S=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ft,this.toneMapping=es,this.toneMappingExposure=1;const w=this;let T=!1,A=0,C=0,R=null,E=-1,P=null;const N=new dn,D=new dn;let $=null;const L=new Lt(0);let F=0,U=i.width,k=i.height,H=1,z=null,Q=null;const Z=new dn(0,0,U,k),ie=new dn(0,0,U,k);let we=!1;const J=new Fw;let se=!1,ee=!1;this.transmissionResolutionScale=1;const ne=new Mn,ue=new Mn,Y=new me,le=new dn,he={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let W=!1;function X(){return R===null?H:1}let V=r;function Ce(oe,Ie){return i.getContext(oe,Ie)}try{const oe={alpha:!0,depth:o,stencil:s,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in i&&i.setAttribute("data-engine",`three.js r${Ig}`),i.addEventListener("webglcontextlost",Ve,!1),i.addEventListener("webglcontextrestored",gt,!1),i.addEventListener("webglcontextcreationerror",yt,!1),V===null){const Ie="webgl2";if(V=Ce(Ie,oe),V===null)throw Ce(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let pe,Se,fe,ge,ve,j,G,ce,Ee,de,re,ye,De,Ge,ft,Te,Pe,Ue,qe,je,lt,rt,At,Ae;function nt(){pe=new NDe(V),pe.init(),rt=new pLe(V,pe),Se=new ADe(V,pe,e,rt),fe=new fLe(V,pe),Se.reverseDepthBuffer&&h&&fe.buffers.depth.setReversed(!0),ge=new LDe(V),ve=new J3e,j=new hLe(V,pe,fe,ve,Se,rt,ge),G=new MDe(w),ce=new IDe(w),Ee=new HIe(V),At=new CDe(V,Ee),de=new ODe(V,Ee,ge,At),re=new FDe(V,de,Ee,ge),qe=new BDe(V,Se,j),Te=new EDe(ve),ye=new Z3e(w,G,ce,pe,Se,At,Te),De=new _Le(w,ve),Ge=new tLe,ft=new aLe(pe),Ue=new wDe(w,G,ce,fe,re,p,u),Pe=new cLe(w,re,Se),Ae=new SLe(V,ge,Se,fe),je=new TDe(V,pe,ge),lt=new DDe(V,pe,ge),ge.programs=ye.programs,w.capabilities=Se,w.extensions=pe,w.properties=ve,w.renderLists=Ge,w.shadowMap=Pe,w.state=fe,w.info=ge}nt();const $e=new bLe(w,V);this.xr=$e,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const oe=pe.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=pe.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(oe){oe!==void 0&&(H=oe,this.setSize(U,k,!1))},this.getSize=function(oe){return oe.set(U,k)},this.setSize=function(oe,Ie,ke=!0){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=oe,k=Ie,i.width=Math.floor(oe*H),i.height=Math.floor(Ie*H),ke===!0&&(i.style.width=oe+"px",i.style.height=Ie+"px"),this.setViewport(0,0,oe,Ie)},this.getDrawingBufferSize=function(oe){return oe.set(U*H,k*H).floor()},this.setDrawingBufferSize=function(oe,Ie,ke){U=oe,k=Ie,H=ke,i.width=Math.floor(oe*ke),i.height=Math.floor(Ie*ke),this.setViewport(0,0,oe,Ie)},this.getCurrentViewport=function(oe){return oe.copy(N)},this.getViewport=function(oe){return oe.copy(Z)},this.setViewport=function(oe,Ie,ke,ze){oe.isVector4?Z.set(oe.x,oe.y,oe.z,oe.w):Z.set(oe,Ie,ke,ze),fe.viewport(N.copy(Z).multiplyScalar(H).round())},this.getScissor=function(oe){return oe.copy(ie)},this.setScissor=function(oe,Ie,ke,ze){oe.isVector4?ie.set(oe.x,oe.y,oe.z,oe.w):ie.set(oe,Ie,ke,ze),fe.scissor(D.copy(ie).multiplyScalar(H).round())},this.getScissorTest=function(){return we},this.setScissorTest=function(oe){fe.setScissorTest(we=oe)},this.setOpaqueSort=function(oe){z=oe},this.setTransparentSort=function(oe){Q=oe},this.getClearColor=function(oe){return oe.copy(Ue.getClearColor())},this.setClearColor=function(){Ue.setClearColor.apply(Ue,arguments)},this.getClearAlpha=function(){return Ue.getClearAlpha()},this.setClearAlpha=function(){Ue.setClearAlpha.apply(Ue,arguments)},this.clear=function(oe=!0,Ie=!0,ke=!0){let ze=0;if(oe){let Fe=!1;if(R!==null){const ht=R.texture.format;Fe=ht===Dg||ht===Og||ht===Ng}if(Fe){const ht=R.texture.type,Ct=ht===ao||ht===Ui||ht===Oa||ht===Cl||ht===Rw||ht===Pw,Et=Ue.getClearColor(),Rt=Ue.getClearAlpha(),Vt=Et.r,jt=Et.g,Ut=Et.b;Ct?(v[0]=Vt,v[1]=jt,v[2]=Ut,v[3]=Rt,V.clearBufferuiv(V.COLOR,0,v)):(b[0]=Vt,b[1]=jt,b[2]=Ut,b[3]=Rt,V.clearBufferiv(V.COLOR,0,b))}else ze|=V.COLOR_BUFFER_BIT}Ie&&(ze|=V.DEPTH_BUFFER_BIT),ke&&(ze|=V.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),V.clear(ze)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Ve,!1),i.removeEventListener("webglcontextrestored",gt,!1),i.removeEventListener("webglcontextcreationerror",yt,!1),Ue.dispose(),Ge.dispose(),ft.dispose(),ve.dispose(),G.dispose(),ce.dispose(),re.dispose(),At.dispose(),Ae.dispose(),ye.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",Br),$e.removeEventListener("sessionend",Va),Er.stop()};function Ve(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function gt(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const oe=ge.autoReset,Ie=Pe.enabled,ke=Pe.autoUpdate,ze=Pe.needsUpdate,Fe=Pe.type;nt(),ge.autoReset=oe,Pe.enabled=Ie,Pe.autoUpdate=ke,Pe.needsUpdate=ze,Pe.type=Fe}function yt(oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",oe.statusMessage)}function Ot(oe){const Ie=oe.target;Ie.removeEventListener("dispose",Ot),qt(Ie)}function qt(oe){$n(oe),ve.remove(oe)}function $n(oe){const Ie=ve.get(oe).programs;Ie!==void 0&&(Ie.forEach(function(ke){ye.releaseProgram(ke)}),oe.isShaderMaterial&&ye.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,Ie,ke,ze,Fe,ht){Ie===null&&(Ie=he);const Ct=Fe.isMesh&&Fe.matrixWorld.determinant()<0,Et=Bl(oe,Ie,ke,ze,Fe);fe.setMaterial(ze,Ct);let Rt=ke.index,Vt=1;if(ze.wireframe===!0){if(Rt=de.getWireframeAttribute(ke),Rt===void 0)return;Vt=2}const jt=ke.drawRange,Ut=ke.attributes.position;let Ln=jt.start*Vt,Hn=(jt.start+jt.count)*Vt;ht!==null&&(Ln=Math.max(Ln,ht.start*Vt),Hn=Math.min(Hn,(ht.start+ht.count)*Vt)),Rt!==null?(Ln=Math.max(Ln,0),Hn=Math.min(Hn,Rt.count)):Ut!=null&&(Ln=Math.max(Ln,0),Hn=Math.min(Hn,Ut.count));const Li=Hn-Ln;if(Li<0||Li===1/0)return;At.setup(Fe,ze,Et,ke,Rt);let pi,Bn=je;if(Rt!==null&&(pi=Ee.get(Rt),Bn=lt,Bn.setIndex(pi)),Fe.isMesh)ze.wireframe===!0?(fe.setLineWidth(ze.wireframeLinewidth*X()),Bn.setMode(V.LINES)):Bn.setMode(V.TRIANGLES);else if(Fe.isLine){let $t=ze.linewidth;$t===void 0&&($t=1),fe.setLineWidth($t*X()),Fe.isLineSegments?Bn.setMode(V.LINES):Fe.isLineLoop?Bn.setMode(V.LINE_LOOP):Bn.setMode(V.LINE_STRIP)}else Fe.isPoints?Bn.setMode(V.POINTS):Fe.isSprite&&Bn.setMode(V.TRIANGLES);if(Fe.isBatchedMesh)if(Fe._multiDrawInstances!==null)Bn.renderMultiDrawInstances(Fe._multiDrawStarts,Fe._multiDrawCounts,Fe._multiDrawCount,Fe._multiDrawInstances);else if(pe.get("WEBGL_multi_draw"))Bn.renderMultiDraw(Fe._multiDrawStarts,Fe._multiDrawCounts,Fe._multiDrawCount);else{const $t=Fe._multiDrawStarts,gr=Fe._multiDrawCounts,kn=Fe._multiDrawCount,Kr=Rt?Ee.get(Rt).bytesPerElement:1,Fl=ve.get(ze).currentProgram.getUniforms();for(let fo=0;fo<kn;fo++)Fl.setValue(V,"_gl_DrawID",fo),Bn.render($t[fo]/Kr,gr[fo])}else if(Fe.isInstancedMesh)Bn.renderInstances(Ln,Li,Fe.count);else if(ke.isInstancedBufferGeometry){const $t=ke._maxInstanceCount!==void 0?ke._maxInstanceCount:1/0,gr=Math.min(ke.instanceCount,$t);Bn.renderInstances(Ln,Li,gr)}else Bn.render(Ln,Li)};function tn(oe,Ie,ke){oe.transparent===!0&&oe.side===Ao&&oe.forceSinglePass===!1?(oe.side=Ni,oe.needsUpdate=!0,Os(oe,Ie,ke),oe.side=Ua,oe.needsUpdate=!0,Os(oe,Ie,ke),oe.side=Ao):Os(oe,Ie,ke)}this.compile=function(oe,Ie,ke=null){ke===null&&(ke=oe),m=ft.get(ke),m.init(Ie),S.push(m),ke.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(Ie.layers)&&(m.pushLight(Fe),Fe.castShadow&&m.pushShadow(Fe))}),oe!==ke&&oe.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(Ie.layers)&&(m.pushLight(Fe),Fe.castShadow&&m.pushShadow(Fe))}),m.setupLights();const ze=new Set;return oe.traverse(function(Fe){if(!(Fe.isMesh||Fe.isPoints||Fe.isLine||Fe.isSprite))return;const ht=Fe.material;if(ht)if(Array.isArray(ht))for(let Ct=0;Ct<ht.length;Ct++){const Et=ht[Ct];tn(Et,ke,Fe),ze.add(Et)}else tn(ht,ke,Fe),ze.add(ht)}),S.pop(),m=null,ze},this.compileAsync=function(oe,Ie,ke=null){const ze=this.compile(oe,Ie,ke);return new Promise(Fe=>{function ht(){if(ze.forEach(function(Ct){ve.get(Ct).currentProgram.isReady()&&ze.delete(Ct)}),ze.size===0){Fe(oe);return}setTimeout(ht,10)}pe.get("KHR_parallel_shader_compile")!==null?ht():setTimeout(ht,10)})};let Ci=null;function Ki(oe){Ci&&Ci(oe)}function Br(){Er.stop()}function Va(){Er.start()}const Er=new W9;Er.setAnimationLoop(Ki),typeof self<"u"&&Er.setContext(self),this.setAnimationLoop=function(oe){Ci=oe,$e.setAnimationLoop(oe),oe===null?Er.stop():Er.start()},$e.addEventListener("sessionstart",Br),$e.addEventListener("sessionend",Va),this.render=function(oe,Ie){if(Ie!==void 0&&Ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),Ie.parent===null&&Ie.matrixWorldAutoUpdate===!0&&Ie.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(Ie),Ie=$e.getCamera()),oe.isScene===!0&&oe.onBeforeRender(w,oe,Ie,R),m=ft.get(oe,S.length),m.init(Ie),S.push(m),ue.multiplyMatrices(Ie.projectionMatrix,Ie.matrixWorldInverse),J.setFromProjectionMatrix(ue),ee=this.localClippingEnabled,se=Te.init(this.clippingPlanes,ee),y=Ge.get(oe,_.length),y.init(),_.push(y),$e.enabled===!0&&$e.isPresenting===!0){const ht=w.xr.getDepthSensingMesh();ht!==null&&os(ht,Ie,-1/0,w.sortObjects)}os(oe,Ie,0,w.sortObjects),y.finish(),w.sortObjects===!0&&y.sort(z,Q),W=$e.enabled===!1||$e.isPresenting===!1||$e.hasDepthSensing()===!1,W&&Ue.addToRenderList(y,oe),this.info.render.frame++,se===!0&&Te.beginShadows();const ke=m.state.shadowsArray;Pe.render(ke,oe,Ie),se===!0&&Te.endShadows(),this.info.autoReset===!0&&this.info.reset();const ze=y.opaque,Fe=y.transmissive;if(m.setupLights(),Ie.isArrayCamera){const ht=Ie.cameras;if(Fe.length>0)for(let Ct=0,Et=ht.length;Ct<Et;Ct++){const Rt=ht[Ct];oc(ze,Fe,oe,Rt)}W&&Ue.render(oe);for(let Ct=0,Et=ht.length;Ct<Et;Ct++){const Rt=ht[Ct];rc(y,oe,Rt,Rt.viewport)}}else Fe.length>0&&oc(ze,Fe,oe,Ie),W&&Ue.render(oe),rc(y,oe,Ie);R!==null&&C===0&&(j.updateMultisampleRenderTarget(R),j.updateRenderTargetMipmap(R)),oe.isScene===!0&&oe.onAfterRender(w,oe,Ie),At.resetDefaultState(),E=-1,P=null,S.pop(),S.length>0?(m=S[S.length-1],se===!0&&Te.setGlobalState(w.clippingPlanes,m.state.camera)):m=null,_.pop(),_.length>0?y=_[_.length-1]:y=null};function os(oe,Ie,ke,ze){if(oe.visible===!1)return;if(oe.layers.test(Ie.layers)){if(oe.isGroup)ke=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(Ie);else if(oe.isLight)m.pushLight(oe),oe.castShadow&&m.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||J.intersectsSprite(oe)){ze&&le.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(ue);const Ct=re.update(oe),Et=oe.material;Et.visible&&y.push(oe,Ct,Et,ke,le.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(!oe.frustumCulled||J.intersectsObject(oe))){const Ct=re.update(oe),Et=oe.material;if(ze&&(oe.boundingSphere!==void 0?(oe.boundingSphere===null&&oe.computeBoundingSphere(),le.copy(oe.boundingSphere.center)):(Ct.boundingSphere===null&&Ct.computeBoundingSphere(),le.copy(Ct.boundingSphere.center)),le.applyMatrix4(oe.matrixWorld).applyMatrix4(ue)),Array.isArray(Et)){const Rt=Ct.groups;for(let Vt=0,jt=Rt.length;Vt<jt;Vt++){const Ut=Rt[Vt],Ln=Et[Ut.materialIndex];Ln&&Ln.visible&&y.push(oe,Ct,Ln,ke,le.z,Ut)}}else Et.visible&&y.push(oe,Ct,Et,ke,le.z,null)}}const ht=oe.children;for(let Ct=0,Et=ht.length;Ct<Et;Ct++)os(ht[Ct],Ie,ke,ze)}function rc(oe,Ie,ke,ze){const Fe=oe.opaque,ht=oe.transmissive,Ct=oe.transparent;m.setupLightsView(ke),se===!0&&Te.setGlobalState(w.clippingPlanes,ke),ze&&fe.viewport(N.copy(ze)),Fe.length>0&&ha(Fe,Ie,ke),ht.length>0&&ha(ht,Ie,ke),Ct.length>0&&ha(Ct,Ie,ke),fe.buffers.depth.setTest(!0),fe.buffers.depth.setMask(!0),fe.buffers.color.setMask(!0),fe.setPolygonOffset(!1)}function oc(oe,Ie,ke,ze){if((ke.isScene===!0?ke.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[ze.id]===void 0&&(m.state.transmissionRenderTarget[ze.id]=new sd(1,1,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")||pe.has("EXT_color_buffer_float")?Ro:ao,minFilter:Xo,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:wn.workingColorSpace}));const ht=m.state.transmissionRenderTarget[ze.id],Ct=ze.viewport||N;ht.setSize(Ct.z*w.transmissionResolutionScale,Ct.w*w.transmissionResolutionScale);const Et=w.getRenderTarget();w.setRenderTarget(ht),w.getClearColor(L),F=w.getClearAlpha(),F<1&&w.setClearColor(16777215,.5),w.clear(),W&&Ue.render(ke);const Rt=w.toneMapping;w.toneMapping=es;const Vt=ze.viewport;if(ze.viewport!==void 0&&(ze.viewport=void 0),m.setupLightsView(ze),se===!0&&Te.setGlobalState(w.clippingPlanes,ze),ha(oe,ke,ze),j.updateMultisampleRenderTarget(ht),j.updateRenderTargetMipmap(ht),pe.has("WEBGL_multisampled_render_to_texture")===!1){let jt=!1;for(let Ut=0,Ln=Ie.length;Ut<Ln;Ut++){const Hn=Ie[Ut],Li=Hn.object,pi=Hn.geometry,Bn=Hn.material,$t=Hn.group;if(Bn.side===Ao&&Li.layers.test(ze.layers)){const gr=Bn.side;Bn.side=Ni,Bn.needsUpdate=!0,Ns(Li,ke,ze,pi,Bn,$t),Bn.side=gr,Bn.needsUpdate=!0,jt=!0}}jt===!0&&(j.updateMultisampleRenderTarget(ht),j.updateRenderTargetMipmap(ht))}w.setRenderTarget(Et),w.setClearColor(L,F),Vt!==void 0&&(ze.viewport=Vt),w.toneMapping=Rt}function ha(oe,Ie,ke){const ze=Ie.isScene===!0?Ie.overrideMaterial:null;for(let Fe=0,ht=oe.length;Fe<ht;Fe++){const Ct=oe[Fe],Et=Ct.object,Rt=Ct.geometry,Vt=ze===null?Ct.material:ze,jt=Ct.group;Et.layers.test(ke.layers)&&Ns(Et,Ie,ke,Rt,Vt,jt)}}function Ns(oe,Ie,ke,ze,Fe,ht){oe.onBeforeRender(w,Ie,ke,ze,Fe,ht),oe.modelViewMatrix.multiplyMatrices(ke.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),Fe.onBeforeRender(w,Ie,ke,ze,oe,ht),Fe.transparent===!0&&Fe.side===Ao&&Fe.forceSinglePass===!1?(Fe.side=Ni,Fe.needsUpdate=!0,w.renderBufferDirect(ke,Ie,ze,Fe,oe,ht),Fe.side=Ua,Fe.needsUpdate=!0,w.renderBufferDirect(ke,Ie,ze,Fe,oe,ht),Fe.side=Ao):w.renderBufferDirect(ke,Ie,ze,Fe,oe,ht),oe.onAfterRender(w,Ie,ke,ze,Fe,ht)}function Os(oe,Ie,ke){Ie.isScene!==!0&&(Ie=he);const ze=ve.get(oe),Fe=m.state.lights,ht=m.state.shadowsArray,Ct=Fe.state.version,Et=ye.getParameters(oe,Fe.state,ht,Ie,ke),Rt=ye.getProgramCacheKey(Et);let Vt=ze.programs;ze.environment=oe.isMeshStandardMaterial?Ie.environment:null,ze.fog=Ie.fog,ze.envMap=(oe.isMeshStandardMaterial?ce:G).get(oe.envMap||ze.environment),ze.envMapRotation=ze.environment!==null&&oe.envMap===null?Ie.environmentRotation:oe.envMapRotation,Vt===void 0&&(oe.addEventListener("dispose",Ot),Vt=new Map,ze.programs=Vt);let jt=Vt.get(Rt);if(jt!==void 0){if(ze.currentProgram===jt&&ze.lightsStateVersion===Ct)return Ll(oe,Et),jt}else Et.uniforms=ye.getUniforms(oe),oe.onBeforeCompile(Et,w),jt=ye.acquireProgram(Et,Rt),Vt.set(Rt,jt),ze.uniforms=Et.uniforms;const Ut=ze.uniforms;return(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(Ut.clippingPlanes=Te.uniform),Ll(oe,Et),ze.needsLights=pa(oe),ze.lightsStateVersion=Ct,ze.needsLights&&(Ut.ambientLightColor.value=Fe.state.ambient,Ut.lightProbe.value=Fe.state.probe,Ut.directionalLights.value=Fe.state.directional,Ut.directionalLightShadows.value=Fe.state.directionalShadow,Ut.spotLights.value=Fe.state.spot,Ut.spotLightShadows.value=Fe.state.spotShadow,Ut.rectAreaLights.value=Fe.state.rectArea,Ut.ltc_1.value=Fe.state.rectAreaLTC1,Ut.ltc_2.value=Fe.state.rectAreaLTC2,Ut.pointLights.value=Fe.state.point,Ut.pointLightShadows.value=Fe.state.pointShadow,Ut.hemisphereLights.value=Fe.state.hemi,Ut.directionalShadowMap.value=Fe.state.directionalShadowMap,Ut.directionalShadowMatrix.value=Fe.state.directionalShadowMatrix,Ut.spotShadowMap.value=Fe.state.spotShadowMap,Ut.spotLightMatrix.value=Fe.state.spotLightMatrix,Ut.spotLightMap.value=Fe.state.spotLightMap,Ut.pointShadowMap.value=Fe.state.pointShadowMap,Ut.pointShadowMatrix.value=Fe.state.pointShadowMatrix),ze.currentProgram=jt,ze.uniformsList=null,jt}function Dl(oe){if(oe.uniformsList===null){const Ie=oe.currentProgram.getUniforms();oe.uniformsList=i_.seqWithValue(Ie.seq,oe.uniforms)}return oe.uniformsList}function Ll(oe,Ie){const ke=ve.get(oe);ke.outputColorSpace=Ie.outputColorSpace,ke.batching=Ie.batching,ke.batchingColor=Ie.batchingColor,ke.instancing=Ie.instancing,ke.instancingColor=Ie.instancingColor,ke.instancingMorph=Ie.instancingMorph,ke.skinning=Ie.skinning,ke.morphTargets=Ie.morphTargets,ke.morphNormals=Ie.morphNormals,ke.morphColors=Ie.morphColors,ke.morphTargetsCount=Ie.morphTargetsCount,ke.numClippingPlanes=Ie.numClippingPlanes,ke.numIntersection=Ie.numClipIntersection,ke.vertexAlphas=Ie.vertexAlphas,ke.vertexTangents=Ie.vertexTangents,ke.toneMapping=Ie.toneMapping}function Bl(oe,Ie,ke,ze,Fe){Ie.isScene!==!0&&(Ie=he),j.resetTextureUnits();const ht=Ie.fog,Ct=ze.isMeshStandardMaterial?Ie.environment:null,Et=R===null?w.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:oa,Rt=(ze.isMeshStandardMaterial?ce:G).get(ze.envMap||Ct),Vt=ze.vertexColors===!0&&!!ke.attributes.color&&ke.attributes.color.itemSize===4,jt=!!ke.attributes.tangent&&(!!ze.normalMap||ze.anisotropy>0),Ut=!!ke.morphAttributes.position,Ln=!!ke.morphAttributes.normal,Hn=!!ke.morphAttributes.color;let Li=es;ze.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Li=w.toneMapping);const pi=ke.morphAttributes.position||ke.morphAttributes.normal||ke.morphAttributes.color,Bn=pi!==void 0?pi.length:0,$t=ve.get(ze),gr=m.state.lights;if(se===!0&&(ee===!0||oe!==P)){const Mr=oe===P&&ze.id===E;Te.setState(ze,oe,Mr)}let kn=!1;ze.version===$t.__version?($t.needsLights&&$t.lightsStateVersion!==gr.state.version||$t.outputColorSpace!==Et||Fe.isBatchedMesh&&$t.batching===!1||!Fe.isBatchedMesh&&$t.batching===!0||Fe.isBatchedMesh&&$t.batchingColor===!0&&Fe.colorTexture===null||Fe.isBatchedMesh&&$t.batchingColor===!1&&Fe.colorTexture!==null||Fe.isInstancedMesh&&$t.instancing===!1||!Fe.isInstancedMesh&&$t.instancing===!0||Fe.isSkinnedMesh&&$t.skinning===!1||!Fe.isSkinnedMesh&&$t.skinning===!0||Fe.isInstancedMesh&&$t.instancingColor===!0&&Fe.instanceColor===null||Fe.isInstancedMesh&&$t.instancingColor===!1&&Fe.instanceColor!==null||Fe.isInstancedMesh&&$t.instancingMorph===!0&&Fe.morphTexture===null||Fe.isInstancedMesh&&$t.instancingMorph===!1&&Fe.morphTexture!==null||$t.envMap!==Rt||ze.fog===!0&&$t.fog!==ht||$t.numClippingPlanes!==void 0&&($t.numClippingPlanes!==Te.numPlanes||$t.numIntersection!==Te.numIntersection)||$t.vertexAlphas!==Vt||$t.vertexTangents!==jt||$t.morphTargets!==Ut||$t.morphNormals!==Ln||$t.morphColors!==Hn||$t.toneMapping!==Li||$t.morphTargetsCount!==Bn)&&(kn=!0):(kn=!0,$t.__version=ze.version);let Kr=$t.currentProgram;kn===!0&&(Kr=Os(ze,Ie,Fe));let Fl=!1,fo=!1,ac=!1;const ri=Kr.getUniforms(),Xr=$t.uniforms;if(fe.useProgram(Kr.program)&&(Fl=!0,fo=!0,ac=!0),ze.id!==E&&(E=ze.id,fo=!0),Fl||P!==oe){fe.buffers.depth.getReversed()?(ne.copy(oe.projectionMatrix),EPe(ne),MPe(ne),ri.setValue(V,"projectionMatrix",ne)):ri.setValue(V,"projectionMatrix",oe.projectionMatrix),ri.setValue(V,"viewMatrix",oe.matrixWorldInverse);const Rr=ri.map.cameraPosition;Rr!==void 0&&Rr.setValue(V,Y.setFromMatrixPosition(oe.matrixWorld)),Se.logarithmicDepthBuffer&&ri.setValue(V,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),(ze.isMeshPhongMaterial||ze.isMeshToonMaterial||ze.isMeshLambertMaterial||ze.isMeshBasicMaterial||ze.isMeshStandardMaterial||ze.isShaderMaterial)&&ri.setValue(V,"isOrthographic",oe.isOrthographicCamera===!0),P!==oe&&(P=oe,fo=!0,ac=!0)}if(Fe.isSkinnedMesh){ri.setOptional(V,Fe,"bindMatrix"),ri.setOptional(V,Fe,"bindMatrixInverse");const Mr=Fe.skeleton;Mr&&(Mr.boneTexture===null&&Mr.computeBoneTexture(),ri.setValue(V,"boneTexture",Mr.boneTexture,j))}Fe.isBatchedMesh&&(ri.setOptional(V,Fe,"batchingTexture"),ri.setValue(V,"batchingTexture",Fe._matricesTexture,j),ri.setOptional(V,Fe,"batchingIdTexture"),ri.setValue(V,"batchingIdTexture",Fe._indirectTexture,j),ri.setOptional(V,Fe,"batchingColorTexture"),Fe._colorsTexture!==null&&ri.setValue(V,"batchingColorTexture",Fe._colorsTexture,j));const Do=ke.morphAttributes;if((Do.position!==void 0||Do.normal!==void 0||Do.color!==void 0)&&qe.update(Fe,ke,Kr),(fo||$t.receiveShadow!==Fe.receiveShadow)&&($t.receiveShadow=Fe.receiveShadow,ri.setValue(V,"receiveShadow",Fe.receiveShadow)),ze.isMeshGouraudMaterial&&ze.envMap!==null&&(Xr.envMap.value=Rt,Xr.flipEnvMap.value=Rt.isCubeTexture&&Rt.isRenderTargetTexture===!1?-1:1),ze.isMeshStandardMaterial&&ze.envMap===null&&Ie.environment!==null&&(Xr.envMapIntensity.value=Ie.environmentIntensity),fo&&(ri.setValue(V,"toneMappingExposure",w.toneMappingExposure),$t.needsLights&&sc(Xr,ac),ht&&ze.fog===!0&&De.refreshFogUniforms(Xr,ht),De.refreshMaterialUniforms(Xr,ze,H,k,m.state.transmissionRenderTarget[oe.id]),i_.upload(V,Dl($t),Xr,j)),ze.isShaderMaterial&&ze.uniformsNeedUpdate===!0&&(i_.upload(V,Dl($t),Xr,j),ze.uniformsNeedUpdate=!1),ze.isSpriteMaterial&&ri.setValue(V,"center",Fe.center),ri.setValue(V,"modelViewMatrix",Fe.modelViewMatrix),ri.setValue(V,"normalMatrix",Fe.normalMatrix),ri.setValue(V,"modelMatrix",Fe.matrixWorld),ze.isShaderMaterial||ze.isRawShaderMaterial){const Mr=ze.uniformsGroups;for(let Rr=0,bd=Mr.length;Rr<bd;Rr++){const Lo=Mr[Rr];Ae.update(Lo,Kr),Ae.bind(Lo,Kr)}}return Kr}function sc(oe,Ie){oe.ambientLightColor.needsUpdate=Ie,oe.lightProbe.needsUpdate=Ie,oe.directionalLights.needsUpdate=Ie,oe.directionalLightShadows.needsUpdate=Ie,oe.pointLights.needsUpdate=Ie,oe.pointLightShadows.needsUpdate=Ie,oe.spotLights.needsUpdate=Ie,oe.spotLightShadows.needsUpdate=Ie,oe.rectAreaLights.needsUpdate=Ie,oe.hemisphereLights.needsUpdate=Ie}function pa(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(oe,Ie,ke){ve.get(oe.texture).__webglTexture=Ie,ve.get(oe.depthTexture).__webglTexture=ke;const ze=ve.get(oe);ze.__hasExternalTextures=!0,ze.__autoAllocateDepthBuffer=ke===void 0,ze.__autoAllocateDepthBuffer||pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ze.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(oe,Ie){const ke=ve.get(oe);ke.__webglFramebuffer=Ie,ke.__useDefaultFramebuffer=Ie===void 0};const zg=V.createFramebuffer();this.setRenderTarget=function(oe,Ie=0,ke=0){R=oe,A=Ie,C=ke;let ze=!0,Fe=null,ht=!1,Ct=!1;if(oe){const Rt=ve.get(oe);if(Rt.__useDefaultFramebuffer!==void 0)fe.bindFramebuffer(V.FRAMEBUFFER,null),ze=!1;else if(Rt.__webglFramebuffer===void 0)j.setupRenderTarget(oe);else if(Rt.__hasExternalTextures)j.rebindTextures(oe,ve.get(oe.texture).__webglTexture,ve.get(oe.depthTexture).__webglTexture);else if(oe.depthBuffer){const Ut=oe.depthTexture;if(Rt.__boundDepthTexture!==Ut){if(Ut!==null&&ve.has(Ut)&&(oe.width!==Ut.image.width||oe.height!==Ut.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");j.setupDepthRenderbuffer(oe)}}const Vt=oe.texture;(Vt.isData3DTexture||Vt.isDataArrayTexture||Vt.isCompressedArrayTexture)&&(Ct=!0);const jt=ve.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(Array.isArray(jt[Ie])?Fe=jt[Ie][ke]:Fe=jt[Ie],ht=!0):oe.samples>0&&j.useMultisampledRTT(oe)===!1?Fe=ve.get(oe).__webglMultisampledFramebuffer:Array.isArray(jt)?Fe=jt[ke]:Fe=jt,N.copy(oe.viewport),D.copy(oe.scissor),$=oe.scissorTest}else N.copy(Z).multiplyScalar(H).floor(),D.copy(ie).multiplyScalar(H).floor(),$=we;if(ke!==0&&(Fe=zg),fe.bindFramebuffer(V.FRAMEBUFFER,Fe)&&ze&&fe.drawBuffers(oe,Fe),fe.viewport(N),fe.scissor(D),fe.setScissorTest($),ht){const Rt=ve.get(oe.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Rt.__webglTexture,ke)}else if(Ct){const Rt=ve.get(oe.texture),Vt=Ie;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,Rt.__webglTexture,ke,Vt)}else if(oe!==null&&ke!==0){const Rt=ve.get(oe.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Rt.__webglTexture,ke)}E=-1},this.readRenderTargetPixels=function(oe,Ie,ke,ze,Fe,ht,Ct){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Et=ve.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Ct!==void 0&&(Et=Et[Ct]),Et){fe.bindFramebuffer(V.FRAMEBUFFER,Et);try{const Rt=oe.texture,Vt=Rt.format,jt=Rt.type;if(!Se.textureFormatReadable(Vt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Se.textureTypeReadable(jt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ie>=0&&Ie<=oe.width-ze&&ke>=0&&ke<=oe.height-Fe&&V.readPixels(Ie,ke,ze,Fe,rt.convert(Vt),rt.convert(jt),ht)}finally{const Rt=R!==null?ve.get(R).__webglFramebuffer:null;fe.bindFramebuffer(V.FRAMEBUFFER,Rt)}}},this.readRenderTargetPixelsAsync=async function(oe,Ie,ke,ze,Fe,ht,Ct){if(!(oe&&oe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Et=ve.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Ct!==void 0&&(Et=Et[Ct]),Et){const Rt=oe.texture,Vt=Rt.format,jt=Rt.type;if(!Se.textureFormatReadable(Vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Se.textureTypeReadable(jt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Ie>=0&&Ie<=oe.width-ze&&ke>=0&&ke<=oe.height-Fe){fe.bindFramebuffer(V.FRAMEBUFFER,Et);const Ut=V.createBuffer();V.bindBuffer(V.PIXEL_PACK_BUFFER,Ut),V.bufferData(V.PIXEL_PACK_BUFFER,ht.byteLength,V.STREAM_READ),V.readPixels(Ie,ke,ze,Fe,rt.convert(Vt),rt.convert(jt),0);const Ln=R!==null?ve.get(R).__webglFramebuffer:null;fe.bindFramebuffer(V.FRAMEBUFFER,Ln);const Hn=V.fenceSync(V.SYNC_GPU_COMMANDS_COMPLETE,0);return V.flush(),await APe(V,Hn,4),V.bindBuffer(V.PIXEL_PACK_BUFFER,Ut),V.getBufferSubData(V.PIXEL_PACK_BUFFER,0,ht),V.deleteBuffer(Ut),V.deleteSync(Hn),ht}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(oe,Ie=null,ke=0){oe.isTexture!==!0&&(sf("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Ie=arguments[0]||null,oe=arguments[1]);const ze=Math.pow(2,-ke),Fe=Math.floor(oe.image.width*ze),ht=Math.floor(oe.image.height*ze),Ct=Ie!==null?Ie.x:0,Et=Ie!==null?Ie.y:0;j.setTexture2D(oe,0),V.copyTexSubImage2D(V.TEXTURE_2D,ke,0,0,Ct,Et,Fe,ht),fe.unbindTexture()};const Hg=V.createFramebuffer(),sh=V.createFramebuffer();this.copyTextureToTexture=function(oe,Ie,ke=null,ze=null,Fe=0,ht=null){oe.isTexture!==!0&&(sf("WebGLRenderer: copyTextureToTexture function signature has changed."),ze=arguments[0]||null,oe=arguments[1],Ie=arguments[2],ht=arguments[3]||0,ke=null),ht===null&&(Fe!==0?(sf("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ht=Fe,Fe=0):ht=0);let Ct,Et,Rt,Vt,jt,Ut,Ln,Hn,Li;const pi=oe.isCompressedTexture?oe.mipmaps[ht]:oe.image;if(ke!==null)Ct=ke.max.x-ke.min.x,Et=ke.max.y-ke.min.y,Rt=ke.isBox3?ke.max.z-ke.min.z:1,Vt=ke.min.x,jt=ke.min.y,Ut=ke.isBox3?ke.min.z:0;else{const Do=Math.pow(2,-Fe);Ct=Math.floor(pi.width*Do),Et=Math.floor(pi.height*Do),oe.isDataArrayTexture?Rt=pi.depth:oe.isData3DTexture?Rt=Math.floor(pi.depth*Do):Rt=1,Vt=0,jt=0,Ut=0}ze!==null?(Ln=ze.x,Hn=ze.y,Li=ze.z):(Ln=0,Hn=0,Li=0);const Bn=rt.convert(Ie.format),$t=rt.convert(Ie.type);let gr;Ie.isData3DTexture?(j.setTexture3D(Ie,0),gr=V.TEXTURE_3D):Ie.isDataArrayTexture||Ie.isCompressedArrayTexture?(j.setTexture2DArray(Ie,0),gr=V.TEXTURE_2D_ARRAY):(j.setTexture2D(Ie,0),gr=V.TEXTURE_2D),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,Ie.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ie.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,Ie.unpackAlignment);const kn=V.getParameter(V.UNPACK_ROW_LENGTH),Kr=V.getParameter(V.UNPACK_IMAGE_HEIGHT),Fl=V.getParameter(V.UNPACK_SKIP_PIXELS),fo=V.getParameter(V.UNPACK_SKIP_ROWS),ac=V.getParameter(V.UNPACK_SKIP_IMAGES);V.pixelStorei(V.UNPACK_ROW_LENGTH,pi.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,pi.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Vt),V.pixelStorei(V.UNPACK_SKIP_ROWS,jt),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Ut);const ri=oe.isDataArrayTexture||oe.isData3DTexture,Xr=Ie.isDataArrayTexture||Ie.isData3DTexture;if(oe.isDepthTexture){const Do=ve.get(oe),Mr=ve.get(Ie),Rr=ve.get(Do.__renderTarget),bd=ve.get(Mr.__renderTarget);fe.bindFramebuffer(V.READ_FRAMEBUFFER,Rr.__webglFramebuffer),fe.bindFramebuffer(V.DRAW_FRAMEBUFFER,bd.__webglFramebuffer);for(let Lo=0;Lo<Rt;Lo++)ri&&(V.framebufferTextureLayer(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,ve.get(oe).__webglTexture,Fe,Ut+Lo),V.framebufferTextureLayer(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,ve.get(Ie).__webglTexture,ht,Li+Lo)),V.blitFramebuffer(Vt,jt,Ct,Et,Ln,Hn,Ct,Et,V.DEPTH_BUFFER_BIT,V.NEAREST);fe.bindFramebuffer(V.READ_FRAMEBUFFER,null),fe.bindFramebuffer(V.DRAW_FRAMEBUFFER,null)}else if(Fe!==0||oe.isRenderTargetTexture||ve.has(oe)){const Do=ve.get(oe),Mr=ve.get(Ie);fe.bindFramebuffer(V.READ_FRAMEBUFFER,Hg),fe.bindFramebuffer(V.DRAW_FRAMEBUFFER,sh);for(let Rr=0;Rr<Rt;Rr++)ri?V.framebufferTextureLayer(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,Do.__webglTexture,Fe,Ut+Rr):V.framebufferTexture2D(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Do.__webglTexture,Fe),Xr?V.framebufferTextureLayer(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,Mr.__webglTexture,ht,Li+Rr):V.framebufferTexture2D(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Mr.__webglTexture,ht),Fe!==0?V.blitFramebuffer(Vt,jt,Ct,Et,Ln,Hn,Ct,Et,V.COLOR_BUFFER_BIT,V.NEAREST):Xr?V.copyTexSubImage3D(gr,ht,Ln,Hn,Li+Rr,Vt,jt,Ct,Et):V.copyTexSubImage2D(gr,ht,Ln,Hn,Vt,jt,Ct,Et);fe.bindFramebuffer(V.READ_FRAMEBUFFER,null),fe.bindFramebuffer(V.DRAW_FRAMEBUFFER,null)}else Xr?oe.isDataTexture||oe.isData3DTexture?V.texSubImage3D(gr,ht,Ln,Hn,Li,Ct,Et,Rt,Bn,$t,pi.data):Ie.isCompressedArrayTexture?V.compressedTexSubImage3D(gr,ht,Ln,Hn,Li,Ct,Et,Rt,Bn,pi.data):V.texSubImage3D(gr,ht,Ln,Hn,Li,Ct,Et,Rt,Bn,$t,pi):oe.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,ht,Ln,Hn,Ct,Et,Bn,$t,pi.data):oe.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,ht,Ln,Hn,pi.width,pi.height,Bn,pi.data):V.texSubImage2D(V.TEXTURE_2D,ht,Ln,Hn,Ct,Et,Bn,$t,pi);V.pixelStorei(V.UNPACK_ROW_LENGTH,kn),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Kr),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Fl),V.pixelStorei(V.UNPACK_SKIP_ROWS,fo),V.pixelStorei(V.UNPACK_SKIP_IMAGES,ac),ht===0&&Ie.generateMipmaps&&V.generateMipmap(gr),fe.unbindTexture()},this.copyTextureToTexture3D=function(oe,Ie,ke=null,ze=null,Fe=0){return oe.isTexture!==!0&&(sf("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ke=arguments[0]||null,ze=arguments[1]||null,oe=arguments[2],Ie=arguments[3],Fe=arguments[4]||0),sf('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(oe,Ie,ke,ze,Fe)},this.initRenderTarget=function(oe){ve.get(oe).__webglFramebuffer===void 0&&j.setupRenderTarget(oe)},this.initTexture=function(oe){oe.isCubeTexture?j.setTextureCube(oe,0):oe.isData3DTexture?j.setTexture3D(oe,0):oe.isDataArrayTexture||oe.isCompressedArrayTexture?j.setTexture2DArray(oe,0):j.setTexture2D(oe,0),fe.unbindTexture()},this.resetState=function(){A=0,C=0,R=null,fe.reset(),At.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return qo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const i=this.getContext();i.drawingBufferColorspace=wn._getDrawingBufferColorSpace(e),i.unpackColorSpace=wn._getUnpackColorSpace()}}const Lp=new Ma,bu=new dt,Y9=new me,hA=new dt,r_=new dt,gS=new me,_2=new me,Q9=new Mn,Z9=new me,J9=new me;let Wo=null,Za=null;const xu=[],Zc={NONE:-1,PAN:0,ROTATE:1};class CLe extends zw{constructor(e,i,r=null){super(i,r),this.objects=e,this.recursive=!0,this.transformGroup=!1,this.rotateSpeed=1,this.raycaster=new V9,this.mouseButtons={LEFT:Dr.PAN,MIDDLE:Dr.PAN,RIGHT:Dr.ROTATE},this.touches={ONE:Au.PAN},this._onPointerMove=TLe.bind(this),this._onPointerDown=ALe.bind(this),this._onPointerCancel=ELe.bind(this),this._onContextMenu=MLe.bind(this),r!==null&&this.connect()}connect(){this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointerup",this._onPointerCancel),this.domElement.addEventListener("pointerleave",this._onPointerCancel),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointerup",this._onPointerCancel),this.domElement.removeEventListener("pointerleave",this._onPointerCancel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto",this.domElement.style.cursor=""}dispose(){this.disconnect()}_updatePointer(e){const i=this.domElement.getBoundingClientRect();bu.x=(e.clientX-i.left)/i.width*2-1,bu.y=-(e.clientY-i.top)/i.height*2+1}_updateState(e){let i;if(e.pointerType==="touch")i=this.touches.ONE;else switch(e.button){case 0:i=this.mouseButtons.LEFT;break;case 1:i=this.mouseButtons.MIDDLE;break;case 2:i=this.mouseButtons.RIGHT;break;default:i=null}switch(i){case Dr.PAN:case Au.PAN:this.state=Zc.PAN;break;case Dr.ROTATE:case Au.ROTATE:this.state=Zc.ROTATE;break;default:this.state=Zc.NONE}}getRaycaster(){return console.warn("THREE.DragControls: getRaycaster() has been deprecated. Use controls.raycaster instead."),this.raycaster}setObjects(e){console.warn("THREE.DragControls: setObjects() has been deprecated. Use controls.objects instead."),this.objects=e}getObjects(){return console.warn("THREE.DragControls: getObjects() has been deprecated. Use controls.objects instead."),this.objects}activate(){console.warn("THREE.DragControls: activate() has been renamed to connect()."),this.connect()}deactivate(){console.warn("THREE.DragControls: deactivate() has been renamed to disconnect()."),this.disconnect()}set mode(e){console.warn("THREE.DragControls: The .mode property has been removed. Define the type of transformation via the .mouseButtons or .touches properties.")}get mode(){console.warn("THREE.DragControls: The .mode property has been removed. Define the type of transformation via the .mouseButtons or .touches properties.")}}function TLe(n){const e=this.object,i=this.domElement,r=this.raycaster;if(this.enabled!==!1){if(this._updatePointer(n),r.setFromCamera(bu,e),Wo)this.state===Zc.PAN?r.ray.intersectPlane(Lp,gS)&&Wo.position.copy(gS.sub(Y9).applyMatrix4(Q9)):this.state===Zc.ROTATE&&(hA.subVectors(bu,r_).multiplyScalar(this.rotateSpeed),Wo.rotateOnWorldAxis(Z9,hA.x),Wo.rotateOnWorldAxis(J9.normalize(),-hA.y)),this.dispatchEvent({type:"drag",object:Wo}),r_.copy(bu);else if(n.pointerType==="mouse"||n.pointerType==="pen")if(xu.length=0,r.setFromCamera(bu,e),r.intersectObjects(this.objects,this.recursive,xu),xu.length>0){const o=xu[0].object;Lp.setFromNormalAndCoplanarPoint(e.getWorldDirection(Lp.normal),_2.setFromMatrixPosition(o.matrixWorld)),Za!==o&&Za!==null&&(this.dispatchEvent({type:"hoveroff",object:Za}),i.style.cursor="auto",Za=null),Za!==o&&(this.dispatchEvent({type:"hoveron",object:o}),i.style.cursor="pointer",Za=o)}else Za!==null&&(this.dispatchEvent({type:"hoveroff",object:Za}),i.style.cursor="auto",Za=null);r_.copy(bu)}}function ALe(n){const e=this.object,i=this.domElement,r=this.raycaster;this.enabled!==!1&&(this._updatePointer(n),this._updateState(n),xu.length=0,r.setFromCamera(bu,e),r.intersectObjects(this.objects,this.recursive,xu),xu.length>0&&(this.transformGroup===!0?Wo=e7(xu[0].object):Wo=xu[0].object,Lp.setFromNormalAndCoplanarPoint(e.getWorldDirection(Lp.normal),_2.setFromMatrixPosition(Wo.matrixWorld)),r.ray.intersectPlane(Lp,gS)&&(this.state===Zc.PAN?(Q9.copy(Wo.parent.matrixWorld).invert(),Y9.copy(gS).sub(_2.setFromMatrixPosition(Wo.matrixWorld))):this.state===Zc.ROTATE&&(Z9.set(0,1,0).applyQuaternion(e.quaternion).normalize(),J9.set(1,0,0).applyQuaternion(e.quaternion).normalize())),i.style.cursor="move",this.dispatchEvent({type:"dragstart",object:Wo})),r_.copy(bu))}function ELe(){this.enabled!==!1&&(Wo&&(this.dispatchEvent({type:"dragend",object:Wo}),Wo=null),this.domElement.style.cursor=Za?"pointer":"auto",this.state=Zc.NONE)}function MLe(n){this.enabled!==!1&&n.preventDefault()}function e7(n,e=null){return n.isGroup&&(e=n),n.parent===null?e:e7(n.parent,e)}var pA,rk;function oN(){if(rk)return pA;rk=1,pA=function(r){e(r);var o=n(r);return r.on=o.on,r.off=o.off,r.fire=o.fire,r};function n(i){var r=Object.create(null);return{on:function(o,s,a){if(typeof s!="function")throw new Error("callback is expected to be a function");var l=r[o];return l||(l=r[o]=[]),l.push({callback:s,ctx:a}),i},off:function(o,s){var a=typeof o>"u";if(a)return r=Object.create(null),i;if(r[o]){var l=typeof s!="function";if(l)delete r[o];else for(var u=r[o],c=0;c<u.length;++c)u[c].callback===s&&u.splice(c,1)}return i},fire:function(o){var s=r[o];if(!s)return i;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var l=0;l<s.length;++l){var u=s[l];u.callback.apply(u.ctx,a)}return i}}}function e(i){if(!i)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],o=0;o<r.length;++o)if(i.hasOwnProperty(r[o]))throw new Error("Subject cannot be eventified, since it already has property '"+r[o]+"'")}return pA}var gA,ok;function RLe(){if(ok)return gA;ok=1,gA=e;var n=oN();function e(a){if(a=a||{},"uniqueLinkId"in a&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),a.multigraph=a.uniqueLinkId),a.multigraph===void 0&&(a.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var l=new Map,u=new Map,c={},d=0,f=a.multigraph?P:E,h=[],p=ie,v=ie,b=ie,y=ie,m={version:20,addNode:T,addLink:R,removeLink:L,removeNode:C,getNode:A,getNodeCount:N,getLinkCount:D,getEdgeCount:D,getLinksCount:D,getNodesCount:N,getLinks:$,forEachNode:se,forEachLinkedNode:z,forEachLink:H,beginUpdate:b,endUpdate:y,clear:k,hasLink:U,hasNode:A,getLink:U};return n(m),_(),m;function _(){var ee=m.on;m.on=ne;function ne(){return m.beginUpdate=b=we,m.endUpdate=y=J,p=S,v=w,m.on=ee,ee.apply(m,arguments)}}function S(ee,ne){h.push({link:ee,changeType:ne})}function w(ee,ne){h.push({node:ee,changeType:ne})}function T(ee,ne){if(ee===void 0)throw new Error("Invalid node identifier");b();var ue=A(ee);return ue?(ue.data=ne,v(ue,"update")):(ue=new i(ee,ne),v(ue,"add")),l.set(ee,ue),y(),ue}function A(ee){return l.get(ee)}function C(ee){var ne=A(ee);if(!ne)return!1;b();var ue=ne.links;return ue&&(ue.forEach(F),ne.links=null),l.delete(ee),v(ne,"remove"),y(),!0}function R(ee,ne,ue){b();var Y=A(ee)||T(ee),le=A(ne)||T(ne),he=f(ee,ne,ue),W=u.has(he.id);return u.set(he.id,he),r(Y,he),ee!==ne&&r(le,he),p(he,W?"update":"add"),y(),he}function E(ee,ne,ue){var Y=s(ee,ne),le=u.get(Y);return le?(le.data=ue,le):new o(ee,ne,ue,Y)}function P(ee,ne,ue){var Y=s(ee,ne),le=c.hasOwnProperty(Y);if(le||U(ee,ne)){le||(c[Y]=0);var he="@"+ ++c[Y];Y=s(ee+he,ne+he)}return new o(ee,ne,ue,Y)}function N(){return l.size}function D(){return u.size}function $(ee){var ne=A(ee);return ne?ne.links:null}function L(ee,ne){return ne!==void 0&&(ee=U(ee,ne)),F(ee)}function F(ee){if(!ee||!u.get(ee.id))return!1;b(),u.delete(ee.id);var ne=A(ee.fromId),ue=A(ee.toId);return ne&&ne.links.delete(ee),ue&&ue.links.delete(ee),p(ee,"remove"),y(),!0}function U(ee,ne){if(!(ee===void 0||ne===void 0))return u.get(s(ee,ne))}function k(){b(),se(function(ee){C(ee.id)}),y()}function H(ee){if(typeof ee=="function")for(var ne=u.values(),ue=ne.next();!ue.done;){if(ee(ue.value))return!0;ue=ne.next()}}function z(ee,ne,ue){var Y=A(ee);if(Y&&Y.links&&typeof ne=="function")return ue?Z(Y.links,ee,ne):Q(Y.links,ee,ne)}function Q(ee,ne,ue){for(var Y,le=ee.values(),he=le.next();!he.done;){var W=he.value,X=W.fromId===ne?W.toId:W.fromId;if(Y=ue(l.get(X),W),Y)return!0;he=le.next()}}function Z(ee,ne,ue){for(var Y,le=ee.values(),he=le.next();!he.done;){var W=he.value;if(W.fromId===ne&&(Y=ue(l.get(W.toId),W),Y))return!0;he=le.next()}}function ie(){}function we(){d+=1}function J(){d-=1,d===0&&h.length>0&&(m.fire("changed",h),h.length=0)}function se(ee){if(typeof ee!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+ee);for(var ne=l.values(),ue=ne.next();!ue.done;){if(ee(ue.value))return!0;ue=ne.next()}}}function i(a,l){this.id=a,this.links=null,this.data=l}function r(a,l){a.links?a.links.add(l):a.links=new Set([l])}function o(a,l,u,c){this.fromId=a,this.toId=l,this.data=u,this.id=c}function s(a,l){return a.toString()+"👉 "+l.toString()}return gA}var PLe=RLe();const ILe=wP(PLe);var tx={exports:{}},Wh={exports:{}},mA,sk;function t7(){return sk||(sk=1,mA=function(e){return e===0?"x":e===1?"y":e===2?"z":"c"+(e+1)}),mA}var vA,ak;function Fg(){if(ak)return vA;ak=1;const n=t7();return vA=function(i){return r;function r(o,s){let a=s&&s.indent||0,l=s&&s.join!==void 0?s.join:`
`,u=Array(a+1).join(" "),c=[];for(let d=0;d<i;++d){let f=n(d),h=d===0?"":u;c.push(h+o.replace(/{var}/g,f))}return c.join(l)}},vA}var lk;function NLe(){if(lk)return Wh.exports;lk=1;const n=Fg();Wh.exports=e,Wh.exports.generateCreateBodyFunctionBody=i,Wh.exports.getVectorCode=o,Wh.exports.getBodyCode=r;function e(s,a){let l=i(s,a),{Body:u}=new Function(l)();return u}function i(s,a){return`
${o(s,a)}
${r(s)}
return {Body: Body, Vector: Vector};
`}function r(s){let a=n(s),l=a("{var}",{join:", "});return`
function Body(${l}) {
  this.isPinned = false;
  this.pos = new Vector(${l});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${l}) {
  ${a("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function o(s,a){let l=n(s),u="";return a&&(u=`${l(`
	   var v{var};
	Object.defineProperty(this, '{var}', {
	  set: function(v) { 
	    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
	    v{var} = v; 
	  },
	  get: function() { return v{var}; }
	});`)}`),`function Vector(${l("{var}",{join:", "})}) {
  ${u}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${l('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${l("this.{var} = v.{var};",{indent:4})}
    } else {
      ${l('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${l("this.{var} = ",{join:""})}0;
  };`}return Wh.exports}var su={exports:{}},uk;function OLe(){if(uk)return su.exports;uk=1;const n=Fg(),e=t7();su.exports=i,su.exports.generateQuadTreeFunctionBody=r,su.exports.getInsertStackCode=u,su.exports.getQuadNodeCode=l,su.exports.isSamePosition=o,su.exports.getChildBodyCode=a,su.exports.setChildBodyCode=s;function i(c){let d=r(c);return new Function(d)()}function r(c){let d=n(c),f=Math.pow(2,c);return`
${u()}
${l(c)}
${o(c)}
${a(c)}
${s(c)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${b("      node.")}
      node.body = null;
      node.mass = ${d("node.mass_{var} = ",{join:""})}0;
      ${d("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${d("var d{var};",{indent:4})}
    var r; 
    ${d("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${d("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${d("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${d("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${d("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${d("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < θ, treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${e(0)} - node.min_${e(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${d("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${v()}
        }
      }
    }

    ${d("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${d("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${d("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${d("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${d("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${d("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${d("root.min_{var} = {var}min;",{indent:4})}
    ${d("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${d("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${d("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${d("var min_{var} = node.min_{var};",{indent:8})}
        ${d("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${p(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${d("child.min_{var} = min_{var};",{indent:10})}
          ${d("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${d("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${d("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function p(y){let m=[],_=Array(y+1).join(" ");for(let S=0;S<c;++S)m.push(_+`if (${e(S)} > max_${e(S)}) {`),m.push(_+`  quadIdx = quadIdx + ${Math.pow(2,S)};`),m.push(_+`  min_${e(S)} = max_${e(S)};`),m.push(_+`  max_${e(S)} = node.max_${e(S)};`),m.push(_+"}");return m.join(`
`)}function v(){let y=Array(11).join(" "),m=[];for(let _=0;_<f;++_)m.push(y+`if (node.quad${_}) {`),m.push(y+`  queue[pushIdx] = node.quad${_};`),m.push(y+"  queueLength += 1;"),m.push(y+"  pushIdx += 1;"),m.push(y+"}");return m.join(`
`)}function b(y){let m=[];for(let _=0;_<f;++_)m.push(`${y}quad${_} = null;`);return m.join(`
`)}}function o(c){let d=n(c);return`
  function isSamePosition(point1, point2) {
    ${d("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${d("d{var} < 1e-8",{join:" && "})};
  }  
`}function s(c){var d=Math.pow(2,c);return`
function setChild(node, idx, child) {
  ${f()}
}`;function f(){let h=[];for(let p=0;p<d;++p){let v=p===0?"  ":"  else ";h.push(`${v}if (idx === ${p}) node.quad${p} = child;`)}return h.join(`
`)}}function a(c){return`function getChild(node, idx) {
${d()}
  return null;
}`;function d(){let f=[],h=Math.pow(2,c);for(let p=0;p<h;++p)f.push(`  if (idx === ${p}) return node.quad${p};`);return f.join(`
`)}}function l(c){let d=n(c),f=Math.pow(2,c);var h=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${p("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${d("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${d("this.min_{var} = 0;",{indent:2})}
  ${d("this.max_{var} = 0;",{indent:2})}
}
`;return h;function p(v){let b=[];for(let y=0;y<f;++y)b.push(`${v}quad${y} = null;`);return b.join(`
`)}}function u(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}return su.exports}var nx={exports:{}},ck;function DLe(){if(ck)return nx.exports;ck=1,nx.exports=e,nx.exports.generateFunctionBody=i;const n=Fg();function e(r){let o=i(r);return new Function("bodies","settings","random",o)}function i(r){let o=n(r);return`
  var boundingBox = {
    ${o("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${o("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${o("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${o("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${o("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${o("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${o("var max_{var} = -Infinity;",{indent:4})}
    ${o("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${o("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${o("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${o("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${o("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${o("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}return nx.exports}var ix={exports:{}},dk;function LLe(){if(dk)return ix.exports;dk=1;const n=Fg();ix.exports=e,ix.exports.generateCreateDragForceFunctionBody=i;function e(r){let o=i(r);return new Function("options",o)}function i(r){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${n(r)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}return ix.exports}var rx={exports:{}},fk;function BLe(){if(fk)return rx.exports;fk=1;const n=Fg();rx.exports=e,rx.exports.generateCreateSpringForceFunctionBody=i;function e(r){let o=i(r);return new Function("options","random",o)}function i(r){let o=n(r);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${o("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${o("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${o("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${o("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${o("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${o("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}return rx.exports}var ox={exports:{}},hk;function FLe(){if(hk)return ox.exports;hk=1;const n=Fg();ox.exports=e,ox.exports.generateIntegratorFunctionBody=i;function e(r){let o=i(r);return new Function("bodies","timeStep","adaptiveTimeStepWeight",o)}function i(r){let o=n(r);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${o("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${o("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${o("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${o("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${o("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${o("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${o("body.pos.{var} += d{var};",{indent:4})}

    ${o("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${o("t{var} * t{var}",{join:" + "})})/length;
`}return ox.exports}var yA,pk;function $Le(){if(pk)return yA;pk=1,yA=n;function n(e,i,r,o){this.from=e,this.to=i,this.length=r,this.coefficient=o}return yA}var bA,gk;function ULe(){if(gk)return bA;gk=1,bA=n;function n(e,i){var r;if(e||(e={}),i){for(r in i)if(i.hasOwnProperty(r)){var o=e.hasOwnProperty(r),s=typeof i[r],a=!o||typeof e[r]!==s;a?e[r]=i[r]:s==="object"&&(e[r]=n(e[r],i[r]))}}return e}return bA}var Mm={exports:{}},mk;function kLe(){if(mk)return Mm.exports;mk=1,Mm.exports=n,Mm.exports.random=n,Mm.exports.randomIterator=l;function n(u){var c=typeof u=="number"?u:+new Date;return new e(c)}function e(u){this.seed=u}e.prototype.next=a,e.prototype.nextDouble=s,e.prototype.uniform=s,e.prototype.gaussian=i;function i(){var u,c,d;do c=this.nextDouble()*2-1,d=this.nextDouble()*2-1,u=c*c+d*d;while(u>=1||u===0);return c*Math.sqrt(-2*Math.log(u)/u)}e.prototype.levy=r;function r(){var u=1.5,c=Math.pow(o(1+u)*Math.sin(Math.PI*u/2)/(o((1+u)/2)*u*Math.pow(2,(u-1)/2)),1/u);return this.gaussian()*c/Math.pow(Math.abs(this.gaussian()),1/u)}function o(u){return Math.sqrt(2*Math.PI/u)*Math.pow(1/Math.E*(u+1/(12*u-1/(10*u))),u)}function s(){var u=this.seed;return u=u+2127912214+(u<<12)&4294967295,u=(u^3345072700^u>>>19)&4294967295,u=u+374761393+(u<<5)&4294967295,u=(u+3550635116^u<<9)&4294967295,u=u+4251993797+(u<<3)&4294967295,u=(u^3042594569^u>>>16)&4294967295,this.seed=u,(u&268435455)/268435456}function a(u){return Math.floor(this.nextDouble()*u)}function l(u,c){var d=c||n();if(typeof d.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:h,shuffle:f};function f(){var p,v,b;for(p=u.length-1;p>0;--p)v=d.next(p+1),b=u[v],u[v]=u[p],u[p]=b;return u}function h(p){var v,b,y;for(v=u.length-1;v>0;--v)b=d.next(v+1),y=u[b],u[b]=u[v],u[v]=y,p(y);u.length&&p(u[0])}}return Mm.exports}var xA,vk;function yk(){if(vk)return xA;vk=1,xA=l;var n=NLe(),e=OLe(),i=DLe(),r=LLe(),o=BLe(),s=FLe(),a={};function l(d){var f=$Le(),h=ULe(),p=oN();if(d){if(d.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(d.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}d=h(d,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var v=a[d.dimensions];if(!v){var b=d.dimensions;v={Body:n(b,d.debug),createQuadTree:e(b),createBounds:i(b),createDragForce:r(b),createSpringForce:o(b),integrate:s(b)},a[b]=v}var y=v.Body,m=v.createQuadTree,_=v.createBounds,S=v.createDragForce,w=v.createSpringForce,T=v.integrate,A=se=>new y(se),C=kLe().random(42),R=[],E=[],P=m(d,C),N=_(R,d,C),D=w(d,C),$=S(d),L=0,F=[],U=new Map,k=0;Q("nbody",we),Q("spring",J);var H={bodies:R,quadTree:P,springs:E,settings:d,addForce:Q,removeForce:Z,getForces:ie,step:function(){for(var se=0;se<F.length;++se)F[se](k);var ee=T(R,d.timeStep,d.adaptiveTimeStepWeight);return k+=1,ee},addBody:function(se){if(!se)throw new Error("Body is required");return R.push(se),se},addBodyAt:function(se){if(!se)throw new Error("Body position is required");var ee=A(se);return R.push(ee),ee},removeBody:function(se){if(se){var ee=R.indexOf(se);if(!(ee<0))return R.splice(ee,1),R.length===0&&N.reset(),!0}},addSpring:function(se,ee,ne,ue){if(!se||!ee)throw new Error("Cannot add null spring to force simulator");typeof ne!="number"&&(ne=-1);var Y=new f(se,ee,ne,ue>=0?ue:-1);return E.push(Y),Y},getTotalMovement:function(){return L},removeSpring:function(se){if(se){var ee=E.indexOf(se);if(ee>-1)return E.splice(ee,1),!0}},getBestNewBodyPosition:function(se){return N.getBestNewPosition(se)},getBBox:z,getBoundingBox:z,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(se){return se!==void 0?(d.gravity=se,P.options({gravity:se}),this):d.gravity},theta:function(se){return se!==void 0?(d.theta=se,P.options({theta:se}),this):d.theta},random:C};return u(d,H),p(H),H;function z(){return N.update(),N.box}function Q(se,ee){if(U.has(se))throw new Error("Force "+se+" is already added");U.set(se,ee),F.push(ee)}function Z(se){var ee=F.indexOf(U.get(se));ee<0||(F.splice(ee,1),U.delete(se))}function ie(){return U}function we(){if(R.length!==0){P.insertBodies(R);for(var se=R.length;se--;){var ee=R[se];ee.isPinned||(ee.reset(),P.updateBodyForce(ee),$.update(ee))}}}function J(){for(var se=E.length;se--;)D.update(E[se])}}function u(d,f){for(var h in d)c(d,f,h)}function c(d,f,h){if(d.hasOwnProperty(h)&&typeof f[h]!="function"){var p=Number.isFinite(d[h]);p?f[h]=function(v){if(v!==void 0){if(!Number.isFinite(v))throw new Error("Value of "+h+" should be a valid number.");return d[h]=v,f}return d[h]}:f[h]=function(v){return v!==void 0?(d[h]=v,f):d[h]}}}return xA}var bk;function zLe(){if(bk)return tx.exports;bk=1,tx.exports=e,tx.exports.simulator=yk();var n=oN();function e(r,o){if(!r)throw new Error("Graph structure cannot be undefined");var s=o&&o.createSimulator||yk(),a=s(o);if(Array.isArray(o))throw new Error("Physics settings is expected to be an object");var l=r.version>19?U:F;o&&typeof o.nodeMass=="function"&&(l=o.nodeMass);var u=new Map,c={},d=0,f=a.settings.springTransform||i;A(),S();var h=!1,p={step:function(){if(d===0)return v(!0),!0;var k=a.step();p.lastMove=k,p.fire("step");var H=k/d,z=H<=.01;return v(z),z},getNodePosition:function(k){return L(k).pos},setNodePosition:function(k){var H=L(k);H.setPosition.apply(H,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(k){var H=c[k];if(H)return{from:H.from.pos,to:H.to.pos}},getGraphRect:function(){return a.getBBox()},forEachBody:b,pinNode:function(k,H){var z=L(k.id);z.isPinned=!!H},isNodePinned:function(k){return L(k.id).isPinned},dispose:function(){r.off("changed",T),p.fire("disposed")},getBody:_,getSpring:m,getForceVectorLength:y,simulator:a,graph:r,lastMove:0};return n(p),p;function v(k){h!==k&&(h=k,w(k))}function b(k){u.forEach(k)}function y(){var k=0,H=0;return b(function(z){k+=Math.abs(z.force.x),H+=Math.abs(z.force.y)}),Math.sqrt(k*k+H*H)}function m(k,H){var z;if(H===void 0)typeof k!="object"?z=k:z=k.id;else{var Q=r.hasLink(k,H);if(!Q)return;z=Q.id}return c[z]}function _(k){return u.get(k)}function S(){r.on("changed",T)}function w(k){p.fire("stable",k)}function T(k){for(var H=0;H<k.length;++H){var z=k[H];z.changeType==="add"?(z.node&&C(z.node.id),z.link&&E(z.link)):z.changeType==="remove"&&(z.node&&R(z.node),z.link&&P(z.link))}d=r.getNodesCount()}function A(){d=0,r.forEachNode(function(k){C(k.id),d+=1}),r.forEachLink(E)}function C(k){var H=u.get(k);if(!H){var z=r.getNode(k);if(!z)throw new Error("initBody() was called with unknown node id");var Q=z.position;if(!Q){var Z=N(z);Q=a.getBestNewBodyPosition(Z)}H=a.addBodyAt(Q),H.id=k,u.set(k,H),D(k),$(z)&&(H.isPinned=!0)}}function R(k){var H=k.id,z=u.get(H);z&&(u.delete(H),a.removeBody(z))}function E(k){D(k.fromId),D(k.toId);var H=u.get(k.fromId),z=u.get(k.toId),Q=a.addSpring(H,z,k.length);f(k,Q),c[k.id]=Q}function P(k){var H=c[k.id];if(H){var z=r.getNode(k.fromId),Q=r.getNode(k.toId);z&&D(z.id),Q&&D(Q.id),delete c[k.id],a.removeSpring(H)}}function N(k){var H=[];if(!k.links)return H;for(var z=Math.min(k.links.length,2),Q=0;Q<z;++Q){var Z=k.links[Q],ie=Z.fromId!==k.id?u.get(Z.fromId):u.get(Z.toId);ie&&ie.pos&&H.push(ie)}return H}function D(k){var H=u.get(k);if(H.mass=l(k),Number.isNaN(H.mass))throw new Error("Node mass should be a number")}function $(k){return k&&(k.isPinned||k.data&&k.data.isPinned)}function L(k){var H=u.get(k);return H||(C(k),H=u.get(k)),H}function F(k){var H=r.getLinks(k);return H?1+H.length/3:1}function U(k){var H=r.getLinks(k);return H?1+H.size/3:1}}function i(){}return tx.exports}var HLe=zLe();const GLe=wP(HLe);function S2(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function VLe(n){if(Array.isArray(n))return n}function WLe(n){if(Array.isArray(n))return S2(n)}function n7(n,e,i){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function jLe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function KLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function eo(n,e){return n.get(n7(n,e))}function jh(n,e,i){jLe(n,e),e.set(n,i)}function sx(n,e,i){return n.set(n7(n,e),i),i}function XLe(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,iBe(r.key),r)}}function qLe(n,e,i){return XLe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function YLe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function QLe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function ZLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(n,e){return VLe(n)||QLe(n,e)||i7(n,e)||ZLe()}function tBe(n){return WLe(n)||YLe(n)||i7(n)||JLe()}function nBe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function iBe(n){var e=nBe(n,"string");return typeof e=="symbol"?e:e+""}function i7(n,e){if(n){if(typeof n=="string")return S2(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?S2(n,e):void 0}}var Kh=new WeakMap,Rm=new WeakMap,Xh=new WeakMap,_A=new WeakMap,SA=new WeakMap,wA=new WeakMap,rBe=function(){function n(){KLe(this,n),jh(this,Kh,new Map),jh(this,Rm,new Map),jh(this,Xh,function(e){return e}),jh(this,_A,function(){return{}}),jh(this,SA,function(){}),jh(this,wA,function(){})}return qLe(n,[{key:"getObj",value:function(i){return eo(Kh,this).get(eo(Xh,this).call(this,i))}},{key:"getData",value:function(i){return eo(Rm,this).get(i)}},{key:"entries",value:function(){return tBe(eo(Rm,this).entries()).map(function(i){var r=eBe(i,2),o=r[0],s=r[1];return[s,o]})}},{key:"id",value:function(i){return sx(Xh,this,Nt(i)),this}},{key:"onCreateObj",value:function(i){return sx(_A,this,i),this}},{key:"onUpdateObj",value:function(i){return sx(SA,this,i),this}},{key:"onRemoveObj",value:function(i){return sx(wA,this,i),this}},{key:"digest",value:function(i){var r=this;i.filter(function(s){return!eo(Kh,r).has(eo(Xh,r).call(r,s))}).forEach(function(s){var a=eo(_A,r).call(r,s);eo(Kh,r).set(eo(Xh,r).call(r,s),a),eo(Rm,r).set(a,s)});var o=new Map(i.map(function(s){return[eo(Xh,r).call(r,s),s]}));return eo(Kh,this).forEach(function(s,a){o.has(a)?eo(SA,r).call(r,s,o.get(a)):(eo(wA,r).call(r,s,a),eo(Kh,r).delete(a),eo(Rm,r).delete(s))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}();function w2(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function oBe(n){if(Array.isArray(n))return n}function sBe(n){if(Array.isArray(n))return w2(n)}function r7(n,e,i){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function aBe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function o7(n,e,i){return e=Sg(e),gBe(n,sN()?Reflect.construct(e,i||[],Sg(n).constructor):e.apply(n,i))}function lBe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s7(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function CA(n,e){return n.get(r7(n,e))}function xk(n,e,i){lBe(n,e),e.set(n,i)}function _k(n,e,i){return n.set(r7(n,e),i),i}function a7(n,e,i){if(sN())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(n.bind.apply(n,r));return o}function uBe(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,c7(r.key),r)}}function l7(n,e,i){return e&&uBe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gw(n,e,i){return(e=c7(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function C2(){return C2=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,i){var r=mBe(n,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?n:i):o.value}},C2.apply(null,arguments)}function Sg(n){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sg(n)}function u7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&T2(n,e)}function sN(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sN=function(){return!!n})()}function cBe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function dBe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function fBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sk(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function pBe(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(i),!0).forEach(function(r){Gw(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Sk(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function gBe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aBe(n)}function T2(n,e){return T2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},T2(n,e)}function Ev(n,e){return oBe(n)||dBe(n,e)||d7(n,e)||fBe()}function mBe(n,e){for(;!{}.hasOwnProperty.call(n,e)&&(n=Sg(n))!==null;);return n}function TA(n,e,i,r){var o=C2(Sg(n.prototype),e,i);return typeof o=="function"?function(s){return o.apply(i,s)}:o}function Ea(n){return sBe(n)||cBe(n)||d7(n)||hBe()}function vBe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function c7(n){var e=vBe(n,"string");return typeof e=="symbol"?e:e+""}function A2(n){"@babel/helpers - typeof";return A2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A2(n)}function d7(n,e){if(n){if(typeof n=="string")return w2(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?w2(n,e):void 0}}var f7=function(e){e instanceof Array?e.forEach(f7):(e.map&&e.map.dispose(),e.dispose())},h7=function(e){e.geometry&&e.geometry.dispose(),e.material&&f7(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(h7)},E2=function(e){for(;e.children.length;){var i=e.children[0];e.remove(i),h7(i)}},AA=new WeakMap,ax=new WeakMap,Pm=function(n){function e(i){var r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.dataBindAttr,a=s===void 0?"__data":s,l=o.objBindAttr,u=l===void 0?"__threeObj":l;return s7(this,e),r=o7(this,e),Gw(r,"scene",void 0),xk(r,AA,void 0),xk(r,ax,void 0),r.scene=i,_k(AA,r,a),_k(ax,r,u),r.onRemoveObj(function(){}),r}return u7(e,n),l7(e,[{key:"onCreateObj",value:function(r){var o=this;return TA(e,"onCreateObj",this)([function(s){var a=r(s);return s[CA(ax,o)]=a,a[CA(AA,o)]=s,o.scene.add(a),a}]),this}},{key:"onRemoveObj",value:function(r){var o=this;return TA(e,"onRemoveObj",this)([function(s,a){var l=TA(e,"getData",o)([s]);r(s,a),o.scene.remove(s),E2(s),delete l[CA(ax,o)]}]),this}}])}(rBe),Im=function(e){return isNaN(e)?parseInt(Bt(e).toHex(),16):e},EA=function(e){return isNaN(e)?Bt(e).getAlpha():1},yBe=bI(s9);function wk(n,e,i){!e||typeof i!="string"||n.filter(function(r){return!r[i]}).forEach(function(r){r[i]=yBe(e(r))})}function bBe(n,e){var i=n.nodes,r=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.nodeFilter,a=s===void 0?function(){return!0}:s,l=o.onLoopError,u=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,c={};i.forEach(function(p){return c[e(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),r.forEach(function(p){var v=p.source,b=p.target,y=w(v),m=w(b);if(!c.hasOwnProperty(y))throw"Missing source node with id: ".concat(y);if(!c.hasOwnProperty(m))throw"Missing target node with id: ".concat(m);var _=c[y],S=c[m];_.out.push(S);function w(T){return A2(T)==="object"?e(T):T}});var d=[];h(Object.values(c));var f=Object.assign.apply(Object,[{}].concat(Ea(Object.entries(c).filter(function(p){var v=Ev(p,2),b=v[1];return!b.skip}).map(function(p){var v=Ev(p,2),b=v[0],y=v[1];return Gw({},b,y.depth)}))));return f;function h(p){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=function(){var w=p[m];if(v.indexOf(w)!==-1){var T=[].concat(Ea(v.slice(v.indexOf(w))),[w]).map(function(A){return e(A.data)});return d.some(function(A){return A.length===T.length&&A.every(function(C,R){return C===T[R]})})||(d.push(T),u(T)),1}b>w.depth&&(w.depth=b,h(w.out,[].concat(Ea(v),[w]),b+(w.skip?0:1)))},m=0,_=p.length;m<_;m++)y()}}var Gt=window.THREE?window.THREE:{Group:dp,Mesh:Lr,MeshLambertMaterial:U9,Color:Lt,BufferGeometry:co,BufferAttribute:Wr,Matrix4:Mn,Vector3:me,SphereGeometry:Zy,CylinderGeometry:Uw,TubeGeometry:tN,ConeGeometry:eN,Line:JPe,LineBasicMaterial:$w,QuadraticBezierCurve3:JI,CubicBezierCurve3:F9,Box3:th},Ck={graph:ILe,forcelayout:GLe},xBe=2,MA=new Gt.BufferGeometry().setAttribute?"setAttribute":"addAttribute",lx=new Gt.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",_Be=Pg({props:{jsonUrl:{onChange:function(e,i){var r=this;e&&!i.fetchingJson&&(i.fetchingJson=!0,i.onLoading(),fetch(e).then(function(o){return o.json()}).then(function(o){i.fetchingJson=!1,i.onFinishLoading(o),r.graphData(o)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,i){i.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,i){var r=i.d3ForceLayout.force("charge");r&&r.strength(e>2?-60:-30),e<3&&o(i.graphData.nodes,"z"),e<2&&o(i.graphData.nodes,"y");function o(s,a){s.forEach(function(l){delete l[a],delete l["v".concat(a)]})}}},dagMode:{onChange:function(e,i){!e&&i.forceEngine==="d3"&&(i.graphData.nodes||[]).forEach(function(r){return r.fx=r.fy=r.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,i){i.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,i){i.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,i){i.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,i,r){return r===void 0?e.d3ForceLayout.force(i):(e.d3ForceLayout.force(i,r),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var i=e.forceEngine!=="ngraph";return e.engineRunning&&r(),o(),s(),this;function r(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||i&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[i?"tick":"step"](),e.onEngineTick());var a=Nt(e.nodeThreeObjectExtend);e.nodeDataMapper.entries().forEach(function(h){var p=Ev(h,2),v=p[0],b=p[1];if(b){var y=i?v:e.layout.getNodePosition(v[e.nodeId]),m=a(v);(!e.nodePositionUpdate||!e.nodePositionUpdate(m?b.children[0]:b,{x:y.x,y:y.y,z:y.z},v)||m)&&(b.position.x=y.x,b.position.y=y.y||0,b.position.z=y.z||0)}});var l=Nt(e.linkWidth),u=Nt(e.linkCurvature),c=Nt(e.linkCurveRotation),d=Nt(e.linkThreeObjectExtend);e.linkDataMapper.entries().forEach(function(h){var p=Ev(h,2),v=p[0],b=p[1];if(b){var y=i?v:e.layout.getLinkPosition(e.layout.graph.getLink(v.source,v.target).id),m=y[i?"source":"from"],_=y[i?"target":"to"];if(!(!m||!_||!m.hasOwnProperty("x")||!_.hasOwnProperty("x"))){f(v);var S=d(v);if(!(e.linkPositionUpdate&&e.linkPositionUpdate(S?b.children[1]:b,{start:{x:m.x,y:m.y,z:m.z},end:{x:_.x,y:_.y,z:_.z}},v)&&!S)){var w=30,T=v.__curve,A=b.children.length?b.children[0]:b;if(A.type==="Line"){if(T){var R=T.getPoints(w);A.geometry.getAttribute("position").array.length!==R.length*3&&A.geometry[MA]("position",new Gt.BufferAttribute(new Float32Array(R.length*3),3)),A.geometry.setFromPoints(R)}else{var C=A.geometry.getAttribute("position");(!C||!C.array||C.array.length!==6)&&A.geometry[MA]("position",C=new Gt.BufferAttribute(new Float32Array(2*3),3)),C.array[0]=m.x,C.array[1]=m.y||0,C.array[2]=m.z||0,C.array[3]=_.x,C.array[4]=_.y||0,C.array[5]=_.z||0,C.needsUpdate=!0}A.geometry.computeBoundingSphere()}else if(A.type==="Mesh")if(T){A.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(A.position.set(0,0,0),A.rotation.set(0,0,0),A.scale.set(1,1,1));var F=Math.ceil(l(v)*10)/10,U=F/2,k=new Gt.TubeGeometry(T,w,U,e.linkResolution,!1);A.geometry.dispose(),A.geometry=k}else{if(!A.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var E=Math.ceil(l(v)*10)/10,P=E/2,N=new Gt.CylinderGeometry(P,P,1,e.linkResolution,1,!1);N[lx](new Gt.Matrix4().makeTranslation(0,1/2,0)),N[lx](new Gt.Matrix4().makeRotationX(Math.PI/2)),A.geometry.dispose(),A.geometry=N}var D=new Gt.Vector3(m.x,m.y||0,m.z||0),$=new Gt.Vector3(_.x,_.y||0,_.z||0),L=D.distanceTo($);A.position.x=D.x,A.position.y=D.y,A.position.z=D.z,A.scale.z=L,A.parent.localToWorld($),A.lookAt($)}}}}});function f(h){var p=i?h:e.layout.getLinkPosition(e.layout.graph.getLink(h.source,h.target).id),v=p[i?"source":"from"],b=p[i?"target":"to"];if(!(!v||!b||!v.hasOwnProperty("x")||!b.hasOwnProperty("x"))){var y=u(h);if(!y)h.__curve=null;else{var m=new Gt.Vector3(v.x,v.y||0,v.z||0),_=new Gt.Vector3(b.x,b.y||0,b.z||0),S=m.distanceTo(_),w,T=c(h);if(S>0){var A=b.x-v.x,C=b.y-v.y||0,R=new Gt.Vector3().subVectors(_,m),E=R.clone().multiplyScalar(y).cross(A!==0||C!==0?new Gt.Vector3(0,0,1):new Gt.Vector3(0,1,0)).applyAxisAngle(R.normalize(),T).add(new Gt.Vector3().addVectors(m,_).divideScalar(2));w=new Gt.QuadraticBezierCurve3(m,E,_)}else{var P=y*70,N=-T,D=N+Math.PI/2;w=new Gt.CubicBezierCurve3(m,new Gt.Vector3(P*Math.cos(D),P*Math.sin(D),0).add(m),new Gt.Vector3(P*Math.cos(N),P*Math.sin(N),0).add(m),_)}h.__curve=w}}}}function o(){var a=Nt(e.linkDirectionalArrowRelPos),l=Nt(e.linkDirectionalArrowLength),u=Nt(e.nodeVal);e.arrowDataMapper.entries().forEach(function(c){var d=Ev(c,2),f=d[0],h=d[1];if(h){var p=i?f:e.layout.getLinkPosition(e.layout.graph.getLink(f.source,f.target).id),v=p[i?"source":"from"],b=p[i?"target":"to"];if(!(!v||!b||!v.hasOwnProperty("x")||!b.hasOwnProperty("x"))){var y=Math.cbrt(Math.max(0,u(v)||1))*e.nodeRelSize,m=Math.cbrt(Math.max(0,u(b)||1))*e.nodeRelSize,_=l(f),S=a(f),w=f.__curve?function(P){return f.__curve.getPoint(P)}:function(P){var N=function($,L,F,U){return L[$]+(F[$]-L[$])*U||0};return{x:N("x",v,b,P),y:N("y",v,b,P),z:N("z",v,b,P)}},T=f.__curve?f.__curve.getLength():Math.sqrt(["x","y","z"].map(function(P){return Math.pow((b[P]||0)-(v[P]||0),2)}).reduce(function(P,N){return P+N},0)),A=y+_+(T-y-m-_)*S,C=w(A/T),R=w((A-_)/T);["x","y","z"].forEach(function(P){return h.position[P]=R[P]});var E=a7(Gt.Vector3,Ea(["x","y","z"].map(function(P){return C[P]})));h.parent.localToWorld(E),h.lookAt(E)}}})}function s(){var a=Nt(e.linkDirectionalParticleSpeed);e.graphData.links.forEach(function(l){var u=e.particlesDataMapper.getObj(l),c=u&&u.children,d=l.__singleHopPhotonsObj&&l.__singleHopPhotonsObj.children;if(!((!d||!d.length)&&(!c||!c.length))){var f=i?l:e.layout.getLinkPosition(e.layout.graph.getLink(l.source,l.target).id),h=f[i?"source":"from"],p=f[i?"target":"to"];if(!(!h||!p||!h.hasOwnProperty("x")||!p.hasOwnProperty("x"))){var v=a(l),b=l.__curve?function(m){return l.__curve.getPoint(m)}:function(m){var _=function(w,T,A,C){return T[w]+(A[w]-T[w])*C||0};return{x:_("x",h,p,m),y:_("y",h,p,m),z:_("z",h,p,m)}},y=[].concat(Ea(c||[]),Ea(d||[]));y.forEach(function(m,_){var S=m.parent.__linkThreeObjType==="singleHopPhotons";if(m.hasOwnProperty("__progressRatio")||(m.__progressRatio=S?0:_/c.length),m.__progressRatio+=v,m.__progressRatio>=1)if(!S)m.__progressRatio=m.__progressRatio%1;else{m.parent.remove(m),E2(m);return}var w=m.__progressRatio,T=b(w);["x","y","z"].forEach(function(A){return m.position[A]=T[A]})})}}})}},emitParticle:function(e,i){if(i&&e.graphData.links.includes(i)){if(!i.__singleHopPhotonsObj){var r=new Gt.Group;r.__linkThreeObjType="singleHopPhotons",i.__singleHopPhotonsObj=r,e.graphScene.add(r)}var o=Nt(e.linkDirectionalParticleWidth),s=Math.ceil(o(i)*10)/10/2,a=e.linkDirectionalParticleResolution,l=new Gt.SphereGeometry(s,a,a),u=Nt(e.linkColor),c=Nt(e.linkDirectionalParticleColor),d=c(i)||u(i)||"#f0f0f0",f=new Gt.Color(Im(d)),h=e.linkOpacity*3,p=new Gt.MeshLambertMaterial({color:f,transparent:!0,opacity:h});i.__singleHopPhotonsObj.add(new Gt.Mesh(l,p))}return this},getGraphBbox:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!e.initialised)return null;var r=function o(s){var a=[];if(s.geometry){s.geometry.computeBoundingBox();var l=new Gt.Box3;l.copy(s.geometry.boundingBox).applyMatrix4(s.matrixWorld),a.push(l)}return a.concat.apply(a,Ea((s.children||[]).filter(function(u){return!u.hasOwnProperty("__graphObjType")||u.__graphObjType==="node"&&i(u.__data)}).map(o)))}(e.graphScene);return r.length?Object.assign.apply(Object,Ea(["x","y","z"].map(function(o){return Gw({},o,[i2(r,function(s){return s.min[o]}),n2(r,function(s){return s.max[o]})])}))):null}},stateInit:function(){return{d3ForceLayout:t9().force("link",e9()).force("charge",n9()).force("center",KW()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,i){i.graphScene=e,i.nodeDataMapper=new Pm(e,{objBindAttr:"__threeObj"}),i.linkDataMapper=new Pm(e,{objBindAttr:"__lineObj"}),i.arrowDataMapper=new Pm(e,{objBindAttr:"__arrowObj"}),i.particlesDataMapper=new Pm(e,{objBindAttr:"__photonsObj"})},update:function(e,i){var r=function(se){return se.some(function(ee){return i.hasOwnProperty(ee)})};if(e.engineRunning=!1,typeof e.onUpdate=="function"&&e.onUpdate(),e.nodeAutoColorBy!==null&&r(["nodeAutoColorBy","graphData","nodeColor"])&&wk(e.graphData.nodes,Nt(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&r(["linkAutoColorBy","graphData","linkColor"])&&wk(e.graphData.links,Nt(e.linkAutoColorBy),e.linkColor),e._flushObjects||r(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var o=Nt(e.nodeThreeObject),s=Nt(e.nodeThreeObjectExtend),a=Nt(e.nodeVal),l=Nt(e.nodeColor),u=Nt(e.nodeVisibility),c={},d={};(e._flushObjects||r(["nodeThreeObject","nodeThreeObjectExtend"]))&&e.nodeDataMapper.clear(),e.nodeDataMapper.onCreateObj(function(J){var se=o(J),ee=s(J);se&&e.nodeThreeObject===se&&(se=se.clone());var ne;return se&&!ee?ne=se:(ne=new Gt.Mesh,ne.__graphDefaultObj=!0,se&&ee&&ne.add(se)),ne.__graphObjType="node",ne}).onUpdateObj(function(J,se){if(J.__graphDefaultObj){var ee=a(se)||1,ne=Math.cbrt(ee)*e.nodeRelSize,ue=e.nodeResolution;(!J.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||J.geometry.parameters.radius!==ne||J.geometry.parameters.widthSegments!==ue)&&(c.hasOwnProperty(ee)||(c[ee]=new Gt.SphereGeometry(ne,ue,ue)),J.geometry.dispose(),J.geometry=c[ee]);var Y=l(se),le=new Gt.Color(Im(Y||"#ffffaa")),he=e.nodeOpacity*EA(Y);(J.material.type!=="MeshLambertMaterial"||!J.material.color.equals(le)||J.material.opacity!==he)&&(d.hasOwnProperty(Y)||(d[Y]=new Gt.MeshLambertMaterial({color:le,transparent:!0,opacity:he})),J.material.dispose(),J.material=d[Y])}}).digest(e.graphData.nodes.filter(u))}if(e._flushObjects||r(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var f=Nt(e.linkThreeObject),h=Nt(e.linkThreeObjectExtend),p=Nt(e.linkMaterial),v=Nt(e.linkVisibility),b=Nt(e.linkColor),y=Nt(e.linkWidth),m={},_={},S={},w=e.graphData.links.filter(v);if((e._flushObjects||r(["linkThreeObject","linkThreeObjectExtend","linkWidth"]))&&e.linkDataMapper.clear(),e.linkDataMapper.onRemoveObj(function(J){var se=J.__data&&J.__data.__singleHopPhotonsObj;se&&(se.parent.remove(se),E2(se),delete J.__data.__singleHopPhotonsObj)}).onCreateObj(function(J){var se=f(J),ee=h(J);se&&e.linkThreeObject===se&&(se=se.clone());var ne;if(!se||ee){var ue=!!y(J);if(ue)ne=new Gt.Mesh;else{var Y=new Gt.BufferGeometry;Y[MA]("position",new Gt.BufferAttribute(new Float32Array(2*3),3)),ne=new Gt.Line(Y)}}var le;return se?ee?(le=new Gt.Group,le.__graphDefaultObj=!0,le.add(ne),le.add(se)):le=se:(le=ne,le.__graphDefaultObj=!0),le.renderOrder=10,le.__graphObjType="link",le}).onUpdateObj(function(J,se){if(J.__graphDefaultObj){var ee=J.children.length?J.children[0]:J,ne=Math.ceil(y(se)*10)/10,ue=!!ne;if(ue){var Y=ne/2,le=e.linkResolution;if(!ee.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||ee.geometry.parameters.radiusTop!==Y||ee.geometry.parameters.radialSegments!==le){if(!m.hasOwnProperty(ne)){var he=new Gt.CylinderGeometry(Y,Y,1,le,1,!1);he[lx](new Gt.Matrix4().makeTranslation(0,1/2,0)),he[lx](new Gt.Matrix4().makeRotationX(Math.PI/2)),m[ne]=he}ee.geometry.dispose(),ee.geometry=m[ne]}}var W=p(se);if(W)ee.material=W;else{var X=b(se),V=new Gt.Color(Im(X||"#f0f0f0")),Ce=e.linkOpacity*EA(X),pe=ue?"MeshLambertMaterial":"LineBasicMaterial";if(ee.material.type!==pe||!ee.material.color.equals(V)||ee.material.opacity!==Ce){var Se=ue?_:S;Se.hasOwnProperty(X)||(Se[X]=new Gt[pe]({color:V,transparent:Ce<1,opacity:Ce,depthWrite:Ce>=1})),ee.material.dispose(),ee.material=Se[X]}}}}).digest(w),e.linkDirectionalArrowLength||i.hasOwnProperty("linkDirectionalArrowLength")){var T=Nt(e.linkDirectionalArrowLength),A=Nt(e.linkDirectionalArrowColor);e.arrowDataMapper.onCreateObj(function(){var J=new Gt.Mesh(void 0,new Gt.MeshLambertMaterial({transparent:!0}));return J.__linkThreeObjType="arrow",J}).onUpdateObj(function(J,se){var ee=T(se),ne=e.linkDirectionalArrowResolution;if(!J.geometry.type.match(/^Cone(Buffer)?Geometry$/)||J.geometry.parameters.height!==ee||J.geometry.parameters.radialSegments!==ne){var ue=new Gt.ConeGeometry(ee*.25,ee,ne);ue.translate(0,ee/2,0),ue.rotateX(Math.PI/2),J.geometry.dispose(),J.geometry=ue}var Y=A(se)||b(se)||"#f0f0f0";J.material.color=new Gt.Color(Im(Y)),J.material.opacity=e.linkOpacity*3*EA(Y)}).digest(w.filter(T))}if(e.linkDirectionalParticles||i.hasOwnProperty("linkDirectionalParticles")){var C=Nt(e.linkDirectionalParticles),R=Nt(e.linkDirectionalParticleWidth),E=Nt(e.linkDirectionalParticleColor),P={},N={};e.particlesDataMapper.onCreateObj(function(){var J=new Gt.Group;return J.__linkThreeObjType="photons",J.__photonDataMapper=new Pm(J),J}).onUpdateObj(function(J,se){var ee=Math.round(Math.abs(C(se))),ne=!!J.children.length&&J.children[0],ue=Math.ceil(R(se)*10)/10/2,Y=e.linkDirectionalParticleResolution,le;ne&&ne.geometry.parameters.radius===ue&&ne.geometry.parameters.widthSegments===Y?le=ne.geometry:(N.hasOwnProperty(ue)||(N[ue]=new Gt.SphereGeometry(ue,Y,Y)),le=N[ue],ne&&ne.geometry.dispose());var he=E(se)||b(se)||"#f0f0f0",W=new Gt.Color(Im(he)),X=e.linkOpacity*3,V;ne&&ne.material.color.equals(W)&&ne.material.opacity===X?V=ne.material:(P.hasOwnProperty(he)||(P[he]=new Gt.MeshLambertMaterial({color:W,transparent:!0,opacity:X})),V=P[he],ne&&ne.material.dispose()),J.__photonDataMapper.id(function(Ce){return Ce.idx}).onCreateObj(function(){return new Gt.Mesh(le,V)}).onUpdateObj(function(Ce){Ce.geometry=le,Ce.material=V}).digest(Ea(new Array(ee)).map(function(Ce,pe){return{idx:pe}}))}).digest(w.filter(C))}}if(e._flushObjects=!1,r(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(J){J.source=J[e.linkSource],J.target=J[e.linkTarget]});var D=e.forceEngine!=="ngraph",$;if(D){($=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var L=e.d3ForceLayout.force("link");L&&L.id(function(J){return J[e.nodeId]}).links(e.graphData.links);var F=e.dagMode&&bBe(e.graphData,function(J){return J[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),U=Math.max.apply(Math,Ea(Object.values(F||[]))),k=e.dagLevelDistance||e.graphData.nodes.length/(U||1)*xBe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu","zin","zout"].includes(i.dagMode)){var H=["lr","rl"].includes(i.dagMode)?"fx":["td","bu"].includes(i.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(J){return delete J[H]})}if(["lr","rl","td","bu","zin","zout"].includes(e.dagMode)){var z=["rl","td","zout"].includes(e.dagMode),Q=function(se){return(F[se[e.nodeId]]-U/2)*k*(z?-1:1)},Z=["lr","rl"].includes(e.dagMode)?"fx":["td","bu"].includes(e.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(J){return J[Z]=Q(J)})}e.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?i9(function(J){var se=F[J[e.nodeId]]||-1;return(e.dagMode==="radialin"?U-se:se)*k}).strength(function(J){return e.dagNodeFilter(J)?1:0}):null)}else{var ie=Ck.graph();e.graphData.nodes.forEach(function(J){ie.addNode(J[e.nodeId])}),e.graphData.links.forEach(function(J){ie.addLink(J.source,J.target)}),$=Ck.forcelayout(ie,pBe({dimensions:e.numDimensions},e.ngraphPhysics)),$.graph=ie}for(var we=0;we<e.warmupTicks&&!(D&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);we++)$[D?"tick":"step"]();e.layout=$,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function SBe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=function(o){function s(){var a;s7(this,s);for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=o7(this,s,[].concat(u)),a.__kapsuleInstance=a7(n,[].concat(Ea(i?[a]:[]),u)),a}return u7(s,o),l7(s)}(e);return Object.keys(n()).forEach(function(o){return r.prototype[o]=function(){var s,a=(s=this.__kapsuleInstance)[o].apply(s,arguments);return a===this.__kapsuleInstance?this:a}}),r}var wBe=window.THREE?window.THREE:{Group:dp},p7=SBe(_Be,wBe.Group,!0);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const CBe=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveMap","envMap","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"];class TBe{constructor(e){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(e),this.hasAnimation=e.object.isSkinnedMesh===!0,this.refreshUniforms=CBe,this.renderId=0}firstInitialization(e){return this.renderObjects.has(e)===!1?(this.getRenderObjectData(e),!0):!1}getRenderObjectData(e){let i=this.renderObjects.get(e);if(i===void 0){const{geometry:r,material:o,object:s}=e;if(i={material:this.getMaterialData(o),geometry:{attributes:this.getAttributesData(r.attributes),indexVersion:r.index?r.index.version:null,drawRange:{start:r.drawRange.start,count:r.drawRange.count}},worldMatrix:s.matrixWorld.clone()},s.center&&(i.center=s.center.clone()),s.morphTargetInfluences&&(i.morphTargetInfluences=s.morphTargetInfluences.slice()),e.bundle!==null&&(i.version=e.bundle.version),i.material.transmission>0){const{width:a,height:l}=e.context;i.bufferWidth=a,i.bufferHeight=l}this.renderObjects.set(e,i)}return i}getAttributesData(e){const i={};for(const r in e){const o=e[r];i[r]={version:o.version}}return i}containsNode(e){const i=e.material;for(const r in i)if(i[r]&&i[r].isNode)return!0;return e.renderer.nodes.modelViewMatrix!==null||e.renderer.nodes.modelNormalViewMatrix!==null}getMaterialData(e){const i={};for(const r of this.refreshUniforms){const o=e[r];o!=null&&(typeof o=="object"&&o.clone!==void 0?o.isTexture===!0?i[r]={id:o.id,version:o.version}:i[r]=o.clone():i[r]=o)}return i}equals(e){const{object:i,material:r,geometry:o}=e,s=this.getRenderObjectData(e);if(s.worldMatrix.equals(i.matrixWorld)!==!0)return s.worldMatrix.copy(i.matrixWorld),!1;const a=s.material;for(const b in a){const y=a[b],m=r[b];if(y.equals!==void 0){if(y.equals(m)===!1)return y.copy(m),!1}else if(m.isTexture===!0){if(y.id!==m.id||y.version!==m.version)return y.id=m.id,y.version=m.version,!1}else if(y!==m)return a[b]=m,!1}if(a.transmission>0){const{width:b,height:y}=e.context;if(s.bufferWidth!==b||s.bufferHeight!==y)return s.bufferWidth=b,s.bufferHeight=y,!1}const l=s.geometry,u=o.attributes,c=l.attributes,d=Object.keys(c),f=Object.keys(u);if(d.length!==f.length)return s.geometry.attributes=this.getAttributesData(u),!1;for(const b of d){const y=c[b],m=u[b];if(m===void 0)return delete c[b],!1;if(y.version!==m.version)return y.version=m.version,!1}const h=o.index,p=l.indexVersion,v=h?h.version:null;if(p!==v)return l.indexVersion=v,!1;if(l.drawRange.start!==o.drawRange.start||l.drawRange.count!==o.drawRange.count)return l.drawRange.start=o.drawRange.start,l.drawRange.count=o.drawRange.count,!1;if(s.morphTargetInfluences){let b=!1;for(let y=0;y<s.morphTargetInfluences.length;y++)s.morphTargetInfluences[y]!==i.morphTargetInfluences[y]&&(b=!0);if(b)return!0}return s.center&&s.center.equals(i.center)===!1?(s.center.copy(i.center),!0):(e.bundle!==null&&(s.version=e.bundle.version),!0)}needsRefresh(e,i){if(this.hasNode||this.hasAnimation||this.firstInitialization(e))return!0;const{renderId:r}=i;if(this.renderId!==r)return this.renderId=r,!0;const o=e.object.static===!0,s=e.bundle!==null&&e.bundle.static===!0&&this.getRenderObjectData(e).version===e.bundle.version;return o||s?!1:this.equals(e)!==!0}}function xy(n,e=0){let i=3735928559^e,r=1103547991^e;if(n instanceof Array)for(let o=0,s;o<n.length;o++)s=n[o],i=Math.imul(i^s,2654435761),r=Math.imul(r^s,1597334677);else for(let o=0,s;o<n.length;o++)s=n.charCodeAt(o),i=Math.imul(i^s,2654435761),r=Math.imul(r^s,1597334677);return i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(i^i>>>13,3266489909),4294967296*(2097151&r)+(i>>>0)}const ABe=n=>xy(n),aN=n=>xy(n),lN=(...n)=>xy(n);function g7(n,e=!1){const i=[];n.isNode===!0&&(i.push(n.id),n=n.getSelf());for(const{property:r,childNode:o}of mS(n))i.push(i,xy(r.slice(0,-4)),o.getCacheKey(e));return xy(i)}function*mS(n,e=!1){for(const i in n){if(i.startsWith("_")===!0)continue;const r=n[i];if(Array.isArray(r)===!0)for(let o=0;o<r.length;o++){const s=r[o];s&&(s.isNode===!0||e&&typeof s.toJSON=="function")&&(yield{property:i,index:o,childNode:s})}else if(r&&r.isNode===!0)yield{property:i,childNode:r};else if(typeof r=="object")for(const o in r){const s=r[o];s&&(s.isNode===!0||e&&typeof s.toJSON=="function")&&(yield{property:i,index:o,childNode:s})}}}const EBe=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),Tk=new WeakMap;function MBe(n){return EBe.get(n)}function vS(n){if(n==null)return null;const e=typeof n;return n.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":n.isVector2===!0?"vec2":n.isVector3===!0?"vec3":n.isVector4===!0?"vec4":n.isMatrix3===!0?"mat3":n.isMatrix4===!0?"mat4":n.isColor===!0?"color":n instanceof ArrayBuffer?"ArrayBuffer":null}function m7(n,...e){const i=n?n.slice(-4):void 0;return e.length===1&&(i==="vec2"?e=[e[0],e[0]]:i==="vec3"?e=[e[0],e[0],e[0]]:i==="vec4"&&(e=[e[0],e[0],e[0],e[0]])),n==="color"?new Lt(...e):i==="vec2"?new dt(...e):i==="vec3"?new me(...e):i==="vec4"?new dn(...e):i==="mat3"?new Kt(...e):i==="mat4"?new Mn(...e):n==="bool"?e[0]||!1:n==="float"||n==="int"||n==="uint"?e[0]||0:n==="string"?e[0]||"":n==="ArrayBuffer"?PBe(e[0]):null}function v7(n){let e=Tk.get(n);return e===void 0&&(e={},Tk.set(n,e)),e}function RBe(n){let e="";const i=new Uint8Array(n);for(let r=0;r<i.length;r++)e+=String.fromCharCode(i[r]);return btoa(e)}function PBe(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0)).buffer}const Ak={VERTEX:"vertex",FRAGMENT:"fragment"},Cn={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},Eu={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},IBe=["fragment","vertex"],Ek=["setup","analyze","generate"],Mk=[...IBe,"compute"],$g=["x","y","z","w"];let NBe=0;class fn extends Ju{static get type(){return"Node"}constructor(e=null){super(),this.nodeType=e,this.updateType=Cn.NONE,this.updateBeforeType=Cn.NONE,this.updateAfterType=Cn.NONE,this.uuid=fS.generateUUID(),this.version=0,this.global=!1,this.isNode=!0,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:NBe++})}set needsUpdate(e){e===!0&&this.version++}get type(){return this.constructor.type}onUpdate(e,i){return this.updateType=i,this.update=e.bind(this.getSelf()),this}onFrameUpdate(e){return this.onUpdate(e,Cn.FRAME)}onRenderUpdate(e){return this.onUpdate(e,Cn.RENDER)}onObjectUpdate(e){return this.onUpdate(e,Cn.OBJECT)}onReference(e){return this.updateReference=e.bind(this.getSelf()),this}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:e}of mS(this))yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const i of this.getChildren())i.traverse(e)}getCacheKey(e=!1){return e=e||this.version!==this._cacheKeyVersion,(e===!0||this._cacheKey===null)&&(this._cacheKey=lN(g7(this,e),this.customCacheKey()),this._cacheKeyVersion=this.version),this._cacheKey}customCacheKey(){return 0}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(e){const i=this.getNodeType(e);return e.getElementType(i)}getNodeType(e){const i=e.getNodeProperties(this);return i.outputNode?i.outputNode.getNodeType(e):this.nodeType}getShared(e){const i=this.getHash(e);return e.getNodeFromHash(i)||this}setup(e){const i=e.getNodeProperties(this);let r=0;for(const o of this.getChildren())i["node"+r++]=o;return i.outputNode||null}analyze(e){if(e.increaseUsage(this)===1){const r=e.getNodeProperties(this);for(const o of Object.values(r))o&&o.isNode===!0&&o.build(e)}}generate(e,i){const{outputNode:r}=e.getNodeProperties(this);if(r&&r.isNode===!0)return r.build(e,i)}updateBefore(){console.warn("Abstract function.")}updateAfter(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(e,i=null){const r=this.getShared(e);if(this!==r)return r.build(e,i);e.addNode(this),e.addChain(this);let o=null;const s=e.getBuildStage();if(s==="setup"){this.updateReference(e);const a=e.getNodeProperties(this);if(a.initialized!==!0){a.initialized=!0;const l=this.setup(e),u=l&&l.isNode===!0;for(const c of Object.values(a))c&&c.isNode===!0&&c.build(e);u&&l.build(e),a.outputNode=l}}else if(s==="analyze")this.analyze(e);else if(s==="generate")if(this.generate.length===1){const l=this.getNodeType(e),u=e.getDataFromNode(this);o=u.snippet,o===void 0?(o=this.generate(e)||"",u.snippet=o):u.flowCodes!==void 0&&e.context.nodeBlock!==void 0&&e.addFlowCodeHierarchy(this,e.context.nodeBlock),o=e.format(o,l,i)}else o=this.generate(e,i)||"";return e.removeChain(this),e.addSequentialNode(this),o}getSerializeChildren(){return mS(this)}serialize(e){const i=this.getSerializeChildren(),r={};for(const{property:o,index:s,childNode:a}of i)s!==void 0?(r[o]===void 0&&(r[o]=Number.isInteger(s)?[]:{}),r[o][s]=a.toJSON(e.meta).uuid):r[o]=a.toJSON(e.meta).uuid;Object.keys(r).length>0&&(e.inputNodes=r)}deserialize(e){if(e.inputNodes!==void 0){const i=e.meta.nodes;for(const r in e.inputNodes)if(Array.isArray(e.inputNodes[r])){const o=[];for(const s of e.inputNodes[r])o.push(i[s]);this[r]=o}else if(typeof e.inputNodes[r]=="object"){const o={};for(const s in e.inputNodes[r]){const a=e.inputNodes[r][s];o[s]=i[a]}this[r]=o}else{const o=e.inputNodes[r];this[r]=i[o]}}}toJSON(e){const{uuid:i,type:r}=this,o=e===void 0||typeof e=="string";o&&(e={textures:{},images:{},nodes:{}});let s=e.nodes[i];s===void 0&&(s={uuid:i,type:r,meta:e,metadata:{version:4.6,type:"Node",generator:"Node.toJSON"}},o!==!0&&(e.nodes[s.uuid]=s),this.serialize(s),delete s.meta);function a(l){const u=[];for(const c in l){const d=l[c];delete d.metadata,u.push(d)}return u}if(o){const l=a(e.textures),u=a(e.images),c=a(e.nodes);l.length>0&&(s.textures=l),u.length>0&&(s.images=u),c.length>0&&(s.nodes=c)}return s}}class e0 extends fn{static get type(){return"ArrayElementNode"}constructor(e,i){super(),this.node=e,this.indexNode=i,this.isArrayElementNode=!0}getNodeType(e){return this.node.getElementType(e)}generate(e){const i=this.node.build(e),r=this.indexNode.build(e,"uint");return`${i}[ ${r} ]`}}class y7 extends fn{static get type(){return"ConvertNode"}constructor(e,i){super(),this.node=e,this.convertTo=i}getNodeType(e){const i=this.node.getNodeType(e);let r=null;for(const o of this.convertTo.split("|"))(r===null||e.getTypeLength(i)===e.getTypeLength(o))&&(r=o);return r}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,i){const r=this.node,o=this.getNodeType(e),s=r.build(e,o);return e.format(s,o,i)}}class Ar extends fn{static get type(){return"TempNode"}constructor(e=null){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).usageCount>1}build(e,i){if(e.getBuildStage()==="generate"){const o=e.getVectorType(this.getNodeType(e,i)),s=e.getDataFromNode(this);if(s.propertyName!==void 0)return e.format(s.propertyName,o,i);if(o!=="void"&&i!=="void"&&this.hasDependencies(e)){const a=super.build(e,o),l=e.getVarFromNode(this,null,o),u=e.getPropertyName(l);return e.addLineFlowCode(`${u} = ${a}`,this),s.snippet=a,s.propertyName=u,e.format(s.propertyName,o,i)}}return super.build(e,i)}}class OBe extends Ar{static get type(){return"JoinNode"}constructor(e=[],i=null){super(i),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((i,r)=>i+e.getTypeLength(r.getNodeType(e)),0))}generate(e,i){const r=this.getNodeType(e),o=this.nodes,s=e.getComponentType(r),a=[];for(const u of o){let c=u.build(e);const d=e.getComponentType(u.getNodeType(e));d!==s&&(c=e.format(c,d,s)),a.push(c)}const l=`${e.getType(r)}( ${a.join(", ")} )`;return e.format(l,r,i)}}const DBe=$g.join("");class Rk extends fn{static get type(){return"SplitNode"}constructor(e,i="x"){super(),this.node=e,this.components=i,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const i of this.components)e=Math.max($g.indexOf(i)+1,e);return e}getComponentType(e){return e.getComponentType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getComponentType(e))}generate(e,i){const r=this.node,o=e.getTypeLength(r.getNodeType(e));let s=null;if(o>1){let a=null;this.getVectorLength()>=o&&(a=e.getTypeFromLength(this.getVectorLength(),this.getComponentType(e)));const u=r.build(e,a);this.components.length===o&&this.components===DBe.slice(0,this.components.length)?s=e.format(u,a,i):s=e.format(`${u}.${this.components}`,this.getNodeType(e),i)}else s=r.build(e,i);return s}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}class LBe extends Ar{static get type(){return"SetNode"}constructor(e,i,r){super(),this.sourceNode=e,this.components=i,this.targetNode=r}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:i,components:r,targetNode:o}=this,s=this.getNodeType(e),a=e.getComponentType(o.getNodeType(e)),l=e.getTypeFromLength(r.length,a),u=o.build(e,l),c=i.build(e,s),d=e.getTypeLength(s),f=[];for(let h=0;h<d;h++){const p=$g[h];p===r[0]?(f.push(u),h+=r.length-1):f.push(c+"."+p)}return`${e.getType(s)}( ${f.join(", ")} )`}}class BBe extends Ar{static get type(){return"FlipNode"}constructor(e,i){super(),this.sourceNode=e,this.components=i}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{components:i,sourceNode:r}=this,o=this.getNodeType(e),s=r.build(e),a=e.getVarFromNode(this),l=e.getPropertyName(a);e.addLineFlowCode(l+" = "+s,this);const u=e.getTypeLength(o),c=[];let d=0;for(let f=0;f<u;f++){const h=$g[f];h===i[d]?(c.push("1.0 - "+(l+"."+h)),d++):c.push(l+"."+h)}return`${e.getType(o)}( ${c.join(", ")} )`}}class uN extends fn{static get type(){return"InputNode"}constructor(e,i=null){super(i),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?vS(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=vS(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=RBe(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?m7(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){console.warn("Abstract function.")}}class tc extends uN{static get type(){return"ConstNode"}constructor(e,i=null){super(e,i),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,i){const r=this.getNodeType(e);return e.format(this.generateConst(e),r,i)}}let wg=null;const hp=new Map;function Qe(n,e){if(hp.has(n)){console.warn(`Redefinition of method chaining ${n}`);return}if(typeof e!="function")throw new Error(`Node element ${n} is not a function`);hp.set(n,e)}const b7=n=>n.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),Pk=n=>b7(n).split("").sort().join(""),x7={setup(n,e){const i=e.shift();return n(jw(i),...e)},get(n,e,i){if(typeof e=="string"&&n[e]===void 0){if(n.isStackNode!==!0&&e==="assign")return(...r)=>(wg.assign(i,...r),i);if(hp.has(e)){const r=hp.get(e);return n.isStackNode?(...o)=>i.add(r(...o)):(...o)=>r(i,...o)}else{if(e==="self")return n;if(e.endsWith("Assign")&&hp.has(e.slice(0,e.length-6))){const r=hp.get(e.slice(0,e.length-6));return n.isStackNode?(...o)=>i.assign(o[0],r(...o)):(...o)=>i.assign(r(i,...o))}else{if(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0)return e=b7(e),mt(new Rk(i,e));if(/^set[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=Pk(e.slice(3).toLowerCase()),r=>mt(new LBe(n,e,r));if(/^flip[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=Pk(e.slice(4).toLowerCase()),()=>mt(new BBe(mt(n),e));if(e==="width"||e==="height"||e==="depth")return e==="width"?e="x":e==="height"?e="y":e==="depth"&&(e="z"),mt(new Rk(n,e));if(/^\d+$/.test(e)===!0)return mt(new e0(i,new tc(Number(e),"uint")))}}}return Reflect.get(n,e,i)},set(n,e,i,r){return typeof e=="string"&&n[e]===void 0&&(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0||e==="width"||e==="height"||e==="depth"||/^\d+$/.test(e)===!0)?(r[e].assign(i),!0):Reflect.set(n,e,i,r)}},RA=new WeakMap,Ik=new WeakMap,FBe=function(n,e=null){const i=vS(n);if(i==="node"){let r=RA.get(n);return r===void 0&&(r=new Proxy(n,x7),RA.set(n,r),RA.set(r,r)),r}else{if(e===null&&(i==="float"||i==="boolean")||i&&i!=="shader"&&i!=="string")return mt(M2(n,e));if(i==="shader")return vt(n)}return n},$Be=function(n,e=null){for(const i in n)n[i]=mt(n[i],e);return n},UBe=function(n,e=null){const i=n.length;for(let r=0;r<i;r++)n[r]=mt(n[r],e);return n},kBe=function(n,e=null,i=null,r=null){const o=s=>mt(r!==null?Object.assign(s,r):s);return e===null?(...s)=>o(new n(...Bp(s))):i!==null?(i=mt(i),(...s)=>o(new n(e,...Bp(s),i))):(...s)=>o(new n(e,...Bp(s)))},zBe=function(n,...e){return mt(new n(...Bp(e)))};class HBe extends fn{constructor(e,i){super(),this.shaderNode=e,this.inputNodes=i}getNodeType(e){return this.shaderNode.nodeType||this.getOutputNode(e).getNodeType(e)}call(e){const{shaderNode:i,inputNodes:r}=this,o=e.getNodeProperties(i);if(o.onceOutput)return o.onceOutput;let s=null;if(i.layout){let a=Ik.get(e.constructor);a===void 0&&(a=new WeakMap,Ik.set(e.constructor,a));let l=a.get(i);l===void 0&&(l=mt(e.buildFunctionNode(i)),a.set(i,l)),e.currentFunctionNode!==null&&e.currentFunctionNode.includes.push(l),s=mt(l.call(r))}else{const a=i.jsFunc,l=r!==null?a(r,e):a(e);s=mt(l)}return i.once&&(o.onceOutput=s),s}getOutputNode(e){const i=e.getNodeProperties(this);return i.outputNode===null&&(i.outputNode=this.setupOutput(e)),i.outputNode}setup(e){return this.getOutputNode(e)}setupOutput(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}generate(e,i){return this.getOutputNode(e).build(e,i)}}class GBe extends fn{constructor(e,i){super(i),this.jsFunc=e,this.layout=null,this.global=!0,this.once=!1}setLayout(e){return this.layout=e,this}call(e=null){return jw(e),mt(new HBe(this,e))}setup(){return this.call()}}const VBe=[!1,!0],WBe=[0,1,2,3],jBe=[-1,-2],_7=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],cN=new Map;for(const n of VBe)cN.set(n,new tc(n));const dN=new Map;for(const n of WBe)dN.set(n,new tc(n,"uint"));const fN=new Map([...dN].map(n=>new tc(n.value,"int")));for(const n of jBe)fN.set(n,new tc(n,"int"));const Vw=new Map([...fN].map(n=>new tc(n.value)));for(const n of _7)Vw.set(n,new tc(n));for(const n of _7)Vw.set(-n,new tc(-n));const Ww={bool:cN,uint:dN,ints:fN,float:Vw},Nk=new Map([...cN,...Vw]),M2=(n,e)=>Nk.has(n)?Nk.get(n):n.isNode===!0?n:new tc(n,e),KBe=n=>{try{return n.getNodeType()}catch{return}},pr=function(n,e=null){return(...i)=>{if((i.length===0||!["bool","float","int","uint"].includes(n)&&i.every(o=>typeof o!="object"))&&(i=[m7(n,...i)]),i.length===1&&e!==null&&e.has(i[0]))return mt(e.get(i[0]));if(i.length===1){const o=M2(i[0],n);return KBe(o)===n?mt(o):mt(new y7(o,n))}const r=i.map(o=>M2(o));return mt(new OBe(r,n))}},Ok=n=>typeof n=="object"&&n!==null?n.value:n,XBe=n=>n!=null?n.nodeType||n.convertTo||(typeof n=="string"?n:null):null;function o_(n,e){return new Proxy(new GBe(n,e),x7)}const mt=(n,e=null)=>FBe(n,e),jw=(n,e=null)=>new $Be(n,e),Bp=(n,e=null)=>new UBe(n,e),at=(...n)=>new kBe(...n),xt=(...n)=>new zBe(...n),vt=(n,e)=>{const i=new o_(n,e),r=(...o)=>{let s;return jw(o),o[0]&&o[0].isNode?s=[...o]:s=o[0],i.call(s)};return r.shaderNode=i,r.setLayout=o=>(i.setLayout(o),r),r.once=()=>(i.once=!0,r),r};Qe("toGlobal",n=>(n.global=!0,n));const yS=n=>{wg=n},S7=()=>wg,fr=(...n)=>wg.If(...n);function qBe(n){return wg&&wg.add(n),n}Qe("append",qBe);const YBe=new pr("color"),Ze=new pr("float",Ww.float),Vi=new pr("int",Ww.ints),QBe=new pr("uint",Ww.uint),w7=new pr("bool",Ww.bool),_t=new pr("vec2"),gu=new pr("ivec2"),ZBe=new pr("uvec2"),JBe=new pr("bvec2"),et=new pr("vec3"),eFe=new pr("ivec3"),tFe=new pr("uvec3"),nFe=new pr("bvec3"),rn=new pr("vec4"),iFe=new pr("ivec4"),rFe=new pr("uvec4"),oFe=new pr("bvec4"),hN=new pr("mat2"),Io=new pr("mat3"),Fp=new pr("mat4");Qe("toColor",YBe);Qe("toFloat",Ze);Qe("toInt",Vi);Qe("toUint",QBe);Qe("toBool",w7);Qe("toVec2",_t);Qe("toIVec2",gu);Qe("toUVec2",ZBe);Qe("toBVec2",JBe);Qe("toVec3",et);Qe("toIVec3",eFe);Qe("toUVec3",tFe);Qe("toBVec3",nFe);Qe("toVec4",rn);Qe("toIVec4",iFe);Qe("toUVec4",rFe);Qe("toBVec4",oFe);Qe("toMat2",hN);Qe("toMat3",Io);Qe("toMat4",Fp);const sFe=at(e0),aFe=(n,e)=>mt(new y7(mt(n),e));Qe("element",sFe);Qe("convert",aFe);class C7 extends fn{static get type(){return"UniformGroupNode"}constructor(e,i=!1,r=1){super("string"),this.name=e,this.shared=i,this.order=r,this.isUniformGroup=!0}serialize(e){super.serialize(e),e.name=this.name,e.version=this.version,e.shared=this.shared}deserialize(e){super.deserialize(e),this.name=e.name,this.version=e.version,this.shared=e.shared}}const lFe=n=>new C7(n),T7=(n,e=0)=>new C7(n,!0,e),uFe=T7("frame"),Zt=T7("render"),A7=lFe("object");class t0 extends uN{static get type(){return"UniformNode"}constructor(e,i=null){super(e,i),this.isUniformNode=!0,this.name="",this.groupNode=A7}label(e){return this.name=e,this}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}onUpdate(e,i){const r=this.getSelf();return e=e.bind(r),super.onUpdate(o=>{const s=e(o,r);s!==void 0&&(this.value=s)},i)}generate(e,i){const r=this.getNodeType(e),o=this.getUniformHash(e);let s=e.getNodeFromHash(o);s===void 0&&(e.setHashNode(this,o),s=this);const a=s.getInputType(e),l=e.getUniformFromNode(s,a,e.shaderStage,this.name||e.context.label),u=e.getPropertyName(l);return e.context.label!==void 0&&delete e.context.label,e.format(u,r,i)}}const ln=(n,e)=>{const i=XBe(e||n),r=n&&n.isNode===!0?n.node&&n.node.value||n.value:n;return mt(new t0(r,i))};class Jn extends fn{static get type(){return"PropertyNode"}constructor(e,i=null,r=!1){super(e),this.name=i,this.varying=r,this.isPropertyNode=!0}getHash(e){return this.name||super.getHash(e)}isGlobal(){return!0}generate(e){let i;return this.varying===!0?(i=e.getVaryingFromNode(this,this.name),i.needsInterpolation=!0):i=e.getVarFromNode(this,this.name),e.getPropertyName(i)}}const cFe=(n,e)=>mt(new Jn(n,e)),bS=(n,e)=>mt(new Jn(n,e,!0)),Kn=xt(Jn,"vec4","DiffuseColor"),Dk=xt(Jn,"vec3","EmissiveColor"),_u=xt(Jn,"float","Roughness"),xS=xt(Jn,"float","Metalness"),R2=xt(Jn,"float","Clearcoat"),_S=xt(Jn,"float","ClearcoatRoughness"),pp=xt(Jn,"vec3","Sheen"),pN=xt(Jn,"float","SheenRoughness"),gN=xt(Jn,"float","Iridescence"),E7=xt(Jn,"float","IridescenceIOR"),M7=xt(Jn,"float","IridescenceThickness"),P2=xt(Jn,"float","AlphaT"),Xd=xt(Jn,"float","Anisotropy"),s_=xt(Jn,"vec3","AnisotropyT"),$p=xt(Jn,"vec3","AnisotropyB"),bs=xt(Jn,"color","SpecularColor"),SS=xt(Jn,"float","SpecularF90"),I2=xt(Jn,"float","Shininess"),wS=xt(Jn,"vec4","Output"),PA=xt(Jn,"float","dashSize"),Lk=xt(Jn,"float","gapSize"),a_=xt(Jn,"float","IOR"),N2=xt(Jn,"float","Transmission"),R7=xt(Jn,"float","Thickness"),P7=xt(Jn,"float","AttenuationDistance"),I7=xt(Jn,"color","AttenuationColor"),N7=xt(Jn,"float","Dispersion");class dFe extends Ar{static get type(){return"AssignNode"}constructor(e,i){super(),this.targetNode=e,this.sourceNode=i}hasDependencies(){return!1}getNodeType(e,i){return i!=="void"?this.targetNode.getNodeType(e):"void"}needsSplitAssign(e){const{targetNode:i}=this;if(e.isAvailable("swizzleAssign")===!1&&i.isSplitNode&&i.components.length>1){const r=e.getTypeLength(i.node.getNodeType(e));return $g.join("").slice(0,r)!==i.components}return!1}generate(e,i){const{targetNode:r,sourceNode:o}=this,s=this.needsSplitAssign(e),a=r.getNodeType(e),l=r.context({assign:!0}).build(e),u=o.build(e,a),c=o.getNodeType(e),d=e.getDataFromNode(this);let f;if(d.initialized===!0)i!=="void"&&(f=l);else if(s){const h=e.getVarFromNode(this,null,a),p=e.getPropertyName(h);e.addLineFlowCode(`${p} = ${u}`,this);const v=r.node.context({assign:!0}).build(e);for(let b=0;b<r.components.length;b++){const y=r.components[b];e.addLineFlowCode(`${v}.${y} = ${p}[ ${b} ]`,this)}i!=="void"&&(f=l)}else f=`${l} = ${u}`,(i==="void"||c==="void")&&(e.addLineFlowCode(f,this),i!=="void"&&(f=l));return d.initialized=!0,e.format(f,a,i)}}const fFe=at(dFe);Qe("assign",fFe);class hFe extends Ar{static get type(){return"FunctionCallNode"}constructor(e=null,i={}){super(),this.functionNode=e,this.parameters=i}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}generate(e){const i=[],r=this.functionNode,o=r.getInputs(e),s=this.parameters,a=(u,c)=>{const d=c.type,f=d==="pointer";let h;return f?h="&"+u.build(e):h=u.build(e,d),h};if(Array.isArray(s))for(let u=0;u<s.length;u++)i.push(a(s[u],o[u]));else for(const u of o){const c=s[u.name];if(c!==void 0)i.push(a(c,u));else throw new Error(`FunctionCallNode: Input '${u.name}' not found in FunctionNode.`)}return`${r.build(e,"property")}( ${i.join(", ")} )`}}const pFe=(n,...e)=>(e=e.length>1||e[0]&&e[0].isNode===!0?Bp(e):jw(e[0]),mt(new hFe(mt(n),e)));Qe("call",pFe);class Oi extends Ar{static get type(){return"OperatorNode"}constructor(e,i,r,...o){if(super(),o.length>0){let s=new Oi(e,i,r);for(let a=0;a<o.length-1;a++)s=new Oi(e,s,o[a]);i=s,r=o[o.length-1]}this.op=e,this.aNode=i,this.bNode=r}getNodeType(e,i){const r=this.op,o=this.aNode,s=this.bNode,a=o.getNodeType(e),l=typeof s<"u"?s.getNodeType(e):null;if(a==="void"||l==="void")return"void";if(r==="%")return a;if(r==="~"||r==="&"||r==="|"||r==="^"||r===">>"||r==="<<")return e.getIntegerType(a);if(r==="!"||r==="=="||r==="&&"||r==="||"||r==="^^")return"bool";if(r==="<"||r===">"||r==="<="||r===">="){const u=i?e.getTypeLength(i):Math.max(e.getTypeLength(a),e.getTypeLength(l));return u>1?`bvec${u}`:"bool"}else return a==="float"&&e.isMatrix(l)?l:e.isMatrix(a)&&e.isVector(l)?e.getVectorFromMatrix(a):e.isVector(a)&&e.isMatrix(l)?e.getVectorFromMatrix(l):e.getTypeLength(l)>e.getTypeLength(a)?l:a}generate(e,i){const r=this.op,o=this.aNode,s=this.bNode,a=this.getNodeType(e,i);let l=null,u=null;a!=="void"?(l=o.getNodeType(e),u=typeof s<"u"?s.getNodeType(e):null,r==="<"||r===">"||r==="<="||r===">="||r==="=="?e.isVector(l)?u=l:l!==u&&(l=u="float"):r===">>"||r==="<<"?(l=a,u=e.changeComponentType(u,"uint")):e.isMatrix(l)&&e.isVector(u)?u=e.getVectorFromMatrix(l):e.isVector(l)&&e.isMatrix(u)?l=e.getVectorFromMatrix(u):l=u=a):l=u=a;const c=o.build(e,l),d=typeof s<"u"?s.build(e,u):null,f=e.getTypeLength(i),h=e.getFunctionOperator(r);if(i!=="void")return r==="<"&&f>1?e.useComparisonMethod?e.format(`${e.getMethod("lessThan",i)}( ${c}, ${d} )`,a,i):e.format(`( ${c} < ${d} )`,a,i):r==="<="&&f>1?e.useComparisonMethod?e.format(`${e.getMethod("lessThanEqual",i)}( ${c}, ${d} )`,a,i):e.format(`( ${c} <= ${d} )`,a,i):r===">"&&f>1?e.useComparisonMethod?e.format(`${e.getMethod("greaterThan",i)}( ${c}, ${d} )`,a,i):e.format(`( ${c} > ${d} )`,a,i):r===">="&&f>1?e.useComparisonMethod?e.format(`${e.getMethod("greaterThanEqual",i)}( ${c}, ${d} )`,a,i):e.format(`( ${c} >= ${d} )`,a,i):r==="!"||r==="~"?e.format(`(${r}${c})`,l,i):h?e.format(`${h}( ${c}, ${d} )`,a,i):e.format(`( ${c} ${r} ${d} )`,a,i);if(l!=="void")return h?e.format(`${h}( ${c}, ${d} )`,a,i):e.format(`${c} ${r} ${d}`,a,i)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const No=at(Oi,"+"),jo=at(Oi,"-"),En=at(Oi,"*"),Wu=at(Oi,"/"),O7=at(Oi,"%"),gFe=at(Oi,"=="),mFe=at(Oi,"!="),vFe=at(Oi,"<"),yFe=at(Oi,">"),bFe=at(Oi,"<="),xFe=at(Oi,">="),_Fe=at(Oi,"&&"),SFe=at(Oi,"||"),wFe=at(Oi,"!"),CFe=at(Oi,"^^"),TFe=at(Oi,"&"),AFe=at(Oi,"~"),EFe=at(Oi,"|"),MFe=at(Oi,"^"),RFe=at(Oi,"<<"),PFe=at(Oi,">>");Qe("add",No);Qe("sub",jo);Qe("mul",En);Qe("div",Wu);Qe("modInt",O7);Qe("equal",gFe);Qe("notEqual",mFe);Qe("lessThan",vFe);Qe("greaterThan",yFe);Qe("lessThanEqual",bFe);Qe("greaterThanEqual",xFe);Qe("and",_Fe);Qe("or",SFe);Qe("not",wFe);Qe("xor",CFe);Qe("bitAnd",TFe);Qe("bitNot",AFe);Qe("bitOr",EFe);Qe("bitXor",MFe);Qe("shiftLeft",RFe);Qe("shiftRight",PFe);const IFe=(...n)=>(console.warn("TSL.OperatorNode: .remainder() has been renamed to .modInt()."),O7(...n));Qe("remainder",IFe);class Le extends Ar{static get type(){return"MathNode"}constructor(e,i,r=null,o=null){super(),this.method=e,this.aNode=i,this.bNode=r,this.cNode=o}getInputType(e){const i=this.aNode.getNodeType(e),r=this.bNode?this.bNode.getNodeType(e):null,o=this.cNode?this.cNode.getNodeType(e):null,s=e.isMatrix(i)?0:e.getTypeLength(i),a=e.isMatrix(r)?0:e.getTypeLength(r),l=e.isMatrix(o)?0:e.getTypeLength(o);return s>a&&s>l?i:a>l?r:l>s?o:i}getNodeType(e){const i=this.method;return i===Le.LENGTH||i===Le.DISTANCE||i===Le.DOT?"float":i===Le.CROSS?"vec3":i===Le.ALL?"bool":i===Le.EQUALS?e.changeComponentType(this.aNode.getNodeType(e),"bool"):i===Le.MOD?this.aNode.getNodeType(e):this.getInputType(e)}generate(e,i){let r=this.method;const o=this.getNodeType(e),s=this.getInputType(e),a=this.aNode,l=this.bNode,u=this.cNode,c=e.renderer.coordinateSystem;if(r===Le.TRANSFORM_DIRECTION){let d=a,f=l;e.isMatrix(d.getNodeType(e))?f=rn(et(f),0):d=rn(et(d),0);const h=En(d,f).xyz;return Sy(h).build(e,i)}else{if(r===Le.NEGATE)return e.format("( - "+a.build(e,s)+" )",o,i);if(r===Le.ONE_MINUS)return jo(1,a).build(e,i);if(r===Le.RECIPROCAL)return Wu(1,a).build(e,i);if(r===Le.DIFFERENCE)return Ys(jo(a,l)).build(e,i);{const d=[];return r===Le.CROSS||r===Le.MOD?d.push(a.build(e,o),l.build(e,o)):c===qo&&r===Le.STEP?d.push(a.build(e,e.getTypeLength(a.getNodeType(e))===1?"float":s),l.build(e,s)):c===qo&&(r===Le.MIN||r===Le.MAX)||r===Le.MOD?d.push(a.build(e,s),l.build(e,e.getTypeLength(l.getNodeType(e))===1?"float":s)):r===Le.REFRACT?d.push(a.build(e,s),l.build(e,s),u.build(e,"float")):r===Le.MIX?d.push(a.build(e,s),l.build(e,s),u.build(e,e.getTypeLength(u.getNodeType(e))===1?"float":s)):(c===od&&r===Le.ATAN&&l!==null&&(r="atan2"),d.push(a.build(e,s)),l!==null&&d.push(l.build(e,s)),u!==null&&d.push(u.build(e,s))),e.format(`${e.getMethod(r,o)}( ${d.join(", ")} )`,o,i)}}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}Le.ALL="all";Le.ANY="any";Le.RADIANS="radians";Le.DEGREES="degrees";Le.EXP="exp";Le.EXP2="exp2";Le.LOG="log";Le.LOG2="log2";Le.SQRT="sqrt";Le.INVERSE_SQRT="inversesqrt";Le.FLOOR="floor";Le.CEIL="ceil";Le.NORMALIZE="normalize";Le.FRACT="fract";Le.SIN="sin";Le.COS="cos";Le.TAN="tan";Le.ASIN="asin";Le.ACOS="acos";Le.ATAN="atan";Le.ABS="abs";Le.SIGN="sign";Le.LENGTH="length";Le.NEGATE="negate";Le.ONE_MINUS="oneMinus";Le.DFDX="dFdx";Le.DFDY="dFdy";Le.ROUND="round";Le.RECIPROCAL="reciprocal";Le.TRUNC="trunc";Le.FWIDTH="fwidth";Le.TRANSPOSE="transpose";Le.BITCAST="bitcast";Le.EQUALS="equals";Le.MIN="min";Le.MAX="max";Le.MOD="mod";Le.STEP="step";Le.REFLECT="reflect";Le.DISTANCE="distance";Le.DIFFERENCE="difference";Le.DOT="dot";Le.CROSS="cross";Le.POW="pow";Le.TRANSFORM_DIRECTION="transformDirection";Le.MIX="mix";Le.CLAMP="clamp";Le.REFRACT="refract";Le.SMOOTHSTEP="smoothstep";Le.FACEFORWARD="faceforward";const NFe=Ze(1e-6),OFe=Ze(Math.PI),D7=at(Le,Le.ALL),DFe=at(Le,Le.ANY),LFe=at(Le,Le.RADIANS),BFe=at(Le,Le.DEGREES),L7=at(Le,Le.EXP),_y=at(Le,Le.EXP2),B7=at(Le,Le.LOG),Bu=at(Le,Le.LOG2),mN=at(Le,Le.SQRT),FFe=at(Le,Le.INVERSE_SQRT),Mf=at(Le,Le.FLOOR),vN=at(Le,Le.CEIL),Sy=at(Le,Le.NORMALIZE),gd=at(Le,Le.FRACT),Ra=at(Le,Le.SIN),Uc=at(Le,Le.COS),$Fe=at(Le,Le.TAN),UFe=at(Le,Le.ASIN),kFe=at(Le,Le.ACOS),F7=at(Le,Le.ATAN),Ys=at(Le,Le.ABS),CS=at(Le,Le.SIGN),Jc=at(Le,Le.LENGTH),zFe=at(Le,Le.NEGATE),HFe=at(Le,Le.ONE_MINUS),$7=at(Le,Le.DFDX),U7=at(Le,Le.DFDY),GFe=at(Le,Le.ROUND),VFe=at(Le,Le.RECIPROCAL),WFe=at(Le,Le.TRUNC),jFe=at(Le,Le.FWIDTH),KFe=at(Le,Le.TRANSPOSE);Le.BITCAST;const XFe=at(Le,Le.EQUALS),wy=at(Le,Le.MIN),ns=at(Le,Le.MAX),k7=at(Le,Le.MOD),z7=at(Le,Le.STEP),qFe=at(Le,Le.REFLECT),YFe=at(Le,Le.DISTANCE),QFe=at(Le,Le.DIFFERENCE),yN=at(Le,Le.DOT),H7=at(Le,Le.CROSS),Kw=at(Le,Le.POW),G7=at(Le,Le.POW,2),ZFe=at(Le,Le.POW,3),JFe=at(Le,Le.POW,4),e$e=at(Le,Le.TRANSFORM_DIRECTION),t$e=n=>En(CS(n),Kw(Ys(n),1/3)),n$e=n=>yN(n,n),bi=at(Le,Le.MIX),ju=(n,e=0,i=1)=>mt(new Le(Le.CLAMP,mt(n),mt(e),mt(i))),i$e=n=>ju(n),V7=at(Le,Le.REFRACT),Wf=at(Le,Le.SMOOTHSTEP),r$e=at(Le,Le.FACEFORWARD),o$e=vt(([n])=>{const r=43758.5453,o=yN(n.xy,_t(12.9898,78.233)),s=k7(o,OFe);return gd(Ra(s).mul(r))}),s$e=(n,e,i)=>bi(e,i,n),a$e=(n,e,i)=>Wf(e,i,n),l$e=(n,e)=>(console.warn('THREE.TSL: "atan2" is overloaded. Use "atan" instead.'),F7(n,e));Qe("all",D7);Qe("any",DFe);Qe("equals",XFe);Qe("radians",LFe);Qe("degrees",BFe);Qe("exp",L7);Qe("exp2",_y);Qe("log",B7);Qe("log2",Bu);Qe("sqrt",mN);Qe("inverseSqrt",FFe);Qe("floor",Mf);Qe("ceil",vN);Qe("normalize",Sy);Qe("fract",gd);Qe("sin",Ra);Qe("cos",Uc);Qe("tan",$Fe);Qe("asin",UFe);Qe("acos",kFe);Qe("atan",F7);Qe("abs",Ys);Qe("sign",CS);Qe("length",Jc);Qe("lengthSq",n$e);Qe("negate",zFe);Qe("oneMinus",HFe);Qe("dFdx",$7);Qe("dFdy",U7);Qe("round",GFe);Qe("reciprocal",VFe);Qe("trunc",WFe);Qe("fwidth",jFe);Qe("atan2",l$e);Qe("min",wy);Qe("max",ns);Qe("mod",k7);Qe("step",z7);Qe("reflect",qFe);Qe("distance",YFe);Qe("dot",yN);Qe("cross",H7);Qe("pow",Kw);Qe("pow2",G7);Qe("pow3",ZFe);Qe("pow4",JFe);Qe("transformDirection",e$e);Qe("mix",s$e);Qe("clamp",ju);Qe("refract",V7);Qe("smoothstep",a$e);Qe("faceForward",r$e);Qe("difference",QFe);Qe("saturate",i$e);Qe("cbrt",t$e);Qe("transpose",KFe);Qe("rand",o$e);class u$e extends fn{static get type(){return"ConditionalNode"}constructor(e,i,r=null){super(),this.condNode=e,this.ifNode=i,this.elseNode=r}getNodeType(e){const{ifNode:i,elseNode:r}=e.getNodeProperties(this);if(i===void 0)return this.setup(e),this.getNodeType(e);const o=i.getNodeType(e);if(r!==null){const s=r.getNodeType(e);if(e.getTypeLength(s)>e.getTypeLength(o))return s}return o}setup(e){const i=this.condNode.cache(),r=this.ifNode.cache(),o=this.elseNode?this.elseNode.cache():null,s=e.context.nodeBlock;e.getDataFromNode(r).parentNodeBlock=s,o!==null&&(e.getDataFromNode(o).parentNodeBlock=s);const a=e.getNodeProperties(this);a.condNode=i,a.ifNode=r.context({nodeBlock:r}),a.elseNode=o?o.context({nodeBlock:o}):null}generate(e,i){const r=this.getNodeType(e),o=e.getDataFromNode(this);if(o.nodeProperty!==void 0)return o.nodeProperty;const{condNode:s,ifNode:a,elseNode:l}=e.getNodeProperties(this),u=i!=="void",c=u?cFe(r).build(e):"";o.nodeProperty=c;const d=s.build(e,"bool");e.addFlowCode(`
${e.tab}if ( ${d} ) {

`).addFlowTab();let f=a.build(e,r);if(f&&(u?f=c+" = "+f+";":f="return "+f+";"),e.removeFlowTab().addFlowCode(e.tab+"	"+f+`

`+e.tab+"}"),l!==null){e.addFlowCode(` else {

`).addFlowTab();let h=l.build(e,r);h&&(u?h=c+" = "+h+";":h="return "+h+";"),e.removeFlowTab().addFlowCode(e.tab+"	"+h+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return e.format(c,r,i)}}const Yo=at(u$e);Qe("select",Yo);const c$e=(...n)=>(console.warn("TSL.ConditionalNode: cond() has been renamed to select()."),Yo(...n));Qe("cond",c$e);class W7 extends fn{static get type(){return"ContextNode"}constructor(e,i={}){super(),this.isContextNode=!0,this.node=e,this.value=i}getScope(){return this.node.getScope()}getNodeType(e){return this.node.getNodeType(e)}analyze(e){this.node.build(e)}setup(e){const i=e.getContext();e.setContext({...e.context,...this.value});const r=this.node.build(e);return e.setContext(i),r}generate(e,i){const r=e.getContext();e.setContext({...e.context,...this.value});const o=this.node.build(e,i);return e.setContext(r),o}}const bN=at(W7),d$e=(n,e)=>bN(n,{label:e});Qe("context",bN);Qe("label",d$e);class l_ extends fn{static get type(){return"VarNode"}constructor(e,i=null){super(),this.node=e,this.name=i,this.global=!0,this.isVarNode=!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const{node:i,name:r}=this,o=e.getVarFromNode(this,r,e.getVectorType(this.getNodeType(e))),s=e.getPropertyName(o),a=i.build(e,o.type);return e.addLineFlowCode(`${s} = ${a}`,this),s}}const j7=at(l_);Qe("toVar",(...n)=>j7(...n).append());const f$e=n=>(console.warn('TSL: "temp" is deprecated. Use ".toVar()" instead.'),j7(n));Qe("temp",f$e);class h$e extends fn{static get type(){return"VaryingNode"}constructor(e,i=null){super(),this.node=e,this.name=i,this.isVaryingNode=!0}isGlobal(){return!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}setupVarying(e){const i=e.getNodeProperties(this);let r=i.varying;if(r===void 0){const o=this.name,s=this.getNodeType(e);i.varying=r=e.getVaryingFromNode(this,o,s),i.node=this.node}return r.needsInterpolation||(r.needsInterpolation=e.shaderStage==="fragment"),r}setup(e){this.setupVarying(e)}analyze(e){return this.setupVarying(e),this.node.analyze(e)}generate(e){const i=e.getNodeProperties(this),r=this.setupVarying(e),o=e.shaderStage==="fragment"&&i.reassignPosition===!0&&e.context.needsPositionReassign;if(i.propertyName===void 0||o){const s=this.getNodeType(e),a=e.getPropertyName(r,Ak.VERTEX);e.flowNodeFromShaderStage(Ak.VERTEX,this.node,s,a),i.propertyName=a,o?i.reassignPosition=!1:i.reassignPosition===void 0&&e.context.isPositionNodeInput&&(i.reassignPosition=!0)}return e.getPropertyName(r)}}const nc=at(h$e),p$e=n=>nc(n);Qe("varying",nc);Qe("vertexStage",p$e);const g$e=vt(([n])=>{const e=n.mul(.9478672986).add(.0521327014).pow(2.4),i=n.mul(.0773993808),r=n.lessThanEqual(.04045);return bi(e,i,r)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),m$e=vt(([n])=>{const e=n.pow(.41666).mul(1.055).sub(.055),i=n.mul(12.92),r=n.lessThanEqual(.0031308);return bi(e,i,r)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),n0="WorkingColorSpace",xN="OutputColorSpace";class Xw extends Ar{static get type(){return"ColorSpaceNode"}constructor(e,i,r){super("vec4"),this.colorNode=e,this.source=i,this.target=r}resolveColorSpace(e,i){return i===n0?wn.workingColorSpace:i===xN?e.context.outputColorSpace||e.renderer.outputColorSpace:i}setup(e){const{colorNode:i}=this,r=this.resolveColorSpace(e,this.source),o=this.resolveColorSpace(e,this.target);let s=i;return wn.enabled===!1||r===o||!r||!o||(wn.getTransfer(r)===Yn&&(s=rn(g$e(s.rgb),s.a)),wn.getPrimaries(r)!==wn.getPrimaries(o)&&(s=rn(Io(wn._getMatrix(new Kt,r,o)).mul(s.rgb),s.a)),wn.getTransfer(o)===Yn&&(s=rn(m$e(s.rgb),s.a))),s}}const v$e=n=>mt(new Xw(mt(n),n0,xN)),y$e=n=>mt(new Xw(mt(n),xN,n0)),b$e=(n,e)=>mt(new Xw(mt(n),n0,e)),K7=(n,e)=>mt(new Xw(mt(n),e,n0));Qe("toOutputColorSpace",v$e);Qe("toWorkingColorSpace",y$e);Qe("workingToColorSpace",b$e);Qe("colorSpaceToWorking",K7);let x$e=class extends e0{static get type(){return"ReferenceElementNode"}constructor(e,i){super(e,i),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const i=super.generate(e),r=this.referenceNode.getNodeType(),o=this.getNodeType();return e.format(i,r,o)}};class X7 extends fn{static get type(){return"ReferenceBaseNode"}constructor(e,i,r=null,o=null){super(),this.property=e,this.uniformType=i,this.object=r,this.count=o,this.properties=e.split("."),this.reference=r,this.node=null,this.group=null,this.updateType=Cn.OBJECT}setGroup(e){return this.group=e,this}element(e){return mt(new x$e(this,mt(e)))}setNodeType(e){const i=ln(null,e).getSelf();this.group!==null&&i.setGroup(this.group),this.node=i}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:i}=this;let r=e[i[0]];for(let o=1;o<i.length;o++)r=r[i[o]];return r}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const _$e=(n,e,i)=>mt(new X7(n,e,i));class S$e extends X7{static get type(){return"RendererReferenceNode"}constructor(e,i,r=null){super(e,i,r),this.renderer=r,this.setGroup(Zt)}updateReference(e){return this.reference=this.renderer!==null?this.renderer:e.renderer,this.reference}}const w$e=(n,e,i=null)=>mt(new S$e(n,e,i));class C$e extends Ar{static get type(){return"ToneMappingNode"}constructor(e,i=A$e,r=null){super("vec3"),this.toneMapping=e,this.exposureNode=i,this.colorNode=r}customCacheKey(){return lN(this.toneMapping)}setup(e){const i=this.colorNode||e.context.color,r=this.toneMapping;if(r===es)return i;let o=null;const s=e.renderer.library.getToneMappingFunction(r);return s!==null?o=rn(s(i.rgb,this.exposureNode),i.a):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",r),o=i),o}}const T$e=(n,e,i)=>mt(new C$e(n,mt(e),mt(i))),A$e=w$e("toneMappingExposure","float");Qe("toneMapping",(n,e,i)=>T$e(e,i,n));class E$e extends uN{static get type(){return"BufferAttributeNode"}constructor(e,i=null,r=0,o=0){super(e,i),this.isBufferNode=!0,this.bufferType=i,this.bufferStride=r,this.bufferOffset=o,this.usage=dS,this.instanced=!1,this.attribute=null,this.global=!0,e&&e.isBufferAttribute===!0&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getHash(e){if(this.bufferStride===0&&this.bufferOffset===0){let i=e.globalCache.getData(this.value);return i===void 0&&(i={node:this},e.globalCache.setData(this.value,i)),i.node.uuid}return this.uuid}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const i=this.getNodeType(e),r=this.value,o=e.getTypeLength(i),s=this.bufferStride||o,a=this.bufferOffset,l=r.isInterleavedBuffer===!0?r:new YI(r,s),u=new by(l,o,a);l.setUsage(this.usage),this.attribute=u,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const i=this.getNodeType(e),r=e.getBufferAttributeFromNode(this,i),o=e.getPropertyName(r);let s=null;return e.shaderStage==="vertex"||e.shaderStage==="compute"?(this.name=o,s=o):s=nc(this).build(e,i),s}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=e),this}setInstanced(e){return this.instanced=e,this}}const _N=(n,e=null,i=0,r=0)=>mt(new E$e(n,e,i,r)),M$e=(n,e=null,i=0,r=0)=>_N(n,e,i,r).setUsage(cp),Bk=(n,e=null,i=0,r=0)=>_N(n,e,i,r).setInstanced(!0),Fk=(n,e=null,i=0,r=0)=>M$e(n,e,i,r).setInstanced(!0);Qe("toAttribute",n=>_N(n.value));class R$e extends fn{static get type(){return"ComputeNode"}constructor(e,i,r=[64]){super("void"),this.isComputeNode=!0,this.computeNode=e,this.count=i,this.workgroupSize=r,this.dispatchCount=0,this.version=1,this.name="",this.updateBeforeType=Cn.OBJECT,this.onInitFunction=null,this.updateDispatchCount()}dispose(){this.dispatchEvent({type:"dispose"})}label(e){return this.name=e,this}updateDispatchCount(){const{count:e,workgroupSize:i}=this;let r=i[0];for(let o=1;o<i.length;o++)r*=i[o];this.dispatchCount=Math.ceil(e/r)}onInit(e){return this.onInitFunction=e,this}updateBefore({renderer:e}){e.compute(this)}generate(e){const{shaderStage:i}=e;if(i==="compute"){const r=this.computeNode.build(e,"void");r!==""&&e.addLineFlowCode(r,this)}}}const P$e=(n,e,i)=>mt(new R$e(mt(n),e,i));Qe("compute",P$e);class I$e extends fn{static get type(){return"CacheNode"}constructor(e,i=!0){super(),this.node=e,this.parent=i,this.isCacheNode=!0}getNodeType(e){const i=e.getCache(),r=e.getCacheFromNode(this,this.parent);e.setCache(r);const o=this.node.getNodeType(e);return e.setCache(i),o}build(e,...i){const r=e.getCache(),o=e.getCacheFromNode(this,this.parent);e.setCache(o);const s=this.node.build(e,...i);return e.setCache(r),s}}const u_=(n,e)=>mt(new I$e(mt(n),e));Qe("cache",u_);class N$e extends fn{static get type(){return"BypassNode"}constructor(e,i){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=i}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const i=this.callNode.build(e,"void");return i!==""&&e.addLineFlowCode(i,this),this.outputNode.build(e)}}const O$e=at(N$e);Qe("bypass",O$e);class q7 extends fn{static get type(){return"RemapNode"}constructor(e,i,r,o=Ze(0),s=Ze(1)){super(),this.node=e,this.inLowNode=i,this.inHighNode=r,this.outLowNode=o,this.outHighNode=s,this.doClamp=!0}setup(){const{node:e,inLowNode:i,inHighNode:r,outLowNode:o,outHighNode:s,doClamp:a}=this;let l=e.sub(i).div(r.sub(i));return a===!0&&(l=l.clamp()),l.mul(s.sub(o)).add(o)}}const D$e=at(q7,null,null,{doClamp:!1}),L$e=at(q7);Qe("remap",D$e);Qe("remapClamp",L$e);class c_ extends fn{static get type(){return"ExpressionNode"}constructor(e="",i="void"){super(i),this.snippet=e}generate(e,i){const r=this.getNodeType(e),o=this.snippet;if(r==="void")e.addLineFlowCode(o,this);else return e.format(`( ${o} )`,r,i)}}const Cy=at(c_),B$e=n=>(n?Yo(n,Cy("discard")):Cy("discard")).append();Qe("discard",B$e);class F$e extends Ar{static get type(){return"RenderOutputNode"}constructor(e,i,r){super("vec4"),this.colorNode=e,this.toneMapping=i,this.outputColorSpace=r,this.isRenderOutputNode=!0}setup({context:e}){let i=this.colorNode||e.color;const r=(this.toneMapping!==null?this.toneMapping:e.toneMapping)||es,o=(this.outputColorSpace!==null?this.outputColorSpace:e.outputColorSpace)||Ts;return r!==es&&(i=i.toneMapping(r)),o!==Ts&&o!==wn.workingColorSpace&&(i=i.workingToColorSpace(o)),i}}const $$e=(n,e=null,i=null)=>mt(new F$e(mt(n),e,i));Qe("renderOutput",$$e);class U$e extends fn{static get type(){return"AttributeNode"}constructor(e,i=null){super(i),this.global=!0,this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let i=this.nodeType;if(i===null){const r=this.getAttributeName(e);if(e.hasGeometryAttribute(r)){const o=e.geometry.getAttribute(r);i=e.getTypeFromAttribute(o)}else i="float"}return i}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const i=this.getAttributeName(e),r=this.getNodeType(e);if(e.hasGeometryAttribute(i)===!0){const s=e.geometry.getAttribute(i),a=e.getTypeFromAttribute(s),l=e.getAttribute(i,a);return e.shaderStage==="vertex"?e.format(l.name,a,r):nc(this).build(e,r)}else return console.warn(`AttributeNode: Vertex attribute "${i}" not found on geometry.`),e.generateConst(r)}serialize(e){super.serialize(e),e.global=this.global,e._attributeName=this._attributeName}deserialize(e){super.deserialize(e),this.global=e.global,this._attributeName=e._attributeName}}const Ku=(n,e)=>mt(new U$e(n,e)),qw=(n=0)=>Ku("uv"+(n>0?n:""),"vec2");class k$e extends fn{static get type(){return"TextureSizeNode"}constructor(e,i=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=i}generate(e,i){const r=this.textureNode.build(e,"property"),o=this.levelNode===null?"0":this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${r}, ${o} )`,this.getNodeType(e),i)}}const Mv=at(k$e);class z$e extends t0{static get type(){return"MaxMipLevelNode"}constructor(e){super(0),this._textureNode=e,this.updateType=Cn.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const e=this.texture,i=e.images,r=i&&i.length>0?i[0]&&i[0].image||i[0]:e.image;if(r&&r.width!==void 0){const{width:o,height:s}=r;this.value=Math.log2(Math.max(o,s))}}}const H$e=at(z$e);class i0 extends t0{static get type(){return"TextureNode"}constructor(e,i=null,r=null,o=null){super(e),this.isTextureNode=!0,this.uvNode=i,this.levelNode=r,this.biasNode=o,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=Cn.NONE,this.referenceNode=null,this._value=e,this._matrixUniform=null,this.setUpdateMatrix(i===null)}set value(e){this.referenceNode?this.referenceNode.value=e:this._value=e}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===Ui?"uvec4":this.value.type===Nr?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return qw(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){return this._matrixUniform===null&&(this._matrixUniform=ln(this.value.matrix)),this._matrixUniform.mul(et(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this.updateType=e?Cn.RENDER:Cn.NONE,this}setupUV(e,i){const r=this.value;return e.isFlipY()&&(r.image instanceof ImageBitmap&&r.flipY===!0||r.isRenderTargetTexture===!0||r.isFramebufferTexture===!0||r.isDepthTexture===!0)&&(this.sampler?i=i.flipY():i=i.setY(Vi(Mv(this,this.levelNode).y).sub(i.y).sub(1))),i}setup(e){const i=e.getNodeProperties(this);i.referenceNode=this.referenceNode;const r=this.value;if(!r||r.isTexture!==!0)throw new Error("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().");let o=this.uvNode;(o===null||e.context.forceUVContext===!0)&&e.context.getUV&&(o=e.context.getUV(this)),o||(o=this.getDefaultUV()),this.updateMatrix===!0&&(o=this.getTransformedUV(o)),o=this.setupUV(e,o);let s=this.levelNode;s===null&&e.context.getTextureLevel&&(s=e.context.getTextureLevel(this)),i.uvNode=o,i.levelNode=s,i.biasNode=this.biasNode,i.compareNode=this.compareNode,i.gradNode=this.gradNode,i.depthNode=this.depthNode}generateUV(e,i){return i.build(e,this.sampler===!0?"vec2":"ivec2")}generateSnippet(e,i,r,o,s,a,l,u){const c=this.value;let d;return o?d=e.generateTextureLevel(c,i,r,o,a):s?d=e.generateTextureBias(c,i,r,s,a):u?d=e.generateTextureGrad(c,i,r,u,a):l?d=e.generateTextureCompare(c,i,r,l,a):this.sampler===!1?d=e.generateTextureLoad(c,i,r,a):d=e.generateTexture(c,i,r,a),d}generate(e,i){const r=this.value,o=e.getNodeProperties(this),s=super.generate(e,"property");if(i==="sampler")return s+"_sampler";if(e.isReference(i))return s;{const a=e.getDataFromNode(this);let l=a.propertyName;if(l===void 0){const{uvNode:d,levelNode:f,biasNode:h,compareNode:p,depthNode:v,gradNode:b}=o,y=this.generateUV(e,d),m=f?f.build(e,"float"):null,_=h?h.build(e,"float"):null,S=v?v.build(e,"int"):null,w=p?p.build(e,"float"):null,T=b?[b[0].build(e,"vec2"),b[1].build(e,"vec2")]:null,A=e.getVarFromNode(this);l=e.getPropertyName(A);const C=this.generateSnippet(e,s,y,m,_,S,w,T);e.addLineFlowCode(`${l} = ${C}`,this),a.snippet=C,a.propertyName=l}let u=l;const c=this.getNodeType(e);return e.needsToWorkingColorSpace(r)&&(u=K7(Cy(u,c),r.colorSpace).setup(e).build(e,c)),e.format(u,c,i)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}uv(e){return console.warn("THREE.TextureNode: .uv() has been renamed. Use .sample() instead."),this.sample(e)}sample(e){const i=this.clone();return i.uvNode=mt(e),i.referenceNode=this.getSelf(),mt(i)}blur(e){const i=this.clone();return i.biasNode=mt(e).mul(H$e(i)),i.referenceNode=this.getSelf(),mt(i)}level(e){const i=this.clone();return i.levelNode=mt(e),i.referenceNode=this.getSelf(),mt(i)}size(e){return Mv(this,e)}bias(e){const i=this.clone();return i.biasNode=mt(e),i.referenceNode=this.getSelf(),mt(i)}compare(e){const i=this.clone();return i.compareNode=mt(e),i.referenceNode=this.getSelf(),mt(i)}grad(e,i){const r=this.clone();return r.gradNode=[mt(e),mt(i)],r.referenceNode=this.getSelf(),mt(r)}depth(e){const i=this.clone();return i.depthNode=mt(e),i.referenceNode=this.getSelf(),mt(i)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid,e.sampler=this.sampler,e.updateMatrix=this.updateMatrix,e.updateType=this.updateType}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value],this.sampler=e.sampler,this.updateMatrix=e.updateMatrix,this.updateType=e.updateType}update(){const e=this.value,i=this._matrixUniform;i!==null&&(i.value=e.matrix),e.matrixAutoUpdate===!0&&e.updateMatrix()}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return e.sampler=this.sampler,e}}const zn=at(i0),Aa=(...n)=>zn(...n).setSampler(!1),lf=ln("float").label("cameraNear").setGroup(Zt).onRenderUpdate(({camera:n})=>n.near),uf=ln("float").label("cameraFar").setGroup(Zt).onRenderUpdate(({camera:n})=>n.far),SN=ln("mat4").label("cameraProjectionMatrix").setGroup(Zt).onRenderUpdate(({camera:n})=>n.projectionMatrix),ic=ln("mat4").label("cameraViewMatrix").setGroup(Zt).onRenderUpdate(({camera:n})=>n.matrixWorldInverse),G$e=ln(new me).label("cameraPosition").setGroup(Zt).onRenderUpdate(({camera:n},e)=>e.value.setFromMatrixPosition(n.matrixWorld));class Gn extends fn{static get type(){return"Object3DNode"}constructor(e,i=null){super(),this.scope=e,this.object3d=i,this.updateType=Cn.OBJECT,this._uniformNode=new t0(null)}getNodeType(){const e=this.scope;if(e===Gn.WORLD_MATRIX)return"mat4";if(e===Gn.POSITION||e===Gn.VIEW_POSITION||e===Gn.DIRECTION||e===Gn.SCALE)return"vec3"}update(e){const i=this.object3d,r=this._uniformNode,o=this.scope;if(o===Gn.WORLD_MATRIX)r.value=i.matrixWorld;else if(o===Gn.POSITION)r.value=r.value||new me,r.value.setFromMatrixPosition(i.matrixWorld);else if(o===Gn.SCALE)r.value=r.value||new me,r.value.setFromMatrixScale(i.matrixWorld);else if(o===Gn.DIRECTION)r.value=r.value||new me,i.getWorldDirection(r.value);else if(o===Gn.VIEW_POSITION){const s=e.camera;r.value=r.value||new me,r.value.setFromMatrixPosition(i.matrixWorld),r.value.applyMatrix4(s.matrixWorldInverse)}}generate(e){const i=this.scope;return i===Gn.WORLD_MATRIX?this._uniformNode.nodeType="mat4":(i===Gn.POSITION||i===Gn.VIEW_POSITION||i===Gn.DIRECTION||i===Gn.SCALE)&&(this._uniformNode.nodeType="vec3"),this._uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}Gn.WORLD_MATRIX="worldMatrix";Gn.POSITION="position";Gn.SCALE="scale";Gn.VIEW_POSITION="viewPosition";Gn.DIRECTION="direction";Gn.DIRECTION;Gn.WORLD_MATRIX;const V$e=at(Gn,Gn.POSITION);Gn.SCALE;Gn.VIEW_POSITION;class El extends Gn{static get type(){return"ModelNode"}constructor(e){super(e)}update(e){this.object3d=e.object,super.update(e)}}El.DIRECTION;const jf=xt(El,El.WORLD_MATRIX);El.POSITION;El.SCALE;El.VIEW_POSITION;const W$e=ln(new Kt).onObjectUpdate(({object:n},e)=>e.value.getNormalMatrix(n.matrixWorld)),wN=vt(n=>n.renderer.nodes.modelViewMatrix||j$e).once()().toVar("modelViewMatrix"),j$e=ic.mul(jf),CN=Ku("position","vec3"),so=CN.varying("positionLocal"),$k=CN.varying("positionPrevious"),Ty=jf.mul(so).xyz.varying("v_positionWorld").context({needsPositionReassign:!0}),Y7=so.transformDirection(jf).varying("v_positionWorldDirection").normalize().toVar("positionWorldDirection").context({needsPositionReassign:!0}),cr=vt(n=>n.context.setupPositionView(),"vec3").once()().varying("v_positionView").context({needsPositionReassign:!0}),ki=cr.negate().varying("v_positionViewDirection").normalize().toVar("positionViewDirection");class K$e extends fn{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){const{renderer:i,material:r}=e;return i.coordinateSystem===qo&&r.side===Ni?"false":e.getFrontFacing()}}const X$e=xt(K$e),Yw=Ze(X$e).mul(2).sub(1),Q7=Ku("normal","vec3"),Ml=vt(n=>n.geometry.hasAttribute("normal")===!1?(console.warn('TSL.NormalNode: Vertex attribute "normal" not found on geometry.'),et(0,1,0)):Q7,"vec3").once()().toVar("normalLocal"),q$e=cr.dFdx().cross(cr.dFdy()).normalize().toVar("normalFlat"),za=vt(n=>{let e;return n.material.flatShading===!0?e=q$e:e=nc(J7(Ml),"v_normalView").normalize(),e},"vec3").once()().toVar("normalView"),Z7=nc(za.transformDirection(ic),"v_normalWorld").normalize().toVar("normalWorld"),lr=vt(n=>n.context.setupNormal(),"vec3").once()().mul(Yw).toVar("transformedNormalView"),TN=lr.transformDirection(ic).toVar("transformedNormalWorld"),ev=vt(n=>n.context.setupClearcoatNormal(),"vec3").once()().mul(Yw).toVar("transformedClearcoatNormalView"),Y$e=vt(([n,e=jf])=>{const i=Io(e),r=n.div(et(i[0].dot(i[0]),i[1].dot(i[1]),i[2].dot(i[2])));return i.mul(r).xyz}),J7=vt(([n],e)=>{const i=e.renderer.nodes.modelNormalViewMatrix;if(i!==null)return i.transformDirection(n);const r=W$e.mul(n);return ic.transformDirection(r)}),Q$e=ln(0).onReference(({material:n})=>n).onRenderUpdate(({material:n})=>n.refractionRatio),Z$e=ki.negate().reflect(lr),J$e=ki.negate().refract(lr,Q$e),eUe=Z$e.transformDirection(ic).toVar("reflectVector"),tUe=J$e.transformDirection(ic).toVar("reflectVector");class nUe extends i0{static get type(){return"CubeTextureNode"}constructor(e,i=null,r=null,o=null){super(e,i,r,o),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){const e=this.value;return e.mapping===ca?eUe:e.mapping===da?tUe:(console.error('THREE.CubeTextureNode: Mapping "%s" not supported.',e.mapping),et(0,0,0))}setUpdateMatrix(){}setupUV(e,i){const r=this.value;return e.renderer.coordinateSystem===od||!r.isRenderTargetTexture?et(i.x.negate(),i.yz):i}generateUV(e,i){return i.build(e,"vec3")}}const Ay=at(nUe);class ej extends t0{static get type(){return"BufferNode"}constructor(e,i,r=0){super(e,i),this.isBufferNode=!0,this.bufferType=i,this.bufferCount=r}getElementType(e){return this.getNodeType(e)}getInputType(){return"buffer"}}const AN=(n,e,i)=>mt(new ej(n,e,i));class iUe extends e0{static get type(){return"UniformArrayElementNode"}constructor(e,i){super(e,i),this.isArrayBufferElementNode=!0}generate(e){const i=super.generate(e),r=this.getNodeType(),o=this.node.getPaddedType();return e.format(i,o,r)}}class rUe extends ej{static get type(){return"UniformArrayNode"}constructor(e,i=null){super(null),this.array=e,this.elementType=i===null?vS(e[0]):i,this.paddedType=this.getPaddedType(),this.updateType=Cn.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const e=this.elementType;let i="vec4";return e==="mat2"?i="mat2":/mat/.test(e)===!0?i="mat4":e.charAt(0)==="i"?i="ivec4":e.charAt(0)==="u"&&(i="uvec4"),i}update(){const{array:e,value:i}=this,r=this.elementType;if(r==="float"||r==="int"||r==="uint")for(let o=0;o<e.length;o++){const s=o*4;i[s]=e[o]}else if(r==="color")for(let o=0;o<e.length;o++){const s=o*4,a=e[o];i[s]=a.r,i[s+1]=a.g,i[s+2]=a.b||0}else if(r==="mat2")for(let o=0;o<e.length;o++){const s=o*4,a=e[o];i[s]=a.elements[0],i[s+1]=a.elements[1],i[s+2]=a.elements[2],i[s+3]=a.elements[3]}else if(r==="mat3")for(let o=0;o<e.length;o++){const s=o*16,a=e[o];i[s]=a.elements[0],i[s+1]=a.elements[1],i[s+2]=a.elements[2],i[s+4]=a.elements[3],i[s+5]=a.elements[4],i[s+6]=a.elements[5],i[s+8]=a.elements[6],i[s+9]=a.elements[7],i[s+10]=a.elements[8],i[s+15]=1}else if(r==="mat4")for(let o=0;o<e.length;o++){const s=o*16,a=e[o];for(let l=0;l<a.elements.length;l++)i[s+l]=a.elements[l]}else for(let o=0;o<e.length;o++){const s=o*4,a=e[o];i[s]=a.x,i[s+1]=a.y,i[s+2]=a.z||0,i[s+3]=a.w||0}}setup(e){const i=this.array.length,r=this.elementType;let o=Float32Array;const s=this.paddedType,a=e.getTypeLength(s);return r.charAt(0)==="i"&&(o=Int32Array),r.charAt(0)==="u"&&(o=Uint32Array),this.value=new o(i*a),this.bufferCount=i,this.bufferType=s,super.setup(e)}element(e){return mt(new iUe(this,mt(e)))}}const kc=(n,e)=>mt(new rUe(n,e));class oUe extends e0{static get type(){return"ReferenceElementNode"}constructor(e,i){super(e,i),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const i=super.generate(e),r=this.referenceNode.getNodeType(),o=this.getNodeType();return e.format(i,r,o)}}class EN extends fn{static get type(){return"ReferenceNode"}constructor(e,i,r=null,o=null){super(),this.property=e,this.uniformType=i,this.object=r,this.count=o,this.properties=e.split("."),this.reference=r,this.node=null,this.group=null,this.name=null,this.updateType=Cn.OBJECT}element(e){return mt(new oUe(this,mt(e)))}setGroup(e){return this.group=e,this}label(e){return this.name=e,this}setNodeType(e){let i=null;this.count!==null?i=AN(null,e,this.count):Array.isArray(this.getValueFromReference())?i=kc(null,e):e==="texture"?i=zn(null):e==="cubeTexture"?i=Ay(null):i=ln(null,e),this.group!==null&&i.setGroup(this.group),this.name!==null&&i.label(this.name),this.node=i.getSelf()}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:i}=this;let r=e[i[0]];for(let o=1;o<i.length;o++)r=r[i[o]];return r}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const ni=(n,e,i)=>mt(new EN(n,e,i)),Uk=(n,e,i,r)=>mt(new EN(n,e,r,i));class sUe extends EN{static get type(){return"MaterialReferenceNode"}constructor(e,i,r=null){super(e,i,r),this.material=r,this.isMaterialReferenceNode=!0}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}}const zc=(n,e,i=null)=>mt(new sUe(n,e,i)),tj=vt(n=>(n.geometry.hasAttribute("tangent")===!1&&n.geometry.computeTangents(),Ku("tangent","vec4")))(),MN=tj.xyz.toVar("tangentLocal"),nj=wN.mul(rn(MN,0)).xyz.varying("v_tangentView").normalize().toVar("tangentView"),aUe=n=>n.mul(tj.w).xyz,lUe=nc(aUe(za.cross(nj)),"v_bitangentView").normalize().toVar("bitangentView"),tv=Io(nj,lUe,za),uUe=(()=>{let n=$p.cross(ki);return n=n.cross($p).normalize(),n=bi(n,lr,Xd.mul(_u.oneMinus()).oneMinus().pow2().pow2()).normalize(),n})(),cUe=vt(n=>{const{eye_pos:e,surf_norm:i,mapN:r,uv:o}=n,s=e.dFdx(),a=e.dFdy(),l=o.dFdx(),u=o.dFdy(),c=i,d=a.cross(c),f=c.cross(s),h=d.mul(l.x).add(f.mul(u.x)),p=d.mul(l.y).add(f.mul(u.y)),v=h.dot(h).max(p.dot(p)),b=Yw.mul(v.inverseSqrt());return No(h.mul(r.x,b),p.mul(r.y,b),c.mul(r.z)).normalize()});class dUe extends Ar{static get type(){return"NormalMapNode"}constructor(e,i=null){super("vec3"),this.node=e,this.scaleNode=i,this.normalMapType=Vu}setup(e){const{normalMapType:i,scaleNode:r}=this;let o=this.node.mul(2).sub(1);r!==null&&(o=et(o.xy.mul(r),o.z));let s=null;return i===C9?s=J7(o):i===Vu&&(e.hasGeometryAttribute("tangent")===!0?s=tv.mul(o).normalize():s=cUe({eye_pos:cr,surf_norm:za,mapN:o,uv:qw()})),s}}const kk=at(dUe),fUe=vt(({textureNode:n,bumpScale:e})=>{const i=o=>n.cache().context({getUV:s=>o(s.uvNode||qw()),forceUVContext:!0}),r=Ze(i(o=>o));return _t(Ze(i(o=>o.add(o.dFdx()))).sub(r),Ze(i(o=>o.add(o.dFdy()))).sub(r)).mul(e)}),hUe=vt(n=>{const{surf_pos:e,surf_norm:i,dHdxy:r}=n,o=e.dFdx().normalize(),s=e.dFdy().normalize(),a=i,l=s.cross(a),u=a.cross(o),c=o.dot(l).mul(Yw),d=c.sign().mul(r.x.mul(l).add(r.y.mul(u)));return c.abs().mul(i).sub(d).normalize()});class pUe extends Ar{static get type(){return"BumpMapNode"}constructor(e,i=null){super("vec3"),this.textureNode=e,this.scaleNode=i}setup(){const e=this.scaleNode!==null?this.scaleNode:1,i=fUe({textureNode:this.textureNode,bumpScale:e});return hUe({surf_pos:cr,surf_norm:za,dHdxy:i})}}const gUe=at(pUe),zk=new Map;class Xe extends fn{static get type(){return"MaterialNode"}constructor(e){super(),this.scope=e}getCache(e,i){let r=zk.get(e);return r===void 0&&(r=zc(e,i),zk.set(e,r)),r}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e==="map"?"map":e+"Map","texture")}setup(e){const i=e.context.material,r=this.scope;let o=null;if(r===Xe.COLOR){const s=i.color!==void 0?this.getColor(r):et();i.map&&i.map.isTexture===!0?o=s.mul(this.getTexture("map")):o=s}else if(r===Xe.OPACITY){const s=this.getFloat(r);i.alphaMap&&i.alphaMap.isTexture===!0?o=s.mul(this.getTexture("alpha")):o=s}else if(r===Xe.SPECULAR_STRENGTH)i.specularMap&&i.specularMap.isTexture===!0?o=this.getTexture("specular").r:o=Ze(1);else if(r===Xe.SPECULAR_INTENSITY){const s=this.getFloat(r);i.specularIntensityMap&&i.specularIntensityMap.isTexture===!0?o=s.mul(this.getTexture(r).a):o=s}else if(r===Xe.SPECULAR_COLOR){const s=this.getColor(r);i.specularColorMap&&i.specularColorMap.isTexture===!0?o=s.mul(this.getTexture(r).rgb):o=s}else if(r===Xe.ROUGHNESS){const s=this.getFloat(r);i.roughnessMap&&i.roughnessMap.isTexture===!0?o=s.mul(this.getTexture(r).g):o=s}else if(r===Xe.METALNESS){const s=this.getFloat(r);i.metalnessMap&&i.metalnessMap.isTexture===!0?o=s.mul(this.getTexture(r).b):o=s}else if(r===Xe.EMISSIVE){const s=this.getFloat("emissiveIntensity"),a=this.getColor(r).mul(s);i.emissiveMap&&i.emissiveMap.isTexture===!0?o=a.mul(this.getTexture(r)):o=a}else if(r===Xe.NORMAL)i.normalMap?(o=kk(this.getTexture("normal"),this.getCache("normalScale","vec2")),o.normalMapType=i.normalMapType):i.bumpMap?o=gUe(this.getTexture("bump").r,this.getFloat("bumpScale")):o=za;else if(r===Xe.CLEARCOAT){const s=this.getFloat(r);i.clearcoatMap&&i.clearcoatMap.isTexture===!0?o=s.mul(this.getTexture(r).r):o=s}else if(r===Xe.CLEARCOAT_ROUGHNESS){const s=this.getFloat(r);i.clearcoatRoughnessMap&&i.clearcoatRoughnessMap.isTexture===!0?o=s.mul(this.getTexture(r).r):o=s}else if(r===Xe.CLEARCOAT_NORMAL)i.clearcoatNormalMap?o=kk(this.getTexture(r),this.getCache(r+"Scale","vec2")):o=za;else if(r===Xe.SHEEN){const s=this.getColor("sheenColor").mul(this.getFloat("sheen"));i.sheenColorMap&&i.sheenColorMap.isTexture===!0?o=s.mul(this.getTexture("sheenColor").rgb):o=s}else if(r===Xe.SHEEN_ROUGHNESS){const s=this.getFloat(r);i.sheenRoughnessMap&&i.sheenRoughnessMap.isTexture===!0?o=s.mul(this.getTexture(r).a):o=s,o=o.clamp(.07,1)}else if(r===Xe.ANISOTROPY)if(i.anisotropyMap&&i.anisotropyMap.isTexture===!0){const s=this.getTexture(r);o=hN(Nm.x,Nm.y,Nm.y.negate(),Nm.x).mul(s.rg.mul(2).sub(_t(1)).normalize().mul(s.b))}else o=Nm;else if(r===Xe.IRIDESCENCE_THICKNESS){const s=ni("1","float",i.iridescenceThicknessRange);if(i.iridescenceThicknessMap){const a=ni("0","float",i.iridescenceThicknessRange);o=s.sub(a).mul(this.getTexture(r).g).add(a)}else o=s}else if(r===Xe.TRANSMISSION){const s=this.getFloat(r);i.transmissionMap?o=s.mul(this.getTexture(r).r):o=s}else if(r===Xe.THICKNESS){const s=this.getFloat(r);i.thicknessMap?o=s.mul(this.getTexture(r).g):o=s}else if(r===Xe.IOR)o=this.getFloat(r);else if(r===Xe.LIGHT_MAP)o=this.getTexture(r).rgb.mul(this.getFloat("lightMapIntensity"));else if(r===Xe.AO)o=this.getTexture(r).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else{const s=this.getNodeType(e);o=this.getCache(r,s)}return o}}Xe.ALPHA_TEST="alphaTest";Xe.COLOR="color";Xe.OPACITY="opacity";Xe.SHININESS="shininess";Xe.SPECULAR="specular";Xe.SPECULAR_STRENGTH="specularStrength";Xe.SPECULAR_INTENSITY="specularIntensity";Xe.SPECULAR_COLOR="specularColor";Xe.REFLECTIVITY="reflectivity";Xe.ROUGHNESS="roughness";Xe.METALNESS="metalness";Xe.NORMAL="normal";Xe.CLEARCOAT="clearcoat";Xe.CLEARCOAT_ROUGHNESS="clearcoatRoughness";Xe.CLEARCOAT_NORMAL="clearcoatNormal";Xe.EMISSIVE="emissive";Xe.ROTATION="rotation";Xe.SHEEN="sheen";Xe.SHEEN_ROUGHNESS="sheenRoughness";Xe.ANISOTROPY="anisotropy";Xe.IRIDESCENCE="iridescence";Xe.IRIDESCENCE_IOR="iridescenceIOR";Xe.IRIDESCENCE_THICKNESS="iridescenceThickness";Xe.IOR="ior";Xe.TRANSMISSION="transmission";Xe.THICKNESS="thickness";Xe.ATTENUATION_DISTANCE="attenuationDistance";Xe.ATTENUATION_COLOR="attenuationColor";Xe.LINE_SCALE="scale";Xe.LINE_DASH_SIZE="dashSize";Xe.LINE_GAP_SIZE="gapSize";Xe.LINE_WIDTH="linewidth";Xe.LINE_DASH_OFFSET="dashOffset";Xe.POINT_WIDTH="pointWidth";Xe.DISPERSION="dispersion";Xe.LIGHT_MAP="light";Xe.AO="ao";const mUe=xt(Xe,Xe.ALPHA_TEST),vUe=xt(Xe,Xe.COLOR),yUe=xt(Xe,Xe.SHININESS),bUe=xt(Xe,Xe.EMISSIVE),ij=xt(Xe,Xe.OPACITY),xUe=xt(Xe,Xe.SPECULAR),Hk=xt(Xe,Xe.SPECULAR_INTENSITY),_Ue=xt(Xe,Xe.SPECULAR_COLOR),d_=xt(Xe,Xe.SPECULAR_STRENGTH),IA=xt(Xe,Xe.REFLECTIVITY),SUe=xt(Xe,Xe.ROUGHNESS),wUe=xt(Xe,Xe.METALNESS),CUe=xt(Xe,Xe.NORMAL).context({getUV:null}),TUe=xt(Xe,Xe.CLEARCOAT),AUe=xt(Xe,Xe.CLEARCOAT_ROUGHNESS),EUe=xt(Xe,Xe.CLEARCOAT_NORMAL).context({getUV:null}),MUe=xt(Xe,Xe.ROTATION),RUe=xt(Xe,Xe.SHEEN),PUe=xt(Xe,Xe.SHEEN_ROUGHNESS),IUe=xt(Xe,Xe.ANISOTROPY),NUe=xt(Xe,Xe.IRIDESCENCE),OUe=xt(Xe,Xe.IRIDESCENCE_IOR),DUe=xt(Xe,Xe.IRIDESCENCE_THICKNESS),LUe=xt(Xe,Xe.TRANSMISSION),BUe=xt(Xe,Xe.THICKNESS),FUe=xt(Xe,Xe.IOR),$Ue=xt(Xe,Xe.ATTENUATION_DISTANCE),UUe=xt(Xe,Xe.ATTENUATION_COLOR),kUe=xt(Xe,Xe.LINE_SCALE),zUe=xt(Xe,Xe.LINE_DASH_SIZE),HUe=xt(Xe,Xe.LINE_GAP_SIZE);Xe.LINE_WIDTH;const GUe=xt(Xe,Xe.LINE_DASH_OFFSET);Xe.POINT_WIDTH;const VUe=xt(Xe,Xe.DISPERSION),rj=xt(Xe,Xe.LIGHT_MAP),WUe=xt(Xe,Xe.AO),Nm=ln(new dt).onReference(function(n){return n.material}).onRenderUpdate(function({material:n}){this.value.set(n.anisotropy*Math.cos(n.anisotropyRotation),n.anisotropy*Math.sin(n.anisotropyRotation))}),oj=vt(n=>n.context.setupModelViewProjection(),"vec4").once()().varying("v_modelViewProjection");class xi extends fn{static get type(){return"IndexNode"}constructor(e){super("uint"),this.scope=e,this.isIndexNode=!0}generate(e){const i=this.getNodeType(e),r=this.scope;let o;if(r===xi.VERTEX)o=e.getVertexIndex();else if(r===xi.INSTANCE)o=e.getInstanceIndex();else if(r===xi.DRAW)o=e.getDrawIndex();else if(r===xi.INVOCATION_LOCAL)o=e.getInvocationLocalIndex();else if(r===xi.INVOCATION_SUBGROUP)o=e.getInvocationSubgroupIndex();else if(r===xi.SUBGROUP)o=e.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+r);let s;return e.shaderStage==="vertex"||e.shaderStage==="compute"?s=o:s=nc(this).build(e,i),s}}xi.VERTEX="vertex";xi.INSTANCE="instance";xi.SUBGROUP="subgroup";xi.INVOCATION_LOCAL="invocationLocal";xi.INVOCATION_SUBGROUP="invocationSubgroup";xi.DRAW="draw";const jUe=xt(xi,xi.VERTEX),RN=xt(xi,xi.INSTANCE);xi.SUBGROUP;xi.INVOCATION_SUBGROUP;xi.INVOCATION_LOCAL;const KUe=xt(xi,xi.DRAW);class XUe extends fn{static get type(){return"InstanceNode"}constructor(e,i,r){super("void"),this.count=e,this.instanceMatrix=i,this.instanceColor=r,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=Cn.FRAME,this.buffer=null,this.bufferColor=null}setup(e){const{count:i,instanceMatrix:r,instanceColor:o}=this;let{instanceMatrixNode:s,instanceColorNode:a}=this;if(s===null){if(i<=1e3)s=AN(r.array,"mat4",Math.max(i,1)).element(RN);else{const u=new kIe(r.array,16,1);this.buffer=u;const c=r.usage===cp?Fk:Bk,d=[c(u,"vec4",16,0),c(u,"vec4",16,4),c(u,"vec4",16,8),c(u,"vec4",16,12)];s=Fp(...d)}this.instanceMatrixNode=s}if(o&&a===null){const u=new YPe(o.array,3),c=o.usage===cp?Fk:Bk;this.bufferColor=u,a=et(c(u,"vec3",3,0)),this.instanceColorNode=a}const l=s.mul(so).xyz;if(so.assign(l),e.hasGeometryAttribute("normal")){const u=Y$e(Ml,s);Ml.assign(u)}this.instanceColorNode!==null&&bS("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.instanceMatrix.usage!==cp&&this.buffer!==null&&this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version),this.instanceColor&&this.instanceColor.usage!==cp&&this.bufferColor!==null&&this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version)}}class qUe extends XUe{static get type(){return"InstancedMeshNode"}constructor(e){const{count:i,instanceMatrix:r,instanceColor:o}=e;super(i,r,o),this.instancedMesh=e}}const YUe=at(qUe);class QUe extends fn{static get type(){return"BatchNode"}constructor(e){super("void"),this.batchMesh=e,this.batchingIdNode=null}setup(e){this.batchingIdNode===null&&(e.getDrawIndex()===null?this.batchingIdNode=RN:this.batchingIdNode=KUe);const r=vt(([v])=>{const b=Mv(Aa(this.batchMesh._indirectTexture),0),y=Vi(v).modInt(Vi(b)),m=Vi(v).div(Vi(b));return Aa(this.batchMesh._indirectTexture,gu(y,m)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})(Vi(this.batchingIdNode)),o=this.batchMesh._matricesTexture,s=Mv(Aa(o),0),a=Ze(r).mul(4).toInt().toVar(),l=a.modInt(s),u=a.div(Vi(s)),c=Fp(Aa(o,gu(l,u)),Aa(o,gu(l.add(1),u)),Aa(o,gu(l.add(2),u)),Aa(o,gu(l.add(3),u))),d=this.batchMesh._colorsTexture;if(d!==null){const b=vt(([y])=>{const m=Mv(Aa(d),0).x,_=y,S=_.modInt(m),w=_.div(m);return Aa(d,gu(S,w)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(r);bS("vec3","vBatchColor").assign(b)}const f=Io(c);so.assign(c.mul(so));const h=Ml.div(et(f[0].dot(f[0]),f[1].dot(f[1]),f[2].dot(f[2]))),p=f.mul(h).xyz;Ml.assign(p),e.hasGeometryAttribute("tangent")&&MN.mulAssign(f)}}const ZUe=at(QUe),Gk=new WeakMap;class JUe extends fn{static get type(){return"SkinningNode"}constructor(e,i=!1){super("void"),this.skinnedMesh=e,this.useReference=i,this.updateType=Cn.OBJECT,this.skinIndexNode=Ku("skinIndex","uvec4"),this.skinWeightNode=Ku("skinWeight","vec4");let r,o,s;i?(r=ni("bindMatrix","mat4"),o=ni("bindMatrixInverse","mat4"),s=Uk("skeleton.boneMatrices","mat4",e.skeleton.bones.length)):(r=ln(e.bindMatrix,"mat4"),o=ln(e.bindMatrixInverse,"mat4"),s=AN(e.skeleton.boneMatrices,"mat4",e.skeleton.bones.length)),this.bindMatrixNode=r,this.bindMatrixInverseNode=o,this.boneMatricesNode=s,this.previousBoneMatricesNode=null}getSkinnedPosition(e=this.boneMatricesNode,i=so){const{skinIndexNode:r,skinWeightNode:o,bindMatrixNode:s,bindMatrixInverseNode:a}=this,l=e.element(r.x),u=e.element(r.y),c=e.element(r.z),d=e.element(r.w),f=s.mul(i),h=No(l.mul(o.x).mul(f),u.mul(o.y).mul(f),c.mul(o.z).mul(f),d.mul(o.w).mul(f));return a.mul(h).xyz}getSkinnedNormal(e=this.boneMatricesNode,i=Ml){const{skinIndexNode:r,skinWeightNode:o,bindMatrixNode:s,bindMatrixInverseNode:a}=this,l=e.element(r.x),u=e.element(r.y),c=e.element(r.z),d=e.element(r.w);let f=No(o.x.mul(l),o.y.mul(u),o.z.mul(c),o.w.mul(d));return f=a.mul(f).mul(s),f.transformDirection(i).xyz}getPreviousSkinnedPosition(e){const i=e.object;return this.previousBoneMatricesNode===null&&(i.skeleton.previousBoneMatrices=new Float32Array(i.skeleton.boneMatrices),this.previousBoneMatricesNode=Uk("skeleton.previousBoneMatrices","mat4",i.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,$k)}needsPreviousBoneMatrices(e){const i=e.renderer.getMRT();return i&&i.has("velocity")||v7(e.object).useVelocity===!0}setup(e){this.needsPreviousBoneMatrices(e)&&$k.assign(this.getPreviousSkinnedPosition(e));const i=this.getSkinnedPosition();if(so.assign(i),e.hasGeometryAttribute("normal")){const r=this.getSkinnedNormal();Ml.assign(r),e.hasGeometryAttribute("tangent")&&MN.assign(r)}}generate(e,i){if(i!=="void")return so.build(e,i)}update(e){const r=(this.useReference?e.object:this.skinnedMesh).skeleton;Gk.get(r)!==e.frameId&&(Gk.set(r,e.frameId),this.previousBoneMatricesNode!==null&&r.previousBoneMatrices.set(r.boneMatrices),r.update())}}const e4e=n=>mt(new JUe(n,!0));class t4e extends fn{static get type(){return"LoopNode"}constructor(e=[]){super(),this.params=e}getVarName(e){return String.fromCharCode(105+e)}getProperties(e){const i=e.getNodeProperties(this);if(i.stackNode!==void 0)return i;const r={};for(let s=0,a=this.params.length-1;s<a;s++){const l=this.params[s],u=l.isNode!==!0&&l.name||this.getVarName(s),c=l.isNode!==!0&&l.type||"int";r[u]=Cy(u,c)}const o=e.addStack();return i.returnsNode=this.params[this.params.length-1](r,o,e),i.stackNode=o,e.removeStack(),i}getNodeType(e){const{returnsNode:i}=this.getProperties(e);return i?i.getNodeType(e):"void"}setup(e){this.getProperties(e)}generate(e){const i=this.getProperties(e),r=this.params,o=i.stackNode;for(let l=0,u=r.length-1;l<u;l++){const c=r[l];let d=null,f=null,h=null,p=null,v=null,b=null;c.isNode?(p="int",h=this.getVarName(l),d="0",f=c.build(e,p),v="<"):(p=c.type||"int",h=c.name||this.getVarName(l),d=c.start,f=c.end,v=c.condition,b=c.update,typeof d=="number"?d=e.generateConst(p,d):d&&d.isNode&&(d=d.build(e,p)),typeof f=="number"?f=e.generateConst(p,f):f&&f.isNode&&(f=f.build(e,p)),d!==void 0&&f===void 0?(d=d+" - 1",f="0",v=">="):f!==void 0&&d===void 0&&(d="0",v="<"),v===void 0&&(Number(d)>Number(f)?v=">=":v="<"));const y={start:d,end:f,condition:v},m=y.start,_=y.end;let S="",w="",T="";b||(p==="int"||p==="uint"?v.includes("<")?b="++":b="--":v.includes("<")?b="+= 1.":b="-= 1."),S+=e.getVar(p,h)+" = "+m,w+=h+" "+v+" "+_,T+=h+" "+b;const A=`for ( ${S}; ${w}; ${T} )`;e.addFlowCode((l===0?`
`:"")+e.tab+A+` {

`).addFlowTab()}const s=o.build(e,"void"),a=i.returnsNode?i.returnsNode.build(e):"";e.removeFlowTab().addFlowCode(`
`+e.tab+s);for(let l=0,u=this.params.length-1;l<u;l++)e.addFlowCode((l===0?"":e.tab)+`}

`).removeFlowTab();return e.addFlowTab(),a}}const Ia=(...n)=>mt(new t4e(Bp(n,"int"))).append(),n4e=()=>Cy("break").append(),NA=new WeakMap,ms=new dn,Vk=vt(({bufferMap:n,influence:e,stride:i,width:r,depth:o,offset:s})=>{const a=Vi(jUe).mul(i).add(s),l=a.div(r),u=a.sub(l.mul(r));return Aa(n,gu(u,l)).depth(o).mul(e)});function i4e(n){const e=n.morphAttributes.position!==void 0,i=n.morphAttributes.normal!==void 0,r=n.morphAttributes.color!==void 0,o=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,s=o!==void 0?o.length:0;let a=NA.get(n);if(a===void 0||a.count!==s){let _=function(){y.dispose(),NA.delete(n),n.removeEventListener("dispose",_)};var l=_;a!==void 0&&a.texture.dispose();const u=n.morphAttributes.position||[],c=n.morphAttributes.normal||[],d=n.morphAttributes.color||[];let f=0;e===!0&&(f=1),i===!0&&(f=2),r===!0&&(f=3);let h=n.attributes.position.count*f,p=1;const v=4096;h>v&&(p=Math.ceil(h/v),h=v);const b=new Float32Array(h*p*4*s),y=new WI(b,h,p,s);y.type=er,y.needsUpdate=!0;const m=f*4;for(let S=0;S<s;S++){const w=u[S],T=c[S],A=d[S],C=h*p*4*S;for(let R=0;R<w.count;R++){const E=R*m;e===!0&&(ms.fromBufferAttribute(w,R),b[C+E+0]=ms.x,b[C+E+1]=ms.y,b[C+E+2]=ms.z,b[C+E+3]=0),i===!0&&(ms.fromBufferAttribute(T,R),b[C+E+4]=ms.x,b[C+E+5]=ms.y,b[C+E+6]=ms.z,b[C+E+7]=0),r===!0&&(ms.fromBufferAttribute(A,R),b[C+E+8]=ms.x,b[C+E+9]=ms.y,b[C+E+10]=ms.z,b[C+E+11]=A.itemSize===4?ms.w:1)}}a={count:s,texture:y,stride:f,size:new dt(h,p)},NA.set(n,a),n.addEventListener("dispose",_)}return a}class r4e extends fn{static get type(){return"MorphNode"}constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=ln(1),this.updateType=Cn.OBJECT}setup(e){const{geometry:i}=e,r=i.morphAttributes.position!==void 0,o=i.hasAttribute("normal")&&i.morphAttributes.normal!==void 0,s=i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color,a=s!==void 0?s.length:0,{texture:l,stride:u,size:c}=i4e(i);r===!0&&so.mulAssign(this.morphBaseInfluence),o===!0&&Ml.mulAssign(this.morphBaseInfluence);const d=Vi(c.width);Ia(a,({i:f})=>{const h=Ze(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?h.assign(Aa(this.mesh.morphTexture,gu(Vi(f).add(1),Vi(RN))).r):h.assign(ni("morphTargetInfluences","float").element(f).toVar()),r===!0&&so.addAssign(Vk({bufferMap:l,influence:h,stride:u,width:d,depth:f,offset:Vi(0)})),o===!0&&Ml.addAssign(Vk({bufferMap:l,influence:h,stride:u,width:d,depth:f,offset:Vi(1)}))})}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((i,r)=>i+r,0)}}const o4e=at(r4e);class Ug extends fn{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class s4e extends Ug{static get type(){return"AONode"}constructor(e=null){super(),this.aoNode=e}setup(e){e.context.ambientOcclusion.mulAssign(this.aoNode)}}class a4e extends W7{static get type(){return"LightingContextNode"}constructor(e,i=null,r=null,o=null){super(e),this.lightingModel=i,this.backdropNode=r,this.backdropAlphaNode=o,this._value=null}getContext(){const{backdropNode:e,backdropAlphaNode:i}=this,r=et().toVar("directDiffuse"),o=et().toVar("directSpecular"),s=et().toVar("indirectDiffuse"),a=et().toVar("indirectSpecular"),l={directDiffuse:r,directSpecular:o,indirectDiffuse:s,indirectSpecular:a};return{radiance:et().toVar("radiance"),irradiance:et().toVar("irradiance"),iblIrradiance:et().toVar("iblIrradiance"),ambientOcclusion:Ze(1).toVar("ambientOcclusion"),reflectedLight:l,backdrop:e,backdropAlpha:i}}setup(e){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const l4e=at(a4e);class u4e extends Ug{static get type(){return"IrradianceNode"}constructor(e){super(),this.node=e}setup(e){e.context.irradiance.addAssign(this.node)}}let Om,Dm;class sr extends fn{static get type(){return"ScreenNode"}constructor(e){super(),this.scope=e,this.isViewportNode=!0}getNodeType(){return this.scope===sr.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=Cn.NONE;return(this.scope===sr.SIZE||this.scope===sr.VIEWPORT)&&(e=Cn.RENDER),this.updateType=e,e}update({renderer:e}){const i=e.getRenderTarget();this.scope===sr.VIEWPORT?i!==null?Dm.copy(i.viewport):(e.getViewport(Dm),Dm.multiplyScalar(e.getPixelRatio())):i!==null?(Om.width=i.width,Om.height=i.height):e.getDrawingBufferSize(Om)}setup(){const e=this.scope;let i=null;return e===sr.SIZE?i=ln(Om||(Om=new dt)):e===sr.VIEWPORT?i=ln(Dm||(Dm=new dn)):i=_t(Qw.div(O2)),i}generate(e){if(this.scope===sr.COORDINATE){let i=e.getFragCoord();if(e.isFlipY()){const r=e.getNodeProperties(O2).outputNode.build(e);i=`${e.getType("vec2")}( ${i}.x, ${r}.y - ${i}.y )`}return i}return super.generate(e)}}sr.COORDINATE="coordinate";sr.VIEWPORT="viewport";sr.SIZE="size";sr.UV="uv";const Ey=xt(sr,sr.UV),O2=xt(sr,sr.SIZE),Qw=xt(sr,sr.COORDINATE),sj=xt(sr,sr.VIEWPORT);sj.zw;sj.xy;const Lm=new dt;class aj extends i0{static get type(){return"ViewportTextureNode"}constructor(e=Ey,i=null,r=null){r===null&&(r=new tIe,r.minFilter=Xo),super(r,e,i),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=Cn.FRAME}updateBefore(e){const i=e.renderer;i.getDrawingBufferSize(Lm);const r=this.value;(r.image.width!==Lm.width||r.image.height!==Lm.height)&&(r.image.width=Lm.width,r.image.height=Lm.height,r.needsUpdate=!0);const o=r.generateMipmaps;r.generateMipmaps=this.generateMipmaps,i.copyFramebufferToTexture(r),r.generateMipmaps=o}clone(){const e=new this.constructor(this.uvNode,this.levelNode,this.value);return e.generateMipmaps=this.generateMipmaps,e}}const lj=at(aj,null,null,{generateMipmaps:!0});let OA=null;class c4e extends aj{static get type(){return"ViewportDepthTextureNode"}constructor(e=Ey,i=null){OA===null&&(OA=new pd),super(e,i,OA)}}const d4e=at(c4e);class Qo extends fn{static get type(){return"ViewportDepthNode"}constructor(e,i=null){super("float"),this.scope=e,this.valueNode=i,this.isViewportDepthNode=!0}generate(e){const{scope:i}=this;return i===Qo.DEPTH_BASE?e.getFragDepth():super.generate(e)}setup({camera:e}){const{scope:i}=this,r=this.valueNode;let o=null;if(i===Qo.DEPTH_BASE)r!==null&&(o=dj().assign(r));else if(i===Qo.DEPTH)e.isPerspectiveCamera?o=f4e(cr.z,lf,uf):o=Rv(cr.z,lf,uf);else if(i===Qo.LINEAR_DEPTH)if(r!==null)if(e.isPerspectiveCamera){const s=uj(r,lf,uf);o=Rv(s,lf,uf)}else o=r;else o=Rv(cr.z,lf,uf);return o}}Qo.DEPTH_BASE="depthBase";Qo.DEPTH="depth";Qo.LINEAR_DEPTH="linearDepth";const Rv=(n,e,i)=>n.add(e).div(e.sub(i)),f4e=(n,e,i)=>e.add(n).mul(i).div(i.sub(e).mul(n)),uj=(n,e,i)=>e.mul(i).div(i.sub(e).mul(n).sub(i)),cj=(n,e,i)=>{e=e.max(1e-6).toVar();const r=Bu(n.negate().div(e)),o=Bu(i.div(e));return r.div(o)},dj=at(Qo,Qo.DEPTH_BASE),fj=xt(Qo,Qo.DEPTH),h4e=at(Qo,Qo.LINEAR_DEPTH);d4e();fj.assign=n=>dj(n);class p4e extends fn{constructor(e){super("float"),this.name=e,this.isBuiltinNode=!0}generate(){return this.name}}const g4e=at(p4e);class sa extends fn{static get type(){return"ClippingNode"}constructor(e=sa.DEFAULT){super(),this.scope=e}setup(e){super.setup(e);const i=e.clippingContext,{intersectionPlanes:r,unionPlanes:o}=i;return this.hardwareClipping=e.material.hardwareClipping,this.scope===sa.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(r,o):this.scope===sa.HARDWARE?this.setupHardwareClipping(o,e):this.setupDefault(r,o)}setupAlphaToCoverage(e,i){return vt(()=>{const r=Ze().toVar("distanceToPlane"),o=Ze().toVar("distanceToGradient"),s=Ze(1).toVar("clipOpacity"),a=i.length;if(this.hardwareClipping===!1&&a>0){const u=kc(i);Ia(a,({i:c})=>{const d=u.element(c);r.assign(cr.dot(d.xyz).negate().add(d.w)),o.assign(r.fwidth().div(2)),s.mulAssign(Wf(o.negate(),o,r))})}const l=e.length;if(l>0){const u=kc(e),c=Ze(1).toVar("intersectionClipOpacity");Ia(l,({i:d})=>{const f=u.element(d);r.assign(cr.dot(f.xyz).negate().add(f.w)),o.assign(r.fwidth().div(2)),c.mulAssign(Wf(o.negate(),o,r).oneMinus())}),s.mulAssign(c.oneMinus())}Kn.a.mulAssign(s),Kn.a.equal(0).discard()})()}setupDefault(e,i){return vt(()=>{const r=i.length;if(this.hardwareClipping===!1&&r>0){const s=kc(i);Ia(r,({i:a})=>{const l=s.element(a);cr.dot(l.xyz).greaterThan(l.w).discard()})}const o=e.length;if(o>0){const s=kc(e),a=w7(!0).toVar("clipped");Ia(o,({i:l})=>{const u=s.element(l);a.assign(cr.dot(u.xyz).greaterThan(u.w).and(a))}),a.discard()}})()}setupHardwareClipping(e,i){const r=e.length;return i.enableHardwareClipping(r),vt(()=>{const o=kc(e),s=g4e(i.getClipDistance());Ia(r,({i:a})=>{const l=o.element(a),u=cr.dot(l.xyz).sub(l.w).negate();s.element(a).assign(u)})})()}}sa.ALPHA_TO_COVERAGE="alphaToCoverage";sa.DEFAULT="default";sa.HARDWARE="hardware";const m4e=()=>mt(new sa),v4e=()=>mt(new sa(sa.ALPHA_TO_COVERAGE)),y4e=()=>mt(new sa(sa.HARDWARE)),b4e=.05,Wk=vt(([n])=>gd(En(1e4,Ra(En(17,n.x).add(En(.1,n.y)))).mul(No(.1,Ys(Ra(En(13,n.y).add(n.x))))))),jk=vt(([n])=>Wk(_t(Wk(n.xy),n.z))),x4e=vt(([n])=>{const e=ns(Jc($7(n.xyz)),Jc(U7(n.xyz))),i=Ze(1).div(Ze(b4e).mul(e)).toVar("pixScale"),r=_t(_y(Mf(Bu(i))),_y(vN(Bu(i)))),o=_t(jk(Mf(r.x.mul(n.xyz))),jk(Mf(r.y.mul(n.xyz)))),s=gd(Bu(i)),a=No(En(s.oneMinus(),o.x),En(s,o.y)),l=wy(s,s.oneMinus()),u=et(a.mul(a).div(En(2,l).mul(jo(1,l))),a.sub(En(.5,l)).div(jo(1,l)),jo(1,jo(1,a).mul(jo(1,a)).div(En(2,l).mul(jo(1,l))))),c=a.lessThan(l.oneMinus()).select(a.lessThan(l).select(u.x,u.y),u.z);return ju(c,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class hr extends uo{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.shadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null}customProgramCacheKey(){return this.type+g7(this)}build(e){this.setup(e)}setupObserver(e){return new TBe(e)}setup(e){e.context.setupNormal=()=>this.setupNormal(e),e.context.setupPositionView=()=>this.setupPositionView(e),e.context.setupModelViewProjection=()=>this.setupModelViewProjection(e);const i=e.renderer,r=i.getRenderTarget();e.addStack();const o=this.vertexNode||this.setupVertex(e);e.stack.outputNode=o,this.setupHardwareClipping(e),this.geometryNode!==null&&(e.stack.outputNode=e.stack.outputNode.bypass(this.geometryNode)),e.addFlow("vertex",e.removeStack()),e.addStack();let s;const a=this.setupClipping(e);if((this.depthWrite===!0||this.depthTest===!0)&&(r!==null?r.depthBuffer===!0&&this.setupDepth(e):i.depth===!0&&this.setupDepth(e)),this.fragmentNode===null){this.setupDiffuseColor(e),this.setupVariants(e);const l=this.setupLighting(e);a!==null&&e.stack.add(a);const u=rn(l,Kn.a).max(0);if(s=this.setupOutput(e,u),wS.assign(s),this.outputNode!==null&&(s=this.outputNode),r!==null){const c=i.getMRT(),d=this.mrtNode;c!==null?(s=c,d!==null&&(s=c.merge(d))):d!==null&&(s=d)}}else{let l=this.fragmentNode;l.isOutputStructNode!==!0&&(l=rn(l)),s=this.setupOutput(e,l)}e.stack.outputNode=s,e.addFlow("fragment",e.removeStack()),e.monitor=this.setupObserver(e)}setupClipping(e){if(e.clippingContext===null)return null;const{unionPlanes:i,intersectionPlanes:r}=e.clippingContext;let o=null;if(i.length>0||r.length>0){const s=e.renderer.samples;this.alphaToCoverage&&s>1?o=v4e():e.stack.add(m4e())}return o}setupHardwareClipping(e){if(this.hardwareClipping=!1,e.clippingContext===null)return;const i=e.clippingContext.unionPlanes.length;i>0&&i<=8&&e.isAvailable("clipDistance")&&(e.stack.add(y4e()),this.hardwareClipping=!0)}setupDepth(e){const{renderer:i,camera:r}=e;let o=this.depthNode;if(o===null){const s=i.getMRT();s&&s.has("depth")?o=s.get("depth"):i.logarithmicDepthBuffer===!0&&(r.isPerspectiveCamera?o=cj(cr.z,lf,uf):o=Rv(cr.z,lf,uf))}o!==null&&fj.assign(o).append()}setupPositionView(){return wN.mul(so).xyz}setupModelViewProjection(){return SN.mul(cr)}setupVertex(e){return e.addStack(),this.setupPosition(e),e.context.vertex=e.removeStack(),oj}setupPosition(e){const{object:i,geometry:r}=e;if((r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color)&&o4e(i).append(),i.isSkinnedMesh===!0&&e4e(i).append(),this.displacementMap){const o=zc("displacementMap","texture"),s=zc("displacementScale","float"),a=zc("displacementBias","float");so.addAssign(Ml.normalize().mul(o.x.mul(s).add(a)))}return i.isBatchedMesh&&ZUe(i).append(),i.isInstancedMesh&&i.instanceMatrix&&i.instanceMatrix.isInstancedBufferAttribute===!0&&YUe(i).append(),this.positionNode!==null&&so.assign(this.positionNode.context({isPositionNodeInput:!0})),so}setupDiffuseColor({object:e,geometry:i}){let r=this.colorNode?rn(this.colorNode):vUe;this.vertexColors===!0&&i.hasAttribute("color")&&(r=rn(r.xyz.mul(Ku("color","vec3")),r.a)),e.instanceColor&&(r=bS("vec3","vInstanceColor").mul(r)),e.isBatchedMesh&&e._colorsTexture&&(r=bS("vec3","vBatchColor").mul(r)),Kn.assign(r);const o=this.opacityNode?Ze(this.opacityNode):ij;if(Kn.a.assign(Kn.a.mul(o)),this.alphaTestNode!==null||this.alphaTest>0){const s=this.alphaTestNode!==null?Ze(this.alphaTestNode):mUe;Kn.a.lessThanEqual(s).discard()}this.alphaHash===!0&&Kn.a.lessThan(x4e(so)).discard(),this.transparent===!1&&this.blending===ra&&this.alphaToCoverage===!1&&Kn.a.assign(1)}setupVariants(){}setupOutgoingLight(){return this.lights===!0?et(0):Kn.rgb}setupNormal(){return this.normalNode?et(this.normalNode):CUe}setupEnvironment(){let e=null;return this.envNode?e=this.envNode:this.envMap&&(e=this.envMap.isCubeTexture?zc("envMap","cubeTexture"):zc("envMap","texture")),e}setupLightMap(e){let i=null;return e.material.lightMap&&(i=new u4e(rj)),i}setupLights(e){const i=[],r=this.setupEnvironment(e);r&&r.isLightingNode&&i.push(r);const o=this.setupLightMap(e);if(o&&o.isLightingNode&&i.push(o),this.aoNode!==null||e.material.aoMap){const a=this.aoNode!==null?this.aoNode:WUe;i.push(new s4e(a))}let s=this.lightsNode||e.lightsNode;return i.length>0&&(s=e.renderer.lighting.createNode([...s.getLights(),...i])),s}setupLightingModel(){}setupLighting(e){const{material:i}=e,{backdropNode:r,backdropAlphaNode:o,emissiveNode:s}=this,l=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let u=this.setupOutgoingLight(e);if(l&&l.getScope().hasLights){const c=this.setupLightingModel(e);u=l4e(l,c,r,o)}else r!==null&&(u=et(o!==null?bi(u,r,o):r));return(s&&s.isNode===!0||i.emissive&&i.emissive.isColor===!0)&&(Dk.assign(et(s||bUe)),u=u.add(Dk)),u}setupOutput(e,i){if(this.fog===!0){const r=e.fogNode;r&&(wS.assign(i),i=rn(r))}return i}setDefaultValues(e){for(const r in e){const o=e[r];this[r]===void 0&&(this[r]=o,o&&o.clone&&(this[r]=o.clone()))}const i=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const r in i)Object.getOwnPropertyDescriptor(this.constructor.prototype,r)===void 0&&i[r].get!==void 0&&Object.defineProperty(this.constructor.prototype,r,i[r])}toJSON(e){const i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{},nodes:{}});const r=uo.prototype.toJSON.call(this,e),o=mS(this);r.inputNodes={};for(const{property:a,childNode:l}of o)r.inputNodes[a]=l.toJSON(e).uuid;function s(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}if(i){const a=s(e.textures),l=s(e.images),u=s(e.nodes);a.length>0&&(r.textures=a),l.length>0&&(r.images=l),u.length>0&&(r.nodes=u)}return r}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.positionNode=e.positionNode,this.geometryNode=e.geometryNode,this.depthNode=e.depthNode,this.shadowPositionNode=e.shadowPositionNode,this.receivedShadowNode=e.receivedShadowNode,this.castShadowNode=e.castShadowNode,this.outputNode=e.outputNode,this.mrtNode=e.mrtNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,super.copy(e)}}const _4e=new $w;class S4e extends hr{static get type(){return"LineBasicNodeMaterial"}constructor(e){super(),this.isLineBasicNodeMaterial=!0,this.setDefaultValues(_4e),this.setValues(e)}}const w4e=new AIe;class C4e extends hr{static get type(){return"LineDashedNodeMaterial"}constructor(e){super(),this.isLineDashedNodeMaterial=!0,this.setDefaultValues(w4e),this.dashOffset=0,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setupVariants(){const e=this.offsetNode?Ze(this.offsetNode):GUe,i=this.dashScaleNode?Ze(this.dashScaleNode):kUe,r=this.dashSizeNode?Ze(this.dashSizeNode):zUe,o=this.gapSizeNode?Ze(this.gapSizeNode):HUe;PA.assign(r),Lk.assign(o);const s=nc(Ku("lineDistance").mul(i));(e?s.add(e):s).mod(PA.add(Lk)).greaterThan(PA).discard()}}const T4e=n=>mt(n).mul(.5).add(.5),A4e=new SIe;class E4e extends hr{static get type(){return"MeshNormalNodeMaterial"}constructor(e){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(A4e),this.setValues(e)}setupDiffuseColor(){const e=this.opacityNode?Ze(this.opacityNode):ij;Kn.assign(rn(T4e(lr),e))}}class M4e extends Ar{static get type(){return"EquirectUVNode"}constructor(e=Y7){super("vec2"),this.dirNode=e}setup(){const e=this.dirNode,i=e.z.atan(e.x).mul(1/(Math.PI*2)).add(.5),r=e.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return _t(i,r)}}const hj=at(M4e);class pj extends D9{constructor(e=1,i={}){super(e,i),this.isCubeRenderTarget=!0}fromEquirectangularTexture(e,i){const r=i.minFilter,o=i.generateMipmaps;i.generateMipmaps=!0,this.texture.type=i.type,this.texture.colorSpace=i.colorSpace,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;const s=new nh(5,5,5),a=hj(Y7),l=new hr;l.colorNode=zn(i,a,0),l.side=Ni,l.blending=Jo;const u=new Lr(s,l),c=new qI;c.add(u),i.minFilter===Xo&&(i.minFilter=_r);const d=new O9(1,10,this),f=e.getMRT();return e.setMRT(null),d.update(e,c),e.setMRT(f),i.minFilter=r,i.currentGenerateMipmaps=o,u.geometry.dispose(),u.material.dispose(),this}}const Pv=new WeakMap;class R4e extends Ar{static get type(){return"CubeMapNode"}constructor(e){super("vec3"),this.envNode=e,this._cubeTexture=null,this._cubeTextureNode=Ay();const i=new Bw;i.isRenderTargetTexture=!0,this._defaultTexture=i,this.updateBeforeType=Cn.RENDER}updateBefore(e){const{renderer:i,material:r}=e,o=this.envNode;if(o.isTextureNode||o.isMaterialReferenceNode){const s=o.isTextureNode?o.value:r[o.property];if(s&&s.isTexture){const a=s.mapping;if(a===id||a===rd){if(Pv.has(s)){const l=Pv.get(s);Kk(l,s.mapping),this._cubeTexture=l}else{const l=s.image;if(P4e(l)){const u=new pj(l.height);u.fromEquirectangularTexture(i,s),Kk(u.texture,s.mapping),this._cubeTexture=u.texture,Pv.set(s,u.texture),s.addEventListener("dispose",gj)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(e){return this.updateBefore(e),this._cubeTextureNode}}function P4e(n){return n==null?!1:n.height>0}function gj(n){const e=n.target;e.removeEventListener("dispose",gj);const i=Pv.get(e);i!==void 0&&(Pv.delete(e),i.dispose())}function Kk(n,e){e===id?n.mapping=ca:e===rd&&(n.mapping=da)}const mj=at(R4e);class PN extends Ug{static get type(){return"BasicEnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){e.context.environment=mj(this.envNode)}}class I4e extends Ug{static get type(){return"BasicLightMapNode"}constructor(e=null){super(),this.lightMapNode=e}setup(e){const i=Ze(1/Math.PI);e.context.irradianceLightMap=this.lightMapNode.mul(i)}}class Zw{start(){}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class vj extends Zw{constructor(){super()}indirect(e,i,r){const o=e.ambientOcclusion,s=e.reflectedLight,a=r.context.irradianceLightMap;s.indirectDiffuse.assign(rn(0)),a?s.indirectDiffuse.addAssign(a):s.indirectDiffuse.addAssign(rn(1,1,1,0)),s.indirectDiffuse.mulAssign(o),s.indirectDiffuse.mulAssign(Kn.rgb)}finish(e,i,r){const o=r.material,s=e.outgoingLight,a=r.context.environment;if(a)switch(o.combine){case Xy:s.rgb.assign(bi(s.rgb,s.rgb.mul(a.rgb),d_.mul(IA)));break;case m9:s.rgb.assign(bi(s.rgb,a.rgb,d_.mul(IA)));break;case v9:s.rgb.addAssign(a.rgb.mul(d_.mul(IA)));break;default:console.warn("THREE.BasicLightingModel: Unsupported .combine value:",o.combine);break}}}const N4e=new Qy;class O4e extends hr{static get type(){return"MeshBasicNodeMaterial"}constructor(e){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues(N4e),this.setValues(e)}setupNormal(){return za}setupEnvironment(e){const i=super.setupEnvironment(e);return i?new PN(i):null}setupLightMap(e){let i=null;return e.material.lightMap&&(i=new I4e(rj)),i}setupOutgoingLight(){return Kn.rgb}setupLightingModel(){return new vj}}const My=vt(({f0:n,f90:e,dotVH:i})=>{const r=i.mul(-5.55473).sub(6.98316).mul(i).exp2();return n.mul(r.oneMinus()).add(e.mul(r))}),Cg=vt(n=>n.diffuseColor.mul(1/Math.PI)),D4e=()=>Ze(.25),L4e=vt(({dotNH:n})=>I2.mul(Ze(.5)).add(1).mul(Ze(1/Math.PI)).mul(n.pow(I2))),B4e=vt(({lightDirection:n})=>{const e=n.add(ki).normalize(),i=lr.dot(e).clamp(),r=ki.dot(e).clamp(),o=My({f0:bs,f90:1,dotVH:r}),s=D4e(),a=L4e({dotNH:i});return o.mul(s).mul(a)});class yj extends vj{constructor(e=!0){super(),this.specular=e}direct({lightDirection:e,lightColor:i,reflectedLight:r}){const s=lr.dot(e).clamp().mul(i);r.directDiffuse.addAssign(s.mul(Cg({diffuseColor:Kn.rgb}))),this.specular===!0&&r.directSpecular.addAssign(s.mul(B4e({lightDirection:e})).mul(d_))}indirect({ambientOcclusion:e,irradiance:i,reflectedLight:r}){r.indirectDiffuse.addAssign(i.mul(Cg({diffuseColor:Kn}))),r.indirectDiffuse.mulAssign(e)}}const F4e=new U9;class $4e extends hr{static get type(){return"MeshLambertNodeMaterial"}constructor(e){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(F4e),this.setValues(e)}setupEnvironment(e){const i=super.setupEnvironment(e);return i?new PN(i):null}setupLightingModel(){return new yj(!1)}}const U4e=new xIe;class k4e extends hr{static get type(){return"MeshPhongNodeMaterial"}constructor(e){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(U4e),this.setValues(e)}setupEnvironment(e){const i=super.setupEnvironment(e);return i?new PN(i):null}setupLightingModel(){return new yj}setupVariants(){const e=(this.shininessNode?Ze(this.shininessNode):yUe).max(1e-4);I2.assign(e);const i=this.specularNode||xUe;bs.assign(i)}copy(e){return this.shininessNode=e.shininessNode,this.specularNode=e.specularNode,super.copy(e)}}const z4e=vt(n=>{if(n.geometry.hasAttribute("normal")===!1)return Ze(0);const e=za.dFdx().abs().max(za.dFdy().abs());return e.x.max(e.y).max(e.z)}),bj=vt(n=>{const{roughness:e}=n,i=z4e();let r=e.max(.0525);return r=r.add(i),r=r.min(1),r}),H4e=vt(({alpha:n,dotNL:e,dotNV:i})=>{const r=n.pow2(),o=e.mul(r.add(r.oneMinus().mul(i.pow2())).sqrt()),s=i.mul(r.add(r.oneMinus().mul(e.pow2())).sqrt());return Wu(.5,o.add(s).max(NFe))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),G4e=vt(({alphaT:n,alphaB:e,dotTV:i,dotBV:r,dotTL:o,dotBL:s,dotNV:a,dotNL:l})=>{const u=l.mul(et(n.mul(i),e.mul(r),a).length()),c=a.mul(et(n.mul(o),e.mul(s),l).length());return Wu(.5,u.add(c)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),V4e=vt(({alpha:n,dotNH:e})=>{const i=n.pow2(),r=e.pow2().mul(i.oneMinus()).oneMinus();return i.div(r.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),W4e=Ze(1/Math.PI),j4e=vt(({alphaT:n,alphaB:e,dotNH:i,dotTH:r,dotBH:o})=>{const s=n.mul(e),a=et(e.mul(r),n.mul(o),s.mul(i)),l=a.dot(a),u=s.div(l);return W4e.mul(s.mul(u.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),Xk=vt(n=>{const{lightDirection:e,f0:i,f90:r,roughness:o,f:s,USE_IRIDESCENCE:a,USE_ANISOTROPY:l}=n,u=n.normalView||lr,c=o.pow2(),d=e.add(ki).normalize(),f=u.dot(e).clamp(),h=u.dot(ki).clamp(),p=u.dot(d).clamp(),v=ki.dot(d).clamp();let b=My({f0:i,f90:r,dotVH:v}),y,m;if(Ok(a)&&(b=gN.mix(b,s)),Ok(l)){const _=s_.dot(e),S=s_.dot(ki),w=s_.dot(d),T=$p.dot(e),A=$p.dot(ki),C=$p.dot(d);y=G4e({alphaT:P2,alphaB:c,dotTV:S,dotBV:A,dotTL:_,dotBL:T,dotNV:h,dotNL:f}),m=j4e({alphaT:P2,alphaB:c,dotNH:p,dotTH:w,dotBH:C})}else y=H4e({alpha:c,dotNL:f,dotNV:h}),m=V4e({alpha:c,dotNH:p});return b.mul(y).mul(m)}),xj=vt(({roughness:n,dotNV:e})=>{const i=rn(-1,-.0275,-.572,.022),r=rn(1,.0425,1.04,-.04),o=n.mul(i).add(r),s=o.x.mul(o.x).min(e.mul(-9.28).exp2()).mul(o.x).add(o.y);return _t(-1.04,1.04).mul(s).add(o.zw)}).setLayout({name:"DFGApprox",type:"vec2",inputs:[{name:"roughness",type:"float"},{name:"dotNV",type:"vec3"}]}),_j=vt(n=>{const{dotNV:e,specularColor:i,specularF90:r,roughness:o}=n,s=xj({dotNV:e,roughness:o});return i.mul(s.x).add(r.mul(s.y))}),K4e=vt(({f:n,f90:e,dotVH:i})=>{const r=i.oneMinus().saturate(),o=r.mul(r),s=r.mul(o,o).clamp(0,.9999);return n.sub(et(e).mul(s)).div(s.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),X4e=vt(({roughness:n,dotNH:e})=>{const i=n.pow2(),r=Ze(1).div(i),s=e.pow2().oneMinus().max(.0078125);return Ze(2).add(r).mul(s.pow(r.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),q4e=vt(({dotNV:n,dotNL:e})=>Ze(1).div(Ze(4).mul(e.add(n).sub(e.mul(n))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),Y4e=vt(({lightDirection:n})=>{const e=n.add(ki).normalize(),i=lr.dot(n).clamp(),r=lr.dot(ki).clamp(),o=lr.dot(e).clamp(),s=X4e({roughness:pN,dotNH:o}),a=q4e({dotNV:r,dotNL:i});return pp.mul(s).mul(a)}),Q4e=vt(({N:n,V:e,roughness:i})=>{const s=.0078125,a=n.dot(e).saturate(),l=_t(i,a.oneMinus().sqrt());return l.assign(l.mul(.984375).add(s)),l}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),Z4e=vt(({f:n})=>{const e=n.length();return ns(e.mul(e).add(n.z).div(e.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),ux=vt(({v1:n,v2:e})=>{const i=n.dot(e),r=i.abs().toVar(),o=r.mul(.0145206).add(.4965155).mul(r).add(.8543985).toVar(),s=r.add(4.1616724).mul(r).add(3.417594).toVar(),a=o.div(s),l=i.greaterThan(0).select(a,ns(i.mul(i).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(a));return n.cross(e).mul(l)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),qk=vt(({N:n,V:e,P:i,mInv:r,p0:o,p1:s,p2:a,p3:l})=>{const u=s.sub(o).toVar(),c=l.sub(o).toVar(),d=u.cross(c),f=et().toVar();return fr(d.dot(i.sub(o)).greaterThanEqual(0),()=>{const h=e.sub(n.mul(e.dot(n))).normalize(),p=n.cross(h).negate(),v=r.mul(Io(h,p,n).transpose()).toVar(),b=v.mul(o.sub(i)).normalize().toVar(),y=v.mul(s.sub(i)).normalize().toVar(),m=v.mul(a.sub(i)).normalize().toVar(),_=v.mul(l.sub(i)).normalize().toVar(),S=et(0).toVar();S.addAssign(ux({v1:b,v2:y})),S.addAssign(ux({v1:y,v2:m})),S.addAssign(ux({v1:m,v2:_})),S.addAssign(ux({v1:_,v2:b})),f.assign(et(Z4e({f:S})))}),f}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),Jw=1/6,Sj=n=>En(Jw,En(n,En(n,n.negate().add(3)).sub(3)).add(1)),D2=n=>En(Jw,En(n,En(n,En(3,n).sub(6))).add(4)),wj=n=>En(Jw,En(n,En(n,En(-3,n).add(3)).add(3)).add(1)),L2=n=>En(Jw,Kw(n,3)),Yk=n=>Sj(n).add(D2(n)),Qk=n=>wj(n).add(L2(n)),Zk=n=>No(-1,D2(n).div(Sj(n).add(D2(n)))),Jk=n=>No(1,L2(n).div(wj(n).add(L2(n)))),ez=(n,e,i)=>{const r=n.uvNode,o=En(r,e.zw).add(.5),s=Mf(o),a=gd(o),l=Yk(a.x),u=Qk(a.x),c=Zk(a.x),d=Jk(a.x),f=Zk(a.y),h=Jk(a.y),p=_t(s.x.add(c),s.y.add(f)).sub(.5).mul(e.xy),v=_t(s.x.add(d),s.y.add(f)).sub(.5).mul(e.xy),b=_t(s.x.add(c),s.y.add(h)).sub(.5).mul(e.xy),y=_t(s.x.add(d),s.y.add(h)).sub(.5).mul(e.xy),m=Yk(a.y).mul(No(l.mul(n.sample(p).level(i)),u.mul(n.sample(v).level(i)))),_=Qk(a.y).mul(No(l.mul(n.sample(b).level(i)),u.mul(n.sample(y).level(i))));return m.add(_)},J4e=vt(([n,e=Ze(3)])=>{const i=_t(n.size(Vi(e))),r=_t(n.size(Vi(e.add(1)))),o=Wu(1,i),s=Wu(1,r),a=ez(n,rn(o,i),Mf(e)),l=ez(n,rn(s,r),vN(e));return gd(e).mix(a,l)}),tz=vt(([n,e,i,r,o])=>{const s=et(V7(e.negate(),Sy(n),Wu(1,r))),a=et(Jc(o[0].xyz),Jc(o[1].xyz),Jc(o[2].xyz));return Sy(s).mul(i.mul(a))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),eke=vt(([n,e])=>n.mul(ju(e.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),tke=lj(),nke=lj(),nz=vt(([n,e,i],{material:r})=>{const s=(r.side===Ni?tke:nke).sample(n),a=Bu(O2.x).mul(eke(e,i));return J4e(s,a)}),iz=vt(([n,e,i])=>(fr(i.notEqual(0),()=>{const r=B7(e).negate().div(i);return L7(r.negate().mul(n))}),et(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),ike=vt(([n,e,i,r,o,s,a,l,u,c,d,f,h,p,v])=>{let b,y;if(v){b=rn().toVar(),y=et().toVar();const T=d.sub(1).mul(v.mul(.025)),A=et(d.sub(T),d,d.add(T));Ia({start:0,end:3},({i:C})=>{const R=A.element(C),E=tz(n,e,f,R,l),P=a.add(E),N=c.mul(u.mul(rn(P,1))),D=_t(N.xy.div(N.w)).toVar();D.addAssign(1),D.divAssign(2),D.assign(_t(D.x,D.y.oneMinus()));const $=nz(D,i,R);b.element(C).assign($.element(C)),b.a.addAssign($.a),y.element(C).assign(r.element(C).mul(iz(Jc(E),h,p).element(C)))}),b.a.divAssign(3)}else{const T=tz(n,e,f,d,l),A=a.add(T),C=c.mul(u.mul(rn(A,1))),R=_t(C.xy.div(C.w)).toVar();R.addAssign(1),R.divAssign(2),R.assign(_t(R.x,R.y.oneMinus())),b=nz(R,i,d),y=r.mul(iz(Jc(T),h,p))}const m=y.rgb.mul(b.rgb),_=n.dot(e).clamp(),S=et(_j({dotNV:_,specularColor:o,specularF90:s,roughness:i})),w=y.r.add(y.g,y.b).div(3);return rn(S.oneMinus().mul(m),b.a.oneMinus().mul(w).oneMinus())}),rke=Io(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),oke=n=>{const e=n.sqrt();return et(1).add(e).div(et(1).sub(e))},rz=(n,e)=>n.sub(e).div(n.add(e)).pow2(),ske=(n,e)=>{const i=n.mul(2*Math.PI*1e-9),r=et(54856e-17,44201e-17,52481e-17),o=et(1681e3,1795300,2208400),s=et(43278e5,93046e5,66121e5),a=Ze(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(i.mul(2239900).add(e.x).cos()).mul(i.pow2().mul(-45282e5).exp());let l=r.mul(s.mul(2*Math.PI).sqrt()).mul(o.mul(i).add(e).cos()).mul(i.pow2().negate().mul(s).exp());return l=et(l.x.add(a),l.y,l.z).div(10685e-11),rke.mul(l)},ake=vt(({outsideIOR:n,eta2:e,cosTheta1:i,thinFilmThickness:r,baseF0:o})=>{const s=bi(n,e,Wf(0,.03,r)),l=n.div(s).pow2().mul(i.pow2().oneMinus()).oneMinus();fr(l.lessThan(0),()=>et(1));const u=l.sqrt(),c=rz(s,n),d=My({f0:c,f90:1,dotVH:i}),f=d.oneMinus(),h=s.lessThan(n).select(Math.PI,0),p=Ze(Math.PI).sub(h),v=oke(o.clamp(0,.9999)),b=rz(v,s.toVec3()),y=My({f0:b,f90:1,dotVH:u}),m=et(v.x.lessThan(s).select(Math.PI,0),v.y.lessThan(s).select(Math.PI,0),v.z.lessThan(s).select(Math.PI,0)),_=s.mul(r,u,2),S=et(p).add(m),w=d.mul(y).clamp(1e-5,.9999),T=w.sqrt(),A=f.pow2().mul(y).div(et(1).sub(w)),R=d.add(A).toVar(),E=A.sub(f).toVar();return Ia({start:1,end:2,condition:"<=",name:"m"},({m:P})=>{E.mulAssign(T);const N=ske(Ze(P).mul(_),Ze(P).mul(S)).mul(2);R.addAssign(E.mul(N))}),R.max(et(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),lke=vt(({normal:n,viewDir:e,roughness:i})=>{const r=n.dot(e).saturate(),o=i.pow2(),s=Yo(i.lessThan(.25),Ze(-339.2).mul(o).add(Ze(161.4).mul(i)).sub(25.9),Ze(-8.48).mul(o).add(Ze(14.3).mul(i)).sub(9.95)),a=Yo(i.lessThan(.25),Ze(44).mul(o).sub(Ze(23.7).mul(i)).add(3.26),Ze(1.97).mul(o).sub(Ze(3.27).mul(i)).add(.72));return Yo(i.lessThan(.25),0,Ze(.1).mul(i).sub(.025)).add(s.mul(r).add(a).exp()).mul(1/Math.PI).saturate()}),DA=et(.04),LA=Ze(1);class Cj extends Zw{constructor(e=!1,i=!1,r=!1,o=!1,s=!1,a=!1){super(),this.clearcoat=e,this.sheen=i,this.iridescence=r,this.anisotropy=o,this.transmission=s,this.dispersion=a,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(e){if(this.clearcoat===!0&&(this.clearcoatRadiance=et().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=et().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=et().toVar("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=et().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=et().toVar("sheenSpecularIndirect")),this.iridescence===!0){const i=lr.dot(ki).clamp();this.iridescenceFresnel=ake({outsideIOR:Ze(1),eta2:E7,cosTheta1:i,thinFilmThickness:M7,baseF0:bs}),this.iridescenceF0=K4e({f:this.iridescenceFresnel,f90:1,dotVH:i})}if(this.transmission===!0){const i=Ty,r=G$e.sub(Ty).normalize(),o=TN;e.backdrop=ike(o,r,_u,Kn,bs,SS,i,jf,ic,SN,a_,R7,I7,P7,this.dispersion?N7:null),e.backdropAlpha=N2,Kn.a.mulAssign(bi(1,e.backdrop.a,N2))}}computeMultiscattering(e,i,r){const o=lr.dot(ki).clamp(),s=xj({roughness:_u,dotNV:o}),l=(this.iridescenceF0?gN.mix(bs,this.iridescenceF0):bs).mul(s.x).add(r.mul(s.y)),c=s.x.add(s.y).oneMinus(),d=bs.add(bs.oneMinus().mul(.047619)),f=l.mul(d).div(c.mul(d).oneMinus());e.addAssign(l),i.addAssign(f.mul(c))}direct({lightDirection:e,lightColor:i,reflectedLight:r}){const s=lr.dot(e).clamp().mul(i);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(s.mul(Y4e({lightDirection:e}))),this.clearcoat===!0){const l=ev.dot(e).clamp().mul(i);this.clearcoatSpecularDirect.addAssign(l.mul(Xk({lightDirection:e,f0:DA,f90:LA,roughness:_S,normalView:ev})))}r.directDiffuse.addAssign(s.mul(Cg({diffuseColor:Kn.rgb}))),r.directSpecular.addAssign(s.mul(Xk({lightDirection:e,f0:bs,f90:1,roughness:_u,iridescence:this.iridescence,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:e,lightPosition:i,halfWidth:r,halfHeight:o,reflectedLight:s,ltc_1:a,ltc_2:l}){const u=i.add(r).sub(o),c=i.sub(r).sub(o),d=i.sub(r).add(o),f=i.add(r).add(o),h=lr,p=ki,v=cr.toVar(),b=Q4e({N:h,V:p,roughness:_u}),y=a.sample(b).toVar(),m=l.sample(b).toVar(),_=Io(et(y.x,0,y.y),et(0,1,0),et(y.z,0,y.w)).toVar(),S=bs.mul(m.x).add(bs.oneMinus().mul(m.y)).toVar();s.directSpecular.addAssign(e.mul(S).mul(qk({N:h,V:p,P:v,mInv:_,p0:u,p1:c,p2:d,p3:f}))),s.directDiffuse.addAssign(e.mul(Kn).mul(qk({N:h,V:p,P:v,mInv:Io(1,0,0,0,1,0,0,0,1),p0:u,p1:c,p2:d,p3:f})))}indirect(e,i,r){this.indirectDiffuse(e,i,r),this.indirectSpecular(e,i,r),this.ambientOcclusion(e,i,r)}indirectDiffuse({irradiance:e,reflectedLight:i}){i.indirectDiffuse.addAssign(e.mul(Cg({diffuseColor:Kn})))}indirectSpecular({radiance:e,iblIrradiance:i,reflectedLight:r}){if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(i.mul(pp,lke({normal:lr,viewDir:ki,roughness:pN}))),this.clearcoat===!0){const c=ev.dot(ki).clamp(),d=_j({dotNV:c,specularColor:DA,specularF90:LA,roughness:_S});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(d))}const o=et().toVar("singleScattering"),s=et().toVar("multiScattering"),a=i.mul(1/Math.PI);this.computeMultiscattering(o,s,SS);const l=o.add(s),u=Kn.mul(l.r.max(l.g).max(l.b).oneMinus());r.indirectSpecular.addAssign(e.mul(o)),r.indirectSpecular.addAssign(s.mul(a)),r.indirectDiffuse.addAssign(u.mul(a))}ambientOcclusion({ambientOcclusion:e,reflectedLight:i}){const o=lr.dot(ki).clamp().add(e),s=_u.mul(-16).oneMinus().negate().exp2(),a=e.sub(o.pow(s).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(e),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(e),i.indirectDiffuse.mulAssign(e),i.indirectSpecular.mulAssign(a)}finish(e){const{outgoingLight:i}=e;if(this.clearcoat===!0){const r=ev.dot(ki).clamp(),o=My({dotVH:r,f0:DA,f90:LA}),s=i.mul(R2.mul(o).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(R2));i.assign(s)}if(this.sheen===!0){const r=pp.r.max(pp.g).max(pp.b).mul(.157).oneMinus(),o=i.mul(r).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);i.assign(o)}}}const oz=Ze(1),B2=Ze(-2),cx=Ze(.8),BA=Ze(-1),dx=Ze(.4),FA=Ze(2),fx=Ze(.305),$A=Ze(3),sz=Ze(.21),uke=Ze(4),az=Ze(4),cke=Ze(16),dke=vt(([n])=>{const e=et(Ys(n)).toVar(),i=Ze(-1).toVar();return fr(e.x.greaterThan(e.z),()=>{fr(e.x.greaterThan(e.y),()=>{i.assign(Yo(n.x.greaterThan(0),0,3))}).Else(()=>{i.assign(Yo(n.y.greaterThan(0),1,4))})}).Else(()=>{fr(e.z.greaterThan(e.y),()=>{i.assign(Yo(n.z.greaterThan(0),2,5))}).Else(()=>{i.assign(Yo(n.y.greaterThan(0),1,4))})}),i}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),fke=vt(([n,e])=>{const i=_t().toVar();return fr(e.equal(0),()=>{i.assign(_t(n.z,n.y).div(Ys(n.x)))}).ElseIf(e.equal(1),()=>{i.assign(_t(n.x.negate(),n.z.negate()).div(Ys(n.y)))}).ElseIf(e.equal(2),()=>{i.assign(_t(n.x.negate(),n.y).div(Ys(n.z)))}).ElseIf(e.equal(3),()=>{i.assign(_t(n.z.negate(),n.y).div(Ys(n.x)))}).ElseIf(e.equal(4),()=>{i.assign(_t(n.x.negate(),n.z).div(Ys(n.y)))}).Else(()=>{i.assign(_t(n.x,n.y).div(Ys(n.z)))}),En(.5,i.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),hke=vt(([n])=>{const e=Ze(0).toVar();return fr(n.greaterThanEqual(cx),()=>{e.assign(oz.sub(n).mul(BA.sub(B2)).div(oz.sub(cx)).add(B2))}).ElseIf(n.greaterThanEqual(dx),()=>{e.assign(cx.sub(n).mul(FA.sub(BA)).div(cx.sub(dx)).add(BA))}).ElseIf(n.greaterThanEqual(fx),()=>{e.assign(dx.sub(n).mul($A.sub(FA)).div(dx.sub(fx)).add(FA))}).ElseIf(n.greaterThanEqual(sz),()=>{e.assign(fx.sub(n).mul(uke.sub($A)).div(fx.sub(sz)).add($A))}).Else(()=>{e.assign(Ze(-2).mul(Bu(En(1.16,n))))}),e}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),pke=vt(([n,e])=>{const i=n.toVar();i.assign(En(2,i).sub(1));const r=et(i,1).toVar();return fr(e.equal(0),()=>{r.assign(r.zyx)}).ElseIf(e.equal(1),()=>{r.assign(r.xzy),r.xz.mulAssign(-1)}).ElseIf(e.equal(2),()=>{r.x.mulAssign(-1)}).ElseIf(e.equal(3),()=>{r.assign(r.zyx),r.xz.mulAssign(-1)}).ElseIf(e.equal(4),()=>{r.assign(r.xzy),r.xy.mulAssign(-1)}).ElseIf(e.equal(5),()=>{r.z.mulAssign(-1)}),r}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),gke=vt(([n,e,i,r,o,s])=>{const a=Ze(i),l=et(e),u=ju(hke(a),B2,s),c=gd(u),d=Mf(u),f=et(F2(n,l,d,r,o,s)).toVar();return fr(c.notEqual(0),()=>{const h=et(F2(n,l,d.add(1),r,o,s)).toVar();f.assign(bi(f,h,c))}),f}),F2=vt(([n,e,i,r,o,s])=>{const a=Ze(i).toVar(),l=et(e),u=Ze(dke(l)).toVar(),c=Ze(ns(az.sub(a),0)).toVar();a.assign(ns(a,az));const d=Ze(_y(a)).toVar(),f=_t(fke(l,u).mul(d.sub(2)).add(1)).toVar();return fr(u.greaterThan(2),()=>{f.y.addAssign(d),u.subAssign(3)}),f.x.addAssign(u.mul(d)),f.x.addAssign(c.mul(En(3,cke))),f.y.addAssign(En(4,_y(s).sub(d))),f.x.mulAssign(r),f.y.mulAssign(o),n.sample(f).grad(_t(),_t())}),UA=vt(({envMap:n,mipInt:e,outputDirection:i,theta:r,axis:o,CUBEUV_TEXEL_WIDTH:s,CUBEUV_TEXEL_HEIGHT:a,CUBEUV_MAX_MIP:l})=>{const u=Uc(r),c=i.mul(u).add(o.cross(i).mul(Ra(r))).add(o.mul(o.dot(i).mul(u.oneMinus())));return F2(n,c,e,s,a,l)}),mke=vt(({n,latitudinal:e,poleAxis:i,outputDirection:r,weights:o,samples:s,dTheta:a,mipInt:l,envMap:u,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:f})=>{const h=et(Yo(e,i,H7(i,r))).toVar();fr(D7(h.equals(et(0))),()=>{h.assign(et(r.z,0,r.x.negate()))}),h.assign(Sy(h));const p=et().toVar();return p.addAssign(o.element(Vi(0)).mul(UA({theta:0,axis:h,outputDirection:r,mipInt:l,envMap:u,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:f}))),Ia({start:Vi(1),end:n},({i:v})=>{fr(v.greaterThanEqual(s),()=>{n4e()});const b=Ze(a.mul(Ze(v))).toVar();p.addAssign(o.element(v).mul(UA({theta:b.mul(-1),axis:h,outputDirection:r,mipInt:l,envMap:u,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:f}))),p.addAssign(o.element(v).mul(UA({theta:b,axis:h,outputDirection:r,mipInt:l,envMap:u,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:f})))}),rn(p,1)});let TS=null;const lz=new WeakMap;function vke(n){const e=Math.log2(n)-2,i=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function yke(n){let e=lz.get(n);if((e!==void 0?e.pmremVersion:-1)!==n.pmremVersion){const r=n.image;if(n.isCubeTexture)if(xke(r))e=TS.fromCubemap(n,e);else return null;else if(_ke(r))e=TS.fromEquirectangular(n,e);else return null;e.pmremVersion=n.pmremVersion,lz.set(n,e)}return e.texture}class bke extends Ar{static get type(){return"PMREMNode"}constructor(e,i=null,r=null){super("vec3"),this._value=e,this._pmrem=null,this.uvNode=i,this.levelNode=r,this._generator=null;const o=new dr;o.isRenderTargetTexture=!0,this._texture=zn(o),this._width=ln(0),this._height=ln(0),this._maxMip=ln(0),this.updateBeforeType=Cn.RENDER}set value(e){this._value=e,this._pmrem=null}get value(){return this._value}updateFromTexture(e){const i=vke(e.image.height);this._texture.value=e,this._width.value=i.texelWidth,this._height.value=i.texelHeight,this._maxMip.value=i.maxMip}updateBefore(){let e=this._pmrem;const i=e?e.pmremVersion:-1,r=this._value;i!==r.pmremVersion&&(r.isPMREMTexture===!0?e=r:e=yke(r),e!==null&&(this._pmrem=e,this.updateFromTexture(e)))}setup(e){TS===null&&(TS=e.createPMREMGenerator()),this.updateBefore(e);let i=this.uvNode;i===null&&e.context.getUV&&(i=e.context.getUV(this));const r=this.value;e.renderer.coordinateSystem===qo&&r.isPMREMTexture!==!0&&r.isRenderTargetTexture===!0&&(i=et(i.x.negate(),i.yz)),i=et(i.x,i.y.negate(),i.z);let o=this.levelNode;return o===null&&e.context.getTextureLevel&&(o=e.context.getTextureLevel(this)),gke(this._texture,i,o,this._width,this._height,this._maxMip)}}function xke(n){if(n==null)return!1;let e=0;const i=6;for(let r=0;r<i;r++)n[r]!==void 0&&e++;return e===i}function _ke(n){return n==null?!1:n.height>0}const Tj=at(bke),uz=new WeakMap;class Ske extends Ug{static get type(){return"EnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){const{material:i}=e;let r=this.envNode;if(r.isTextureNode||r.isMaterialReferenceNode){const p=r.isTextureNode?r.value:i[r.property];let v=uz.get(p);v===void 0&&(v=Tj(p),uz.set(p,v)),r=v}const s=i.envMap?ni("envMapIntensity","float",e.material):ni("environmentIntensity","float",e.scene),l=i.useAnisotropy===!0||i.anisotropy>0?uUe:lr,u=r.context(cz(_u,l)).mul(s),c=r.context(wke(TN)).mul(Math.PI).mul(s),d=u_(u),f=u_(c);e.context.radiance.addAssign(d),e.context.iblIrradiance.addAssign(f);const h=e.context.lightingModel.clearcoatRadiance;if(h){const p=r.context(cz(_S,ev)).mul(s),v=u_(p);h.addAssign(v)}}}const cz=(n,e)=>{let i=null;return{getUV:()=>(i===null&&(i=ki.negate().reflect(e),i=n.mul(n).mix(i,e).normalize(),i=i.transformDirection(ic)),i),getTextureLevel:()=>n}},wke=n=>({getUV:()=>n,getTextureLevel:()=>Ze(1)}),Cke=new $9;class Aj extends hr{static get type(){return"MeshStandardNodeMaterial"}constructor(e){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(Cke),this.setValues(e)}setupEnvironment(e){let i=super.setupEnvironment(e);return i===null&&e.environmentNode&&(i=e.environmentNode),i?new Ske(i):null}setupLightingModel(){return new Cj}setupSpecular(){const e=bi(et(.04),Kn.rgb,xS);bs.assign(e),SS.assign(1)}setupVariants(){const e=this.metalnessNode?Ze(this.metalnessNode):wUe;xS.assign(e);let i=this.roughnessNode?Ze(this.roughnessNode):SUe;i=bj({roughness:i}),_u.assign(i),this.setupSpecular(),Kn.assign(rn(Kn.rgb.mul(e.oneMinus()),Kn.a))}copy(e){return this.emissiveNode=e.emissiveNode,this.metalnessNode=e.metalnessNode,this.roughnessNode=e.roughnessNode,super.copy(e)}}const Tke=new bIe;class Ake extends Aj{static get type(){return"MeshPhysicalNodeMaterial"}constructor(e){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(Tke),this.setValues(e)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const e=this.iorNode?Ze(this.iorNode):FUe;a_.assign(e),bs.assign(bi(wy(G7(a_.sub(1).div(a_.add(1))).mul(_Ue),et(1)).mul(Hk),Kn.rgb,xS)),SS.assign(bi(Hk,1,xS))}setupLightingModel(){return new Cj(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(e){if(super.setupVariants(e),this.useClearcoat){const i=this.clearcoatNode?Ze(this.clearcoatNode):TUe,r=this.clearcoatRoughnessNode?Ze(this.clearcoatRoughnessNode):AUe;R2.assign(i),_S.assign(bj({roughness:r}))}if(this.useSheen){const i=this.sheenNode?et(this.sheenNode):RUe,r=this.sheenRoughnessNode?Ze(this.sheenRoughnessNode):PUe;pp.assign(i),pN.assign(r)}if(this.useIridescence){const i=this.iridescenceNode?Ze(this.iridescenceNode):NUe,r=this.iridescenceIORNode?Ze(this.iridescenceIORNode):OUe,o=this.iridescenceThicknessNode?Ze(this.iridescenceThicknessNode):DUe;gN.assign(i),E7.assign(r),M7.assign(o)}if(this.useAnisotropy){const i=(this.anisotropyNode?_t(this.anisotropyNode):IUe).toVar();Xd.assign(i.length()),fr(Xd.equal(0),()=>{i.assign(_t(1,0))}).Else(()=>{i.divAssign(_t(Xd)),Xd.assign(Xd.saturate())}),P2.assign(Xd.pow2().mix(_u.pow2(),1)),s_.assign(tv[0].mul(i.x).add(tv[1].mul(i.y))),$p.assign(tv[1].mul(i.x).sub(tv[0].mul(i.y)))}if(this.useTransmission){const i=this.transmissionNode?Ze(this.transmissionNode):LUe,r=this.thicknessNode?Ze(this.thicknessNode):BUe,o=this.attenuationDistanceNode?Ze(this.attenuationDistanceNode):$Ue,s=this.attenuationColorNode?et(this.attenuationColorNode):UUe;if(N2.assign(i),R7.assign(r),P7.assign(o),I7.assign(s),this.useDispersion){const a=this.dispersionNode?Ze(this.dispersionNode):VUe;N7.assign(a)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?et(this.clearcoatNormalNode):EUe}setup(e){e.context.setupClearcoatNormal=()=>this.setupClearcoatNormal(e),super.setup(e)}copy(e){return this.clearcoatNode=e.clearcoatNode,this.clearcoatRoughnessNode=e.clearcoatRoughnessNode,this.clearcoatNormalNode=e.clearcoatNormalNode,this.sheenNode=e.sheenNode,this.sheenRoughnessNode=e.sheenRoughnessNode,this.iridescenceNode=e.iridescenceNode,this.iridescenceIORNode=e.iridescenceIORNode,this.iridescenceThicknessNode=e.iridescenceThicknessNode,this.specularIntensityNode=e.specularIntensityNode,this.specularColorNode=e.specularColorNode,this.transmissionNode=e.transmissionNode,this.thicknessNode=e.thicknessNode,this.attenuationDistanceNode=e.attenuationDistanceNode,this.attenuationColorNode=e.attenuationColorNode,this.dispersionNode=e.dispersionNode,this.anisotropyNode=e.anisotropyNode,super.copy(e)}}const Eke=vt(({normal:n,lightDirection:e,builder:i})=>{const r=n.dot(e),o=_t(r.mul(.5).add(.5),0);if(i.material.gradientMap){const s=zc("gradientMap","texture").context({getUV:()=>o});return et(s.r)}else{const s=o.fwidth().mul(.5);return bi(et(.7),et(1),Wf(Ze(.7).sub(s.x),Ze(.7).add(s.x),o.x))}});class Mke extends Zw{direct({lightDirection:e,lightColor:i,reflectedLight:r},o,s){const a=Eke({normal:Q7,lightDirection:e,builder:s}).mul(i);r.directDiffuse.addAssign(a.mul(Cg({diffuseColor:Kn.rgb})))}indirect({ambientOcclusion:e,irradiance:i,reflectedLight:r}){r.indirectDiffuse.addAssign(i.mul(Cg({diffuseColor:Kn}))),r.indirectDiffuse.mulAssign(e)}}const Rke=new _Ie;class Pke extends hr{static get type(){return"MeshToonNodeMaterial"}constructor(e){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(Rke),this.setValues(e)}setupLightingModel(){return new Mke}}class Ike extends Ar{static get type(){return"MatcapUVNode"}constructor(){super("vec2")}setup(){const e=et(ki.z,0,ki.x.negate()).normalize(),i=ki.cross(e);return _t(e.dot(lr),i.dot(lr)).mul(.495).add(.5)}}const Nke=xt(Ike),Oke=new TIe;class Dke extends hr{static get type(){return"MeshMatcapNodeMaterial"}constructor(e){super(),this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(Oke),this.setValues(e)}setupVariants(e){const i=Nke;let r;e.material.matcap?r=zc("matcap","texture").context({getUV:()=>i}):r=et(bi(.2,.8,i.y)),Kn.rgb.mulAssign(r.rgb)}}const Lke=new eIe;class Bke extends hr{static get type(){return"PointsNodeMaterial"}constructor(e){super(),this.isPointsNodeMaterial=!0,this.setDefaultValues(Lke),this.setValues(e)}}class Fke extends Ar{static get type(){return"RotateNode"}constructor(e,i){super(),this.positionNode=e,this.rotationNode=i}getNodeType(e){return this.positionNode.getNodeType(e)}setup(e){const{rotationNode:i,positionNode:r}=this;if(this.getNodeType(e)==="vec2"){const s=i.cos(),a=i.sin();return hN(s,a,a.negate(),s).mul(r)}else{const s=i,a=Fp(rn(1,0,0,0),rn(0,Uc(s.x),Ra(s.x).negate(),0),rn(0,Ra(s.x),Uc(s.x),0),rn(0,0,0,1)),l=Fp(rn(Uc(s.y),0,Ra(s.y),0),rn(0,1,0,0),rn(Ra(s.y).negate(),0,Uc(s.y),0),rn(0,0,0,1)),u=Fp(rn(Uc(s.z),Ra(s.z).negate(),0,0),rn(Ra(s.z),Uc(s.z),0,0),rn(0,0,1,0),rn(0,0,0,1));return a.mul(l).mul(u).mul(rn(r,1)).xyz}}}const $ke=at(Fke),Uke=new QI;class kke extends hr{static get type(){return"SpriteNodeMaterial"}constructor(e){super(),this.isSpriteNodeMaterial=!0,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.setDefaultValues(Uke),this.setValues(e)}setupPositionView(e){const{object:i,camera:r}=e,o=this.sizeAttenuation,{positionNode:s,rotationNode:a,scaleNode:l}=this,u=wN.mul(et(s||0));let c=_t(jf[0].xyz.length(),jf[1].xyz.length());if(l!==null&&(c=c.mul(l)),o===!1)if(r.isPerspectiveCamera)c=c.mul(u.z.negate());else{const p=Ze(2).div(SN.element(1).element(1));c=c.mul(p.mul(2))}let d=CN.xy;if(i.center&&i.center.isVector2===!0){const p=_$e("center","vec2",i);d=d.sub(p.sub(.5))}d=d.mul(c);const f=Ze(a||MUe),h=$ke(d,f);return rn(u.xy.add(h),u.zw)}copy(e){return this.positionNode=e.positionNode,this.rotationNode=e.rotationNode,this.scaleNode=e.scaleNode,super.copy(e)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(e){this._useSizeAttenuation!==e&&(this._useSizeAttenuation=e,this.needsUpdate=!0)}}class zke extends Zw{constructor(){super(),this.shadowNode=Ze(1).toVar("shadowMask")}direct({shadowMask:e}){this.shadowNode.mulAssign(e)}finish(e){Kn.a.mulAssign(this.shadowNode.oneMinus()),e.outgoingLight.rgb.assign(Kn.rgb)}}const Hke=new yIe;class Gke extends hr{static get type(){return"ShadowNodeMaterial"}constructor(e){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.setDefaultValues(Hke),this.setValues(e)}setupLightingModel(){return new zke}}vt(({texture:n,uv:e})=>{const r=et().toVar();return fr(e.x.lessThan(1e-4),()=>{r.assign(et(1,0,0))}).ElseIf(e.y.lessThan(1e-4),()=>{r.assign(et(0,1,0))}).ElseIf(e.z.lessThan(1e-4),()=>{r.assign(et(0,0,1))}).ElseIf(e.x.greaterThan(1-1e-4),()=>{r.assign(et(-1,0,0))}).ElseIf(e.y.greaterThan(1-1e-4),()=>{r.assign(et(0,-1,0))}).ElseIf(e.z.greaterThan(1-1e-4),()=>{r.assign(et(0,0,-1))}).Else(()=>{const s=n.sample(e.add(et(-.01,0,0))).r.sub(n.sample(e.add(et(.01,0,0))).r),a=n.sample(e.add(et(0,-.01,0))).r.sub(n.sample(e.add(et(0,.01,0))).r),l=n.sample(e.add(et(0,0,-.01))).r.sub(n.sample(e.add(et(0,0,.01))).r);r.assign(et(s,a,l))}),r.normalize()});class Vke{constructor(e,i){this.nodes=e,this.info=i,this._context=self,this._animationLoop=null,this._requestId=null}start(){const e=(i,r)=>{this._requestId=this._context.requestAnimationFrame(e),this.info.autoReset===!0&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this._animationLoop!==null&&this._animationLoop(i,r)};e()}stop(){this._context.cancelAnimationFrame(this._requestId),this._requestId=null}setAnimationLoop(e){this._animationLoop=e}setContext(e){this._context=e}dispose(){this.stop()}}class Rl{constructor(){this.weakMap=new WeakMap}get(e){let i=this.weakMap;for(let r=0;r<e.length;r++)if(i=i.get(e[r]),i===void 0)return;return i.get(e[e.length-1])}set(e,i){let r=this.weakMap;for(let o=0;o<e.length;o++){const s=e[o];r.has(s)===!1&&r.set(s,new WeakMap),r=r.get(s)}return r.set(e[e.length-1],i),this}delete(e){let i=this.weakMap;for(let r=0;r<e.length;r++)if(i=i.get(e[r]),i===void 0)return!1;return i.delete(e[e.length-1])}}let Wke=0;function jke(n){const e=Object.keys(n);let i=Object.getPrototypeOf(n);for(;i;){const r=Object.getOwnPropertyDescriptors(i);for(const o in r)if(r[o]!==void 0){const s=r[o];s&&typeof s.get=="function"&&e.push(o)}i=Object.getPrototypeOf(i)}return e}class Kke{constructor(e,i,r,o,s,a,l,u,c,d){this.id=Wke++,this._nodes=e,this._geometries=i,this.renderer=r,this.object=o,this.material=s,this.scene=a,this.camera=l,this.lightsNode=u,this.context=c,this.geometry=o.geometry,this.version=s.version,this.drawRange=null,this.attributes=null,this.pipeline=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.clippingContext=d,this.clippingContextCacheKey=d!==null?d.cacheKey:"",this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.material.addEventListener("dispose",this.onMaterialDispose)}updateClipping(e){this.clippingContext=e}get clippingNeedsUpdate(){return this.clippingContext===null||this.clippingContext.cacheKey===this.clippingContextCacheKey?!1:(this.clippingContextCacheKey=this.clippingContext.cacheKey,!0)}get hardwareClippingPlanes(){return this.material.hardwareClipping===!0?this.clippingContext.unionClippingCount:0}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().monitor)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getIndex(){return this._geometries.getIndex(this)}getIndirect(){return this._geometries.getIndirect(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}setGeometry(e){this.geometry=e,this.attributes=null}getAttributes(){if(this.attributes!==null)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,i=this.geometry,r=[],o=new Set;for(const s of e){const a=s.node&&s.node.attribute?s.node.attribute:i.getAttribute(s.name);if(a===void 0)continue;r.push(a);const l=a.isInterleavedBufferAttribute?a.data:a;o.add(l)}return this.attributes=r,this.vertexBuffers=Array.from(o.values()),r}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:e,material:i,geometry:r,group:o,drawRange:s}=this,a=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),l=this.getIndex(),u=l!==null,c=r.isInstancedBufferGeometry?r.instanceCount:e.count>1?e.count:1;if(c===0)return null;if(a.instanceCount=c,e.isBatchedMesh===!0)return a;let d=1;i.wireframe===!0&&!e.isPoints&&!e.isLineSegments&&!e.isLine&&!e.isLineLoop&&(d=2);let f=s.start*d,h=(s.start+s.count)*d;o!==null&&(f=Math.max(f,o.start*d),h=Math.min(h,(o.start+o.count)*d));const p=r.attributes.position;let v=1/0;u?v=l.count:p!=null&&(v=p.count),f=Math.max(f,0),h=Math.min(h,v);const b=h-f;return b<0||b===1/0?null:(a.vertexCount=b,a.firstVertex=f,a)}getGeometryCacheKey(){const{geometry:e}=this;let i="";for(const r of Object.keys(e.attributes).sort()){const o=e.attributes[r];i+=r+",",o.data&&(i+=o.data.stride+","),o.offset&&(i+=o.offset+","),o.itemSize&&(i+=o.itemSize+","),o.normalized&&(i+="n,")}return e.index&&(i+="index,"),i}getMaterialCacheKey(){const{object:e,material:i}=this;let r=i.customProgramCacheKey();for(const o of jke(i)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(o))continue;const s=i[o];let a;if(s!==null){const l=typeof s;l==="number"?a=s!==0?"1":"0":l==="object"?(a="{",s.isTexture&&(a+=s.mapping),a+="}"):a=String(s)}else a=String(s);r+=a+","}return r+=this.clippingContextCacheKey+",",e.geometry&&(r+=this.getGeometryCacheKey()),e.skeleton&&(r+=e.skeleton.bones.length+","),e.morphTargetInfluences&&(r+=e.morphTargetInfluences.length+","),e.isBatchedMesh&&(r+=e._matricesTexture.uuid+",",e._colorsTexture!==null&&(r+=e._colorsTexture.uuid+",")),e.count>1&&(r+=e.uuid+","),r+=e.receiveShadow+",",ABe(r)}get needsGeometryUpdate(){return this.geometry.id!==this.object.geometry.id}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let e=this._nodes.getCacheKey(this.scene,this.lightsNode);return this.object.receiveShadow&&(e+=1),e}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.onDispose()}}const qh=[];class Xke{constructor(e,i,r,o,s,a){this.renderer=e,this.nodes=i,this.geometries=r,this.pipelines=o,this.bindings=s,this.info=a,this.chainMaps={}}get(e,i,r,o,s,a,l,u){const c=this.getChainMap(u);qh[0]=e,qh[1]=i,qh[2]=a,qh[3]=s;let d=c.get(qh);return d===void 0?(d=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,i,r,o,s,a,l,u),c.set(qh,d)):(d.updateClipping(l),d.needsGeometryUpdate&&d.setGeometry(e.geometry),(d.version!==i.version||d.needsUpdate)&&(d.initialCacheKey!==d.getCacheKey()?(d.dispose(),d=this.get(e,i,r,o,s,a,l,u)):d.version=i.version)),d}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new Rl)}dispose(){this.chainMaps={}}createRenderObject(e,i,r,o,s,a,l,u,c,d,f){const h=this.getChainMap(f),p=new Kke(e,i,r,o,s,a,l,u,c,d);return p.onDispose=()=>{this.pipelines.delete(p),this.bindings.delete(p),this.nodes.delete(p),h.delete(p.getChainArray())},p}}class md{constructor(){this.data=new WeakMap}get(e){let i=this.data.get(e);return i===void 0&&(i={},this.data.set(e,i)),i}delete(e){let i=null;return this.data.has(e)&&(i=this.data.get(e),this.data.delete(e)),i}has(e){return this.data.has(e)}dispose(){this.data=new WeakMap}}const cl={VERTEX:1,INDEX:2,STORAGE:3,INDIRECT:4},Hc=16,qke=211,Yke=212;class Qke extends md{constructor(e){super(),this.backend=e}delete(e){const i=super.delete(e);return i!==void 0&&this.backend.destroyAttribute(e),i}update(e,i){const r=this.get(e);if(r.version===void 0)i===cl.VERTEX?this.backend.createAttribute(e):i===cl.INDEX?this.backend.createIndexAttribute(e):i===cl.STORAGE?this.backend.createStorageAttribute(e):i===cl.INDIRECT&&this.backend.createIndirectStorageAttribute(e),r.version=this._getBufferAttribute(e).version;else{const o=this._getBufferAttribute(e);(r.version<o.version||o.usage===cp)&&(this.backend.updateAttribute(e),r.version=o.version)}}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}function Zke(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function Ej(n){return n.index!==null?n.index.version:n.attributes.position.version}function dz(n){const e=[],i=n.index,r=n.attributes.position;if(i!==null){const s=i.array;for(let a=0,l=s.length;a<l;a+=3){const u=s[a+0],c=s[a+1],d=s[a+2];e.push(u,c,c,d,d,u)}}else{const s=r.array;for(let a=0,l=s.length/3-1;a<l;a+=3){const u=a+0,c=a+1,d=a+2;e.push(u,c,c,d,d,u)}}const o=new(Zke(e)?XI:KI)(e,1);return o.version=Ej(n),o}class Jke extends md{constructor(e,i){super(),this.attributes=e,this.info=i,this.wireframes=new WeakMap,this.attributeCall=new WeakMap}has(e){const i=e.geometry;return super.has(i)&&this.get(i).initialized===!0}updateForRender(e){this.has(e)===!1&&this.initGeometry(e),this.updateAttributes(e)}initGeometry(e){const i=e.geometry,r=this.get(i);r.initialized=!0,this.info.memory.geometries++;const o=()=>{this.info.memory.geometries--;const s=i.index,a=e.getAttributes();s!==null&&this.attributes.delete(s);for(const u of a)this.attributes.delete(u);const l=this.wireframes.get(i);l!==void 0&&this.attributes.delete(l),i.removeEventListener("dispose",o)};i.addEventListener("dispose",o)}updateAttributes(e){const i=e.getAttributes();for(const s of i)s.isStorageBufferAttribute||s.isStorageInstancedBufferAttribute?this.updateAttribute(s,cl.STORAGE):this.updateAttribute(s,cl.VERTEX);const r=this.getIndex(e);r!==null&&this.updateAttribute(r,cl.INDEX);const o=e.geometry.indirect;o!==null&&this.updateAttribute(o,cl.INDIRECT)}updateAttribute(e,i){const r=this.info.render.calls;e.isInterleavedBufferAttribute?this.attributeCall.get(e)===void 0?(this.attributes.update(e,i),this.attributeCall.set(e,r)):this.attributeCall.get(e.data)!==r&&(this.attributes.update(e,i),this.attributeCall.set(e.data,r),this.attributeCall.set(e,r)):this.attributeCall.get(e)!==r&&(this.attributes.update(e,i),this.attributeCall.set(e,r))}getIndirect(e){return e.geometry.indirect}getIndex(e){const{geometry:i,material:r}=e;let o=i.index;if(r.wireframe===!0){const s=this.wireframes;let a=s.get(i);a===void 0?(a=dz(i),s.set(i,a)):a.version!==Ej(i)&&(this.attributes.delete(a),a=dz(i),s.set(i,a)),o=a}return o}}class eze{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0,previousFrameCalls:0,timestampCalls:0},this.compute={calls:0,frameCalls:0,timestamp:0,previousFrameCalls:0,timestampCalls:0},this.memory={geometries:0,textures:0}}update(e,i,r){this.render.drawCalls++,e.isMesh||e.isSprite?this.render.triangles+=r*(i/3):e.isPoints?this.render.points+=r*i:e.isLineSegments?this.render.lines+=r*(i/2):e.isLine?this.render.lines+=r*(i-1):console.error("THREE.WebGPUInfo: Unknown object type.")}updateTimestamp(e,i){this[e].timestampCalls===0&&(this[e].timestamp=0),this[e].timestamp+=i,this[e].timestampCalls++,this[e].timestampCalls>=this[e].previousFrameCalls&&(this[e].timestampCalls=0)}reset(){const e=this.render.frameCalls;this.render.previousFrameCalls=e;const i=this.compute.frameCalls;this.compute.previousFrameCalls=i,this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class Mj{constructor(e){this.cacheKey=e,this.usedTimes=0}}class tze extends Mj{constructor(e,i,r){super(e),this.vertexProgram=i,this.fragmentProgram=r}}class nze extends Mj{constructor(e,i){super(e),this.computeProgram=i,this.isComputePipeline=!0}}let ize=0;class kA{constructor(e,i,r,o=null,s=null){this.id=ize++,this.code=e,this.stage=i,this.name=r,this.transforms=o,this.attributes=s,this.usedTimes=0}}class rze extends md{constructor(e,i){super(),this.backend=e,this.nodes=i,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(e,i){const{backend:r}=this,o=this.get(e);if(this._needsComputeUpdate(e)){const s=o.pipeline;s&&(s.usedTimes--,s.computeProgram.usedTimes--);const a=this.nodes.getForCompute(e);let l=this.programs.compute.get(a.computeShader);l===void 0&&(s&&s.computeProgram.usedTimes===0&&this._releaseProgram(s.computeProgram),l=new kA(a.computeShader,"compute",e.name,a.transforms,a.nodeAttributes),this.programs.compute.set(a.computeShader,l),r.createProgram(l));const u=this._getComputeCacheKey(e,l);let c=this.caches.get(u);c===void 0&&(s&&s.usedTimes===0&&this._releasePipeline(s),c=this._getComputePipeline(e,l,u,i)),c.usedTimes++,l.usedTimes++,o.version=e.version,o.pipeline=c}return o.pipeline}getForRender(e,i=null){const{backend:r}=this,o=this.get(e);if(this._needsRenderUpdate(e)){const s=o.pipeline;s&&(s.usedTimes--,s.vertexProgram.usedTimes--,s.fragmentProgram.usedTimes--);const a=e.getNodeBuilderState(),l=e.material?e.material.name:"";let u=this.programs.vertex.get(a.vertexShader);u===void 0&&(s&&s.vertexProgram.usedTimes===0&&this._releaseProgram(s.vertexProgram),u=new kA(a.vertexShader,"vertex",l),this.programs.vertex.set(a.vertexShader,u),r.createProgram(u));let c=this.programs.fragment.get(a.fragmentShader);c===void 0&&(s&&s.fragmentProgram.usedTimes===0&&this._releaseProgram(s.fragmentProgram),c=new kA(a.fragmentShader,"fragment",l),this.programs.fragment.set(a.fragmentShader,c),r.createProgram(c));const d=this._getRenderCacheKey(e,u,c);let f=this.caches.get(d);f===void 0?(s&&s.usedTimes===0&&this._releasePipeline(s),f=this._getRenderPipeline(e,u,c,d,i)):e.pipeline=f,f.usedTimes++,u.usedTimes++,c.usedTimes++,o.pipeline=f}return o.pipeline}delete(e){const i=this.get(e).pipeline;return i&&(i.usedTimes--,i.usedTimes===0&&this._releasePipeline(i),i.isComputePipeline?(i.computeProgram.usedTimes--,i.computeProgram.usedTimes===0&&this._releaseProgram(i.computeProgram)):(i.fragmentProgram.usedTimes--,i.vertexProgram.usedTimes--,i.vertexProgram.usedTimes===0&&this._releaseProgram(i.vertexProgram),i.fragmentProgram.usedTimes===0&&this._releaseProgram(i.fragmentProgram))),super.delete(e)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(e){this.getForRender(e)}_getComputePipeline(e,i,r,o){r=r||this._getComputeCacheKey(e,i);let s=this.caches.get(r);return s===void 0&&(s=new nze(r,i),this.caches.set(r,s),this.backend.createComputePipeline(s,o)),s}_getRenderPipeline(e,i,r,o,s){o=o||this._getRenderCacheKey(e,i,r);let a=this.caches.get(o);return a===void 0&&(a=new tze(o,i,r),this.caches.set(o,a),e.pipeline=a,this.backend.createRenderPipeline(e,s)),a}_getComputeCacheKey(e,i){return e.id+","+i.id}_getRenderCacheKey(e,i,r){return i.id+","+r.id+","+this.backend.getRenderCacheKey(e)}_releasePipeline(e){this.caches.delete(e.cacheKey)}_releaseProgram(e){const i=e.code,r=e.stage;this.programs[r].delete(i)}_needsComputeUpdate(e){const i=this.get(e);return i.pipeline===void 0||i.version!==e.version}_needsRenderUpdate(e){return this.get(e).pipeline===void 0||this.backend.needsRenderUpdate(e)}}class oze extends md{constructor(e,i,r,o,s,a){super(),this.backend=e,this.textures=r,this.pipelines=s,this.attributes=o,this.nodes=i,this.info=a,this.pipelines.bindings=this}getForRender(e){const i=e.getBindings();for(const r of i){const o=this.get(r);o.bindGroup===void 0&&(this._init(r),this.backend.createBindings(r,i,0),o.bindGroup=r)}return i}getForCompute(e){const i=this.nodes.getForCompute(e).bindings;for(const r of i){const o=this.get(r);o.bindGroup===void 0&&(this._init(r),this.backend.createBindings(r,i,0),o.bindGroup=r)}return i}updateForCompute(e){this._updateBindings(this.getForCompute(e))}updateForRender(e){this._updateBindings(this.getForRender(e))}_updateBindings(e){for(const i of e)this._update(i,e)}_init(e){for(const i of e.bindings)if(i.isSampledTexture)this.textures.updateTexture(i.texture);else if(i.isStorageBuffer){const r=i.attribute,o=r.isIndirectStorageBufferAttribute?cl.INDIRECT:cl.STORAGE;this.attributes.update(r,o)}}_update(e,i){const{backend:r}=this;let o=!1,s=!0,a=0,l=0;for(const u of e.bindings)if(!(u.isNodeUniformsGroup&&this.nodes.updateGroup(u)===!1)){if(u.isUniformBuffer)u.update()&&r.updateBinding(u);else if(u.isSampler)u.update();else if(u.isSampledTexture){const c=this.textures.get(u.texture);u.needsBindingsUpdate(c.generation)&&(o=!0);const d=u.update(),f=u.texture;d&&this.textures.updateTexture(f);const h=r.get(f);if(h.externalTexture!==void 0||c.isDefaultTexture?s=!1:(a=a*10+f.id,l+=f.version),r.isWebGPUBackend===!0&&h.texture===void 0&&h.externalTexture===void 0&&(console.error("Bindings._update: binding should be available:",u,d,f,u.textureNode.value,o),this.textures.updateTexture(f),o=!0),f.isStorageTexture===!0){const p=this.get(f);u.store===!0?p.needsMipmap=!0:this.textures.needsMipmaps(f)&&p.needsMipmap===!0&&(this.backend.generateMipmaps(f),p.needsMipmap=!1)}}}o===!0&&this.backend.updateBindings(e,i,s?a:0,l)}}function sze(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function fz(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function hz(n){return(n.transmission>0||n.transmissionNode)&&n.side===Ao&&n.forceSinglePass===!1}class aze{constructor(e,i,r){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparentDoublePass=[],this.transparent=[],this.bundles=[],this.lightsNode=e.getNode(i,r),this.lightsArray=[],this.scene=i,this.camera=r,this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparentDoublePass.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(e,i,r,o,s,a,l){let u=this.renderItems[this.renderItemsIndex];return u===void 0?(u={id:e.id,object:e,geometry:i,material:r,groupOrder:o,renderOrder:e.renderOrder,z:s,group:a,clippingContext:l},this.renderItems[this.renderItemsIndex]=u):(u.id=e.id,u.object=e,u.geometry=i,u.material=r,u.groupOrder=o,u.renderOrder=e.renderOrder,u.z=s,u.group=a,u.clippingContext=l),this.renderItemsIndex++,u}push(e,i,r,o,s,a,l){const u=this.getNextRenderItem(e,i,r,o,s,a,l);e.occlusionTest===!0&&this.occlusionQueryCount++,r.transparent===!0||r.transmission>0?(hz(r)&&this.transparentDoublePass.push(u),this.transparent.push(u)):this.opaque.push(u)}unshift(e,i,r,o,s,a,l){const u=this.getNextRenderItem(e,i,r,o,s,a,l);r.transparent===!0||r.transmission>0?(hz(r)&&this.transparentDoublePass.unshift(u),this.transparent.unshift(u)):this.opaque.unshift(u)}pushBundle(e){this.bundles.push(e)}pushLight(e){this.lightsArray.push(e)}sort(e,i){this.opaque.length>1&&this.opaque.sort(e||sze),this.transparentDoublePass.length>1&&this.transparentDoublePass.sort(i||fz),this.transparent.length>1&&this.transparent.sort(i||fz)}finish(){this.lightsNode.setLights(this.lightsArray);for(let e=this.renderItemsIndex,i=this.renderItems.length;e<i;e++){const r=this.renderItems[e];if(r.id===null)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.groupOrder=null,r.renderOrder=null,r.z=null,r.group=null,r.clippingContext=null}}}class lze{constructor(e){this.lighting=e,this.lists=new Rl}get(e,i){const r=this.lists,o=[e,i];let s=r.get(o);return s===void 0&&(s=new aze(this.lighting,e,i),r.set(o,s)),s}dispose(){this.lists=new Rl}}let uze=0;class cze{constructor(){this.id=uze++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new dn,this.scissor=!1,this.scissorValue=new dn,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.sampleCount=1,this.width=0,this.height=0,this.isRenderContext=!0}getCacheKey(){return Rj(this)}}function Rj(n){const{textures:e,activeCubeFace:i}=n,r=[i];for(const o of e)r.push(o.id);return aN(r)}class dze{constructor(){this.chainMaps={}}get(e=null,i=null,r=null){const o=[];e!==null&&o.push(e),i!==null&&o.push(i),o.length===0&&o.push({id:"default"});let s;if(r===null)s="default";else{const u=r.texture.format;s=`${r.textures.length}:${u}:${r.samples}:${r.depthBuffer}:${r.stencilBuffer}`}const a=this.getChainMap(s);let l=a.get(o);return l===void 0&&(l=new cze,a.set(o,l)),r!==null&&(l.sampleCount=r.samples===0?1:r.samples),l}getChainMap(e){return this.chainMaps[e]||(this.chainMaps[e]=new Rl)}dispose(){this.chainMaps={}}}const fze=new me;class hze extends md{constructor(e,i,r){super(),this.renderer=e,this.backend=i,this.info=r}updateRenderTarget(e,i=0){const r=this.get(e),o=e.samples===0?1:e.samples,s=r.depthTextureMips||(r.depthTextureMips={}),a=e.textures,l=this.getSize(a[0]),u=l.width>>i,c=l.height>>i;let d=e.depthTexture||s[i];const f=e.depthBuffer===!0||e.stencilBuffer===!0;let h=!1;d===void 0&&f&&(d=new pd,d.format=e.stencilBuffer?Tl:gl,d.type=e.stencilBuffer?Cl:Ui,d.image.width=u,d.image.height=c,s[i]=d),(r.width!==l.width||l.height!==r.height)&&(h=!0,d&&(d.needsUpdate=!0,d.image.width=u,d.image.height=c)),r.width=l.width,r.height=l.height,r.textures=a,r.depthTexture=d||null,r.depth=e.depthBuffer,r.stencil=e.stencilBuffer,r.renderTarget=e,r.sampleCount!==o&&(h=!0,d&&(d.needsUpdate=!0),r.sampleCount=o);const p={sampleCount:o};for(let v=0;v<a.length;v++){const b=a[v];h&&(b.needsUpdate=!0),this.updateTexture(b,p)}if(d&&this.updateTexture(d,p),r.initialized!==!0){r.initialized=!0;const v=()=>{e.removeEventListener("dispose",v);for(let b=0;b<a.length;b++)this._destroyTexture(a[b]);d&&this._destroyTexture(d),this.delete(e)};e.addEventListener("dispose",v)}}updateTexture(e,i={}){const r=this.get(e);if(r.initialized===!0&&r.version===e.version)return;const o=e.isRenderTargetTexture||e.isDepthTexture||e.isFramebufferTexture,s=this.backend;if(o&&r.initialized===!0&&(s.destroySampler(e),s.destroyTexture(e)),e.isFramebufferTexture){const c=this.renderer.getRenderTarget();c?e.type=c.texture.type:e.type=ao}const{width:a,height:l,depth:u}=this.getSize(e);if(i.width=a,i.height=l,i.depth=u,i.needsMipmaps=this.needsMipmaps(e),i.levels=i.needsMipmaps?this.getMipLevels(e,a,l):1,o||e.isStorageTexture===!0)s.createSampler(e),s.createTexture(e,i),r.generation=e.version;else if(r.initialized!==!0&&s.createSampler(e),e.version>0){const d=e.image;if(d===void 0)console.warn("THREE.Renderer: Texture marked for update but image is undefined.");else if(d.complete===!1)console.warn("THREE.Renderer: Texture marked for update but image is incomplete.");else{if(e.images){const f=[];for(const h of e.images)f.push(h);i.images=f}else i.image=d;(r.isDefaultTexture===void 0||r.isDefaultTexture===!0)&&(s.createTexture(e,i),r.isDefaultTexture=!1,r.generation=e.version),e.source.dataReady===!0&&s.updateTexture(e,i),i.needsMipmaps&&e.mipmaps.length===0&&s.generateMipmaps(e)}}else s.createDefaultTexture(e),r.isDefaultTexture=!0,r.generation=e.version;if(r.initialized!==!0){r.initialized=!0,r.generation=e.version,this.info.memory.textures++;const c=()=>{e.removeEventListener("dispose",c),this._destroyTexture(e),this.info.memory.textures--};e.addEventListener("dispose",c)}r.version=e.version}getSize(e,i=fze){let r=e.images?e.images[0]:e.image;return r?(r.image!==void 0&&(r=r.image),i.width=r.width||1,i.height=r.height||1,i.depth=e.isCubeTexture?6:r.depth||1):i.width=i.height=i.depth=1,i}getMipLevels(e,i,r){let o;return e.isCompressedTexture?e.mipmaps?o=e.mipmaps.length:o=1:o=Math.floor(Math.log2(Math.max(i,r)))+1,o}needsMipmaps(e){return this.isEnvironmentTexture(e)||e.isCompressedTexture===!0||e.generateMipmaps}isEnvironmentTexture(e){const i=e.mapping;return i===id||i===rd||i===ca||i===da}_destroyTexture(e){this.backend.destroySampler(e),this.backend.destroyTexture(e),this.delete(e)}}class IN extends Lt{constructor(e,i,r,o=1){super(e,i,r),this.a=o}set(e,i,r,o=1){return this.a=o,super.set(e,i,r)}copy(e){return e.a!==void 0&&(this.a=e.a),super.copy(e)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}class pze extends Jn{static get type(){return"ParameterNode"}constructor(e,i=null){super(e,i),this.isParameterNode=!0}getHash(){return this.uuid}generate(){return this.name}}class gze extends fn{static get type(){return"StackNode"}constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this.isStackNode=!0}getNodeType(e){return this.outputNode?this.outputNode.getNodeType(e):"void"}add(e){return this.nodes.push(e),this}If(e,i){const r=new o_(i);return this._currentCond=Yo(e,r),this.add(this._currentCond)}ElseIf(e,i){const r=new o_(i),o=Yo(e,r);return this._currentCond.elseNode=o,this._currentCond=o,this}Else(e){return this._currentCond.elseNode=new o_(e),this}build(e,...i){const r=S7();yS(this);for(const o of this.nodes)o.build(e,"void");return yS(r),this.outputNode?this.outputNode.build(e,...i):super.build(e,...i)}else(...e){return console.warn("TSL.StackNode: .else() has been renamed to .Else()."),this.Else(...e)}elseif(...e){return console.warn("TSL.StackNode: .elseif() has been renamed to .ElseIf()."),this.ElseIf(...e)}}const zA=at(gze);new Ma;new me;new me;new me;new Mn;new me(0,0,-1);new dn;new me;new me;new dn;new dt;const mze=new Lg;Ey.flipX();mze.depthTexture=new pd(1,1);const HA=new Jy(-1,1,1,-1,0,1);class vze extends co{constructor(e=!1){super();const i=e===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new ir([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new ir(i,2))}}const yze=new vze;class Pj extends Lr{constructor(e=null){super(yze,e),this.camera=HA,this.isQuadMesh=!0}async renderAsync(e){return e.renderAsync(this,HA)}render(e){e.render(this,HA)}}const Bm=new Ps,GA=new Mn;class Zo extends fn{static get type(){return"SceneNode"}constructor(e=Zo.BACKGROUND_BLURRINESS,i=null){super(),this.scope=e,this.scene=i}setup(e){const i=this.scope,r=this.scene!==null?this.scene:e.scene;let o;return i===Zo.BACKGROUND_BLURRINESS?o=ni("backgroundBlurriness","float",r):i===Zo.BACKGROUND_INTENSITY?o=ni("backgroundIntensity","float",r):i===Zo.BACKGROUND_ROTATION?o=ln("mat4").label("backgroundRotation").setGroup(Zt).onRenderUpdate(()=>{const s=r.background;return s!==null&&s.isTexture&&s.mapping!==OI?(Bm.copy(r.backgroundRotation),Bm.x*=-1,Bm.y*=-1,Bm.z*=-1,GA.makeRotationFromEuler(Bm)):GA.identity(),GA}):console.error("THREE.SceneNode: Unknown scope:",i),o}}Zo.BACKGROUND_BLURRINESS="backgroundBlurriness";Zo.BACKGROUND_INTENSITY="backgroundIntensity";Zo.BACKGROUND_ROTATION="backgroundRotation";const bze=xt(Zo,Zo.BACKGROUND_BLURRINESS),pz=xt(Zo,Zo.BACKGROUND_INTENSITY),xze=xt(Zo,Zo.BACKGROUND_ROTATION),_ze=new dt;class Sze extends i0{static get type(){return"PassTextureNode"}constructor(e,i){super(i),this.passNode=e,this.setUpdateMatrix(!1)}setup(e){return e.object.isQuadMesh&&this.passNode.build(e),super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class gz extends Sze{static get type(){return"PassMultipleTextureNode"}constructor(e,i,r=!1){super(e,null),this.textureName=i,this.previousTexture=r}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(e){return this.updateTexture(),super.setup(e)}clone(){return new this.constructor(this.passNode,this.textureName,this.previousTexture)}}class e1 extends Ar{static get type(){return"PassNode"}constructor(e,i,r,o={}){super("vec4"),this.scope=e,this.scene=i,this.camera=r,this.options=o,this._pixelRatio=1,this._width=1,this._height=1;const s=new pd;s.isRenderTargetTexture=!0,s.name="depth";const a=new Lg(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Ro,...o});a.texture.name="output",a.depthTexture=s,this.renderTarget=a,this._textures={output:a.texture,depth:s},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=ln(0),this._cameraFar=ln(0),this._mrt=null,this.isPassNode=!0,this.updateBeforeType=Cn.FRAME}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}isGlobal(){return!0}getTexture(e){let i=this._textures[e];return i===void 0&&(i=this.renderTarget.texture.clone(),i.name=e,this._textures[e]=i,this.renderTarget.textures.push(i)),i}getPreviousTexture(e){let i=this._previousTextures[e];return i===void 0&&(i=this.getTexture(e).clone(),this._previousTextures[e]=i),i}toggleTexture(e){const i=this._previousTextures[e];if(i!==void 0){const r=this._textures[e],o=this.renderTarget.textures.indexOf(r);this.renderTarget.textures[o]=i,this._textures[e]=i,this._previousTextures[e]=r,this._textureNodes[e].updateTexture(),this._previousTextureNodes[e].updateTexture()}}getTextureNode(e="output"){let i=this._textureNodes[e];return i===void 0&&(i=mt(new gz(this,e)),i.updateTexture(),this._textureNodes[e]=i),i}getPreviousTextureNode(e="output"){let i=this._previousTextureNodes[e];return i===void 0&&(this._textureNodes[e]===void 0&&this.getTextureNode(e),i=mt(new gz(this,e,!0)),i.updateTexture(),this._previousTextureNodes[e]=i),i}getViewZNode(e="depth"){let i=this._viewZNodes[e];if(i===void 0){const r=this._cameraNear,o=this._cameraFar;this._viewZNodes[e]=i=uj(this.getTextureNode(e),r,o)}return i}getLinearDepthNode(e="depth"){let i=this._linearDepthNodes[e];if(i===void 0){const r=this._cameraNear,o=this._cameraFar,s=this.getViewZNode(e);this._linearDepthNodes[e]=i=Rv(s,r,o)}return i}setup({renderer:e}){return this.renderTarget.samples=this.options.samples===void 0?e.samples:this.options.samples,e.backend.isWebGLBackend===!0&&(this.renderTarget.samples=0),this.scope===e1.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(e){const{renderer:i}=e,{scene:r,camera:o}=this;this._pixelRatio=i.getPixelRatio();const s=i.getSize(_ze);this.setSize(s.width,s.height);const a=i.getRenderTarget(),l=i.getMRT();this._cameraNear.value=o.near,this._cameraFar.value=o.far;for(const u in this._previousTextures)this.toggleTexture(u);i.setRenderTarget(this.renderTarget),i.setMRT(this._mrt),i.render(r,o),i.setRenderTarget(a),i.setMRT(l)}setSize(e,i){this._width=e,this._height=i;const r=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget.setSize(r,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}e1.COLOR="color";e1.DEPTH="depth";const wze=vt(([n,e])=>n.mul(e).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Cze=vt(([n,e])=>(n=n.mul(e),n.div(n.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Tze=vt(([n,e])=>{n=n.mul(e),n=n.sub(.004).max(0);const i=n.mul(n.mul(6.2).add(.5)),r=n.mul(n.mul(6.2).add(1.7)).add(.06);return i.div(r).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Aze=vt(([n])=>{const e=n.mul(n.add(.0245786)).sub(90537e-9),i=n.mul(n.add(.432951).mul(.983729)).add(.238081);return e.div(i)}),Eze=vt(([n,e])=>{const i=Io(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),r=Io(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return n=n.mul(e).div(.6),n=i.mul(n),n=Aze(n),n=r.mul(n),n.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Mze=Io(et(1.6605,-.1246,-.0182),et(-.5876,1.1329,-.1006),et(-.0728,-.0083,1.1187)),Rze=Io(et(.6274,.0691,.0164),et(.3293,.9195,.088),et(.0433,.0113,.8956)),Pze=vt(([n])=>{const e=et(n).toVar(),i=et(e.mul(e)).toVar(),r=et(i.mul(i)).toVar();return Ze(15.5).mul(r.mul(i)).sub(En(40.14,r.mul(e))).add(En(31.96,r).sub(En(6.868,i.mul(e))).add(En(.4298,i).add(En(.1191,e).sub(.00232))))}),Ize=vt(([n,e])=>{const i=et(n).toVar(),r=Io(et(.856627153315983,.137318972929847,.11189821299995),et(.0951212405381588,.761241990602591,.0767994186031903),et(.0482516061458583,.101439036467562,.811302368396859)),o=Io(et(1.1271005818144368,-.1413297634984383,-.14132976349843826),et(-.11060664309660323,1.157823702216272,-.11060664309660294),et(-.016493938717834573,-.016493938717834257,1.2519364065950405)),s=Ze(-12.47393),a=Ze(4.026069);return i.mulAssign(e),i.assign(Rze.mul(i)),i.assign(r.mul(i)),i.assign(ns(i,1e-10)),i.assign(Bu(i)),i.assign(i.sub(s).div(a.sub(s))),i.assign(ju(i,0,1)),i.assign(Pze(i)),i.assign(o.mul(i)),i.assign(Kw(ns(et(0),i),et(2.2))),i.assign(Mze.mul(i)),i.assign(ju(i,0,1)),i}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Nze=vt(([n,e])=>{const i=Ze(.76),r=Ze(.15);n=n.mul(e);const o=wy(n.r,wy(n.g,n.b)),s=Yo(o.lessThan(.08),o.sub(En(6.25,o.mul(o))),.04);n.subAssign(s);const a=ns(n.r,ns(n.g,n.b));fr(a.lessThan(i),()=>n);const l=jo(1,i),u=jo(1,l.mul(l).div(a.add(l.sub(i))));n.mulAssign(u.div(a));const c=jo(1,Wu(1,r.mul(a.sub(u)).add(1)));return bi(n,et(u),c)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class br extends fn{static get type(){return"CodeNode"}constructor(e="",i=[],r=""){super("code"),this.isCodeNode=!0,this.code=e,this.includes=i,this.language=r}isGlobal(){return!0}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const i=this.getIncludes(e);for(const o of i)o.build(e);const r=e.getCodeFromNode(this,this.getNodeType(e));return r.code=this.code,r.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}class Oze extends br{static get type(){return"FunctionNode"}constructor(e="",i=[],r=""){super(e,i,r)}getNodeType(e){return this.getNodeFunction(e).type}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const i=e.getDataFromNode(this);let r=i.nodeFunction;return r===void 0&&(r=e.parser.parseFunction(this.code),i.nodeFunction=r),r}generate(e,i){super.generate(e);const r=this.getNodeFunction(e),o=r.name,s=r.type,a=e.getCodeFromNode(this,s);o!==""&&(a.name=o);const l=e.getPropertyName(a),u=this.getNodeFunction(e).getCode(l);return a.code=u+`
`,i==="property"?l:e.format(`${l}()`,s,i)}}function Ij(n){let e;const i=n.context.getViewZ;return i!==void 0&&(e=i(this)),(e||cr.z).negate()}const Dze=vt(([n,e],i)=>{const r=Ij(i);return Wf(n,e,r)}),Lze=vt(([n],e)=>{const i=Ij(e);return n.mul(n,i,i).negate().exp().oneMinus()}),mz=vt(([n,e])=>rn(e.toFloat().mix(wS.rgb,n.toVec3()),wS.a));class Bze extends fn{constructor(e){super(),this.scope=e}generate(e){const{scope:i}=this,{renderer:r}=e;r.backend.isWebGLBackend===!0?e.addFlowCode(`	// ${i}Barrier 
`):e.addLineFlowCode(`${i}Barrier()`,this)}}at(Bze);class Ol extends Ar{static get type(){return"AtomicFunctionNode"}constructor(e,i,r,o=null){super("uint"),this.method=e,this.pointerNode=i,this.valueNode=r,this.storeNode=o}getInputType(e){return this.pointerNode.getNodeType(e)}getNodeType(e){return this.getInputType(e)}generate(e){const i=this.method,r=this.getNodeType(e),o=this.getInputType(e),s=this.pointerNode,a=this.valueNode,l=[];l.push(`&${s.build(e,o)}`),l.push(a.build(e,o));const u=`${e.getMethod(i,r)}( ${l.join(", ")} )`;if(this.storeNode!==null){const c=this.storeNode.build(e,o);e.addLineFlowCode(`${c} = ${u}`,this)}else e.addLineFlowCode(u,this)}}Ol.ATOMIC_LOAD="atomicLoad";Ol.ATOMIC_STORE="atomicStore";Ol.ATOMIC_ADD="atomicAdd";Ol.ATOMIC_SUB="atomicSub";Ol.ATOMIC_MAX="atomicMax";Ol.ATOMIC_MIN="atomicMin";Ol.ATOMIC_AND="atomicAnd";Ol.ATOMIC_OR="atomicOr";Ol.ATOMIC_XOR="atomicXor";at(Ol);let hx;function r0(n){hx=hx||new WeakMap;let e=hx.get(n);return e===void 0&&hx.set(n,e={}),e}function Nj(n){const e=r0(n);return e.shadowMatrix||(e.shadowMatrix=ln("mat4").setGroup(Zt).onRenderUpdate(()=>(n.castShadow!==!0&&n.shadow.updateMatrices(n),n.shadow.matrix)))}function Fze(n){const e=r0(n);if(e.projectionUV===void 0){const i=Nj(n).mul(Ty);e.projectionUV=i.xyz.div(i.w)}return e.projectionUV}function Oj(n){const e=r0(n);return e.position||(e.position=ln(new me).setGroup(Zt).onRenderUpdate((i,r)=>r.value.setFromMatrixPosition(n.matrixWorld)))}function $ze(n){const e=r0(n);return e.targetPosition||(e.targetPosition=ln(new me).setGroup(Zt).onRenderUpdate((i,r)=>r.value.setFromMatrixPosition(n.target.matrixWorld)))}function NN(n){const e=r0(n);return e.viewPosition||(e.viewPosition=ln(new me).setGroup(Zt).onRenderUpdate(({camera:i},r)=>{r.value=r.value||new me,r.value.setFromMatrixPosition(n.matrixWorld),r.value.applyMatrix4(i.matrixWorldInverse)}))}const Dj=n=>ic.transformDirection(Oj(n).sub($ze(n))),Uze=n=>n.sort((e,i)=>e.id-i.id),kze=(n,e)=>{for(const i of e)if(i.isAnalyticLightNode&&i.light.id===n)return i;return null},VA=new WeakMap;class Lj extends fn{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=et().toVar("totalDiffuse"),this.totalSpecularNode=et().toVar("totalSpecular"),this.outgoingLightNode=et().toVar("outgoingLight"),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const e=[],i=this._lights;for(let r=0;r<i.length;r++)e.push(i[r].id);return aN(e)}getHash(e){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(e);const i=[];for(const r of this._lightNodes)i.push(r.getSelf().getHash());this._lightNodesHash="lights-"+i.join(",")}return this._lightNodesHash}analyze(e){const i=e.getDataFromNode(this);for(const r of i.nodes)r.build(e)}setupLightsNode(e){const i=[],r=this._lightNodes,o=Uze(this._lights),s=e.renderer.library;for(const a of o)if(a.isNode)i.push(mt(a));else{let l=null;if(r!==null&&(l=kze(a.id,r)),l===null){const u=s.getLightNodeClass(a.constructor);if(u===null){console.warn(`LightsNode.setupNodeLights: Light node not found for ${a.constructor.name}`);continue}let c=null;VA.has(a)?c=VA.get(a):(c=mt(new u(a)),VA.set(a,c)),i.push(c)}}this._lightNodes=i}setupLights(e,i){for(const r of i)r.build(e)}setup(e){this._lightNodes===null&&this.setupLightsNode(e);const i=e.context,r=i.lightingModel;let o=this.outgoingLightNode;if(r){const{_lightNodes:s,totalDiffuseNode:a,totalSpecularNode:l}=this;i.outgoingLight=o;const u=e.addStack(),c=e.getDataFromNode(this);c.nodes=u.nodes,r.start(i,u,e),this.setupLights(e,s),r.indirect(i,u,e);const{backdrop:d,backdropAlpha:f}=i,{directDiffuse:h,directSpecular:p,indirectDiffuse:v,indirectSpecular:b}=i.reflectedLight;let y=h.add(v);d!==null&&(f!==null?y=et(f.mix(y,d)):y=et(d),i.material.transparent=!0),a.assign(y),l.assign(p.add(b)),o.assign(a.add(l)),r.finish(i,u,e),o=o.bypass(e.removeStack())}return o}setLights(e){return this._lights=e,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}class zze extends fn{static get type(){return"ShadowBaseNode"}constructor(e){super(),this.light=e,this.updateBeforeType=Cn.RENDER,this.isShadowBaseNode=!0}setupShadowPosition({material:e}){Bj.assign(e.shadowPositionNode||Ty)}dispose(){this.updateBeforeType=Cn.NONE}}const Bj=et().toVar("shadowPositionWorld");function Hze(n,e={}){return e.toneMapping=n.toneMapping,e.toneMappingExposure=n.toneMappingExposure,e.outputColorSpace=n.outputColorSpace,e.renderTarget=n.getRenderTarget(),e.activeCubeFace=n.getActiveCubeFace(),e.activeMipmapLevel=n.getActiveMipmapLevel(),e.renderObjectFunction=n.getRenderObjectFunction(),e.pixelRatio=n.getPixelRatio(),e.mrt=n.getMRT(),e.clearColor=n.getClearColor(e.clearColor||new Lt),e.clearAlpha=n.getClearAlpha(),e.autoClear=n.autoClear,e.scissorTest=n.getScissorTest(),e}function Gze(n,e){return e=Hze(n,e),n.setMRT(null),n.setRenderObjectFunction(null),n.setClearColor(0,1),n.autoClear=!0,e}function Vze(n,e){n.toneMapping=e.toneMapping,n.toneMappingExposure=e.toneMappingExposure,n.outputColorSpace=e.outputColorSpace,n.setRenderTarget(e.renderTarget,e.activeCubeFace,e.activeMipmapLevel),n.setRenderObjectFunction(e.renderObjectFunction),n.setPixelRatio(e.pixelRatio),n.setMRT(e.mrt),n.setClearColor(e.clearColor,e.clearAlpha),n.autoClear=e.autoClear,n.setScissorTest(e.scissorTest)}function Wze(n,e={}){return e.background=n.background,e.backgroundNode=n.backgroundNode,e.overrideMaterial=n.overrideMaterial,e}function jze(n,e){return e=Wze(n,e),n.background=null,n.backgroundNode=null,n.overrideMaterial=null,e}function Kze(n,e){n.background=e.background,n.backgroundNode=e.backgroundNode,n.overrideMaterial=e.overrideMaterial}function Xze(n,e,i){return i=Gze(n,i),i=jze(e,i),i}function qze(n,e,i){Vze(n,i),Kze(e,i)}const vz=new WeakMap,Yze=vt(([n,e,i])=>{let r=Ty.sub(n).length();return r=r.sub(e).div(i.sub(e)),r=r.saturate(),r}),Qze=n=>{const e=n.shadow.camera,i=ni("near","float",e).setGroup(Zt),r=ni("far","float",e).setGroup(Zt),o=V$e(n);return Yze(o,i,r)},Zze=n=>{let e=vz.get(n);if(e===void 0){const i=n.isPointLight?Qze(n):null;e=new hr,e.colorNode=rn(0,0,0,1),e.depthNode=i,e.isShadowNodeMaterial=!0,e.name="ShadowMaterial",e.fog=!1,vz.set(n,e)}return e},Jze=vt(({depthTexture:n,shadowCoord:e})=>zn(n,e.xy).compare(e.z)),e5e=vt(({depthTexture:n,shadowCoord:e,shadow:i})=>{const r=(b,y)=>zn(n,b).compare(y),o=ni("mapSize","vec2",i).setGroup(Zt),s=ni("radius","float",i).setGroup(Zt),a=_t(1).div(o),l=a.x.negate().mul(s),u=a.y.negate().mul(s),c=a.x.mul(s),d=a.y.mul(s),f=l.div(2),h=u.div(2),p=c.div(2),v=d.div(2);return No(r(e.xy.add(_t(l,u)),e.z),r(e.xy.add(_t(0,u)),e.z),r(e.xy.add(_t(c,u)),e.z),r(e.xy.add(_t(f,h)),e.z),r(e.xy.add(_t(0,h)),e.z),r(e.xy.add(_t(p,h)),e.z),r(e.xy.add(_t(l,0)),e.z),r(e.xy.add(_t(f,0)),e.z),r(e.xy,e.z),r(e.xy.add(_t(p,0)),e.z),r(e.xy.add(_t(c,0)),e.z),r(e.xy.add(_t(f,v)),e.z),r(e.xy.add(_t(0,v)),e.z),r(e.xy.add(_t(p,v)),e.z),r(e.xy.add(_t(l,d)),e.z),r(e.xy.add(_t(0,d)),e.z),r(e.xy.add(_t(c,d)),e.z)).mul(1/17)}),t5e=vt(({depthTexture:n,shadowCoord:e,shadow:i})=>{const r=(d,f)=>zn(n,d).compare(f),o=ni("mapSize","vec2",i).setGroup(Zt),s=_t(1).div(o),a=s.x,l=s.y,u=e.xy,c=gd(u.mul(o).add(.5));return u.subAssign(c.mul(s)),No(r(u,e.z),r(u.add(_t(a,0)),e.z),r(u.add(_t(0,l)),e.z),r(u.add(s),e.z),bi(r(u.add(_t(a.negate(),0)),e.z),r(u.add(_t(a.mul(2),0)),e.z),c.x),bi(r(u.add(_t(a.negate(),l)),e.z),r(u.add(_t(a.mul(2),l)),e.z),c.x),bi(r(u.add(_t(0,l.negate())),e.z),r(u.add(_t(0,l.mul(2))),e.z),c.y),bi(r(u.add(_t(a,l.negate())),e.z),r(u.add(_t(a,l.mul(2))),e.z),c.y),bi(bi(r(u.add(_t(a.negate(),l.negate())),e.z),r(u.add(_t(a.mul(2),l.negate())),e.z),c.x),bi(r(u.add(_t(a.negate(),l.mul(2))),e.z),r(u.add(_t(a.mul(2),l.mul(2))),e.z),c.x),c.y)).mul(1/9)}),n5e=vt(({depthTexture:n,shadowCoord:e})=>{const i=Ze(1).toVar(),r=zn(n).sample(e.xy).rg,o=z7(e.z,r.x);return fr(o.notEqual(Ze(1)),()=>{const s=e.z.sub(r.x),a=ns(0,r.y.mul(r.y));let l=a.div(a.add(s.mul(s)));l=ju(jo(l,.3).div(.95-.3)),i.assign(ju(ns(o,l)))}),i}),i5e=vt(({samples:n,radius:e,size:i,shadowPass:r})=>{const o=Ze(0).toVar(),s=Ze(0).toVar(),a=n.lessThanEqual(Ze(1)).select(Ze(0),Ze(2).div(n.sub(1))),l=n.lessThanEqual(Ze(1)).select(Ze(0),Ze(-1));Ia({start:Vi(0),end:Vi(n),type:"int",condition:"<"},({i:c})=>{const d=l.add(Ze(c).mul(a)),f=r.sample(No(Qw.xy,_t(0,d).mul(e)).div(i)).x;o.addAssign(f),s.addAssign(f.mul(f))}),o.divAssign(n),s.divAssign(n);const u=mN(s.sub(o.mul(o)));return _t(o,u)}),r5e=vt(({samples:n,radius:e,size:i,shadowPass:r})=>{const o=Ze(0).toVar(),s=Ze(0).toVar(),a=n.lessThanEqual(Ze(1)).select(Ze(0),Ze(2).div(n.sub(1))),l=n.lessThanEqual(Ze(1)).select(Ze(0),Ze(-1));Ia({start:Vi(0),end:Vi(n),type:"int",condition:"<"},({i:c})=>{const d=l.add(Ze(c).mul(a)),f=r.sample(No(Qw.xy,_t(d,0).mul(e)).div(i));o.addAssign(f.x),s.addAssign(No(f.y.mul(f.y),f.x.mul(f.x)))}),o.divAssign(n),s.divAssign(n);const u=mN(s.sub(o.mul(o)));return _t(o,u)}),o5e=[Jze,e5e,t5e,n5e];let WA;const px=new Pj;class Fj extends zze{static get type(){return"ShadowNode"}constructor(e,i=null){super(e),this.shadow=i||e.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this.isShadowNode=!0}setupShadowFilter(e,{filterFn:i,depthTexture:r,shadowCoord:o,shadow:s}){const a=o.x.greaterThanEqual(0).and(o.x.lessThanEqual(1)).and(o.y.greaterThanEqual(0)).and(o.y.lessThanEqual(1)).and(o.z.lessThanEqual(1)),l=i({depthTexture:r,shadowCoord:o,shadow:s});return a.select(l,Ze(1))}setupShadowCoord(e,i){const{shadow:r}=this,{renderer:o}=e,s=ni("bias","float",r).setGroup(Zt);let a=i,l;if(r.camera.isOrthographicCamera||o.logarithmicDepthBuffer!==!0)a=a.xyz.div(a.w),l=a.z,o.coordinateSystem===od&&(l=l.mul(2).sub(1));else{const u=a.w;a=a.xy.div(u);const c=ni("near","float",r.camera).setGroup(Zt),d=ni("far","float",r.camera).setGroup(Zt);l=cj(u.negate(),c,d)}return a=et(a.x,a.y.oneMinus(),l.add(s)),a}getShadowFilterFn(e){return o5e[e]}setupShadow(e){const{renderer:i}=e,{light:r,shadow:o}=this,s=i.shadowMap.type,a=new pd(o.mapSize.width,o.mapSize.height);a.compareFunction=Nw;const l=e.createRenderTarget(o.mapSize.width,o.mapSize.height);if(l.depthTexture=a,o.camera.updateProjectionMatrix(),s===xs){a.compareFunction=null,this.vsmShadowMapVertical=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:Vf,type:Ro}),this.vsmShadowMapHorizontal=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:Vf,type:Ro});const m=zn(a),_=zn(this.vsmShadowMapVertical.texture),S=ni("blurSamples","float",o).setGroup(Zt),w=ni("radius","float",o).setGroup(Zt),T=ni("mapSize","vec2",o).setGroup(Zt);let A=this.vsmMaterialVertical||(this.vsmMaterialVertical=new hr);A.fragmentNode=i5e({samples:S,radius:w,size:T,shadowPass:m}).context(e.getSharedContext()),A.name="VSMVertical",A=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new hr),A.fragmentNode=r5e({samples:S,radius:w,size:T,shadowPass:_}).context(e.getSharedContext()),A.name="VSMHorizontal"}const u=ni("intensity","float",o).setGroup(Zt),c=ni("normalBias","float",o).setGroup(Zt),d=Nj(r).mul(Bj.add(TN.mul(c))),f=this.setupShadowCoord(e,d),h=o.filterNode||this.getShadowFilterFn(i.shadowMap.type)||null;if(h===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const p=s===xs?this.vsmShadowMapHorizontal.texture:a,v=this.setupShadowFilter(e,{filterFn:h,shadowTexture:l.texture,depthTexture:p,shadowCoord:f,shadow:o}),b=zn(l.texture,f),y=bi(1,v.rgb.mix(b,1),u.mul(b.a)).toVar();return this.shadowMap=l,this.shadow.map=l,y}setup(e){if(e.renderer.shadowMap.enabled!==!1)return vt(()=>{let i=this._node;return this.setupShadowPosition(e),i===null&&(this._node=i=this.setupShadow(e)),e.material.shadowNode&&console.warn('THREE.NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'),e.material.receivedShadowNode&&(i=e.material.receivedShadowNode(i)),i})()}renderShadow(e){const{shadow:i,shadowMap:r,light:o}=this,{renderer:s,scene:a}=e;i.updateMatrices(o),r.setSize(i.mapSize.width,i.mapSize.height),s.render(a,i.camera)}updateShadow(e){const{shadowMap:i,light:r,shadow:o}=this,{renderer:s,scene:a,camera:l}=e,u=s.shadowMap.type,c=i.depthTexture.version;this._depthVersionCached=c,o.camera.layers.mask=l.layers.mask;const d=s.getRenderObjectFunction(),f=s.getMRT(),h=f?f.has("velocity"):!1;WA=Xze(s,a,WA),a.overrideMaterial=Zze(r),s.setRenderObjectFunction((p,v,b,y,m,_,...S)=>{(p.castShadow===!0||p.receiveShadow&&u===xs)&&(h&&(v7(p).useVelocity=!0),p.onBeforeShadow(s,p,l,o.camera,y,v.overrideMaterial,_),s.renderObject(p,v,b,y,m,_,...S),p.onAfterShadow(s,p,l,o.camera,y,v.overrideMaterial,_))}),s.setRenderTarget(i),this.renderShadow(e),s.setRenderObjectFunction(d),r.isPointLight!==!0&&u===xs&&this.vsmPass(s),qze(s,a,WA)}vsmPass(e){const{shadow:i}=this;this.vsmShadowMapVertical.setSize(i.mapSize.width,i.mapSize.height),this.vsmShadowMapHorizontal.setSize(i.mapSize.width,i.mapSize.height),e.setRenderTarget(this.vsmShadowMapVertical),px.material=this.vsmMaterialVertical,px.render(e),e.setRenderTarget(this.vsmShadowMapHorizontal),px.material=this.vsmMaterialHorizontal,px.render(e)}dispose(){this.shadowMap.dispose(),this.shadowMap=null,this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null),super.dispose()}updateBefore(e){const{shadow:i}=this;(i.needsUpdate||i.autoUpdate)&&(this.updateShadow(e),this.shadowMap.depthTexture.version===this._depthVersionCached&&(i.needsUpdate=!1))}}const s5e=(n,e)=>mt(new Fj(n,e));class rh extends Ug{static get type(){return"AnalyticLightNode"}constructor(e=null){super(),this.light=e,this.color=new Lt,this.colorNode=e&&e.colorNode||ln(this.color).setGroup(Zt),this.baseColorNode=null,this.shadowNode=null,this.shadowColorNode=null,this.isAnalyticLightNode=!0,this.updateType=Cn.FRAME}customCacheKey(){return lN(this.light.id,this.light.castShadow?1:0)}getHash(){return this.light.uuid}setupShadowNode(){return s5e(this.light)}setupShadow(e){const{renderer:i}=e;if(i.shadowMap.enabled===!1)return;let r=this.shadowColorNode;if(r===null){const o=this.light.shadow.shadowNode;let s;o!==void 0?s=mt(o):s=this.setupShadowNode(e),this.shadowNode=s,this.shadowColorNode=r=this.colorNode.mul(s),this.baseColorNode=this.colorNode}this.colorNode=r}setup(e){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?e.object.receiveShadow&&this.setupShadow(e):this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null,this.shadowColorNode=null)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}const $j=vt(n=>{const{lightDistance:e,cutoffDistance:i,decayExponent:r}=n,o=e.pow(r).max(.01).reciprocal();return i.greaterThan(0).select(o.mul(e.div(i).pow4().oneMinus().clamp().pow2()),o)}),a5e=new Lt,Ja=vt(([n,e])=>{const i=n.toVar(),r=Ys(i),o=Wu(1,ns(r.x,ns(r.y,r.z)));r.mulAssign(o),i.mulAssign(o.mul(e.mul(2).oneMinus()));const s=_t(i.xy).toVar(),l=e.mul(1.5).oneMinus();return fr(r.z.greaterThanEqual(l),()=>{fr(i.z.greaterThan(0),()=>{s.x.assign(jo(4,i.x))})}).ElseIf(r.x.greaterThanEqual(l),()=>{const u=CS(i.x);s.x.assign(i.z.mul(u).add(u.mul(2)))}).ElseIf(r.y.greaterThanEqual(l),()=>{const u=CS(i.y);s.x.assign(i.x.add(u.mul(2)).add(2)),s.y.assign(i.z.mul(u).sub(2))}),_t(.125,.25).mul(s).add(_t(.375,.75)).flipY()}).setLayout({name:"cubeToUV",type:"vec2",inputs:[{name:"pos",type:"vec3"},{name:"texelSizeY",type:"float"}]}),l5e=vt(({depthTexture:n,bd3D:e,dp:i,texelSize:r})=>zn(n,Ja(e,r.y)).compare(i)),u5e=vt(({depthTexture:n,bd3D:e,dp:i,texelSize:r,shadow:o})=>{const s=ni("radius","float",o).setGroup(Zt),a=_t(-1,1).mul(s).mul(r.y);return zn(n,Ja(e.add(a.xyy),r.y)).compare(i).add(zn(n,Ja(e.add(a.yyy),r.y)).compare(i)).add(zn(n,Ja(e.add(a.xyx),r.y)).compare(i)).add(zn(n,Ja(e.add(a.yyx),r.y)).compare(i)).add(zn(n,Ja(e,r.y)).compare(i)).add(zn(n,Ja(e.add(a.xxy),r.y)).compare(i)).add(zn(n,Ja(e.add(a.yxy),r.y)).compare(i)).add(zn(n,Ja(e.add(a.xxx),r.y)).compare(i)).add(zn(n,Ja(e.add(a.yxx),r.y)).compare(i)).mul(1/9)}),c5e=vt(({filterFn:n,depthTexture:e,shadowCoord:i,shadow:r})=>{const o=i.xyz.toVar(),s=o.length(),a=ln("float").setGroup(Zt).onRenderUpdate(()=>r.camera.near),l=ln("float").setGroup(Zt).onRenderUpdate(()=>r.camera.far),u=ni("bias","float",r).setGroup(Zt),c=ln(r.mapSize).setGroup(Zt),d=Ze(1).toVar();return fr(s.sub(l).lessThanEqual(0).and(s.sub(a).greaterThanEqual(0)),()=>{const f=s.sub(a).div(l.sub(a)).toVar();f.addAssign(u);const h=o.normalize(),p=_t(1).div(c.mul(_t(4,2)));d.assign(n({depthTexture:e,bd3D:h,dp:f,texelSize:p,shadow:r}))}),d}),yz=new dn,Yh=new dt,Fm=new dt;class d5e extends Fj{static get type(){return"PointShadowNode"}constructor(e,i=null){super(e,i)}getShadowFilterFn(e){return e===kRe?l5e:u5e}setupShadowCoord(e,i){return i}setupShadowFilter(e,{filterFn:i,shadowTexture:r,depthTexture:o,shadowCoord:s,shadow:a}){return c5e({filterFn:i,shadowTexture:r,depthTexture:o,shadowCoord:s,shadow:a})}renderShadow(e){const{shadow:i,shadowMap:r,light:o}=this,{renderer:s,scene:a}=e,l=i.getFrameExtents();Fm.copy(i.mapSize),Fm.multiply(l),r.setSize(Fm.width,Fm.height),Yh.copy(i.mapSize);const u=s.autoClear,c=s.getClearColor(a5e),d=s.getClearAlpha();s.autoClear=!1,s.setClearColor(i.clearColor,i.clearAlpha),s.clear();const f=i.getViewportCount();for(let h=0;h<f;h++){const p=i.getViewport(h),v=Yh.x*p.x,b=Fm.y-Yh.y-Yh.y*p.y;yz.set(v,b,Yh.x*p.z,Yh.y*p.w),r.viewport.copy(yz),i.updateMatrices(o,h),s.render(a,i.camera)}s.autoClear=u,s.setClearColor(c,d)}}const f5e=(n,e)=>mt(new d5e(n,e)),h5e=vt(({color:n,lightViewPosition:e,cutoffDistance:i,decayExponent:r},o)=>{const s=o.context.lightingModel,a=e.sub(cr),l=a.normalize(),u=a.length(),c=$j({lightDistance:u,cutoffDistance:i,decayExponent:r}),d=n.mul(c),f=o.context.reflectedLight;s.direct({lightDirection:l,lightColor:d,reflectedLight:f},o.stack,o)});class p5e extends rh{static get type(){return"PointLightNode"}constructor(e=null){super(e),this.cutoffDistanceNode=ln(0).setGroup(Zt),this.decayExponentNode=ln(2).setGroup(Zt)}update(e){const{light:i}=this;super.update(e),this.cutoffDistanceNode.value=i.distance,this.decayExponentNode.value=i.decay}setupShadowNode(){return f5e(this.light)}setup(e){super.setup(e),h5e({color:this.colorNode,lightViewPosition:NN(this.light),cutoffDistance:this.cutoffDistanceNode,decayExponent:this.decayExponentNode}).append()}}const g5e=vt(([n,e])=>{const i=n.x,r=n.y,o=n.z;let s=e.element(0).mul(.886227);return s=s.add(e.element(1).mul(2*.511664).mul(r)),s=s.add(e.element(2).mul(2*.511664).mul(o)),s=s.add(e.element(3).mul(2*.511664).mul(i)),s=s.add(e.element(4).mul(2*.429043).mul(i).mul(r)),s=s.add(e.element(5).mul(2*.429043).mul(r).mul(o)),s=s.add(e.element(6).mul(o.mul(o).mul(.743125).sub(.247708))),s=s.add(e.element(7).mul(2*.429043).mul(i).mul(o)),s=s.add(e.element(8).mul(.429043).mul(En(i,i).sub(En(r,r)))),s}),au=new IN;class m5e extends md{constructor(e,i){super(),this.renderer=e,this.nodes=i}update(e,i,r){const o=this.renderer,s=this.nodes.getBackgroundNode(e)||e.background;let a=!1;if(s===null)o._clearColor.getRGB(au,oa),au.a=o._clearColor.a;else if(s.isColor===!0)s.getRGB(au,oa),au.a=1,a=!0;else if(s.isNode===!0){const l=this.get(e),u=s;au.copy(o._clearColor);let c=l.backgroundMesh;if(c===void 0){const f=bN(rn(u).mul(pz),{getUV:()=>xze.mul(Z7),getTextureLevel:()=>bze});let h=oj;h=h.setZ(h.w);const p=new hr;p.name="Background.material",p.side=Ni,p.depthTest=!1,p.depthWrite=!1,p.fog=!1,p.lights=!1,p.vertexNode=h,p.colorNode=f,l.backgroundMeshNode=f,l.backgroundMesh=c=new Lr(new Zy(1,32,32),p),c.frustumCulled=!1,c.name="Background.mesh",c.onBeforeRender=function(v,b,y){this.matrixWorld.copyPosition(y.matrixWorld)}}const d=u.getCacheKey();l.backgroundCacheKey!==d&&(l.backgroundMeshNode.node=rn(u).mul(pz),l.backgroundMeshNode.needsUpdate=!0,c.material.needsUpdate=!0,l.backgroundCacheKey=d),i.unshift(c,c.geometry,c.material,0,0,null,null)}else console.error("THREE.Renderer: Unsupported background configuration.",s);if(o.autoClear===!0||a===!0){const l=r.clearColorValue;l.r=au.r,l.g=au.g,l.b=au.b,l.a=au.a,(o.backend.isWebGLBackend===!0||o.alpha===!0)&&(l.r*=l.a,l.g*=l.a,l.b*=l.a),r.depthClearValue=o._clearDepth,r.stencilClearValue=o._clearStencil,r.clearColor=o.autoClearColor===!0,r.clearDepth=o.autoClearDepth===!0,r.clearStencil=o.autoClearStencil===!0}else r.clearColor=!1,r.clearDepth=!1,r.clearStencil=!1}}let v5e=0;class $2{constructor(e="",i=[],r=0,o=[]){this.name=e,this.bindings=i,this.index=r,this.bindingsReference=o,this.id=v5e++}}class y5e{constructor(e,i,r,o,s,a,l,u,c,d=[]){this.vertexShader=e,this.fragmentShader=i,this.computeShader=r,this.transforms=d,this.nodeAttributes=o,this.bindings=s,this.updateNodes=a,this.updateBeforeNodes=l,this.updateAfterNodes=u,this.monitor=c,this.usedTimes=0}createBindings(){const e=[];for(const i of this.bindings)if(i.bindings[0].groupNode.shared!==!0){const o=new $2(i.name,[],i.index,i);e.push(o);for(const s of i.bindings)o.bindings.push(s.clone())}else e.push(i);return e}}class bz{constructor(e,i,r=null){this.isNodeAttribute=!0,this.name=e,this.type=i,this.node=r}}class b5e{constructor(e,i,r){this.isNodeUniform=!0,this.name=e,this.type=i,this.node=r.getSelf()}get value(){return this.node.value}set value(e){this.node.value=e}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class Uj{constructor(e,i){this.isNodeVar=!0,this.name=e,this.type=i}}class x5e extends Uj{constructor(e,i){super(e,i),this.needsInterpolation=!1,this.isNodeVarying=!0}}class _5e{constructor(e,i,r=""){this.name=e,this.type=i,this.code=r,Object.defineProperty(this,"isNodeCode",{value:!0})}}let S5e=0;class jA{constructor(e=null){this.id=S5e++,this.nodesData=new WeakMap,this.parent=e}getData(e){let i=this.nodesData.get(e);return i===void 0&&this.parent!==null&&(i=this.parent.getData(e)),i}setData(e,i){this.nodesData.set(e,i)}}class w5e extends fn{static get type(){return"StructTypeNode"}constructor(e,i){super(),this.name=e,this.types=i,this.isStructTypeNode=!0}getMemberTypes(){return this.types}}class oh{constructor(e,i){this.name=e,this.value=i,this.boundary=0,this.itemSize=0,this.offset=0}setValue(e){this.value=e}getValue(){return this.value}}class C5e extends oh{constructor(e,i=0){super(e,i),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class T5e extends oh{constructor(e,i=new dt){super(e,i),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class A5e extends oh{constructor(e,i=new me){super(e,i),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class E5e extends oh{constructor(e,i=new dn){super(e,i),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class M5e extends oh{constructor(e,i=new Lt){super(e,i),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class R5e extends oh{constructor(e,i=new Kt){super(e,i),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class P5e extends oh{constructor(e,i=new Mn){super(e,i),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class I5e extends C5e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class N5e extends T5e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class O5e extends A5e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class D5e extends E5e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class L5e extends M5e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class B5e extends R5e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class F5e extends P5e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}const gp=4,xz=[.125,.215,.35,.446,.526,.582],cf=20,KA=new Jy(-1,1,1,-1,0,1),$5e=new wo(90,1),_z=new Lt;let XA=null,qA=0,YA=0;const qd=(1+Math.sqrt(5))/2,Qh=1/qd,Sz=[new me(-qd,Qh,0),new me(qd,Qh,0),new me(-Qh,0,qd),new me(Qh,0,qd),new me(0,qd,-Qh),new me(0,qd,Qh),new me(-1,1,-1),new me(1,1,-1),new me(-1,1,1),new me(1,1,1)],U5e=[3,1,5,0,4,2],QA=pke(qw(),Ku("faceIndex")).normalize(),ON=et(QA.x,QA.y,QA.z);class k5e{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(e,i=0,r=.1,o=100,s=null){if(this._setSize(256),this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromScene() called before the backend is initialized. Try using .fromSceneAsync() instead.");const l=s||this._allocateTargets();return this.fromSceneAsync(e,i,r,o,l),l}XA=this._renderer.getRenderTarget(),qA=this._renderer.getActiveCubeFace(),YA=this._renderer.getActiveMipmapLevel();const a=s||this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,o,a),i>0&&this._blur(a,0,0,i),this._applyPMREM(a),this._cleanup(a),a}async fromSceneAsync(e,i=0,r=.1,o=100,s=null){return this._hasInitialized===!1&&await this._renderer.init(),this.fromScene(e,i,r,o,s)}fromEquirectangular(e,i=null){if(this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using .fromEquirectangularAsync() instead."),this._setSizeFromTexture(e);const r=i||this._allocateTargets();return this.fromEquirectangularAsync(e,r),r}return this._fromTexture(e,i)}async fromEquirectangularAsync(e,i=null){return this._hasInitialized===!1&&await this._renderer.init(),this._fromTexture(e,i)}fromCubemap(e,i=null){if(this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(e);const r=i||this._allocateTargets();return this.fromCubemapAsync(e,i),r}return this._fromTexture(e,i)}async fromCubemapAsync(e,i=null){return this._hasInitialized===!1&&await this._renderer.init(),this._fromTexture(e,i)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Cz(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Tz(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(e){e.mapping===ca||e.mapping===da?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4)}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(XA,qA,YA),e.scissorTest=!1,gx(e,0,0,e.width,e.height)}_fromTexture(e,i){this._setSizeFromTexture(e),XA=this._renderer.getRenderTarget(),qA=this._renderer.getActiveCubeFace(),YA=this._renderer.getActiveMipmapLevel();const r=i||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,r={magFilter:_r,minFilter:_r,generateMipmaps:!1,type:Ro,format:Gr,colorSpace:oa},o=wz(e,i,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=wz(e,i,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas,lodMeshes:this._lodMeshes}=z5e(s)),this._blurMaterial=H5e(s,e,i)}return o}async _compileMaterial(e){const i=new Lr(this._lodPlanes[0],e);await this._renderer.compile(i,KA)}_sceneToCubeUV(e,i,r,o){const s=$5e;s.near=i,s.far=r;const a=[1,1,1,1,-1,1],l=[1,-1,1,-1,1,-1],u=this._renderer,c=u.autoClear;u.getClearColor(_z),u.autoClear=!1;let d=this._backgroundBox;if(d===null){const p=new Qy({name:"PMREM.Background",side:Ni,depthWrite:!1,depthTest:!1});d=new Lr(new nh,p)}let f=!1;const h=e.background;h?h.isColor&&(d.material.color.copy(h),e.background=null,f=!0):(d.material.color.copy(_z),f=!0),u.setRenderTarget(o),u.clear(),f&&u.render(d,s);for(let p=0;p<6;p++){const v=p%3;v===0?(s.up.set(0,a[p],0),s.lookAt(l[p],0,0)):v===1?(s.up.set(0,0,a[p]),s.lookAt(0,l[p],0)):(s.up.set(0,a[p],0),s.lookAt(0,0,l[p]));const b=this._cubeSize;gx(o,v*b,p>2?b:0,b,b),u.render(e,s)}u.autoClear=c,e.background=h}_textureToCubeUV(e,i){const r=this._renderer,o=e.mapping===ca||e.mapping===da;o?this._cubemapMaterial===null&&(this._cubemapMaterial=Cz(e)):this._equirectMaterial===null&&(this._equirectMaterial=Tz(e));const s=o?this._cubemapMaterial:this._equirectMaterial;s.fragmentNode.value=e;const a=this._lodMeshes[0];a.material=s;const l=this._cubeSize;gx(i,0,0,3*l,2*l),r.setRenderTarget(i),r.render(a,KA)}_applyPMREM(e){const i=this._renderer,r=i.autoClear;i.autoClear=!1;const o=this._lodPlanes.length;for(let s=1;s<o;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=Sz[(o-s-1)%Sz.length];this._blur(e,s-1,s,a,l)}i.autoClear=r}_blur(e,i,r,o,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,i,r,o,"latitudinal",s),this._halfBlur(a,e,r,r,o,"longitudinal",s)}_halfBlur(e,i,r,o,s,a,l){const u=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=this._lodMeshes[o];f.material=c;const h=c.uniforms,p=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*cf-1),b=s/v,y=isFinite(s)?1+Math.floor(d*b):cf;y>cf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${cf}`);const m=[];let _=0;for(let C=0;C<cf;++C){const R=C/b,E=Math.exp(-R*R/2);m.push(E),C===0?_+=E:C<y&&(_+=2*E)}for(let C=0;C<m.length;C++)m[C]=m[C]/_;e.texture.frame=(e.texture.frame||0)+1,h.envMap.value=e.texture,h.samples.value=y,h.weights.array=m,h.latitudinal.value=a==="latitudinal"?1:0,l&&(h.poleAxis.value=l);const{_lodMax:S}=this;h.dTheta.value=v,h.mipInt.value=S-r;const w=this._sizeLods[o],T=3*w*(o>S-gp?o-S+gp:0),A=4*(this._cubeSize-w);gx(i,T,A,3*w,2*w),u.setRenderTarget(i),u.render(f,KA)}}function z5e(n){const e=[],i=[],r=[],o=[];let s=n;const a=n-gp+1+xz.length;for(let l=0;l<a;l++){const u=Math.pow(2,s);i.push(u);let c=1/u;l>n-gp?c=xz[l-n+gp-1]:l===0&&(c=0),r.push(c);const d=1/(u-2),f=-d,h=1+d,p=[f,f,h,f,h,h,f,f,h,h,f,h],v=6,b=6,y=3,m=2,_=1,S=new Float32Array(y*b*v),w=new Float32Array(m*b*v),T=new Float32Array(_*b*v);for(let C=0;C<v;C++){const R=C%3*2/3-1,E=C>2?0:-1,P=[R,E,0,R+2/3,E,0,R+2/3,E+1,0,R,E,0,R+2/3,E+1,0,R,E+1,0],N=U5e[C];S.set(P,y*b*N),w.set(p,m*b*N);const D=[N,N,N,N,N,N];T.set(D,_*b*N)}const A=new co;A.setAttribute("position",new Wr(S,y)),A.setAttribute("uv",new Wr(w,m)),A.setAttribute("faceIndex",new Wr(T,_)),e.push(A),o.push(new Lr(A,null)),s>gp&&s--}return{lodPlanes:e,sizeLods:i,sigmas:r,lodMeshes:o}}function wz(n,e,i){const r=new Lg(n,e,i);return r.texture.mapping=zf,r.texture.name="PMREM.cubeUv",r.texture.isPMREMTexture=!0,r.scissorTest=!0,r}function gx(n,e,i,r,o){n.viewport.set(e,i,r,o),n.scissor.set(e,i,r,o)}function DN(n){const e=new hr;return e.depthTest=!1,e.depthWrite=!1,e.blending=Jo,e.name=`PMREM_${n}`,e}function H5e(n,e,i){const r=kc(new Array(cf).fill(0)),o=ln(new me(0,1,0)),s=ln(0),a=Ze(cf),l=ln(0),u=ln(1),c=zn(null),d=ln(0),f=Ze(1/e),h=Ze(1/i),p=Ze(n),v={n:a,latitudinal:l,weights:r,poleAxis:o,outputDirection:ON,dTheta:s,samples:u,envMap:c,mipInt:d,CUBEUV_TEXEL_WIDTH:f,CUBEUV_TEXEL_HEIGHT:h,CUBEUV_MAX_MIP:p},b=DN("blur");return b.uniforms=v,b.fragmentNode=mke({...v,latitudinal:l.equal(1)}),b}function Cz(n){const e=DN("cubemap");return e.fragmentNode=Ay(n,ON),e}function Tz(n){const e=DN("equirect");return e.fragmentNode=zn(n,hj(ON),0),e}const Az=new WeakMap,G5e=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),mx=n=>/e/g.test(n)?String(n).replace(/\+/g,""):(n=Number(n),n+(n%1?"":".0"));class kj{constructor(e,i,r){this.object=e,this.material=e&&e.material||null,this.geometry=e&&e.geometry||null,this.renderer=i,this.parser=r,this.scene=null,this.camera=null,this.nodes=[],this.sequentialNodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.monitor=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.flow={code:""},this.chaining=[],this.stack=zA(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new jA,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null,this.useComparisonMethod=!1}getBindGroupsCache(){let e=Az.get(this.renderer);return e===void 0&&(e=new Rl,Az.set(this.renderer,e)),e}createRenderTarget(e,i,r){return new Lg(e,i,r)}createCubeRenderTarget(e,i){return new pj(e,i)}createPMREMGenerator(){return new k5e(this.renderer)}includes(e){return this.nodes.includes(e)}_getBindGroup(e,i){const r=this.getBindGroupsCache(),o=[];let s=!0;for(const l of i)o.push(l),s=s&&l.groupNode.shared!==!0;let a;return s?(a=r.get(o),a===void 0&&(a=new $2(e,o,this.bindingsIndexes[e].group,o),r.set(o,a))):a=new $2(e,o,this.bindingsIndexes[e].group,o),a}getBindGroupArray(e,i){const r=this.bindings[i];let o=r[e];return o===void 0&&(this.bindingsIndexes[e]===void 0&&(this.bindingsIndexes[e]={binding:0,group:Object.keys(this.bindingsIndexes).length}),r[e]=o=[]),o}getBindings(){let e=this.bindGroups;if(e===null){const i={},r=this.bindings;for(const o of Mk)for(const s in r[o]){const a=r[o][s];(i[s]||(i[s]=[])).push(...a)}e=[];for(const o in i){const s=i[o],a=this._getBindGroup(o,s);e.push(a)}this.bindGroups=e}return e}sortBindingGroups(){const e=this.getBindings();e.sort((i,r)=>i.bindings[0].groupNode.order-r.bindings[0].groupNode.order);for(let i=0;i<e.length;i++){const r=e[i];this.bindingsIndexes[r.name].group=i,r.index=i}}setHashNode(e,i){this.hashNodes[i]=e}addNode(e){this.nodes.includes(e)===!1&&(this.nodes.push(e),this.setHashNode(e,e.getHash(this)))}addSequentialNode(e){this.sequentialNodes.includes(e)===!1&&this.sequentialNodes.push(e)}buildUpdateNodes(){for(const e of this.nodes)e.getUpdateType()!==Cn.NONE&&this.updateNodes.push(e.getSelf());for(const e of this.sequentialNodes){const i=e.getUpdateBeforeType(),r=e.getUpdateAfterType();i!==Cn.NONE&&this.updateBeforeNodes.push(e.getSelf()),r!==Cn.NONE&&this.updateAfterNodes.push(e.getSelf())}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(e){return e.magFilter===_r||e.magFilter===Op||e.magFilter===ul||e.magFilter===Xo||e.minFilter===_r||e.minFilter===Op||e.minFilter===ul||e.minFilter===Xo}addChain(e){this.chaining.push(e)}removeChain(e){if(this.chaining.pop()!==e)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(e){return e}getNodeFromHash(e){return this.hashNodes[e]}addFlow(e,i){return this.flowNodes[e].push(i),i}setContext(e){this.context=e}getContext(){return this.context}getSharedContext(){return{...this.context},this.context}setCache(e){this.cache=e}getCache(){return this.cache}getCacheFromNode(e,i=!0){const r=this.getDataFromNode(e);return r.cache===void 0&&(r.cache=new jA(i?this.getCache():null)),r.cache}isAvailable(){return!1}getVertexIndex(){console.warn("Abstract function.")}getInstanceIndex(){console.warn("Abstract function.")}getDrawIndex(){console.warn("Abstract function.")}getFrontFacing(){console.warn("Abstract function.")}getFragCoord(){console.warn("Abstract function.")}isFlipY(){return!1}increaseUsage(e){const i=this.getDataFromNode(e);return i.usageCount=i.usageCount===void 0?1:i.usageCount+1,i.usageCount}generateTexture(){console.warn("Abstract function.")}generateTextureLod(){console.warn("Abstract function.")}generateConst(e,i=null){if(i===null&&(e==="float"||e==="int"||e==="uint"?i=0:e==="bool"?i=!1:e==="color"?i=new Lt:e==="vec2"?i=new dt:e==="vec3"?i=new me:e==="vec4"&&(i=new dn)),e==="float")return mx(i);if(e==="int")return`${Math.round(i)}`;if(e==="uint")return i>=0?`${Math.round(i)}u`:"0u";if(e==="bool")return i?"true":"false";if(e==="color")return`${this.getType("vec3")}( ${mx(i.r)}, ${mx(i.g)}, ${mx(i.b)} )`;const r=this.getTypeLength(e),o=this.getComponentType(e),s=a=>this.generateConst(o,a);if(r===2)return`${this.getType(e)}( ${s(i.x)}, ${s(i.y)} )`;if(r===3)return`${this.getType(e)}( ${s(i.x)}, ${s(i.y)}, ${s(i.z)} )`;if(r===4)return`${this.getType(e)}( ${s(i.x)}, ${s(i.y)}, ${s(i.z)}, ${s(i.w)} )`;if(r>4&&i&&(i.isMatrix3||i.isMatrix4))return`${this.getType(e)}( ${i.elements.map(s).join(", ")} )`;if(r>4)return`${this.getType(e)}()`;throw new Error(`NodeBuilder: Type '${e}' not found in generate constant attempt.`)}getType(e){return e==="color"?"vec3":e}hasGeometryAttribute(e){return this.geometry&&this.geometry.getAttribute(e)!==void 0}getAttribute(e,i){const r=this.attributes;for(const s of r)if(s.name===e)return s;const o=new bz(e,i);return r.push(o),o}getPropertyName(e){return e.name}isVector(e){return/vec\d/.test(e)}isMatrix(e){return/mat\d/.test(e)}isReference(e){return e==="void"||e==="property"||e==="sampler"||e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="depthTexture"||e==="texture3D"}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(e){const i=e.type;if(e.isDataTexture){if(i===Nr)return"int";if(i===Ui)return"uint"}return"float"}getElementType(e){return e==="mat2"?"vec2":e==="mat3"?"vec3":e==="mat4"?"vec4":this.getComponentType(e)}getComponentType(e){if(e=this.getVectorType(e),e==="float"||e==="bool"||e==="int"||e==="uint")return e;const i=/(b|i|u|)(vec|mat)([2-4])/.exec(e);return i===null?null:i[1]==="b"?"bool":i[1]==="i"?"int":i[1]==="u"?"uint":"float"}getVectorType(e){return e==="color"?"vec3":e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="texture3D"?"vec4":e}getTypeFromLength(e,i="float"){if(e===1)return i;const r=MBe(e);return(i==="float"?"":i[0])+r}getTypeFromArray(e){return G5e.get(e.constructor)}getTypeFromAttribute(e){let i=e;e.isInterleavedBufferAttribute&&(i=e.data);const r=i.array,o=e.itemSize,s=e.normalized;let a;return!(e instanceof R9)&&s!==!0&&(a=this.getTypeFromArray(r)),this.getTypeFromLength(o,a)}getTypeLength(e){const i=this.getVectorType(e),r=/vec([2-4])/.exec(i);return r!==null?Number(r[1]):i==="float"||i==="bool"||i==="int"||i==="uint"?1:/mat2/.test(e)===!0?4:/mat3/.test(e)===!0?9:/mat4/.test(e)===!0?16:0}getVectorFromMatrix(e){return e.replace("mat","vec")}changeComponentType(e,i){return this.getTypeFromLength(this.getTypeLength(e),i)}getIntegerType(e){const i=this.getComponentType(e);return i==="int"||i==="uint"?e:this.changeComponentType(e,"int")}addStack(){return this.stack=zA(this.stack),this.stacks.push(S7()||this.stack),yS(this.stack),this.stack}removeStack(){const e=this.stack;return this.stack=e.parent,yS(this.stacks.pop()),e}getDataFromNode(e,i=this.shaderStage,r=null){r=r===null?e.isGlobal(this)?this.globalCache:this.cache:r;let o=r.getData(e);return o===void 0&&(o={},r.setData(e,o)),o[i]===void 0&&(o[i]={}),o[i]}getNodeProperties(e,i="any"){const r=this.getDataFromNode(e,i);return r.properties||(r.properties={outputNode:null})}getBufferAttributeFromNode(e,i){const r=this.getDataFromNode(e);let o=r.bufferAttribute;if(o===void 0){const s=this.uniforms.index++;o=new bz("nodeAttribute"+s,i,e),this.bufferAttributes.push(o),r.bufferAttribute=o}return o}getStructTypeFromNode(e,i,r=this.shaderStage){const o=this.getDataFromNode(e,r);let s=o.structType;if(s===void 0){const a=this.structs.index++;s=new w5e("StructType"+a,i),this.structs[r].push(s),o.structType=s}return s}getUniformFromNode(e,i,r=this.shaderStage,o=null){const s=this.getDataFromNode(e,r,this.globalCache);let a=s.uniform;if(a===void 0){const l=this.uniforms.index++;a=new b5e(o||"nodeUniform"+l,i,e),this.uniforms[r].push(a),s.uniform=a}return a}getVarFromNode(e,i=null,r=e.getNodeType(this),o=this.shaderStage){const s=this.getDataFromNode(e,o);let a=s.variable;if(a===void 0){const l=this.vars[o]||(this.vars[o]=[]);i===null&&(i="nodeVar"+l.length),a=new Uj(i,r),l.push(a),s.variable=a}return a}getVaryingFromNode(e,i=null,r=e.getNodeType(this)){const o=this.getDataFromNode(e,"any");let s=o.varying;if(s===void 0){const a=this.varyings,l=a.length;i===null&&(i="nodeVarying"+l),s=new x5e(i,r),a.push(s),o.varying=s}return s}getCodeFromNode(e,i,r=this.shaderStage){const o=this.getDataFromNode(e);let s=o.code;if(s===void 0){const a=this.codes[r]||(this.codes[r]=[]),l=a.length;s=new _5e("nodeCode"+l,i),a.push(s),o.code=s}return s}addFlowCodeHierarchy(e,i){const{flowCodes:r,flowCodeBlock:o}=this.getDataFromNode(e);let s=!0,a=i;for(;a;){if(o.get(a)===!0){s=!1;break}a=this.getDataFromNode(a).parentNodeBlock}if(s)for(const l of r)this.addLineFlowCode(l)}addLineFlowCodeBlock(e,i,r){const o=this.getDataFromNode(e),s=o.flowCodes||(o.flowCodes=[]),a=o.flowCodeBlock||(o.flowCodeBlock=new WeakMap);s.push(i),a.set(r,!0)}addLineFlowCode(e,i=null){return e===""?this:(i!==null&&this.context.nodeBlock&&this.addLineFlowCodeBlock(i,e,this.context.nodeBlock),e=this.tab+e,/;\s*$/.test(e)||(e=e+`;
`),this.flow.code+=e,this)}addFlowCode(e){return this.flow.code+=e,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(e){return this.flowsData.get(e)}flowNode(e){const i=e.getNodeType(this),r=this.flowChildNode(e,i);return this.flowsData.set(e,r),r}buildFunctionNode(e){const i=new Oze,r=this.currentFunctionNode;return this.currentFunctionNode=i,i.code=this.buildFunctionCode(e),this.currentFunctionNode=r,i}flowShaderNode(e){const i=e.layout,r={[Symbol.iterator](){let a=0;const l=Object.values(this);return{next:()=>({value:l[a],done:a++>=l.length})}}};for(const a of i.inputs)r[a.name]=new pze(a.type,a.name);e.layout=null;const o=e.call(r),s=this.flowStagesNode(o,i.type);return e.layout=i,s}flowStagesNode(e,i=null){const r=this.flow,o=this.vars,s=this.cache,a=this.buildStage,l=this.stack,u={code:""};this.flow=u,this.vars={},this.cache=new jA,this.stack=zA();for(const c of Ek)this.setBuildStage(c),u.result=e.build(this,i);return u.vars=this.getVars(this.shaderStage),this.flow=r,this.vars=o,this.cache=s,this.stack=l,this.setBuildStage(a),u}getFunctionOperator(){return null}flowChildNode(e,i=null){const r=this.flow,o={code:""};return this.flow=o,o.result=e.build(this,i),this.flow=r,o}flowNodeFromShaderStage(e,i,r=null,o=null){const s=this.shaderStage;this.setShaderStage(e);const a=this.flowChildNode(i,r);return o!==null&&(a.code+=`${this.tab+o} = ${a.result};
`),this.flowCode[e]=this.flowCode[e]+a.code,this.setShaderStage(s),a}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){console.warn("Abstract function.")}getVaryings(){console.warn("Abstract function.")}getVar(e,i){return`${this.getType(e)} ${i}`}getVars(e){let i="";const r=this.vars[e];if(r!==void 0)for(const o of r)i+=`${this.getVar(o.type,o.name)}; `;return i}getUniforms(){console.warn("Abstract function.")}getCodes(e){const i=this.codes[e];let r="";if(i!==void 0)for(const o of i)r+=o.code+`
`;return r}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(e){this.shaderStage=e}getShaderStage(){return this.shaderStage}setBuildStage(e){this.buildStage=e}getBuildStage(){return this.buildStage}buildCode(){console.warn("Abstract function.")}build(){const{object:e,material:i,renderer:r}=this;if(i!==null){let o=r.library.fromMaterial(i);o===null&&(console.error(`NodeMaterial: Material "${i.type}" is not compatible.`),o=new hr),o.build(this)}else this.addFlow("compute",e);for(const o of Ek){this.setBuildStage(o),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const s of Mk){this.setShaderStage(s);const a=this.flowNodes[s];for(const l of a)o==="generate"?this.flowNode(l):l.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(e,i){if(i==="float"||i==="int"||i==="uint")return new I5e(e);if(i==="vec2"||i==="ivec2"||i==="uvec2")return new N5e(e);if(i==="vec3"||i==="ivec3"||i==="uvec3")return new O5e(e);if(i==="vec4"||i==="ivec4"||i==="uvec4")return new D5e(e);if(i==="color")return new L5e(e);if(i==="mat3")return new B5e(e);if(i==="mat4")return new F5e(e);throw new Error(`Uniform "${i}" not declared.`)}format(e,i,r){if(i=this.getVectorType(i),r=this.getVectorType(r),i===r||r===null||this.isReference(r))return e;const o=this.getTypeLength(i),s=this.getTypeLength(r);return o===16&&s===9?`${this.getType(r)}(${e}[0].xyz, ${e}[1].xyz, ${e}[2].xyz)`:o===9&&s===4?`${this.getType(r)}(${e}[0].xy, ${e}[1].xy)`:o>4||s>4||s===0?e:o===s?`${this.getType(r)}( ${e} )`:o>s?this.format(`${e}.${"xyz".slice(0,s)}`,this.getTypeFromLength(s,this.getComponentType(i)),r):s===4&&o>1?`${this.getType(r)}( ${this.format(e,i,"vec3")}, 1.0 )`:o===2?`${this.getType(r)}( ${this.format(e,i,"vec2")}, 0.0 )`:(o===1&&s>1&&i!==this.getComponentType(r)&&(e=`${this.getType(this.getComponentType(r))}( ${e} )`),`${this.getType(r)}( ${e} )`)}getSignature(){return`// Three.js r${Ig} - Node System
`}createNodeMaterial(e="NodeMaterial"){throw new Error(`THREE.NodeBuilder: createNodeMaterial() was deprecated. Use new ${e}() instead.`)}}class Ez{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(e,i){let r=e.get(i);return r===void 0&&(r={renderMap:new WeakMap,frameMap:new WeakMap},e.set(i,r)),r}updateBeforeNode(e){const i=e.getUpdateBeforeType(),r=e.updateReference(this);if(i===Cn.FRAME){const{frameMap:o}=this._getMaps(this.updateBeforeMap,r);o.get(r)!==this.frameId&&e.updateBefore(this)!==!1&&o.set(r,this.frameId)}else if(i===Cn.RENDER){const{renderMap:o}=this._getMaps(this.updateBeforeMap,r);o.get(r)!==this.renderId&&e.updateBefore(this)!==!1&&o.set(r,this.renderId)}else i===Cn.OBJECT&&e.updateBefore(this)}updateAfterNode(e){const i=e.getUpdateAfterType(),r=e.updateReference(this);if(i===Cn.FRAME){const{frameMap:o}=this._getMaps(this.updateAfterMap,r);o.get(r)!==this.frameId&&e.updateAfter(this)!==!1&&o.set(r,this.frameId)}else if(i===Cn.RENDER){const{renderMap:o}=this._getMaps(this.updateAfterMap,r);o.get(r)!==this.renderId&&e.updateAfter(this)!==!1&&o.set(r,this.renderId)}else i===Cn.OBJECT&&e.updateAfter(this)}updateNode(e){const i=e.getUpdateType(),r=e.updateReference(this);if(i===Cn.FRAME){const{frameMap:o}=this._getMaps(this.updateMap,r);o.get(r)!==this.frameId&&e.update(this)!==!1&&o.set(r,this.frameId)}else if(i===Cn.RENDER){const{renderMap:o}=this._getMaps(this.updateMap,r);o.get(r)!==this.renderId&&e.update(this)!==!1&&o.set(r,this.renderId)}else i===Cn.OBJECT&&e.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class LN{constructor(e,i,r=null,o="",s=!1){this.type=e,this.name=i,this.count=r,this.qualifier=o,this.isConst=s}}LN.isNodeFunctionInput=!0;class V5e extends rh{static get type(){return"DirectionalLightNode"}constructor(e=null){super(e)}setup(e){super.setup(e);const i=e.context.lightingModel,r=this.colorNode,o=Dj(this.light),s=e.context.reflectedLight;i.direct({lightDirection:o,lightColor:r,reflectedLight:s},e.stack,e)}}const ZA=new Mn,vx=new Mn;let $m=null;class W5e extends rh{static get type(){return"RectAreaLightNode"}constructor(e=null){super(e),this.halfHeight=ln(new me).setGroup(Zt),this.halfWidth=ln(new me).setGroup(Zt),this.updateType=Cn.RENDER}update(e){super.update(e);const{light:i}=this,r=e.camera.matrixWorldInverse;vx.identity(),ZA.copy(i.matrixWorld),ZA.premultiply(r),vx.extractRotation(ZA),this.halfWidth.value.set(i.width*.5,0,0),this.halfHeight.value.set(0,i.height*.5,0),this.halfWidth.value.applyMatrix4(vx),this.halfHeight.value.applyMatrix4(vx)}setup(e){super.setup(e);let i,r;e.isAvailable("float32Filterable")?(i=zn($m.LTC_FLOAT_1),r=zn($m.LTC_FLOAT_2)):(i=zn($m.LTC_HALF_1),r=zn($m.LTC_HALF_2));const{colorNode:o,light:s}=this,a=e.context.lightingModel,l=NN(s),u=e.context.reflectedLight;a.directRectArea({lightColor:o,lightPosition:l,halfWidth:this.halfWidth,halfHeight:this.halfHeight,reflectedLight:u,ltc_1:i,ltc_2:r},e.stack,e)}static setLTC(e){$m=e}}class zj extends rh{static get type(){return"SpotLightNode"}constructor(e=null){super(e),this.coneCosNode=ln(0).setGroup(Zt),this.penumbraCosNode=ln(0).setGroup(Zt),this.cutoffDistanceNode=ln(0).setGroup(Zt),this.decayExponentNode=ln(0).setGroup(Zt)}update(e){super.update(e);const{light:i}=this;this.coneCosNode.value=Math.cos(i.angle),this.penumbraCosNode.value=Math.cos(i.angle*(1-i.penumbra)),this.cutoffDistanceNode.value=i.distance,this.decayExponentNode.value=i.decay}getSpotAttenuation(e){const{coneCosNode:i,penumbraCosNode:r}=this;return Wf(i,r,e)}setup(e){super.setup(e);const i=e.context.lightingModel,{colorNode:r,cutoffDistanceNode:o,decayExponentNode:s,light:a}=this,l=NN(a).sub(cr),u=l.normalize(),c=u.dot(Dj(a)),d=this.getSpotAttenuation(c),f=l.length(),h=$j({lightDistance:f,cutoffDistance:o,decayExponent:s});let p=r.mul(d).mul(h);if(a.map){const b=Fze(a),y=zn(a.map,b.xy).onRenderUpdate(()=>a.map);p=b.mul(2).sub(1).abs().lessThan(1).all().select(p.mul(y),p)}const v=e.context.reflectedLight;i.direct({lightDirection:u,lightColor:p,reflectedLight:v},e.stack,e)}}class j5e extends zj{static get type(){return"IESSpotLightNode"}getSpotAttenuation(e){const i=this.light.iesMap;let r=null;if(i&&i.isTexture===!0){const o=e.acos().mul(1/Math.PI);r=zn(i,_t(o,0),0).r}else r=super.getSpotAttenuation(e);return r}}class K5e extends rh{static get type(){return"AmbientLightNode"}constructor(e=null){super(e)}setup({context:e}){e.irradiance.addAssign(this.colorNode)}}class X5e extends rh{static get type(){return"HemisphereLightNode"}constructor(e=null){super(e),this.lightPositionNode=Oj(e),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=ln(new Lt).setGroup(Zt)}update(e){const{light:i}=this;super.update(e),this.lightPositionNode.object3d=i,this.groundColorNode.value.copy(i.groundColor).multiplyScalar(i.intensity)}setup(e){const{colorNode:i,groundColorNode:r,lightDirectionNode:o}=this,a=za.dot(o).mul(.5).add(.5),l=bi(r,i,a);e.context.irradiance.addAssign(l)}}class q5e extends rh{static get type(){return"LightProbeNode"}constructor(e=null){super(e);const i=[];for(let r=0;r<9;r++)i.push(new me);this.lightProbe=kc(i)}update(e){const{light:i}=this;super.update(e);for(let r=0;r<9;r++)this.lightProbe.array[r].copy(i.sh.coefficients[r]).multiplyScalar(i.intensity)}setup(e){const i=g5e(Z7,this.lightProbe);e.context.irradiance.addAssign(i)}}class Hj{parseFunction(){console.warn("Abstract function.")}}class BN{constructor(e,i,r="",o=""){this.type=e,this.inputs=i,this.name=r,this.precision=o}getCode(){console.warn("Abstract function.")}}BN.isNodeFunction=!0;const Y5e=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,Q5e=/[a-z_0-9]+/ig,Mz="#pragma main",Z5e=n=>{n=n.trim();const e=n.indexOf(Mz),i=e!==-1?n.slice(e+Mz.length):n,r=i.match(Y5e);if(r!==null&&r.length===5){const o=r[4],s=[];let a=null;for(;(a=Q5e.exec(o))!==null;)s.push(a);const l=[];let u=0;for(;u<s.length;){const v=s[u][0]==="const";v===!0&&u++;let b=s[u][0];b==="in"||b==="out"||b==="inout"?u++:b="";const y=s[u++][0];let m=Number.parseInt(s[u][0]);Number.isNaN(m)===!1?u++:m=null;const _=s[u++][0];l.push(new LN(y,_,m,b,v))}const c=i.substring(r[0].length),d=r[3]!==void 0?r[3]:"",f=r[2],h=r[1]!==void 0?r[1]:"",p=e!==-1?n.slice(0,e):"";return{type:f,inputs:l,name:d,precision:h,inputsCode:o,blockCode:c,headerCode:p}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class J5e extends BN{constructor(e){const{type:i,inputs:r,name:o,precision:s,inputsCode:a,blockCode:l,headerCode:u}=Z5e(e);super(i,r,o,s),this.inputsCode=a,this.blockCode=l,this.headerCode=u}getCode(e=this.name){let i;const r=this.blockCode;if(r!==""){const{type:o,inputsCode:s,headerCode:a,precision:l}=this;let u=`${o} ${e} ( ${s.trim()} )`;l!==""&&(u=`${l} ${u}`),i=a+u+r}else i="";return i}}class e6e extends Hj{parseFunction(e){return new J5e(e)}}const Rz=new WeakMap;class t6e extends md{constructor(e,i){super(),this.renderer=e,this.backend=i,this.nodeFrame=new Ez,this.nodeBuilderCache=new Map,this.callHashCache=new Rl,this.groupsData=new Rl,this.cacheLib={}}updateGroup(e){const i=e.groupNode,r=i.name;if(r===A7.name)return!0;if(r===Zt.name){const a=this.get(e),l=this.nodeFrame.renderId;return a.renderId!==l?(a.renderId=l,!0):!1}if(r===uFe.name){const a=this.get(e),l=this.nodeFrame.frameId;return a.frameId!==l?(a.frameId=l,!0):!1}const o=[i,e];let s=this.groupsData.get(o);return s===void 0&&this.groupsData.set(o,s={}),s.version!==i.version?(s.version=i.version,!0):!1}getForRenderCacheKey(e){return e.initialCacheKey}getForRender(e){const i=this.get(e);let r=i.nodeBuilderState;if(r===void 0){const{nodeBuilderCache:o}=this,s=this.getForRenderCacheKey(e);if(r=o.get(s),r===void 0){const a=this.backend.createNodeBuilder(e.object,this.renderer);a.scene=e.scene,a.material=e.material,a.camera=e.camera,a.context.material=e.material,a.lightsNode=e.lightsNode,a.environmentNode=this.getEnvironmentNode(e.scene),a.fogNode=this.getFogNode(e.scene),a.clippingContext=e.clippingContext,a.build(),r=this._createNodeBuilderState(a),o.set(s,r)}r.usedTimes++,i.nodeBuilderState=r}return r}delete(e){if(e.isRenderObject){const i=this.get(e).nodeBuilderState;i.usedTimes--,i.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(e))}return super.delete(e)}getForCompute(e){const i=this.get(e);let r=i.nodeBuilderState;if(r===void 0){const o=this.backend.createNodeBuilder(e,this.renderer);o.build(),r=this._createNodeBuilderState(o),i.nodeBuilderState=r}return r}_createNodeBuilderState(e){return new y5e(e.vertexShader,e.fragmentShader,e.computeShader,e.getAttributesArray(),e.getBindings(),e.updateNodes,e.updateBeforeNodes,e.updateAfterNodes,e.monitor,e.transforms)}getEnvironmentNode(e){this.updateEnvironment(e);let i=null;if(e.environmentNode&&e.environmentNode.isNode)i=e.environmentNode;else{const r=this.get(e);r.environmentNode&&(i=r.environmentNode)}return i}getBackgroundNode(e){this.updateBackground(e);let i=null;if(e.backgroundNode&&e.backgroundNode.isNode)i=e.backgroundNode;else{const r=this.get(e);r.backgroundNode&&(i=r.backgroundNode)}return i}getFogNode(e){return this.updateFog(e),e.fogNode||this.get(e).fogNode||null}getCacheKey(e,i){const r=[e,i],o=this.renderer.info.calls;let s=this.callHashCache.get(r);if(s===void 0||s.callId!==o){const a=this.getEnvironmentNode(e),l=this.getFogNode(e),u=[];i&&u.push(i.getCacheKey(!0)),a&&u.push(a.getCacheKey()),l&&u.push(l.getCacheKey()),u.push(this.renderer.shadowMap.enabled?1:0),s={callId:o,cacheKey:aN(u)},this.callHashCache.set(r,s)}return s.cacheKey}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(e){const i=this.get(e),r=e.background;if(r){const o=e.backgroundBlurriness===0&&i.backgroundBlurriness>0||e.backgroundBlurriness>0&&i.backgroundBlurriness===0;if(i.background!==r||o){const s=this.getCacheNode("background",r,()=>{if(r.isCubeTexture===!0||r.mapping===id||r.mapping===rd||r.mapping===zf){if(e.backgroundBlurriness>0||r.mapping===zf)return Tj(r);{let a;return r.isCubeTexture===!0?a=Ay(r):a=zn(r),mj(a)}}else{if(r.isTexture===!0)return zn(r,Ey.flipY()).setUpdateMatrix(!0);r.isColor!==!0&&console.error("WebGPUNodes: Unsupported background configuration.",r)}},o);i.backgroundNode=s,i.background=r,i.backgroundBlurriness=e.backgroundBlurriness}}else i.backgroundNode&&(delete i.backgroundNode,delete i.background)}getCacheNode(e,i,r,o=!1){const s=this.cacheLib[e]||(this.cacheLib[e]=new WeakMap);let a=s.get(i);return(a===void 0||o)&&(a=r(),s.set(i,a)),a}updateFog(e){const i=this.get(e),r=e.fog;if(r){if(i.fog!==r){const o=this.getCacheNode("fog",r,()=>{if(r.isFogExp2){const s=ni("color","color",r).setGroup(Zt),a=ni("density","float",r).setGroup(Zt);return mz(s,Lze(a))}else if(r.isFog){const s=ni("color","color",r).setGroup(Zt),a=ni("near","float",r).setGroup(Zt),l=ni("far","float",r).setGroup(Zt);return mz(s,Dze(a,l))}else console.error("THREE.Renderer: Unsupported fog configuration.",r)});i.fogNode=o,i.fog=r}}else delete i.fogNode,delete i.fog}updateEnvironment(e){const i=this.get(e),r=e.environment;if(r){if(i.environment!==r){const o=this.getCacheNode("environment",r,()=>{if(r.isCubeTexture===!0)return Ay(r);if(r.isTexture===!0)return zn(r);console.error("Nodes: Unsupported environment configuration.",r)});i.environmentNode=o,i.environment=r}}else i.environmentNode&&(delete i.environmentNode,delete i.environment)}getNodeFrame(e=this.renderer,i=null,r=null,o=null,s=null){const a=this.nodeFrame;return a.renderer=e,a.scene=i,a.object=r,a.camera=o,a.material=s,a}getNodeFrameForRender(e){return this.getNodeFrame(e.renderer,e.scene,e.object,e.camera,e.material)}getOutputCacheKey(){const e=this.renderer;return e.toneMapping+","+e.currentColorSpace}hasOutputChange(e){return Rz.get(e)!==this.getOutputCacheKey()}getOutputNode(e){const i=this.renderer,r=this.getOutputCacheKey(),o=zn(e,Ey).renderOutput(i.toneMapping,i.currentColorSpace);return Rz.set(e,r),o}updateBefore(e){const i=e.getNodeBuilderState();for(const r of i.updateBeforeNodes)this.getNodeFrameForRender(e).updateBeforeNode(r)}updateAfter(e){const i=e.getNodeBuilderState();for(const r of i.updateAfterNodes)this.getNodeFrameForRender(e).updateAfterNode(r)}updateForCompute(e){const i=this.getNodeFrame(),r=this.getForCompute(e);for(const o of r.updateNodes)i.updateNode(o)}updateForRender(e){const i=this.getNodeFrameForRender(e),r=e.getNodeBuilderState();for(const o of r.updateNodes)i.updateNode(o)}needsRefresh(e){const i=this.getNodeFrameForRender(e);return e.getMonitor().needsRefresh(e,i)}dispose(){super.dispose(),this.nodeFrame=new Ez,this.nodeBuilderCache=new Map,this.cacheLib={}}}const JA=new Ma;class AS{constructor(e=null){this.version=0,this.clipIntersection=null,this.cacheKey="",this.shadowPass=!1,this.viewNormalMatrix=new Kt,this.clippingGroupContexts=new WeakMap,this.intersectionPlanes=[],this.unionPlanes=[],this.parentVersion=null,e!==null&&(this.viewNormalMatrix=e.viewNormalMatrix,this.clippingGroupContexts=e.clippingGroupContexts,this.shadowPass=e.shadowPass,this.viewMatrix=e.viewMatrix)}projectPlanes(e,i,r){const o=e.length;for(let s=0;s<o;s++){JA.copy(e[s]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const a=i[r+s],l=JA.normal;a.x=-l.x,a.y=-l.y,a.z=-l.z,a.w=JA.constant}}updateGlobal(e,i){this.shadowPass=e.overrideMaterial!==null&&e.overrideMaterial.isShadowNodeMaterial,this.viewMatrix=i.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix)}update(e,i){let r=!1;e.version!==this.parentVersion&&(this.intersectionPlanes=Array.from(e.intersectionPlanes),this.unionPlanes=Array.from(e.unionPlanes),this.parentVersion=e.version),this.clipIntersection!==i.clipIntersection&&(this.clipIntersection=i.clipIntersection,this.clipIntersection?this.unionPlanes.length=e.unionPlanes.length:this.intersectionPlanes.length=e.intersectionPlanes.length);const o=i.clippingPlanes,s=o.length;let a,l;if(this.clipIntersection?(a=this.intersectionPlanes,l=e.intersectionPlanes.length):(a=this.unionPlanes,l=e.unionPlanes.length),a.length!==l+s){a.length=l+s;for(let u=0;u<s;u++)a[l+u]=new dn;r=!0}this.projectPlanes(o,a,l),r&&(this.version++,this.cacheKey=`${this.intersectionPlanes.length}:${this.unionPlanes.length}`)}getGroupContext(e){if(this.shadowPass&&!e.clipShadows)return this;let i=this.clippingGroupContexts.get(e);return i===void 0&&(i=new AS(this),this.clippingGroupContexts.set(e,i)),i.update(this,e),i}get unionClippingCount(){return this.unionPlanes.length}}class n6e{constructor(e,i){this.bundleGroup=e,this.camera=i}}class i6e{constructor(){this.bundles=new Rl}get(e,i){const r=this.bundles,o=[e,i];let s=r.get(o);return s===void 0&&(s=new n6e(e,i),r.set(o,s)),s}dispose(){this.bundles=new Rl}}class Gj{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map}fromMaterial(e){if(e.isNodeMaterial)return e;let i=null;const r=this.getMaterialNodeClass(e.type);if(r!==null){i=new r;for(const o in e)i[o]=e[o]}return i}addToneMapping(e,i){this.addType(e,i,this.toneMappingNodes)}getToneMappingFunction(e){return this.toneMappingNodes.get(e)||null}getMaterialNodeClass(e){return this.materialNodes.get(e)||null}addMaterial(e,i){this.addType(e,i,this.materialNodes)}getLightNodeClass(e){return this.lightNodes.get(e)||null}addLight(e,i){this.addClass(e,i,this.lightNodes)}addType(e,i,r){if(r.has(i)){console.warn(`Redefinition of node ${i}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof i=="function"||typeof i=="object")throw new Error(`Base class ${i} is not a class.`);r.set(i,e)}addClass(e,i,r){if(r.has(i)){console.warn(`Redefinition of node ${i.name}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof i!="function")throw new Error(`Base class ${i.name} is not a class.`);r.set(i,e)}}const r6e=new Lj;class o6e extends Rl{constructor(){super()}createNode(e=[]){return new Lj().setLights(e)}getNode(e,i){if(e.isQuadMesh)return r6e;const r=[e,i];let o=this.get(r);return o===void 0&&(o=this.createNode(),this.set(r,o)),o}}const Pz=new qI,yx=new dt,eE=new dn,tE=new Fw,bx=new Mn,Mc=new dn;class s6e{constructor(e,i={}){this.isRenderer=!0;const{logarithmicDepthBuffer:r=!1,alpha:o=!0,depth:s=!0,stencil:a=!1,antialias:l=!1,samples:u=0,getFallback:c=null}=i;this.domElement=e.getDomElement(),this.backend=e,this.samples=u||l===!0?4:0,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=o,this.logarithmicDepthBuffer=r,this.outputColorSpace=Ft,this.toneMapping=es,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=s,this.stencil=a,this.info=new eze,this.nodes={modelViewMatrix:null,modelNormalViewMatrix:null},this.library=new Gj,this.lighting=new o6e,this._getFallback=c,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new dn(0,0,this._width,this._height),this._scissor=new dn(0,0,this._width,this._height),this._scissorTest=!1,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new Pj(new hr),this._quad.material.name="Renderer_output",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const d=this.alpha===!0?0:1;this._clearColor=new IN(0,0,0,d),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._isDeviceLost=!1,this.onDeviceLost=this._onDeviceLost,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:xI},this.xr={enabled:!1},this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(f,h,p)=>{await this.compileAsync(f,h);const v=this._renderLists.get(f,h),b=this._renderContexts.get(f,h,this._renderTarget),y=f.overrideMaterial||p.material,m=this._objects.get(p,y,f,h,v.lightsNode,b,b.clippingContext),{fragmentShader:_,vertexShader:S}=m.getNodeBuilderState();return{fragmentShader:_,vertexShader:S}}}}async init(){if(this._initialized)throw new Error("Renderer: Backend has already been initialized.");return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(e,i)=>{let r=this.backend;try{await r.init(this)}catch(o){if(this._getFallback!==null)try{this.backend=r=this._getFallback(o),await r.init(this)}catch(s){i(s);return}else{i(o);return}}this._nodes=new t6e(this,r),this._animation=new Vke(this._nodes,this.info),this._attributes=new Qke(r),this._background=new m5e(this,this._nodes),this._geometries=new Jke(this._attributes,this.info),this._textures=new hze(this,r,this.info),this._pipelines=new rze(r,this._nodes),this._bindings=new oze(r,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new Xke(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new lze(this.lighting),this._bundles=new i6e,this._renderContexts=new dze,this._animation.start(),this._initialized=!0,e()}),this._initPromise)}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(e,i,r=null){if(this._isDeviceLost===!0)return;this._initialized===!1&&await this.init();const o=this._nodes.nodeFrame,s=o.renderId,a=this._currentRenderContext,l=this._currentRenderObjectFunction,u=this._compilationPromises,c=e.isScene===!0?e:Pz;r===null&&(r=e);const d=this._renderTarget,f=this._renderContexts.get(r,i,d),h=this._activeMipmapLevel,p=[];this._currentRenderContext=f,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=p,o.renderId++,o.update(),f.depth=this.depth,f.stencil=this.stencil,f.clippingContext||(f.clippingContext=new AS),f.clippingContext.updateGlobal(c,i),c.onBeforeRender(this,e,i,d);const v=this._renderLists.get(e,i);if(v.begin(),this._projectObject(e,i,0,v,f.clippingContext),r!==e&&r.traverseVisible(function(S){S.isLight&&S.layers.test(i.layers)&&v.pushLight(S)}),v.finish(),d!==null){this._textures.updateRenderTarget(d,h);const S=this._textures.get(d);f.textures=S.textures,f.depthTexture=S.depthTexture}else f.textures=null,f.depthTexture=null;this._background.update(c,v,f);const b=v.opaque,y=v.transparent,m=v.transparentDoublePass,_=v.lightsNode;this.opaque===!0&&b.length>0&&this._renderObjects(b,i,c,_),this.transparent===!0&&y.length>0&&this._renderTransparents(y,m,i,c,_),o.renderId=s,this._currentRenderContext=a,this._currentRenderObjectFunction=l,this._compilationPromises=u,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(p)}async renderAsync(e,i){this._initialized===!1&&await this.init();const r=this._renderScene(e,i);await this.backend.resolveTimestampAsync(r,"render")}async waitForGPU(){await this.backend.waitForGPU()}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}_onDeviceLost(e){let i=`THREE.WebGPURenderer: ${e.api} Device Lost:

Message: ${e.message}`;e.reason&&(i+=`
Reason: ${e.reason}`),console.error(i),this._isDeviceLost=!0}_renderBundle(e,i,r){const{bundleGroup:o,camera:s,renderList:a}=e,l=this._currentRenderContext,u=this._bundles.get(o,s),c=this.backend.get(u);c.renderContexts===void 0&&(c.renderContexts=new Set);const d=o.version!==c.version,f=c.renderContexts.has(l)===!1||d;if(c.renderContexts.add(l),f){this.backend.beginBundle(l),(c.renderObjects===void 0||d)&&(c.renderObjects=[]),this._currentRenderBundle=u;const h=a.opaque;this.opaque===!0&&h.length>0&&this._renderObjects(h,s,i,r),this._currentRenderBundle=null,this.backend.finishBundle(l,u),c.version=o.version}else{const{renderObjects:h}=c;for(let p=0,v=h.length;p<v;p++){const b=h[p];this._nodes.needsRefresh(b)&&(this._nodes.updateBefore(b),this._nodes.updateForRender(b),this._bindings.updateForRender(b),this._nodes.updateAfter(b))}}this.backend.addBundle(l,u)}render(e,i){if(this._initialized===!1)return console.warn("THREE.Renderer: .render() called before the backend is initialized. Try using .renderAsync() instead."),this.renderAsync(e,i);this._renderScene(e,i)}_getFrameBufferTarget(){const{currentToneMapping:e,currentColorSpace:i}=this;if(e!==es===!1&&i!==oa===!1)return null;const{width:s,height:a}=this.getDrawingBufferSize(yx),{depth:l,stencil:u}=this;let c=this._frameBufferTarget;return c===null&&(c=new Lg(s,a,{depthBuffer:l,stencilBuffer:u,type:Ro,format:Gr,colorSpace:oa,generateMipmaps:!1,minFilter:_r,magFilter:_r,samples:this.samples}),c.isPostProcessingRenderTarget=!0,this._frameBufferTarget=c),c.depthBuffer=l,c.stencilBuffer=u,c.setSize(s,a),c.viewport.copy(this._viewport),c.scissor.copy(this._scissor),c.viewport.multiplyScalar(this._pixelRatio),c.scissor.multiplyScalar(this._pixelRatio),c.scissorTest=this._scissorTest,c}_renderScene(e,i,r=!0){if(this._isDeviceLost===!0)return;const o=r?this._getFrameBufferTarget():null,s=this._nodes.nodeFrame,a=s.renderId,l=this._currentRenderContext,u=this._currentRenderObjectFunction,c=e.isScene===!0?e:Pz,d=this._renderTarget,f=this._activeCubeFace,h=this._activeMipmapLevel;let p;o!==null?(p=o,this.setRenderTarget(p)):p=d;const v=this._renderContexts.get(e,i,p);this._currentRenderContext=v,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,s.renderId=this.info.calls;const b=this.coordinateSystem;i.coordinateSystem!==b&&(i.coordinateSystem=b,i.updateProjectionMatrix()),e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),i.parent===null&&i.matrixWorldAutoUpdate===!0&&i.updateMatrixWorld();let y=this._viewport,m=this._scissor,_=this._pixelRatio;p!==null&&(y=p.viewport,m=p.scissor,_=1),this.getDrawingBufferSize(yx),eE.set(0,0,yx.width,yx.height);const S=y.minDepth===void 0?0:y.minDepth,w=y.maxDepth===void 0?1:y.maxDepth;v.viewportValue.copy(y).multiplyScalar(_).floor(),v.viewportValue.width>>=h,v.viewportValue.height>>=h,v.viewportValue.minDepth=S,v.viewportValue.maxDepth=w,v.viewport=v.viewportValue.equals(eE)===!1,v.scissorValue.copy(m).multiplyScalar(_).floor(),v.scissor=this._scissorTest&&v.scissorValue.equals(eE)===!1,v.scissorValue.width>>=h,v.scissorValue.height>>=h,v.clippingContext||(v.clippingContext=new AS),v.clippingContext.updateGlobal(c,i),c.onBeforeRender(this,e,i,p),bx.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),tE.setFromProjectionMatrix(bx,b);const T=this._renderLists.get(e,i);if(T.begin(),this._projectObject(e,i,0,T,v.clippingContext),T.finish(),this.sortObjects===!0&&T.sort(this._opaqueSort,this._transparentSort),p!==null){this._textures.updateRenderTarget(p,h);const N=this._textures.get(p);v.textures=N.textures,v.depthTexture=N.depthTexture,v.width=N.width,v.height=N.height,v.renderTarget=p,v.depth=p.depthBuffer,v.stencil=p.stencilBuffer}else v.textures=null,v.depthTexture=null,v.width=this.domElement.width,v.height=this.domElement.height,v.depth=this.depth,v.stencil=this.stencil;v.width>>=h,v.height>>=h,v.activeCubeFace=f,v.activeMipmapLevel=h,v.occlusionQueryCount=T.occlusionQueryCount,this._background.update(c,T,v),this.backend.beginRender(v);const{bundles:A,lightsNode:C,transparentDoublePass:R,transparent:E,opaque:P}=T;if(A.length>0&&this._renderBundles(A,c,C),this.opaque===!0&&P.length>0&&this._renderObjects(P,i,c,C),this.transparent===!0&&E.length>0&&this._renderTransparents(E,R,i,c,C),this.backend.finishRender(v),s.renderId=a,this._currentRenderContext=l,this._currentRenderObjectFunction=u,o!==null){this.setRenderTarget(d,f,h);const N=this._quad;this._nodes.hasOutputChange(p.texture)&&(N.material.fragmentNode=this._nodes.getOutputNode(p.texture),N.material.needsUpdate=!0),this._renderScene(N,N.camera,!1)}return c.onAfterRender(this,e,i,p),v}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(e){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(e)}async getArrayBufferAsync(e){return await this.backend.getArrayBufferAsync(e)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(e){return e.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(e){return e.set(this._width,this._height)}setPixelRatio(e=1){this._pixelRatio!==e&&(this._pixelRatio=e,this.setSize(this._width,this._height,!1))}setDrawingBufferSize(e,i,r){this._width=e,this._height=i,this._pixelRatio=r,this.domElement.width=Math.floor(e*r),this.domElement.height=Math.floor(i*r),this.setViewport(0,0,e,i),this._initialized&&this.backend.updateSize()}setSize(e,i,r=!0){this._width=e,this._height=i,this.domElement.width=Math.floor(e*this._pixelRatio),this.domElement.height=Math.floor(i*this._pixelRatio),r===!0&&(this.domElement.style.width=e+"px",this.domElement.style.height=i+"px"),this.setViewport(0,0,e,i),this._initialized&&this.backend.updateSize()}setOpaqueSort(e){this._opaqueSort=e}setTransparentSort(e){this._transparentSort=e}getScissor(e){const i=this._scissor;return e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height,e}setScissor(e,i,r,o){const s=this._scissor;e.isVector4?s.copy(e):s.set(e,i,r,o)}getScissorTest(){return this._scissorTest}setScissorTest(e){this._scissorTest=e,this.backend.setScissorTest(e)}getViewport(e){return e.copy(this._viewport)}setViewport(e,i,r,o,s=0,a=1){const l=this._viewport;e.isVector4?l.copy(e):l.set(e,i,r,o),l.minDepth=s,l.maxDepth=a}getClearColor(e){return e.copy(this._clearColor)}setClearColor(e,i=1){this._clearColor.set(e),this._clearColor.a=i}getClearAlpha(){return this._clearColor.a}setClearAlpha(e){this._clearColor.a=e}getClearDepth(){return this._clearDepth}setClearDepth(e){this._clearDepth=e}getClearStencil(){return this._clearStencil}setClearStencil(e){this._clearStencil=e}isOccluded(e){const i=this._currentRenderContext;return i&&this.backend.isOccluded(i,e)}clear(e=!0,i=!0,r=!0){if(this._initialized===!1)return console.warn("THREE.Renderer: .clear() called before the backend is initialized. Try using .clearAsync() instead."),this.clearAsync(e,i,r);const o=this._renderTarget||this._getFrameBufferTarget();let s=null;if(o!==null){this._textures.updateRenderTarget(o);const a=this._textures.get(o);s=this._renderContexts.get(null,null,o),s.textures=a.textures,s.depthTexture=a.depthTexture,s.width=a.width,s.height=a.height,s.renderTarget=o,s.depth=o.depthBuffer,s.stencil=o.stencilBuffer}if(this.backend.clear(e,i,r,s),o!==null&&this._renderTarget===null){const a=this._quad;this._nodes.hasOutputChange(o.texture)&&(a.material.fragmentNode=this._nodes.getOutputNode(o.texture),a.material.needsUpdate=!0),this._renderScene(a,a.camera,!1)}}clearColor(){return this.clear(!0,!1,!1)}clearDepth(){return this.clear(!1,!0,!1)}clearStencil(){return this.clear(!1,!1,!0)}async clearAsync(e=!0,i=!0,r=!0){this._initialized===!1&&await this.init(),this.clear(e,i,r)}async clearColorAsync(){this.clearAsync(!0,!1,!1)}async clearDepthAsync(){this.clearAsync(!1,!0,!1)}async clearStencilAsync(){this.clearAsync(!1,!1,!0)}get currentToneMapping(){return this._renderTarget!==null?es:this.toneMapping}get currentColorSpace(){return this._renderTarget!==null?oa:this.outputColorSpace}dispose(){this.info.dispose(),this.backend.dispose(),this._animation.dispose(),this._objects.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(e,i=0,r=0){this._renderTarget=e,this._activeCubeFace=i,this._activeMipmapLevel=r}getRenderTarget(){return this._renderTarget}setRenderObjectFunction(e){this._renderObjectFunction=e}getRenderObjectFunction(){return this._renderObjectFunction}compute(e){if(this.isDeviceLost===!0)return;if(this._initialized===!1)return console.warn("THREE.Renderer: .compute() called before the backend is initialized. Try using .computeAsync() instead."),this.computeAsync(e);const i=this._nodes.nodeFrame,r=i.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,i.renderId=this.info.calls;const o=this.backend,s=this._pipelines,a=this._bindings,l=this._nodes,u=Array.isArray(e)?e:[e];if(u[0]===void 0||u[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");o.beginCompute(e);for(const c of u){if(s.has(c)===!1){const h=()=>{c.removeEventListener("dispose",h),s.delete(c),a.delete(c),l.delete(c)};c.addEventListener("dispose",h);const p=c.onInitFunction;p!==null&&p.call(c,{renderer:this})}l.updateForCompute(c),a.updateForCompute(c);const d=a.getForCompute(c),f=s.getForCompute(c,d);o.compute(e,c,d,f)}o.finishCompute(e),i.renderId=r}async computeAsync(e){this._initialized===!1&&await this.init(),this.compute(e),await this.backend.resolveTimestampAsync(e,"compute")}async hasFeatureAsync(e){return this._initialized===!1&&await this.init(),this.backend.hasFeature(e)}hasFeature(e){return this._initialized===!1?(console.warn("THREE.Renderer: .hasFeature() called before the backend is initialized. Try using .hasFeatureAsync() instead."),!1):this.backend.hasFeature(e)}hasInitialized(){return this._initialized}async initTextureAsync(e){this._initialized===!1&&await this.init(),this._textures.updateTexture(e)}initTexture(e){this._initialized===!1&&console.warn("THREE.Renderer: .initTexture() called before the backend is initialized. Try using .initTextureAsync() instead."),this._textures.updateTexture(e)}copyFramebufferToTexture(e,i=null){if(i!==null)if(i.isVector2)i=Mc.set(i.x,i.y,e.image.width,e.image.height).floor();else if(i.isVector4)i=Mc.copy(i).floor();else{console.error("THREE.Renderer.copyFramebufferToTexture: Invalid rectangle.");return}else i=Mc.set(0,0,e.image.width,e.image.height);let r=this._currentRenderContext,o;r!==null?o=r.renderTarget:(o=this._renderTarget||this._getFrameBufferTarget(),o!==null&&(this._textures.updateRenderTarget(o),r=this._textures.get(o))),this._textures.updateTexture(e,{renderTarget:o}),this.backend.copyFramebufferToTexture(e,r,i)}copyTextureToTexture(e,i,r=null,o=null,s=0){this._textures.updateTexture(e),this._textures.updateTexture(i),this.backend.copyTextureToTexture(e,i,r,o,s)}async readRenderTargetPixelsAsync(e,i,r,o,s,a=0,l=0){return this.backend.copyTextureToBuffer(e.textures[a],i,r,o,s,l)}_projectObject(e,i,r,o,s){if(e.visible===!1)return;if(e.layers.test(i.layers)){if(e.isGroup)r=e.renderOrder,e.isClippingGroup&&e.enabled&&(s=s.getGroupContext(e));else if(e.isLOD)e.autoUpdate===!0&&e.update(i);else if(e.isLight)o.pushLight(e);else if(e.isSprite){if(!e.frustumCulled||tE.intersectsSprite(e)){this.sortObjects===!0&&Mc.setFromMatrixPosition(e.matrixWorld).applyMatrix4(bx);const{geometry:u,material:c}=e;c.visible&&o.push(e,u,c,r,Mc.z,null,s)}}else if(e.isLineLoop)console.error("THREE.Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||tE.intersectsObject(e))){const{geometry:u,material:c}=e;if(this.sortObjects===!0&&(u.boundingSphere===null&&u.computeBoundingSphere(),Mc.copy(u.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(bx)),Array.isArray(c)){const d=u.groups;for(let f=0,h=d.length;f<h;f++){const p=d[f],v=c[p.materialIndex];v&&v.visible&&o.push(e,u,v,r,Mc.z,p,s)}}else c.visible&&o.push(e,u,c,r,Mc.z,null,s)}}if(e.isBundleGroup===!0&&this.backend.beginBundle!==void 0){const u=o;o=this._renderLists.get(e,i),o.begin(),u.pushBundle({bundleGroup:e,camera:i,renderList:o}),o.finish()}const l=e.children;for(let u=0,c=l.length;u<c;u++)this._projectObject(l[u],i,r,o,s)}_renderBundles(e,i,r){for(const o of e)this._renderBundle(o,i,r)}_renderTransparents(e,i,r,o,s){if(i.length>0){for(const{material:a}of i)a.side=Ni;this._renderObjects(i,r,o,s,"backSide");for(const{material:a}of i)a.side=Ua;this._renderObjects(e,r,o,s);for(const{material:a}of i)a.side=Ao}else this._renderObjects(e,r,o,s)}_renderObjects(e,i,r,o,s=null){for(let a=0,l=e.length;a<l;a++){const u=e[a],{object:c,geometry:d,material:f,group:h,clippingContext:p}=u;if(i.isArrayCamera){const v=i.cameras;for(let b=0,y=v.length;b<y;b++){const m=v[b];if(c.layers.test(m.layers)){const _=m.viewport,S=_.minDepth===void 0?0:_.minDepth,w=_.maxDepth===void 0?1:_.maxDepth,T=this._currentRenderContext.viewportValue;T.copy(_).multiplyScalar(this._pixelRatio).floor(),T.minDepth=S,T.maxDepth=w,this.backend.updateViewport(this._currentRenderContext),this._currentRenderObjectFunction(c,r,m,d,f,h,o,p,s)}}}else this._currentRenderObjectFunction(c,r,i,d,f,h,o,p,s)}}renderObject(e,i,r,o,s,a,l,u=null,c=null){let d,f,h;if(e.onBeforeRender(this,i,r,o,s,a),i.overrideMaterial!==null){const p=i.overrideMaterial;s.positionNode&&s.positionNode.isNode&&(d=p.positionNode,p.positionNode=s.positionNode),p.alphaTest=s.alphaTest,p.alphaMap=s.alphaMap,p.transparent=s.transparent||s.transmission>0,p.isShadowNodeMaterial&&(p.side=s.shadowSide===null?s.side:s.shadowSide,s.depthNode&&s.depthNode.isNode&&(h=p.depthNode,p.depthNode=s.depthNode),s.castShadowNode&&s.castShadowNode.isNode&&(f=p.colorNode,p.colorNode=s.castShadowNode)),s=p}s.transparent===!0&&s.side===Ao&&s.forceSinglePass===!1?(s.side=Ni,this._handleObjectFunction(e,s,i,r,l,a,u,"backSide"),s.side=Ua,this._handleObjectFunction(e,s,i,r,l,a,u,c),s.side=Ao):this._handleObjectFunction(e,s,i,r,l,a,u,c),d!==void 0&&(i.overrideMaterial.positionNode=d),h!==void 0&&(i.overrideMaterial.depthNode=h),f!==void 0&&(i.overrideMaterial.colorNode=f),e.onAfterRender(this,i,r,o,s,a)}_renderObjectDirect(e,i,r,o,s,a,l,u){const c=this._objects.get(e,i,r,o,s,this._currentRenderContext,l,u);c.drawRange=e.geometry.drawRange,c.group=a;const d=this._nodes.needsRefresh(c);d&&(this._nodes.updateBefore(c),this._geometries.updateForRender(c),this._nodes.updateForRender(c),this._bindings.updateForRender(c)),this._pipelines.updateForRender(c),this._currentRenderBundle!==null&&(this.backend.get(this._currentRenderBundle).renderObjects.push(c),c.bundle=this._currentRenderBundle.bundleGroup),this.backend.draw(c,this.info),d&&this._nodes.updateAfter(c)}_createObjectPipeline(e,i,r,o,s,a,l,u){const c=this._objects.get(e,i,r,o,s,this._currentRenderContext,l,u);c.drawRange=e.geometry.drawRange,c.group=a,this._nodes.updateBefore(c),this._geometries.updateForRender(c),this._nodes.updateForRender(c),this._bindings.updateForRender(c),this._pipelines.getForRender(c,this._compilationPromises),this._nodes.updateAfter(c)}get compile(){return this.compileAsync}}class FN{constructor(e=""){this.name=e,this.visibility=0}setVisibility(e){this.visibility|=e}clone(){return Object.assign(new this.constructor,this)}}function a6e(n){return n+(Hc-n%Hc)%Hc}class Vj extends FN{constructor(e,i=null){super(e),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=i}get byteLength(){return a6e(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}}class Wj extends Vj{constructor(e,i=null){super(e,i),this.isUniformBuffer=!0}}let l6e=0;class jj extends Wj{constructor(e,i){super("UniformBuffer_"+l6e++,e?e.value:null),this.nodeUniform=e,this.groupNode=i}get buffer(){return this.nodeUniform.value}}class u6e extends Wj{constructor(e){super(e),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(e){return this.uniforms.push(e),this}removeUniform(e){const i=this.uniforms.indexOf(e);return i!==-1&&this.uniforms.splice(i,1),this}get values(){return this._values===null&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let e=this._buffer;if(e===null){const i=this.byteLength;e=new Float32Array(new ArrayBuffer(i)),this._buffer=e}return e}get byteLength(){let e=0;for(let i=0,r=this.uniforms.length;i<r;i++){const o=this.uniforms[i],{boundary:s,itemSize:a}=o,l=e%Hc,u=Hc-l;l!==0&&u-s<0?e+=Hc-l:l%s!==0&&(e+=l%s),o.offset=e/this.bytesPerElement,e+=a*this.bytesPerElement}return Math.ceil(e/Hc)*Hc}update(){let e=!1;for(const i of this.uniforms)this.updateByType(i)===!0&&(e=!0);return e}updateByType(e){if(e.isNumberUniform)return this.updateNumber(e);if(e.isVector2Uniform)return this.updateVector2(e);if(e.isVector3Uniform)return this.updateVector3(e);if(e.isVector4Uniform)return this.updateVector4(e);if(e.isColorUniform)return this.updateColor(e);if(e.isMatrix3Uniform)return this.updateMatrix3(e);if(e.isMatrix4Uniform)return this.updateMatrix4(e);console.error("THREE.WebGPUUniformsGroup: Unsupported uniform type.",e)}updateNumber(e){let i=!1;const r=this.values,o=e.getValue(),s=e.offset,a=e.getType();if(r[s]!==o){const l=this._getBufferForType(a);l[s]=r[s]=o,i=!0}return i}updateVector2(e){let i=!1;const r=this.values,o=e.getValue(),s=e.offset,a=e.getType();if(r[s+0]!==o.x||r[s+1]!==o.y){const l=this._getBufferForType(a);l[s+0]=r[s+0]=o.x,l[s+1]=r[s+1]=o.y,i=!0}return i}updateVector3(e){let i=!1;const r=this.values,o=e.getValue(),s=e.offset,a=e.getType();if(r[s+0]!==o.x||r[s+1]!==o.y||r[s+2]!==o.z){const l=this._getBufferForType(a);l[s+0]=r[s+0]=o.x,l[s+1]=r[s+1]=o.y,l[s+2]=r[s+2]=o.z,i=!0}return i}updateVector4(e){let i=!1;const r=this.values,o=e.getValue(),s=e.offset,a=e.getType();if(r[s+0]!==o.x||r[s+1]!==o.y||r[s+2]!==o.z||r[s+4]!==o.w){const l=this._getBufferForType(a);l[s+0]=r[s+0]=o.x,l[s+1]=r[s+1]=o.y,l[s+2]=r[s+2]=o.z,l[s+3]=r[s+3]=o.w,i=!0}return i}updateColor(e){let i=!1;const r=this.values,o=e.getValue(),s=e.offset;if(r[s+0]!==o.r||r[s+1]!==o.g||r[s+2]!==o.b){const a=this.buffer;a[s+0]=r[s+0]=o.r,a[s+1]=r[s+1]=o.g,a[s+2]=r[s+2]=o.b,i=!0}return i}updateMatrix3(e){let i=!1;const r=this.values,o=e.getValue().elements,s=e.offset;if(r[s+0]!==o[0]||r[s+1]!==o[1]||r[s+2]!==o[2]||r[s+4]!==o[3]||r[s+5]!==o[4]||r[s+6]!==o[5]||r[s+8]!==o[6]||r[s+9]!==o[7]||r[s+10]!==o[8]){const a=this.buffer;a[s+0]=r[s+0]=o[0],a[s+1]=r[s+1]=o[1],a[s+2]=r[s+2]=o[2],a[s+4]=r[s+4]=o[3],a[s+5]=r[s+5]=o[4],a[s+6]=r[s+6]=o[5],a[s+8]=r[s+8]=o[6],a[s+9]=r[s+9]=o[7],a[s+10]=r[s+10]=o[8],i=!0}return i}updateMatrix4(e){let i=!1;const r=this.values,o=e.getValue().elements,s=e.offset;return d6e(r,o,s)===!1&&(this.buffer.set(o,s),c6e(r,o,s),i=!0),i}_getBufferForType(e){return e==="int"||e==="ivec2"||e==="ivec3"||e==="ivec4"?new Int32Array(this.buffer.buffer):e==="uint"||e==="uvec2"||e==="uvec3"||e==="uvec4"?new Uint32Array(this.buffer.buffer):this.buffer}}function c6e(n,e,i){for(let r=0,o=e.length;r<o;r++)n[i+r]=e[r]}function d6e(n,e,i){for(let r=0,o=e.length;r<o;r++)if(n[i+r]!==e[r])return!1;return!0}let f6e=0;class Kj extends u6e{constructor(e,i){super(e),this.id=f6e++,this.groupNode=i,this.isNodeUniformsGroup=!0}}let h6e=0;class p6e extends FN{constructor(e,i){super(e),this.id=h6e++,this.texture=i,this.version=i?i.version:0,this.store=!1,this.generation=null,this.isSampledTexture=!0}needsBindingsUpdate(e){const{texture:i}=this;return e!==this.generation?(this.generation=e,!0):i.isVideoTexture}update(){const{texture:e,version:i}=this;return i!==e.version?(this.version=e.version,!0):!1}}class t1 extends p6e{constructor(e,i,r,o=null){super(e,i?i.value:null),this.textureNode=i,this.groupNode=r,this.access=o}needsBindingsUpdate(e){return this.textureNode.value!==this.texture||super.needsBindingsUpdate(e)}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class Xj extends t1{constructor(e,i,r,o=null){super(e,i,r,o),this.isSampledCubeTexture=!0}}class qj extends t1{constructor(e,i,r,o=null){super(e,i,r,o),this.isSampledTexture3D=!0}}const g6e={textureDimensions:"textureSize",equals:"equal"},m6e={low:"lowp",medium:"mediump",high:"highp"},Iz={swizzleAssign:!0,storageBuffer:!1},Nz=`
precision highp float;
precision highp int;
precision highp sampler2D;
precision highp sampler3D;
precision highp samplerCube;
precision highp sampler2DArray;

precision highp usampler2D;
precision highp usampler3D;
precision highp usamplerCube;
precision highp usampler2DArray;

precision highp isampler2D;
precision highp isampler3D;
precision highp isamplerCube;
precision highp isampler2DArray;

precision lowp sampler2DShadow;
`;class v6e extends kj{constructor(e,i){super(e,i,new e6e),this.uniformGroups={},this.transforms=[],this.extensions={},this.builtins={vertex:[],fragment:[],compute:[]},this.useComparisonMethod=!0}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==Ts}getMethod(e){return g6e[e]||e}getOutputStructName(){return""}buildFunctionCode(e){const i=e.layout,r=this.flowShaderNode(e),o=[];for(const a of i.inputs)o.push(this.getType(a.type)+" "+a.name);return`${this.getType(i.type)} ${i.name}( ${o.join(", ")} ) {

	${r.vars}

${r.code}
	return ${r.result};

}`}setupPBO(e){const i=e.value;if(i.pbo===void 0){const r=i.array,o=i.count*i.itemSize,{itemSize:s}=i,a=i.array.constructor.name.toLowerCase().includes("int");let l=a?Ng:Yy;s===2?l=a?Og:Vf:s===3?l=a?KRe:qy:s===4&&(l=a?Dg:Gr);const u={Float32Array:er,Uint8Array:ao,Uint16Array:Oa,Uint32Array:Ui,Int8Array:Cf,Int16Array:Tf,Int32Array:Nr,Uint8ClampedArray:ao},c=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(o/s))));let d=Math.ceil(o/s/c);c*d*s<o&&d++;const f=c*d*s,h=new r.constructor(f);h.set(r,0),i.array=h;const p=new qPe(i.array,c,d,l,u[i.array.constructor.name]||er);p.needsUpdate=!0,p.isPBOTexture=!0;const v=new i0(p,null,null);v.setPrecision("high"),i.pboNode=v,i.pbo=v.value,this.getUniformFromNode(i.pboNode,"texture",this.shaderStage,this.context.label)}}getPropertyName(e,i=this.shaderStage){return e.isNodeUniform&&e.node.isTextureNode!==!0&&e.node.isBufferNode!==!0?i.charAt(0)+"_"+e.name:super.getPropertyName(e,i)}generatePBO(e){const{node:i,indexNode:r}=e,o=i.value;if(this.renderer.backend.has(o)){const d=this.renderer.backend.get(o);d.pbo=o.pbo}const s=this.getUniformFromNode(o.pboNode,"texture",this.shaderStage,this.context.label),a=this.getPropertyName(s);this.increaseUsage(r);const l=r.build(this,"uint"),u=this.getDataFromNode(e);let c=u.propertyName;if(c===void 0){const d=this.getVarFromNode(e);c=this.getPropertyName(d);const f=this.getDataFromNode(i);let h=f.propertySizeName;h===void 0&&(h=c+"Size",this.getVarFromNode(i,h,"uint"),this.addLineFlowCode(`${h} = uint( textureSize( ${a}, 0 ).x )`,e),f.propertySizeName=h);const{itemSize:p}=o,v="."+$g.join("").slice(0,p),b=`ivec2(${l} % ${h}, ${l} / ${h})`,y=this.generateTextureLoad(null,a,b,null,"0");let m="vec4";o.pbo.type===Ui?m="uvec4":o.pbo.type===Nr&&(m="ivec4"),this.addLineFlowCode(`${c} = ${m}(${y})${v}`,e),u.propertyName=c}return c}generateTextureLoad(e,i,r,o,s="0"){return o?`texelFetch( ${i}, ivec3( ${r}, ${o} ), ${s} )`:`texelFetch( ${i}, ${r}, ${s} )`}generateTexture(e,i,r,o){return e.isDepthTexture?`texture( ${i}, ${r} ).x`:(o&&(r=`vec3( ${r}, ${o} )`),`texture( ${i}, ${r} )`)}generateTextureLevel(e,i,r,o){return`textureLod( ${i}, ${r}, ${o} )`}generateTextureBias(e,i,r,o){return`texture( ${i}, ${r}, ${o} )`}generateTextureGrad(e,i,r,o){return`textureGrad( ${i}, ${r}, ${o[0]}, ${o[1]} )`}generateTextureCompare(e,i,r,o,s,a=this.shaderStage){if(a==="fragment")return`texture( ${i}, vec3( ${r}, ${o} ) )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${a} shader.`)}getVars(e){const i=[],r=this.vars[e];if(r!==void 0)for(const o of r)i.push(`${this.getVar(o.type,o.name)};`);return i.join(`
	`)}getUniforms(e){const i=this.uniforms[e],r=[],o={};for(const a of i){let l=null,u=!1;if(a.type==="texture"){const d=a.node.value;let f="";d.isDataTexture===!0&&(d.type===Ui?f="u":d.type===Nr&&(f="i")),d.compareFunction?l=`sampler2DShadow ${a.name};`:d.isDataArrayTexture===!0||d.isCompressedArrayTexture===!0?l=`${f}sampler2DArray ${a.name};`:l=`${f}sampler2D ${a.name};`}else if(a.type==="cubeTexture")l=`samplerCube ${a.name};`;else if(a.type==="texture3D")l=`sampler3D ${a.name};`;else if(a.type==="buffer"){const d=a.node,f=this.getType(d.bufferType),h=d.bufferCount,p=h>0?h:"";l=`${d.name} {
	${f} ${a.name}[${p}];
};
`}else l=`${this.getVectorType(a.type)} ${this.getPropertyName(a,e)};`,u=!0;const c=a.node.precision;if(c!==null&&(l=m6e[c]+" "+l),u){l="	"+l;const d=a.groupNode.name;(o[d]||(o[d]=[])).push(l)}else l="uniform "+l,r.push(l)}let s="";for(const a in o){const l=o[a];s+=this._getGLSLUniformStruct(e+"_"+a,l.join(`
`))+`
`}return s+=r.join(`
`),s}getTypeFromAttribute(e){let i=super.getTypeFromAttribute(e);if(/^[iu]/.test(i)&&e.gpuType!==Nr){let r=e;e.isInterleavedBufferAttribute&&(r=e.data);const o=r.array;o instanceof Uint32Array||o instanceof Int32Array||(i=i.slice(1))}return i}getAttributes(e){let i="";if(e==="vertex"||e==="compute"){const r=this.getAttributesArray();let o=0;for(const s of r)i+=`layout( location = ${o++} ) in ${s.type} ${s.name};
`}return i}getStructMembers(e){const i=[],r=e.getMemberTypes();for(let o=0;o<r.length;o++){const s=r[o];i.push(`layout( location = ${o} ) out ${s} m${o};`)}return i.join(`
`)}getStructs(e){const i=[],r=this.structs[e];if(r.length===0)return`layout( location = 0 ) out vec4 fragColor;
`;for(let o=0,s=r.length;o<s;o++){const a=r[o];let l=`
`;l+=this.getStructMembers(a),l+=`
`,i.push(l)}return i.join(`

`)}getVaryings(e){let i="";const r=this.varyings;if(e==="vertex"||e==="compute")for(const o of r){e==="compute"&&(o.needsInterpolation=!0);const s=this.getType(o.type),a=s.includes("int")||s.includes("uv")||s.includes("iv")?"flat ":"";i+=`${a}${o.needsInterpolation?"out":"/*out*/"} ${s} ${o.name};
`}else if(e==="fragment"){for(const o of r)if(o.needsInterpolation){const s=this.getType(o.type),a=s.includes("int")||s.includes("uv")||s.includes("iv")?"flat ":"";i+=`${a}in ${s} ${o.name};
`}}for(const o of this.builtins[e])i+=`${o};
`;return i}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){return`uint( gl_InstanceID ) % ${this.object.workgroupSize.reduce((r,o)=>r*o,1)}u`}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(e,i,r=this.shaderStage){const o=this.extensions[r]||(this.extensions[r]=new Map);o.has(e)===!1&&o.set(e,{name:e,behavior:i})}getExtensions(e){const i=[];if(e==="vertex"){const o=this.renderer.backend.extensions;this.object.isBatchedMesh&&o.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",e)}const r=this.extensions[e];if(r!==void 0)for(const{name:o,behavior:s}of r.values())i.push(`#extension ${o} : ${s}`);return i.join(`
`)}getClipDistance(){return"gl_ClipDistance"}isAvailable(e){let i=Iz[e];if(i===void 0){let r;switch(i=!1,e){case"float32Filterable":r="OES_texture_float_linear";break;case"clipDistance":r="WEBGL_clip_cull_distance";break}if(r!==void 0){const o=this.renderer.backend.extensions;o.has(r)&&(o.get(r),i=!0)}Iz[e]=i}return i}isFlipY(){return!0}enableHardwareClipping(e){this.enableExtension("GL_ANGLE_clip_cull_distance","require"),this.builtins.vertex.push(`out float gl_ClipDistance[ ${e} ]`)}registerTransform(e,i){this.transforms.push({varyingName:e,attributeNode:i})}getTransforms(){const e=this.transforms;let i="";for(let r=0;r<e.length;r++){const o=e[r],s=this.getPropertyName(o.attributeNode);i+=`${o.varyingName} = ${s};
	`}return i}_getGLSLUniformStruct(e,i){return`
layout( std140 ) uniform ${e} {
${i}
};`}_getGLSLVertexCode(e){return`#version 300 es

${this.getSignature()}

// extensions 
${e.extensions}

// precision
${Nz}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// attributes
${e.attributes}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// transforms
	${e.transforms}

	// flow
	${e.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(e){return`#version 300 es

${this.getSignature()}

// precision
${Nz}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// codes
${e.codes}

${e.structs}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const i in e){let r=`// code

`;r+=this.flowCode[i];const o=this.flowNodes[i],s=o[o.length-1];for(const l of o){const u=this.getFlowData(l),c=l.name;c&&(r.length>0&&(r+=`
`),r+=`	// flow -> ${c}
	`),r+=`${u.code}
	`,l===s&&i!=="compute"&&(r+=`// result
	`,i==="vertex"?(r+="gl_Position = ",r+=`${u.result};`):i==="fragment"&&(l.outputNode.isOutputStructNode||(r+="fragColor = ",r+=`${u.result};`)))}const a=e[i];a.extensions=this.getExtensions(i),a.uniforms=this.getUniforms(i),a.attributes=this.getAttributes(i),a.varyings=this.getVaryings(i),a.vars=this.getVars(i),a.structs=this.getStructs(i),a.codes=this.getCodes(i),a.transforms=this.getTransforms(i),a.flow=r}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(e.vertex),this.fragmentShader=this._getGLSLFragmentCode(e.fragment)):this.computeShader=this._getGLSLVertexCode(e.compute)}getUniformFromNode(e,i,r,o=null){const s=super.getUniformFromNode(e,i,r,o),a=this.getDataFromNode(e,r,this.globalCache);let l=a.uniformGPU;if(l===void 0){const u=e.groupNode,c=u.name,d=this.getBindGroupArray(c,r);if(i==="texture")l=new t1(s.name,s.node,u),d.push(l);else if(i==="cubeTexture")l=new Xj(s.name,s.node,u),d.push(l);else if(i==="texture3D")l=new qj(s.name,s.node,u),d.push(l);else if(i==="buffer"){e.name=`NodeBuffer_${e.id}`,s.name=`buffer${e.id}`;const f=new jj(e,u);f.name=e.name,d.push(f),l=f}else{const f=this.uniformGroups[r]||(this.uniformGroups[r]={});let h=f[c];h===void 0&&(h=new Kj(r+"_"+c,u),f[c]=h,d.push(h)),l=this.getNodeUniform(s,i),h.addUniform(l)}a.uniformGPU=l}return s}}let nE=null,Zh=null;class Yj{constructor(e={}){this.parameters=Object.assign({},e),this.data=new WeakMap,this.renderer=null,this.domElement=null}async init(e){this.renderer=e}get coordinateSystem(){}beginRender(){}finishRender(){}beginCompute(){}finishCompute(){}draw(){}compute(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}updateBinding(){}createRenderPipeline(){}createComputePipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}createSampler(){}destroySampler(){}createDefaultTexture(){}createTexture(){}updateTexture(){}generateMipmaps(){}destroyTexture(){}copyTextureToBuffer(){}copyTextureToTexture(){}copyFramebufferToTexture(){}createAttribute(){}createIndexAttribute(){}createStorageAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}updateViewport(){}isOccluded(){}async resolveTimestampAsync(){}async waitForGPU(){}async hasFeatureAsync(){}hasFeature(){}getMaxAnisotropy(){}getDrawingBufferSize(){return nE=nE||new dt,this.renderer.getDrawingBufferSize(nE)}setScissorTest(){}getClearColor(){const e=this.renderer;return Zh=Zh||new IN,e.getClearColor(Zh),Zh.getRGB(Zh,this.renderer.currentColorSpace),Zh}getDomElement(){let e=this.domElement;return e===null&&(e=this.parameters.canvas!==void 0?this.parameters.canvas:A9(),"setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Ig} webgpu`),this.domElement=e),e}set(e,i){this.data.set(e,i)}get(e){let i=this.data.get(e);return i===void 0&&(i={},this.data.set(e,i)),i}has(e){return this.data.has(e)}delete(e){this.data.delete(e)}dispose(){}}let y6e=0;class b6e{constructor(e,i){this.buffers=[e.bufferGPU,i],this.type=e.type,this.bufferType=e.bufferType,this.pbo=e.pbo,this.byteLength=e.byteLength,this.bytesPerElement=e.BYTES_PER_ELEMENT,this.version=e.version,this.isInteger=e.isInteger,this.activeBufferIndex=0,this.baseId=e.id}get id(){return`${this.baseId}|${this.activeBufferIndex}`}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[this.activeBufferIndex^1]}switchBuffers(){this.activeBufferIndex^=1}}class x6e{constructor(e){this.backend=e}createAttribute(e,i){const r=this.backend,{gl:o}=r,s=e.array,a=e.usage||o.STATIC_DRAW,l=e.isInterleavedBufferAttribute?e.data:e,u=r.get(l);let c=u.bufferGPU;c===void 0&&(c=this._createBuffer(o,i,s,a),u.bufferGPU=c,u.bufferType=i,u.version=l.version);let d;if(s instanceof Float32Array)d=o.FLOAT;else if(s instanceof Uint16Array)e.isFloat16BufferAttribute?d=o.HALF_FLOAT:d=o.UNSIGNED_SHORT;else if(s instanceof Int16Array)d=o.SHORT;else if(s instanceof Uint32Array)d=o.UNSIGNED_INT;else if(s instanceof Int32Array)d=o.INT;else if(s instanceof Int8Array)d=o.BYTE;else if(s instanceof Uint8Array)d=o.UNSIGNED_BYTE;else if(s instanceof Uint8ClampedArray)d=o.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+s);let f={bufferGPU:c,bufferType:i,type:d,byteLength:s.byteLength,bytesPerElement:s.BYTES_PER_ELEMENT,version:e.version,pbo:e.pbo,isInteger:d===o.INT||d===o.UNSIGNED_INT||e.gpuType===Nr,id:y6e++};if(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute){const h=this._createBuffer(o,i,s,a);f=new b6e(f,h)}r.set(e,f)}updateAttribute(e){const i=this.backend,{gl:r}=i,o=e.array,s=e.isInterleavedBufferAttribute?e.data:e,a=i.get(s),l=a.bufferType,u=e.isInterleavedBufferAttribute?e.data.updateRanges:e.updateRanges;if(r.bindBuffer(l,a.bufferGPU),u.length===0)r.bufferSubData(l,0,o);else{for(let c=0,d=u.length;c<d;c++){const f=u[c];r.bufferSubData(l,f.start*o.BYTES_PER_ELEMENT,o,f.start,f.count)}s.clearUpdateRanges()}r.bindBuffer(l,null),a.version=s.version}destroyAttribute(e){const i=this.backend,{gl:r}=i;e.isInterleavedBufferAttribute&&i.delete(e.data);const o=i.get(e);r.deleteBuffer(o.bufferGPU),i.delete(e)}async getArrayBufferAsync(e){const i=this.backend,{gl:r}=i,o=e.isInterleavedBufferAttribute?e.data:e,{bufferGPU:s}=i.get(o),a=e.array,l=a.byteLength;r.bindBuffer(r.COPY_READ_BUFFER,s);const u=r.createBuffer();r.bindBuffer(r.COPY_WRITE_BUFFER,u),r.bufferData(r.COPY_WRITE_BUFFER,l,r.STREAM_READ),r.copyBufferSubData(r.COPY_READ_BUFFER,r.COPY_WRITE_BUFFER,0,0,l),await i.utils._clientWaitAsync();const c=new e.array.constructor(a.length);return r.bindBuffer(r.COPY_WRITE_BUFFER,u),r.getBufferSubData(r.COPY_WRITE_BUFFER,0,c),r.deleteBuffer(u),r.bindBuffer(r.COPY_READ_BUFFER,null),r.bindBuffer(r.COPY_WRITE_BUFFER,null),c.buffer}_createBuffer(e,i,r,o){const s=e.createBuffer();return e.bindBuffer(i,s),e.bufferData(i,r,o),e.bindBuffer(i,null),s}}let Oz=!1,iE,Um;class _6e{constructor(e){this.backend=e,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentClippingPlanes=0,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},Oz===!1&&(this._init(this.gl),Oz=!0)}_init(e){iE={[Cs]:e.FUNC_ADD,[SI]:e.FUNC_SUBTRACT,[wI]:e.FUNC_REVERSE_SUBTRACT},Um={[CI]:e.ZERO,[TI]:e.ONE,[AI]:e.SRC_COLOR,[ty]:e.SRC_ALPHA,[NI]:e.SRC_ALPHA_SATURATE,[PI]:e.DST_COLOR,[MI]:e.DST_ALPHA,[EI]:e.ONE_MINUS_SRC_COLOR,[ny]:e.ONE_MINUS_SRC_ALPHA,[II]:e.ONE_MINUS_DST_COLOR,[RI]:e.ONE_MINUS_DST_ALPHA}}enable(e){const{enabled:i}=this;i[e]!==!0&&(this.gl.enable(e),i[e]=!0)}disable(e){const{enabled:i}=this;i[e]!==!1&&(this.gl.disable(e),i[e]=!1)}setFlipSided(e){if(this.currentFlipSided!==e){const{gl:i}=this;e?i.frontFace(i.CW):i.frontFace(i.CCW),this.currentFlipSided=e}}setCullFace(e){const{gl:i}=this;e!==f9?(this.enable(i.CULL_FACE),e!==this.currentCullFace&&(e===p2?i.cullFace(i.BACK):e===h9?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):this.disable(i.CULL_FACE),this.currentCullFace=e}setLineWidth(e){const{currentLineWidth:i,gl:r}=this;e!==i&&(r.lineWidth(e),this.currentLineWidth=e)}setBlending(e,i,r,o,s,a,l,u){const{gl:c}=this;if(e===Jo){this.currentBlendingEnabled===!0&&(this.disable(c.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(c.BLEND),this.currentBlendingEnabled=!0),e!==_I){if(e!==this.currentBlending||u!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==Cs||this.currentBlendEquationAlpha!==Cs)&&(c.blendEquation(c.FUNC_ADD),this.currentBlendEquation=Cs,this.currentBlendEquationAlpha=Cs),u)switch(e){case ra:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case tg:c.blendFunc(c.ONE,c.ONE);break;case ng:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case ig:c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case ra:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case tg:c.blendFunc(c.SRC_ALPHA,c.ONE);break;case ng:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case ig:c.blendFunc(c.ZERO,c.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=e,this.currentPremultipledAlpha=u}return}s=s||i,a=a||r,l=l||o,(i!==this.currentBlendEquation||s!==this.currentBlendEquationAlpha)&&(c.blendEquationSeparate(iE[i],iE[s]),this.currentBlendEquation=i,this.currentBlendEquationAlpha=s),(r!==this.currentBlendSrc||o!==this.currentBlendDst||a!==this.currentBlendSrcAlpha||l!==this.currentBlendDstAlpha)&&(c.blendFuncSeparate(Um[r],Um[o],Um[a],Um[l]),this.currentBlendSrc=r,this.currentBlendDst=o,this.currentBlendSrcAlpha=a,this.currentBlendDstAlpha=l),this.currentBlending=e,this.currentPremultipledAlpha=!1}setColorMask(e){this.currentColorMask!==e&&(this.gl.colorMask(e,e,e,e),this.currentColorMask=e)}setDepthTest(e){const{gl:i}=this;e?this.enable(i.DEPTH_TEST):this.disable(i.DEPTH_TEST)}setDepthMask(e){this.currentDepthMask!==e&&(this.gl.depthMask(e),this.currentDepthMask=e)}setDepthFunc(e){if(this.currentDepthFunc!==e){const{gl:i}=this;switch(e){case iy:i.depthFunc(i.NEVER);break;case ry:i.depthFunc(i.ALWAYS);break;case oy:i.depthFunc(i.LESS);break;case nd:i.depthFunc(i.LEQUAL);break;case sy:i.depthFunc(i.EQUAL);break;case ay:i.depthFunc(i.GEQUAL);break;case ly:i.depthFunc(i.GREATER);break;case uy:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}this.currentDepthFunc=e}}setStencilTest(e){const{gl:i}=this;e?this.enable(i.STENCIL_TEST):this.disable(i.STENCIL_TEST)}setStencilMask(e){this.currentStencilMask!==e&&(this.gl.stencilMask(e),this.currentStencilMask=e)}setStencilFunc(e,i,r){(this.currentStencilFunc!==e||this.currentStencilRef!==i||this.currentStencilFuncMask!==r)&&(this.gl.stencilFunc(e,i,r),this.currentStencilFunc=e,this.currentStencilRef=i,this.currentStencilFuncMask=r)}setStencilOp(e,i,r){(this.currentStencilFail!==e||this.currentStencilZFail!==i||this.currentStencilZPass!==r)&&(this.gl.stencilOp(e,i,r),this.currentStencilFail=e,this.currentStencilZFail=i,this.currentStencilZPass=r)}setMaterial(e,i,r){const{gl:o}=this;e.side===Ao?this.disable(o.CULL_FACE):this.enable(o.CULL_FACE);let s=e.side===Ni;i&&(s=!s),this.setFlipSided(s),e.blending===ra&&e.transparent===!1?this.setBlending(Jo):this.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),this.setDepthFunc(e.depthFunc),this.setDepthTest(e.depthTest),this.setDepthMask(e.depthWrite),this.setColorMask(e.colorWrite);const a=e.stencilWrite;if(this.setStencilTest(a),a&&(this.setStencilMask(e.stencilWriteMask),this.setStencilFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),this.setStencilOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),this.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),e.alphaToCoverage===!0&&this.backend.renderer.samples>1?this.enable(o.SAMPLE_ALPHA_TO_COVERAGE):this.disable(o.SAMPLE_ALPHA_TO_COVERAGE),r>0&&this.currentClippingPlanes!==r)for(let u=0;u<8;u++)u<r?this.enable(12288+u):this.disable(12288+u)}setPolygonOffset(e,i,r){const{gl:o}=this;e?(this.enable(o.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==i||this.currentPolygonOffsetUnits!==r)&&(o.polygonOffset(i,r),this.currentPolygonOffsetFactor=i,this.currentPolygonOffsetUnits=r)):this.disable(o.POLYGON_OFFSET_FILL)}useProgram(e){return this.currentProgram!==e?(this.gl.useProgram(e),this.currentProgram=e,!0):!1}bindFramebuffer(e,i){const{gl:r,currentBoundFramebuffers:o}=this;return o[e]!==i?(r.bindFramebuffer(e,i),o[e]=i,e===r.DRAW_FRAMEBUFFER&&(o[r.FRAMEBUFFER]=i),e===r.FRAMEBUFFER&&(o[r.DRAW_FRAMEBUFFER]=i),!0):!1}drawBuffers(e,i){const{gl:r}=this;let o=[],s=!1;if(e.textures!==null){o=this.currentDrawbuffers.get(i),o===void 0&&(o=[],this.currentDrawbuffers.set(i,o));const a=e.textures;if(o.length!==a.length||o[0]!==r.COLOR_ATTACHMENT0){for(let l=0,u=a.length;l<u;l++)o[l]=r.COLOR_ATTACHMENT0+l;o.length=a.length,s=!0}}else o[0]!==r.BACK&&(o[0]=r.BACK,s=!0);s&&r.drawBuffers(o)}activeTexture(e){const{gl:i,currentTextureSlot:r,maxTextures:o}=this;e===void 0&&(e=i.TEXTURE0+o-1),r!==e&&(i.activeTexture(e),this.currentTextureSlot=e)}bindTexture(e,i,r){const{gl:o,currentTextureSlot:s,currentBoundTextures:a,maxTextures:l}=this;r===void 0&&(s===null?r=o.TEXTURE0+l-1:r=s);let u=a[r];u===void 0&&(u={type:void 0,texture:void 0},a[r]=u),(u.type!==e||u.texture!==i)&&(s!==r&&(o.activeTexture(r),this.currentTextureSlot=r),o.bindTexture(e,i),u.type=e,u.texture=i)}bindBufferBase(e,i,r){const{gl:o}=this,s=`${e}-${i}`;return this.currentBoundBufferBases[s]!==r?(o.bindBufferBase(e,i,r),this.currentBoundBufferBases[s]=r,!0):!1}unbindTexture(){const{gl:e,currentTextureSlot:i,currentBoundTextures:r}=this,o=r[i];o!==void 0&&o.type!==void 0&&(e.bindTexture(o.type,null),o.type=void 0,o.texture=void 0)}}class S6e{constructor(e){this.backend=e,this.gl=this.backend.gl,this.extensions=e.extensions}convert(e,i=Ts){const{gl:r,extensions:o}=this;let s;if(e===ao)return r.UNSIGNED_BYTE;if(e===Rw)return r.UNSIGNED_SHORT_4_4_4_4;if(e===Pw)return r.UNSIGNED_SHORT_5_5_5_1;if(e===Iw)return r.UNSIGNED_INT_5_9_9_9_REV;if(e===Cf)return r.BYTE;if(e===Tf)return r.SHORT;if(e===Oa)return r.UNSIGNED_SHORT;if(e===Nr)return r.INT;if(e===Ui)return r.UNSIGNED_INT;if(e===er)return r.FLOAT;if(e===Ro)return r.HALF_FLOAT;if(e===DI)return r.ALPHA;if(e===qy)return r.RGB;if(e===Gr)return r.RGBA;if(e===LI)return r.LUMINANCE;if(e===BI)return r.LUMINANCE_ALPHA;if(e===gl)return r.DEPTH_COMPONENT;if(e===Tl)return r.DEPTH_STENCIL;if(e===Yy)return r.RED;if(e===Ng)return r.RED_INTEGER;if(e===Vf)return r.RG;if(e===Og)return r.RG_INTEGER;if(e===Dg)return r.RGBA_INTEGER;if(e===Af||e===qc||e===Yc||e===Qc)if(i===Ft)if(s=o.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(e===Af)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===qc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===Yc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===Qc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=o.get("WEBGL_compressed_texture_s3tc"),s!==null){if(e===Af)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===qc)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Yc)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Qc)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===cy||e===dy||e===fy||e===hy)if(s=o.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(e===cy)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===dy)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===fy)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===hy)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(e===py||e===rg||e===og)if(s=o.get("WEBGL_compressed_texture_etc"),s!==null){if(e===py||e===rg)return i===Ft?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(e===og)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(e===sg||e===ag||e===lg||e===ug||e===cg||e===dg||e===fg||e===hg||e===pg||e===gg||e===mg||e===vg||e===yg||e===bg)if(s=o.get("WEBGL_compressed_texture_astc"),s!==null){if(e===sg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===ag)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===lg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===ug)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===cg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===dg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===fg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===hg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===pg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===gg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===mg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===vg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===yg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===bg)return i===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(e===Ef)if(s=o.get("EXT_texture_compression_bptc"),s!==null){if(e===Ef)return i===Ft?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(e===FI||e===gy||e===my||e===vy)if(s=o.get("EXT_texture_compression_rgtc"),s!==null){if(e===Ef)return s.COMPRESSED_RED_RGTC1_EXT;if(e===gy)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===my)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===vy)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return e===Cl?r.UNSIGNED_INT_24_8:r[e]!==void 0?r[e]:null}_clientWaitAsync(){const{gl:e}=this,i=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),new Promise((r,o)=>{function s(){const a=e.clientWaitSync(i,e.SYNC_FLUSH_COMMANDS_BIT,0);if(a===e.WAIT_FAILED){e.deleteSync(i),o();return}if(a===e.TIMEOUT_EXPIRED){requestAnimationFrame(s);return}e.deleteSync(i),r()}s()})}}let Dz=!1,xx,rE,Lz;class w6e{constructor(e){this.backend=e,this.gl=e.gl,this.extensions=e.extensions,this.defaultTextures={},Dz===!1&&(this._init(this.gl),Dz=!0)}_init(e){xx={[Hf]:e.REPEAT,[ll]:e.CLAMP_TO_EDGE,[Gf]:e.MIRRORED_REPEAT},rE={[_i]:e.NEAREST,[uS]:e.NEAREST_MIPMAP_NEAREST,[ul]:e.NEAREST_MIPMAP_LINEAR,[_r]:e.LINEAR,[Op]:e.LINEAR_MIPMAP_NEAREST,[Xo]:e.LINEAR_MIPMAP_LINEAR},Lz={[$I]:e.NEVER,[GI]:e.ALWAYS,[Nw]:e.LESS,[Ow]:e.LEQUAL,[UI]:e.EQUAL,[HI]:e.GEQUAL,[kI]:e.GREATER,[zI]:e.NOTEQUAL}}filterFallback(e){const{gl:i}=this;return e===_i||e===uS||e===ul?i.NEAREST:i.LINEAR}getGLTextureType(e){const{gl:i}=this;let r;return e.isCubeTexture===!0?r=i.TEXTURE_CUBE_MAP:e.isDataArrayTexture===!0||e.isCompressedArrayTexture===!0?r=i.TEXTURE_2D_ARRAY:e.isData3DTexture===!0?r=i.TEXTURE_3D:r=i.TEXTURE_2D,r}getInternalFormat(e,i,r,o,s=!1){const{gl:a,extensions:l}=this;if(e!==null){if(a[e]!==void 0)return a[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}let u=i;return i===a.RED&&(r===a.FLOAT&&(u=a.R32F),r===a.HALF_FLOAT&&(u=a.R16F),r===a.UNSIGNED_BYTE&&(u=a.R8),r===a.UNSIGNED_SHORT&&(u=a.R16),r===a.UNSIGNED_INT&&(u=a.R32UI),r===a.BYTE&&(u=a.R8I),r===a.SHORT&&(u=a.R16I),r===a.INT&&(u=a.R32I)),i===a.RED_INTEGER&&(r===a.UNSIGNED_BYTE&&(u=a.R8UI),r===a.UNSIGNED_SHORT&&(u=a.R16UI),r===a.UNSIGNED_INT&&(u=a.R32UI),r===a.BYTE&&(u=a.R8I),r===a.SHORT&&(u=a.R16I),r===a.INT&&(u=a.R32I)),i===a.RG&&(r===a.FLOAT&&(u=a.RG32F),r===a.HALF_FLOAT&&(u=a.RG16F),r===a.UNSIGNED_BYTE&&(u=a.RG8),r===a.UNSIGNED_SHORT&&(u=a.RG16),r===a.UNSIGNED_INT&&(u=a.RG32UI),r===a.BYTE&&(u=a.RG8I),r===a.SHORT&&(u=a.RG16I),r===a.INT&&(u=a.RG32I)),i===a.RG_INTEGER&&(r===a.UNSIGNED_BYTE&&(u=a.RG8UI),r===a.UNSIGNED_SHORT&&(u=a.RG16UI),r===a.UNSIGNED_INT&&(u=a.RG32UI),r===a.BYTE&&(u=a.RG8I),r===a.SHORT&&(u=a.RG16I),r===a.INT&&(u=a.RG32I)),i===a.RGB&&(r===a.FLOAT&&(u=a.RGB32F),r===a.HALF_FLOAT&&(u=a.RGB16F),r===a.UNSIGNED_BYTE&&(u=a.RGB8),r===a.UNSIGNED_SHORT&&(u=a.RGB16),r===a.UNSIGNED_INT&&(u=a.RGB32UI),r===a.BYTE&&(u=a.RGB8I),r===a.SHORT&&(u=a.RGB16I),r===a.INT&&(u=a.RGB32I),r===a.UNSIGNED_BYTE&&(u=o===Ft&&s===!1?a.SRGB8:a.RGB8),r===a.UNSIGNED_SHORT_5_6_5&&(u=a.RGB565),r===a.UNSIGNED_SHORT_5_5_5_1&&(u=a.RGB5_A1),r===a.UNSIGNED_SHORT_4_4_4_4&&(u=a.RGB4),r===a.UNSIGNED_INT_5_9_9_9_REV&&(u=a.RGB9_E5)),i===a.RGB_INTEGER&&(r===a.UNSIGNED_BYTE&&(u=a.RGB8UI),r===a.UNSIGNED_SHORT&&(u=a.RGB16UI),r===a.UNSIGNED_INT&&(u=a.RGB32UI),r===a.BYTE&&(u=a.RGB8I),r===a.SHORT&&(u=a.RGB16I),r===a.INT&&(u=a.RGB32I)),i===a.RGBA&&(r===a.FLOAT&&(u=a.RGBA32F),r===a.HALF_FLOAT&&(u=a.RGBA16F),r===a.UNSIGNED_BYTE&&(u=a.RGBA8),r===a.UNSIGNED_SHORT&&(u=a.RGBA16),r===a.UNSIGNED_INT&&(u=a.RGBA32UI),r===a.BYTE&&(u=a.RGBA8I),r===a.SHORT&&(u=a.RGBA16I),r===a.INT&&(u=a.RGBA32I),r===a.UNSIGNED_BYTE&&(u=o===Ft&&s===!1?a.SRGB8_ALPHA8:a.RGBA8),r===a.UNSIGNED_SHORT_4_4_4_4&&(u=a.RGBA4),r===a.UNSIGNED_SHORT_5_5_5_1&&(u=a.RGB5_A1)),i===a.RGBA_INTEGER&&(r===a.UNSIGNED_BYTE&&(u=a.RGBA8UI),r===a.UNSIGNED_SHORT&&(u=a.RGBA16UI),r===a.UNSIGNED_INT&&(u=a.RGBA32UI),r===a.BYTE&&(u=a.RGBA8I),r===a.SHORT&&(u=a.RGBA16I),r===a.INT&&(u=a.RGBA32I)),i===a.DEPTH_COMPONENT&&(r===a.UNSIGNED_INT&&(u=a.DEPTH24_STENCIL8),r===a.FLOAT&&(u=a.DEPTH_COMPONENT32F)),i===a.DEPTH_STENCIL&&r===a.UNSIGNED_INT_24_8&&(u=a.DEPTH24_STENCIL8),(u===a.R16F||u===a.R32F||u===a.RG16F||u===a.RG32F||u===a.RGBA16F||u===a.RGBA32F)&&l.get("EXT_color_buffer_float"),u}setTextureParameters(e,i){const{gl:r,extensions:o,backend:s}=this;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,i.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,i.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texParameteri(e,r.TEXTURE_WRAP_S,xx[i.wrapS]),r.texParameteri(e,r.TEXTURE_WRAP_T,xx[i.wrapT]),(e===r.TEXTURE_3D||e===r.TEXTURE_2D_ARRAY)&&r.texParameteri(e,r.TEXTURE_WRAP_R,xx[i.wrapR]),r.texParameteri(e,r.TEXTURE_MAG_FILTER,rE[i.magFilter]);const a=i.mipmaps!==void 0&&i.mipmaps.length>0,l=i.minFilter===_r&&a?Xo:i.minFilter;if(r.texParameteri(e,r.TEXTURE_MIN_FILTER,rE[l]),i.compareFunction&&(r.texParameteri(e,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(e,r.TEXTURE_COMPARE_FUNC,Lz[i.compareFunction])),o.has("EXT_texture_filter_anisotropic")===!0){if(i.magFilter===_i||i.minFilter!==ul&&i.minFilter!==Xo||i.type===er&&o.has("OES_texture_float_linear")===!1)return;if(i.anisotropy>1){const u=o.get("EXT_texture_filter_anisotropic");r.texParameterf(e,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,s.getMaxAnisotropy()))}}}createDefaultTexture(e){const{gl:i,backend:r,defaultTextures:o}=this,s=this.getGLTextureType(e);let a=o[s];a===void 0&&(a=i.createTexture(),r.state.bindTexture(s,a),i.texParameteri(s,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(s,i.TEXTURE_MAG_FILTER,i.NEAREST),o[s]=a),r.set(e,{textureGPU:a,glTextureType:s,isDefault:!0})}createTexture(e,i){const{gl:r,backend:o}=this,{levels:s,width:a,height:l,depth:u}=i,c=o.utils.convert(e.format,e.colorSpace),d=o.utils.convert(e.type),f=this.getInternalFormat(e.internalFormat,c,d,e.colorSpace,e.isVideoTexture),h=r.createTexture(),p=this.getGLTextureType(e);o.state.bindTexture(p,h),this.setTextureParameters(p,e),e.isDataArrayTexture||e.isCompressedArrayTexture?r.texStorage3D(r.TEXTURE_2D_ARRAY,s,f,a,l,u):e.isData3DTexture?r.texStorage3D(r.TEXTURE_3D,s,f,a,l,u):e.isVideoTexture||r.texStorage2D(p,s,f,a,l),o.set(e,{textureGPU:h,glTextureType:p,glFormat:c,glType:d,glInternalFormat:f})}copyBufferToTexture(e,i){const{gl:r,backend:o}=this,{textureGPU:s,glTextureType:a,glFormat:l,glType:u}=o.get(i),{width:c,height:d}=i.source.data;r.bindBuffer(r.PIXEL_UNPACK_BUFFER,e),o.state.bindTexture(a,s),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.texSubImage2D(a,0,0,0,c,d,l,u,0),r.bindBuffer(r.PIXEL_UNPACK_BUFFER,null),o.state.unbindTexture()}updateTexture(e,i){const{gl:r}=this,{width:o,height:s}=i,{textureGPU:a,glTextureType:l,glFormat:u,glType:c,glInternalFormat:d}=this.backend.get(e);if(e.isRenderTargetTexture||a===void 0)return;const f=h=>h.isDataTexture?h.image.data:typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&h instanceof ImageBitmap||h instanceof OffscreenCanvas?h:h.data;if(this.backend.state.bindTexture(l,a),this.setTextureParameters(l,e),e.isCompressedTexture){const h=e.mipmaps,p=i.image;for(let v=0;v<h.length;v++){const b=h[v];e.isCompressedArrayTexture?e.format!==r.RGBA?u!==null?r.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,v,0,0,0,b.width,b.height,p.depth,u,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texSubImage3D(r.TEXTURE_2D_ARRAY,v,0,0,0,b.width,b.height,p.depth,u,c,b.data):u!==null?r.compressedTexSubImage2D(r.TEXTURE_2D,v,0,0,b.width,b.height,u,b.data):console.warn("Unsupported compressed texture format")}}else if(e.isCubeTexture){const h=i.images;for(let p=0;p<6;p++){const v=f(h[p]);r.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,0,0,o,s,u,c,v)}}else if(e.isDataArrayTexture){const h=i.image;r.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,h.width,h.height,h.depth,u,c,h.data)}else if(e.isData3DTexture){const h=i.image;r.texSubImage3D(r.TEXTURE_3D,0,0,0,0,h.width,h.height,h.depth,u,c,h.data)}else if(e.isVideoTexture)e.update(),r.texImage2D(l,0,d,u,c,i.image);else{const h=f(i.image);r.texSubImage2D(l,0,0,0,o,s,u,c,h)}}generateMipmaps(e){const{gl:i,backend:r}=this,{textureGPU:o,glTextureType:s}=r.get(e);r.state.bindTexture(s,o),i.generateMipmap(s)}deallocateRenderBuffers(e){const{gl:i,backend:r}=this;if(e){const o=r.get(e);if(o.renderBufferStorageSetup=void 0,o.framebuffers){for(const s in o.framebuffers)i.deleteFramebuffer(o.framebuffers[s]);delete o.framebuffers}if(o.depthRenderbuffer&&(i.deleteRenderbuffer(o.depthRenderbuffer),delete o.depthRenderbuffer),o.stencilRenderbuffer&&(i.deleteRenderbuffer(o.stencilRenderbuffer),delete o.stencilRenderbuffer),o.msaaFrameBuffer&&(i.deleteFramebuffer(o.msaaFrameBuffer),delete o.msaaFrameBuffer),o.msaaRenderbuffers){for(let s=0;s<o.msaaRenderbuffers.length;s++)i.deleteRenderbuffer(o.msaaRenderbuffers[s]);delete o.msaaRenderbuffers}}}destroyTexture(e){const{gl:i,backend:r}=this,{textureGPU:o,renderTarget:s}=r.get(e);this.deallocateRenderBuffers(s),i.deleteTexture(o),r.delete(e)}copyTextureToTexture(e,i,r=null,o=null,s=0){const{gl:a,backend:l}=this,{state:u}=this.backend,{textureGPU:c,glTextureType:d,glType:f,glFormat:h}=l.get(i);let p,v,b,y,m,_;r!==null?(p=r.max.x-r.min.x,v=r.max.y-r.min.y,b=r.min.x,y=r.min.y):(p=e.image.width,v=e.image.height,b=0,y=0),o!==null?(m=o.x,_=o.y):(m=0,_=0),u.bindTexture(d,c),a.pixelStorei(a.UNPACK_ALIGNMENT,i.unpackAlignment),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,i.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,i.unpackAlignment);const S=a.getParameter(a.UNPACK_ROW_LENGTH),w=a.getParameter(a.UNPACK_IMAGE_HEIGHT),T=a.getParameter(a.UNPACK_SKIP_PIXELS),A=a.getParameter(a.UNPACK_SKIP_ROWS),C=a.getParameter(a.UNPACK_SKIP_IMAGES),R=e.isCompressedTexture?e.mipmaps[s]:e.image;if(a.pixelStorei(a.UNPACK_ROW_LENGTH,R.width),a.pixelStorei(a.UNPACK_IMAGE_HEIGHT,R.height),a.pixelStorei(a.UNPACK_SKIP_PIXELS,b),a.pixelStorei(a.UNPACK_SKIP_ROWS,y),e.isRenderTargetTexture||e.isDepthTexture){const E=l.get(e),P=l.get(i),N=l.get(E.renderTarget),D=l.get(P.renderTarget),$=N.framebuffers[E.cacheKey],L=D.framebuffers[P.cacheKey];u.bindFramebuffer(a.READ_FRAMEBUFFER,$),u.bindFramebuffer(a.DRAW_FRAMEBUFFER,L);let F=a.COLOR_BUFFER_BIT;e.isDepthTexture&&(F=a.DEPTH_BUFFER_BIT),a.blitFramebuffer(b,y,p,v,m,_,p,v,F,a.NEAREST),u.bindFramebuffer(a.READ_FRAMEBUFFER,null),u.bindFramebuffer(a.DRAW_FRAMEBUFFER,null)}else e.isDataTexture?a.texSubImage2D(a.TEXTURE_2D,s,m,_,p,v,h,f,R.data):e.isCompressedTexture?a.compressedTexSubImage2D(a.TEXTURE_2D,s,m,_,R.width,R.height,h,R.data):a.texSubImage2D(a.TEXTURE_2D,s,m,_,p,v,h,f,R);a.pixelStorei(a.UNPACK_ROW_LENGTH,S),a.pixelStorei(a.UNPACK_IMAGE_HEIGHT,w),a.pixelStorei(a.UNPACK_SKIP_PIXELS,T),a.pixelStorei(a.UNPACK_SKIP_ROWS,A),a.pixelStorei(a.UNPACK_SKIP_IMAGES,C),s===0&&i.generateMipmaps&&a.generateMipmap(a.TEXTURE_2D),u.unbindTexture()}copyFramebufferToTexture(e,i,r){const{gl:o}=this,{state:s}=this.backend,{textureGPU:a}=this.backend.get(e),{x:l,y:u,z:c,w:d}=r,f=e.isDepthTexture===!0||i.renderTarget&&i.renderTarget.samples>0,h=i.renderTarget?i.renderTarget.height:this.backend.getDrawingBufferSize().y;if(f){const p=l!==0||u!==0;let v,b;if(e.isDepthTexture===!0?(v=o.DEPTH_BUFFER_BIT,b=o.DEPTH_ATTACHMENT,i.stencil&&(v|=o.STENCIL_BUFFER_BIT)):(v=o.COLOR_BUFFER_BIT,b=o.COLOR_ATTACHMENT0),p){const y=this.backend.get(i.renderTarget),m=y.framebuffers[i.getCacheKey()],_=y.msaaFrameBuffer;s.bindFramebuffer(o.DRAW_FRAMEBUFFER,m),s.bindFramebuffer(o.READ_FRAMEBUFFER,_);const S=h-u-d;o.blitFramebuffer(l,S,l+c,S+d,l,S,l+c,S+d,v,o.NEAREST),s.bindFramebuffer(o.READ_FRAMEBUFFER,m),s.bindTexture(o.TEXTURE_2D,a),o.copyTexSubImage2D(o.TEXTURE_2D,0,0,0,l,S,c,d),s.unbindTexture()}else{const y=o.createFramebuffer();s.bindFramebuffer(o.DRAW_FRAMEBUFFER,y),o.framebufferTexture2D(o.DRAW_FRAMEBUFFER,b,o.TEXTURE_2D,a,0),o.blitFramebuffer(0,0,c,d,0,0,c,d,v,o.NEAREST),o.deleteFramebuffer(y)}}else s.bindTexture(o.TEXTURE_2D,a),o.copyTexSubImage2D(o.TEXTURE_2D,0,0,0,l,h-d-u,c,d),s.unbindTexture();e.generateMipmaps&&this.generateMipmaps(e),this.backend._setFramebuffer(i)}setupRenderBufferStorage(e,i){const{gl:r}=this,o=i.renderTarget,{samples:s,depthTexture:a,depthBuffer:l,stencilBuffer:u,width:c,height:d}=o;if(r.bindRenderbuffer(r.RENDERBUFFER,e),l&&!u){let f=r.DEPTH_COMPONENT24;s>0?(a&&a.isDepthTexture&&a.type===r.FLOAT&&(f=r.DEPTH_COMPONENT32F),r.renderbufferStorageMultisample(r.RENDERBUFFER,s,f,c,d)):r.renderbufferStorage(r.RENDERBUFFER,f,c,d),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,e)}else l&&u&&(s>0?r.renderbufferStorageMultisample(r.RENDERBUFFER,s,r.DEPTH24_STENCIL8,c,d):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,c,d),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,e))}async copyTextureToBuffer(e,i,r,o,s,a){const{backend:l,gl:u}=this,{textureGPU:c,glFormat:d,glType:f}=this.backend.get(e),h=u.createFramebuffer();u.bindFramebuffer(u.READ_FRAMEBUFFER,h);const p=e.isCubeTexture?u.TEXTURE_CUBE_MAP_POSITIVE_X+a:u.TEXTURE_2D;u.framebufferTexture2D(u.READ_FRAMEBUFFER,u.COLOR_ATTACHMENT0,p,c,0);const v=this._getTypedArrayType(f),b=this._getBytesPerTexel(f,d),m=o*s*b,_=u.createBuffer();u.bindBuffer(u.PIXEL_PACK_BUFFER,_),u.bufferData(u.PIXEL_PACK_BUFFER,m,u.STREAM_READ),u.readPixels(i,r,o,s,d,f,0),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),await l.utils._clientWaitAsync();const S=new v(m/v.BYTES_PER_ELEMENT);return u.bindBuffer(u.PIXEL_PACK_BUFFER,_),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,S),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),u.deleteFramebuffer(h),S}_getTypedArrayType(e){const{gl:i}=this;if(e===i.UNSIGNED_BYTE)return Uint8Array;if(e===i.UNSIGNED_SHORT_4_4_4_4||e===i.UNSIGNED_SHORT_5_5_5_1||e===i.UNSIGNED_SHORT_5_6_5||e===i.UNSIGNED_SHORT)return Uint16Array;if(e===i.UNSIGNED_INT)return Uint32Array;if(e===i.HALF_FLOAT)return Uint16Array;if(e===i.FLOAT)return Float32Array;throw new Error(`Unsupported WebGL type: ${e}`)}_getBytesPerTexel(e,i){const{gl:r}=this;let o=0;if(e===r.UNSIGNED_BYTE&&(o=1),(e===r.UNSIGNED_SHORT_4_4_4_4||e===r.UNSIGNED_SHORT_5_5_5_1||e===r.UNSIGNED_SHORT_5_6_5||e===r.UNSIGNED_SHORT||e===r.HALF_FLOAT)&&(o=2),(e===r.UNSIGNED_INT||e===r.FLOAT)&&(o=4),i===r.RGBA)return o*4;if(i===r.RGB)return o*3;if(i===r.ALPHA)return o}}class C6e{constructor(e){this.backend=e,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(e){let i=this.extensions[e];return i===void 0&&(i=this.gl.getExtension(e),this.extensions[e]=i),i}has(e){return this.availableExtensions.includes(e)}}class T6e{constructor(e){this.backend=e,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const e=this.backend.gl,i=this.backend.extensions;if(i.has("EXT_texture_filter_anisotropic")===!0){const r=i.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const Bz={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBKIT_WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-bc",EXT_texture_compression_bptc:"texture-compression-bptc",EXT_disjoint_timer_query_webgl2:"timestamp-query"};class A6e{constructor(e){this.gl=e.gl,this.extensions=e.extensions,this.info=e.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(e,i){const{gl:r,mode:o,object:s,type:a,info:l,index:u}=this;u!==0?r.drawElements(o,i,a,e):r.drawArrays(o,e,i),l.update(s,i,o,1)}renderInstances(e,i,r){const{gl:o,mode:s,type:a,index:l,object:u,info:c}=this;r!==0&&(l!==0?o.drawElementsInstanced(s,i,a,e,r):o.drawArraysInstanced(s,e,i,r),c.update(u,i,s,r))}renderMultiDraw(e,i,r){const{extensions:o,mode:s,object:a,info:l}=this;if(r===0)return;const u=o.get("WEBGL_multi_draw");if(u===null)for(let c=0;c<r;c++)this.render(e[c],i[c]);else{this.index!==0?u.multiDrawElementsWEBGL(s,i,0,this.type,e,0,r):u.multiDrawArraysWEBGL(s,e,0,i,0,r);let c=0;for(let d=0;d<r;d++)c+=i[d];l.update(a,c,s,1)}}renderMultiDrawInstances(e,i,r,o){const{extensions:s,mode:a,object:l,info:u}=this;if(r===0)return;const c=s.get("WEBGL_multi_draw");if(c===null)for(let d=0;d<r;d++)this.renderInstances(e[d],i[d],o[d]);else{this.index!==0?c.multiDrawElementsInstancedWEBGL(a,i,0,this.type,e,0,o,0,r):c.multiDrawArraysInstancedWEBGL(a,e,0,i,0,o,0,r);let d=0;for(let f=0;f<r;f++)d+=i[f]*o[f];u.update(l,d,a,1)}}}class Fz extends Yj{constructor(e={}){super(e),this.isWebGLBackend=!0,this.attributeUtils=null,this.extensions=null,this.capabilities=null,this.textureUtils=null,this.bufferRenderer=null,this.gl=null,this.state=null,this.utils=null,this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.disjoint=null,this.parallel=null,this.trackTimestamp=e.trackTimestamp===!0,this._currentContext=null,this._knownBindings=new WeakSet}init(e){super.init(e);const i=this.parameters,r=i.context!==void 0?i.context:e.domElement.getContext("webgl2");function o(s){s.preventDefault();const a={api:"WebGL",message:s.statusMessage||"Unknown reason",reason:null,originalEvent:s};e.onDeviceLost(a)}this._onContextLost=o,e.domElement.addEventListener("webglcontextlost",o,!1),this.gl=r,this.extensions=new C6e(this),this.capabilities=new T6e(this),this.attributeUtils=new x6e(this),this.textureUtils=new w6e(this),this.bufferRenderer=new A6e(this),this.state=new _6e(this),this.utils=new S6e(this),this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile")}get coordinateSystem(){return qo}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}async waitForGPU(){await this.utils._clientWaitAsync()}initTimestampQuery(e){if(!this.disjoint||!this.trackTimestamp)return;const i=this.get(e);if(this.queryRunning){i.queryQueue||(i.queryQueue=[]),i.queryQueue.push(e);return}i.activeQuery&&(this.gl.endQuery(this.disjoint.TIME_ELAPSED_EXT),i.activeQuery=null),i.activeQuery=this.gl.createQuery(),i.activeQuery!==null&&(this.gl.beginQuery(this.disjoint.TIME_ELAPSED_EXT,i.activeQuery),this.queryRunning=!0)}prepareTimestampBuffer(e){if(!this.disjoint||!this.trackTimestamp)return;const i=this.get(e);if(i.activeQuery&&(this.gl.endQuery(this.disjoint.TIME_ELAPSED_EXT),i.gpuQueries||(i.gpuQueries=[]),i.gpuQueries.push({query:i.activeQuery}),i.activeQuery=null,this.queryRunning=!1,i.queryQueue&&i.queryQueue.length>0)){const r=i.queryQueue.shift();this.initTimestampQuery(r)}}async resolveTimestampAsync(e,i="render"){if(!this.disjoint||!this.trackTimestamp)return;const r=this.get(e);r.gpuQueries||(r.gpuQueries=[]);for(let o=0;o<r.gpuQueries.length;o++){const s=r.gpuQueries[o],a=this.gl.getQueryParameter(s.query,this.gl.QUERY_RESULT_AVAILABLE),l=this.gl.getParameter(this.disjoint.GPU_DISJOINT_EXT);if(a&&!l){const u=this.gl.getQueryParameter(s.query,this.gl.QUERY_RESULT),c=Number(u)/1e6;this.gl.deleteQuery(s.query),r.gpuQueries.splice(o,1),o--,this.renderer.info.updateTimestamp(i,c)}}}getContext(){return this.gl}beginRender(e){const{gl:i}=this,r=this.get(e);if(this.initTimestampQuery(e),r.previousContext=this._currentContext,this._currentContext=e,this._setFramebuffer(e),this.clear(e.clearColor,e.clearDepth,e.clearStencil,e,!1),e.viewport?this.updateViewport(e):i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),e.scissor){const{x:s,y:a,width:l,height:u}=e.scissorValue;i.scissor(s,e.height-u-a,l,u)}const o=e.occlusionQueryCount;o>0&&(r.currentOcclusionQueries=r.occlusionQueries,r.currentOcclusionQueryObjects=r.occlusionQueryObjects,r.lastOcclusionObject=null,r.occlusionQueries=new Array(o),r.occlusionQueryObjects=new Array(o),r.occlusionQueryIndex=0)}finishRender(e){const{gl:i,state:r}=this,o=this.get(e),s=o.previousContext,a=e.occlusionQueryCount;a>0&&(a>o.occlusionQueryIndex&&i.endQuery(i.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(e));const l=e.textures;if(l!==null)for(let u=0;u<l.length;u++){const c=l[u];c.generateMipmaps&&this.generateMipmaps(c)}if(this._currentContext=s,e.textures!==null&&e.renderTarget){const u=this.get(e.renderTarget),{samples:c}=e.renderTarget;if(c>0){const d=u.framebuffers[e.getCacheKey()],f=i.COLOR_BUFFER_BIT,h=u.msaaFrameBuffer,p=e.textures;r.bindFramebuffer(i.READ_FRAMEBUFFER,h),r.bindFramebuffer(i.DRAW_FRAMEBUFFER,d);for(let v=0;v<p.length;v++)if(e.scissor){const{x:b,y,width:m,height:_}=e.scissorValue,S=e.height-_-y;i.blitFramebuffer(b,S,b+m,S+_,b,S,b+m,S+_,f,i.NEAREST),i.invalidateSubFramebuffer(i.READ_FRAMEBUFFER,u.invalidationArray,b,S,m,_)}else i.blitFramebuffer(0,0,e.width,e.height,0,0,e.width,e.height,f,i.NEAREST),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,u.invalidationArray)}}s!==null&&(this._setFramebuffer(s),s.viewport?this.updateViewport(s):i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight)),this.prepareTimestampBuffer(e)}resolveOccludedAsync(e){const i=this.get(e),{currentOcclusionQueries:r,currentOcclusionQueryObjects:o}=i;if(r&&o){const s=new WeakSet,{gl:a}=this;i.currentOcclusionQueryObjects=null,i.currentOcclusionQueries=null;const l=()=>{let u=0;for(let c=0;c<r.length;c++){const d=r[c];d!==null&&a.getQueryParameter(d,a.QUERY_RESULT_AVAILABLE)&&(a.getQueryParameter(d,a.QUERY_RESULT)>0&&s.add(o[c]),r[c]=null,a.deleteQuery(d),u++)}u<r.length?requestAnimationFrame(l):i.occluded=s};l()}}isOccluded(e,i){const r=this.get(e);return r.occluded&&r.occluded.has(i)}updateViewport(e){const i=this.gl,{x:r,y:o,width:s,height:a}=e.viewportValue;i.viewport(r,e.height-a-o,s,a)}setScissorTest(e){const i=this.gl;e?i.enable(i.SCISSOR_TEST):i.disable(i.SCISSOR_TEST)}clear(e,i,r,o=null,s=!0){const{gl:a}=this;if(o===null){const u=this.getClearColor();u.r*=u.a,u.g*=u.a,u.b*=u.a,o={textures:null,clearColorValue:u}}let l=0;if(e&&(l|=a.COLOR_BUFFER_BIT),i&&(l|=a.DEPTH_BUFFER_BIT),r&&(l|=a.STENCIL_BUFFER_BIT),l!==0){let u;if(o.clearColorValue?u=o.clearColorValue:(u=this.getClearColor(),u.r*=u.a,u.g*=u.a,u.b*=u.a),i&&this.state.setDepthMask(!0),o.textures===null)a.clearColor(u.r,u.g,u.b,u.a),a.clear(l);else{if(s&&this._setFramebuffer(o),e)for(let c=0;c<o.textures.length;c++)a.clearBufferfv(a.COLOR,c,[u.r,u.g,u.b,u.a]);i&&r?a.clearBufferfi(a.DEPTH_STENCIL,0,1,0):i?a.clearBufferfv(a.DEPTH,0,[1]):r&&a.clearBufferiv(a.STENCIL,0,[0])}}}beginCompute(e){const{state:i,gl:r}=this;i.bindFramebuffer(r.FRAMEBUFFER,null),this.initTimestampQuery(e)}compute(e,i,r,o){const{state:s,gl:a}=this;this.discard===!1&&(a.enable(a.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:l,transformBuffers:u,attributes:c}=this.get(o),d=this._getVaoKey(null,c),f=this.vaoCache[d];f===void 0?this._createVao(null,c):a.bindVertexArray(f),s.useProgram(l),this._bindUniforms(r);const h=this._getTransformFeedback(u);a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,h),a.beginTransformFeedback(a.POINTS),c[0].isStorageInstancedBufferAttribute?a.drawArraysInstanced(a.POINTS,0,1,i.count):a.drawArrays(a.POINTS,0,i.count),a.endTransformFeedback(),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,null);for(let p=0;p<u.length;p++){const v=u[p];v.pbo&&this.textureUtils.copyBufferToTexture(v.transformBuffer,v.pbo),v.switchBuffers()}}finishCompute(e){const i=this.gl;this.discard=!1,i.disable(i.RASTERIZER_DISCARD),this.prepareTimestampBuffer(e),this._currentContext&&this._setFramebuffer(this._currentContext)}draw(e){const{object:i,pipeline:r,material:o,context:s,hardwareClippingPlanes:a}=e,{programGPU:l}=this.get(r),{gl:u,state:c}=this,d=this.get(s),f=e.getDrawParameters();if(f===null)return;this._bindUniforms(e.getBindings());const h=i.isMesh&&i.matrixWorld.determinant()<0;c.setMaterial(o,h,a),c.useProgram(l);const p=this.get(e);let v=p.staticVao;if(v===void 0||p.geometryId!==e.geometry.id){const T=this._getVaoKey(e.getIndex(),e.getAttributes());if(v=this.vaoCache[T],v===void 0){let A;({vaoGPU:v,staticVao:A}=this._createVao(e.getIndex(),e.getAttributes())),A&&(p.staticVao=v,p.geometryId=e.geometry.id)}}u.bindVertexArray(v);const b=e.getIndex(),y=d.lastOcclusionObject;if(y!==i&&y!==void 0){if(y!==null&&y.occlusionTest===!0&&(u.endQuery(u.ANY_SAMPLES_PASSED),d.occlusionQueryIndex++),i.occlusionTest===!0){const T=u.createQuery();u.beginQuery(u.ANY_SAMPLES_PASSED,T),d.occlusionQueries[d.occlusionQueryIndex]=T,d.occlusionQueryObjects[d.occlusionQueryIndex]=i}d.lastOcclusionObject=i}const m=this.bufferRenderer;i.isPoints?m.mode=u.POINTS:i.isLineSegments?m.mode=u.LINES:i.isLine?m.mode=u.LINE_STRIP:i.isLineLoop?m.mode=u.LINE_LOOP:o.wireframe===!0?(c.setLineWidth(o.wireframeLinewidth*this.renderer.getPixelRatio()),m.mode=u.LINES):m.mode=u.TRIANGLES;const{vertexCount:_,instanceCount:S}=f;let{firstVertex:w}=f;if(m.object=i,b!==null){w*=b.array.BYTES_PER_ELEMENT;const T=this.get(b);m.index=b.count,m.type=T.type}else m.index=0;i.isBatchedMesh?i._multiDrawInstances!==null?m.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances):this.hasFeature("WEBGL_multi_draw")?m.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount):sf("THREE.WebGLRenderer: WEBGL_multi_draw not supported."):S>1?m.renderInstances(w,_,S):m.render(w,_),u.bindVertexArray(null)}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,i){this.textureUtils.createTexture(e,i)}updateTexture(e,i){this.textureUtils.updateTexture(e,i)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}copyTextureToBuffer(e,i,r,o,s,a){return this.textureUtils.copyTextureToBuffer(e,i,r,o,s,a)}createSampler(){}destroySampler(){}createNodeBuilder(e,i){return new v6e(e,i)}createProgram(e){const i=this.gl,{stage:r,code:o}=e,s=r==="fragment"?i.createShader(i.FRAGMENT_SHADER):i.createShader(i.VERTEX_SHADER);i.shaderSource(s,o),i.compileShader(s),this.set(e,{shaderGPU:s})}destroyProgram(e){this.delete(e)}createRenderPipeline(e,i){const r=this.gl,o=e.pipeline,{fragmentProgram:s,vertexProgram:a}=o,l=r.createProgram(),u=this.get(s).shaderGPU,c=this.get(a).shaderGPU;if(r.attachShader(l,u),r.attachShader(l,c),r.linkProgram(l),this.set(o,{programGPU:l,fragmentShader:u,vertexShader:c}),i!==null&&this.parallel){const d=new Promise(f=>{const h=this.parallel,p=()=>{r.getProgramParameter(l,h.COMPLETION_STATUS_KHR)?(this._completeCompile(e,o),f()):requestAnimationFrame(p)};p()});i.push(d);return}this._completeCompile(e,o)}_handleSource(e,i){const r=e.split(`
`),o=[],s=Math.max(i-6,0),a=Math.min(i+6,r.length);for(let l=s;l<a;l++){const u=l+1;o.push(`${u===i?">":" "} ${u}: ${r[l]}`)}return o.join(`
`)}_getShaderErrors(e,i,r){const o=e.getShaderParameter(i,e.COMPILE_STATUS),s=e.getShaderInfoLog(i).trim();if(o&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const l=parseInt(a[1]);return r.toUpperCase()+`

`+s+`

`+this._handleSource(e.getShaderSource(i),l)}else return s}_logProgramError(e,i,r){if(this.renderer.debug.checkShaderErrors){const o=this.gl,s=o.getProgramInfoLog(e).trim();if(o.getProgramParameter(e,o.LINK_STATUS)===!1)if(typeof this.renderer.debug.onShaderError=="function")this.renderer.debug.onShaderError(o,e,r,i);else{const a=this._getShaderErrors(o,r,"vertex"),l=this._getShaderErrors(o,i,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(e,o.VALIDATE_STATUS)+`

Program Info Log: `+s+`
`+a+`
`+l)}else s!==""&&console.warn("THREE.WebGLProgram: Program Info Log:",s)}}_completeCompile(e,i){const{state:r,gl:o}=this,s=this.get(i),{programGPU:a,fragmentShader:l,vertexShader:u}=s;o.getProgramParameter(a,o.LINK_STATUS)===!1&&this._logProgramError(a,l,u),r.useProgram(a);const c=e.getBindings();this._setupBindings(c,a),this.set(i,{programGPU:a})}createComputePipeline(e,i){const{state:r,gl:o}=this,s={stage:"fragment",code:`#version 300 es
precision highp float;
void main() {}`};this.createProgram(s);const{computeProgram:a}=e,l=o.createProgram(),u=this.get(s).shaderGPU,c=this.get(a).shaderGPU,d=a.transforms,f=[],h=[];for(let y=0;y<d.length;y++){const m=d[y];f.push(m.varyingName),h.push(m.attributeNode)}o.attachShader(l,u),o.attachShader(l,c),o.transformFeedbackVaryings(l,f,o.SEPARATE_ATTRIBS),o.linkProgram(l),o.getProgramParameter(l,o.LINK_STATUS)===!1&&this._logProgramError(l,u,c),r.useProgram(l),this._setupBindings(i,l);const p=a.attributes,v=[],b=[];for(let y=0;y<p.length;y++){const m=p[y].node.attribute;v.push(m),this.has(m)||this.attributeUtils.createAttribute(m,o.ARRAY_BUFFER)}for(let y=0;y<h.length;y++){const m=h[y].attribute;this.has(m)||this.attributeUtils.createAttribute(m,o.ARRAY_BUFFER);const _=this.get(m);b.push(_)}this.set(e,{programGPU:l,transformBuffers:b,attributes:v})}createBindings(e,i){if(this._knownBindings.has(i)===!1){this._knownBindings.add(i);let r=0,o=0;for(const s of i){this.set(s,{textures:o,uniformBuffers:r});for(const a of s.bindings)a.isUniformBuffer&&r++,a.isSampledTexture&&o++}}this.updateBindings(e,i)}updateBindings(e){const{gl:i}=this,r=this.get(e);let o=r.uniformBuffers,s=r.textures;for(const a of e.bindings)if(a.isUniformsGroup||a.isUniformBuffer){const l=a.buffer,u=i.createBuffer();i.bindBuffer(i.UNIFORM_BUFFER,u),i.bufferData(i.UNIFORM_BUFFER,l,i.DYNAMIC_DRAW),this.set(a,{index:o++,bufferGPU:u})}else if(a.isSampledTexture){const{textureGPU:l,glTextureType:u}=this.get(a.texture);this.set(a,{index:s++,textureGPU:l,glTextureType:u})}}updateBinding(e){const i=this.gl;if(e.isUniformsGroup||e.isUniformBuffer){const o=this.get(e).bufferGPU,s=e.buffer;i.bindBuffer(i.UNIFORM_BUFFER,o),i.bufferData(i.UNIFORM_BUFFER,s,i.DYNAMIC_DRAW)}}createIndexAttribute(e){const i=this.gl;this.attributeUtils.createAttribute(e,i.ELEMENT_ARRAY_BUFFER)}createAttribute(e){if(this.has(e))return;const i=this.gl;this.attributeUtils.createAttribute(e,i.ARRAY_BUFFER)}createStorageAttribute(e){if(this.has(e))return;const i=this.gl;this.attributeUtils.createAttribute(e,i.ARRAY_BUFFER)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}hasFeature(e){const i=Object.keys(Bz).filter(o=>Bz[o]===e),r=this.extensions;for(let o=0;o<i.length;o++)if(r.has(i[o]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(e,i,r=null,o=null,s=0){this.textureUtils.copyTextureToTexture(e,i,r,o,s)}copyFramebufferToTexture(e,i,r){this.textureUtils.copyFramebufferToTexture(e,i,r)}_setFramebuffer(e){const{gl:i,state:r}=this;let o=null;if(e.textures!==null){const s=e.renderTarget,a=this.get(s),{samples:l,depthBuffer:u,stencilBuffer:c}=s,d=s.isWebGLCubeRenderTarget===!0,f=s.isRenderTarget3D===!0,h=s.isRenderTargetArray===!0;let p=a.msaaFrameBuffer,v=a.depthRenderbuffer;const b=Rj(e);let y;if(d?(a.cubeFramebuffers||(a.cubeFramebuffers={}),y=a.cubeFramebuffers[b]):(a.framebuffers||(a.framebuffers={}),y=a.framebuffers[b]),y===void 0){y=i.createFramebuffer(),r.bindFramebuffer(i.FRAMEBUFFER,y);const m=e.textures;if(d){a.cubeFramebuffers[b]=y;const{textureGPU:_}=this.get(m[0]),S=this.renderer._activeCubeFace;i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+S,_,0)}else{a.framebuffers[b]=y;for(let _=0;_<m.length;_++){const S=m[_],w=this.get(S);w.renderTarget=e.renderTarget,w.cacheKey=b;const T=i.COLOR_ATTACHMENT0+_;if(f||h){const A=this.renderer._activeCubeFace;i.framebufferTextureLayer(i.FRAMEBUFFER,T,w.textureGPU,0,A)}else i.framebufferTexture2D(i.FRAMEBUFFER,T,i.TEXTURE_2D,w.textureGPU,0)}r.drawBuffers(e,y)}if(e.depthTexture!==null){const _=this.get(e.depthTexture),S=c?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;_.renderTarget=e.renderTarget,_.cacheKey=b,i.framebufferTexture2D(i.FRAMEBUFFER,S,i.TEXTURE_2D,_.textureGPU,0)}}if(l>0){if(p===void 0){const m=[];p=i.createFramebuffer(),r.bindFramebuffer(i.FRAMEBUFFER,p);const _=[],S=e.textures;for(let w=0;w<S.length;w++){if(_[w]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,_[w]),m.push(i.COLOR_ATTACHMENT0+w),u){const C=c?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;m.push(C)}const T=e.textures[w],A=this.get(T);i.renderbufferStorageMultisample(i.RENDERBUFFER,l,A.glInternalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+w,i.RENDERBUFFER,_[w])}if(a.msaaFrameBuffer=p,a.msaaRenderbuffers=_,v===void 0){v=i.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(v,e),a.depthRenderbuffer=v;const w=c?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;m.push(w)}a.invalidationArray=m}o=a.msaaFrameBuffer}else o=y}r.bindFramebuffer(i.FRAMEBUFFER,o)}_getVaoKey(e,i){let r="";if(e!==null){const o=this.get(e);r+=":"+o.id}for(let o=0;o<i.length;o++){const s=this.get(i[o]);r+=":"+s.id}return r}_createVao(e,i){const{gl:r}=this,o=r.createVertexArray();let s="",a=!0;if(r.bindVertexArray(o),e!==null){const l=this.get(e);r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,l.bufferGPU),s+=":"+l.id}for(let l=0;l<i.length;l++){const u=i[l],c=this.get(u);s+=":"+c.id,r.bindBuffer(r.ARRAY_BUFFER,c.bufferGPU),r.enableVertexAttribArray(l),(u.isStorageBufferAttribute||u.isStorageInstancedBufferAttribute)&&(a=!1);let d,f;u.isInterleavedBufferAttribute===!0?(d=u.data.stride*c.bytesPerElement,f=u.offset*c.bytesPerElement):(d=0,f=0),c.isInteger?r.vertexAttribIPointer(l,u.itemSize,c.type,d,f):r.vertexAttribPointer(l,u.itemSize,c.type,u.normalized,d,f),u.isInstancedBufferAttribute&&!u.isInterleavedBufferAttribute?r.vertexAttribDivisor(l,u.meshPerAttribute):u.isInterleavedBufferAttribute&&u.data.isInstancedInterleavedBuffer&&r.vertexAttribDivisor(l,u.data.meshPerAttribute)}return r.bindBuffer(r.ARRAY_BUFFER,null),this.vaoCache[s]=o,{vaoGPU:o,staticVao:a}}_getTransformFeedback(e){let i="";for(let s=0;s<e.length;s++)i+=":"+e[s].id;let r=this.transformFeedbackCache[i];if(r!==void 0)return r;const{gl:o}=this;r=o.createTransformFeedback(),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,r);for(let s=0;s<e.length;s++){const a=e[s];o.bindBufferBase(o.TRANSFORM_FEEDBACK_BUFFER,s,a.transformBuffer)}return o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[i]=r,r}_setupBindings(e,i){const r=this.gl;for(const o of e)for(const s of o.bindings){const l=this.get(s).index;if(s.isUniformsGroup||s.isUniformBuffer){const u=r.getUniformBlockIndex(i,s.name);r.uniformBlockBinding(i,u,l)}else if(s.isSampledTexture){const u=r.getUniformLocation(i,s.name);r.uniform1i(u,l)}}}_bindUniforms(e){const{gl:i,state:r}=this;for(const o of e)for(const s of o.bindings){const a=this.get(s),l=a.index;s.isUniformsGroup||s.isUniformBuffer?r.bindBufferBase(i.UNIFORM_BUFFER,l,a.bufferGPU):s.isSampledTexture&&r.bindTexture(a.glTextureType,a.textureGPU,i.TEXTURE0+l)}}dispose(){this.renderer.domElement.removeEventListener("webglcontextlost",this._onContextLost)}}const mp={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},kr={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},to={Store:"store",Discard:"discard"},Zi={Load:"load",Clear:"clear"},oE={CCW:"ccw",CW:"cw"},sE={None:"none",Front:"front",Back:"back"},Tg={Uint16:"uint16",Uint32:"uint32"},Me={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10uFloat:"rgb10a2unorm",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Stencil8:"stencil8",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},aE={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},df={Linear:"linear",Nearest:"nearest"},Yt={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDstColor:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},Hd={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},$z={None:0,Red:1,Green:2,Blue:4,Alpha:8,All:15},Rc={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},lE={Uniform:"uniform",Storage:"storage",ReadOnlyStorage:"read-only-storage"},uE={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"},Jh={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},Uz={OneD:"1d",TwoD:"2d",ThreeD:"3d"},Go={OneD:"1d",TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",CubeArray:"cube-array",ThreeD:"3d"},E6e={All:"all",StencilOnly:"stencil-only",DepthOnly:"depth-only"},_x={Vertex:"vertex",Instance:"instance"},U2={DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups"};class M6e extends FN{constructor(e,i){super(e),this.texture=i,this.version=i?i.version:0,this.isSampler=!0}}class R6e extends M6e{constructor(e,i,r){super(e,i?i.value:null),this.textureNode=i,this.groupNode=r}update(){this.texture=this.textureNode.value}}class P6e extends Vj{constructor(e,i){super(e,i?i.array:null),this.attribute=i,this.isStorageBuffer=!0}}let I6e=0;class N6e extends P6e{constructor(e,i){super("StorageBuffer_"+I6e++,e?e.value:null),this.nodeUniform=e,this.access=e?e.access:Eu.READ_WRITE,this.groupNode=i}get buffer(){return this.nodeUniform.value}}class O6e extends md{constructor(e){super(),this.device=e;const i=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,r=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,o=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=e.createSampler({minFilter:df.Linear}),this.flipYSampler=e.createSampler({minFilter:df.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=e.createShaderModule({label:"mipmapVertex",code:i}),this.mipmapFragmentShaderModule=e.createShaderModule({label:"mipmapFragment",code:r}),this.flipYFragmentShaderModule=e.createShaderModule({label:"flipYFragment",code:o})}getTransferPipeline(e){let i=this.transferPipelines[e];return i===void 0&&(i=this.device.createRenderPipeline({label:`mipmap-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:mp.TriangleStrip,stripIndexFormat:Tg.Uint32},layout:"auto"}),this.transferPipelines[e]=i),i}getFlipYPipeline(e){let i=this.flipYPipelines[e];return i===void 0&&(i=this.device.createRenderPipeline({label:`flipY-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:mp.TriangleStrip,stripIndexFormat:Tg.Uint32},layout:"auto"}),this.flipYPipelines[e]=i),i}flipY(e,i,r=0){const o=i.format,{width:s,height:a}=i.size,l=this.getTransferPipeline(o),u=this.getFlipYPipeline(o),c=this.device.createTexture({size:{width:s,height:a,depthOrArrayLayers:1},format:o,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),d=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Go.TwoD,baseArrayLayer:r}),f=c.createView({baseMipLevel:0,mipLevelCount:1,dimension:Go.TwoD,baseArrayLayer:0}),h=this.device.createCommandEncoder({}),p=(v,b,y)=>{const m=v.getBindGroupLayout(0),_=this.device.createBindGroup({layout:m,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:b}]}),S=h.beginRenderPass({colorAttachments:[{view:y,loadOp:Zi.Clear,storeOp:to.Store,clearValue:[0,0,0,0]}]});S.setPipeline(v),S.setBindGroup(0,_),S.draw(4,1,0,0),S.end()};p(l,d,f),p(u,f,d),this.device.queue.submit([h.finish()]),c.destroy()}generateMipmaps(e,i,r=0){const o=this.get(e);o.useCount===void 0&&(o.useCount=0,o.layers=[]);const s=o.layers[r]||this._mipmapCreateBundles(e,i,r),a=this.device.createCommandEncoder({});this._mipmapRunBundles(a,s),this.device.queue.submit([a.finish()]),o.useCount!==0&&(o.layers[r]=s),o.useCount++}_mipmapCreateBundles(e,i,r){const o=this.getTransferPipeline(i.format),s=o.getBindGroupLayout(0);let a=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Go.TwoD,baseArrayLayer:r});const l=[];for(let u=1;u<i.mipLevelCount;u++){const c=this.device.createBindGroup({layout:s,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:a}]}),d=e.createView({baseMipLevel:u,mipLevelCount:1,dimension:Go.TwoD,baseArrayLayer:r}),f={colorAttachments:[{view:d,loadOp:Zi.Clear,storeOp:to.Store,clearValue:[0,0,0,0]}]},h=this.device.createRenderBundleEncoder({colorFormats:[i.format]});h.setPipeline(o),h.setBindGroup(0,c),h.draw(4,1,0,0),l.push({renderBundles:[h.finish()],passDescriptor:f}),a=d}return l}_mipmapRunBundles(e,i){const r=i.length;for(let o=0;o<r;o++){const s=i[o],a=e.beginRenderPass(s.passDescriptor);a.executeBundles(s.renderBundles),a.end()}}}const D6e={[$I]:"never",[Nw]:"less",[UI]:"equal",[Ow]:"less-equal",[kI]:"greater",[HI]:"greater-equal",[GI]:"always",[zI]:"not-equal"},L6e=[0,1,3,2,4,5];class B6e{constructor(e){this.backend=e,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this.colorBuffer=null,this.depthTexture=new pd,this.depthTexture.name="depthBuffer"}createSampler(e){const i=this.backend,r=i.device,o=i.get(e),s={addressModeU:this._convertAddressMode(e.wrapS),addressModeV:this._convertAddressMode(e.wrapT),addressModeW:this._convertAddressMode(e.wrapR),magFilter:this._convertFilterMode(e.magFilter),minFilter:this._convertFilterMode(e.minFilter),mipmapFilter:this._convertFilterMode(e.minFilter),maxAnisotropy:1};s.magFilter===df.Linear&&s.minFilter===df.Linear&&s.mipmapFilter===df.Linear&&(s.maxAnisotropy=e.anisotropy),e.isDepthTexture&&e.compareFunction!==null&&(s.compare=D6e[e.compareFunction]),o.sampler=r.createSampler(s)}createDefaultTexture(e){let i;const r=k2(e);e.isCubeTexture?i=this._getDefaultCubeTextureGPU(r):e.isVideoTexture?this.backend.get(e).externalTexture=this._getDefaultVideoFrame():i=this._getDefaultTextureGPU(r),this.backend.get(e).texture=i}createTexture(e,i={}){const r=this.backend,o=r.get(e);if(o.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");i.needsMipmaps===void 0&&(i.needsMipmaps=!1),i.levels===void 0&&(i.levels=1),i.depth===void 0&&(i.depth=1);const{width:s,height:a,depth:l,levels:u}=i;e.isFramebufferTexture&&(i.renderTarget?i.format=this.backend.utils.getCurrentColorFormat(i.renderTarget):i.format=this.backend.utils.getPreferredCanvasFormat());const c=this._getDimension(e),d=e.internalFormat||i.format||k2(e,r.device);o.format=d;const{samples:f,primarySamples:h,isMSAA:p}=r.utils.getTextureSampleData(e);let v=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;e.isStorageTexture===!0&&(v|=GPUTextureUsage.STORAGE_BINDING),e.isCompressedTexture!==!0&&e.isCompressedArrayTexture!==!0&&(v|=GPUTextureUsage.RENDER_ATTACHMENT);const b={label:e.name,size:{width:s,height:a,depthOrArrayLayers:l},mipLevelCount:u,sampleCount:h,dimension:c,format:d,usage:v};if(e.isVideoTexture){const y=e.source.data,m=new VideoFrame(y);b.size.width=m.displayWidth,b.size.height=m.displayHeight,m.close(),o.externalTexture=y}else{if(d===void 0)return console.warn("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(e);o.texture=r.device.createTexture(b)}if(p){const y=Object.assign({},b);y.label=y.label+"-msaa",y.sampleCount=f,o.msaaTexture=r.device.createTexture(y)}o.initialized=!0,o.textureDescriptorGPU=b}destroyTexture(e){const i=this.backend,r=i.get(e);r.texture!==void 0&&r.texture.destroy(),r.msaaTexture!==void 0&&r.msaaTexture.destroy(),i.delete(e)}destroySampler(e){const r=this.backend.get(e);delete r.sampler}generateMipmaps(e){const i=this.backend.get(e);if(e.isCubeTexture)for(let r=0;r<6;r++)this._generateMipmaps(i.texture,i.textureDescriptorGPU,r);else{const r=e.image.depth||1;for(let o=0;o<r;o++)this._generateMipmaps(i.texture,i.textureDescriptorGPU,o)}}getColorBuffer(){this.colorBuffer&&this.colorBuffer.destroy();const e=this.backend,{width:i,height:r}=e.getDrawingBufferSize();return this.colorBuffer=e.device.createTexture({label:"colorBuffer",size:{width:i,height:r,depthOrArrayLayers:1},sampleCount:e.utils.getSampleCount(e.renderer.samples),format:e.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),this.colorBuffer}getDepthBuffer(e=!0,i=!1){const r=this.backend,{width:o,height:s}=r.getDrawingBufferSize(),a=this.depthTexture,l=r.get(a).texture;let u,c;if(i?(u=Tl,c=Cl):e&&(u=gl,c=Ui),l!==void 0){if(a.image.width===o&&a.image.height===s&&a.format===u&&a.type===c)return l;this.destroyTexture(a)}return a.name="depthBuffer",a.format=u,a.type=c,a.image.width=o,a.image.height=s,this.createTexture(a,{width:o,height:s}),r.get(a).texture}updateTexture(e,i){const r=this.backend.get(e),{textureDescriptorGPU:o}=r;if(!(e.isRenderTargetTexture||o===void 0)){if(e.isDataTexture)this._copyBufferToTexture(i.image,r.texture,o,0,e.flipY);else if(e.isDataArrayTexture||e.isData3DTexture)for(let s=0;s<i.image.depth;s++)this._copyBufferToTexture(i.image,r.texture,o,s,e.flipY,s);else if(e.isCompressedTexture||e.isCompressedArrayTexture)this._copyCompressedBufferToTexture(e.mipmaps,r.texture,o);else if(e.isCubeTexture)this._copyCubeMapToTexture(i.images,r.texture,o,e.flipY);else if(e.isVideoTexture){const s=e.source.data;r.externalTexture=s}else this._copyImageToTexture(i.image,r.texture,o,0,e.flipY);r.version=e.version,e.onUpdate&&e.onUpdate(e)}}async copyTextureToBuffer(e,i,r,o,s,a){const l=this.backend.device,u=this.backend.get(e),c=u.texture,d=u.textureDescriptorGPU.format,f=this._getBytesPerTexel(d);let h=o*f;h=Math.ceil(h/256)*256;const p=l.createBuffer({size:o*s*f,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),v=l.createCommandEncoder();v.copyTextureToBuffer({texture:c,origin:{x:i,y:r,z:a}},{buffer:p,bytesPerRow:h},{width:o,height:s});const b=this._getTypedArrayType(d);l.queue.submit([v.finish()]),await p.mapAsync(GPUMapMode.READ);const y=p.getMappedRange();return new b(y)}_isEnvironmentTexture(e){const i=e.mapping;return i===id||i===rd||i===ca||i===da}_getDefaultTextureGPU(e){let i=this.defaultTexture[e];if(i===void 0){const r=new dr;r.minFilter=_i,r.magFilter=_i,this.createTexture(r,{width:1,height:1,format:e}),this.defaultTexture[e]=i=r}return this.backend.get(i).texture}_getDefaultCubeTextureGPU(e){let i=this.defaultTexture[e];if(i===void 0){const r=new Bw;r.minFilter=_i,r.magFilter=_i,this.createTexture(r,{width:1,height:1,depth:6}),this.defaultCubeTexture[e]=i=r}return this.backend.get(i).texture}_getDefaultVideoFrame(){let e=this.defaultVideoFrame;if(e===null){const i={timestamp:0,codedWidth:1,codedHeight:1,format:"RGBA"};this.defaultVideoFrame=e=new VideoFrame(new Uint8Array([0,0,0,255]),i)}return e}_copyCubeMapToTexture(e,i,r,o){for(let s=0;s<6;s++){const a=e[s],l=o===!0?L6e[s]:s;a.isDataTexture?this._copyBufferToTexture(a.image,i,r,l,o):this._copyImageToTexture(a,i,r,l,o)}}_copyImageToTexture(e,i,r,o,s){this.backend.device.queue.copyExternalImageToTexture({source:e},{texture:i,mipLevel:0,origin:{x:0,y:0,z:o}},{width:e.width,height:e.height,depthOrArrayLayers:1}),s===!0&&this._flipY(i,r,o)}_getPassUtils(){let e=this._passUtils;return e===null&&(this._passUtils=e=new O6e(this.backend.device)),e}_generateMipmaps(e,i,r=0){this._getPassUtils().generateMipmaps(e,i,r)}_flipY(e,i,r=0){this._getPassUtils().flipY(e,i,r)}_copyBufferToTexture(e,i,r,o,s,a=0){const l=this.backend.device,u=e.data,c=this._getBytesPerTexel(r.format),d=e.width*c;l.queue.writeTexture({texture:i,mipLevel:0,origin:{x:0,y:0,z:o}},u,{offset:e.width*e.height*c*a,bytesPerRow:d},{width:e.width,height:e.height,depthOrArrayLayers:1}),s===!0&&this._flipY(i,r,o)}_copyCompressedBufferToTexture(e,i,r){const o=this.backend.device,s=this._getBlockData(r.format),a=r.size.depthOrArrayLayers>1;for(let l=0;l<e.length;l++){const u=e[l],c=u.width,d=u.height,f=a?r.size.depthOrArrayLayers:1,h=Math.ceil(c/s.width)*s.byteLength,p=h*Math.ceil(d/s.height);for(let v=0;v<f;v++)o.queue.writeTexture({texture:i,mipLevel:l,origin:{x:0,y:0,z:v}},u.data,{offset:v*p,bytesPerRow:h,rowsPerImage:Math.ceil(d/s.height)},{width:Math.ceil(c/s.width)*s.width,height:Math.ceil(d/s.height)*s.height,depthOrArrayLayers:1})}}_getBlockData(e){if(e===Me.BC1RGBAUnorm||e===Me.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(e===Me.BC2RGBAUnorm||e===Me.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Me.BC3RGBAUnorm||e===Me.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Me.BC4RUnorm||e===Me.BC4RSNorm)return{byteLength:8,width:4,height:4};if(e===Me.BC5RGUnorm||e===Me.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(e===Me.BC6HRGBUFloat||e===Me.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(e===Me.BC7RGBAUnorm||e===Me.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Me.ETC2RGB8Unorm||e===Me.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(e===Me.ETC2RGB8A1Unorm||e===Me.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(e===Me.ETC2RGBA8Unorm||e===Me.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(e===Me.EACR11Unorm)return{byteLength:8,width:4,height:4};if(e===Me.EACR11Snorm)return{byteLength:8,width:4,height:4};if(e===Me.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(e===Me.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(e===Me.ASTC4x4Unorm||e===Me.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(e===Me.ASTC5x4Unorm||e===Me.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(e===Me.ASTC5x5Unorm||e===Me.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(e===Me.ASTC6x5Unorm||e===Me.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(e===Me.ASTC6x6Unorm||e===Me.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(e===Me.ASTC8x5Unorm||e===Me.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(e===Me.ASTC8x6Unorm||e===Me.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(e===Me.ASTC8x8Unorm||e===Me.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(e===Me.ASTC10x5Unorm||e===Me.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(e===Me.ASTC10x6Unorm||e===Me.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(e===Me.ASTC10x8Unorm||e===Me.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(e===Me.ASTC10x10Unorm||e===Me.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(e===Me.ASTC12x10Unorm||e===Me.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(e===Me.ASTC12x12Unorm||e===Me.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(e){let i=aE.ClampToEdge;return e===Hf?i=aE.Repeat:e===Gf&&(i=aE.MirrorRepeat),i}_convertFilterMode(e){let i=df.Linear;return(e===_i||e===uS||e===ul)&&(i=df.Nearest),i}_getBytesPerTexel(e){if(e===Me.R8Unorm||e===Me.R8Snorm||e===Me.R8Uint||e===Me.R8Sint)return 1;if(e===Me.R16Uint||e===Me.R16Sint||e===Me.R16Float||e===Me.RG8Unorm||e===Me.RG8Snorm||e===Me.RG8Uint||e===Me.RG8Sint)return 2;if(e===Me.R32Uint||e===Me.R32Sint||e===Me.R32Float||e===Me.RG16Uint||e===Me.RG16Sint||e===Me.RG16Float||e===Me.RGBA8Unorm||e===Me.RGBA8UnormSRGB||e===Me.RGBA8Snorm||e===Me.RGBA8Uint||e===Me.RGBA8Sint||e===Me.BGRA8Unorm||e===Me.BGRA8UnormSRGB||e===Me.RGB9E5UFloat||e===Me.RGB10A2Unorm||e===Me.RG11B10UFloat||e===Me.Depth32Float||e===Me.Depth24Plus||e===Me.Depth24PlusStencil8||e===Me.Depth32FloatStencil8)return 4;if(e===Me.RG32Uint||e===Me.RG32Sint||e===Me.RG32Float||e===Me.RGBA16Uint||e===Me.RGBA16Sint||e===Me.RGBA16Float)return 8;if(e===Me.RGBA32Uint||e===Me.RGBA32Sint||e===Me.RGBA32Float)return 16}_getTypedArrayType(e){if(e===Me.R8Uint)return Uint8Array;if(e===Me.R8Sint)return Int8Array;if(e===Me.R8Unorm)return Uint8Array;if(e===Me.R8Snorm)return Int8Array;if(e===Me.RG8Uint)return Uint8Array;if(e===Me.RG8Sint)return Int8Array;if(e===Me.RG8Unorm)return Uint8Array;if(e===Me.RG8Snorm)return Int8Array;if(e===Me.RGBA8Uint)return Uint8Array;if(e===Me.RGBA8Sint)return Int8Array;if(e===Me.RGBA8Unorm)return Uint8Array;if(e===Me.RGBA8Snorm)return Int8Array;if(e===Me.R16Uint)return Uint16Array;if(e===Me.R16Sint)return Int16Array;if(e===Me.RG16Uint)return Uint16Array;if(e===Me.RG16Sint)return Int16Array;if(e===Me.RGBA16Uint)return Uint16Array;if(e===Me.RGBA16Sint)return Int16Array;if(e===Me.R16Float||e===Me.RG16Float||e===Me.RGBA16Float)return Uint16Array;if(e===Me.R32Uint)return Uint32Array;if(e===Me.R32Sint)return Int32Array;if(e===Me.R32Float)return Float32Array;if(e===Me.RG32Uint)return Uint32Array;if(e===Me.RG32Sint)return Int32Array;if(e===Me.RG32Float)return Float32Array;if(e===Me.RGBA32Uint)return Uint32Array;if(e===Me.RGBA32Sint)return Int32Array;if(e===Me.RGBA32Float)return Float32Array;if(e===Me.BGRA8Unorm||e===Me.BGRA8UnormSRGB)return Uint8Array;if(e===Me.RGB10A2Unorm||e===Me.RGB9E5UFloat||e===Me.RG11B10UFloat)return Uint32Array;if(e===Me.Depth32Float)return Float32Array;if(e===Me.Depth24Plus||e===Me.Depth24PlusStencil8)return Uint32Array;if(e===Me.Depth32FloatStencil8)return Float32Array}_getDimension(e){let i;return e.isData3DTexture?i=Uz.ThreeD:i=Uz.TwoD,i}}function k2(n,e=null){const i=n.format,r=n.type,o=n.colorSpace;let s;if(n.isCompressedTexture===!0||n.isCompressedArrayTexture===!0)switch(i){case qc:s=o===Ft?Me.BC1RGBAUnormSRGB:Me.BC1RGBAUnorm;break;case Yc:s=o===Ft?Me.BC2RGBAUnormSRGB:Me.BC2RGBAUnorm;break;case Qc:s=o===Ft?Me.BC3RGBAUnormSRGB:Me.BC3RGBAUnorm;break;case rg:s=o===Ft?Me.ETC2RGB8UnormSRGB:Me.ETC2RGB8Unorm;break;case og:s=o===Ft?Me.ETC2RGBA8UnormSRGB:Me.ETC2RGBA8Unorm;break;case sg:s=o===Ft?Me.ASTC4x4UnormSRGB:Me.ASTC4x4Unorm;break;case ag:s=o===Ft?Me.ASTC5x4UnormSRGB:Me.ASTC5x4Unorm;break;case lg:s=o===Ft?Me.ASTC5x5UnormSRGB:Me.ASTC5x5Unorm;break;case ug:s=o===Ft?Me.ASTC6x5UnormSRGB:Me.ASTC6x5Unorm;break;case cg:s=o===Ft?Me.ASTC6x6UnormSRGB:Me.ASTC6x6Unorm;break;case dg:s=o===Ft?Me.ASTC8x5UnormSRGB:Me.ASTC8x5Unorm;break;case fg:s=o===Ft?Me.ASTC8x6UnormSRGB:Me.ASTC8x6Unorm;break;case hg:s=o===Ft?Me.ASTC8x8UnormSRGB:Me.ASTC8x8Unorm;break;case pg:s=o===Ft?Me.ASTC10x5UnormSRGB:Me.ASTC10x5Unorm;break;case gg:s=o===Ft?Me.ASTC10x6UnormSRGB:Me.ASTC10x6Unorm;break;case mg:s=o===Ft?Me.ASTC10x8UnormSRGB:Me.ASTC10x8Unorm;break;case vg:s=o===Ft?Me.ASTC10x10UnormSRGB:Me.ASTC10x10Unorm;break;case yg:s=o===Ft?Me.ASTC12x10UnormSRGB:Me.ASTC12x10Unorm;break;case bg:s=o===Ft?Me.ASTC12x12UnormSRGB:Me.ASTC12x12Unorm;break;case Gr:s=o===Ft?Me.RGBA8UnormSRGB:Me.RGBA8Unorm;break;default:console.error("WebGPURenderer: Unsupported texture format.",i)}else switch(i){case Gr:switch(r){case Cf:s=Me.RGBA8Snorm;break;case Tf:s=Me.RGBA16Sint;break;case Oa:s=Me.RGBA16Uint;break;case Ui:s=Me.RGBA32Uint;break;case Nr:s=Me.RGBA32Sint;break;case ao:s=o===Ft?Me.RGBA8UnormSRGB:Me.RGBA8Unorm;break;case Ro:s=Me.RGBA16Float;break;case er:s=Me.RGBA32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAFormat.",r)}break;case qy:switch(r){case Iw:s=Me.RGB9E5UFloat;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBFormat.",r)}break;case Yy:switch(r){case Cf:s=Me.R8Snorm;break;case Tf:s=Me.R16Sint;break;case Oa:s=Me.R16Uint;break;case Ui:s=Me.R32Uint;break;case Nr:s=Me.R32Sint;break;case ao:s=Me.R8Unorm;break;case Ro:s=Me.R16Float;break;case er:s=Me.R32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RedFormat.",r)}break;case Vf:switch(r){case Cf:s=Me.RG8Snorm;break;case Tf:s=Me.RG16Sint;break;case Oa:s=Me.RG16Uint;break;case Ui:s=Me.RG32Uint;break;case Nr:s=Me.RG32Sint;break;case ao:s=Me.RG8Unorm;break;case Ro:s=Me.RG16Float;break;case er:s=Me.RG32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGFormat.",r)}break;case gl:switch(r){case Oa:s=Me.Depth16Unorm;break;case Ui:s=Me.Depth24Plus;break;case er:s=Me.Depth32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthFormat.",r)}break;case Tl:switch(r){case Cl:s=Me.Depth24PlusStencil8;break;case er:e&&e.features.has(U2.Depth32FloatStencil8)===!1&&console.error('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),s=Me.Depth32FloatStencil8;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",r)}break;case Ng:switch(r){case Nr:s=Me.R32Sint;break;case Ui:s=Me.R32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",r)}break;case Og:switch(r){case Nr:s=Me.RG32Sint;break;case Ui:s=Me.RG32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",r)}break;case Dg:switch(r){case Nr:s=Me.RGBA32Sint;break;case Ui:s=Me.RGBA32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",r)}break;default:console.error("WebGPURenderer: Unsupported texture format.",i)}return s}const F6e=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,$6e=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/ig,kz={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_depth_multisampled_2d:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"},U6e=n=>{n=n.trim();const e=n.match(F6e);if(e!==null&&e.length===4){const i=e[2],r=[];let o=null;for(;(o=$6e.exec(i))!==null;)r.push({name:o[1],type:o[2]});const s=[];for(let d=0;d<r.length;d++){const{name:f,type:h}=r[d];let p=h;p.startsWith("ptr")?p="pointer":(p.startsWith("texture")&&(p=h.split("<")[0]),p=kz[p]),s.push(new LN(p,f))}const a=n.substring(e[0].length),l=e[3]||"void",u=e[1]!==void 0?e[1]:"";return{type:kz[l]||l,inputs:s,name:u,inputsCode:i,blockCode:a,outputType:l}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class k6e extends BN{constructor(e){const{type:i,inputs:r,name:o,inputsCode:s,blockCode:a,outputType:l}=U6e(e);super(i,r,o),this.inputsCode=s,this.blockCode=a,this.outputType=l}getCode(e=this.name){const i=this.outputType!=="void"?"-> "+this.outputType:"";return`fn ${e} ( ${this.inputsCode.trim()} ) ${i}`+this.blockCode}}class z6e extends Hj{parseFunction(e){return new k6e(e)}}const ep=typeof self<"u"?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4},H6e={[Eu.READ_ONLY]:"read",[Eu.WRITE_ONLY]:"write",[Eu.READ_WRITE]:"read_write"},zz={[Hf]:"repeat",[ll]:"clamp",[Gf]:"mirror"},Sx={vertex:ep?ep.VERTEX:1,fragment:ep?ep.FRAGMENT:2,compute:ep?ep.COMPUTE:4},Hz={instance:!0,swizzleAssign:!1,storageBuffer:!0},G6e={"^^":"tsl_xor"},V6e={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",mat3:"mat3x3<f32>",mat4:"mat4x4<f32>"},Gz={},qs={tsl_xor:new br("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new br("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new br("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new br("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new br("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new br("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new br("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new br("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new br("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping_float:new br("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),mirrorWrapping_float:new br("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),clampWrapping_float:new br("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),biquadraticTexture:new br(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`)},nv={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>"};typeof navigator<"u"&&/Windows/g.test(navigator.userAgent)&&(qs.pow_float=new br("fn tsl_pow_float( a : f32, b : f32 ) -> f32 { return select( -pow( -a, b ), pow( a, b ), a > 0.0 ); }"),qs.pow_vec2=new br("fn tsl_pow_vec2( a : vec2f, b : vec2f ) -> vec2f { return vec2f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ) ); }",[qs.pow_float]),qs.pow_vec3=new br("fn tsl_pow_vec3( a : vec3f, b : vec3f ) -> vec3f { return vec3f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ) ); }",[qs.pow_float]),qs.pow_vec4=new br("fn tsl_pow_vec4( a : vec4f, b : vec4f ) -> vec4f { return vec4f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ), tsl_pow_float( a.w, b.w ) ); }",[qs.pow_float]),nv.pow_float="tsl_pow_float",nv.pow_vec2="tsl_pow_vec2",nv.pow_vec3="tsl_pow_vec3",nv.pow_vec4="tsl_pow_vec4");let Qj="";(typeof navigator<"u"&&/Firefox|Deno/g.test(navigator.userAgent))!==!0&&(Qj+=`diagnostic( off, derivative_uniformity );
`);class W6e extends kj{constructor(e,i){super(e,i,new z6e),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==Ts}_generateTextureSample(e,i,r,o,s=this.shaderStage){return s==="fragment"?o?`textureSample( ${i}, ${i}_sampler, ${r}, ${o} )`:`textureSample( ${i}, ${i}_sampler, ${r} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,i,r):this.generateTextureLod(e,i,r,o,"0")}_generateVideoSample(e,i,r=this.shaderStage){if(r==="fragment")return`textureSampleBaseClampToEdge( ${e}, ${e}_sampler, vec2<f32>( ${i}.x, 1.0 - ${i}.y ) )`;console.error(`WebGPURenderer: THREE.VideoTexture does not support ${r} shader.`)}_generateTextureSampleLevel(e,i,r,o,s,a=this.shaderStage){return(a==="fragment"||a==="compute")&&this.isUnfilterable(e)===!1?`textureSampleLevel( ${i}, ${i}_sampler, ${r}, ${o} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,i,r,o):this.generateTextureLod(e,i,r,s,o)}generateWrapFunction(e){const i=`tsl_coord_${zz[e.wrapS]}S_${zz[e.wrapT]}_${e.isData3DTexture?"3d":"2d"}T`;let r=Gz[i];if(r===void 0){const o=[],s=e.isData3DTexture?"vec3f":"vec2f";let a=`fn ${i}( coord : ${s} ) -> ${s} {

	return ${s}(
`;const l=(u,c)=>{u===Hf?(o.push(qs.repeatWrapping_float),a+=`		tsl_repeatWrapping_float( coord.${c} )`):u===ll?(o.push(qs.clampWrapping_float),a+=`		tsl_clampWrapping_float( coord.${c} )`):u===Gf?(o.push(qs.mirrorWrapping_float),a+=`		tsl_mirrorWrapping_float( coord.${c} )`):(a+=`		coord.${c}`,console.warn(`WebGPURenderer: Unsupported texture wrap type "${u}" for vertex shader.`))};l(e.wrapS,"x"),a+=`,
`,l(e.wrapT,"y"),e.isData3DTexture&&(a+=`,
`,l(e.wrapR,"z")),a+=`
	);

}
`,Gz[i]=r=new br(a,o)}return r.build(this),i}generateTextureDimension(e,i,r){const o=this.getDataFromNode(e,this.shaderStage,this.globalCache);o.dimensionsSnippet===void 0&&(o.dimensionsSnippet={});let s=o.dimensionsSnippet[r];if(o.dimensionsSnippet[r]===void 0){let a,l;const{primarySamples:u}=this.renderer.backend.utils.getTextureSampleData(e),c=u>1;e.isData3DTexture?l="vec3<u32>":l="vec2<u32>",c||e.isVideoTexture||e.isStorageTexture?a=i:a=`${i}${r?`, u32( ${r} )`:""}`,s=new l_(new c_(`textureDimensions( ${a} )`,l)),o.dimensionsSnippet[r]=s,(e.isDataArrayTexture||e.isData3DTexture)&&(o.arrayLayerCount=new l_(new c_(`textureNumLayers(${i})`,"u32"))),e.isTextureCube&&(o.cubeFaceCount=new l_(new c_("6u","u32")))}return s.build(this)}generateFilteredTexture(e,i,r,o="0u"){this._include("biquadraticTexture");const s=this.generateWrapFunction(e),a=this.generateTextureDimension(e,i,o);return`tsl_biquadraticTexture( ${i}, ${s}( ${r} ), ${a}, u32( ${o} ) )`}generateTextureLod(e,i,r,o,s="0u"){const a=this.generateWrapFunction(e),l=this.generateTextureDimension(e,i,s),u=e.isData3DTexture?"vec3":"vec2",c=`${u}<u32>(${a}(${r}) * ${u}<f32>(${l}))`;return this.generateTextureLoad(e,i,c,o,s)}generateTextureLoad(e,i,r,o,s="0u"){return e.isVideoTexture===!0||e.isStorageTexture===!0?`textureLoad( ${i}, ${r} )`:o?`textureLoad( ${i}, ${r}, ${o}, u32( ${s} ) )`:`textureLoad( ${i}, ${r}, u32( ${s} ) )`}generateTextureStore(e,i,r,o){return`textureStore( ${i}, ${r}, ${o} )`}isSampleCompare(e){return e.isDepthTexture===!0&&e.compareFunction!==null}isUnfilterable(e){return this.getComponentTypeFromTexture(e)!=="float"||!this.isAvailable("float32Filterable")&&e.isDataTexture===!0&&e.type===er||this.isSampleCompare(e)===!1&&e.minFilter===_i&&e.magFilter===_i||this.renderer.backend.utils.getTextureSampleData(e).primarySamples>1}generateTexture(e,i,r,o,s=this.shaderStage){let a=null;return e.isVideoTexture===!0?a=this._generateVideoSample(i,r,s):this.isUnfilterable(e)?a=this.generateTextureLod(e,i,r,o,"0",s):a=this._generateTextureSample(e,i,r,o,s),a}generateTextureGrad(e,i,r,o,s,a=this.shaderStage){if(a==="fragment")return`textureSampleGrad( ${i}, ${i}_sampler, ${r},  ${o[0]}, ${o[1]} )`;console.error(`WebGPURenderer: THREE.TextureNode.gradient() does not support ${a} shader.`)}generateTextureCompare(e,i,r,o,s,a=this.shaderStage){if(a==="fragment")return`textureSampleCompare( ${i}, ${i}_sampler, ${r}, ${o} )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${a} shader.`)}generateTextureLevel(e,i,r,o,s,a=this.shaderStage){let l=null;return e.isVideoTexture===!0?l=this._generateVideoSample(i,r,a):l=this._generateTextureSampleLevel(e,i,r,o,s,a),l}generateTextureBias(e,i,r,o,s,a=this.shaderStage){if(a==="fragment")return`textureSampleBias( ${i}, ${i}_sampler, ${r}, ${o} )`;console.error(`WebGPURenderer: THREE.TextureNode.biasNode does not support ${a} shader.`)}getPropertyName(e,i=this.shaderStage){if(e.isNodeVarying===!0&&e.needsInterpolation===!0){if(i==="vertex")return`varyings.${e.name}`}else if(e.isNodeUniform===!0){const r=e.name,o=e.type;return o==="texture"||o==="cubeTexture"||o==="storageTexture"||o==="texture3D"?r:o==="buffer"||o==="storageBuffer"||o==="indirectStorageBuffer"?`NodeBuffer_${e.id}.${r}`:e.groupNode.name+"."+r}return super.getPropertyName(e)}getOutputStructName(){return"output"}_getUniformGroupCount(e){return Object.keys(this.uniforms[e]).length}getFunctionOperator(e){const i=G6e[e];return i!==void 0?(this._include(i),i):null}getNodeAccess(e,i){return i!=="compute"?Eu.READ_ONLY:e.access}getStorageAccess(e,i){return H6e[this.getNodeAccess(e,i)]}getUniformFromNode(e,i,r,o=null){const s=super.getUniformFromNode(e,i,r,o),a=this.getDataFromNode(e,r,this.globalCache);if(a.uniformGPU===void 0){let l;const u=e.groupNode,c=u.name,d=this.getBindGroupArray(c,r);if(i==="texture"||i==="cubeTexture"||i==="storageTexture"||i==="texture3D"){let f=null;const h=this.getNodeAccess(e,r);if(i==="texture"||i==="storageTexture"?f=new t1(s.name,s.node,u,h):i==="cubeTexture"?f=new Xj(s.name,s.node,u,h):i==="texture3D"&&(f=new qj(s.name,s.node,u,h)),f.store=e.isStorageTextureNode===!0,f.setVisibility(Sx[r]),(r==="fragment"||r==="compute")&&this.isUnfilterable(e.value)===!1&&f.store===!1){const p=new R6e(`${s.name}_sampler`,s.node,u);p.setVisibility(Sx[r]),d.push(p,f),l=[p,f]}else d.push(f),l=[f]}else if(i==="buffer"||i==="storageBuffer"||i==="indirectStorageBuffer"){const f=i==="buffer"?jj:N6e,h=new f(e,u);h.setVisibility(Sx[r]),d.push(h),l=h}else{const f=this.uniformGroups[r]||(this.uniformGroups[r]={});let h=f[c];h===void 0&&(h=new Kj(c,u),h.setVisibility(Sx[r]),f[c]=h,d.push(h)),l=this.getNodeUniform(s,i),h.addUniform(l)}a.uniformGPU=l}return s}getBuiltin(e,i,r,o=this.shaderStage){const s=this.builtins[o]||(this.builtins[o]=new Map);return s.has(e)===!1&&s.set(e,{name:e,property:i,type:r}),i}hasBuiltin(e,i=this.shaderStage){return this.builtins[i]!==void 0&&this.builtins[i].has(e)}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(e){const i=e.layout,r=this.flowShaderNode(e),o=[];for(const a of i.inputs)o.push(a.name+" : "+this.getType(a.type));let s=`fn ${i.name}( ${o.join(", ")} ) -> ${this.getType(i.type)} {
${r.vars}
${r.code}
`;return r.result&&(s+=`	return ${r.result};
`),s+=`
}
`,s}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}getClipDistance(){return"varyings.hw_clip_distances"}isFlipY(){return!1}enableDirective(e,i=this.shaderStage){(this.directives[i]||(this.directives[i]=new Set)).add(e)}getDirectives(e){const i=[],r=this.directives[e];if(r!==void 0)for(const o of r)i.push(`enable ${o};`);return i.join(`
`)}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}enableHardwareClipping(e){this.enableClipDistances(),this.getBuiltin("clip_distances","hw_clip_distances",`array<f32, ${e} >`,"vertex")}getBuiltins(e){const i=[],r=this.builtins[e];if(r!==void 0)for(const{name:o,property:s,type:a}of r.values())i.push(`@builtin( ${o} ) ${s} : ${a}`);return i.join(`,
	`)}getScopedArray(e,i,r,o){return this.scopedArrays.has(e)===!1&&this.scopedArrays.set(e,{name:e,scope:i,bufferType:r,bufferCount:o}),e}getScopedArrays(e){if(e!=="compute")return;const i=[];for(const{name:r,scope:o,bufferType:s,bufferCount:a}of this.scopedArrays.values()){const l=this.getType(s);i.push(`var<${o}> ${r}: array< ${l}, ${a} >;`)}return i.join(`
`)}getAttributes(e){const i=[];if(e==="compute"&&(this.getBuiltin("global_invocation_id","id","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",e),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),e==="vertex"||e==="compute"){const r=this.getBuiltins("attribute");r&&i.push(r);const o=this.getAttributesArray();for(let s=0,a=o.length;s<a;s++){const l=o[s],u=l.name,c=this.getType(l.type);i.push(`@location( ${s} ) ${u} : ${c}`)}}return i.join(`,
	`)}getStructMembers(e){const i=[],r=e.getMemberTypes();for(let s=0;s<r.length;s++){const a=r[s];i.push(`	@location( ${s} ) m${s} : ${a}<f32>`)}const o=this.getBuiltins("output");return o&&i.push("	"+o),i.join(`,
`)}getStructs(e){const i=[],r=this.structs[e];for(let o=0,s=r.length;o<s;o++){const a=r[o],l=a.name;let u=`struct ${l} {
`;u+=this.getStructMembers(a),u+=`
}`,i.push(u),i.push(`
var<private> output : ${l};

`)}return i.join(`

`)}getVar(e,i){return`var ${i} : ${this.getType(e)}`}getVars(e){const i=[],r=this.vars[e];if(r!==void 0)for(const o of r)i.push(`	${this.getVar(o.type,o.name)};`);return`
${i.join(`
`)}
`}getVaryings(e){const i=[];if(e==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),e==="vertex"||e==="fragment"){const s=this.varyings,a=this.vars[e];for(let l=0;l<s.length;l++){const u=s[l];if(u.needsInterpolation){let c=`@location( ${l} )`;/^(int|uint|ivec|uvec)/.test(u.type)&&(c+=" @interpolate( flat )"),i.push(`${c} ${u.name} : ${this.getType(u.type)}`)}else e==="vertex"&&a.includes(u)===!1&&a.push(u)}}const r=this.getBuiltins(e);r&&i.push(r);const o=i.join(`,
	`);return e==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+o):o}getUniforms(e){const i=this.uniforms[e],r=[],o=[],s=[],a={};for(const u of i){const c=u.groupNode.name,d=this.bindingsIndexes[c];if(u.type==="texture"||u.type==="cubeTexture"||u.type==="storageTexture"||u.type==="texture3D"){const f=u.node.value;(e==="fragment"||e==="compute")&&this.isUnfilterable(f)===!1&&u.node.isStorageTextureNode!==!0&&(this.isSampleCompare(f)?r.push(`@binding( ${d.binding++} ) @group( ${d.group} ) var ${u.name}_sampler : sampler_comparison;`):r.push(`@binding( ${d.binding++} ) @group( ${d.group} ) var ${u.name}_sampler : sampler;`));let h,p="";const{primarySamples:v}=this.renderer.backend.utils.getTextureSampleData(f);if(v>1&&(p="_multisampled"),f.isCubeTexture===!0)h="texture_cube<f32>";else if(f.isDataArrayTexture===!0||f.isCompressedArrayTexture===!0)h="texture_2d_array<f32>";else if(f.isDepthTexture===!0)h=`texture_depth${p}_2d`;else if(f.isVideoTexture===!0)h="texture_external";else if(f.isData3DTexture===!0)h="texture_3d<f32>";else if(u.node.isStorageTextureNode===!0){const b=k2(f),y=this.getStorageAccess(u.node,e);h=`texture_storage_2d<${b}, ${y}>`}else{const b=this.getComponentTypeFromTexture(f).charAt(0);h=`texture${p}_2d<${b}32>`}r.push(`@binding( ${d.binding++} ) @group( ${d.group} ) var ${u.name} : ${h};`)}else if(u.type==="buffer"||u.type==="storageBuffer"||u.type==="indirectStorageBuffer"){const f=u.node,h=this.getType(f.bufferType),p=f.bufferCount,v=p>0&&u.type==="buffer"?", "+p:"",b=f.isAtomic?`atomic<${h}>`:`${h}`,y=`	${u.name} : array< ${b}${v} >
`,m=f.isStorageBufferNode?`storage, ${this.getStorageAccess(f,e)}`:"uniform";o.push(this._getWGSLStructBinding("NodeBuffer_"+f.id,y,m,d.binding++,d.group))}else{const f=this.getType(this.getVectorType(u.type)),h=u.groupNode.name;(a[h]||(a[h]={index:d.binding++,id:d.group,snippets:[]})).snippets.push(`	${u.name} : ${f}`)}}for(const u in a){const c=a[u];s.push(this._getWGSLStructBinding(u,c.snippets.join(`,
`),"uniform",c.index,c.id))}let l=r.join(`
`);return l+=o.join(`
`),l+=s.join(`
`),l}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const i in e){const r=e[i];r.uniforms=this.getUniforms(i),r.attributes=this.getAttributes(i),r.varyings=this.getVaryings(i),r.structs=this.getStructs(i),r.vars=this.getVars(i),r.codes=this.getCodes(i),r.directives=this.getDirectives(i),r.scopedArrays=this.getScopedArrays(i);let o=`// code

`;o+=this.flowCode[i];const s=this.flowNodes[i],a=s[s.length-1],l=a.outputNode,u=l!==void 0&&l.isOutputStructNode===!0;for(const c of s){const d=this.getFlowData(c),f=c.name;if(f&&(o.length>0&&(o+=`
`),o+=`	// flow -> ${f}
	`),o+=`${d.code}
	`,c===a&&i!=="compute"){if(o+=`// result

	`,i==="vertex")o+=`varyings.Vertex = ${d.result};`;else if(i==="fragment")if(u)r.returnType=l.nodeType,o+=`return ${d.result};`;else{let h="	@location(0) color: vec4<f32>";const p=this.getBuiltins("output");p&&(h+=`,
	`+p),r.returnType="OutputStruct",r.structs+=this._getWGSLStruct("OutputStruct",h),r.structs+=`
var<private> output : OutputStruct;

`,o+=`output.color = ${d.result};

	return output;`}}}r.flow=o}this.material!==null?(this.vertexShader=this._getWGSLVertexCode(e.vertex),this.fragmentShader=this._getWGSLFragmentCode(e.fragment)):this.computeShader=this._getWGSLComputeCode(e.compute,(this.object.workgroupSize||[64]).join(", "))}getMethod(e,i=null){let r;return i!==null&&(r=this._getWGSLMethod(e+"_"+i)),r===void 0&&(r=this._getWGSLMethod(e)),r||e}getType(e){return V6e[e]||e}isAvailable(e){let i=Hz[e];return i===void 0&&(e==="float32Filterable"?i=this.renderer.hasFeature("float32-filterable"):e==="clipDistance"&&(i=this.renderer.hasFeature("clip-distances")),Hz[e]=i),i}_getWGSLMethod(e){return qs[e]!==void 0&&this._include(e),nv[e]}_include(e){const i=qs[e];return i.build(this),this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(i),i}_getWGSLVertexCode(e){return`${this.getSignature()}
// directives
${e.directives}

// uniforms
${e.uniforms}

// varyings
${e.varyings}
var<private> varyings : VaryingsStruct;

// codes
${e.codes}

@vertex
fn main( ${e.attributes} ) -> VaryingsStruct {

	// vars
	${e.vars}

	// flow
	${e.flow}

	return varyings;

}
`}_getWGSLFragmentCode(e){return`${this.getSignature()}
// global
${Qj}

// uniforms
${e.uniforms}

// structs
${e.structs}

// codes
${e.codes}

@fragment
fn main( ${e.varyings} ) -> ${e.returnType} {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLComputeCode(e,i){return`${this.getSignature()}
// directives
${e.directives}

// system
var<private> instanceIndex : u32;

// locals
${e.scopedArrays}

// uniforms
${e.uniforms}

// codes
${e.codes}

@compute @workgroup_size( ${i} )
fn main( ${e.attributes} ) {

	// system
	instanceIndex = id.x + id.y * numWorkgroups.x * u32(${i}) + id.z * numWorkgroups.x * numWorkgroups.y * u32(${i});

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLStruct(e,i){return`
struct ${e} {
${i}
};`}_getWGSLStructBinding(e,i,r,o=0,s=0){const a=e+"Struct";return`${this._getWGSLStruct(a,i)}
@binding( ${o} ) @group( ${s} )
var<${r}> ${e} : ${a};`}}class j6e{constructor(e){this.backend=e}getCurrentDepthStencilFormat(e){let i;return e.depthTexture!==null?i=this.getTextureFormatGPU(e.depthTexture):e.depth&&e.stencil?i=Me.Depth24PlusStencil8:e.depth&&(i=Me.Depth24Plus),i}getTextureFormatGPU(e){return this.backend.get(e).format}getTextureSampleData(e){let i;if(e.isFramebufferTexture)i=1;else if(e.isDepthTexture&&!e.renderTarget){const s=this.backend.renderer,a=s.getRenderTarget();i=a?a.samples:s.samples}else e.renderTarget&&(i=e.renderTarget.samples);i=i||1;const r=i>1&&e.renderTarget!==null&&e.isDepthTexture!==!0&&e.isFramebufferTexture!==!0;return{samples:i,primarySamples:r?1:i,isMSAA:r}}getCurrentColorFormat(e){let i;return e.textures!==null?i=this.getTextureFormatGPU(e.textures[0]):i=this.getPreferredCanvasFormat(),i}getCurrentColorSpace(e){return e.textures!==null?e.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(e,i){if(e.isPoints)return mp.PointList;if(e.isLineSegments||e.isMesh&&i.wireframe===!0)return mp.LineList;if(e.isLine)return mp.LineStrip;if(e.isMesh)return mp.TriangleList}getSampleCount(e){let i=1;return e>1&&(i=Math.pow(2,Math.floor(Math.log2(e))),i===2&&(i=4)),i}getSampleCountRenderContext(e){return e.textures!==null?this.getSampleCount(e.sampleCount):this.getSampleCount(this.backend.renderer.samples)}getPreferredCanvasFormat(){return navigator.userAgent.includes("Quest")?Me.BGRA8Unorm:navigator.gpu.getPreferredCanvasFormat()}}const K6e=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]),X6e=new Map([[R9,["float16"]]]),q6e=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class Y6e{constructor(e){this.backend=e}createAttribute(e,i){const r=this._getBufferAttribute(e),o=this.backend,s=o.get(r);let a=s.buffer;if(a===void 0){const l=o.device;let u=r.array;if(e.normalized===!1&&(u.constructor===Int16Array||u.constructor===Uint16Array)){const d=new Uint32Array(u.length);for(let f=0;f<u.length;f++)d[f]=u[f];u=d}if(r.array=u,(r.isStorageBufferAttribute||r.isStorageInstancedBufferAttribute)&&r.itemSize===3){u=new u.constructor(r.count*4);for(let d=0;d<r.count;d++)u.set(r.array.subarray(d*3,d*3+3),d*4);r.itemSize=4,r.array=u}const c=u.byteLength+(4-u.byteLength%4)%4;a=l.createBuffer({label:r.name,size:c,usage:i,mappedAtCreation:!0}),new u.constructor(a.getMappedRange()).set(u),a.unmap(),s.buffer=a}}updateAttribute(e){const i=this._getBufferAttribute(e),r=this.backend,o=r.device,s=r.get(i).buffer,a=i.array,l=this._isTypedArray(a),u=i.updateRanges;if(u.length===0)o.queue.writeBuffer(s,0,a,0);else{const c=l?1:a.BYTES_PER_ELEMENT;for(let d=0,f=u.length;d<f;d++){const h=u[d],p=h.start*c,v=h.count*c;o.queue.writeBuffer(s,0,a,p,v)}i.clearUpdateRanges()}}createShaderVertexBuffers(e){const i=e.getAttributes(),r=new Map;for(let o=0;o<i.length;o++){const s=i[o],a=s.array.BYTES_PER_ELEMENT,l=this._getBufferAttribute(s);let u=r.get(l);if(u===void 0){let f,h;s.isInterleavedBufferAttribute===!0?(f=s.data.stride*a,h=s.data.isInstancedInterleavedBuffer?_x.Instance:_x.Vertex):(f=s.itemSize*a,h=s.isInstancedBufferAttribute?_x.Instance:_x.Vertex),s.normalized===!1&&(s.array.constructor===Int16Array||s.array.constructor===Uint16Array)&&(f=4),u={arrayStride:f,attributes:[],stepMode:h},r.set(l,u)}const c=this._getVertexFormat(s),d=s.isInterleavedBufferAttribute===!0?s.offset*a:0;u.attributes.push({shaderLocation:o,offset:d,format:c})}return Array.from(r.values())}destroyAttribute(e){const i=this.backend;i.get(this._getBufferAttribute(e)).buffer.destroy(),i.delete(e)}async getArrayBufferAsync(e){const i=this.backend,r=i.device,s=i.get(this._getBufferAttribute(e)).buffer,a=s.size,l=r.createBuffer({label:`${e.name}_readback`,size:a,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),u=r.createCommandEncoder({label:`readback_encoder_${e.name}`});u.copyBufferToBuffer(s,0,l,0,a);const c=u.finish();r.queue.submit([c]),await l.mapAsync(GPUMapMode.READ);const d=l.getMappedRange(),f=new e.array.constructor(d.slice(0));return l.unmap(),f.buffer}_getVertexFormat(e){const{itemSize:i,normalized:r}=e,o=e.array.constructor,s=e.constructor;let a;if(i===1)a=q6e.get(o);else{const u=(X6e.get(s)||K6e.get(o))[r?1:0];if(u){const c=o.BYTES_PER_ELEMENT*i,f=Math.floor((c+3)/4)*4/o.BYTES_PER_ELEMENT;if(f%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");a=`${u}x${f}`}}return a||console.error("THREE.WebGPUAttributeUtils: Vertex format not supported yet."),a}_isTypedArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}class Q6e{constructor(e){this.backend=e,this.bindGroupLayoutCache=new WeakMap}createBindingsLayout(e){const i=this.backend,r=i.device,o=[];let s=0;for(const a of e.bindings){const l={binding:s++,visibility:a.visibility};if(a.isUniformBuffer||a.isStorageBuffer){const u={};a.isStorageBuffer&&(a.visibility&4&&(a.access===Eu.READ_WRITE||a.access===Eu.WRITE_ONLY)?u.type=lE.Storage:u.type=lE.ReadOnlyStorage),l.buffer=u}else if(a.isSampler){const u={};a.texture.isDepthTexture&&a.texture.compareFunction!==null&&(u.type="comparison"),l.sampler=u}else if(a.isSampledTexture&&a.texture.isVideoTexture)l.externalTexture={};else if(a.isSampledTexture&&a.store){const u={};u.format=this.backend.get(a.texture).texture.format;const c=a.access;c===Eu.READ_WRITE?u.access=uE.ReadWrite:c===Eu.WRITE_ONLY?u.access=uE.WriteOnly:u.access=uE.ReadOnly,l.storageTexture=u}else if(a.isSampledTexture){const u={},{primarySamples:c}=i.utils.getTextureSampleData(a.texture);if(c>1&&(u.multisampled=!0,a.texture.isDepthTexture||(u.sampleType=Jh.UnfilterableFloat)),a.texture.isDepthTexture)u.sampleType=Jh.Depth;else if(a.texture.isDataTexture||a.texture.isDataArrayTexture||a.texture.isData3DTexture){const d=a.texture.type;d===Nr?u.sampleType=Jh.SInt:d===Ui?u.sampleType=Jh.UInt:d===er&&(this.backend.hasFeature("float32-filterable")?u.sampleType=Jh.Float:u.sampleType=Jh.UnfilterableFloat)}a.isSampledCubeTexture?u.viewDimension=Go.Cube:a.texture.isDataArrayTexture||a.texture.isCompressedArrayTexture?u.viewDimension=Go.TwoDArray:a.isSampledTexture3D&&(u.viewDimension=Go.ThreeD),l.texture=u}else console.error(`WebGPUBindingUtils: Unsupported binding "${a}".`);o.push(l)}return r.createBindGroupLayout({entries:o})}createBindings(e,i,r,o=0){const{backend:s,bindGroupLayoutCache:a}=this,l=s.get(e);let u=a.get(e.bindingsReference);u===void 0&&(u=this.createBindingsLayout(e),a.set(e.bindingsReference,u));let c;r>0&&(l.groups===void 0&&(l.groups=[],l.versions=[]),l.versions[r]===o&&(c=l.groups[r])),c===void 0&&(c=this.createBindGroup(e,u),r>0&&(l.groups[r]=c,l.versions[r]=o)),l.group=c,l.layout=u}updateBinding(e){const i=this.backend,r=i.device,o=e.buffer,s=i.get(e).buffer;r.queue.writeBuffer(s,0,o,0)}createBindGroup(e,i){const r=this.backend,o=r.device;let s=0;const a=[];for(const l of e.bindings){if(l.isUniformBuffer){const u=r.get(l);if(u.buffer===void 0){const c=l.byteLength,d=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,f=o.createBuffer({label:"bindingBuffer_"+l.name,size:c,usage:d});u.buffer=f}a.push({binding:s,resource:{buffer:u.buffer}})}else if(l.isStorageBuffer){const u=r.get(l);if(u.buffer===void 0){const c=l.attribute;u.buffer=r.get(c).buffer}a.push({binding:s,resource:{buffer:u.buffer}})}else if(l.isSampler){const u=r.get(l.texture);a.push({binding:s,resource:u.sampler})}else if(l.isSampledTexture){const u=r.get(l.texture);let c;if(u.externalTexture!==void 0)c=o.importExternalTexture({source:u.externalTexture});else{const d=l.store?1:u.texture.mipLevelCount,f=`view-${u.texture.width}-${u.texture.height}-${d}`;if(c=u[f],c===void 0){const h=E6e.All;let p;l.isSampledCubeTexture?p=Go.Cube:l.isSampledTexture3D?p=Go.ThreeD:l.texture.isDataArrayTexture||l.texture.isCompressedArrayTexture?p=Go.TwoDArray:p=Go.TwoD,c=u[f]=u.texture.createView({aspect:h,dimension:p,mipLevelCount:d})}}a.push({binding:s,resource:c})}s++}return o.createBindGroup({label:"bindGroup_"+e.name,layout:i,entries:a})}}class Z6e{constructor(e){this.backend=e}_getSampleCount(e){return this.backend.utils.getSampleCountRenderContext(e)}createRenderPipeline(e,i){const{object:r,material:o,geometry:s,pipeline:a}=e,{vertexProgram:l,fragmentProgram:u}=a,c=this.backend,d=c.device,f=c.utils,h=c.get(a),p=[];for(const $ of e.getBindings()){const L=c.get($);p.push(L.layout)}const v=c.attributeUtils.createShaderVertexBuffers(e);let b;o.transparent===!0&&o.blending!==Jo&&(b=this._getBlending(o));let y={};o.stencilWrite===!0&&(y={compare:this._getStencilCompare(o),failOp:this._getStencilOperation(o.stencilFail),depthFailOp:this._getStencilOperation(o.stencilZFail),passOp:this._getStencilOperation(o.stencilZPass)});const m=this._getColorWriteMask(o),_=[];if(e.context.textures!==null){const $=e.context.textures;for(let L=0;L<$.length;L++){const F=f.getTextureFormatGPU($[L]);_.push({format:F,blend:b,writeMask:m})}}else{const $=f.getCurrentColorFormat(e.context);_.push({format:$,blend:b,writeMask:m})}const S=c.get(l).module,w=c.get(u).module,T=this._getPrimitiveState(r,s,o),A=this._getDepthCompare(o),C=f.getCurrentDepthStencilFormat(e.context),R=this._getSampleCount(e.context),E={label:`renderPipeline_${o.name||o.type}_${o.id}`,vertex:Object.assign({},S,{buffers:v}),fragment:Object.assign({},w,{targets:_}),primitive:T,multisample:{count:R,alphaToCoverageEnabled:o.alphaToCoverage&&R>1},layout:d.createPipelineLayout({bindGroupLayouts:p})},P={},N=e.context.depth,D=e.context.stencil;if((N===!0||D===!0)&&(N===!0&&(P.format=C,P.depthWriteEnabled=o.depthWrite,P.depthCompare=A),D===!0&&(P.stencilFront=y,P.stencilBack={},P.stencilReadMask=o.stencilFuncMask,P.stencilWriteMask=o.stencilWriteMask),E.depthStencil=P),i===null)h.pipeline=d.createRenderPipeline(E);else{const $=new Promise(L=>{d.createRenderPipelineAsync(E).then(F=>{h.pipeline=F,L()})});i.push($)}}createBundleEncoder(e){const i=this.backend,{utils:r,device:o}=i,s=r.getCurrentDepthStencilFormat(e),a=r.getCurrentColorFormat(e),l=this._getSampleCount(e),u={label:"renderBundleEncoder",colorFormats:[a],depthStencilFormat:s,sampleCount:l};return o.createRenderBundleEncoder(u)}createComputePipeline(e,i){const r=this.backend,o=r.device,s=r.get(e.computeProgram).module,a=r.get(e),l=[];for(const u of i){const c=r.get(u);l.push(c.layout)}a.pipeline=o.createComputePipeline({compute:s,layout:o.createPipelineLayout({bindGroupLayouts:l})})}_getBlending(e){let i,r;const o=e.blending,s=e.blendSrc,a=e.blendDst,l=e.blendEquation;if(o===_I){const u=e.blendSrcAlpha!==null?e.blendSrcAlpha:s,c=e.blendDstAlpha!==null?e.blendDstAlpha:a,d=e.blendEquationAlpha!==null?e.blendEquationAlpha:l;i={srcFactor:this._getBlendFactor(s),dstFactor:this._getBlendFactor(a),operation:this._getBlendOperation(l)},r={srcFactor:this._getBlendFactor(u),dstFactor:this._getBlendFactor(c),operation:this._getBlendOperation(d)}}else{const u=e.premultipliedAlpha,c=(d,f,h,p)=>{i={srcFactor:d,dstFactor:f,operation:Hd.Add},r={srcFactor:h,dstFactor:p,operation:Hd.Add}};if(u)switch(o){case ra:c(Yt.One,Yt.OneMinusSrcAlpha,Yt.One,Yt.OneMinusSrcAlpha);break;case tg:c(Yt.One,Yt.One,Yt.One,Yt.One);break;case ng:c(Yt.Zero,Yt.OneMinusSrc,Yt.Zero,Yt.One);break;case ig:c(Yt.Zero,Yt.Src,Yt.Zero,Yt.SrcAlpha);break}else switch(o){case ra:c(Yt.SrcAlpha,Yt.OneMinusSrcAlpha,Yt.One,Yt.OneMinusSrcAlpha);break;case tg:c(Yt.SrcAlpha,Yt.One,Yt.SrcAlpha,Yt.One);break;case ng:c(Yt.Zero,Yt.OneMinusSrc,Yt.Zero,Yt.One);break;case ig:c(Yt.Zero,Yt.Src,Yt.Zero,Yt.Src);break}}if(i!==void 0&&r!==void 0)return{color:i,alpha:r};console.error("THREE.WebGPURenderer: Invalid blending: ",o)}_getBlendFactor(e){let i;switch(e){case CI:i=Yt.Zero;break;case TI:i=Yt.One;break;case AI:i=Yt.Src;break;case EI:i=Yt.OneMinusSrc;break;case ty:i=Yt.SrcAlpha;break;case ny:i=Yt.OneMinusSrcAlpha;break;case PI:i=Yt.Dst;break;case II:i=Yt.OneMinusDstColor;break;case MI:i=Yt.DstAlpha;break;case RI:i=Yt.OneMinusDstAlpha;break;case NI:i=Yt.SrcAlphaSaturated;break;case qke:i=Yt.Constant;break;case Yke:i=Yt.OneMinusConstant;break;default:console.error("THREE.WebGPURenderer: Blend factor not supported.",e)}return i}_getStencilCompare(e){let i;const r=e.stencilFunc;switch(r){case iPe:i=kr.Never;break;case v2:i=kr.Always;break;case rPe:i=kr.Less;break;case sPe:i=kr.LessEqual;break;case oPe:i=kr.Equal;break;case uPe:i=kr.GreaterEqual;break;case aPe:i=kr.Greater;break;case lPe:i=kr.NotEqual;break;default:console.error("THREE.WebGPURenderer: Invalid stencil function.",r)}return i}_getStencilOperation(e){let i;switch(e){case jd:i=Rc.Keep;break;case YRe:i=Rc.Zero;break;case QRe:i=Rc.Replace;break;case nPe:i=Rc.Invert;break;case ZRe:i=Rc.IncrementClamp;break;case JRe:i=Rc.DecrementClamp;break;case ePe:i=Rc.IncrementWrap;break;case tPe:i=Rc.DecrementWrap;break;default:console.error("THREE.WebGPURenderer: Invalid stencil operation.",i)}return i}_getBlendOperation(e){let i;switch(e){case Cs:i=Hd.Add;break;case SI:i=Hd.Subtract;break;case wI:i=Hd.ReverseSubtract;break;case p9:i=Hd.Min;break;case g9:i=Hd.Max;break;default:console.error("THREE.WebGPUPipelineUtils: Blend equation not supported.",e)}return i}_getPrimitiveState(e,i,r){const o={},s=this.backend.utils;switch(o.topology=s.getPrimitiveTopology(e,r),i.index!==null&&e.isLine===!0&&e.isLineSegments!==!0&&(o.stripIndexFormat=i.index.array instanceof Uint16Array?Tg.Uint16:Tg.Uint32),r.side){case Ua:o.frontFace=oE.CCW,o.cullMode=sE.Back;break;case Ni:o.frontFace=oE.CCW,o.cullMode=sE.Front;break;case Ao:o.frontFace=oE.CCW,o.cullMode=sE.None;break;default:console.error("THREE.WebGPUPipelineUtils: Unknown material.side value.",r.side);break}return o}_getColorWriteMask(e){return e.colorWrite===!0?$z.All:$z.None}_getDepthCompare(e){let i;if(e.depthTest===!1)i=kr.Always;else{const r=e.depthFunc;switch(r){case iy:i=kr.Never;break;case ry:i=kr.Always;break;case oy:i=kr.Less;break;case nd:i=kr.LessEqual;break;case sy:i=kr.Equal;break;case ay:i=kr.GreaterEqual;break;case ly:i=kr.Greater;break;case uy:i=kr.NotEqual;break;default:console.error("THREE.WebGPUPipelineUtils: Invalid depth function.",r)}}return i}}class J6e extends Yj{constructor(e={}){super(e),this.isWebGPUBackend=!0,this.parameters.alpha=e.alpha===void 0?!0:e.alpha,this.parameters.requiredLimits=e.requiredLimits===void 0?{}:e.requiredLimits,this.trackTimestamp=e.trackTimestamp===!0,this.device=null,this.context=null,this.colorBuffer=null,this.defaultRenderPassdescriptor=null,this.utils=new j6e(this),this.attributeUtils=new Y6e(this),this.bindingUtils=new Q6e(this),this.pipelineUtils=new Z6e(this),this.textureUtils=new B6e(this),this.occludedResolveCache=new Map}async init(e){await super.init(e);const i=this.parameters;let r;if(i.device===void 0){const a={powerPreference:i.powerPreference},l=typeof navigator<"u"?await navigator.gpu.requestAdapter(a):null;if(l===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const u=Object.values(U2),c=[];for(const f of u)l.features.has(f)&&c.push(f);const d={requiredFeatures:c,requiredLimits:i.requiredLimits};r=await l.requestDevice(d)}else r=i.device;r.lost.then(a=>{const l={api:"WebGPU",message:a.message||"Unknown reason",reason:a.reason||null,originalEvent:a};e.onDeviceLost(l)});const o=i.context!==void 0?i.context:e.domElement.getContext("webgpu");this.device=r,this.context=o;const s=i.alpha?"premultiplied":"opaque";this.trackTimestamp=this.trackTimestamp&&this.hasFeature(U2.TimestampQuery),this.context.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:s}),this.updateSize()}get coordinateSystem(){return od}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){let e=this.defaultRenderPassdescriptor;if(e===null){const r=this.renderer;e={colorAttachments:[{view:null}]},(this.renderer.depth===!0||this.renderer.stencil===!0)&&(e.depthStencilAttachment={view:this.textureUtils.getDepthBuffer(r.depth,r.stencil).createView()});const o=e.colorAttachments[0];this.renderer.samples>0?o.view=this.colorBuffer.createView():o.resolveTarget=void 0,this.defaultRenderPassdescriptor=e}const i=e.colorAttachments[0];return this.renderer.samples>0?i.resolveTarget=this.context.getCurrentTexture().createView():i.view=this.context.getCurrentTexture().createView(),e}_getRenderPassDescriptor(e,i={}){const r=e.renderTarget,o=this.get(r);let s=o.descriptors;if(s===void 0||o.width!==r.width||o.height!==r.height||o.dimensions!==r.dimensions||o.activeMipmapLevel!==r.activeMipmapLevel||o.activeCubeFace!==e.activeCubeFace||o.samples!==r.samples||o.loadOp!==i.loadOp){s={},o.descriptors=s;const u=()=>{r.removeEventListener("dispose",u),this.delete(r)};r.addEventListener("dispose",u)}const a=e.getCacheKey();let l=s[a];if(l===void 0){const u=e.textures,c=[];let d;for(let f=0;f<u.length;f++){const h=this.get(u[f]),p={label:`colorAttachment_${f}`,baseMipLevel:e.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:e.activeCubeFace,arrayLayerCount:1,dimension:Go.TwoD};r.isRenderTarget3D?(d=e.activeCubeFace,p.baseArrayLayer=0,p.dimension=Go.ThreeD,p.depthOrArrayLayers=u[f].image.depth):r.isRenderTargetArray&&(p.dimension=Go.TwoDArray,p.depthOrArrayLayers=u[f].image.depth);const v=h.texture.createView(p);let b,y;h.msaaTexture!==void 0?(b=h.msaaTexture.createView(),y=v):(b=v,y=void 0),c.push({view:b,depthSlice:d,resolveTarget:y,loadOp:Zi.Load,storeOp:to.Store,...i})}if(l={colorAttachments:c},e.depth){const h={view:this.get(e.depthTexture).texture.createView()};l.depthStencilAttachment=h}s[a]=l,o.width=r.width,o.height=r.height,o.samples=r.samples,o.activeMipmapLevel=e.activeMipmapLevel,o.activeCubeFace=e.activeCubeFace,o.dimensions=r.dimensions,o.depthSlice=d,o.loadOp=c[0].loadOp}return l}beginRender(e){const i=this.get(e),r=this.device,o=e.occlusionQueryCount;let s;o>0&&(i.currentOcclusionQuerySet&&i.currentOcclusionQuerySet.destroy(),i.currentOcclusionQueryBuffer&&i.currentOcclusionQueryBuffer.destroy(),i.currentOcclusionQuerySet=i.occlusionQuerySet,i.currentOcclusionQueryBuffer=i.occlusionQueryBuffer,i.currentOcclusionQueryObjects=i.occlusionQueryObjects,s=r.createQuerySet({type:"occlusion",count:o,label:`occlusionQuerySet_${e.id}`}),i.occlusionQuerySet=s,i.occlusionQueryIndex=0,i.occlusionQueryObjects=new Array(o),i.lastOcclusionObject=null);let a;e.textures===null?a=this._getDefaultRenderPassDescriptor():a=this._getRenderPassDescriptor(e,{loadOp:Zi.Load}),this.initTimestampQuery(e,a),a.occlusionQuerySet=s;const l=a.depthStencilAttachment;if(e.textures!==null){const d=a.colorAttachments;for(let f=0;f<d.length;f++){const h=d[f];e.clearColor?(h.clearValue=f===0?e.clearColorValue:{r:0,g:0,b:0,a:1},h.loadOp=Zi.Clear,h.storeOp=to.Store):(h.loadOp=Zi.Load,h.storeOp=to.Store)}}else{const d=a.colorAttachments[0];e.clearColor?(d.clearValue=e.clearColorValue,d.loadOp=Zi.Clear,d.storeOp=to.Store):(d.loadOp=Zi.Load,d.storeOp=to.Store)}e.depth&&(e.clearDepth?(l.depthClearValue=e.clearDepthValue,l.depthLoadOp=Zi.Clear,l.depthStoreOp=to.Store):(l.depthLoadOp=Zi.Load,l.depthStoreOp=to.Store)),e.stencil&&(e.clearStencil?(l.stencilClearValue=e.clearStencilValue,l.stencilLoadOp=Zi.Clear,l.stencilStoreOp=to.Store):(l.stencilLoadOp=Zi.Load,l.stencilStoreOp=to.Store));const u=r.createCommandEncoder({label:"renderContext_"+e.id}),c=u.beginRenderPass(a);if(i.descriptor=a,i.encoder=u,i.currentPass=c,i.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},i.renderBundles=[],e.viewport&&this.updateViewport(e),e.scissor){const{x:d,y:f,width:h,height:p}=e.scissorValue;c.setScissorRect(d,f,h,p)}}finishRender(e){const i=this.get(e),r=e.occlusionQueryCount;if(i.renderBundles.length>0&&i.currentPass.executeBundles(i.renderBundles),r>i.occlusionQueryIndex&&i.currentPass.endOcclusionQuery(),i.currentPass.end(),r>0){const o=r*8;let s=this.occludedResolveCache.get(o);s===void 0&&(s=this.device.createBuffer({size:o,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(o,s));const a=this.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});i.encoder.resolveQuerySet(i.occlusionQuerySet,0,r,s,0),i.encoder.copyBufferToBuffer(s,0,a,0,o),i.occlusionQueryBuffer=a,this.resolveOccludedAsync(e)}if(this.prepareTimestampBuffer(e,i.encoder),this.device.queue.submit([i.encoder.finish()]),e.textures!==null){const o=e.textures;for(let s=0;s<o.length;s++){const a=o[s];a.generateMipmaps===!0&&this.textureUtils.generateMipmaps(a)}}}isOccluded(e,i){const r=this.get(e);return r.occluded&&r.occluded.has(i)}async resolveOccludedAsync(e){const i=this.get(e),{currentOcclusionQueryBuffer:r,currentOcclusionQueryObjects:o}=i;if(r&&o){const s=new WeakSet;i.currentOcclusionQueryObjects=null,i.currentOcclusionQueryBuffer=null,await r.mapAsync(GPUMapMode.READ);const a=r.getMappedRange(),l=new BigUint64Array(a);for(let u=0;u<o.length;u++)l[u]!==BigInt(0)&&s.add(o[u]);r.destroy(),i.occluded=s}}updateViewport(e){const{currentPass:i}=this.get(e),{x:r,y:o,width:s,height:a,minDepth:l,maxDepth:u}=e.viewportValue;i.setViewport(r,o,s,a,l,u)}clear(e,i,r,o=null){const s=this.device,a=this.renderer;let l=[],u,c,d,f;if(e){const v=this.getClearColor();if(this.renderer.alpha===!0){const b=v.a;c={r:v.r*b,g:v.g*b,b:v.b*b,a:b}}else c={r:v.r,g:v.g,b:v.b,a:v.a}}if(o===null){d=a.depth,f=a.stencil;const v=this._getDefaultRenderPassDescriptor();if(e){l=v.colorAttachments;const b=l[0];b.clearValue=c,b.loadOp=Zi.Clear,b.storeOp=to.Store}(d||f)&&(u=v.depthStencilAttachment)}else d=o.depth,f=o.stencil,e&&(l=this._getRenderPassDescriptor(o,{loadOp:Zi.Clear}).colorAttachments),(d||f)&&(u={view:this.get(o.depthTexture).texture.createView()});d&&(i?(u.depthLoadOp=Zi.Clear,u.depthClearValue=a.getClearDepth(),u.depthStoreOp=to.Store):(u.depthLoadOp=Zi.Load,u.depthStoreOp=to.Store)),f&&(r?(u.stencilLoadOp=Zi.Clear,u.stencilClearValue=a.getClearStencil(),u.stencilStoreOp=to.Store):(u.stencilLoadOp=Zi.Load,u.stencilStoreOp=to.Store));const h=s.createCommandEncoder({});h.beginRenderPass({colorAttachments:l,depthStencilAttachment:u}).end(),s.queue.submit([h.finish()])}beginCompute(e){const i=this.get(e),r={};this.initTimestampQuery(e,r),i.cmdEncoderGPU=this.device.createCommandEncoder(),i.passEncoderGPU=i.cmdEncoderGPU.beginComputePass(r)}compute(e,i,r,o){const{passEncoderGPU:s}=this.get(e),a=this.get(o).pipeline;s.setPipeline(a);for(let d=0,f=r.length;d<f;d++){const h=r[d],p=this.get(h);s.setBindGroup(d,p.group)}const l=this.device.limits.maxComputeWorkgroupsPerDimension,u=this.get(i);u.dispatchSize===void 0&&(u.dispatchSize={x:0,y:1,z:1});const{dispatchSize:c}=u;i.dispatchCount>l?(c.x=Math.min(i.dispatchCount,l),c.y=Math.ceil(i.dispatchCount/l)):c.x=i.dispatchCount,s.dispatchWorkgroups(c.x,c.y,c.z)}finishCompute(e){const i=this.get(e);i.passEncoderGPU.end(),this.prepareTimestampBuffer(e,i.cmdEncoderGPU),this.device.queue.submit([i.cmdEncoderGPU.finish()])}async waitForGPU(){await this.device.queue.onSubmittedWorkDone()}draw(e,i){const{object:r,context:o,pipeline:s}=e,a=e.getBindings(),l=this.get(o),u=this.get(s).pipeline,c=l.currentSets,d=l.currentPass,f=e.getDrawParameters();if(f===null)return;c.pipeline!==u&&(d.setPipeline(u),c.pipeline=u);const h=c.bindingGroups;for(let y=0,m=a.length;y<m;y++){const _=a[y],S=this.get(_);h[_.index]!==_.id&&(d.setBindGroup(_.index,S.group),h[_.index]=_.id)}const p=e.getIndex(),v=p!==null;if(v===!0&&c.index!==p){const y=this.get(p).buffer,m=p.array instanceof Uint16Array?Tg.Uint16:Tg.Uint32;d.setIndexBuffer(y,m),c.index=p}const b=e.getVertexBuffers();for(let y=0,m=b.length;y<m;y++){const _=b[y];if(c.attributes[y]!==_){const S=this.get(_).buffer;d.setVertexBuffer(y,S),c.attributes[y]=_}}if(l.occlusionQuerySet!==void 0){const y=l.lastOcclusionObject;y!==r&&(y!==null&&y.occlusionTest===!0&&(d.endOcclusionQuery(),l.occlusionQueryIndex++),r.occlusionTest===!0&&(d.beginOcclusionQuery(l.occlusionQueryIndex),l.occlusionQueryObjects[l.occlusionQueryIndex]=r),l.lastOcclusionObject=r)}if(r.isBatchedMesh===!0){const y=r._multiDrawStarts,m=r._multiDrawCounts,_=r._multiDrawCount,S=r._multiDrawInstances;for(let w=0;w<_;w++){const T=S?S[w]:1,A=T>1?0:w;v===!0?d.drawIndexed(m[w],T,y[w]/p.array.BYTES_PER_ELEMENT,0,A):d.draw(m[w],T,y[w],A)}}else if(v===!0){const{vertexCount:y,instanceCount:m,firstVertex:_}=f,S=e.getIndirect();if(S!==null){const w=this.get(S).buffer;d.drawIndexedIndirect(w,0)}else d.drawIndexed(y,m,_,0,0);i.update(r,y,m)}else{const{vertexCount:y,instanceCount:m,firstVertex:_}=f,S=e.getIndirect();if(S!==null){const w=this.get(S).buffer;d.drawIndirect(w,0)}else d.draw(y,m,_,0);i.update(r,y,m)}}needsRenderUpdate(e){const i=this.get(e),{object:r,material:o}=e,s=this.utils,a=s.getSampleCountRenderContext(e.context),l=s.getCurrentColorSpace(e.context),u=s.getCurrentColorFormat(e.context),c=s.getCurrentDepthStencilFormat(e.context),d=s.getPrimitiveTopology(r,o);let f=!1;return(i.material!==o||i.materialVersion!==o.version||i.transparent!==o.transparent||i.blending!==o.blending||i.premultipliedAlpha!==o.premultipliedAlpha||i.blendSrc!==o.blendSrc||i.blendDst!==o.blendDst||i.blendEquation!==o.blendEquation||i.blendSrcAlpha!==o.blendSrcAlpha||i.blendDstAlpha!==o.blendDstAlpha||i.blendEquationAlpha!==o.blendEquationAlpha||i.colorWrite!==o.colorWrite||i.depthWrite!==o.depthWrite||i.depthTest!==o.depthTest||i.depthFunc!==o.depthFunc||i.stencilWrite!==o.stencilWrite||i.stencilFunc!==o.stencilFunc||i.stencilFail!==o.stencilFail||i.stencilZFail!==o.stencilZFail||i.stencilZPass!==o.stencilZPass||i.stencilFuncMask!==o.stencilFuncMask||i.stencilWriteMask!==o.stencilWriteMask||i.side!==o.side||i.alphaToCoverage!==o.alphaToCoverage||i.sampleCount!==a||i.colorSpace!==l||i.colorFormat!==u||i.depthStencilFormat!==c||i.primitiveTopology!==d||i.clippingContextCacheKey!==e.clippingContextCacheKey)&&(i.material=o,i.materialVersion=o.version,i.transparent=o.transparent,i.blending=o.blending,i.premultipliedAlpha=o.premultipliedAlpha,i.blendSrc=o.blendSrc,i.blendDst=o.blendDst,i.blendEquation=o.blendEquation,i.blendSrcAlpha=o.blendSrcAlpha,i.blendDstAlpha=o.blendDstAlpha,i.blendEquationAlpha=o.blendEquationAlpha,i.colorWrite=o.colorWrite,i.depthWrite=o.depthWrite,i.depthTest=o.depthTest,i.depthFunc=o.depthFunc,i.stencilWrite=o.stencilWrite,i.stencilFunc=o.stencilFunc,i.stencilFail=o.stencilFail,i.stencilZFail=o.stencilZFail,i.stencilZPass=o.stencilZPass,i.stencilFuncMask=o.stencilFuncMask,i.stencilWriteMask=o.stencilWriteMask,i.side=o.side,i.alphaToCoverage=o.alphaToCoverage,i.sampleCount=a,i.colorSpace=l,i.colorFormat=u,i.depthStencilFormat=c,i.primitiveTopology=d,i.clippingContextCacheKey=e.clippingContextCacheKey,f=!0),f}getRenderCacheKey(e){const{object:i,material:r}=e,o=this.utils,s=e.context;return[r.transparent,r.blending,r.premultipliedAlpha,r.blendSrc,r.blendDst,r.blendEquation,r.blendSrcAlpha,r.blendDstAlpha,r.blendEquationAlpha,r.colorWrite,r.depthWrite,r.depthTest,r.depthFunc,r.stencilWrite,r.stencilFunc,r.stencilFail,r.stencilZFail,r.stencilZPass,r.stencilFuncMask,r.stencilWriteMask,r.side,o.getSampleCountRenderContext(s),o.getCurrentColorSpace(s),o.getCurrentColorFormat(s),o.getCurrentDepthStencilFormat(s),o.getPrimitiveTopology(i,r),e.getGeometryCacheKey(),e.clippingContextCacheKey].join()}createSampler(e){this.textureUtils.createSampler(e)}destroySampler(e){this.textureUtils.destroySampler(e)}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,i){this.textureUtils.createTexture(e,i)}updateTexture(e,i){this.textureUtils.updateTexture(e,i)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}copyTextureToBuffer(e,i,r,o,s,a){return this.textureUtils.copyTextureToBuffer(e,i,r,o,s,a)}initTimestampQuery(e,i){if(!this.trackTimestamp)return;const r=this.get(e);if(!r.timeStampQuerySet){const o=e.isComputeNode?"compute":"render",s=this.device.createQuerySet({type:"timestamp",count:2,label:`timestamp_${o}_${e.id}`});Object.assign(i,{timestampWrites:{querySet:s,beginningOfPassWriteIndex:0,endOfPassWriteIndex:1}}),r.timeStampQuerySet=s}}prepareTimestampBuffer(e,i){if(!this.trackTimestamp)return;const r=this.get(e),o=2*BigInt64Array.BYTES_PER_ELEMENT;r.currentTimestampQueryBuffers===void 0&&(r.currentTimestampQueryBuffers={resolveBuffer:this.device.createBuffer({label:"timestamp resolve buffer",size:o,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),resultBuffer:this.device.createBuffer({label:"timestamp result buffer",size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})});const{resolveBuffer:s,resultBuffer:a}=r.currentTimestampQueryBuffers;i.resolveQuerySet(r.timeStampQuerySet,0,2,s,0),a.mapState==="unmapped"&&i.copyBufferToBuffer(s,0,a,0,o)}async resolveTimestampAsync(e,i="render"){if(!this.trackTimestamp)return;const r=this.get(e);if(r.currentTimestampQueryBuffers===void 0)return;const{resultBuffer:o}=r.currentTimestampQueryBuffers;o.mapState==="unmapped"&&o.mapAsync(GPUMapMode.READ).then(()=>{const s=new BigUint64Array(o.getMappedRange()),a=Number(s[1]-s[0])/1e6;this.renderer.info.updateTimestamp(i,a),o.unmap()})}createNodeBuilder(e,i){return new W6e(e,i)}createProgram(e){const i=this.get(e);i.module={module:this.device.createShaderModule({code:e.code,label:e.stage+(e.name!==""?`_${e.name}`:"")}),entryPoint:"main"}}destroyProgram(e){this.delete(e)}createRenderPipeline(e,i){this.pipelineUtils.createRenderPipeline(e,i)}createComputePipeline(e,i){this.pipelineUtils.createComputePipeline(e,i)}beginBundle(e){const i=this.get(e);i._currentPass=i.currentPass,i._currentSets=i.currentSets,i.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},i.currentPass=this.pipelineUtils.createBundleEncoder(e)}finishBundle(e,i){const r=this.get(e),s=r.currentPass.finish();this.get(i).bundleGPU=s,r.currentSets=r._currentSets,r.currentPass=r._currentPass}addBundle(e,i){this.get(e).renderBundles.push(this.get(i).bundleGPU)}createBindings(e,i,r,o){this.bindingUtils.createBindings(e,i,r,o)}updateBindings(e,i,r,o){this.bindingUtils.createBindings(e,i,r,o)}updateBinding(e){this.bindingUtils.updateBinding(e)}createIndexAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createIndirectStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.INDIRECT|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}updateSize(){this.colorBuffer=this.textureUtils.getColorBuffer(),this.defaultRenderPassdescriptor=null}getMaxAnisotropy(){return 16}hasFeature(e){return this.device.features.has(e)}copyTextureToTexture(e,i,r=null,o=null,s=0){let a=0,l=0,u=0,c=0,d=0,f=0,h=e.image.width,p=e.image.height;r!==null&&(c=r.x,d=r.y,f=r.z||0,h=r.width,p=r.height),o!==null&&(a=o.x,l=o.y,u=o.z||0);const v=this.device.createCommandEncoder({label:"copyTextureToTexture_"+e.id+"_"+i.id}),b=this.get(e).texture,y=this.get(i).texture;v.copyTextureToTexture({texture:b,mipLevel:s,origin:{x:c,y:d,z:f}},{texture:y,mipLevel:s,origin:{x:a,y:l,z:u}},[h,p,1]),this.device.queue.submit([v.finish()])}copyFramebufferToTexture(e,i,r){const o=this.get(i);let s=null;i.renderTarget?e.isDepthTexture?s=this.get(i.depthTexture).texture:s=this.get(i.textures[0]).texture:e.isDepthTexture?s=this.textureUtils.getDepthBuffer(i.depth,i.stencil):s=this.context.getCurrentTexture();const a=this.get(e).texture;if(s.format!==a.format){console.error("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",s.format,a.format);return}let l;if(o.currentPass?(o.currentPass.end(),l=o.encoder):l=this.device.createCommandEncoder({label:"copyFramebufferToTexture_"+e.id}),l.copyTextureToTexture({texture:s,origin:[r.x,r.y,0]},{texture:a},[r.z,r.w]),e.generateMipmaps&&this.textureUtils.generateMipmaps(e),o.currentPass){const{descriptor:u}=o;for(let c=0;c<u.colorAttachments.length;c++)u.colorAttachments[c].loadOp=Zi.Load;if(i.depth&&(u.depthStencilAttachment.depthLoadOp=Zi.Load),i.stencil&&(u.depthStencilAttachment.stencilLoadOp=Zi.Load),o.currentPass=l.beginRenderPass(u),o.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},i.viewport&&this.updateViewport(i),i.scissor){const{x:c,y:d,width:f,height:h}=i.scissorValue;o.currentPass.setScissorRect(c,d,f,h)}}else this.device.queue.submit([l.finish()])}}class e8e extends k9{constructor(e,i,r,o,s,a){super(e,i,r,o,s,a),this.iesMap=null}copy(e,i){return super.copy(e,i),this.iesMap=e.iesMap,this}}class t8e extends Gj{constructor(){super(),this.addMaterial(k4e,"MeshPhongMaterial"),this.addMaterial(Aj,"MeshStandardMaterial"),this.addMaterial(Ake,"MeshPhysicalMaterial"),this.addMaterial(Pke,"MeshToonMaterial"),this.addMaterial(O4e,"MeshBasicMaterial"),this.addMaterial($4e,"MeshLambertMaterial"),this.addMaterial(E4e,"MeshNormalMaterial"),this.addMaterial(Dke,"MeshMatcapMaterial"),this.addMaterial(S4e,"LineBasicMaterial"),this.addMaterial(C4e,"LineDashedMaterial"),this.addMaterial(Bke,"PointsMaterial"),this.addMaterial(kke,"SpriteMaterial"),this.addMaterial(Gke,"ShadowMaterial"),this.addLight(p5e,DIe),this.addLight(V5e,z9),this.addLight(W5e,BIe),this.addLight(zj,k9),this.addLight(K5e,H9),this.addLight(X5e,IIe),this.addLight(q5e,$Ie),this.addLight(j5e,e8e),this.addToneMapping(wze,y9),this.addToneMapping(Cze,b9),this.addToneMapping(Tze,x9),this.addToneMapping(Eze,_9),this.addToneMapping(Ize,S9),this.addToneMapping(Nze,w9)}}class n8e extends s6e{constructor(e={}){let i;e.forceWebGL?i=Fz:(i=J6e,e.getFallback=()=>(console.warn("THREE.WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new Fz(e)));const r=new i(e);super(r,e),this.library=new t8e,this.isWebGPURenderer=!0}}const cE={type:"change"},$N={type:"start"},UN={type:"end"},Vz=1e-6,Xn={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4},wx=new dt,Pc=new dt,i8e=new me,Cx=new me,dE=new me,tp=new ka,Wz=new me,Tx=new me,fE=new me,Ax=new me;class r8e extends zw{constructor(e,i=null){super(e,i),this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:Dr.ROTATE,MIDDLE:Dr.DOLLY,RIGHT:Dr.PAN},this.state=Xn.NONE,this.keyState=Xn.NONE,this.target=new me,this._lastPosition=new me,this._lastZoom=1,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._lastAngle=0,this._eye=new me,this._movePrev=new dt,this._moveCurr=new dt,this._lastAxis=new me,this._zoomStart=new dt,this._zoomEnd=new dt,this._panStart=new dt,this._panEnd=new dt,this._pointers=[],this._pointerPositions={},this._onPointerMove=s8e.bind(this),this._onPointerDown=o8e.bind(this),this._onPointerUp=a8e.bind(this),this._onPointerCancel=l8e.bind(this),this._onContextMenu=g8e.bind(this),this._onMouseWheel=p8e.bind(this),this._onKeyDown=c8e.bind(this),this._onKeyUp=u8e.bind(this),this._onTouchStart=m8e.bind(this),this._onTouchMove=v8e.bind(this),this._onTouchEnd=y8e.bind(this),this._onMouseDown=d8e.bind(this),this._onMouseMove=f8e.bind(this),this._onMouseUp=h8e.bind(this),this._target0=this.target.clone(),this._position0=this.object.position.clone(),this._up0=this.object.up.clone(),this._zoom0=this.object.zoom,i!==null&&(this.connect(),this.handleResize()),this.update()}connect(){window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}handleResize(){const e=this.domElement.getBoundingClientRect(),i=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-i.clientLeft,this.screen.top=e.top+window.pageYOffset-i.clientTop,this.screen.width=e.width,this.screen.height=e.height}update(){this._eye.subVectors(this.object.position,this.target),this.noRotate||this._rotateCamera(),this.noZoom||this._zoomCamera(),this.noPan||this._panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this._checkDistances(),this.object.lookAt(this.target),this._lastPosition.distanceToSquared(this.object.position)>Vz&&(this.dispatchEvent(cE),this._lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this._lastPosition.distanceToSquared(this.object.position)>Vz||this._lastZoom!==this.object.zoom)&&(this.dispatchEvent(cE),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type.")}reset(){this.state=Xn.NONE,this.keyState=Xn.NONE,this.target.copy(this._target0),this.object.position.copy(this._position0),this.object.up.copy(this._up0),this.object.zoom=this._zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(cE),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom}_panCamera(){if(Pc.copy(this._panEnd).sub(this._panStart),Pc.lengthSq()){if(this.object.isOrthographicCamera){const e=(this.object.right-this.object.left)/this.object.zoom/this.domElement.clientWidth,i=(this.object.top-this.object.bottom)/this.object.zoom/this.domElement.clientWidth;Pc.x*=e,Pc.y*=i}Pc.multiplyScalar(this._eye.length()*this.panSpeed),Cx.copy(this._eye).cross(this.object.up).setLength(Pc.x),Cx.add(i8e.copy(this.object.up).setLength(Pc.y)),this.object.position.add(Cx),this.target.add(Cx),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(Pc.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}_rotateCamera(){Ax.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0);let e=Ax.length();e?(this._eye.copy(this.object.position).sub(this.target),Wz.copy(this._eye).normalize(),Tx.copy(this.object.up).normalize(),fE.crossVectors(Tx,Wz).normalize(),Tx.setLength(this._moveCurr.y-this._movePrev.y),fE.setLength(this._moveCurr.x-this._movePrev.x),Ax.copy(Tx.add(fE)),dE.crossVectors(Ax,this._eye).normalize(),e*=this.rotateSpeed,tp.setFromAxisAngle(dE,e),this._eye.applyQuaternion(tp),this.object.up.applyQuaternion(tp),this._lastAxis.copy(dE),this._lastAngle=e):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),tp.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(tp),this.object.up.applyQuaternion(tp)),this._movePrev.copy(this._moveCurr)}_zoomCamera(){let e;this.state===Xn.TOUCH_ZOOM_PAN?(e=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom=fS.clamp(this.object.zoom/e,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,e!==1&&e>0&&(this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom=fS.clamp(this.object.zoom/e,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}_getMouseOnScreen(e,i){return wx.set((e-this.screen.left)/this.screen.width,(i-this.screen.top)/this.screen.height),wx}_getMouseOnCircle(e,i){return wx.set((e-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-i))/this.screen.width),wx}_addPointer(e){this._pointers.push(e)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let i=0;i<this._pointers.length;i++)if(this._pointers[i].pointerId==e.pointerId){this._pointers.splice(i,1);return}}_trackPointer(e){let i=this._pointerPositions[e.pointerId];i===void 0&&(i=new dt,this._pointerPositions[e.pointerId]=i),i.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const i=e.pointerId===this._pointers[0].pointerId?this._pointers[1]:this._pointers[0];return this._pointerPositions[i.pointerId]}_checkDistances(){(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}}function o8e(n){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._addPointer(n),n.pointerType==="touch"?this._onTouchStart(n):this._onMouseDown(n))}function s8e(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchMove(n):this._onMouseMove(n))}function a8e(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchEnd(n):this._onMouseUp(),this._removePointer(n),this._pointers.length===0&&(this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp)))}function l8e(n){this._removePointer(n)}function u8e(){this.enabled!==!1&&(this.keyState=Xn.NONE,window.addEventListener("keydown",this._onKeyDown))}function c8e(n){this.enabled!==!1&&(window.removeEventListener("keydown",this._onKeyDown),this.keyState===Xn.NONE&&(n.code===this.keys[Xn.ROTATE]&&!this.noRotate?this.keyState=Xn.ROTATE:n.code===this.keys[Xn.ZOOM]&&!this.noZoom?this.keyState=Xn.ZOOM:n.code===this.keys[Xn.PAN]&&!this.noPan&&(this.keyState=Xn.PAN)))}function d8e(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Dr.DOLLY:this.state=Xn.ZOOM;break;case Dr.ROTATE:this.state=Xn.ROTATE;break;case Dr.PAN:this.state=Xn.PAN;break;default:this.state=Xn.NONE}const i=this.keyState!==Xn.NONE?this.keyState:this.state;i===Xn.ROTATE&&!this.noRotate?(this._moveCurr.copy(this._getMouseOnCircle(n.pageX,n.pageY)),this._movePrev.copy(this._moveCurr)):i===Xn.ZOOM&&!this.noZoom?(this._zoomStart.copy(this._getMouseOnScreen(n.pageX,n.pageY)),this._zoomEnd.copy(this._zoomStart)):i===Xn.PAN&&!this.noPan&&(this._panStart.copy(this._getMouseOnScreen(n.pageX,n.pageY)),this._panEnd.copy(this._panStart)),this.dispatchEvent($N)}function f8e(n){const e=this.keyState!==Xn.NONE?this.keyState:this.state;e===Xn.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(n.pageX,n.pageY))):e===Xn.ZOOM&&!this.noZoom?this._zoomEnd.copy(this._getMouseOnScreen(n.pageX,n.pageY)):e===Xn.PAN&&!this.noPan&&this._panEnd.copy(this._getMouseOnScreen(n.pageX,n.pageY))}function h8e(){this.state=Xn.NONE,this.dispatchEvent(UN)}function p8e(n){if(this.enabled!==!1&&this.noZoom!==!0){switch(n.preventDefault(),n.deltaMode){case 2:this._zoomStart.y-=n.deltaY*.025;break;case 1:this._zoomStart.y-=n.deltaY*.01;break;default:this._zoomStart.y-=n.deltaY*25e-5;break}this.dispatchEvent($N),this.dispatchEvent(UN)}}function g8e(n){this.enabled!==!1&&n.preventDefault()}function m8e(n){switch(this._trackPointer(n),this._pointers.length){case 1:this.state=Xn.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(this._pointers[0].pageX,this._pointers[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this.state=Xn.TOUCH_ZOOM_PAN;const e=this._pointers[0].pageX-this._pointers[1].pageX,i=this._pointers[0].pageY-this._pointers[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(e*e+i*i);const r=(this._pointers[0].pageX+this._pointers[1].pageX)/2,o=(this._pointers[0].pageY+this._pointers[1].pageY)/2;this._panStart.copy(this._getMouseOnScreen(r,o)),this._panEnd.copy(this._panStart);break}this.dispatchEvent($N)}function v8e(n){switch(this._trackPointer(n),this._pointers.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(n.pageX,n.pageY));break;default:const e=this._getSecondPointerPosition(n),i=n.pageX-e.x,r=n.pageY-e.y;this._touchZoomDistanceEnd=Math.sqrt(i*i+r*r);const o=(n.pageX+e.x)/2,s=(n.pageY+e.y)/2;this._panEnd.copy(this._getMouseOnScreen(o,s));break}}function y8e(n){switch(this._pointers.length){case 0:this.state=Xn.NONE;break;case 1:this.state=Xn.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(n.pageX,n.pageY)),this._movePrev.copy(this._moveCurr);break;case 2:this.state=Xn.TOUCH_ZOOM_PAN;for(let e=0;e<this._pointers.length;e++)if(this._pointers[e].pointerId!==n.pointerId){const i=this._pointerPositions[this._pointers[e].pointerId];this._moveCurr.copy(this._getMouseOnCircle(i.x,i.y)),this._movePrev.copy(this._moveCurr);break}break}this.dispatchEvent(UN)}const jz={type:"change"},kN={type:"start"},Zj={type:"end"},Ex=new Lw,Kz=new Ma,b8e=Math.cos(70*fS.DEG2RAD),yr=new me,ko=2*Math.PI,ii={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},hE=1e-6;class x8e extends zw{constructor(e,i=null){super(e,i),this.state=ii.NONE,this.enabled=!0,this.target=new me,this.cursor=new me,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Dr.ROTATE,MIDDLE:Dr.DOLLY,RIGHT:Dr.PAN},this.touches={ONE:Au.ROTATE,TWO:Au.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new me,this._lastQuaternion=new ka,this._lastTargetPosition=new me,this._quat=new ka().setFromUnitVectors(e.up,new me(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new b2,this._sphericalDelta=new b2,this._scale=1,this._panOffset=new me,this._rotateStart=new dt,this._rotateEnd=new dt,this._rotateDelta=new dt,this._panStart=new dt,this._panEnd=new dt,this._panDelta=new dt,this._dollyStart=new dt,this._dollyEnd=new dt,this._dollyDelta=new dt,this._dollyDirection=new me,this._mouse=new dt,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=S8e.bind(this),this._onPointerDown=_8e.bind(this),this._onPointerUp=w8e.bind(this),this._onContextMenu=P8e.bind(this),this._onMouseWheel=A8e.bind(this),this._onKeyDown=E8e.bind(this),this._onTouchStart=M8e.bind(this),this._onTouchMove=R8e.bind(this),this._onMouseDown=C8e.bind(this),this._onMouseMove=T8e.bind(this),this._interceptControlDown=I8e.bind(this),this._interceptControlUp=N8e.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(jz),this.update(),this.state=ii.NONE}update(e=null){const i=this.object.position;yr.copy(i).sub(this.target),yr.applyQuaternion(this._quat),this._spherical.setFromVector3(yr),this.autoRotate&&this.state===ii.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,o=this.maxAzimuthAngle;isFinite(r)&&isFinite(o)&&(r<-Math.PI?r+=ko:r>Math.PI&&(r-=ko),o<-Math.PI?o+=ko:o>Math.PI&&(o-=ko),r<=o?this._spherical.theta=Math.max(r,Math.min(o,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+o)/2?Math.max(r,this._spherical.theta):Math.min(o,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const a=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=a!=this._spherical.radius}if(yr.setFromSpherical(this._spherical),yr.applyQuaternion(this._quatInverse),i.copy(this.target).add(yr),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let a=null;if(this.object.isPerspectiveCamera){const l=yr.length();a=this._clampDistance(l*this._scale);const u=l-a;this.object.position.addScaledVector(this._dollyDirection,u),this.object.updateMatrixWorld(),s=!!u}else if(this.object.isOrthographicCamera){const l=new me(this._mouse.x,this._mouse.y,0);l.unproject(this.object);const u=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=u!==this.object.zoom;const c=new me(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(l),this.object.updateMatrixWorld(),a=yr.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;a!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(a).add(this.object.position):(Ex.origin.copy(this.object.position),Ex.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(Ex.direction))<b8e?this.object.lookAt(this.target):(Kz.setFromNormalAndCoplanarPoint(this.object.up,this.target),Ex.intersectPlane(Kz,this.target))))}else if(this.object.isOrthographicCamera){const a=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),a!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,s||this._lastPosition.distanceToSquared(this.object.position)>hE||8*(1-this._lastQuaternion.dot(this.object.quaternion))>hE||this._lastTargetPosition.distanceToSquared(this.target)>hE?(this.dispatchEvent(jz),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?ko/60*this.autoRotateSpeed*e:ko/60/60*this.autoRotateSpeed}_getZoomScale(e){const i=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*i)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,i){yr.setFromMatrixColumn(i,0),yr.multiplyScalar(-e),this._panOffset.add(yr)}_panUp(e,i){this.screenSpacePanning===!0?yr.setFromMatrixColumn(i,1):(yr.setFromMatrixColumn(i,0),yr.crossVectors(this.object.up,yr)),yr.multiplyScalar(e),this._panOffset.add(yr)}_pan(e,i){const r=this.domElement;if(this.object.isPerspectiveCamera){const o=this.object.position;yr.copy(o).sub(this.target);let s=yr.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/r.clientHeight,this.object.matrix),this._panUp(2*i*s/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(i*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,i){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),o=e-r.left,s=i-r.top,a=r.width,l=r.height;this._mouse.x=o/a*2-1,this._mouse.y=-(s/l)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const i=this.domElement;this._rotateLeft(ko*this._rotateDelta.x/i.clientHeight),this._rotateUp(ko*this._rotateDelta.y/i.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let i=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(ko*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),i=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-ko*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),i=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(ko*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),i=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-ko*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),i=!0;break}i&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),r=.5*(e.pageX+i.x),o=.5*(e.pageY+i.y);this._rotateStart.set(r,o)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),r=.5*(e.pageX+i.x),o=.5*(e.pageY+i.y);this._panStart.set(r,o)}}_handleTouchStartDolly(e){const i=this._getSecondPointerPosition(e),r=e.pageX-i.x,o=e.pageY-i.y,s=Math.sqrt(r*r+o*o);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e),o=.5*(e.pageX+r.x),s=.5*(e.pageY+r.y);this._rotateEnd.set(o,s)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const i=this.domElement;this._rotateLeft(ko*this._rotateDelta.x/i.clientHeight),this._rotateUp(ko*this._rotateDelta.y/i.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),r=.5*(e.pageX+i.x),o=.5*(e.pageY+i.y);this._panEnd.set(r,o)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const i=this._getSecondPointerPosition(e),r=e.pageX-i.x,o=e.pageY-i.y,s=Math.sqrt(r*r+o*o);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const a=(e.pageX+i.x)*.5,l=(e.pageY+i.y)*.5;this._updateZoomParameters(a,l)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let i=0;i<this._pointers.length;i++)if(this._pointers[i]==e.pointerId){this._pointers.splice(i,1);return}}_isTrackingPointer(e){for(let i=0;i<this._pointers.length;i++)if(this._pointers[i]==e.pointerId)return!0;return!1}_trackPointer(e){let i=this._pointerPositions[e.pointerId];i===void 0&&(i=new dt,this._pointerPositions[e.pointerId]=i),i.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const i=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[i]}_customWheelEvent(e){const i=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(i){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function _8e(n){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),n.pointerType==="touch"?this._onTouchStart(n):this._onMouseDown(n)))}function S8e(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchMove(n):this._onMouseMove(n))}function w8e(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Zj),this.state=ii.NONE;break;case 1:const e=this._pointers[0],i=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:i.x,pageY:i.y});break}}function C8e(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Dr.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(n),this.state=ii.DOLLY;break;case Dr.ROTATE:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=ii.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=ii.ROTATE}break;case Dr.PAN:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=ii.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=ii.PAN}break;default:this.state=ii.NONE}this.state!==ii.NONE&&this.dispatchEvent(kN)}function T8e(n){switch(this.state){case ii.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(n);break;case ii.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(n);break;case ii.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(n);break}}function A8e(n){this.enabled===!1||this.enableZoom===!1||this.state!==ii.NONE||(n.preventDefault(),this.dispatchEvent(kN),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(Zj))}function E8e(n){this.enabled!==!1&&this._handleKeyDown(n)}function M8e(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case Au.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(n),this.state=ii.TOUCH_ROTATE;break;case Au.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(n),this.state=ii.TOUCH_PAN;break;default:this.state=ii.NONE}break;case 2:switch(this.touches.TWO){case Au.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(n),this.state=ii.TOUCH_DOLLY_PAN;break;case Au.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(n),this.state=ii.TOUCH_DOLLY_ROTATE;break;default:this.state=ii.NONE}break;default:this.state=ii.NONE}this.state!==ii.NONE&&this.dispatchEvent(kN)}function R8e(n){switch(this._trackPointer(n),this.state){case ii.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(n),this.update();break;case ii.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(n),this.update();break;case ii.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(n),this.update();break;case ii.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=ii.NONE}}function P8e(n){this.enabled!==!1&&n.preventDefault()}function I8e(n){n.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function N8e(n){n.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const O8e={type:"change"},Xz=1e-6,qz=new ka;class D8e extends zw{constructor(e,i=null){super(e,i),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1,this._moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this._moveVector=new me(0,0,0),this._rotationVector=new me(0,0,0),this._lastQuaternion=new ka,this._lastPosition=new me,this._status=0,this._onKeyDown=L8e.bind(this),this._onKeyUp=B8e.bind(this),this._onPointerMove=$8e.bind(this),this._onPointerDown=F8e.bind(this),this._onPointerUp=U8e.bind(this),this._onPointerCancel=k8e.bind(this),this._onContextMenu=z8e.bind(this),i!==null&&this.connect()}connect(){window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointerup",this._onPointerUp),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("contextmenu",this._onContextMenu)}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("contextmenu",this._onContextMenu)}dispose(){this.disconnect()}update(e){if(this.enabled===!1)return;const i=this.object,r=e*this.movementSpeed,o=e*this.rollSpeed;i.translateX(this._moveVector.x*r),i.translateY(this._moveVector.y*r),i.translateZ(this._moveVector.z*r),qz.set(this._rotationVector.x*o,this._rotationVector.y*o,this._rotationVector.z*o,1).normalize(),i.quaternion.multiply(qz),(this._lastPosition.distanceToSquared(i.position)>Xz||8*(1-this._lastQuaternion.dot(i.quaternion))>Xz)&&(this.dispatchEvent(O8e),this._lastQuaternion.copy(i.quaternion),this._lastPosition.copy(i.position))}_updateMovementVector(){const e=this._moveState.forward||this.autoForward&&!this._moveState.back?1:0;this._moveVector.x=-this._moveState.left+this._moveState.right,this._moveVector.y=-this._moveState.down+this._moveState.up,this._moveVector.z=-e+this._moveState.back}_updateRotationVector(){this._rotationVector.x=-this._moveState.pitchDown+this._moveState.pitchUp,this._rotationVector.y=-this._moveState.yawRight+this._moveState.yawLeft,this._rotationVector.z=-this._moveState.rollRight+this._moveState.rollLeft}_getContainerDimensions(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}}}function L8e(n){if(!(n.altKey||this.enabled===!1)){switch(n.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this._moveState.forward=1;break;case"KeyS":this._moveState.back=1;break;case"KeyA":this._moveState.left=1;break;case"KeyD":this._moveState.right=1;break;case"KeyR":this._moveState.up=1;break;case"KeyF":this._moveState.down=1;break;case"ArrowUp":this._moveState.pitchUp=1;break;case"ArrowDown":this._moveState.pitchDown=1;break;case"ArrowLeft":this._moveState.yawLeft=1;break;case"ArrowRight":this._moveState.yawRight=1;break;case"KeyQ":this._moveState.rollLeft=1;break;case"KeyE":this._moveState.rollRight=1;break}this._updateMovementVector(),this._updateRotationVector()}}function B8e(n){if(this.enabled!==!1){switch(n.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this._moveState.forward=0;break;case"KeyS":this._moveState.back=0;break;case"KeyA":this._moveState.left=0;break;case"KeyD":this._moveState.right=0;break;case"KeyR":this._moveState.up=0;break;case"KeyF":this._moveState.down=0;break;case"ArrowUp":this._moveState.pitchUp=0;break;case"ArrowDown":this._moveState.pitchDown=0;break;case"ArrowLeft":this._moveState.yawLeft=0;break;case"ArrowRight":this._moveState.yawRight=0;break;case"KeyQ":this._moveState.rollLeft=0;break;case"KeyE":this._moveState.rollRight=0;break}this._updateMovementVector(),this._updateRotationVector()}}function F8e(n){if(this.enabled!==!1)if(this.dragToLook)this._status++;else{switch(n.button){case 0:this._moveState.forward=1;break;case 2:this._moveState.back=1;break}this._updateMovementVector()}}function $8e(n){if(this.enabled!==!1&&(!this.dragToLook||this._status>0)){const e=this._getContainerDimensions(),i=e.size[0]/2,r=e.size[1]/2;this._moveState.yawLeft=-(n.pageX-e.offset[0]-i)/i,this._moveState.pitchDown=(n.pageY-e.offset[1]-r)/r,this._updateRotationVector()}}function U8e(n){if(this.enabled!==!1){if(this.dragToLook)this._status--,this._moveState.yawLeft=this._moveState.pitchDown=0;else{switch(n.button){case 0:this._moveState.forward=0;break;case 2:this._moveState.back=0;break}this._updateMovementVector()}this._updateRotationVector()}}function k8e(){this.enabled!==!1&&(this.dragToLook?(this._status=0,this._moveState.yawLeft=this._moveState.pitchDown=0):(this._moveState.forward=0,this._moveState.back=0,this._updateMovementVector()),this._updateRotationVector())}function z8e(n){this.enabled!==!1&&n.preventDefault()}const H8e={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class n1{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const G8e=new Jy(-1,1,1,-1,0,1);class V8e extends co{constructor(){super(),this.setAttribute("position",new ir([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new ir([0,2,0,0,2,0],2))}}const W8e=new V8e;class j8e{constructor(e){this._mesh=new Lr(W8e,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,G8e)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class K8e extends n1{constructor(e,i){super(),this.textureID=i!==void 0?i:"tDiffuse",e instanceof Al?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=I9.clone(e.uniforms),this.material=new Al({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new j8e(this.material)}render(e,i,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(i),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Yz extends n1{constructor(e,i){super(),this.scene=e,this.camera=i,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,i,r){const o=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let a,l;this.inverse?(a=0,l=1):(a=1,l=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.buffers.stencil.setFunc(o.ALWAYS,a,4294967295),s.buffers.stencil.setClear(l),s.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(o.EQUAL,1,4294967295),s.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.buffers.stencil.setLocked(!0)}}class X8e extends n1{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class q8e{constructor(e,i){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),i===void 0){const r=e.getSize(new dt);this._width=r.width,this._height=r.height,i=new sd(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Ro}),i.texture.name="EffectComposer.rt1"}else this._width=i.width,this._height=i.height;this.renderTarget1=i,this.renderTarget2=i.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new K8e(H8e),this.copyPass.material.blending=Jo,this.clock=new G9}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,i){this.passes.splice(i,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const i=this.passes.indexOf(e);i!==-1&&this.passes.splice(i,1)}isLastEnabledPass(e){for(let i=e+1;i<this.passes.length;i++)if(this.passes[i].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const i=this.renderer.getRenderTarget();let r=!1;for(let o=0,s=this.passes.length;o<s;o++){const a=this.passes[o];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),a.needsSwap){if(r){const l=this.renderer.getContext(),u=this.renderer.state.buffers.stencil;u.setFunc(l.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),u.setFunc(l.EQUAL,1,4294967295)}this.swapBuffers()}Yz!==void 0&&(a instanceof Yz?r=!0:a instanceof X8e&&(r=!1))}}this.renderer.setRenderTarget(i)}reset(e){if(e===void 0){const i=this.renderer.getSize(new dt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=i.width,this._height=i.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,i){this._width=e,this._height=i;const r=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(r,o),this.renderTarget2.setSize(r,o);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(r,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Y8e extends n1{constructor(e,i,r=null,o=null,s=null){super(),this.scene=e,this.camera=i,this.overrideMaterial=r,this.clearColor=o,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Lt}render(e,i,r){const o=e.autoClear;e.autoClear=!1;let s,a;this.overrideMaterial!==null&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=a),e.autoClear=o}}function Q8e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ry(n,e){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Ry(n,e)}function Z8e(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ry(n,e)}function z2(n){return z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z2(n)}function J8e(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function Jj(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jj=function(){return!!n})()}function eHe(n,e,i){if(Jj())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(n.bind.apply(n,r));return i&&Ry(o,i.prototype),o}function H2(n){var e=typeof Map=="function"?new Map:void 0;return H2=function(r){if(r===null||!J8e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,o)}function o(){return eHe(r,arguments,z2(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Ry(o,r)},H2(n)}var dl=function(n){Z8e(e,n);function e(i){var r;return r=n.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+i+" for more information.")||this,Q8e(r)}return e}(H2(Error));function pE(n){return Math.round(n*255)}function tHe(n,e,i){return pE(n)+","+pE(e)+","+pE(i)}function ES(n,e,i,r){if(r===void 0&&(r=tHe),e===0)return r(i,i,i);var o=(n%360+360)%360/60,s=(1-Math.abs(2*i-1))*e,a=s*(1-Math.abs(o%2-1)),l=0,u=0,c=0;o>=0&&o<1?(l=s,u=a):o>=1&&o<2?(l=a,u=s):o>=2&&o<3?(u=s,c=a):o>=3&&o<4?(u=a,c=s):o>=4&&o<5?(l=a,c=s):o>=5&&o<6&&(l=s,c=a);var d=i-s/2,f=l+d,h=u+d,p=c+d;return r(f,h,p)}var Qz={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function nHe(n){if(typeof n!="string")return n;var e=n.toLowerCase();return Qz[e]?"#"+Qz[e]:n}var iHe=/^#[a-fA-F0-9]{6}$/,rHe=/^#[a-fA-F0-9]{8}$/,oHe=/^#[a-fA-F0-9]{3}$/,sHe=/^#[a-fA-F0-9]{4}$/,gE=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,aHe=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,lHe=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,uHe=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function Ag(n){if(typeof n!="string")throw new dl(3);var e=nHe(n);if(e.match(iHe))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(rHe)){var i=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:i}}if(e.match(oHe))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(sHe)){var r=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:r}}var o=gE.exec(e);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var s=aHe.exec(e.substring(0,50));if(s)return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10),alpha:parseFloat(""+s[4])>1?parseFloat(""+s[4])/100:parseFloat(""+s[4])};var a=lHe.exec(e);if(a){var l=parseInt(""+a[1],10),u=parseInt(""+a[2],10)/100,c=parseInt(""+a[3],10)/100,d="rgb("+ES(l,u,c)+")",f=gE.exec(d);if(!f)throw new dl(4,e,d);return{red:parseInt(""+f[1],10),green:parseInt(""+f[2],10),blue:parseInt(""+f[3],10)}}var h=uHe.exec(e.substring(0,50));if(h){var p=parseInt(""+h[1],10),v=parseInt(""+h[2],10)/100,b=parseInt(""+h[3],10)/100,y="rgb("+ES(p,v,b)+")",m=gE.exec(y);if(!m)throw new dl(4,e,y);return{red:parseInt(""+m[1],10),green:parseInt(""+m[2],10),blue:parseInt(""+m[3],10),alpha:parseFloat(""+h[4])>1?parseFloat(""+h[4])/100:parseFloat(""+h[4])}}throw new dl(5)}function cHe(n){var e=n.red/255,i=n.green/255,r=n.blue/255,o=Math.max(e,i,r),s=Math.min(e,i,r),a=(o+s)/2;if(o===s)return n.alpha!==void 0?{hue:0,saturation:0,lightness:a,alpha:n.alpha}:{hue:0,saturation:0,lightness:a};var l,u=o-s,c=a>.5?u/(2-o-s):u/(o+s);switch(o){case e:l=(i-r)/u+(i<r?6:0);break;case i:l=(r-e)/u+2;break;default:l=(e-i)/u+4;break}return l*=60,n.alpha!==void 0?{hue:l,saturation:c,lightness:a,alpha:n.alpha}:{hue:l,saturation:c,lightness:a}}function vd(n){return cHe(Ag(n))}var dHe=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},G2=dHe;function Yd(n){var e=n.toString(16);return e.length===1?"0"+e:e}function mE(n){return Yd(Math.round(n*255))}function fHe(n,e,i){return G2("#"+mE(n)+mE(e)+mE(i))}function eK(n,e,i){return ES(n,e,i,fHe)}function hHe(n,e,i){if(typeof n=="object"&&e===void 0&&i===void 0)return eK(n.hue,n.saturation,n.lightness);throw new dl(1)}function pHe(n,e,i,r){if(typeof n=="object"&&e===void 0&&i===void 0&&r===void 0)return n.alpha>=1?eK(n.hue,n.saturation,n.lightness):"rgba("+ES(n.hue,n.saturation,n.lightness)+","+n.alpha+")";throw new dl(2)}function tK(n,e,i){if(typeof n=="number"&&typeof e=="number"&&typeof i=="number")return G2("#"+Yd(n)+Yd(e)+Yd(i));if(typeof n=="object"&&e===void 0&&i===void 0)return G2("#"+Yd(n.red)+Yd(n.green)+Yd(n.blue));throw new dl(6)}function i1(n,e,i,r){if(typeof n=="object"&&e===void 0&&i===void 0&&r===void 0)return n.alpha>=1?tK(n.red,n.green,n.blue):"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")";throw new dl(7)}var gHe=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},mHe=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},vHe=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},yHe=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"};function yd(n){if(typeof n!="object")throw new dl(8);if(mHe(n))return i1(n);if(gHe(n))return tK(n);if(yHe(n))return pHe(n);if(vHe(n))return hHe(n);throw new dl(8)}function nK(n,e,i){return function(){var o=i.concat(Array.prototype.slice.call(arguments));return o.length>=e?n.apply(this,o):nK(n,e,o)}}function Is(n){return nK(n,n.length,[])}function bHe(n,e){if(e==="transparent")return e;var i=vd(e);return yd(O({},i,{hue:i.hue+parseFloat(n)}))}Is(bHe);function kg(n,e,i){return Math.max(n,Math.min(e,i))}function xHe(n,e){if(e==="transparent")return e;var i=vd(e);return yd(O({},i,{lightness:kg(0,1,i.lightness-parseFloat(n))}))}Is(xHe);function _He(n,e){if(e==="transparent")return e;var i=vd(e);return yd(O({},i,{saturation:kg(0,1,i.saturation-parseFloat(n))}))}Is(_He);function SHe(n,e){if(e==="transparent")return e;var i=vd(e);return yd(O({},i,{lightness:kg(0,1,i.lightness+parseFloat(n))}))}Is(SHe);function wHe(n,e,i){if(e==="transparent")return i;if(i==="transparent")return e;if(n===0)return i;var r=Ag(e),o=O({},r,{alpha:typeof r.alpha=="number"?r.alpha:1}),s=Ag(i),a=O({},s,{alpha:typeof s.alpha=="number"?s.alpha:1}),l=o.alpha-a.alpha,u=parseFloat(n)*2-1,c=u*l===-1?u:u+l,d=1+u*l,f=(c/d+1)/2,h=1-f,p={red:Math.floor(o.red*f+a.red*h),green:Math.floor(o.green*f+a.green*h),blue:Math.floor(o.blue*f+a.blue*h),alpha:o.alpha*parseFloat(n)+a.alpha*(1-parseFloat(n))};return i1(p)}var CHe=Is(wHe),iK=CHe;function THe(n,e){if(e==="transparent")return e;var i=Ag(e),r=typeof i.alpha=="number"?i.alpha:1,o=O({},i,{alpha:kg(0,1,(r*100+parseFloat(n)*100)/100)});return i1(o)}var AHe=Is(THe),EHe=AHe;function MHe(n,e){if(e==="transparent")return e;var i=vd(e);return yd(O({},i,{saturation:kg(0,1,i.saturation+parseFloat(n))}))}Is(MHe);function RHe(n,e){return e==="transparent"?e:yd(O({},vd(e),{hue:parseFloat(n)}))}Is(RHe);function PHe(n,e){return e==="transparent"?e:yd(O({},vd(e),{lightness:parseFloat(n)}))}Is(PHe);function IHe(n,e){return e==="transparent"?e:yd(O({},vd(e),{saturation:parseFloat(n)}))}Is(IHe);function NHe(n,e){return e==="transparent"?e:iK(parseFloat(n),"rgb(0, 0, 0)",e)}Is(NHe);function OHe(n,e){return e==="transparent"?e:iK(parseFloat(n),"rgb(255, 255, 255)",e)}Is(OHe);function DHe(n,e){if(e==="transparent")return e;var i=Ag(e),r=typeof i.alpha=="number"?i.alpha:1,o=O({},i,{alpha:kg(0,1,+(r*100-parseFloat(n)*100).toFixed(2)/100)});return i1(o)}Is(DHe);function LHe(n,e){e===void 0&&(e={});var i=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",i==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var BHe=`.scene-nav-info {
  position: absolute;
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
  font-family: sans-serif;
  pointer-events: none;
  user-select: none;
}

.scene-container canvas:focus {
  outline: none;
}`;LHe(BHe);function V2(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function FHe(n){if(Array.isArray(n))return n}function $He(n){if(Array.isArray(n))return V2(n)}function UHe(n,e,i){return(e=jHe(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function kHe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function zHe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function HHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VHe(n,e){return FHe(n)||zHe(n,e)||rK(n,e)||HHe()}function km(n){return $He(n)||kHe(n)||rK(n)||GHe()}function WHe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jHe(n){var e=WHe(n,"string");return typeof e=="symbol"?e:e+""}function rK(n,e){if(n){if(typeof n=="string")return V2(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?V2(n,e):void 0}}var Ai=window.THREE?window.THREE:{WebGLRenderer:wLe,Scene:qI,PerspectiveCamera:wo,Raycaster:V9,SRGBColorSpace:Ft,TextureLoader:PIe,Vector2:dt,Vector3:me,Box3:th,Color:Lt,Mesh:Lr,SphereGeometry:Zy,MeshBasicMaterial:Qy,BackSide:Ni,EventDispatcher:Ju,MOUSE:Dr,Quaternion:ka,Spherical:b2,Clock:G9},oK=Pg({props:{width:{default:window.innerWidth,onChange:function(e,i,r){isNaN(e)&&(i.width=r)}},height:{default:window.innerHeight,onChange:function(e,i,r){isNaN(e)&&(i.height=r)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},lights:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,i){i.hoverObj=null,i.tooltip&&i.tooltip.content(null)},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},pointsHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(Math.min(1,e.clock.getDelta())),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach(function(s){return s.render(e.scene,e.camera)}),e.enablePointerInteraction){var i=null;if(e.hoverDuringDrag||!e.isPointerDragging){var r=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y).filter(function(s){return e.hoverFilter(s.object)}).sort(function(s,a){return e.hoverOrderComparator(s.object,a.object)}),o=r.length?r[0]:null;i=o?o.object:null,e.intersection=o||null}i!==e.hoverObj&&(e.onHover(i,e.hoverObj,e.intersection),e.tooltip.content(i&&Nt(e.tooltipContent)(i,e.intersection)||null),e.hoverObj=i)}e.tweenGroup.update()}return this},getPointerPos:function(e){var i=e.pointerPos,r=i.x,o=i.y;return{x:r,y:o}},cameraPosition:function(e,i,r,o){var s=e.camera;if(i&&e.initialised){var a=i,l=r||{x:0,y:0,z:0};if(!o)d(a),f(l);else{var u=Object.assign({},s.position),c=h();e.tweenGroup.add(new rS(u).to(a,o).easing(Nu.Quadratic.Out).onUpdate(d).start()),e.tweenGroup.add(new rS(c).to(l,o/3).easing(Nu.Quadratic.Out).onUpdate(f).start())}return this}return Object.assign({},s.position,{lookAt:h()});function d(p){var v=p.x,b=p.y,y=p.z;v!==void 0&&(s.position.x=v),b!==void 0&&(s.position.y=b),y!==void 0&&(s.position.z=y)}function f(p){var v=new Ai.Vector3(p.x,p.y,p.z);e.controls.target?e.controls.target=v:s.lookAt(v)}function h(){return Object.assign(new Ai.Vector3(0,0,-1e3).applyQuaternion(s.quaternion).add(s.position))}},zoomToFit:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return this.fitToBbox(this.getBbox.apply(this,s),i,r)},fitToBbox:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10,s=e.camera;if(i){var a=new Ai.Vector3(0,0,0),l=Math.max.apply(Math,km(Object.entries(i).map(function(p){var v=VHe(p,2),b=v[0],y=v[1];return Math.max.apply(Math,km(y.map(function(m){return Math.abs(a[b]-m)})))})))*2,u=(1-o*2/e.height)*s.fov,c=l/Math.atan(u*Math.PI/180),d=c/s.aspect,f=Math.max(c,d);if(f>0){var h=a.clone().sub(s.position).normalize().multiplyScalar(-f);this.cameraPosition(h,a,r)}}return this},getBbox:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=new Ai.Box3(new Ai.Vector3(0,0,0),new Ai.Vector3(0,0,0)),o=e.objects.filter(i);return o.length?(o.forEach(function(s){return r.expandByObject(s)}),Object.assign.apply(Object,km(["x","y","z"].map(function(s){return UHe({},s,[r.min[s],r.max[s]])})))):null},getScreenCoords:function(e,i,r,o){var s=new Ai.Vector3(i,r,o);return s.project(this.camera()),{x:(s.x+1)*e.width/2,y:-(s.y-1)*e.height/2}},getSceneCoords:function(e,i,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=new Ai.Vector2(i/e.width*2-1,-(r/e.height)*2+1),a=new Ai.Raycaster;return a.setFromCamera(s,e.camera),Object.assign({},a.ray.at(o,new Ai.Vector3))},intersectingObjects:function(e,i,r){var o=new Ai.Vector2(i/e.width*2-1,-(r/e.height)*2+1),s=new Ai.Raycaster;return s.params.Line.threshold=e.lineHoverPrecision,s.params.Points.threshold=e.pointsHoverPrecision,s.setFromCamera(o,e.camera),s.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new Ai.Scene,camera:new Ai.PerspectiveCamera,clock:new Ai.Clock,tweenGroup:new cI}},init:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.controlType,s=o===void 0?"trackball":o,a=r.useWebGPU,l=a===void 0?!1:a,u=r.rendererConfig,c=u===void 0?{}:u,d=r.extraRenderers,f=d===void 0?[]:d,h=r.waitForLoadComplete,p=h===void 0?!0:h;e.innerHTML="",e.appendChild(i.container=document.createElement("div")),i.container.className="scene-container",i.container.style.position="relative",i.container.appendChild(i.navInfo=document.createElement("div")),i.navInfo.className="scene-nav-info",i.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[s]||"",i.navInfo.style.display=i.showNavInfo?null:"none",i.tooltip=new jW(i.container),i.pointerPos=new Ai.Vector2,i.pointerPos.x=-2,i.pointerPos.y=-2,["pointermove","pointerdown"].forEach(function(v){return i.container.addEventListener(v,function(b){if(v==="pointerdown"&&(i.isPointerPressed=!0),!i.isPointerDragging&&b.type==="pointermove"&&(b.pressure>0||i.isPointerPressed)&&(b.pointerType!=="touch"||b.movementX===void 0||[b.movementX,b.movementY].some(function(_){return Math.abs(_)>1}))&&(i.isPointerDragging=!0),i.enablePointerInteraction){var y=m(i.container);i.pointerPos.x=b.pageX-y.left,i.pointerPos.y=b.pageY-y.top}function m(_){var S=_.getBoundingClientRect(),w=window.pageXOffset||document.documentElement.scrollLeft,T=window.pageYOffset||document.documentElement.scrollTop;return{top:S.top+T,left:S.left+w}}},{passive:!0})}),i.container.addEventListener("pointerup",function(v){i.isPointerPressed=!1,!(i.isPointerDragging&&(i.isPointerDragging=!1,!i.clickAfterDrag))&&requestAnimationFrame(function(){v.button===0&&i.onClick(i.hoverObj||null,v,i.intersection),v.button===2&&i.onRightClick&&i.onRightClick(i.hoverObj||null,v,i.intersection)})},{passive:!0,capture:!0}),i.container.addEventListener("contextmenu",function(v){i.onRightClick&&v.preventDefault()}),i.renderer=new(l?n8e:Ai.WebGLRenderer)(Object.assign({antialias:!0,alpha:!0},c)),i.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),i.container.appendChild(i.renderer.domElement),i.extraRenderers=f,i.extraRenderers.forEach(function(v){v.domElement.style.position="absolute",v.domElement.style.top="0px",v.domElement.style.pointerEvents="none",i.container.appendChild(v.domElement)}),i.postProcessingComposer=new q8e(i.renderer),i.postProcessingComposer.addPass(new Y8e(i.scene,i.camera)),i.controls=new{trackball:r8e,orbit:x8e,fly:D8e}[s](i.camera,i.renderer.domElement),s==="fly"&&(i.controls.movementSpeed=300,i.controls.rollSpeed=Math.PI/6,i.controls.dragToLook=!0),(s==="trackball"||s==="orbit")&&(i.controls.minDistance=.1,i.controls.maxDistance=i.skyRadius,i.controls.addEventListener("start",function(){i.controlsEngaged=!0}),i.controls.addEventListener("change",function(){i.controlsEngaged&&(i.controlsDragging=!0)}),i.controls.addEventListener("end",function(){i.controlsEngaged=!1,i.controlsDragging=!1})),[i.renderer,i.postProcessingComposer].concat(km(i.extraRenderers)).forEach(function(v){return v.setSize(i.width,i.height)}),i.camera.aspect=i.width/i.height,i.camera.updateProjectionMatrix(),i.camera.position.z=1e3,i.scene.add(i.skysphere=new Ai.Mesh),i.skysphere.visible=!1,i.loadComplete=i.scene.visible=!p,window.scene=i.scene},update:function(e,i){if(e.width&&e.height&&(i.hasOwnProperty("width")||i.hasOwnProperty("height"))&&(e.container.style.width="".concat(e.width,"px"),e.container.style.height="".concat(e.height,"px"),[e.renderer,e.postProcessingComposer].concat(km(e.extraRenderers)).forEach(function(s){return s.setSize(e.width,e.height)}),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),i.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&i.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=e.skyRadius*2.5,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new Ai.SphereGeometry(e.skyRadius)),i.hasOwnProperty("backgroundColor")){var r=Ag(e.backgroundColor).alpha;r===void 0&&(r=1),e.renderer.setClearColor(new Ai.Color(EHe(1,e.backgroundColor)),r)}i.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?new Ai.TextureLoader().load(e.backgroundImageUrl,function(s){s.colorSpace=Ai.SRGBColorSpace,e.skysphere.material=new Ai.MeshBasicMaterial({map:s,side:Ai.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&o()}):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&o())),i.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),i.hasOwnProperty("lights")&&((i.lights||[]).forEach(function(s){return e.scene.remove(s)}),e.lights.forEach(function(s){return e.scene.add(s)})),i.hasOwnProperty("objects")&&((i.objects||[]).forEach(function(s){return e.scene.remove(s)}),e.objects.forEach(function(s){return e.scene.add(s)}));function o(){e.loadComplete=e.scene.visible=!0}}});function KHe(n,e){e===void 0&&(e={});var i=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",i==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var XHe=`.graph-info-msg {
  top: 50%;
  width: 100%;
  text-align: center;
  color: lavender;
  opacity: 0.7;
  font-size: 22px;
  position: absolute;
  font-family: Sans-serif;
}

.scene-container .clickable {
  cursor: pointer;
}

.scene-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.scene-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}`;KHe(XHe);function W2(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function qHe(n){if(Array.isArray(n))return W2(n)}function o0(n,e,i){return(e=JHe(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function YHe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function QHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zz(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function Mx(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Zz(Object(i),!0).forEach(function(r){o0(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Zz(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function r1(n){return qHe(n)||YHe(n)||eGe(n)||QHe()}function ZHe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function JHe(n){var e=ZHe(n,"string");return typeof e=="symbol"?e:e+""}function eGe(n,e){if(n){if(typeof n=="string")return W2(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?W2(n,e):void 0}}function sK(n,e){var i=new e;return i._destructor&&i._destructor(),{linkProp:function(o){return{default:i[o](),onChange:function(a,l){l[n][o](a)},triggerUpdate:!1}},linkMethod:function(o){return function(s){for(var a=s[n],l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];var d=a[o].apply(a,u);return d===a?this:d}}}}var vE=window.THREE?window.THREE:{AmbientLight:H9,DirectionalLight:z9,Vector3:me,REVISION:Ig},tGe=170,aK=sK("forceGraph",p7),nGe=Object.assign.apply(Object,r1(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return o0({},n,aK.linkProp(n))}))),iGe=Object.assign.apply(Object,r1(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return o0({},n,aK.linkMethod(n))}))),f_=sK("renderObjs",oK),rGe=Object.assign.apply(Object,r1(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map(function(n){return o0({},n,f_.linkProp(n))}))),oGe=Object.assign.apply(Object,r1(["lights","cameraPosition","postProcessingComposer"].map(function(n){return o0({},n,f_.linkMethod(n))})).concat([{graph2ScreenCoords:f_.linkMethod("getScreenCoords"),screen2GraphCoords:f_.linkMethod("getSceneCoords")}])),sGe=Pg({props:Mx(Mx({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(e,i){return i.renderObjs.lineHoverPrecision(e)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(e,i){var r=i.renderObjs.controls();r&&(r.enabled=e,e&&r.domElement&&r.domElement.dispatchEvent(new PointerEvent("pointerup")))},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},nGe),rGe),methods:Mx(Mx({zoomToFit:function(e,i,r){for(var o,s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return e.renderObjs.fitToBbox((o=e.forceGraph).getGraphBbox.apply(o,a),i,r),this},pauseAnimation:function(e){return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId===null&&this._animationCycle(),this},_animationCycle:function(e){e.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),e.forceGraph.tickFrame(),e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},tbControls:function(e){return e.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},iGe),oGe),stateInit:function(e){var i=e.controlType,r=e.rendererConfig,o=e.extraRenderers,s=new p7;return{forceGraph:s,renderObjs:oK({controlType:i,rendererConfig:r,extraRenderers:o}).objects([s]).lights([new vE.AmbientLight(13421772,Math.PI),new vE.DirectionalLight(16777215,.6*Math.PI)])}},init:function(e,i){e.innerHTML="",e.appendChild(i.container=document.createElement("div")),i.container.style.position="relative";var r=document.createElement("div");i.container.appendChild(r),i.renderObjs(r);var o=i.renderObjs.camera(),s=i.renderObjs.renderer(),a=i.renderObjs.controls();a.enabled=!!i.enableNavigationControls,i.lastSetCameraZ=o.position.z;var l;i.container.appendChild(l=document.createElement("div")),l.className="graph-info-msg",l.textContent="",i.forceGraph.onLoading(function(){l.textContent="Loading..."}).onFinishLoading(function(){l.textContent=""}).onUpdate(function(){i.graphData=i.forceGraph.graphData(),o.position.x===0&&o.position.y===0&&o.position.z===i.lastSetCameraZ&&i.graphData.nodes.length&&(o.lookAt(i.forceGraph.position),i.lastSetCameraZ=o.position.z=Math.cbrt(i.graphData.nodes.length)*tGe)}).onFinishUpdate(function(){if(i._dragControls){var u=i.graphData.nodes.find(function(d){return d.__initialFixedPos&&!d.__disposeControlsAfterDrag});u?u.__disposeControlsAfterDrag=!0:i._dragControls.dispose(),i._dragControls=void 0}if(i.enableNodeDrag&&i.enablePointerInteraction&&i.forceEngine==="d3"){var c=i._dragControls=new CLe(i.graphData.nodes.map(function(d){return d.__threeObj}).filter(function(d){return d}),o,s.domElement);c.addEventListener("dragstart",function(d){a.enabled=!1,d.object.__initialPos=d.object.position.clone(),d.object.__prevPos=d.object.position.clone();var f=lu(d.object).__data;!f.__initialFixedPos&&(f.__initialFixedPos={fx:f.fx,fy:f.fy,fz:f.fz}),!f.__initialPos&&(f.__initialPos={x:f.x,y:f.y,z:f.z}),["x","y","z"].forEach(function(h){return f["f".concat(h)]=f[h]}),s.domElement.classList.add("grabbable")}),c.addEventListener("drag",function(d){var f=lu(d.object);if(!d.object.hasOwnProperty("__graphObjType")){var h=d.object.__initialPos,p=d.object.__prevPos,v=d.object.position;f.position.add(v.clone().sub(p)),p.copy(v),v.copy(h)}var b=f.__data,y=f.position,m={x:y.x-b.x,y:y.y-b.y,z:y.z-b.z};["x","y","z"].forEach(function(_){return b["f".concat(_)]=b[_]=y[_]}),i.forceGraph.d3AlphaTarget(.3).resetCountdown(),b.__dragged=!0,i.onNodeDrag(b,m)}),c.addEventListener("dragend",function(d){delete d.object.__initialPos,delete d.object.__prevPos;var f=lu(d.object).__data;f.__disposeControlsAfterDrag&&(c.dispose(),delete f.__disposeControlsAfterDrag);var h=f.__initialFixedPos,p=f.__initialPos,v={x:p.x-f.x,y:p.y-f.y,z:p.z-f.z};h&&(["x","y","z"].forEach(function(b){var y="f".concat(b);h[y]===void 0&&delete f[y]}),delete f.__initialFixedPos,delete f.__initialPos,f.__dragged&&(delete f.__dragged,i.onNodeDragEnd(f,v))),i.forceGraph.d3AlphaTarget(0).resetCountdown(),i.enableNavigationControls&&(a.enabled=!0,a.domElement&&a.domElement.ownerDocument&&a.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),s.domElement.classList.remove("grabbable")})}}),vE.REVISION<155&&(i.renderObjs.renderer().useLegacyLights=!1),i.renderObjs.hoverOrderComparator(function(u,c){var d=lu(u);if(!d)return 1;var f=lu(c);if(!f)return-1;var h=function(v){return v.__graphObjType==="node"};return h(f)-h(d)}).tooltipContent(function(u){var c=lu(u);return c&&Nt(i["".concat(c.__graphObjType,"Label")])(c.__data)||""}).hoverDuringDrag(!1).onHover(function(u){var c=lu(u);if(c!==i.hoverObj){var d=i.hoverObj?i.hoverObj.__graphObjType:null,f=i.hoverObj?i.hoverObj.__data:null,h=c?c.__graphObjType:null,p=c?c.__data:null;if(d&&d!==h){var v=i["on".concat(d==="node"?"Node":"Link","Hover")];v&&v(null,f)}if(h){var b=i["on".concat(h==="node"?"Node":"Link","Hover")];b&&b(p,d===h?f:null)}s.domElement.classList[c&&i["on".concat(h==="node"?"Node":"Link","Click")]||!c&&i.onBackgroundClick?"add":"remove"]("clickable"),i.hoverObj=c}}).clickAfterDrag(!1).onClick(function(u,c){var d=lu(u);if(d){var f=i["on".concat(d.__graphObjType==="node"?"Node":"Link","Click")];f&&f(d.__data,c)}else i.onBackgroundClick&&i.onBackgroundClick(c)}).onRightClick(function(u,c){var d=lu(u);if(d){var f=i["on".concat(d.__graphObjType==="node"?"Node":"Link","RightClick")];f&&f(d.__data,c)}else i.onBackgroundRightClick&&i.onBackgroundRightClick(c)}),this._animationCycle()}});function lu(n){for(var e=n;e&&!e.hasOwnProperty("__graphObjType");)e=e.parent;return e}class aGe extends Si{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new dt(.5,.5),this.addEventListener("removed",function(){this.traverse(function(i){i.element instanceof i.element.ownerDocument.defaultView.Element&&i.element.parentNode!==null&&i.element.remove()})})}copy(e,i){return super.copy(e,i),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const np=new me,Jz=new Mn,e5=new Mn,t5=new me,n5=new me;class lGe{constructor(e={}){const i=this;let r,o,s,a;const l={objects:new WeakMap},u=e.element!==void 0?e.element:document.createElement("div");u.style.overflow="hidden",this.domElement=u,this.getSize=function(){return{width:r,height:o}},this.render=function(v,b){v.matrixWorldAutoUpdate===!0&&v.updateMatrixWorld(),b.parent===null&&b.matrixWorldAutoUpdate===!0&&b.updateMatrixWorld(),Jz.copy(b.matrixWorldInverse),e5.multiplyMatrices(b.projectionMatrix,Jz),d(v,v,b),p(v)},this.setSize=function(v,b){r=v,o=b,s=r/2,a=o/2,u.style.width=v+"px",u.style.height=b+"px"};function c(v){v.isCSS2DObject&&(v.element.style.display="none");for(let b=0,y=v.children.length;b<y;b++)c(v.children[b])}function d(v,b,y){if(v.visible===!1){c(v);return}if(v.isCSS2DObject){np.setFromMatrixPosition(v.matrixWorld),np.applyMatrix4(e5);const m=np.z>=-1&&np.z<=1&&v.layers.test(y.layers)===!0,_=v.element;_.style.display=m===!0?"":"none",m===!0&&(v.onBeforeRender(i,b,y),_.style.transform="translate("+-100*v.center.x+"%,"+-100*v.center.y+"%)translate("+(np.x*s+s)+"px,"+(-np.y*a+a)+"px)",_.parentNode!==u&&u.appendChild(_),v.onAfterRender(i,b,y));const S={distanceToCameraSquared:f(y,v)};l.objects.set(v,S)}for(let m=0,_=v.children.length;m<_;m++)d(v.children[m],b,y)}function f(v,b){return t5.setFromMatrixPosition(v.matrixWorld),n5.setFromMatrixPosition(b.matrixWorld),t5.distanceToSquared(n5)}function h(v){const b=[];return v.traverseVisible(function(y){y.isCSS2DObject&&b.push(y)}),b}function p(v){const b=h(v).sort(function(m,_){if(m.renderOrder!==_.renderOrder)return _.renderOrder-m.renderOrder;const S=l.objects.get(m).distanceToCameraSquared,w=l.objects.get(_).distanceToCameraSquared;return S-w}),y=b.length;for(let m=0,_=b.length;m<_;m++)b[m].element.style.zIndex=y-m}}}function j2(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,r=Array(e);i<e;i++)r[i]=n[i];return r}function uGe(n){if(Array.isArray(n))return n}function cGe(n){if(Array.isArray(n))return j2(n)}function dGe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fGe(n,e,i){return e=MS(e),_Ge(n,lK()?Reflect.construct(e,i,MS(n).constructor):e.apply(n,i))}function hGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pGe(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wGe(r.key),r)}}function gGe(n,e,i){return pGe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function MS(n){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MS(n)}function mGe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&K2(n,e)}function lK(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lK=function(){return!!n})()}function vGe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function yGe(n,e){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,o,s,a,l=[],u=!0,c=!1;try{if(s=(i=i.call(n)).next,e===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=s.call(i)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){c=!0,o=d}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function bGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ge(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dGe(n)}function K2(n,e){return K2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},K2(n,e)}function i5(n,e){return uGe(n)||yGe(n,e)||uK(n,e)||bGe()}function Rx(n){return cGe(n)||vGe(n)||uK(n)||xGe()}function SGe(n,e){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function wGe(n){var e=SGe(n,"string");return typeof e=="symbol"?e:e+""}function uK(n,e){if(n){if(typeof n=="string")return j2(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?j2(n,e):void 0}}var zm=typeof window<"u"&&window.THREE?window.THREE:{CanvasTexture:nIe,Sprite:XPe,SpriteMaterial:QI,SRGBColorSpace:Ft},CGe=function(n){function e(){var i,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return hGe(this,e),i=fGe(this,e,[new zm.SpriteMaterial]),i._text="".concat(r),i._textHeight=o,i._color=s,i._backgroundColor=!1,i._padding=0,i._borderWidth=0,i._borderRadius=0,i._borderColor="white",i._strokeWidth=0,i._strokeColor="white",i._fontFace="system-ui",i._fontSize=90,i._fontWeight="normal",i._canvas=document.createElement("canvas"),i._genCanvas(),i}return mGe(e,n),gGe(e,[{key:"text",get:function(){return this._text},set:function(r){this._text=r,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(r){this._textHeight=r,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(r){this._padding=r,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(r){this._borderWidth=r,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(r){this._borderRadius=r,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(r){this._borderColor=r,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(r){this._fontFace=r,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(r){this._fontSize=r,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(r){this._fontWeight=r,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(r){this._strokeColor=r,this._genCanvas()}},{key:"_genCanvas",value:function(){var r=this,o=this._canvas,s=o.getContext("2d"),a=1/this.textHeight,l=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],u=l.map(function(R){return R*r.fontSize*a}),c=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],d=c.map(function(R){return R*r.fontSize*a}),f=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],h=f.map(function(R){return R*r.fontSize*a}),p=this.text.split(`
`),v="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);s.font=v;var b=Math.max.apply(Math,Rx(p.map(function(R){return s.measureText(R).width}))),y=this.fontSize*p.length;if(o.width=b+u[0]*2+h[0]*2,o.height=y+u[1]*2+h[1]*2,this.borderWidth){if(s.strokeStyle=this.borderColor,u[0]){var m=u[0]/2;s.lineWidth=u[0],s.beginPath(),s.moveTo(m,d[0]),s.lineTo(m,o.height-d[3]),s.moveTo(o.width-m,d[1]),s.lineTo(o.width-m,o.height-d[2]),s.stroke()}if(u[1]){var _=u[1]/2;s.lineWidth=u[1],s.beginPath(),s.moveTo(Math.max(u[0],d[0]),_),s.lineTo(o.width-Math.max(u[0],d[1]),_),s.moveTo(Math.max(u[0],d[3]),o.height-_),s.lineTo(o.width-Math.max(u[0],d[2]),o.height-_),s.stroke()}if(this.borderRadius){var S=Math.max.apply(Math,Rx(u)),w=S/2;s.lineWidth=S,s.beginPath(),[!!d[0]&&[d[0],w,w,d[0]],!!d[1]&&[o.width-d[1],o.width-w,w,d[1]],!!d[2]&&[o.width-d[2],o.width-w,o.height-w,o.height-d[2]],!!d[3]&&[d[3],w,o.height-w,o.height-d[3]]].filter(function(R){return R}).forEach(function(R){var E=i5(R,4),P=E[0],N=E[1],D=E[2],$=E[3];s.moveTo(P,D),s.quadraticCurveTo(N,D,N,$)}),s.stroke()}}this.backgroundColor&&(s.fillStyle=this.backgroundColor,this.borderRadius?(s.beginPath(),s.moveTo(u[0],d[0]),[[u[0],d[0],o.width-d[1],u[1],u[1],u[1]],[o.width-u[0],o.width-u[0],o.width-u[0],u[1],d[1],o.height-d[2]],[o.width-u[0],o.width-d[2],d[3],o.height-u[1],o.height-u[1],o.height-u[1]],[u[0],u[0],u[0],o.height-u[1],o.height-d[3],d[0]]].forEach(function(R){var E=i5(R,6),P=E[0],N=E[1],D=E[2],$=E[3],L=E[4],F=E[5];s.quadraticCurveTo(P,$,N,L),s.lineTo(D,F)}),s.closePath(),s.fill()):s.fillRect(u[0],u[1],o.width-u[0]*2,o.height-u[1]*2)),s.translate.apply(s,Rx(u)),s.translate.apply(s,Rx(h)),s.font=v,s.fillStyle=this.color,s.textBaseline="bottom";var T=this.strokeWidth>0;T&&(s.lineWidth=this.strokeWidth*this.fontSize/10,s.strokeStyle=this.strokeColor),p.forEach(function(R,E){var P=(b-s.measureText(R).width)/2,N=(E+1)*r.fontSize;T&&s.strokeText(R,P,N),s.fillText(R,P,N)}),this.material.map&&this.material.map.dispose();var A=this.material.map=new zm.CanvasTexture(o);A.colorSpace=zm.SRGBColorSpace;var C=this.textHeight*p.length+l[1]*2+f[1]*2;this.scale.set(C*o.width/o.height,C,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(r){return zm.Sprite.prototype.copy.call(this,r),this.color=r.color,this.backgroundColor=r.backgroundColor,this.padding=r.padding,this.borderWidth=r.borderWidth,this.borderColor=r.borderColor,this.fontFace=r.fontFace,this.fontSize=r.fontSize,this.fontWeight=r.fontWeight,this.strokeWidth=r.strokeWidth,this.strokeColor=r.strokeColor,this}}])}(zm.Sprite);const TGe=We({__name:"graph-3d",props:["graphData","showHighlight","showLabels","showLinkLabels"],emits:["selectNode","selectLink"],setup(n,{emit:e}){const i=n,r=e,o=He();let s,a;const l=[new lGe];Jt(()=>{s=new sGe(o.value,{extraRenderers:l}).nodeAutoColorBy("type").cooldownTicks(80).nodeId("id").nodeLabel("id").backgroundColor("#ffffff").showNavInfo(!1).onNodeClick(y=>{const _=1+40/Math.hypot(y.x,y.y,y.z),S=y.x||y.y||y.z?{x:y.x*_,y:y.y*_,z:y.z*_}:{x:0,y:0,z:40};s.cameraPosition(S,y,3e3),setTimeout(()=>{r("selectNode",y)},3e3)}).onLinkClick(y=>{const m=y.source,_=y.target;if(m&&_){const w=1+40/Math.hypot(m.x,m.y,m.z),T=m.x||m.y||m.z?{x:m.x*w,y:m.y*w,z:m.z*w}:{x:0,y:0,z:40},A=1+40/Math.hypot(_.x,_.y,_.z),C=_.x||_.y||_.z?{x:_.x*A,y:_.y*A,z:_.z*A}:{x:0,y:0,z:40},R=(T.x+C.x)/2,E=(T.y+C.y)/2,P=(T.z+C.z)/2;s.cameraPosition({x:R,y:E,z:P},{x:(m.x+_.x)/2,y:(m.y+_.y)/2,z:(m.z+_.z)/2},3e3),setTimeout(()=>{r("selectLink",y)},3e3)}else r("selectLink",y)}),h(),c()}),Rn(()=>{f()});let u=!1;function c(){i.graphData&&s&&!u&&(console.log("render"),u=!0,f(),s.resumeAnimation(),s.linkAutoColorBy(y=>{var m;return(m=i.graphData.nodes.find(_=>_.id===y.source))==null?void 0:m.type}),s.graphData(i.graphData),setTimeout(()=>{u=!1},1e3))}const d=y=>{if(!i.showLabels)return new Si;try{const m=document.createElement("div");return m.textContent=y.name||y.id,m.style.color=y.color,m.style.padding="2px 4px",m.style.borderRadius="4px",m.style.fontSize="10px",m.className="node-label",new aGe(m)}catch(m){return console.error("Error creating 3D object:",m),new Si}};function f(){s&&(s.pauseAnimation(),s.graphData({nodes:[],links:[]}))}function h(){s&&(console.log(i.showHighlight),s.linkDirectionalParticles(i.showHighlight?4:0),s.linkDirectionalParticleWidth(y=>i.showHighlight&&a&&a.has(y)?4:0),s.nodeThreeObjectExtend(!0).linkThreeObjectExtend(!0).nodeThreeObject(d).linkThreeObject(y=>{if(!i.showLinkLabels)return new Si;const m=new CGe(`${y.type}`);return m.color="lightgrey",m.textHeight=1.5,m}).linkPositionUpdate((y,{start:m,end:_})=>{if(!i.showLinkLabels)return;const S=["x","y","z"].reduce((w,T)=>(w[T]=m[T]+(_[T]-m[T])/2,w),{});Object.assign(y.position,S)}),i.showHighlight?(s.onNodeHover(v),s.onLinkHover(p)):(s.onNodeHover(void 0),s.onLinkHover(void 0)))}const p=y=>{const m=new Set,_=new Set;y&&(_.add(y),typeof y.source!="string"&&m.add(y.source),typeof y.target!="string"&&m.add(y.target)),a=_,console.log(a),h()},v=y=>{var S,w;const m=new Set,_=new Set;y&&(m.add(y),(S=y.neighbors)==null||S.forEach(T=>m.add(T)),(w=y.links)==null||w.forEach(T=>_.add(i.graphData.links.find(A=>A.id===T.id)))),a=_,console.log(a),b=y,h()};let b;return ut(()=>i.showHighlight,()=>{h()},{immediate:!0,deep:!0}),ut(()=>i.showLabels,()=>{h()},{immediate:!0,deep:!0}),ut(()=>i.showLinkLabels,()=>{h()},{immediate:!0,deep:!0}),ut(()=>i.graphData,()=>{c()},{immediate:!0,deep:!1}),(y,m)=>(ti(),$i("div",{id:"graph-3d",ref_key:"stage",ref:o},null,512))}}),AGe=Mw(TGe,[["__scopeId","data-v-e8a439fe"]]),EGe={class:"tables"},MGe={class:"operations"},RGe={class:"operation"},PGe={class:"operation"},IGe={class:"operation"},NGe={class:"operation"},OGe={class:"operation"},DGe={class:"operation"},LGe={class:"operation"},BGe={class:"operation"},FGe={class:"infos"},$Ge={class:"info"},UGe={class:"info"},kGe={class:"btns"},zGe={key:0,class:"title"},HGe={key:1,class:"node-infos"},GGe={class:"node-info"},VGe={class:"node-info"},WGe={key:0,class:"node-info"},jGe={class:"node-info"},KGe={key:1,class:"node-info"},XGe={key:2,class:"node-info"},qGe={key:3,class:"node-info"},YGe={key:4,class:"node-info"},QGe={key:5,class:"node-info"},ZGe={key:6,class:"node-info"},JGe={key:2,class:"title"},eVe={key:3,class:"node-infos"},tVe={class:"node-info"},nVe={class:"node-info"},iVe={class:"node-info"},rVe={class:"node-info"},oVe={key:0,class:"node-info"},sVe={key:1,class:"node-info"},aVe={key:2,class:"node-info"},lVe={key:3,class:"node-info"},uVe={key:4,class:"node-info"},cVe={key:5,class:"node-info"},dVe={class:"linked-nodes"},fVe={key:4,class:"linked-relationship"},hVe=We({__name:"graphrag-viewer",setup(n){const e=Fu(Sl,{style:{fontSize:"24px"},spin:!0}),i=n1e(),r=He(!1),o=["/artifacts/create_final_entities.parquet","/artifacts/create_final_relationships.parquet","/artifacts/create_final_documents.parquet","/artifacts/create_final_text_units.parquet","/artifacts/create_final_communities.parquet","/artifacts/create_final_community_reports.parquet"],s=He(!1),a=He(!1),l=He(!1),u=He(!1),c=He(),d=He(),f=He();let h;const p=He();Jt(()=>{C.value=p.value.clientHeight-62-40-64-55+16,y()});function v(){const ue=i.entities.map(he=>({uuid:he.id,id:he.title,name:he.title,title:he.title,type:he.type,group:he.type,description:he.description,human_readable_id:he.human_readable_id,text_unit_ids:he.text_unit_ids,neighbors:[],links:[]})),Y={};ue.forEach(he=>Y[he.id]=he);const le=i.relationships.map(he=>({source:he.source,target:he.target,type:he.type,weight:he.weight,value:he.weight,description:he.description,text_unit_ids:he.text_unit_ids,id:he.id,human_readable_id:he.human_readable_id,combined_degree:he.combined_degree})).filter(he=>Y[he.source]&&Y[he.target]);if(s.value){const he=i.documents.map(W=>({uuid:W.id,id:W.id,name:W.title,title:W.title,type:"RAW_DOCUMENT",text:W.text,text_unit_ids:W.text_unit_ids,human_readable_id:W.human_readable_id,neighbors:[],links:[]}));if(he.forEach(W=>Y[W.id]=W),ue.push(...he),a.value){const W=i.textUnits.filter(X=>(X.document_ids??[]).length>0).flatMap(X=>X.document_ids.map(V=>({source:X.id,target:V,type:"PART_OF",id:`${X.id}-${V}`})));le.push(...W)}}if(a.value){const he=i.textUnits.map(X=>({uuid:X.id,id:X.id,name:`TEXT UNIT ${X.id}`,type:"CHUNK",text:X.text,n_tokens:X.n_tokens,document_ids:X.document_ids,entity_ids:X.entity_ids,relationship_ids:X.relationship_ids,human_readable_id:X.human_readable_id,neighbors:[],links:[]}));he.forEach(X=>Y[X.id]=X),ue.push(...he);const W=i.textUnits.filter(X=>(X.entity_ids??[]).length>0).flatMap(X=>X.entity_ids.map(V=>{var Ce;return{source:X.id,target:((Ce=ue.find(pe=>pe.uuid===V))==null?void 0:Ce.name)||"",type:"HAS_ENTITY",id:`${X.id}-${V}`}}));le.push(...W)}if(l.value){const he=i.communities.map(V=>{const Ce=i.communityReports.find(pe=>pe.community.toString()===V.community.toString());return{uuid:V.id.toString(),id:V.id.toString(),name:V.title,type:"COMMUNITY",entity_ids:V.text_unit_ids,relationship_ids:V.relationship_ids,full_content:(Ce==null?void 0:Ce.full_content)||"",level:(Ce==null?void 0:Ce.level)||-1,rank:(Ce==null?void 0:Ce.rank)||-1,title:(Ce==null?void 0:Ce.title)||"",rank_explanation:(Ce==null?void 0:Ce.rank_explanation)||"",summary:(Ce==null?void 0:Ce.summary)||"",findings:(Ce==null?void 0:Ce.findings)||[],neighbors:[],links:[]}});he.forEach(V=>Y[V.id]=V),ue.push(...he);const W=new Set,X=i.communities.flatMap(V=>V.relationship_ids.map(Ce=>{const pe=i.relationships.find(ve=>ve.id===Ce);if(!pe)return[];const Se=`${pe.source}-${V.id}`,fe=`${pe.target}-${V.id}`,ge=[];return W.has(Se)||(W.add(Se),ge.push({source:pe.source,target:V.id.toString(),type:"IN_COMMUNITY",id:Se})),W.has(fe)||(W.add(fe),ge.push({source:pe.target,target:V.id.toString(),type:"IN_COMMUNITY",id:fe})),ge})).flat();le.push(...X),he.forEach(V=>{V.findings&&V.findings.forEach((Ce,pe)=>{const Se={uuid:`community-${V.uuid}-finding-${pe}`,id:`${V.id}-finding-${pe}`,name:`${V.title}-finding-${pe}`,type:"FINDING",explanation:Ce.explanation,summary:Ce.summary,neighbors:[],links:[]};Y[Se.id]=Se,ue.push(Se);const fe={source:V.id,target:Se.id,type:"HAS_FINDING",id:`${V.id}-finding-${pe}`};le.push(fe)})})}if(u.value){const he=i.covariates.map(X=>({uuid:X.id,id:X.id,human_readable_id:X.human_readable_id,name:`COVARIATE ${X.id}`,covariate_type:X.covariate_type,type:X.type,description:X.description||"",subject_id:X.subject_id,object_id:X.object_id,status:X.status,start_date:X.start_date,end_date:X.end_date,source_text:X.source_text,text_unit_id:X.text_unit_id,neighbors:[],links:[]}));he.forEach(X=>Y[X.id]=X),ue.push(...he);const W=i.covariates.map(X=>({source:X.text_unit_id,target:X.id,type:"HAS_COVARIATE",id:`${X.text_unit_id}-${X.id}`}));le.push(...W)}le.forEach(he=>{const W=Y[he.source],X=Y[he.target];W&&X&&(W.neighbors.includes(X)||W.neighbors.push(X),X.neighbors.includes(W)||X.neighbors.push(W),W.links.includes(he)||W.links.push(he),X.links.includes(he)||X.links.push(he))}),c.value={nodes:ue,links:le},d.value={nodes:bc.cloneDeep(ue),links:bc.cloneDeep(le)},f.value={nodes:bc.cloneDeep(ue),links:bc.cloneDeep(le)},h=new Rg([...ue,...le],{keys:["uuid","id","name","type","description","source","target","title","summary"],threshold:.3})}const b=async ue=>{try{const Y=await fetch(ue,{method:"HEAD",cache:"no-store"});return Y.ok?(console.log(`File exists: ${ue}`),!0):(console.warn(`File does not exist: ${ue} (status: ${Y.status})`),!1)}catch(Y){return console.error(`Error checking file existence for ${ue}`,Y),!1}},y=async()=>{const ue=[];for(const Y of o)await b(Y)&&ue.push(Y);ue.length>0?await _(ue):console.log("No default files found in the public folder.")},m={"create_final_entities.parquet":"entity","create_final_relationships.parquet":"relationship","create_final_text_units.parquet":"text_unit","create_final_communities.parquet":"community","create_final_community_reports.parquet":"community_report","create_final_documents.parquet":"document","create_final_covariates.parquet":"covariate"},_=async ue=>{r.value=!0;const Y=[],le=[],he=[],W=[],X=[],V=[],Ce=[];for(const pe of ue){const Se=typeof pe=="string"?pe.split("/").pop():pe.name,fe=m[Se];let ge;if(typeof pe=="string"){const ve=await fetch(pe);if(!ve.ok){console.error(`Failed to fetch file ${pe}: ${ve.statusText}`);continue}const j=await ve.arrayBuffer(),G=new Blob([j],{type:"application/x-parquet"}),ce=new File([G],Se);ge=await q$(ce,fe)}else ge=await q$(pe,fe);fe==="entity"?Y.push(ge):fe==="relationship"?le.push(ge):fe==="document"?he.push(ge):fe==="text_unit"?W.push(ge):fe==="community"?X.push(ge):fe==="community_report"?V.push(ge):fe==="covariate"&&Ce.push(ge)}i.setEntities(Y.flat()),i.setRelationships(le.flat()),i.setDocuments(he.flat()),i.setTextUnits(W.flat()),i.setCommunities(X.flat()),i.setCommunityReports(V.flat()),i.setCovariates(Ce.flat()),v(),r.value=!1};function S(ue){const Y=h.search(U.value).map(W=>W.item),le=Y.filter(W=>"neighbors"in W),he=Y.filter(W=>"source"in W&&"target"in W&&le.find(X=>X.id===W.source)&&le.find(X=>X.id===W.target));d.value={nodes:bc.cloneDeep(le),links:bc.cloneDeep(he)},f.value={nodes:bc.cloneDeep(le),links:bc.cloneDeep(he)}}const w=He("entities"),T=["entities","relationships","documents","textUnits","communities","covariates","communityReports"],A={entities:rU,relationships:W1e,documents:K1e,textUnits:X1e,communities:q1e,covariates:Y1e,communityReports:Q1e},C=He(0),R=He("graph"),E=He(!1),P=K(()=>E.value?"3d":"2d"),N=He(!1),D=He(!1),$=He(!0),L=He(!1);function F(){L.value=!0}const U=He(""),k=He(null),H=He(null),z=He([]),Q=He([]),Z=He(!1),ie=ue=>{k.value=null,H.value=ue,z.value=ue.neighbors||[],Q.value=ue.links||[],Z.value=!0},we=ue=>{k.value=ue,H.value=null;const Y=typeof ue.source=="object"?ue.source.id:ue.source,le=typeof ue.target=="object"?ue.target.id:ue.target,he=c.value.nodes.find(X=>X.id===Y),W=c.value.nodes.find(X=>X.id===le);if(he&&W){const X=[he,W];z.value=X;const V=[ue];Q.value=V,Z.value=!0}},J=ue=>typeof ue=="object"?ue.name:ue,se=ue=>typeof ue=="object"?ue.type:ue;let ee=[];function ne(ue){const Y=ue.fileList,le=ue.file;ee.findIndex(he=>he.uid===le.uid)<0&&ee.push(le.originFileObj),ee.length===Y.length&&(_(ee),setTimeout(()=>{ee=[]},0))}return(ue,Y)=>{var de,re;const le=Jxe,he=z_,W=bf,X=Es,V=$_e,Ce=fG,pe=dG,Se=F0e,fe=hl,ge=xr,ve=lpe,j=Xve,G=pv,ce=Ap,Ee=Mp;return ti(),$i("div",{id:"graphrag-viewer",ref_key:"stage",ref:p},[P.value==="2d"?So((ti(),rp(URe,{key:0,"graph-data":d.value,"show-highlight":$.value,"show-labels":N.value,"show-link-labels":D.value,onSelectNode:ie,onSelectLink:we},null,8,["graph-data","show-highlight","show-labels","show-link-labels"])),[[Vo,R.value==="graph"]]):Fi("",!0),P.value==="3d"?So((ti(),rp(AGe,{key:1,"graph-data":f.value,"show-highlight":$.value,"show-labels":N.value,"show-link-labels":D.value,onSelectNode:ie,onSelectLink:we},null,8,["graph-data","show-highlight","show-labels","show-link-labels"])),[[Vo,R.value==="graph"]]):Fi("",!0),So(An("div",EGe,[I(W,{activeKey:w.value,"onUpdate:activeKey":Y[0]||(Y[0]=ye=>w.value=ye)},{default:Yi(()=>[(ti(),$i(mn,null,mte(T,ye=>I(he,{key:ye,tab:ye},{default:Yi(()=>[So(I(le,{dataSource:Hr(i)[ye],columns:A[ye],scroll:{y:C.value}},null,8,["dataSource","columns","scroll"]),[[Vo,Hr(i)[ye]]])]),_:2},1032,["tab"])),64))]),_:1},8,["activeKey"])],512),[[Vo,R.value==="table"]]),I(V,{multiple:!0,"show-upload-list":!1,accept:".parquet",style:{position:"absolute",right:"150px",top:"20px"},onChange:ne},{default:Yi(()=>[I(X,null,{default:Yi(()=>[I(Hr(ZP)),Y[15]||(Y[15]=Ji(" 上传 "))]),_:1})]),_:1}),I(pe,{value:R.value,"onUpdate:value":Y[1]||(Y[1]=ye=>R.value=ye),"button-style":"solid",style:{position:"absolute",right:"20px",top:"20px"}},{default:Yi(()=>[I(Ce,{value:"graph",style:{"font-size":"14px"}},{default:Yi(()=>Y[16]||(Y[16]=[Ji("图表")])),_:1}),I(Ce,{value:"table",style:{"font-size":"14px"}},{default:Yi(()=>Y[17]||(Y[17]=[Ji("表格")])),_:1})]),_:1},8,["value"]),So(An("div",MGe,[An("div",RGe,[I(Se,{checked:E.value,"onUpdate:checked":Y[2]||(Y[2]=ye=>E.value=ye),size:"small"},null,8,["checked"]),Y[18]||(Y[18]=An("label",{style:{"margin-left":"6px"}},"3D View",-1))]),An("div",PGe,[I(Se,{checked:N.value,"onUpdate:checked":Y[3]||(Y[3]=ye=>N.value=ye),size:"small"},null,8,["checked"]),Y[19]||(Y[19]=An("label",{style:{"margin-left":"6px"}},"Show Node Labels",-1))]),An("div",IGe,[I(Se,{checked:D.value,"onUpdate:checked":Y[4]||(Y[4]=ye=>D.value=ye),size:"small"},null,8,["checked"]),Y[20]||(Y[20]=An("label",{style:{"margin-left":"6px"}},"Show Link Labels",-1))]),An("div",NGe,[I(Se,{checked:$.value,"onUpdate:checked":Y[5]||(Y[5]=ye=>$.value=ye),size:"small"},null,8,["checked"]),Y[21]||(Y[21]=An("label",{style:{"margin-left":"6px"}},"Show Highlight",-1))]),An("div",OGe,[I(fe,{checked:s.value,"onUpdate:checked":Y[6]||(Y[6]=ye=>s.value=ye),onChange:v},{default:Yi(()=>Y[22]||(Y[22]=[Ji(" Include Documents ")])),_:1},8,["checked"])]),An("div",DGe,[I(fe,{checked:a.value,"onUpdate:checked":Y[7]||(Y[7]=ye=>a.value=ye),onChange:v},{default:Yi(()=>Y[23]||(Y[23]=[Ji(" Include Text Units ")])),_:1},8,["checked"])]),An("div",LGe,[I(fe,{checked:l.value,"onUpdate:checked":Y[8]||(Y[8]=ye=>l.value=ye),onChange:v},{default:Yi(()=>Y[24]||(Y[24]=[Ji(" Include Communities ")])),_:1},8,["checked"])]),An("div",BGe,[I(fe,{checked:u.value,"onUpdate:checked":Y[9]||(Y[9]=ye=>u.value=ye),onChange:v},{default:Yi(()=>Y[25]||(Y[25]=[Ji(" Include Covariates ")])),_:1},8,["checked"])])],512),[[Vo,R.value==="graph"]]),So(An("div",FGe,[An("div",$Ge,[Y[26]||(Y[26]=An("span",null,"Nodes: ",-1)),An("span",null,cn((de=d.value)==null?void 0:de.nodes.length),1)]),An("div",UGe,[Y[27]||(Y[27]=An("span",null,"Relationships: ",-1)),An("span",null,cn((re=d.value)==null?void 0:re.links.length),1)]),I(X,{type:"primary",icon:Fu(Hr(Mg)),onClick:F},{default:Yi(()=>Y[28]||(Y[28]=[Ji(" Ask Query (LOCAL/GLOBAL SEARCH) ")])),_:1},8,["icon"])],512),[[Vo,R.value==="graph"]]),I(j,{open:L.value,"onUpdate:open":Y[13]||(Y[13]=ye=>L.value=ye),class:"query","root-style":{color:"blue"},style:{color:"red"},placement:"left",width:"800"},{default:Yi(()=>[I(ge,{value:U.value,"onUpdate:value":Y[10]||(Y[10]=ye=>U.value=ye),size:"large",placeholder:"Enter search query for API"},null,8,["value"]),An("div",kGe,[I(X,{disabled:!a.value||!l.value,style:{width:"100%"},type:"primary",onClick:Y[11]||(Y[11]=ye=>S("local"))},{default:Yi(()=>Y[29]||(Y[29]=[Ji(" LOCAL SEARCH ")])),_:1},8,["disabled"]),I(X,{disabled:!l.value,style:{width:"100%"},type:"primary",onClick:Y[12]||(Y[12]=ye=>S("global"))},{default:Yi(()=>Y[30]||(Y[30]=[Ji(" GLOBAL SEARCH ")])),_:1},8,["disabled"])]),a.value?Fi("",!0):(ti(),rp(ve,{key:0,message:'Please enable "Include Text Unit" and "Include Communities" to use Local Search.',type:"warning","show-icon":"",style:{"margin-bottom":"12px"}})),l.value?Fi("",!0):(ti(),rp(ve,{key:1,message:'Please enable "Include Communities" to use Global Search.',type:"warning","show-icon":"",style:{"margin-bottom":"12px"}}))]),_:1},8,["open"]),I(j,{open:Z.value,"onUpdate:open":Y[14]||(Y[14]=ye=>Z.value=ye),class:"query","root-style":{color:"blue"},style:{color:"red"},placement:"bottom",height:"100vh"},{default:Yi(()=>{var ye;return[H.value?(ti(),$i("div",zGe,[Y[31]||(Y[31]=An("span",null,"Node Details: ",-1)),An("span",null,cn((ye=H.value)==null?void 0:ye.name),1)])):Fi("",!0),H.value?(ti(),$i("div",HGe,[Y[33]||(Y[33]=An("div",{class:"subtitle"},"Node Information",-1)),I(ce,{style:{width:"100%"}},{default:Yi(()=>[An("div",GGe,"ID: "+cn(H.value.uuid),1),An("div",VGe,"Title: "+cn(H.value.name),1),H.value.covariate_type?(ti(),$i("div",WGe," Covariate Type: "+cn(H.value.covariate_type),1)):Fi("",!0),An("div",jGe,[Y[32]||(Y[32]=Ji(" Type: ")),I(G,{color:"blue"},{default:Yi(()=>[Ji(cn(H.value.type),1)]),_:1})]),H.value.title?(ti(),$i("div",KGe," Community Report Title: "+cn(H.value.title),1)):Fi("",!0),H.value.summary?(ti(),$i("div",XGe," Summary: "+cn(H.value.summary),1)):Fi("",!0),H.value.n_tokens?(ti(),$i("div",qGe," Number of Tokens: "+cn(H.value.n_tokens),1)):Fi("",!0),H.value.description?(ti(),$i("div",YGe," Description: "+cn(H.value.description),1)):Fi("",!0),H.value.human_readable_id?(ti(),$i("div",QGe," Human Readable ID: "+cn(H.value.human_readable_id),1)):Fi("",!0),H.value.raw_content?(ti(),$i("div",ZGe," Raw Content: "+cn(H.value.raw_content),1)):Fi("",!0)]),_:1})])):Fi("",!0),k.value?(ti(),$i("div",JGe,cn("(:")+" "+cn(se(k.value.source))+" "+cn("{name: ")+" "+cn("'")+" "+cn(J(k.value.source))+" "+cn("'")+" "+cn("}")+" "+cn(")")+" "+cn("-[:")+" "+cn(k.value.type)+" "+cn("]->")+" "+cn("(:")+" "+cn(se(k.value.target))+" "+cn("{name: ")+" "+cn("'")+" "+cn(J(k.value.target))+" "+cn("'")+" "+cn("}")+" "+cn(")"),1)):Fi("",!0),k.value?(ti(),$i("div",eVe,[Y[35]||(Y[35]=An("div",{class:"subtitle"},"Relationship Information",-1)),I(ce,{style:{width:"100%"}},{default:Yi(()=>{var De,Ge;return[An("div",tVe,"ID: "+cn(k.value.id),1),An("div",nVe,"Source: "+cn((De=k.value.source)==null?void 0:De.name),1),An("div",iVe,"Target: "+cn((Ge=k.value.target)==null?void 0:Ge.name),1),An("div",rVe,[Y[34]||(Y[34]=Ji(" Type: ")),I(G,{color:"blue"},{default:Yi(()=>[Ji(cn(k.value.type),1)]),_:1})]),k.value.description?(ti(),$i("div",oVe," Description: "+cn(k.value.description),1)):Fi("",!0),k.value.human_readable_id?(ti(),$i("div",sVe," Human Readable ID: "+cn(k.value.human_readable_id),1)):Fi("",!0),k.value.weight?(ti(),$i("div",aVe," Weight: "+cn(k.value.weight),1)):Fi("",!0),k.value.source_degree?(ti(),$i("div",lVe," Source Degree: "+cn(k.value.source_degree),1)):Fi("",!0),k.value.target_degree?(ti(),$i("div",uVe," Target Degree: "+cn(k.value.target_degree),1)):Fi("",!0),k.value.rank?(ti(),$i("div",cVe," Rank: "+cn(k.value.rank),1)):Fi("",!0)]}),_:1})])):Fi("",!0),An("div",dVe,[Y[36]||(Y[36]=An("div",{class:"subtitle"},"Linked Nodes",-1)),I(le,{dataSource:z.value,columns:Hr(rU)},null,8,["dataSource","columns"])]),H.value?(ti(),$i("div",fVe,[Y[37]||(Y[37]=An("div",{class:"subtitle"},"Linked Relationships",-1)),I(le,{dataSource:Q.value,columns:Hr(j1e)},null,8,["dataSource","columns"])])):Fi("",!0)]}),_:1},8,["open"]),r.value?(ti(),rp(Ee,{key:2,indicator:Hr(e)},null,8,["indicator"])):Fi("",!0)],512)}}}),pVe=Mw(hVe,[["__scopeId","data-v-b168657f"]]),gVe=We({__name:"App",setup(n){return(e,i)=>(ti(),$i("main",null,[I(pVe)]))}}),mVe=Mw(gVe,[["__scopeId","data-v-fb8b3158"]]),vVe=qwe(),cK=Bne(mVe);cK.use(vVe);cK.mount("#app")});export default yVe();
